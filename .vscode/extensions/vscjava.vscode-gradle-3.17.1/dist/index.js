/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={2661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAdminServicesToServer=t.registerAdminService=void 0;const r=[];t.registerAdminService=function(e,t){r.push({getServiceDefinition:e,getHandlers:t})},t.addAdminServicesToServer=function(e){for(const{getServiceDefinition:t,getHandlers:n}of r)e.addService(t(),n())}},3956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0,t.BackoffTimeout=class{constructor(e,t){this.callback=e,this.initialDelay=1e3,this.multiplier=1.6,this.maxDelay=12e4,this.jitter=.2,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout((()=>{}),0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.callback(),this.running=!1}),e),this.hasRef||null===(r=(t=this.timerId).unref)||void 0===r||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);const e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;var r,n;this.nextDelay=e+(r=-t,n=t,Math.random()*(n-r)+r)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){const e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}getEndTime(){return this.endTime}}},2267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;const n=r(4097);class i{static createFromMetadataGenerator(e){return new s(e)}static createFromGoogleCredential(e){return i.createFromMetadataGenerator(((t,r)=>{let i;var o;i="getRequestHeaders"in(o=e)&&"function"==typeof o.getRequestHeaders?e.getRequestHeaders(t.service_url):new Promise(((r,n)=>{e.getRequestMetadata(t.service_url,((e,t)=>{e?n(e):t?r(t):n(new Error("Headers not set by metadata plugin"))}))})),i.then((e=>{const t=new n.Metadata;for(const r of Object.keys(e))t.add(r,e[r]);r(null,t)}),(e=>{r(e)}))}))}static createEmpty(){return new a}}t.CallCredentials=i;class o extends i{constructor(e){super(),this.creds=e}async generateMetadata(e){const t=new n.Metadata,r=await Promise.all(this.creds.map((t=>t.generateMetadata(e))));for(const e of r)t.merge(e);return t}compose(e){return new o(this.creds.concat([e]))}_equals(e){return this===e||e instanceof o&&this.creds.every(((t,r)=>t._equals(e.creds[r])))}}class s extends i{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise(((t,r)=>{this.metadataGenerator(e,((e,n)=>{void 0!==n?t(n):r(e)}))}))}compose(e){return new o([this,e])}_equals(e){return this===e||e instanceof s&&this.metadataGenerator===e.metadataGenerator}}class a extends i{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof a}}},2653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingListenerImpl=t.isInterceptingListener=void 0,t.isInterceptingListener=function(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length},t.InterceptingListenerImpl=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,(e=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingStatus()}))}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,(e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingStatus())}))}onReceiveStatus(e){this.listener.onReceiveStatus(e,(e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)}))}}},5572:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCallNumber=void 0;let r=0;t.getNextCallNumber=function(){return r++}},1544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;const n=r(4434),i=r(2203),o=r(131);t.callErrorFromStatus=function(e,t){const r=`${e.code} ${o.Status[e.code]}: ${e.details}`,n=`${new Error(r).stack}\nfor call at\n${t}`;return Object.assign(new Error(r),e,{stack:n})};class s extends n.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=s;class a extends i.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=a;class l extends i.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var n;const i={callback:r},o=Number(t);Number.isNaN(o)||(i.flags=o),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=l;class c extends i.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var n;const i={callback:r},o=Number(t);Number.isNaN(o)||(i.flags=o),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=c},7434:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;const n=r(4756),i=r(2267),o=r(9167);function s(e,t){if(e&&!(e instanceof Buffer))throw new TypeError(`${t}, if provided, must be a Buffer.`)}class a{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var a;if(s(e,"Root certificate"),s(t,"Private key"),s(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");const l=(0,n.createSecureContext)({ca:null!==(a=null!=e?e:(0,o.getDefaultRootsData)())&&void 0!==a?a:void 0,key:null!=t?t:void 0,cert:null!=r?r:void 0,ciphers:o.CIPHER_SUITES});return new c(l,null!=i?i:{})}static createFromSecureContext(e,t){return new c(e,null!=t?t:{})}static createInsecure(){return new l}}t.ChannelCredentials=a;class l extends a{constructor(){super()}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof l}}class c extends a{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},(null==t?void 0:t.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){const t=this.callCredentials.compose(e);return new u(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof c&&this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class u extends a{constructor(e,t){super(t),this.channelCredentials=e}compose(e){const t=this.callCredentials.compose(e);return new u(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof u&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},6998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0},t.channelOptionsEqual=function(e,t){const r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i+=1){if(r[i]!==n[i])return!1;if(e[r[i]]!==t[n[i]])return!1}return!0}},3653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=void 0;const n=r(7434),i=r(8899);t.ChannelImplementation=class{constructor(e,t,r){if("string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw new TypeError("Channel options must be an object");this.internalChannel=new i.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,n,i){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,n,i)}}},9503:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.getChannelzServiceDefinition=t.getChannelzHandlers=t.unregisterChannelzRef=t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTrackerStub=t.ChannelzCallTracker=t.ChannelzChildrenTrackerStub=t.ChannelzChildrenTracker=t.ChannelzTrace=t.ChannelzTraceStub=void 0;const n=r(9278),i=r(6787),o=r(463),s=r(131),a=r(8996),l=r(2661),c=r(4056);function u(e){return{channel_id:e.id,name:e.name}}function d(e){return{subchannel_id:e.id,name:e.name}}function h(e){return{socket_id:e.id,name:e.name}}const p=100;t.ChannelzTraceStub=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:T(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}},t.ChannelzTrace=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){const n=new Date;this.events.push({description:t,severity:e,timestamp:n,childChannel:"channel"===(null==r?void 0:r.kind)?r:void 0,childSubchannel:"subchannel"===(null==r?void 0:r.kind)?r:void 0}),this.events.length>=64&&(this.events=this.events.slice(32)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:T(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map((e=>({description:e.description,severity:e.severity,timestamp:T(e.timestamp),channel_ref:e.childChannel?u(e.childChannel):null,subchannel_ref:e.childSubchannel?d(e.childSubchannel):null})))}}};class f{constructor(){this.channelChildren=new i.OrderedMap,this.subchannelChildren=new i.OrderedMap,this.socketChildren=new i.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(e){const t=this.trackerMap[e.kind],r=t.find(e.id);r.equals(t.end())?t.setElement(e.id,{ref:e,count:1},r):r.pointer[1].count+=1}unrefChild(e){const t=this.trackerMap[e.kind],r=t.getElementByKey(e.id);void 0!==r&&(r.count-=1,0===r.count&&t.eraseElementByKey(e.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}t.ChannelzChildrenTracker=f,t.ChannelzChildrenTrackerStub=class extends f{refChild(){}unrefChild(){}};class g{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=g,t.ChannelzCallTrackerStub=class extends g{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};const m={channel:new i.OrderedMap,subchannel:new i.OrderedMap,server:new i.OrderedMap,socket:new i.OrderedMap},v=e=>{let t=1;const r=m[e];return(n,i,o)=>{const s=t++,a={id:s,name:n,kind:e};return o&&r.setElement(s,{ref:a,getInfo:i}),a}};function y(e){if(""===e)return[];const t=e.split(":").map((e=>function(e){const t=Number.parseInt(e,16);return[t/256|0,t%256]}(e)));return[].concat(...t)}function C(e){if((0,n.isIPv4)(e))return Buffer.from(Uint8Array.from(e.split(".").map((e=>Number.parseInt(e)))));if((0,n.isIPv6)(e)){let t,r;const n=e.indexOf("::");-1===n?(t=e,r=""):(t=e.substring(0,n),r=e.substring(n+2));const i=Buffer.from(y(t)),o=Buffer.from(y(r)),s=Buffer.alloc(16-i.length-o.length,0);return Buffer.concat([i,s,o])}return null}function S(e){switch(e){case o.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case o.ConnectivityState.IDLE:return{state:"IDLE"};case o.ConnectivityState.READY:return{state:"READY"};case o.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case o.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function T(e){if(!e)return null;const t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function b(e){const t=e.getInfo(),r=[],n=[];return t.children.channels.forEach((e=>{r.push(u(e[1].ref))})),t.children.subchannels.forEach((e=>{n.push(d(e[1].ref))})),{ref:u(e.ref),data:{target:t.target,state:S(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:T(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:r,subchannel_ref:n}}function _(e,t){const r=parseInt(e.request.channel_id,10),n=m.channel.getElementByKey(r);void 0!==n?t(null,{channel:b(n)}):t({code:s.Status.NOT_FOUND,details:"No channel data found for id "+r})}function w(e,t){const r=parseInt(e.request.max_results,10)||p,n=[],i=parseInt(e.request.start_channel_id,10),o=m.channel;let s;for(s=o.lowerBound(i);!s.equals(o.end())&&n.length<r;s=s.next())n.push(b(s.pointer[1]));t(null,{channel:n,end:s.equals(o.end())})}function R(e){const t=e.getInfo(),r=[];return t.listenerChildren.sockets.forEach((e=>{r.push(h(e[1].ref))})),{ref:(n=e.ref,{server_id:n.id}),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:T(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:r};var n}function E(e,t){const r=parseInt(e.request.server_id,10),n=m.server.getElementByKey(r);void 0!==n?t(null,{server:R(n)}):t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r})}function P(e,t){const r=parseInt(e.request.max_results,10)||p,n=parseInt(e.request.start_server_id,10),i=m.server,o=[];let s;for(s=i.lowerBound(n);!s.equals(i.end())&&o.length<r;s=s.next())o.push(R(s.pointer[1]));t(null,{server:o,end:s.equals(i.end())})}function k(e,t){const r=parseInt(e.request.subchannel_id,10),n=m.subchannel.getElementByKey(r);if(void 0===n)return void t({code:s.Status.NOT_FOUND,details:"No subchannel data found for id "+r});const i=n.getInfo(),o=[];i.children.sockets.forEach((e=>{o.push(h(e[1].ref))})),t(null,{subchannel:{ref:d(n.ref),data:{target:i.target,state:S(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:T(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:o}})}function D(e){var t;return(0,a.isTcpSubchannelAddress)(e)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(t=C(e.host))&&void 0!==t?t:void 0,port:e.port}}:{address:"uds_address",uds_address:{filename:e.path}}}function O(e,t){var r,n,i,o,a;const l=parseInt(e.request.socket_id,10),c=m.socket.getElementByKey(l);if(void 0===c)return void t({code:s.Status.NOT_FOUND,details:"No socket data found for id "+l});const u=c.getInfo(),d=u.security?{model:"tls",tls:{cipher_suite:u.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(r=u.security.cipherSuiteStandardName)&&void 0!==r?r:void 0,other_name:null!==(n=u.security.cipherSuiteOtherName)&&void 0!==n?n:void 0,local_certificate:null!==(i=u.security.localCertificate)&&void 0!==i?i:void 0,remote_certificate:null!==(o=u.security.remoteCertificate)&&void 0!==o?o:void 0}}:null;t(null,{socket:{ref:h(c.ref),local:u.localAddress?D(u.localAddress):null,remote:u.remoteAddress?D(u.remoteAddress):null,remote_name:null!==(a=u.remoteName)&&void 0!==a?a:void 0,security:d,data:{keep_alives_sent:u.keepAlivesSent,streams_started:u.streamsStarted,streams_succeeded:u.streamsSucceeded,streams_failed:u.streamsFailed,last_local_stream_created_timestamp:T(u.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:T(u.lastRemoteStreamCreatedTimestamp),messages_received:u.messagesReceived,messages_sent:u.messagesSent,last_message_received_timestamp:T(u.lastMessageReceivedTimestamp),last_message_sent_timestamp:T(u.lastMessageSentTimestamp),local_flow_control_window:u.localFlowControlWindow?{value:u.localFlowControlWindow}:null,remote_flow_control_window:u.remoteFlowControlWindow?{value:u.remoteFlowControlWindow}:null}}})}function I(e,t){const r=parseInt(e.request.server_id,10),n=m.server.getElementByKey(r);if(void 0===n)return void t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r});const i=parseInt(e.request.start_socket_id,10),o=parseInt(e.request.max_results,10)||p,a=n.getInfo().sessionChildren.sockets,l=[];let c;for(c=a.lowerBound(i);!c.equals(a.end())&&l.length<o;c=c.next())l.push(h(c.pointer[1].ref));t(null,{socket_ref:l,end:c.equals(a.end())})}function M(){return{GetChannel:_,GetTopChannels:w,GetServer:E,GetServers:P,GetSubchannel:k,GetSocket:O,GetServerSockets:I}}t.registerChannelzChannel=v("channel"),t.registerChannelzSubchannel=v("subchannel"),t.registerChannelzServer=v("server"),t.registerChannelzSocket=v("socket"),t.unregisterChannelzRef=function(e){m[e.kind].eraseElementByKey(e.id)},t.getChannelzHandlers=M;let A=null;function x(){if(A)return A;const e=(0,r(4237).loadSync)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]}),t=(0,c.loadPackageDefinition)(e);return A=t.grpc.channelz.v1.Channelz.service,A}t.getChannelzServiceDefinition=x,t.setup=function(){(0,l.registerAdminService)(x,M)}},3952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;const n=r(4097),i=r(2653),o=r(131),s=r(9752);class a extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,a)}}t.InterceptorConfigurationError=a,t.ListenerBuilder=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}},t.RequesterBuilder=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};const l={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},c={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};t.InterceptingCall=class{constructor(e,t){var r,n,i,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,this.requester=t?{start:null!==(r=t.start)&&void 0!==r?r:c.start,sendMessage:null!==(n=t.sendMessage)&&void 0!==n?n:c.sendMessage,halfClose:null!==(i=t.halfClose)&&void 0!==i?i:c.halfClose,cancel:null!==(o=t.cancel)&&void 0!==o?o:c.cancel}:c}cancelWithStatus(e,t){this.requester.cancel((()=>{this.nextCall.cancelWithStatus(e,t)}))}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,n,o,s,a,c;const u={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(s=null===(o=null==t?void 0:t.onReceiveMessage)||void 0===o?void 0:o.bind(t))&&void 0!==s?s:e=>{},onReceiveStatus:null!==(c=null===(a=null==t?void 0:t.onReceiveStatus)||void 0===a?void 0:a.bind(t))&&void 0!==c?c:e=>{}};this.processingMetadata=!0,this.requester.start(e,u,((e,t)=>{var r,n,o;let s;if(this.processingMetadata=!1,(0,i.isInterceptingListener)(t))s=t;else{const e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:l.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:l.onReceiveMessage,onReceiveStatus:null!==(o=t.onReceiveStatus)&&void 0!==o?o:l.onReceiveStatus};s=new i.InterceptingListenerImpl(e,u)}this.nextCall.start(e,s),this.processPendingMessage(),this.processPendingHalfClose()}))}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,(r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())}))}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose((()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()}))}};class u{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){return void this.call.cancelWithStatus(o.Status.INTERNAL,`Request message serialization failure: ${(0,s.getErrorMessage)(e)}`)}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var i;let a;try{a=this.methodDefinition.responseDeserialize(e)}catch(e){return r={code:o.Status.INTERNAL,details:`Response message parsing error: ${(0,s.getErrorMessage)(e)}`,metadata:new n.Metadata},void this.call.cancelWithStatus(r.code,r.details)}null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i||i.call(t,a)},onReceiveStatus:e=>{var n,i;r?null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,r):null===(i=null==t?void 0:t.onReceiveStatus)||void 0===i||i.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class d extends u{constructor(e,t){super(e,t)}start(e,t){var r,n;let i=!1;const o={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:e=>{var r;i=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,n;i||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}};super.start(e,o),this.call.startRead()}}class h extends u{}t.getInterceptingCall=function(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];i=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map((e=>e(t)))).filter((e=>e)):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map((e=>e(t)))).filter((e=>e));const o=Object.assign({},r,{method_definition:t});return i.reduceRight(((e,t)=>r=>t(r,e)),(e=>function(e,t,r){const n=function(e,t,r){var n,i;const o=null!==(n=r.deadline)&&void 0!==n?n:1/0,s=r.host,a=null!==(i=r.parent)&&void 0!==i?i:null,l=r.propagate_flags,c=r.credentials,u=e.createCall(t,o,s,a,l);return c&&u.setCredentials(c),u}(e,r.path,t);return r.responseStream?new h(n,r):new d(n,r)}(n,e,t)))(o)}},5563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const n=r(1544),i=r(3653),o=r(463),s=r(131),a=r(4097),l=r(3952),c=Symbol(),u=Symbol(),d=Symbol(),h=Symbol();function p(e){return"function"==typeof e}function f(e){var t;return(null===(t=e.stack)||void 0===t?void 0:t.split("\n").slice(1).join("\n"))||"no stack trace available"}t.Client=class{constructor(e,t,r={}){var n,o;if(r=Object.assign({},r),this[u]=null!==(n=r.interceptors)&&void 0!==n?n:[],delete r.interceptors,this[d]=null!==(o=r.interceptor_providers)&&void 0!==o?o:[],delete r.interceptor_providers,this[u].length>0&&this[d].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[h]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[c]=r.channelOverride;else if(r.channelFactoryOverride){const n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[c]=n(e,t,r)}else this[c]=new i.ChannelImplementation(e,t,r)}close(){this[c].close()}getChannel(){return this[c]}waitForReady(e,t){const r=n=>{if(n)return void t(new Error("Failed to connect before the deadline"));let i;try{i=this[c].getConnectivityState(!0)}catch(e){return void t(new Error("The channel has been closed"))}if(i===o.ConnectivityState.READY)t();else try{this[c].watchConnectivityState(i,e,r)}catch(e){t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(p(e))return{metadata:new a.Metadata,options:{},callback:e};if(p(t))return e instanceof a.Metadata?{metadata:e,options:{},callback:t}:{metadata:new a.Metadata,options:e,callback:t};if(!(e instanceof a.Metadata&&t instanceof Object&&p(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,o,a,p){var g,m;const v=this.checkOptionalUnaryResponseArguments(o,a,p),y={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r};let C={argument:i,metadata:v.metadata,call:new n.ClientUnaryCallImpl,channel:this[c],methodDefinition:y,callOptions:v.options,callback:v.callback};this[h]&&(C=this[h](C));const S=C.call,T={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!==(g=C.callOptions.interceptors)&&void 0!==g?g:[],callInterceptorProviders:null!==(m=C.callOptions.interceptor_providers)&&void 0!==m?m:[]},b=(0,l.getInterceptingCall)(T,C.methodDefinition,C.callOptions,C.channel);S.call=b;let _=null,w=!1,R=new Error;return b.start(C.metadata,{onReceiveMetadata:e=>{S.emit("metadata",e)},onReceiveMessage(e){null!==_&&b.cancelWithStatus(s.Status.UNIMPLEMENTED,"Too many responses received"),_=e},onReceiveStatus(e){if(!w){if(w=!0,e.code===s.Status.OK)if(null===_){const t=f(R);C.callback((0,n.callErrorFromStatus)({code:s.Status.UNIMPLEMENTED,details:"No message received",metadata:e.metadata},t))}else C.callback(null,_);else{const t=f(R);C.callback((0,n.callErrorFromStatus)(e,t))}R=null,S.emit("status",e)}}}),b.sendMessage(i),b.halfClose(),S}makeClientStreamRequest(e,t,r,i,o,a){var p,g;const m=this.checkOptionalUnaryResponseArguments(i,o,a),v={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r};let y={metadata:m.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[c],methodDefinition:v,callOptions:m.options,callback:m.callback};this[h]&&(y=this[h](y));const C=y.call,S={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!==(p=y.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(g=y.callOptions.interceptor_providers)&&void 0!==g?g:[]},T=(0,l.getInterceptingCall)(S,y.methodDefinition,y.callOptions,y.channel);C.call=T;let b=null,_=!1,w=new Error;return T.start(y.metadata,{onReceiveMetadata:e=>{C.emit("metadata",e)},onReceiveMessage(e){null!==b&&T.cancelWithStatus(s.Status.UNIMPLEMENTED,"Too many responses received"),b=e,T.startRead()},onReceiveStatus(e){if(!_){if(_=!0,e.code===s.Status.OK)if(null===b){const t=f(w);y.callback((0,n.callErrorFromStatus)({code:s.Status.UNIMPLEMENTED,details:"No message received",metadata:e.metadata},t))}else y.callback(null,b);else{const t=f(w);y.callback((0,n.callErrorFromStatus)(e,t))}w=null,C.emit("status",e)}}}),C}checkMetadataAndOptions(e,t){let r,n;return e instanceof a.Metadata?(r=e,n=t||{}):(n=e||{},r=new a.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,i,o,a){var p,g;const m=this.checkMetadataAndOptions(o,a),v={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r};let y={argument:i,metadata:m.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[c],methodDefinition:v,callOptions:m.options};this[h]&&(y=this[h](y));const C=y.call,S={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!==(p=y.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(g=y.callOptions.interceptor_providers)&&void 0!==g?g:[]},T=(0,l.getInterceptingCall)(S,y.methodDefinition,y.callOptions,y.channel);C.call=T;let b=!1,_=new Error;return T.start(y.metadata,{onReceiveMetadata(e){C.emit("metadata",e)},onReceiveMessage(e){C.push(e)},onReceiveStatus(e){if(!b){if(b=!0,C.push(null),e.code!==s.Status.OK){const t=f(_);C.emit("error",(0,n.callErrorFromStatus)(e,t))}_=null,C.emit("status",e)}}}),T.sendMessage(i),T.halfClose(),C}makeBidiStreamRequest(e,t,r,i,o){var a,p;const g=this.checkMetadataAndOptions(i,o),m={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r};let v={metadata:g.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[c],methodDefinition:m,callOptions:g.options};this[h]&&(v=this[h](v));const y=v.call,C={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!==(a=v.callOptions.interceptors)&&void 0!==a?a:[],callInterceptorProviders:null!==(p=v.callOptions.interceptor_providers)&&void 0!==p?p:[]},S=(0,l.getInterceptingCall)(C,v.methodDefinition,v.callOptions,v.channel);y.call=S;let T=!1,b=new Error;return S.start(v.metadata,{onReceiveMetadata(e){y.emit("metadata",e)},onReceiveMessage(e){y.push(e)},onReceiveStatus(e){if(!T){if(T=!0,y.push(null),e.code!==s.Status.OK){const t=f(b);y.emit("error",(0,n.callErrorFromStatus)(e,t))}b=null,y.emit("status",e)}}}),y}}},5179:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionAlgorithms=void 0,function(e){e[e.identity=0]="identity",e[e.deflate=1]="deflate",e[e.gzip=2]="gzip"}(r||(t.CompressionAlgorithms=r={}))},4987:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;const n=r(3106),i=r(5179),o=r(131),s=r(2558),a=r(267);class l{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));const n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(t?1:0,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){const t=1===e.readUInt8(0);let r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class c extends l{async compressMessage(e){return e}async writeMessage(e,t){const r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class u extends l{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise(((t,r)=>{n.deflate(e,((e,n)=>{e?r(e):t(n)}))}))}decompressMessage(e){return new Promise(((t,r)=>{let i=0;const s=[],a=n.createInflate();a.on("data",(e=>{s.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))})),a.on("end",(()=>{t(Buffer.concat(s))})),a.write(e),a.end()}))}}class d extends l{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise(((t,r)=>{n.gzip(e,((e,n)=>{e?r(e):t(n)}))}))}decompressMessage(e){return new Promise(((t,r)=>{let i=0;const s=[],a=n.createGunzip();a.on("data",(e=>{s.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))})),a.on("end",(()=>{t(Buffer.concat(s))})),a.write(e),a.end()}))}}class h extends l{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}function p(e,t){switch(e){case"identity":return new c;case"deflate":return new u(t);case"gzip":return new d(t);default:return new h(e)}}class f extends s.BaseFilter{constructor(e,t){var r,n,s;super(),this.sharedFilterConfig=t,this.sendCompression=new c,this.receiveCompression=new c,this.currentCompressionAlgorithm="identity";const l=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!==(r=e["grpc.max_receive_message_length"])&&void 0!==r?r:o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=null!==(n=e["grpc.max_send_message_length"])&&void 0!==n?n:o.DEFAULT_MAX_SEND_MESSAGE_LENGTH,void 0!==l)if("number"==typeof(u=l)&&"string"==typeof i.CompressionAlgorithms[u]){const e=i.CompressionAlgorithms[l],r=null===(s=t.serverSupportedEncodingHeader)||void 0===s?void 0:s.split(",");r&&!r.includes(e)||(this.currentCompressionAlgorithm=e,this.sendCompression=p(this.currentCompressionAlgorithm,-1))}else a.log(o.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${l}`);var u}async sendMetadata(e){const t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){const t=e.get("grpc-encoding");if(t.length>0){const e=t[0];"string"==typeof e&&(this.receiveCompression=p(e,this.maxReceiveMessageLength))}e.remove("grpc-encoding");const r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new c,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;const r=await e;if(-1!==this.maxSendMessageLength&&r.message.length>this.maxSendMessageLength)throw{code:o.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let n;return n=!(this.sendCompression instanceof c||2&(null!==(t=r.flags)&&void 0!==t?t:0)),{message:await this.sendCompression.writeMessage(r.message,n),flags:r.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=f,t.CompressionFilterFactory=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new f(this.options,this.sharedFilterConfig)}}},463:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityState=void 0,function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(r||(t.ConnectivityState=r={}))},131:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(r||(t.Status=r={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"}(n||(t.LogVerbosity=n={})),function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"}(i||(t.Propagate=i={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},6067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restrictControlPlaneStatusCode=void 0;const n=r(131),i=[n.Status.OK,n.Status.INVALID_ARGUMENT,n.Status.NOT_FOUND,n.Status.ALREADY_EXISTS,n.Status.FAILED_PRECONDITION,n.Status.ABORTED,n.Status.OUT_OF_RANGE,n.Status.DATA_LOSS];t.restrictControlPlaneStatusCode=function(e,t){return i.includes(e)?{code:n.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${n.Status[e]} ${t}`}:{code:e,details:t}}},6308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDateDifference=t.deadlineToString=t.getRelativeTimeout=t.getDeadlineTimeoutString=t.minDeadline=void 0,t.minDeadline=function(...e){let t=1/0;for(const r of e){const e=r instanceof Date?r.getTime():r;e<t&&(t=e)}return t};const r=[["m",1],["S",1e3],["M",6e4],["H",36e5]];t.getDeadlineTimeoutString=function(e){const t=(new Date).getTime();e instanceof Date&&(e=e.getTime());const n=Math.max(e-t,0);for(const[e,t]of r){const r=n/t;if(r<1e8)return String(Math.ceil(r))+e}throw new Error("Deadline is too far in the future")},t.getRelativeTimeout=function(e){const t=(e instanceof Date?e.getTime():e)-(new Date).getTime();return t<0?0:t>2147483647?1/0:t},t.deadlineToString=function(e){if(e instanceof Date)return e.toISOString();{const t=new Date(e);return Number.isNaN(t.getTime())?""+e:t.toISOString()}},t.formatDateDifference=function(e,t){return((t.getTime()-e.getTime())/1e3).toFixed(3)+"s"}},4700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=t.durationToMs=t.msToDuration=void 0,t.msToDuration=function(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}},t.durationToMs=function(e){return 1e3*e.seconds+e.nanos/1e6|0},t.isDuration=function(e){return"number"==typeof e.seconds&&"number"==typeof e.nanos}},883:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0,t.GRPC_NODE_USE_ALTERNATIVE_RESOLVER="true"===(null!==(r=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)&&void 0!==r?r:"false")},9752:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.getErrorMessage=void 0,t.getErrorMessage=function(e){return e instanceof Error?e.message:String(e)},t.getErrorCode=function(e){return"object"==typeof e&&null!==e&&"code"in e&&"number"==typeof e.code?e.code:null}},342:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createServerCredentialsWithInterceptors=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.EndpointMap=t.endpointHasAddress=t.endpointToString=t.subchannelAddressToString=t.LeafLoadBalancer=t.isLoadBalancerNameRegistered=t.parseLoadBalancingConfig=t.selectLbConfigFromList=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.splitHostPort=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var n=r(267);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return n.log}});var i=r(9302);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return i.registerResolver}}),Object.defineProperty(t,"createResolver",{enumerable:!0,get:function(){return i.createResolver}});var o=r(3822);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return o.uriToString}}),Object.defineProperty(t,"splitHostPort",{enumerable:!0,get:function(){return o.splitHostPort}});var s=r(4700);Object.defineProperty(t,"durationToMs",{enumerable:!0,get:function(){return s.durationToMs}});var a=r(3956);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return a.BackoffTimeout}});var l=r(8923);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:!0,get:function(){return l.createChildChannelControlHelper}}),Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return l.registerLoadBalancerType}}),Object.defineProperty(t,"selectLbConfigFromList",{enumerable:!0,get:function(){return l.selectLbConfigFromList}}),Object.defineProperty(t,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return l.parseLoadBalancingConfig}}),Object.defineProperty(t,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return l.isLoadBalancerNameRegistered}});var c=r(6486);Object.defineProperty(t,"LeafLoadBalancer",{enumerable:!0,get:function(){return c.LeafLoadBalancer}});var u=r(8996);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return u.subchannelAddressToString}}),Object.defineProperty(t,"endpointToString",{enumerable:!0,get:function(){return u.endpointToString}}),Object.defineProperty(t,"endpointHasAddress",{enumerable:!0,get:function(){return u.endpointHasAddress}}),Object.defineProperty(t,"EndpointMap",{enumerable:!0,get:function(){return u.EndpointMap}});var d=r(533);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return d.ChildLoadBalancerHandler}});var h=r(178);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return h.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return h.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return h.PickResultType}});var p=r(2558);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return p.BaseFilter}});var f=r(1703);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return f.FilterStackFactory}});var g=r(2661);Object.defineProperty(t,"registerAdminService",{enumerable:!0,get:function(){return g.registerAdminService}});var m=r(2379);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return m.BaseSubchannelWrapper}});var v=r(8692);Object.defineProperty(t,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return v.createServerCredentialsWithInterceptors}})},1703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=r;class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new r(this.factories.map((e=>e.createFilter())))}}t.FilterStackFactory=n},2558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0,t.BaseFilter=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}},7803:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;const n=r(267),i=r(131),o=r(9302),s=r(8611),a=r(4756),l=r(267),c=r(8996),u=r(3822),d=r(7016),h=r(6700);function p(e){l.trace(i.LogVerbosity.DEBUG,"proxy",e)}t.mapProxyName=function(e,t){var r;const o={target:e,extraOptions:{}};if(0===(null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1))return o;if("unix"===e.scheme)return o;const s=function(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new d.URL(t)}catch(e){return(0,n.log)(i.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return(0,n.log)(i.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let o=null;e.username&&(e.password?((0,n.log)(i.LogVerbosity.INFO,"userinfo found in proxy URI"),o=decodeURIComponent(`${e.username}:${e.password}`)):o=e.username);const s=e.hostname;let a=e.port;""===a&&(a="80");const l={address:`${s}:${a}`};return o&&(l.creds=o),p("Proxy server "+l.address+" set by environment variable "+r),l}();if(!s.address)return o;const a=(0,u.splitHostPort)(e.path);if(!a)return o;const l=a.host;for(const t of function(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return e||(e=process.env.no_proxy,t="no_proxy"),e?(p("No proxy server list set by environment variable "+t),e.split(",")):[]}())if(t===l)return p("Not using proxy for target in no_proxy list: "+(0,u.uriToString)(e)),o;const c={"grpc.http_connect_target":(0,u.uriToString)(e)};return s.creds&&(c["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:c}},t.getProxiedConnection=function(e,t,r){var l;if(!("grpc.http_connect_target"in t))return Promise.resolve({});const d=t["grpc.http_connect_target"],f=(0,u.parseUri)(d);if(null===f)return Promise.resolve({});const g=(0,u.splitHostPort)(f.path);if(null===g)return Promise.resolve({});const m=`${g.host}:${null!==(l=g.port)&&void 0!==l?l:h.DEFAULT_PORT}`,v={method:"CONNECT",path:m},y={Host:m};(0,c.isTcpSubchannelAddress)(e)?(v.host=e.host,v.port=e.port):v.socketPath=e.path,"grpc.http_connect_creds"in t&&(y["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")),v.headers=y;const C=(0,c.subchannelAddressToString)(e);return p("Using proxy "+C+" to connect to "+v.path),new Promise(((e,t)=>{const l=s.request(v);l.once("connect",((s,c,d)=>{var h;if(l.removeAllListeners(),c.removeAllListeners(),200===s.statusCode)if(p("Successfully connected to "+v.path+" through proxy "+C),d.length>0&&c.unshift(d),"secureContext"in r){const n=(0,o.getDefaultAuthority)(f),i=(0,u.splitHostPort)(n),s=null!==(h=null==i?void 0:i.host)&&void 0!==h?h:n,l=a.connect(Object.assign({host:s,servername:s,socket:c},r),(()=>{p("Successfully established a TLS connection to "+v.path+" through proxy "+C),e({socket:l,realTarget:f})}));l.on("error",(e=>{p("Failed to establish a TLS connection to "+v.path+" through proxy "+C+" with error "+e.message),t()}))}else p("Successfully established a plaintext connection to "+v.path+" through proxy "+C),e({socket:c,realTarget:f});else(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to "+v.path+" through proxy "+C+" with status "+s.statusCode),t()})),l.once("error",(e=>{l.removeAllListeners(),(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to proxy "+C+" with error "+e.message),t()})),l.end()}))}},674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimental=t.ServerInterceptingCall=t.ResponderBuilder=t.ServerListenerBuilder=t.addAdminServicesToServer=t.getChannelzHandlers=t.getChannelzServiceDefinition=t.InterceptorConfigurationError=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.StatusBuilder=t.getClientChannel=t.ServerCredentials=t.Server=t.setLogVerbosity=t.setLogger=t.load=t.loadObject=t.CallCredentials=t.ChannelCredentials=t.waitForClientReady=t.closeClient=t.Channel=t.makeGenericClientConstructor=t.makeClientConstructor=t.loadPackageDefinition=t.Client=t.compressionAlgorithms=t.propagate=t.connectivityState=t.status=t.logVerbosity=t.Metadata=t.credentials=void 0;const n=r(2267);Object.defineProperty(t,"CallCredentials",{enumerable:!0,get:function(){return n.CallCredentials}});const i=r(3653);Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return i.ChannelImplementation}});const o=r(5179);Object.defineProperty(t,"compressionAlgorithms",{enumerable:!0,get:function(){return o.CompressionAlgorithms}});const s=r(463);Object.defineProperty(t,"connectivityState",{enumerable:!0,get:function(){return s.ConnectivityState}});const a=r(7434);Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return a.ChannelCredentials}});const l=r(5563);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return l.Client}});const c=r(131);Object.defineProperty(t,"logVerbosity",{enumerable:!0,get:function(){return c.LogVerbosity}}),Object.defineProperty(t,"status",{enumerable:!0,get:function(){return c.Status}}),Object.defineProperty(t,"propagate",{enumerable:!0,get:function(){return c.Propagate}});const u=r(267),d=r(4056);Object.defineProperty(t,"loadPackageDefinition",{enumerable:!0,get:function(){return d.loadPackageDefinition}}),Object.defineProperty(t,"makeClientConstructor",{enumerable:!0,get:function(){return d.makeClientConstructor}}),Object.defineProperty(t,"makeGenericClientConstructor",{enumerable:!0,get:function(){return d.makeClientConstructor}});const h=r(4097);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return h.Metadata}});const p=r(5943);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return p.Server}});const f=r(8692);Object.defineProperty(t,"ServerCredentials",{enumerable:!0,get:function(){return f.ServerCredentials}});const g=r(2284);Object.defineProperty(t,"StatusBuilder",{enumerable:!0,get:function(){return g.StatusBuilder}}),t.credentials={combineChannelCredentials:(e,...t)=>t.reduce(((e,t)=>e.compose(t)),e),combineCallCredentials:(e,...t)=>t.reduce(((e,t)=>e.compose(t)),e),createInsecure:a.ChannelCredentials.createInsecure,createSsl:a.ChannelCredentials.createSsl,createFromSecureContext:a.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty},t.closeClient=e=>e.close(),t.waitForClientReady=(e,t,r)=>e.waitForReady(t,r),t.loadObject=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.load=(e,t,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.setLogger=e=>{u.setLogger(e)},t.setLogVerbosity=e=>{u.setLoggerVerbosity(e)},t.getClientChannel=e=>l.Client.prototype.getChannel.call(e);var m=r(3952);Object.defineProperty(t,"ListenerBuilder",{enumerable:!0,get:function(){return m.ListenerBuilder}}),Object.defineProperty(t,"RequesterBuilder",{enumerable:!0,get:function(){return m.RequesterBuilder}}),Object.defineProperty(t,"InterceptingCall",{enumerable:!0,get:function(){return m.InterceptingCall}}),Object.defineProperty(t,"InterceptorConfigurationError",{enumerable:!0,get:function(){return m.InterceptorConfigurationError}});var v=r(9503);Object.defineProperty(t,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return v.getChannelzServiceDefinition}}),Object.defineProperty(t,"getChannelzHandlers",{enumerable:!0,get:function(){return v.getChannelzHandlers}});var y=r(2661);Object.defineProperty(t,"addAdminServicesToServer",{enumerable:!0,get:function(){return y.addAdminServicesToServer}});var C=r(4892);Object.defineProperty(t,"ServerListenerBuilder",{enumerable:!0,get:function(){return C.ServerListenerBuilder}}),Object.defineProperty(t,"ResponderBuilder",{enumerable:!0,get:function(){return C.ResponderBuilder}}),Object.defineProperty(t,"ServerInterceptingCall",{enumerable:!0,get:function(){return C.ServerInterceptingCall}});const S=r(342);t.experimental=S;const T=r(6700),b=r(305),_=r(82),w=r(6486),R=r(1563),E=r(9012),P=r(9503);T.setup(),b.setup(),_.setup(),w.setup(),R.setup(),E.setup(),P.setup()},8899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannel=void 0;const n=r(7434),i=r(4973),o=r(5716),s=r(178),a=r(4097),l=r(131),c=r(1703),u=r(4987),d=r(9302),h=r(267),p=r(7803),f=r(3822),g=r(463),m=r(9503),v=r(2611),y=r(6308),C=r(8446),S=r(5572),T=r(6067),b=r(3135),_=r(2379),w=new Map;class R extends _.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(e,r,n,i)=>{t.throttleKeepalive(i)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class E{pick(e){return{pickResultType:s.PickResultType.DROP,status:{code:l.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new a.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}t.InternalChannel=class{constructor(e,t,r){var a,v,y,C,S,_,E,P;if(this.credentials=t,this.options=r,this.connectivityState=g.ConnectivityState.IDLE,this.currentPicker=new s.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new m.ChannelzCallTracker,this.childrenTracker=new m.ChannelzChildrenTracker,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),"string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw new TypeError("Channel options must be an object");this.originalTarget=e;const k=(0,f.parseUri)(e);if(null===k)throw new Error(`Could not parse target name "${e}"`);const D=(0,d.mapUriDefaultScheme)(k);if(null===D)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval((()=>{}),2147483647),null===(v=(a=this.callRefTimer).unref)||void 0===v||v.call(a),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new m.ChannelzTrace,this.channelzRef=(0,m.registerChannelzChannel)(e,(()=>this.getChannelzInfo()),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,d.getDefaultAuthority)(D);const O=(0,p.mapProxyName)(D,r);this.target=O.target,this.options=Object.assign({},this.options,O.extraOptions),this.subchannelPool=(0,o.getSubchannelPool)(0===(null!==(y=r["grpc.use_local_subchannel_pool"])&&void 0!==y?y:0)),this.retryBufferTracker=new b.MessageBufferTracker(null!==(C=r["grpc.retry_buffer_size"])&&void 0!==C?C:16777216,null!==(S=r["grpc.per_rpc_retry_buffer_size"])&&void 0!==S?S:1048576),this.keepaliveTime=null!==(_=r["grpc.keepalive_time_ms"])&&void 0!==_?_:-1,this.idleTimeoutMs=Math.max(null!==(E=r["grpc.client_idle_timeout_ms"])&&void 0!==E?E:18e5,1e3);const I={createSubchannel:(e,t)=>{const r=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);r.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",r.getChannelzRef());const n=new R(r,this);return this.wrappedSubchannels.add(n),n},updateState:(e,t)=>{this.currentPicker=t;const r=this.pickQueue.slice();this.pickQueue=[],r.length>0&&this.callRefTimerUnref();for(const e of r)e.doPick();this.updateState(e)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.refChild(e)},removeChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.unrefChild(e)}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,I,r,((e,t)=>{e.retryThrottling?w.set(this.getTarget(),new b.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,w.get(this.getTarget()))):w.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=t,this.currentResolutionError=null,process.nextTick((()=>{const e=this.configSelectionQueue;this.configSelectionQueue=[],e.length>0&&this.callRefTimerUnref();for(const t of e)t.getConfig()}))}),(e=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,T.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata}));const t=this.configSelectionQueue;this.configSelectionQueue=[],t.length>0&&this.callRefTimerUnref();for(const r of t)r.reportResolverError(e)})),this.filterStackFactory=new c.FilterStackFactory([new u.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));const M=new Error;(0,h.trace)(l.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(P=M.stack)||void 0===P?void 0:P.substring(M.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,h.trace)(null!=t?t:l.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,f.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,n;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(n=(r=this.callRefTimer).ref)||void 0===n||n.call(r))}callRefTimerUnref(){var e,t;this.callRefTimer.hasRef&&!this.callRefTimer.hasRef()||(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}removeConnectivityStateWatcher(e){const t=this.connectivityStateWatchers.findIndex((t=>t===e));t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,h.trace)(l.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,f.uriToString)(this.target)+" "+g.ConnectivityState[this.connectivityState]+" -> "+g.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+g.ConnectivityState[e]),this.connectivityState=e;const t=this.connectivityStateWatchers.slice();for(const r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==g.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(const t of this.wrappedSubchannels)t.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.connectivityState!==g.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.IDLE),this.currentPicker=new s.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout((()=>{if(this.callCount>0)return void this.startIdleTimeout(this.idleTimeoutMs);const e=(new Date).valueOf()-this.lastActivityTimestamp.valueOf();e>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-e)}),e),null===(r=(t=this.idleTimer).unref)||void 0===r||r.call(t)}maybeStartIdleTimer(){this.connectivityState===g.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===l.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,n,i){const o=(0,S.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+t+'"'),new v.LoadBalancingCall(this,e,t,r,n,i,o)}createRetryingCall(e,t,r,n,i){const o=(0,S.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+t+'"'),new b.RetryingCall(this,e,t,r,n,i,o,this.retryBufferTracker,w.get(this.getTarget()))}createInnerCall(e,t,r,n,i){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(e,t,r,n,i):this.createRetryingCall(e,t,r,n,i)}createResolvingCall(e,t,r,n,i){const o=(0,S.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,y.deadlineToString)(t));const s={deadline:t,flags:null!=i?i:l.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:n},a=new C.ResolvingCall(this,e,s,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),a.addStatusWatcher((e=>{this.onCallEnd(e)})),a}close(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.SHUTDOWN),this.currentPicker=new E;for(const e of this.configSelectionQueue)e.cancelWithStatus(l.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(const e of this.pickQueue)e.cancelWithStatus(l.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,m.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,f.uriToString)(this.target)}getConnectivityState(e){const t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let n=null;if(t!==1/0){const e=t instanceof Date?t:new Date(t),o=new Date;if(t===-1/0||e<=o)return void process.nextTick(r,new Error("Deadline passed without connectivity state change"));n=setTimeout((()=>{this.removeConnectivityStateWatcher(i),r(new Error("Deadline passed without connectivity state change"))}),e.getTime()-o.getTime())}const i={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(i)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,n,i){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,r,n,i)}getOptions(){return this.options}}},533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;const n=r(8923),i=r(463);t.ChildLoadBalancerHandler=class{constructor(e,t){this.channelControlHelper=e,this.options=t,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e===i.ConnectivityState.CONNECTING)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;const t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){const e=new this.ChildPolicyHelper(this),r=(0,n.createLoadBalancer)(t,e,this.options);e.setChild(r),null===this.currentChild?(this.currentChild=r,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,i=this.pendingChild)}else i=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return"child_load_balancer_helper"}}},9012:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0;const i=r(463),o=r(131),s=r(4700),a=r(342),l=r(8923),c=r(533),u=r(178),d=r(8996),h=r(2379),p=r(267);function f(e){p.trace(o.LogVerbosity.DEBUG,"outlier_detection",e)}const g="outlier_detection",m="true"===(null!==(n=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==n?n:"true"),v={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},y={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function C(e,t,r,n){if(t in e&&void 0!==e[t]&&typeof e[t]!==r)throw new Error(`outlier detection config ${n?`${n}.${t}`:t} parse error: expected ${r}, got ${typeof e[t]}`)}function S(e,t,r){const n=r?`${r}.${t}`:t;if(t in e&&void 0!==e[t]){if(!(0,s.isDuration)(e[t]))throw new Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof e[t]}`);if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=999999999))throw new Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function T(e,t,r){const n=r?`${r}.${t}`:t;if(C(e,t,"number",r),t in e&&void 0!==e[t]&&!(e[t]>=0&&e[t]<=100))throw new Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}class b{constructor(e,t,r,n,i,o,s){if(this.childPolicy=s,"pick_first"===s.getLoadBalancerName())throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=e?e:1e4,this.baseEjectionTimeMs=null!=t?t:3e4,this.maxEjectionTimeMs=null!=r?r:3e5,this.maxEjectionPercent=null!=n?n:10,this.successRateEjection=i?Object.assign(Object.assign({},v),i):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},y),o):null}getLoadBalancerName(){return g}toJsonObject(){var e,t;return{outlier_detection:{interval:(0,s.msToDuration)(this.intervalMs),base_ejection_time:(0,s.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,s.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:null!==(e=this.successRateEjection)&&void 0!==e?e:void 0,failure_percentage_ejection:null!==(t=this.failurePercentageEjection)&&void 0!==t?t:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var t;if(S(e,"interval"),S(e,"base_ejection_time"),S(e,"max_ejection_time"),T(e,"max_ejection_percent"),"success_rate_ejection"in e&&void 0!==e.success_rate_ejection){if("object"!=typeof e.success_rate_ejection)throw new Error("outlier detection config success_rate_ejection must be an object");C(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),T(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),C(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),C(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e&&void 0!==e.failure_percentage_ejection){if("object"!=typeof e.failure_percentage_ejection)throw new Error("outlier detection config failure_percentage_ejection must be an object");T(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),T(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),C(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),C(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");const r=(0,l.selectLbConfigFromList)(e.child_policy);if(!r)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new b(e.interval?(0,s.durationToMs)(e.interval):null,e.base_ejection_time?(0,s.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,s.durationToMs)(e.max_ejection_time):null,null!==(t=e.max_ejection_percent)&&void 0!==t?t:null,e.success_rate_ejection,e.failure_percentage_ejection,r)}}t.OutlierDetectionLoadBalancingConfig=b;class _ extends h.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){const e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}class w{constructor(){this.activeBucket={success:0,failure:0},this.inactiveBucket={success:0,failure:0}}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket={success:0,failure:0}}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class R{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){const t=this.wrappedPicker.pick(e);if(t.pickResultType===u.PickResultType.COMPLETE){const e=t.subchannel,r=e.getMapEntry();if(r){let n=t.onCallEnded;return this.countCalls&&(n=e=>{var n;e===o.Status.OK?r.counter.addSuccess():r.counter.addFailure(),null===(n=t.onCallEnded)||void 0===n||n.call(t,e)}),Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:n})}return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()})}return t}}class E{constructor(e,t){this.entryMap=new d.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new c.ChildLoadBalancerHandler((0,a.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{const n=e.createSubchannel(t,r),i=this.entryMap.getForSubchannelAddress(t),o=new _(n,i);return null!==(null==i?void 0:i.currentEjectionTimestamp)&&o.eject(),null==i||i.subchannelWrappers.push(o),o},updateState:(t,r)=>{t===i.ConnectivityState.READY?e.updateState(t,new R(r,this.isCountingEnabled())):e.updateState(t,r)}}),t),this.ejectionTimer=setInterval((()=>{}),0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let e=0;for(const t of this.entryMap.values())null!==t.currentEjectionTimestamp&&(e+=1);return 100*e/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;const t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;f("Running success rate check");const r=t.request_volume;let n=0;const i=[];for(const[e,t]of this.entryMap.entries()){const o=t.counter.getLastSuccesses(),s=t.counter.getLastFailures();f("Stats for "+(0,d.endpointToString)(e)+": successes="+o+" failures="+s+" targetRequestVolume="+r),o+s>=r&&(n+=1,i.push(o/(o+s)))}if(f("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+i+"]"),n<t.minimum_hosts)return;const o=i.reduce(((e,t)=>e+t))/i.length;let s=0;for(const e of i){const t=e-o;s+=t*t}const a=s/i.length,l=Math.sqrt(a),c=o-l*(t.stdev_factor/1e3);f("stdev="+l+" ejectionThreshold="+c);for(const[n,i]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const o=i.counter.getLastSuccesses(),s=i.counter.getLastFailures();if(o+s<r)continue;const a=o/(o+s);if(f("Checking candidate "+n+" successRate="+a),a<c){const r=100*Math.random();f("Candidate "+n+" randomNumber="+r+" enforcement_percentage="+t.enforcement_percentage),r<t.enforcement_percentage&&(f("Ejecting candidate "+n),this.eject(i,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;const t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;f("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(const e of this.entryMap.values())e.counter.getLastSuccesses()+e.counter.getLastFailures()>=t.request_volume&&(r+=1);if(!(r<t.minimum_hosts))for(const[r,n]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const i=n.counter.getLastSuccesses(),o=n.counter.getLastFailures();if((f("Candidate successes="+i+" failures="+o),!(i+o<t.request_volume))&&100*o/(o+i)>t.threshold){const i=100*Math.random();f("Candidate "+r+" randomNumber="+i+" enforcement_percentage="+t.enforcement_percentage),i<t.enforcement_percentage&&(f("Ejecting candidate "+r),this.eject(n,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(const t of e.subchannelWrappers)t.eject()}uneject(e){e.currentEjectionTimestamp=null;for(const t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(const e of this.entryMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout((()=>this.runChecks()),e),null===(r=(t=this.ejectionTimer).unref)||void 0===r||r.call(t)}runChecks(){const e=new Date;if(f("Ejection timer running"),this.switchAllBuckets(),this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(const[e,t]of this.entryMap.entries())if(null===t.currentEjectionTimestamp)t.ejectionTimeMultiplier>0&&(t.ejectionTimeMultiplier-=1);else{const r=this.latestConfig.getBaseEjectionTimeMs(),n=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(t.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(r*t.ejectionTimeMultiplier,Math.max(r,n))),i<new Date&&(f("Unejecting "+e),this.uneject(t))}}}updateAddressList(e,t,r){if(!(t instanceof b))return;for(const t of e)this.entryMap.has(t)||(f("Adding map entry for "+(0,d.endpointToString)(t)),this.entryMap.set(t,{counter:new w,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e);const n=t.getChildPolicy();if(this.childBalancer.updateAddressList(e,n,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){f("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);const e=t.getIntervalMs()-((new Date).getTime()-this.timerStartTime.getTime());this.startTimer(e)}else f("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{f("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(const e of this.entryMap.values())this.uneject(e),e.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return g}}t.OutlierDetectionLoadBalancer=E,t.setup=function(){m&&(0,a.registerLoadBalancerType)(g,E,b)}},6486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.LeafLoadBalancer=t.PickFirstLoadBalancer=t.shuffled=t.PickFirstLoadBalancingConfig=void 0;const n=r(8923),i=r(463),o=r(178),s=r(8996),a=r(267),l=r(131),c=r(8996),u=r(9278);function d(e){a.trace(l.LogVerbosity.DEBUG,"pick_first",e)}const h="pick_first";class p{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return h}toJsonObject(){return{[h]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&"boolean"!=typeof e.shuffleAddressList)throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new p(!0===e.shuffleAddressList)}}t.PickFirstLoadBalancingConfig=p;class f{constructor(e){this.subchannel=e}pick(e){return{pickResultType:o.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function g(e){const t=e.slice();for(let e=t.length-1;e>1;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}t.shuffled=g;const m="grpc-node.internal.pick-first.report_health_status";class v{constructor(e,t){this.channelControlHelper=e,this.children=[],this.currentState=i.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(e,t,r,n,i)=>{this.onSubchannelStateUpdate(e,t,r,i)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout((()=>{}),0),clearTimeout(this.connectionDelayTimeout),this.reportHealthStatus=t[m]}allChildrenHaveReportedTF(){return this.children.every((e=>e.hasReportedTransientFailure))}calculateAndReportNewState(){this.currentPick?this.reportHealthStatus&&!this.currentPick.isHealthy()?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new o.UnavailablePicker({details:`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`})):this.updateState(i.ConnectivityState.READY,new f(this.currentPick)):0===this.children.length?this.updateState(i.ConnectivityState.IDLE,new o.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new o.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.CONNECTING,new o.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(const{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){const e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef()),this.reportHealthStatus&&e.removeHealthStateWatcher(this.pickedSubchannelHealthListener)}}onSubchannelStateUpdate(e,t,r,n){var o;if(null===(o=this.currentPick)||void 0===o?void 0:o.realSubchannelEquals(e))r!==i.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());else for(const[t,o]of this.children.entries())if(e.realSubchannelEquals(o.subchannel))return r===i.ConnectivityState.READY&&this.pickSubchannel(o.subchannel),r===i.ConnectivityState.TRANSIENT_FAILURE&&(o.hasReportedTransientFailure=!0,n&&(this.lastError=n),this.maybeEnterStickyTransientFailureMode(),t===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(t+1)),void o.subchannel.startConnecting()}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(const[t,r]of this.children.entries())if(t>=e){const e=r.subchannel.getConnectivityState();if(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.CONNECTING)return void this.startConnecting(t)}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===i.ConnectivityState.IDLE&&(d("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick((()=>{var t;null===(t=this.children[e])||void 0===t||t.subchannel.startConnecting()}))),this.connectionDelayTimeout=setTimeout((()=>{this.startNextSubchannelConnecting(e+1)}),250),null===(r=(t=this.connectionDelayTimeout).unref)||void 0===r||r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(d("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.removeCurrentPick(),this.currentPick=e,e.ref(),this.reportHealthStatus&&e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){d(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){const t=e.map((e=>({subchannel:this.channelControlHelper.createSubchannel(e,{}),hasReportedTransientFailure:!1})));d("connectToAddressList(["+e.map((e=>(0,s.subchannelAddressToString)(e)))+"])");for(const{subchannel:e}of t)if(e.getConnectivityState()===i.ConnectivityState.READY)return this.channelControlHelper.addChannelzChild(e.getChannelzRef()),e.addConnectivityStateListener(this.subchannelStateListener),void this.pickSubchannel(e);for(const{subchannel:e}of t)e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef());this.resetSubchannelList(),this.children=t;for(const{subchannel:e}of this.children)e.addConnectivityStateListener(this.subchannelStateListener);for(const e of this.children)e.subchannel.getConnectivityState()===i.ConnectivityState.TRANSIENT_FAILURE&&(e.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){if(!(t instanceof p))return;t.getShuffleAddressList()&&(e=g(e));const r=[].concat(...e.map((e=>e.addresses)));if(d("updateAddressList(["+r.map((e=>(0,s.subchannelAddressToString)(e)))+"])"),0===r.length)throw new Error("No addresses in endpoint list passed to pick_first");const n=function(e){const t=[],r=[],n=[],i=(0,c.isTcpSubchannelAddress)(e[0])&&(0,u.isIPv6)(e[0].host);for(const t of e)(0,c.isTcpSubchannelAddress)(t)&&(0,u.isIPv6)(t.host)?r.push(t):n.push(t);const o=i?r:n,s=i?n:r;for(let e=0;e<Math.max(o.length,s.length);e++)e<o.length&&t.push(o[e]),e<s.length&&t.push(s[e]);return t}(r);this.latestAddressList=n,this.connectToAddressList(n)}exitIdle(){this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return h}}t.PickFirstLoadBalancer=v;const y=new p(!1);t.LeafLoadBalancer=class{constructor(e,t,r){this.endpoint=e,this.latestState=i.ConnectivityState.IDLE;const s=(0,n.createChildChannelControlHelper)(t,{updateState:(e,r)=>{this.latestState=e,this.latestPicker=r,t.updateState(e,r)}});this.pickFirstBalancer=new v(s,Object.assign(Object.assign({},r),{[m]:!0})),this.latestPicker=new o.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],y)}updateEndpoint(e){this.endpoint=e,this.latestState!==i.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}},t.setup=function(){(0,n.registerLoadBalancerType)(h,v,p),(0,n.registerDefaultLoadBalancerType)(h)}},1563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;const n=r(8923),i=r(463),o=r(178),s=r(267),a=r(131),l=r(8996),c=r(6486);function u(e){s.trace(a.LogVerbosity.DEBUG,"round_robin",e)}const d="round_robin";class h{getLoadBalancerName(){return d}constructor(){}toJsonObject(){return{[d]:{}}}static createFromJson(e){return new h}}class p{constructor(e,t=0){this.children=e,this.nextIndex=t}pick(e){const t=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,t.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}class f{constructor(e,t){this.channelControlHelper=e,this.options=t,this.children=[],this.currentState=i.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,n.createChildChannelControlHelper)(e,{updateState:(e,t)=>{this.calculateAndUpdateState()}})}countChildrenWithState(e){return this.children.filter((t=>t.getConnectivityState()===e)).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(i.ConnectivityState.READY)>0){const e=this.children.filter((e=>e.getConnectivityState()===i.ConnectivityState.READY));let t=0;if(null!==this.currentReadyPicker){const r=this.currentReadyPicker.peekNextEndpoint();t=e.findIndex((e=>(0,l.endpointEqual)(e.getEndpoint(),r))),t<0&&(t=0)}this.updateState(i.ConnectivityState.READY,new p(e.map((e=>({endpoint:e.getEndpoint(),picker:e.getPicker()}))),t))}else this.countChildrenWithState(i.ConnectivityState.CONNECTING)>0?this.updateState(i.ConnectivityState.CONNECTING,new o.QueuePicker(this)):this.countChildrenWithState(i.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new o.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.IDLE,new o.QueuePicker(this));for(const e of this.children)e.getConnectivityState()===i.ConnectivityState.IDLE&&e.exitIdle()}}updateState(e,t){u(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),e===i.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.children)e.destroy()}updateAddressList(e,t){this.resetSubchannelList(),u("Connect to endpoint list "+e.map(l.endpointToString)),this.updatesPaused=!0,this.children=e.map((e=>new c.LeafLoadBalancer(e,this.childChannelControlHelper,this.options)));for(const e of this.children)e.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return d}}t.RoundRobinLoadBalancer=f,t.setup=function(){(0,n.registerLoadBalancerType)(d,f,h)}},8923:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectLbConfigFromList=t.getDefaultConfig=t.parseLoadBalancingConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerDefaultLoadBalancerType=t.registerLoadBalancerType=t.createChildChannelControlHelper=void 0;const n=r(267),i=r(131);t.createChildChannelControlHelper=function(e,t){var r,n,i,o,s,a,l,c,u,d;return{createSubchannel:null!==(n=null===(r=t.createSubchannel)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e.createSubchannel.bind(e),updateState:null!==(o=null===(i=t.updateState)||void 0===i?void 0:i.bind(t))&&void 0!==o?o:e.updateState.bind(e),requestReresolution:null!==(a=null===(s=t.requestReresolution)||void 0===s?void 0:s.bind(t))&&void 0!==a?a:e.requestReresolution.bind(e),addChannelzChild:null!==(c=null===(l=t.addChannelzChild)||void 0===l?void 0:l.bind(t))&&void 0!==c?c:e.addChannelzChild.bind(e),removeChannelzChild:null!==(d=null===(u=t.removeChannelzChild)||void 0===u?void 0:u.bind(t))&&void 0!==d?d:e.removeChannelzChild.bind(e)}};const o={};let s=null;function a(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Provided load balancing config has multiple conflicting entries");const r=t[0];if(!(r in o))throw new Error(`Unrecognized load balancing config name ${r}`);try{return o[r].LoadBalancingConfig.createFromJson(e[r])}catch(e){throw new Error(`${r}: ${e.message}`)}}t.registerLoadBalancerType=function(e,t,r){o[e]={LoadBalancer:t,LoadBalancingConfig:r}},t.registerDefaultLoadBalancerType=function(e){s=e},t.createLoadBalancer=function(e,t,r){const n=e.getLoadBalancerName();return n in o?new o[n].LoadBalancer(t,r):null},t.isLoadBalancerNameRegistered=function(e){return e in o},t.parseLoadBalancingConfig=a,t.getDefaultConfig=function(){if(!s)throw new Error("No default load balancer type registered");return new o[s].LoadBalancingConfig},t.selectLbConfigFromList=function(e,t=!1){for(const t of e)try{return a(t)}catch(e){(0,n.log)(i.LogVerbosity.DEBUG,"Config parsing failed with error",e.message);continue}return t&&s?new o[s].LoadBalancingConfig:null}},2611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBalancingCall=void 0;const n=r(463),i=r(131),o=r(6308),s=r(4097),a=r(178),l=r(3822),c=r(267),u=r(6067),d=r(5675);t.LoadBalancingCall=class{constructor(e,t,r,n,i,o,s){var a,c;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=o,this.callNumber=s,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;const u=this.methodName.split("/");let d="";u.length>=2&&(d=u[1]);const h=null!==(c=null===(a=(0,l.splitHostPort)(this.host))||void 0===a?void 0:a.host)&&void 0!==c?c:"localhost";this.serviceUrl=`https://${h}/${d}`,this.startTime=new Date}getDeadlineInfo(){var e,t;const r=[];return this.childStartTime?(this.childStartTime>this.startTime&&((null===(e=this.metadata)||void 0===e?void 0:e.getOptions().waitForReady)&&r.push("wait_for_ready"),r.push(`LB pick: ${(0,o.formatDateDifference)(this.startTime,this.childStartTime)}`)),r.push(...this.child.getDeadlineInfo()),r):((null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)&&r.push("wait_for_ready"),r.push("Waiting for LB pick"),r)}trace(e){c.trace(i.LogVerbosity.DEBUG,"load_balancing_call","["+this.callNumber+"] "+e)}outputStatus(e,t){var r,n;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());const i=Object.assign(Object.assign({},e),{progress:t});null===(r=this.listener)||void 0===r||r.onReceiveStatus(i),null===(n=this.onCallEnded)||void 0===n||n.call(this,i.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");const r=this.metadata.clone(),l=this.channel.doPick(r,this.callConfig.pickInformation),c=l.subchannel?"("+l.subchannel.getChannelzRef().id+") "+l.subchannel.getAddress():""+l.subchannel;switch(this.trace("Pick result: "+a.PickResultType[l.pickResultType]+" subchannel: "+c+" status: "+(null===(e=l.status)||void 0===e?void 0:e.code)+" "+(null===(t=l.status)||void 0===t?void 0:t.details)),l.pickResultType){case a.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then((e=>{var t,a,u;if(this.ended)this.trace("Credentials metadata generation finished after call ended");else{if(r.merge(e),r.get("authorization").length>1&&this.outputStatus({code:i.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new s.Metadata},"PROCESSED"),l.subchannel.getConnectivityState()!==n.ConnectivityState.READY)return this.trace("Picked subchannel "+c+" has state "+n.ConnectivityState[l.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),void this.doPick();this.deadline!==1/0&&r.set("grpc-timeout",(0,o.getDeadlineTimeoutString)(this.deadline));try{this.child=l.subchannel.getRealSubchannel().createCall(r,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message"),this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status"),e.rstCode===d.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(e,"REFUSED"):this.outputStatus(e,"PROCESSED")}}),this.childStartTime=new Date}catch(e){return this.trace("Failed to start call on picked subchannel "+c+" with error "+e.message),void this.outputStatus({code:i.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new s.Metadata},"NOT_STARTED")}null===(a=(t=this.callConfig).onCommitted)||void 0===a||a.call(t),null===(u=l.onCallStarted)||void 0===u||u.call(l),this.onCallEnded=l.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()}}),(e=>{const{code:t,details:r}=(0,u.restrictControlPlaneStatusCode)("number"==typeof e.code?e.code:i.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:r,metadata:new s.Metadata},"PROCESSED")}));break;case a.PickResultType.DROP:const{code:e,details:t}=(0,u.restrictControlPlaneStatusCode)(l.status.code,l.status.details);setImmediate((()=>{this.outputStatus({code:e,details:t,metadata:l.status.metadata},"DROP")}));break;case a.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{const{code:e,details:t}=(0,u.restrictControlPlaneStatusCode)(l.status.code,l.status.details);setImmediate((()=>{this.outputStatus({code:e,details:t,metadata:l.status.metadata},"PROCESSED")}))}break;case a.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new s.Metadata},"PROCESSED")}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}}},267:(e,t,r)=>{"use strict";var n,i,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.isTracerEnabled=t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;const a=r(131),l=r(932),c=r(9943).rE;let u={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}},d=a.LogVerbosity.ERROR;switch((null!==(i=null!==(n=process.env.GRPC_NODE_VERBOSITY)&&void 0!==n?n:process.env.GRPC_VERBOSITY)&&void 0!==i?i:"").toUpperCase()){case"DEBUG":d=a.LogVerbosity.DEBUG;break;case"INFO":d=a.LogVerbosity.INFO;break;case"ERROR":d=a.LogVerbosity.ERROR;break;case"NONE":d=a.LogVerbosity.NONE}t.getLogger=()=>u,t.setLogger=e=>{u=e},t.setLoggerVerbosity=e=>{d=e},t.log=(e,...t)=>{let r;if(e>=d){switch(e){case a.LogVerbosity.DEBUG:r=u.debug;break;case a.LogVerbosity.INFO:r=u.info;break;case a.LogVerbosity.ERROR:r=u.error}r||(r=u.error),r&&r.bind(u)(...t)}};const h=null!==(s=null!==(o=process.env.GRPC_NODE_TRACE)&&void 0!==o?o:process.env.GRPC_TRACE)&&void 0!==s?s:"",p=new Set,f=new Set;for(const e of h.split(","))e.startsWith("-")?f.add(e.substring(1)):p.add(e);const g=p.has("all");function m(e){return!f.has(e)&&(g||p.has(e))}t.trace=function(e,r,n){m(r)&&(0,t.log)(e,(new Date).toISOString()+" | v"+c+" "+l.pid+" | "+r+" | "+n)},t.isTracerEnabled=m},4056:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;const n=r(5563),i={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function o(e){return["__proto__","prototype","constructor"].includes(e)}function s(e,t,r){r||(r={});class s extends n.Client{}return Object.keys(e).forEach((t=>{if(o(t))return;const r=e[t];let n;if("string"==typeof t&&"$"===t.charAt(0))throw new Error("Method names cannot start with $");n=r.requestStream?r.responseStream?"bidi":"client_stream":r.responseStream?"server_stream":"unary";const a=r.requestSerialize,l=r.responseDeserialize,c=function(e,t,r,n){return function(...i){return e.call(this,t,r,n,...i)}}(i[n],r.path,a,l);s.prototype[t]=c,Object.assign(s.prototype[t],r),r.originalName&&!o(r.originalName)&&(s.prototype[r.originalName]=s.prototype[t])})),s.service=e,s.serviceName=t,s}t.makeClientConstructor=s,t.loadPackageDefinition=function(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n],a=n.split(".");if(a.some((e=>o(e))))continue;const l=a[a.length-1];let c=t;for(const e of a.slice(0,-1))c[e]||(c[e]={}),c=c[e];r=i,c[l]="format"in r?i:s(i,l,{})}var r;return t}},4097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;const n=r(267),i=r(131),o=r(9752),s=/^[0-9a-z_.-]+$/,a=/^[ -~]*$/;function l(e){return e.endsWith("-bin")}function c(e){return!e.startsWith("grpc-")}function u(e){return e.toLowerCase()}function d(e,t){if(!function(e){return s.test(e)}(e))throw new Error('Metadata key "'+e+'" contains illegal characters');if(null!=t)if(l(e)){if(!Buffer.isBuffer(t))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw new Error("keys that don't end with '-bin' must have String values");if(!function(e){return a.test(e)}(t))throw new Error('Metadata string value "'+t+'" contains illegal characters')}}class h{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){d(e=u(e),t),this.internalRepr.set(e,[t])}add(e,t){d(e=u(e),t);const r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=u(e),this.internalRepr.delete(e)}get(e){return e=u(e),this.internalRepr.get(e)||[]}getMap(){const e={};for(const[t,r]of this.internalRepr)if(r.length>0){const n=r[0];e[t]=Buffer.isBuffer(n)?Buffer.from(n):n}return e}clone(){const e=new h(this.options),t=e.internalRepr;for(const[e,r]of this.internalRepr){const n=r.map((e=>Buffer.isBuffer(e)?Buffer.from(e):e));t.set(e,n)}return e}merge(e){for(const[t,r]of e.internalRepr){const e=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){const e={};for(const[t,r]of this.internalRepr)e[t]=r.map(p);return e}toJSON(){const e={};for(const[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){const t=new h;for(const r of Object.keys(e)){if(":"===r.charAt(0))continue;const s=e[r];try{l(r)?Array.isArray(s)?s.forEach((e=>{t.add(r,Buffer.from(e,"base64"))})):void 0!==s&&(c(r)?s.split(",").forEach((e=>{t.add(r,Buffer.from(e.trim(),"base64"))})):t.add(r,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach((e=>{t.add(r,e)})):void 0!==s&&t.add(r,s)}catch(e){const t=`Failed to add metadata entry ${r}: ${s}. ${(0,o.getErrorMessage)(e)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,n.log)(i.LogVerbosity.ERROR,t)}}return t}}t.Metadata=h;const p=e=>Buffer.isBuffer(e)?e.toString("base64"):e},178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;const n=r(4097),i=r(131);var o;!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(o||(t.PickResultType=o={})),t.UnavailablePicker=class{constructor(e){this.status=Object.assign({code:i.Status.UNAVAILABLE,details:"No connection established",metadata:new n.Metadata},e)}pick(e){return{pickResultType:o.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}},t.QueuePicker=class{constructor(e,t){this.loadBalancer=e,this.childPicker=t,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick((()=>{this.loadBalancer.exitIdle()})),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(e):{pickResultType:o.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}},6700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.DEFAULT_PORT=void 0;const n=r(9302),i=r(2250),o=r(5656),s=r(131),a=r(4097),l=r(267),c=r(131),u=r(3822),d=r(9278),h=r(3956),p=r(883);function f(e){l.trace(c.LogVerbosity.DEBUG,"dns_resolver",e)}t.DEFAULT_PORT=443;class g{constructor(e,r,n){var o,l,c;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new i.promises.Resolver,f("Resolver constructed for target "+(0,u.uriToString)(e)),e.authority&&this.alternativeResolver.setServers([e.authority]);const p=(0,u.splitHostPort)(e.path);null===p?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,d.isIPv4)(p.host)||(0,d.isIPv6)(p.host)?(this.ipResult=[{addresses:[{host:p.host,port:null!==(o=p.port)&&void 0!==o?o:t.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=p.host,this.port=null!==(l=p.port)&&void 0!==l?l:t.DEFAULT_PORT),this.percentage=100*Math.random(),1===n["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:s.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,u.uriToString)(this.target)}`,metadata:new a.Metadata};const g={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoff=new h.BackoffTimeout((()=>{this.continueResolving&&this.startResolutionWithBackoff()}),g),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(c=n["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==c?c:3e4,this.nextResolutionTimer=setTimeout((()=>{}),0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult)return this.returnedIpResult||(f("Returning IP address for target "+(0,u.uriToString)(this.target)),setImmediate((()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})})),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),void this.stopNextResolutionTimer();if(null===this.dnsHostname)f("Failed to parse DNS address "+(0,u.uriToString)(this.target)),setImmediate((()=>{this.listener.onError({code:s.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,u.uriToString)(this.target)}`,metadata:new a.Metadata})})),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;f("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;const e=this.dnsHostname;this.pendingLookupPromise=this.lookup(e),this.pendingLookupPromise.then((e=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop(),this.latestLookupResult=e.map((e=>({addresses:[e]})));const t="["+e.map((e=>e.host+":"+e.port)).join(",")+"]";f("Resolved addresses for target "+(0,u.uriToString)(this.target)+": "+t),0!==this.latestLookupResult.length?this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{}):this.listener.onError(this.defaultResolutionError)}),(e=>{null!==this.pendingLookupPromise&&(f("Resolution error for target "+(0,u.uriToString)(this.target)+": "+e.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))})),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=this.resolveTxt(e),this.pendingTxtPromise.then((e=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,o.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:s.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new a.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}}),(e=>{})))}}async lookup(e){if(p.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){f("Using alternative DNS resolver.");const t=await Promise.allSettled([this.alternativeResolver.resolve4(e),this.alternativeResolver.resolve6(e)]);if(t.every((e=>"rejected"===e.status)))throw new Error(t[0].reason);return t.reduce(((e,t)=>"fulfilled"===t.status?[...e,...t.value]:e),[]).map((e=>({host:e,port:+this.port})))}return(await i.promises.lookup(e,{all:!0})).map((e=>({host:e.address,port:+this.port})))}async resolveTxt(e){return p.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(f("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(e)):i.promises.resolveTxt(e)}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout((()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()}),this.minTimeBetweenResolutionsMs),null===(t=(e=this.nextResolutionTimer).unref)||void 0===t||t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?f('resolution update delayed by "min time between resolutions" rate limit'):f("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}}t.setup=function(){(0,n.registerResolver)("dns",g),(0,n.registerDefaultScheme)("dns")}},82:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(9278),i=r(131),o=r(4097),s=r(9302),a=r(3822),l=r(267);function c(e){l.trace(i.LogVerbosity.DEBUG,"ip_resolver",e)}const u="ipv4",d="ipv6";class h{constructor(e,t,r){var s;this.listener=t,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,c("Resolver constructed for target "+(0,a.uriToString)(e));const l=[];if(e.scheme!==u&&e.scheme!==d)return void(this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new o.Metadata});const h=e.path.split(",");for(const t of h){const r=(0,a.splitHostPort)(t);if(null===r)return void(this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new o.Metadata});if(e.scheme===u&&!(0,n.isIPv4)(r.host)||e.scheme===d&&!(0,n.isIPv6)(r.host))return void(this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new o.Metadata});l.push({host:r.host,port:null!==(s=r.port)&&void 0!==s?s:443})}this.endpoints=l.map((e=>({addresses:[e]}))),c("Parsed "+e.scheme+" address list "+l)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick((()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})})))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}}t.setup=function(){(0,s.registerResolver)(u,h),(0,s.registerResolver)(d,h)}},305:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(9302);class i{constructor(e,t,r){let n;this.listener=t,this.hasReturnedResult=!1,this.endpoints=[],n=""===e.authority?"/"+e.path:e.path,this.endpoints=[{addresses:[{path:n}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return"localhost"}}t.setup=function(){(0,n.registerResolver)("unix",i)}},9302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;const n=r(3822),i={};let o=null;t.registerResolver=function(e,t){i[e]=t},t.registerDefaultScheme=function(e){o=e},t.createResolver=function(e,t,r){if(void 0!==e.scheme&&e.scheme in i)return new i[e.scheme](e,t,r);throw new Error(`No resolver could be created for target ${(0,n.uriToString)(e)}`)},t.getDefaultAuthority=function(e){if(void 0!==e.scheme&&e.scheme in i)return i[e.scheme].getDefaultAuthority(e);throw new Error(`Invalid target ${(0,n.uriToString)(e)}`)},t.mapUriDefaultScheme=function(e){return void 0!==e.scheme&&e.scheme in i?e:null!==o?{scheme:o,authority:void 0,path:(0,n.uriToString)(e)}:null}},8446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingCall=void 0;const n=r(131),i=r(6308),o=r(4097),s=r(267),a=r(6067);t.ResolvingCall=class{constructor(e,t,r,o,s,a){this.channel=e,this.method=t,this.filterStackFactory=o,this.credentials=s,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout((()=>{}),0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&n.Propagate.CANCELLATION&&r.parentCall.on("cancelled",(()=>{this.cancelWithStatus(n.Status.CANCELLED,"Cancelled by parent call")})),r.flags&n.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,i.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){s.trace(n.LogVerbosity.DEBUG,"resolving_call","["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,i.deadlineToString)(this.deadline));const e=(0,i.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");const t=()=>{if(!this.deadlineStartTime)return void this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded");const e=[],t=new Date;e.push(`Deadline exceeded after ${(0,i.formatDateDifference)(this.deadlineStartTime,t)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&e.push(`name resolution: ${(0,i.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&e.push(`metadata filters: ${(0,i.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):e.push("waiting for metadata filters")):e.push("waiting for name resolution"),this.child&&e.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,e.join(","))};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);const t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach((e=>e(t))),process.nextTick((()=>{var e;null===(e=this.listener)||void 0===e||e.onReceiveStatus(t)}))}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");const r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then((t=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,t.message),this.pendingHalfClose&&r.halfClose()}),(e=>{this.cancelWithStatus(e.code,e.details)}))}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");const e=this.channel.getConfig(this.method,this.metadata);if("NONE"===e.type)return void this.channel.queueCallForConfig(this);if("ERROR"===e.type)return void(this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error));this.configReceivedTime=new Date;const t=e.config;if(t.status===n.Status.OK){if(t.methodConfig.timeout){const e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds),e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,i.minDeadline)(this.deadline,e),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then((e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(e).then((e=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(e),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)}),(e=>{this.cancelWithStatus(e.code,e.details)}))},onReceiveStatus:e=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=e:this.outputStatus(e)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()}),(e=>{this.outputStatus(e)}))}else{const{code:e,details:r}=(0,a.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:r,metadata:new o.Metadata})}}reportResolverError(e){var t;(null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new o.Metadata})}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}},4973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;const n=r(8923),i=r(5656),o=r(463),s=r(9302),a=r(178),l=r(3956),c=r(131),u=r(4097),d=r(267),h=r(131),p=r(3822),f=r(533);function g(e){d.trace(h.LogVerbosity.DEBUG,"resolving_load_balancer",e)}const m=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function v(e,t,r,n){for(const i of r.name)switch(n){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===e&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===e&&i.method===t)return!0}return!1}function y(e,t,r,n){for(const i of r)if(v(e,t,i,n))return i;return null}t.ResolvingLoadBalancer=class{constructor(e,t,r,d,h){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=d,this.onFailedResolution=h,this.latestChildState=o.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=o.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,i.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(o.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new f.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(g("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)},r),this.innerResolver=(0,s.createResolver)(e,{onSuccessfulResolution:(e,t,r,i,o)=>{var s;this.backoffTimeout.stop(),this.backoffTimeout.reset();let a=null;null===t?null===r?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);const l=null!==(s=null==a?void 0:a.loadBalancingConfig)&&void 0!==s?s:[],d=(0,n.selectLbConfigFromList)(l,!0);if(null===d)return void this.handleResolutionFailure({code:c.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new u.Metadata});this.childLoadBalancer.updateAddressList(e,d,o);const h=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(h,null!=i?i:function(e){return function(t,r){var n,i;const o=t.split("/").filter((e=>e.length>0)),s=null!==(n=o[0])&&void 0!==n?n:"",a=null!==(i=o[1])&&void 0!==i?i:"";if(e&&e.methodConfig)for(const t of m){const r=y(s,a,e.methodConfig,t);if(r)return{methodConfig:r,pickInformation:{},status:c.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:c.Status.OK,dynamicFilterFactories:[]}}}(h))},onError:e=>{this.handleResolutionFailure(e)}},r);const p={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new l.BackoffTimeout((()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)}),p),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===o.ConnectivityState.IDLE&&this.updateState(o.ConnectivityState.CONNECTING,this.latestChildPicker),this.backoffTimeout.runOnce()}updateState(e,t){g((0,p.uriToString)(this.target)+" "+o.ConnectivityState[this.currentState]+" -> "+o.ConnectivityState[e]),e===o.ConnectivityState.IDLE&&(t=new a.QueuePicker(this,t)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===o.ConnectivityState.IDLE&&(this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){this.currentState!==o.ConnectivityState.IDLE&&this.currentState!==o.ConnectivityState.TRANSIENT_FAILURE||(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=o.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=o.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}},3135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;const n=r(131),i=r(6308),o=r(4097),s=r(267);t.RetryThrottler=class{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,this.tokens=r?r.tokens*(e/r.maxTokens):e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}},t.MessageBufferTracker=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;const n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;return!(this.limitPerCall-n<e||this.totalLimit-this.totalAllocated<e||(this.allocatedPerCall.set(t,n+e),this.totalAllocated+=e,0))}free(e,t){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;const n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;if(n<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(t,n-e)}freeAll(e){var t;const r=null!==(t=this.allocatedPerCall.get(e))&&void 0!==t?t:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};const a="grpc-previous-rpc-attempts";t.RetryingCall=class{constructor(e,t,r,n,i,o,s,a,l){var c;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=o,this.callNumber=s,this.bufferTracker=a,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;const u=null!==(c=e.getOptions()["grpc-node.retry_max_attempts_limit"])&&void 0!==c?c:5;if(t.methodConfig.retryPolicy){this.state="RETRY";const e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1)),this.maxAttempts=Math.min(e.maxAttempts,u)}else t.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(t.methodConfig.hedgingPolicy.maxAttempts,u)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(0===this.underlyingCalls.length)return[];const e=[],t=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push("previous attempts: "+(this.underlyingCalls.length-1)),t.startTime>this.startTime&&e.push(`time to current attempt start: ${(0,i.formatDateDifference)(this.startTime,t.startTime)}`),e.push(...t.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){s.trace(n.LogVerbosity.DEBUG,"retrying_call","["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick((()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})}))}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new o.Metadata});for(const{call:r}of this.underlyingCalls)r.cancelWithStatus(e,t)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return null!==(t=this.writeBuffer[e-this.writeBufferOffset])&&void 0!==t?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;const e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){const e=this.getBufferEntry(t);e.allocated&&this.bufferTracker.free(e.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[e].state){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&"COMPLETED"!==this.underlyingCalls[t].state&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(n.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let e=-1,t=-1;for(const[r,n]of this.underlyingCalls.entries())"ACTIVE"===n.state&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,t=r);-1===t?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some((e=>e===t||e.toString().toLowerCase()===n.Status[t].toLowerCase()))}getNextRetryBackoffMs(){var e;const t=null===(e=this.callConfig)||void 0===e?void 0:e.methodConfig.retryPolicy;if(!t)return 0;const r=Math.random()*this.nextRetryBackoffSec*1e3,n=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,n),r}maybeRetryCall(e,t){if("RETRY"!==this.state)return void t(!1);if(this.attempts>=this.maxAttempts)return void t(!1);let r;if(null===e)r=this.getNextRetryBackoffMs();else{if(e<0)return this.state="TRANSPARENT_ONLY",void t(!1);r=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec}setTimeout((()=>{var e,r;"RETRY"===this.state?(null===(r=null===(e=this.retryThrottler)||void 0===e?void 0:e.canRetryCall())||void 0===r||r)&&(t(!0),this.attempts+=1,this.startNewAttempt()):t(!1)}),r)}countActiveCalls(){let e=0;for(const t of this.underlyingCalls)"ACTIVE"===(null==t?void 0:t.state)&&(e+=1);return e}handleProcessedStatus(e,t,r){var n,i,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList(null!==(n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==n?n:[],e.code)){let n;if(null===(i=this.retryThrottler)||void 0===i||i.addCallFailed(),null===r)n=0;else{if(r<0)return this.state="TRANSPARENT_ONLY",this.commitCall(t),void this.reportStatus(e);n=r}setTimeout((()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(t),this.reportStatus(e))}),n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?(null===(o=this.retryThrottler)||void 0===o||o.addCallFailed(),this.maybeRetryCall(r,(r=>{r||(this.commitCall(t),this.reportStatus(e))}))):(this.commitCall(t),this.reportStatus(e))}}getPushback(e){const t=e.get("grpc-retry-pushback-ms");if(0===t.length)return null;try{return parseInt(t[0])}catch(e){return-1}}handleChildStatus(e,t){var r;if("COMPLETED"===this.underlyingCalls[t].state)return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===n.Status.OK)return null===(r=this.retryThrottler)||void 0===r||r.addCallSucceeded(),this.commitCall(t),void this.reportStatus(e);if("COMMITTED"===this.state)return void this.reportStatus(e);const i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i)}}maybeStartHedgingAttempt(){"HEDGING"===this.state&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state)return;if(!this.callConfig.methodConfig.hedgingPolicy)return;const n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;const i=null!==(e=n.hedgingDelay)&&void 0!==e?e:"0s",o=Number(i.substring(0,i.length-1));this.hedgingTimer=setTimeout((()=>{this.maybeStartHedgingAttempt()}),1e3*o),null===(r=(t=this.hedgingTimer).unref)||void 0===r||r.call(t)}startNewAttempt(){const e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);const t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});const r=this.attempts-1,n=this.initialMetadata.clone();r>0&&n.set(a,`${r}`);let i=!1;e.start(n,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),i=!0,r>0&&n.set(a,`${r}`),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMetadata(n)},onReceiveMessage:r=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMessage(r)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!i&&r>0&&n.metadata.set(a,`${r}`),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;const n=this.underlyingCalls[e],i=n.nextMessageToSend;null===(r=(t=this.getBufferEntry(i)).callback)||void 0===r||r.call(t),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){const t=this.underlyingCalls[e];if("COMPLETED"!==t.state&&this.getBufferEntry(t.nextMessageToSend)){const r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose()}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);const n={message:t,flags:e.flags},i=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){null===(r=e.callback)||void 0===r||r.call(e);for(const[e,r]of this.underlyingCalls.entries())"ACTIVE"===r.state&&r.nextMessageToSend===i&&r.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},t)}else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;const r=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,"ACTIVE"===r.state&&r.nextMessageToSend===i&&r.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(const e of this.underlyingCalls)"ACTIVE"===(null==e?void 0:e.state)&&e.call.startRead()}halfClose(){this.trace("halfClose called");const e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(const t of this.underlyingCalls)"ACTIVE"===(null==t?void 0:t.state)&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}},6860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=t.serverErrorToStatus=void 0;const n=r(4434),i=r(2203),o=r(131),s=r(4097);function a(e,t){var r;const n={code:o.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:null!==(r=null!=t?t:e.metadata)&&void 0!==r?r:null};return"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(n.code=e.code,"details"in e&&"string"==typeof e.details&&(n.details=e.details)),n}t.serverErrorToStatus=a;class l extends n.EventEmitter{constructor(e,t,r,n){super(),this.path=e,this.call=t,this.metadata=r,this.request=n,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}t.ServerUnaryCallImpl=l;class c extends i.Readable{constructor(e,t,r){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=r,this.cancelled=!1}_read(e){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}t.ServerReadableStreamImpl=c;class u extends i.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=r,this.request=n,this.pendingStatus={code:o.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new s.Metadata,this.on("error",(e=>{this.pendingStatus=a(e),this.end()}))}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_write(e,t,r){this.call.sendMessage(e,r)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!==(t=this.pendingStatus.metadata)&&void 0!==t?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=u;class d extends i.Duplex{constructor(e,t,r){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=r,this.pendingStatus={code:o.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new s.Metadata,this.on("error",(e=>{this.pendingStatus=a(e),this.end()}))}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_read(e){this.call.startRead()}_write(e,t,r){this.call.sendMessage(e,r)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!==(t=this.pendingStatus.metadata)&&void 0!==t?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=d},8692:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createServerCredentialsWithInterceptors=t.ServerCredentials=void 0;const n=r(9167);class i{constructor(){this.watchers=new Set,this.latestContextOptions=null}_addWatcher(e){this.watchers.add(e)}_removeWatcher(e){this.watchers.delete(e)}updateSecureContextOptions(e){this.latestContextOptions=e||null;for(const e of this.watchers)e(this.latestContextOptions)}_getSettings(){return this.latestContextOptions}_getInterceptors(){return[]}static createInsecure(){return new o}static createSsl(e,t,r=!1){var i;if(null!==e&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw new TypeError("checkClientCertificate must be a boolean");const o=[],a=[];for(let e=0;e<t.length;e++){const r=t[e];if(null===r||"object"!=typeof r)throw new TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);o.push(r.cert_chain),a.push(r.private_key)}return new s({ca:null!==(i=null!=e?e:(0,n.getDefaultRootsData)())&&void 0!==i?i:void 0,cert:o,key:a,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=i;class o extends i{_isSecure(){return!1}_getSettings(){return null}_equals(e){return e instanceof o}}class s extends i{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}_equals(e){if(this===e)return!0;if(!(e instanceof s))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return!1}else if(this.options.ca!==e.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return!1;for(let t=0;t<this.options.cert.length;t++){const r=this.options.cert[t],n=e.options.cert[t];if(Buffer.isBuffer(r)&&Buffer.isBuffer(n)){if(!r.equals(n))return!1}else if(r!==n)return!1}}else if(this.options.cert!==e.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return!1;for(let t=0;t<this.options.key.length;t++){const r=this.options.key[t],n=e.options.key[t];if(Buffer.isBuffer(r)&&Buffer.isBuffer(n)){if(!r.equals(n))return!1}else if(r!==n)return!1}}else if(this.options.key!==e.options.key)return!1;return this.options.requestCert===e.options.requestCert}}class a extends i{constructor(e,t){super(),this.childCredentials=e,this.interceptors=t}_isSecure(){return this.childCredentials._isSecure()}_equals(e){if(!(e instanceof a))return!1;if(!this.childCredentials._equals(e.childCredentials))return!1;if(this.interceptors.length!==e.interceptors.length)return!1;for(let t=0;t<this.interceptors.length;t++)if(this.interceptors[t]!==e.interceptors[t])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(e){this.childCredentials._addWatcher(e)}_removeWatcher(e){this.childCredentials._removeWatcher(e)}}t.createServerCredentialsWithInterceptors=function(e,t){return new a(e,t)}},4892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getServerInterceptingCall=t.BaseServerInterceptingCall=t.ServerInterceptingCall=t.ResponderBuilder=t.isInterceptingServerListener=t.ServerListenerBuilder=void 0;const n=r(4097),i=r(131),o=r(5675),s=r(9752),a=r(3106),l=r(9453),c=r(267),u="server_call";function d(e){c.trace(i.LogVerbosity.DEBUG,u,e)}t.ServerListenerBuilder=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}},t.isInterceptingServerListener=function(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length};class h{constructor(e,t){this.listener=e,this.nextListener=t,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(e,(e=>{this.processingMetadata=!1,this.cancelled||(this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingHalfClose())})))}onReceiveMessage(e){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(e,(e=>{this.processingMessage=!1,this.cancelled||(this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingHalfClose()))})))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose((()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())}))}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}t.ResponderBuilder=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};const p={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveHalfClose:e=>{e()},onCancel:()=>{}},f={start:e=>{e()},sendMetadata:(e,t)=>{t(e)},sendMessage:(e,t)=>{t(e)},sendStatus:(e,t)=>{t(e)}};t.ServerInterceptingCall=class{constructor(e,t){var r,n,i,o;this.nextCall=e,this.processingMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:null!==(r=null==t?void 0:t.start)&&void 0!==r?r:f.start,sendMetadata:null!==(n=null==t?void 0:t.sendMetadata)&&void 0!==n?n:f.sendMetadata,sendMessage:null!==(i=null==t?void 0:t.sendMessage)&&void 0!==i?i:f.sendMessage,sendStatus:null!==(o=null==t?void 0:t.sendStatus)&&void 0!==o?o:f.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(e){this.responder.start((t=>{var r,n,i,o;const s={onReceiveMetadata:null!==(r=null==t?void 0:t.onReceiveMetadata)&&void 0!==r?r:p.onReceiveMetadata,onReceiveMessage:null!==(n=null==t?void 0:t.onReceiveMessage)&&void 0!==n?n:p.onReceiveMessage,onReceiveHalfClose:null!==(i=null==t?void 0:t.onReceiveHalfClose)&&void 0!==i?i:p.onReceiveHalfClose,onCancel:null!==(o=null==t?void 0:t.onCancel)&&void 0!==o?o:p.onCancel},a=new h(s,e);this.nextCall.start(a)}))}sendMetadata(e){this.processingMetadata=!0,this.responder.sendMetadata(e,(e=>{this.processingMetadata=!1,this.nextCall.sendMetadata(e),this.processPendingMessage(),this.processPendingStatus()}))}sendMessage(e,t){this.processingMessage=!0,this.responder.sendMessage(e,(e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.pendingMessageCallback=t):this.nextCall.sendMessage(e,t)}))}sendStatus(e){this.responder.sendStatus(e,(e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextCall.sendStatus(e)}))}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}};const g="grpc-accept-encoding",m="grpc-encoding",v="grpc-message",y="grpc-status",C="grpc-timeout",S=/(\d{1,8})\s*([HMSmun])/,T={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},b={[g]:"identity,deflate,gzip",[m]:"identity"},_={[o.constants.HTTP2_HEADER_STATUS]:o.constants.HTTP_STATUS_OK,[o.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},w={waitForTrailers:!0};class R{constructor(e,t,r,s,a){var h;this.stream=e,this.callEventTracker=r,this.handler=s,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=i.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=i.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",(e=>{})),this.stream.once("close",(()=>{var e;d("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:i.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()})),this.stream.on("data",(e=>{this.handleDataFrame(e)})),this.stream.pause(),this.stream.on("end",(()=>{this.handleEndEvent()})),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]),this.host=null!==(h=t[":authority"])&&void 0!==h?h:t.host,this.decoder=new l.StreamDecoder(this.maxReceiveMessageSize);const p=n.Metadata.fromHttp2Headers(t);c.isTracerEnabled(u)&&d("Request to "+this.handler.path+" received headers "+JSON.stringify(p.toJSON()));const f=p.get(C);f.length>0&&this.handleTimeoutHeader(f[0]);const v=p.get(m);v.length>0&&(this.incomingEncoding=v[0]),p.remove(C),p.remove(m),p.remove(g),p.remove(o.constants.HTTP2_HEADER_ACCEPT_ENCODING),p.remove(o.constants.HTTP2_HEADER_TE),p.remove(o.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=p}handleTimeoutHeader(e){const t=e.toString().match(S);if(null===t){const t={code:i.Status.INTERNAL,details:`Invalid ${C} value "${e}"`,metadata:null};return void process.nextTick((()=>{this.sendStatus(t)}))}const r=+t[1]*T[t[2]]|0,n=new Date;this.deadline=n.setMilliseconds(n.getMilliseconds()+r),this.deadlineTimer=setTimeout((()=>{const e={code:i.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(e)}),r)}checkCancelled(){return this.cancelled||!this.stream.destroyed&&!this.stream.closed||(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick((()=>{var e;null===(e=this.listener)||void 0===e||e.onCancel()})),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new n.Metadata)}serializeMessage(e){const t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}decompressMessage(e,t){const r=e.subarray(5);if("identity"===t)return r;if("deflate"===t||"gzip"===t){let e;return e="deflate"===t?a.createInflate():a.createGunzip(),new Promise(((t,n)=>{let o=0;const s=[];e.on("data",(t=>{s.push(t),o+=t.byteLength,-1!==this.maxReceiveMessageSize&&o>this.maxReceiveMessageSize&&(e.destroy(),n({code:i.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))})),e.on("end",(()=>{t(Buffer.concat(s))})),e.write(r),e.end()}))}return Promise.reject({code:i.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}async decompressAndMaybePush(e){if("COMPRESSED"!==e.type)throw new Error(`Invalid queue entry type: ${e.type}`);const t=1===e.compressedMessage.readUInt8(0)?this.incomingEncoding:"identity";let r;try{r=await this.decompressMessage(e.compressedMessage,t)}catch(e){return void this.sendStatus(e)}try{e.parsedMessage=this.handler.deserialize(r)}catch(e){return void this.sendStatus({code:i.Status.INTERNAL,details:`Error deserializing request: ${e.message}`})}e.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&"COMPRESSED"!==this.readQueue[0].type){this.isReadPending=!1;const e=this.readQueue.shift();"READABLE"===e.type?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(e){var t;if(this.checkCancelled())return;let r;d("Request to "+this.handler.path+" received data frame of size "+e.length);try{r=this.decoder.write(e)}catch(e){return void this.sendStatus({code:i.Status.RESOURCE_EXHAUSTED,details:e.message})}for(const e of r){this.stream.pause();const r={type:"COMPRESSED",compressedMessage:e,parsedMessage:null};this.readQueue.push(r),this.decompressAndMaybePush(r),null===(t=this.callEventTracker)||void 0===t||t.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(e){d("Request to "+this.handler.path+" start called"),this.checkCancelled()||(this.listener=e,e.onReceiveMetadata(this.metadata))}sendMetadata(e){if(this.checkCancelled())return;if(this.metadataSent)return;this.metadataSent=!0;const t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},_),b),t);this.stream.respond(r,w)}sendMessage(e,t){if(this.checkCancelled())return;let r;try{r=this.serializeMessage(e)}catch(e){return void this.sendStatus({code:i.Status.INTERNAL,details:`Error serializing response: ${(0,s.getErrorMessage)(e)}`,metadata:null})}-1!==this.maxSendMessageSize&&r.length-5>this.maxSendMessageSize?this.sendStatus({code:i.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${r.length} vs. ${this.maxSendMessageSize})`,metadata:null}):(this.maybeSendMetadata(),d("Request to "+this.handler.path+" sent data frame of size "+r.length),this.stream.write(r,(e=>{var r;e?this.sendStatus({code:i.Status.INTERNAL,details:`Error writing message: ${(0,s.getErrorMessage)(e)}`,metadata:null}):(null===(r=this.callEventTracker)||void 0===r||r.addMessageSent(),t())})))}sendStatus(e){var t,r;if(!this.checkCancelled())if(d("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+i.Status[e.code]+" details: "+e.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",(()=>{var t;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));const r=Object.assign({[y]:e.code,[v]:encodeURI(e.details)},null===(t=e.metadata)||void 0===t?void 0:t.toHttp2Headers());this.stream.sendTrailers(r),this.notifyOnCancel()})),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));const t=Object.assign(Object.assign({[y]:e.code,[v]:encodeURI(e.details)},_),null===(r=e.metadata)||void 0===r?void 0:r.toHttp2Headers());this.stream.respond(t,{endStream:!0}),this.notifyOnCancel()}}startRead(){d("Request to "+this.handler.path+" startRead called"),this.checkCancelled()||(this.isReadPending=!0,0===this.readQueue.length?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var e;const t=null===(e=this.stream.session)||void 0===e?void 0:e.socket;return(null==t?void 0:t.remoteAddress)?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}}t.BaseServerInterceptingCall=R,t.getServerInterceptingCall=function(e,t,r,n,i,o){const s={path:i.path,requestStream:"clientStream"===i.type||"bidi"===i.type,responseStream:"serverStream"===i.type||"bidi"===i.type,requestDeserialize:i.deserialize,responseSerialize:i.serialize},a=new R(t,r,n,i,o);return e.reduce(((e,t)=>t(s,e)),a)}},5943:function(e,t,r){"use strict";var n=this&&this.__runInitializers||function(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0},i=this&&this.__esDecorate||function(e,t,r,n,i,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,p=r.length-1;p>=0;p--){var f={};for(var g in n)f[g]="access"===g?{}:n[g];for(var g in n.access)f.access[g]=n.access[g];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var m=(0,r[p])("accessor"===l?{get:d.get,set:d.set}:d[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=s(m.get))&&(d.get=a),(a=s(m.set))&&(d.set=a),(a=s(m.init))&&i.unshift(a)}else(a=s(m))&&("field"===l?i.unshift(a):d[c]=a)}u&&Object.defineProperty(u,n.name,d),h=!0};Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;const o=r(5675),s=r(9023),a=r(131),l=r(6860),c=r(8692),u=r(9302),d=r(267),h=r(8996),p=r(3822),f=r(9503),g=r(4892),m=~(1<<31),v=~(1<<31),y=~(1<<31),{HTTP2_HEADER_PATH:C}=o.constants,S=Buffer.from("max_age");function T(){}function b(e){return{code:a.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}let _=(()=>{var e;let t,r=[];return e=class{constructor(e){var t,i,o,s,a,l;this.boundPorts=(n(this,r),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=null!=e?e:{},0===this.options["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new f.ChannelzTraceStub,this.callTracker=new f.ChannelzCallTrackerStub,this.listenerChildrenTracker=new f.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new f.ChannelzChildrenTrackerStub):(this.channelzTrace=new f.ChannelzTrace,this.callTracker=new f.ChannelzCallTracker,this.listenerChildrenTracker=new f.ChannelzChildrenTracker,this.sessionChildrenTracker=new f.ChannelzChildrenTracker),this.channelzRef=(0,f.registerChannelzServer)("server",(()=>this.getChannelzInfo()),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(t=this.options["grpc.max_connection_age_ms"])&&void 0!==t?t:m,this.maxConnectionAgeGraceMs=null!==(i=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==i?i:m,this.keepaliveTimeMs=null!==(o=this.options["grpc.keepalive_time_ms"])&&void 0!==o?o:v,this.keepaliveTimeoutMs=null!==(s=this.options["grpc.keepalive_timeout_ms"])&&void 0!==s?s:2e4,this.sessionIdleTimeout=null!==(a=this.options["grpc.max_connection_idle_ms"])&&void 0!==a?a:y,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=null!==(l=this.options.interceptors)&&void 0!==l?l:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(e){var t,r,n;const i=this.sessions.get(e),o=e.socket,s=o.remoteAddress?(0,h.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,a=o.localAddress?(0,h.stringToSubchannelAddress)(o.localAddress,o.localPort):null;let l;if(e.encrypted){const e=o,r=e.getCipher(),n=e.getCertificate(),i=e.getPeerCertificate();l={cipherSuiteStandardName:null!==(t=r.standardName)&&void 0!==t?t:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:n&&"raw"in n?n.raw:null,remoteCertificate:i&&"raw"in i?i.raw:null}}else l=null;return{remoteAddress:s,localAddress:a,security:l,remoteName:null,streamsStarted:i.streamTracker.callsStarted,streamsSucceeded:i.streamTracker.callsSucceeded,streamsFailed:i.streamTracker.callsFailed,messagesSent:i.messagesSent,messagesReceived:i.messagesReceived,keepAlivesSent:i.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:i.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:i.lastMessageSentTimestamp,lastMessageReceivedTimestamp:i.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(r=e.state.localWindowSize)&&void 0!==r?r:null,remoteFlowControlWindow:null!==(n=e.state.remoteWindowSize)&&void 0!==n?n:null}}trace(e){d.trace(a.LogVerbosity.DEBUG,"server","("+this.channelzRef.id+") "+e)}keepaliveTrace(e){d.trace(a.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw new Error("addService() requires two objects as arguments");const r=Object.keys(e);if(0===r.length)throw new Error("Cannot add an empty service to a server");r.forEach((r=>{const n=e[r];let i;i=n.requestStream?n.responseStream?"bidi":"clientStream":n.responseStream?"serverStream":"unary";let o,s=t[r];if(void 0===s&&"string"==typeof n.originalName&&(s=t[n.originalName]),o=void 0!==s?s.bind(t):function(e,t){const r=b(t);switch(e){case"unary":case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":case"bidi":return e=>{e.emit("error",r)};default:throw new Error(`Invalid handlerType ${e}`)}}(i,r),!1===this.register(n.path,o,n.responseSerialize,n.requestDeserialize,i))throw new Error(`Method handler for ${n.path} already provided.`)}))}removeService(e){if(null===e||"object"!=typeof e)throw new Error("removeService() requires object as argument");Object.keys(e).forEach((t=>{const r=e[t];this.unregister(r.path)}))}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}registerListenerToChannelz(e){return(0,f.registerChannelzSocket)((0,h.subchannelAddressToString)(e),(()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null})),this.channelzEnabled)}createHttp2Server(e){let t;if(e._isSecure()){const r=e._getSettings(),n=Object.assign(Object.assign(Object.assign({},this.commonServerOptions),r),{enableTrace:1===this.options["grpc-node.tls_enable_trace"]});let i=null!==r;t=o.createSecureServer(n),t.on("connection",(e=>{i||e.destroy()})),t.on("secureConnection",(e=>{e.on("error",(e=>{this.trace("An incoming TLS connection closed with error: "+e.message)}))}));const s=e=>{e&&t.setSecureContext(e),i=null!==e};e._addWatcher(s),t.on("close",(()=>{e._removeWatcher(s)}))}else t=o.createServer(this.commonServerOptions);return t.setTimeout(0,T),this._setupHandlers(t,e._getInterceptors()),t}bindOneAddress(e,t){this.trace("Attempting to bind "+(0,h.subchannelAddressToString)(e));const r=this.createHttp2Server(t.credentials);return new Promise(((n,i)=>{const o=t=>{this.trace("Failed to bind "+(0,h.subchannelAddressToString)(e)+" with error "+t.message),n({port:"port"in e?e.port:1,error:t.message})};r.once("error",o),r.listen(e,(()=>{const e=r.address();let i;i="string"==typeof e?{path:e}:{host:e.address,port:e.port};const s=this.registerListenerToChannelz(i);this.listenerChildrenTracker.refChild(s),this.http2Servers.set(r,{channelzRef:s,sessions:new Set}),t.listeningServers.add(r),this.trace("Successfully bound "+(0,h.subchannelAddressToString)(i)),n({port:"port"in i?i.port:1}),r.removeListener("error",o)}))}))}async bindManyPorts(e,t){if(0===e.length)return{count:0,port:0,errors:[]};if((0,h.isTcpSubchannelAddress)(e[0])&&0===e[0].port){const r=await this.bindOneAddress(e[0],t);if(r.error){const n=await this.bindManyPorts(e.slice(1),t);return Object.assign(Object.assign({},n),{errors:[r.error,...n.errors]})}{const n=e.slice(1).map((e=>(0,h.isTcpSubchannelAddress)(e)?{host:e.host,port:r.port}:e)),i=await Promise.all(n.map((e=>this.bindOneAddress(e,t)))),o=[r,...i];return{count:o.filter((e=>void 0===e.error)).length,port:r.port,errors:o.filter((e=>e.error)).map((e=>e.error))}}}{const r=await Promise.all(e.map((e=>this.bindOneAddress(e,t))));return{count:r.filter((e=>void 0===e.error)).length,port:r[0].port,errors:r.filter((e=>e.error)).map((e=>e.error))}}}async bindAddressList(e,t){const r=await this.bindManyPorts(e,t);if(r.count>0)return r.count<e.length&&d.log(a.LogVerbosity.INFO,`WARNING Only ${r.count} addresses added out of total ${e.length} resolved`),r.port;{const t=`No address added out of total ${e.length} resolved`;throw d.log(a.LogVerbosity.ERROR,t),new Error(`${t} errors: [${r.errors.join(",")}]`)}}resolvePort(e){return new Promise(((t,r)=>{const n={onSuccessfulResolution:(i,o,s)=>{n.onSuccessfulResolution=()=>{};const a=[].concat(...i.map((e=>e.addresses)));0!==a.length?t(a):r(new Error(`No addresses resolved for port ${e}`))},onError:e=>{r(new Error(e.details))}};(0,u.createResolver)(e,n,this.options).updateResolution()}))}async bindPort(e,t){const r=await this.resolvePort(e);if(t.cancelled)throw this.completeUnbind(t),new Error("bindAsync operation cancelled by unbind call");const n=await this.bindAddressList(r,t);if(t.cancelled)throw this.completeUnbind(t),new Error("bindAsync operation cancelled by unbind call");return n}normalizePort(e){const t=(0,p.parseUri)(e);if(null===t)throw new Error(`Could not parse port "${e}"`);const r=(0,u.mapUriDefaultScheme)(t);if(null===r)throw new Error(`Could not get a default scheme for port "${e}"`);return r}bindAsync(e,t,r){if(this.shutdown)throw new Error("bindAsync called after shutdown");if("string"!=typeof e)throw new TypeError("port must be a string");if(null===t||!(t instanceof c.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if("function"!=typeof r)throw new TypeError("callback must be a function");this.trace("bindAsync port="+e);const n=this.normalizePort(e),i=(e,t)=>{process.nextTick((()=>r(e,t)))};let o=this.boundPorts.get((0,p.uriToString)(n));if(o)return t._equals(o.credentials)?(o.cancelled=!1,void(o.completionPromise?o.completionPromise.then((e=>r(null,e)),(e=>r(e,0))):i(null,o.portNumber))):void i(new Error(`${e} already bound with incompatible credentials`),0);o={mapKey:(0,p.uriToString)(n),originalUri:n,completionPromise:null,cancelled:!1,portNumber:0,credentials:t,listeningServers:new Set};const s=(0,p.splitHostPort)(n.path),a=this.bindPort(n,o);o.completionPromise=a,0===(null==s?void 0:s.port)?a.then((e=>{const t={scheme:n.scheme,authority:n.authority,path:(0,p.combineHostPort)({host:s.host,port:e})};o.mapKey=(0,p.uriToString)(t),o.completionPromise=null,o.portNumber=e,this.boundPorts.set(o.mapKey,o),r(null,e)}),(e=>{r(e,0)})):(this.boundPorts.set(o.mapKey,o),a.then((e=>{o.completionPromise=null,o.portNumber=e,r(null,e)}),(e=>{r(e,0)})))}registerInjectorToChannelz(){return(0,f.registerChannelzSocket)("injector",(()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null})),this.channelzEnabled)}createConnectionInjector(e){if(null===e||!(e instanceof c.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");const t=this.createHttp2Server(e),r=this.registerInjectorToChannelz();this.channelzEnabled&&this.listenerChildrenTracker.refChild(r);const n=new Set;return this.http2Servers.set(t,{channelzRef:r,sessions:n}),{injectConnection:e=>{t.emit("connection",e)},drain:e=>{var t,r;for(const e of n)this.closeSession(e);null===(r=(t=setTimeout((()=>{for(const e of n)e.destroy(o.constants.NGHTTP2_CANCEL)}),e)).unref)||void 0===r||r.call(t)},destroy:()=>{this.closeServer(t);for(const e of n)this.closeSession(e)}}}closeServer(e,t){this.trace("Closing server with address "+JSON.stringify(e.address()));const r=this.http2Servers.get(e);e.close((()=>{r&&(this.listenerChildrenTracker.unrefChild(r.channelzRef),(0,f.unregisterChannelzRef)(r.channelzRef)),this.http2Servers.delete(e),null==t||t()}))}closeSession(e,t){var r;this.trace("Closing session initiated by "+(null===(r=e.socket)||void 0===r?void 0:r.remoteAddress));const n=this.sessions.get(e),i=()=>{n&&(this.sessionChildrenTracker.unrefChild(n.ref),(0,f.unregisterChannelzRef)(n.ref)),null==t||t()};e.closed?queueMicrotask(i):e.close(i)}completeUnbind(e){for(const t of e.listeningServers){const r=this.http2Servers.get(t);if(this.closeServer(t,(()=>{e.listeningServers.delete(t)})),r)for(const e of r.sessions)this.closeSession(e)}this.boundPorts.delete(e.mapKey)}unbind(e){this.trace("unbind port="+e);const t=this.normalizePort(e),r=(0,p.splitHostPort)(t.path);if(0===(null==r?void 0:r.port))throw new Error("Cannot unbind port 0");const n=this.boundPorts.get((0,p.uriToString)(t));n&&(this.trace("unbinding "+n.mapKey+" originally bound as "+(0,p.uriToString)(n.originalUri)),n.completionPromise?n.cancelled=!0:this.completeUnbind(n))}drain(e,t){var r,n;this.trace("drain port="+e+" graceTimeMs="+t);const i=this.normalizePort(e),s=(0,p.splitHostPort)(i.path);if(0===(null==s?void 0:s.port))throw new Error("Cannot drain port 0");const a=this.boundPorts.get((0,p.uriToString)(i));if(!a)return;const l=new Set;for(const e of a.listeningServers){const t=this.http2Servers.get(e);if(t)for(const e of t.sessions)l.add(e),this.closeSession(e,(()=>{l.delete(e)}))}null===(n=(r=setTimeout((()=>{for(const e of l)e.destroy(o.constants.NGHTTP2_CANCEL)}),t)).unref)||void 0===n||n.call(r)}forceShutdown(){for(const e of this.boundPorts.values())e.cancelled=!0;this.boundPorts.clear();for(const e of this.http2Servers.keys())this.closeServer(e);this.sessions.forEach(((e,t)=>{this.closeSession(t),t.destroy(o.constants.NGHTTP2_CANCEL)})),this.sessions.clear(),(0,f.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(e,t,r,n,i){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:i,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2Servers.size||[...this.http2Servers.keys()].every((e=>!e.listening)))throw new Error("server must be bound in order to start");if(!0===this.started)throw new Error("server is already started");this.started=!0}tryShutdown(e){var t;const r=t=>{(0,f.unregisterChannelzRef)(this.channelzRef),e(t)};let n=0;function i(){n--,0===n&&r()}this.shutdown=!0;for(const[e,r]of this.http2Servers.entries()){n++;const o=r.channelzRef.name;this.trace("Waiting for server "+o+" to close"),this.closeServer(e,(()=>{this.trace("Server "+o+" finished closing"),i()}));for(const e of r.sessions.keys()){n++;const r=null===(t=e.socket)||void 0===t?void 0:t.remoteAddress;this.trace("Waiting for session "+r+" to close"),this.closeSession(e,(()=>{this.trace("Session "+r+" finished closing"),i()}))}}0===n&&r()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){const r=t[o.constants.HTTP2_HEADER_CONTENT_TYPE];return!("string"!=typeof r||!r.startsWith("application/grpc"))||(e.respond({[o.constants.HTTP2_HEADER_STATUS]:o.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);const t=this.handlers.get(e);return void 0===t?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){var n,i;const s=Object.assign({"grpc-status":null!==(n=e.code)&&void 0!==n?n:a.Status.INTERNAL,"grpc-message":e.details,[o.constants.HTTP2_HEADER_STATUS]:o.constants.HTTP_STATUS_OK,[o.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},null===(i=e.metadata)||void 0===i?void 0:i.toHttp2Headers());t.respond(s,{endStream:!0}),this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed()}_channelzHandler(e,t,r){this.onStreamOpened(t);const n=this.sessions.get(t.session);if(this.callTracker.addCallStarted(),null==n||n.streamTracker.addCallStarted(),!this._verifyContentType(t,r))return this.callTracker.addCallFailed(),void(null==n||n.streamTracker.addCallFailed());const i=r[C],o=this._retrieveHandler(i);if(!o)return void this._respondWithError(b(i),t,n);const s={addMessageSent:()=>{n&&(n.messagesSent+=1,n.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{n&&(n.messagesReceived+=1,n.lastMessageReceivedTimestamp=new Date)},onCallEnd:e=>{e.code===a.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:e=>{n&&(e?n.streamTracker.addCallSucceeded():n.streamTracker.addCallFailed())}},l=(0,g.getServerInterceptingCall)([...e,...this.interceptors],t,r,s,o,this.options);this._runHandlerForCall(l,o)||(this.callTracker.addCallFailed(),null==n||n.streamTracker.addCallFailed(),l.sendStatus({code:a.Status.INTERNAL,details:`Unknown handler type: ${o.type}`}))}_streamHandler(e,t,r){if(this.onStreamOpened(t),!0!==this._verifyContentType(t,r))return;const n=r[C],i=this._retrieveHandler(n);if(!i)return void this._respondWithError(b(n),t,null);const o=(0,g.getServerInterceptingCall)([...e,...this.interceptors],t,r,null,i,this.options);this._runHandlerForCall(o,i)||o.sendStatus({code:a.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,t){const{type:r}=t;if("unary"===r)!async function(e,t){let r,n;function i(t,r,n,i){t?e.sendStatus((0,l.serverErrorToStatus)(t,n)):e.sendMessage(r,(()=>{e.sendStatus({code:a.Status.OK,details:"OK",metadata:null!=n?n:null})}))}let o=null;e.start({onReceiveMetadata(t){n=t,e.startRead()},onReceiveMessage(r){o?e.sendStatus({code:a.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${t.path}`,metadata:null}):(o=r,e.startRead())},onReceiveHalfClose(){if(o){r=new l.ServerWritableStreamImpl(t.path,e,n,o);try{t.func(r,i)}catch(t){e.sendStatus({code:a.Status.UNKNOWN,details:`Server method handler threw error ${t.message}`,metadata:null})}}else e.sendStatus({code:a.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${t.path}`,metadata:null})},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"))}})}(e,t);else if("clientStream"===r)!function(e,t){let r;function n(t,r,n,i){t?e.sendStatus((0,l.serverErrorToStatus)(t,n)):e.sendMessage(r,(()=>{e.sendStatus({code:a.Status.OK,details:"OK",metadata:null!=n?n:null})}))}e.start({onReceiveMetadata(i){r=new l.ServerDuplexStreamImpl(t.path,e,i);try{t.func(r,n)}catch(t){e.sendStatus({code:a.Status.UNKNOWN,details:`Server method handler threw error ${t.message}`,metadata:null})}},onReceiveMessage(e){r.push(e)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}(e,t);else if("serverStream"===r)!function(e,t){let r,n,i=null;e.start({onReceiveMetadata(t){n=t,e.startRead()},onReceiveMessage(r){i?e.sendStatus({code:a.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${t.path}`,metadata:null}):(i=r,e.startRead())},onReceiveHalfClose(){if(i){r=new l.ServerWritableStreamImpl(t.path,e,n,i);try{t.func(r)}catch(t){e.sendStatus({code:a.Status.UNKNOWN,details:`Server method handler threw error ${t.message}`,metadata:null})}}else e.sendStatus({code:a.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${t.path}`,metadata:null})},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}(e,t);else{if("bidi"!==r)return!1;!function(e,t){let r;e.start({onReceiveMetadata(n){r=new l.ServerDuplexStreamImpl(t.path,e,n);try{t.func(r)}catch(t){e.sendStatus({code:a.Status.UNKNOWN,details:`Server method handler threw error ${t.message}`,metadata:null})}},onReceiveMessage(e){r.push(e)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}(e,t)}return!0}_setupHandlers(e,t){if(null===e)return;const r=e.address();let n="null";r&&(n="string"==typeof r?r:r.address+":"+r.port),this.serverAddressString=n;const i=this.channelzEnabled?this._channelzHandler:this._streamHandler,o=this.channelzEnabled?this._channelzSessionHandler(e):this._sessionHandler(e);e.on("stream",i.bind(this,t)),e.on("session",o)}_sessionHandler(e){return t=>{var r,n;null===(r=this.http2Servers.get(e))||void 0===r||r.sessions.add(t);let i=null,s=null,a=null,l=!1;const c=this.enableIdleTimeout(t);if(this.maxConnectionAgeMs!==m){const e=this.maxConnectionAgeMs/10,r=Math.random()*e*2-e;i=setTimeout((()=>{var e,r;l=!0,this.trace("Connection dropped by max connection age: "+(null===(e=t.socket)||void 0===e?void 0:e.remoteAddress));try{t.goaway(o.constants.NGHTTP2_NO_ERROR,~(1<<31),S)}catch(e){return void t.destroy()}t.close(),this.maxConnectionAgeGraceMs!==m&&(s=setTimeout((()=>{t.destroy()}),this.maxConnectionAgeGraceMs),null===(r=s.unref)||void 0===r||r.call(s))}),this.maxConnectionAgeMs+r),null===(n=i.unref)||void 0===n||n.call(i)}const u=()=>{a&&(clearTimeout(a),a=null)},d=()=>!t.destroyed&&this.keepaliveTimeMs<v&&this.keepaliveTimeMs>0;let h;const p=()=>{var e;d()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),a=setTimeout((()=>{u(),h()}),this.keepaliveTimeMs),null===(e=a.unref)||void 0===e||e.call(a))};h=()=>{var e;if(!d())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let r="";try{t.ping(((e,r,n)=>{u(),e?(this.keepaliveTrace("Ping failed with error: "+e.message),l=!0,t.close()):(this.keepaliveTrace("Received ping response"),p())}))||(r="Ping returned false")}catch(e){r=(e instanceof Error?e.message:"")||"Unknown error"}if(r)return this.keepaliveTrace("Ping send failed: "+r),this.trace("Connection dropped due to ping send error: "+r),l=!0,void t.close();a=setTimeout((()=>{u(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),l=!0,t.close()}),this.keepaliveTimeoutMs),null===(e=a.unref)||void 0===e||e.call(a)},p(),t.on("close",(()=>{var r,n;l||this.trace(`Connection dropped by client ${null===(r=t.socket)||void 0===r?void 0:r.remoteAddress}`),i&&clearTimeout(i),s&&clearTimeout(s),u(),null!==c&&(clearTimeout(c.timeout),this.sessionIdleTimeouts.delete(t)),null===(n=this.http2Servers.get(e))||void 0===n||n.sessions.delete(t)}))}}_channelzSessionHandler(e){return t=>{var r,n,i,s;const a=(0,f.registerChannelzSocket)(null!==(n=null===(r=t.socket)||void 0===r?void 0:r.remoteAddress)&&void 0!==n?n:"unknown",this.getChannelzSessionInfo.bind(this,t),this.channelzEnabled),l={ref:a,streamTracker:new f.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};null===(i=this.http2Servers.get(e))||void 0===i||i.sessions.add(t),this.sessions.set(t,l);const c=`${t.socket.remoteAddress}:${t.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+c),this.trace("Connection established by client "+c),this.sessionChildrenTracker.refChild(a);let u=null,d=null,h=null,p=!1;const g=this.enableIdleTimeout(t);if(this.maxConnectionAgeMs!==m){const e=this.maxConnectionAgeMs/10,r=Math.random()*e*2-e;u=setTimeout((()=>{var e;p=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+c);try{t.goaway(o.constants.NGHTTP2_NO_ERROR,~(1<<31),S)}catch(e){return void t.destroy()}t.close(),this.maxConnectionAgeGraceMs!==m&&(d=setTimeout((()=>{t.destroy()}),this.maxConnectionAgeGraceMs),null===(e=d.unref)||void 0===e||e.call(d))}),this.maxConnectionAgeMs+r),null===(s=u.unref)||void 0===s||s.call(u)}const y=()=>{h&&(clearTimeout(h),h=null)},C=()=>!t.destroyed&&this.keepaliveTimeMs<v&&this.keepaliveTimeMs>0;let T;const b=()=>{var e;C()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),h=setTimeout((()=>{y(),T()}),this.keepaliveTimeMs),null===(e=h.unref)||void 0===e||e.call(h))};T=()=>{var e;if(!C())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let r="";try{t.ping(((e,r,n)=>{y(),e?(this.keepaliveTrace("Ping failed with error: "+e.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+e.message+" return in "+r),p=!0,t.close()):(this.keepaliveTrace("Received ping response"),b())}))||(r="Ping returned false")}catch(e){r=(e instanceof Error?e.message:"")||"Unknown error"}if(r)return this.keepaliveTrace("Ping send failed: "+r),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+r),p=!0,void t.close();l.keepAlivesSent+=1,h=setTimeout((()=>{y(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+c),p=!0,t.close()}),this.keepaliveTimeoutMs),null===(e=h.unref)||void 0===e||e.call(h)},b(),t.on("close",(()=>{var r;p||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+c),this.sessionChildrenTracker.unrefChild(a),(0,f.unregisterChannelzRef)(a),u&&clearTimeout(u),d&&clearTimeout(d),y(),null!==g&&(clearTimeout(g.timeout),this.sessionIdleTimeouts.delete(t)),null===(r=this.http2Servers.get(e))||void 0===r||r.sessions.delete(t),this.sessions.delete(t)}))}}enableIdleTimeout(e){var t,r;if(this.sessionIdleTimeout>=y)return null;const n={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,e),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,e)};null===(r=(t=n.timeout).unref)||void 0===r||r.call(t),this.sessionIdleTimeouts.set(e,n);const{socket:i}=e;return this.trace("Enable idle timeout for "+i.remoteAddress+":"+i.remotePort),n}onIdleTimeout(e,t){const{socket:r}=t,n=e.sessionIdleTimeouts.get(t);void 0!==n&&0===n.activeStreams&&(Date.now()-n.lastIdle>=e.sessionIdleTimeout?(e.trace("Session idle timeout triggered for "+(null==r?void 0:r.remoteAddress)+":"+(null==r?void 0:r.remotePort)+" last idle at "+n.lastIdle),e.closeSession(t)):n.timeout.refresh())}onStreamOpened(e){const t=e.session,r=this.sessionIdleTimeouts.get(t);r&&(r.activeStreams+=1,e.once("close",r.onClose))}onStreamClose(e){var t,r;const n=this.sessionIdleTimeouts.get(e);n&&(n.activeStreams-=1,0===n.activeStreams&&(n.lastIdle=Date.now(),n.timeout.refresh(),this.trace("Session onStreamClose"+(null===(t=e.socket)||void 0===t?void 0:t.remoteAddress)+":"+(null===(r=e.socket)||void 0===r?void 0:r.remotePort)+" at "+n.lastIdle)))}},(()=>{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;t=[function(e,t){return s.deprecate(e,"Calling start() is no longer necessary. It can be safely omitted.")}],i(e,null,t,{kind:"method",name:"start",static:!1,private:!1,access:{has:e=>"start"in e,get:e=>e.start},metadata:n},null,r),n&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})})(),e})();t.Server=_},5656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=t.validateRetryThrottling=void 0;const n=r(857),i=r(131),o=/^\d+(\.\d{1,9})?s$/;function s(e){if("service"in e&&""!==e.service){if("string"!=typeof e.service)throw new Error("Invalid method config name: invalid service: expected type string, got "+typeof e.service);if("method"in e&&""!==e.method){if("string"!=typeof e.method)throw new Error("Invalid method config name: invalid method: expected type string, got "+typeof e.service);return{service:e.service,method:e.method}}return{service:e.service}}if("method"in e&&void 0!==e.method)throw new Error("Invalid method config name: method set with empty or unset service");return{}}function a(e){var t;const r={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw new Error("Invalid method config: invalid name array");for(const t of e.name)r.name.push(s(t));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw new Error("Invalid method config: invalid waitForReady");r.waitForReady=e.waitForReady}if("timeout"in e)if("object"==typeof e.timeout){if(!("seconds"in e.timeout)||"number"!=typeof e.timeout.seconds)throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in e.timeout)||"number"!=typeof e.timeout.nanos)throw new Error("Invalid method config: invalid timeout.nanos");r.timeout=e.timeout}else{if("string"!=typeof e.timeout||!o.test(e.timeout))throw new Error("Invalid method config: invalid timeout");{const n=e.timeout.substring(0,e.timeout.length-1).split(".");r.timeout={seconds:0|n[0],nanos:0|(null!==(t=n[1])&&void 0!==t?t:0)}}}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw new Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw new Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=function(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in e)||"string"!=typeof e.initialBackoff||!o.test(e.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in e)||"string"!=typeof e.maxBackoff||!o.test(e.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in e)||"number"!=typeof e.backoffMultiplier||e.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in e)||!Array.isArray(e.retryableStatusCodes))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===e.retryableStatusCodes.length)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(const t of e.retryableStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else{if("string"!=typeof t)throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");if(!Object.values(i.Status).includes(t.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}(e.retryPolicy)}else"hedgingPolicy"in e&&(r.hedgingPolicy=function(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in e&&("string"!=typeof e.hedgingDelay||!o.test(e.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes))for(const t of e.nonFatalStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else{if("string"!=typeof t)throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");if(!Object.values(i.Status).includes(t.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}const t={maxAttempts:e.maxAttempts};return e.hedgingDelay&&(t.hedgingDelay=e.hedgingDelay),e.nonFatalStatusCodes&&(t.nonFatalStatusCodes=e.nonFatalStatusCodes),t}(e.hedgingPolicy));return r}function l(e){if(!("maxTokens"in e)||"number"!=typeof e.maxTokens||e.maxTokens<=0||e.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in e)||"number"!=typeof e.tokenRatio||e.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}function c(e){if("object"!=typeof e||null===e)throw new Error("Invalid loadBalancingConfig: unexpected type "+typeof e);const t=Object.keys(e);if(t.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${t}`);if(0===t.length)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[t[0]]:e[t[0]]}}function u(e){const t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"!=typeof e.loadBalancingPolicy)throw new Error("Invalid service config: invalid loadBalancingPolicy");t.loadBalancingPolicy=e.loadBalancingPolicy}if("loadBalancingConfig"in e){if(!Array.isArray(e.loadBalancingConfig))throw new Error("Invalid service config: invalid loadBalancingConfig");for(const r of e.loadBalancingConfig)t.loadBalancingConfig.push(c(r))}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(const r of e.methodConfig)t.methodConfig.push(a(r));"retryThrottling"in e&&(t.retryThrottling=l(e.retryThrottling));const r=[];for(const e of t.methodConfig)for(const t of e.name){for(const e of r)if(t.service===e.service&&t.method===e.method)throw new Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function d(e){if(!("serviceConfig"in e))throw new Error("Invalid service config choice: missing service config");const t={serviceConfig:u(e.serviceConfig)};if("clientLanguage"in e){if(!Array.isArray(e.clientLanguage))throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage=[];for(const r of e.clientLanguage){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage.push(r)}}if("clientHostname"in e){if(!Array.isArray(e.clientHostname))throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname=[];for(const r of e.clientHostname){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname.push(r)}}if("percentage"in e){if(!("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100))throw new Error("Invalid service config choice: invalid percentage");t.percentage=e.percentage}const r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const t in e)if(!r.includes(t))throw new Error(`Invalid service config choice: unexpected field ${t}`);return t}function h(e,t){if(!Array.isArray(e))throw new Error("Invalid service config list");for(const r of e){const e=d(r);if(!("number"==typeof e.percentage&&t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(const r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(const r of e.clientLanguage)"node"===r&&(t=!0);if(!t)continue}return e.serviceConfig}}throw new Error("No matching service config found")}t.validateRetryThrottling=l,t.validateServiceConfig=u,t.extractAndSelectServiceConfig=function(e,t){for(const r of e)if(r.length>0&&r[0].startsWith("grpc_config=")){const e=r.join("").substring(12);return h(JSON.parse(e),t)}return null}},2284:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0,t.StatusBuilder=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){const e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}},9453:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={})),t.StreamDecoder=class{constructor(e){this.maxReadMessageLength=e,this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,n=0;const i=[];for(;n<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+t),this.readSizeRemaining-=t,n+=t,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{const e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,i.push(e)}}break;case r.READING_MESSAGE:if(t=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+t)),this.readMessageRemaining-=t,n+=t,0===this.readMessageRemaining){const e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,i.push(t)}break;default:throw new Error("Unexpected read state")}return i}}},8996:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndpointMap=t.endpointHasAddress=t.endpointToString=t.endpointEqual=t.stringToSubchannelAddress=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;const n=r(9278);function i(e){return"port"in e}function o(e,t){return!e&&!t||!(!e||!t)&&(i(e)?i(t)&&e.host===t.host&&e.port===t.port:!i(t)&&e.path===t.path)}function s(e){return i(e)?(0,n.isIPv6)(e.host)?"["+e.host+"]:"+e.port:e.host+":"+e.port:e.path}function a(e,t){for(const r of e.addresses)if(o(r,t))return!0;return!1}function l(e,t){if(e.addresses.length!==t.addresses.length)return!1;for(const r of e.addresses){let e=!1;for(const n of t.addresses)if(o(r,n)){e=!0;break}if(!e)return!1}return!0}t.isTcpSubchannelAddress=i,t.subchannelAddressEqual=o,t.subchannelAddressToString=s,t.stringToSubchannelAddress=function(e,t){return(0,n.isIP)(e)?{host:e,port:null!=t?t:443}:{path:e}},t.endpointEqual=function(e,t){if(e.addresses.length!==t.addresses.length)return!1;for(let r=0;r<e.addresses.length;r++)if(!o(e.addresses[r],t.addresses[r]))return!1;return!0},t.endpointToString=function(e){return"["+e.addresses.map(s).join(", ")+"]"},t.endpointHasAddress=a,t.EndpointMap=class{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(e){for(const t of this.map)if(a(t.key,e))return t.value}deleteMissing(e){const t=[];for(const r of this.map){let n=!1;for(const t of e)l(t,r.key)&&(n=!0);n||(t.push(r.value),this.map.delete(r))}return t}get(e){for(const t of this.map)if(l(e,t.key))return t.value}set(e,t){for(const r of this.map)if(l(e,r.key))return void(r.value=t);this.map.add({key:e,value:t})}delete(e){for(const t of this.map)if(l(e,t.key))return void this.map.delete(t)}has(e){for(const t of this.map)if(l(e,t.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(const e of this.map)yield e.key}*values(){for(const e of this.map)yield e.value}*entries(){for(const e of this.map)yield[e.key,e.value]}}},5486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelCall=void 0;const n=r(5675),i=r(857),o=r(131),s=r(4097),a=r(9453),l=r(267),c=r(131);function u(e){const t=`Received HTTP status code ${e}`;let r;switch(e){case 400:r=o.Status.INTERNAL;break;case 401:r=o.Status.UNAUTHENTICATED;break;case 403:r=o.Status.PERMISSION_DENIED;break;case 404:r=o.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:r=o.Status.UNAVAILABLE;break;default:r=o.Status.UNKNOWN}return{code:r,details:t,metadata:new s.Metadata}}t.Http2SubchannelCall=class{constructor(e,t,r,l,c){var d;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=l,this.callId=c,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1;const h=null!==(d=l.getOptions()["grpc.max_receive_message_length"])&&void 0!==d?d:o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new a.StreamDecoder(h),e.on("response",((e,t)=>{let r="";for(const t of Object.keys(e))r+="\t\t"+t+": "+e[t]+"\n";if(this.trace("Received server headers:\n"+r),this.httpStatusCode=e[":status"],t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=s.Metadata.fromHttp2Headers(e)}catch(e){return void this.endCall({code:o.Status.UNKNOWN,details:e.message,metadata:new s.Metadata})}this.listener.onReceiveMetadata(t)}})),e.on("trailers",(e=>{this.handleTrailers(e)})),e.on("data",(e=>{if(this.statusOutput)return;let t;this.trace("receive HTTP/2 data frame of length "+e.length);try{t=this.decoder.write(e)}catch(e){return void this.cancelWithStatus(o.Status.RESOURCE_EXHAUSTED,e.message)}for(const e of t)this.trace("parsed message of length "+e.length),this.callEventTracker.addMessageReceived(),this.tryPush(e)})),e.on("end",(()=>{this.readsClosed=!0,this.maybeOutputStatus()})),e.on("close",(()=>{this.serverEndedCall=!0,process.nextTick((()=>{var t;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===o.Status.OK)return;let r,i="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;if(this.httpStatusCode&&200!==this.httpStatusCode){const e=u(this.httpStatusCode);r=e.code,i=e.details}else r=o.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=o.Status.UNAVAILABLE,i="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:r=o.Status.CANCELLED,i="Call cancelled";break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=o.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted or memory limit exceeded";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=o.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=o.Status.INTERNAL,null===this.internalError?i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(r=o.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=o.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:i,metadata:new s.Metadata,rstCode:e.rstCode})}))})),e.on("error",(e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+function(e){for(const[t,r]of Object.entries(i.constants.errno))if(r===e)return t;return"Unknown system error "+e}(e.errno)+" syscall="+e.syscall),this.internalError=e),this.callEventTracker.onStreamEnd(!1)}))}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.endCall({code:o.Status.UNAVAILABLE,details:"Connection dropped",metadata:new s.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick((()=>{this.listener.onReceiveStatus(this.finalStatus)})),this.http2Stream.resume())}trace(e){l.trace(c.LogVerbosity.DEBUG,"subchannel_call","["+this.callId+"] "+e)}endCall(e){null!==this.finalStatus&&this.finalStatus.code!==o.Status.OK||(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null!==this.finalStatus&&(this.finalStatus.code!==o.Status.OK||this.readsClosed&&0===this.unpushedReadMessages.length&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick((()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(e),this.maybeOutputStatus())}))}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let t,r="";for(const t of Object.keys(e))r+="\t\t"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=s.Metadata.fromHttp2Headers(e)}catch(e){t=new s.Metadata}const n=t.getMap();let i;if("string"==typeof n["grpc-status"]){const e=Number(n["grpc-status"]);this.trace("received status code "+e+" from server"),t.remove("grpc-status");let r="";if("string"==typeof n["grpc-message"]){try{r=decodeURI(n["grpc-message"])}catch(e){r=n["grpc-message"]}t.remove("grpc-message"),this.trace('received status details string "'+r+'" from server')}i={code:e,details:r,metadata:t}}else this.httpStatusCode?(i=u(this.httpStatusCode),i.metadata=t):i={code:o.Status.UNKNOWN,details:"No status information received",metadata:t};this.endCall(i)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===o.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new s.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==o.Status.OK)return this.readsClosed=!0,void this.maybeOutputStatus();if(this.canPush=!0,this.unpushedReadMessages.length>0){const e=this.unpushedReadMessages.shift();this.push(e)}else this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);const r=t=>{process.nextTick((()=>{var r;let n=o.Status.UNAVAILABLE;"ERR_STREAM_WRITE_AFTER_END"===(null==t?void 0:t.code)&&(n=o.Status.INTERNAL),t&&this.cancelWithStatus(n,`Write error: ${t.message}`),null===(r=e.callback)||void 0===r||r.call(e)}))};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(e){this.endCall({code:o.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new s.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}},2379:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubchannelWrapper=void 0,t.BaseSubchannelWrapper=class{constructor(e){this.child=e,this.healthy=!0,this.healthListeners=new Set,e.addHealthStateWatcher((e=>{this.healthy&&this.updateHealthListeners()}))}updateHealthListeners(){for(const e of this.healthListeners)e(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e)}removeHealthStateWatcher(e){this.healthListeners.delete(e)}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}},5716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;const n=r(6998),i=r(1385),o=r(8996),s=r(3822),a=r(2095);class l{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(const t in this.pool){const r=this.pool[t].filter((e=>!e.subchannel.unrefIfOneRef()));r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;null===this.cleanupTimer&&(this.cleanupTimer=setInterval((()=>{this.unrefUnusedSubchannels()}),1e4),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,l){this.ensureCleanupTask();const c=(0,s.uriToString)(e);if(c in this.pool){const e=this.pool[c];for(const i of e)if((0,o.subchannelAddressEqual)(t,i.subchannelAddress)&&(0,n.channelOptionsEqual)(r,i.channelArguments)&&l._equals(i.channelCredentials))return i.subchannel}const u=new i.Subchannel(e,t,r,l,new a.Http2SubchannelConnector(e));return c in this.pool||(this.pool[c]=[]),this.pool[c].push({subchannelAddress:t,channelArguments:r,channelCredentials:l,subchannel:u}),u.ref(),u}}t.SubchannelPool=l;const c=new l;t.getSubchannelPool=function(e){return e?c:new l}},1385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=void 0;const n=r(463),i=r(3956),o=r(267),s=r(131),a=r(3822),l=r(8996),c=r(9503);t.Subchannel=class{constructor(e,t,r,o,s){var a;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=o,this.connector=s,this.connectivityState=n.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;const u={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout((()=>{this.handleBackoffTimer()}),u),this.backoffTimeout.unref(),this.subchannelAddressString=(0,l.subchannelAddressToString)(t),this.keepaliveTime=null!==(a=r["grpc.keepalive_time_ms"])&&void 0!==a?a:-1,0===r["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new c.ChannelzTraceStub,this.callTracker=new c.ChannelzCallTrackerStub,this.childrenTracker=new c.ChannelzChildrenTrackerStub,this.streamTracker=new c.ChannelzCallTrackerStub):(this.channelzTrace=new c.ChannelzTrace,this.callTracker=new c.ChannelzCallTracker,this.childrenTracker=new c.ChannelzChildrenTracker,this.streamTracker=new c.ChannelzCallTracker),this.channelzRef=(0,c.registerChannelzSubchannel)(this.subchannelAddressString,(()=>this.getChannelzInfo()),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){o.trace(s.LogVerbosity.DEBUG,"subchannel","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){o.trace(s.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING):this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){const t=Math.min(this.keepaliveTime,2147483647);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then((e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.READY)?(this.transport=e,this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),e.addDisconnectListener((e=>{this.transitionToState([n.ConnectivityState.READY],n.ConnectivityState.IDLE),e&&this.keepaliveTime>0&&(this.keepaliveTime*=2,o.log(s.LogVerbosity.ERROR,`Connection to ${(0,a.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))}))):e.shutdown()}),(e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.TRANSIENT_FAILURE,`${e}`)}))}transitionToState(e,t,r){var i,o;if(-1===e.indexOf(this.connectivityState))return!1;this.trace(n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+n.ConnectivityState[t]);const s=this.connectivityState;switch(this.connectivityState=t,t){case n.ConnectivityState.READY:this.stopBackoff();break;case n.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case n.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(i=this.transport)||void 0===i||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick((()=>{this.handleBackoffTimer()}));break;case n.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(o=this.transport)||void 0===o||o.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(const e of this.stateListeners)e(this,s,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,c.unregisterChannelzRef)(this.channelzRef),process.nextTick((()=>{this.transitionToState([n.ConnectivityState.CONNECTING,n.ConnectivityState.READY],n.ConnectivityState.IDLE)})))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(e,t,r,n){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let i;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),i={onCallEnd:e=>{e.code===s.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):i={},this.transport.createCall(e,t,r,n,i)}startConnecting(){process.nextTick((()=>{this.transitionToState([n.ConnectivityState.IDLE],n.ConnectivityState.CONNECTING)||this.connectivityState===n.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)}))}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick((()=>{this.backoffTimeout.reset(),this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING)}))}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}}},9167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;const n=r(9896);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let o=null;t.getDefaultRootsData=function(){return i?(null===o&&(o=n.readFileSync(i)),o):null}},2095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelConnector=void 0;const n=r(5675),i=r(4756),o=r(9503),s=r(131),a=r(7803),l=r(267),c=r(9302),u=r(8996),d=r(3822),h=r(9278),p=r(5486),f=r(5572),g="transport",m=r(9943).rE,{HTTP2_HEADER_AUTHORITY:v,HTTP2_HEADER_CONTENT_TYPE:y,HTTP2_HEADER_METHOD:C,HTTP2_HEADER_PATH:S,HTTP2_HEADER_TE:T,HTTP2_HEADER_USER_AGENT:b}=n.constants,_=Buffer.from("too_many_pings","ascii");class w{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,u.subchannelAddressToString)(t),0===r["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.streamTracker=new o.ChannelzCallTrackerStub):this.streamTracker=new o.ChannelzCallTracker,this.channelzRef=(0,o.registerChannelzSocket)(this.subchannelAddressString,(()=>this.getChannelzInfo()),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${m}`,r["grpc.secondary_user_agent"]].filter((e=>e)).join(" "),this.keepaliveTimeMs="grpc.keepalive_time_ms"in r?r["grpc.keepalive_time_ms"]:-1,this.keepaliveTimeoutMs="grpc.keepalive_timeout_ms"in r?r["grpc.keepalive_timeout_ms"]:2e4,this.keepaliveWithoutCalls="grpc.keepalive_permit_without_calls"in r&&1===r["grpc.keepalive_permit_without_calls"],e.once("close",(()=>{this.trace("session closed"),this.handleDisconnect()})),e.once("goaway",((e,t,r)=>{let i=!1;e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(_)&&(i=!0),this.trace("connection closed by GOAWAY with code "+e+" and data "+(null==r?void 0:r.toString())),this.reportDisconnectToOwner(i)})),e.once("error",(e=>{this.trace("connection closed with error "+e.message)})),l.isTracerEnabled(g)&&(e.on("remoteSettings",(t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})),e.on("localSettings",(t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))}))),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;const n=this.session.socket,i=n.remoteAddress?(0,u.stringToSubchannelAddress)(n.remoteAddress,n.remotePort):null,o=n.localAddress?(0,u.stringToSubchannelAddress)(n.localAddress,n.localPort):null;let s;if(this.session.encrypted){const t=n,r=t.getCipher(),i=t.getCertificate(),o=t.getPeerCertificate();s={cipherSuiteStandardName:null!==(e=r.standardName)&&void 0!==e?e:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:i&&"raw"in i?i.raw:null,remoteCertificate:o&&"raw"in o?o.raw:null}}else s=null;return{remoteAddress:i,localAddress:o,security:s,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(t=this.session.state.localWindowSize)&&void 0!==t?t:null,remoteFlowControlWindow:null!==(r=this.session.state.remoteWindowSize)&&void 0!==r?r:null}}trace(e){l.trace(s.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){l.trace(s.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){l.trace(s.LogVerbosity.DEBUG,"transport_flowctrl","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){l.trace(s.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach((t=>t(e))))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1),setImmediate((()=>{for(const e of this.activeCalls)e.onDisconnect();this.session.destroy()}))}addDisconnectListener(e){this.disconnectListeners.push(e)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(!this.canSendPing())return void(this.pendingSendKeepalivePing=!0);if(this.keepaliveTimer)return void console.error("keepaliveTimeout is not null");this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout((()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()}),this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimer).unref)||void 0===t||t.call(e);let r="";try{this.session.ping(((e,t,r)=>{this.clearKeepaliveTimeout(),e?(this.keepaliveTrace("Ping failed with error "+e.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())}))||(r="Ping returned false")}catch(e){r=(e instanceof Error?e.message:"")||"Unknown error"}r&&(this.keepaliveTrace("Ping send failed: "+r),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout((()=>{this.keepaliveTimer=null,this.maybeSendPing()}),this.keepaliveTimeMs),null===(t=(e=this.keepaliveTimer).unref)||void 0===t||t.call(e)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(e){this.activeCalls.delete(e),0===this.activeCalls.size&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),1===this.activeCalls.size&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,n,i){const o=e.toHttp2Headers();let s,a,l;o[v]=t,o[b]=this.userAgent,o[y]="application/grpc",o[C]="POST",o[S]=r,o[T]="trailers";try{s=this.session.request(o)}catch(e){throw this.handleDisconnect(),e}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),a={addMessageSent:()=>{var e;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(l)},onStreamEnd:e=>{var t;e?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}}):a={addMessageSent:()=>{var e;null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(l)},onStreamEnd:e=>{var t;null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}},l=new p.Http2SubchannelCall(s,a,n,this,(0,f.getNextCallNumber)()),this.addActiveCall(l),l}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,o.unregisterChannelzRef)(this.channelzRef)}}t.Http2SubchannelConnector=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){l.trace(s.LogVerbosity.DEBUG,g,(0,d.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,o){return this.isShutdown?Promise.reject():new Promise(((s,a)=>{var l,p,f,g;let m;o.realTarget?(m=(0,d.uriToString)(o.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,d.uriToString)(o.realTarget))):(m=null,this.trace("creating HTTP/2 session to "+(0,u.subchannelAddressToString)(e)));const v=(0,c.getDefaultAuthority)(null!==(l=o.realTarget)&&void 0!==l?l:this.channelTarget);let y=t._getConnectionOptions()||{};y.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,y.maxSessionMemory="grpc-node.max_session_memory"in r?r["grpc-node.max_session_memory"]:Number.MAX_SAFE_INTEGER;let C="http://";if("secureContext"in y){if(C="https://",r["grpc.ssl_target_name_override"]){const e=r["grpc.ssl_target_name_override"],t=null!==(p=y.checkServerIdentity)&&void 0!==p?p:i.checkServerIdentity;y.checkServerIdentity=(r,n)=>t(e,n),y.servername=e}else{const e=null!==(g=null===(f=(0,d.splitHostPort)(v))||void 0===f?void 0:f.host)&&void 0!==g?g:"localhost";y.servername=e}o.socket&&(y.createConnection=(e,t)=>o.socket)}else y.createConnection=(t,r)=>o.socket?o.socket:h.connect(e);y=Object.assign(Object.assign(Object.assign({},y),e),{enableTrace:1===r["grpc-node.tls_enable_trace"]});const S=n.connect(C+v,y);this.session=S;let T="Failed to connect";S.unref(),S.once("connect",(()=>{S.removeAllListeners(),s(new w(S,e,r,m)),this.session=null})),S.once("close",(()=>{this.session=null,setImmediate((()=>{a(`${T} (${(new Date).toISOString()})`)}))})),S.once("error",(e=>{T=e.message,this.trace("connection failed with error "+T)}))}))}connect(e,t,r){var n,o,s;if(this.isShutdown)return Promise.reject();const l=t._getConnectionOptions()||{};if("secureContext"in l){if(l.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){const e=r["grpc.ssl_target_name_override"],t=null!==(n=l.checkServerIdentity)&&void 0!==n?n:i.checkServerIdentity;l.checkServerIdentity=(r,n)=>t(e,n),l.servername=e}else if("grpc.http_connect_target"in r){const e=(0,c.getDefaultAuthority)(null!==(o=(0,d.parseUri)(r["grpc.http_connect_target"]))&&void 0!==o?o:{path:"localhost"}),t=(0,d.splitHostPort)(e);l.servername=null!==(s=null==t?void 0:t.host)&&void 0!==s?s:e}r["grpc-node.tls_enable_trace"]&&(l.enableTrace=!0)}return(0,a.getProxiedConnection)(e,r,l).then((n=>this.createSession(e,t,r,n)))}shutdown(){var e;this.isShutdown=!0,null===(e=this.session)||void 0===e||e.close(),this.session=null}}},3822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.combineHostPort=t.splitHostPort=t.parseUri=void 0;const r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;t.parseUri=function(e){const t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}};const n=/^\d+$/;t.splitHostPort=function(e){if(e.startsWith("[")){const t=e.indexOf("]");if(-1===t)return null;const r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(e.length>t+1){if(":"===e[t+1]){const i=e.substring(t+2);return n.test(i)?{host:r,port:+i}:null}return null}return{host:r}}{const t=e.split(":");return 2===t.length?n.test(t[1])?{host:t[0],port:+t[1]}:null:{host:e}}},t.combineHostPort=function(e){return void 0===e.port?e.host:e.host.includes(":")?`[${e.host}]:${e.port}`:`${e.host}:${e.port}`},t.uriToString=function(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path,t}},6787:(e,t,r)=>{"use strict";r.r(t),r.d(t,{OrderedMap:()=>d});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}"function"==typeof SuppressedError&&SuppressedError;var o=function(){function e(e,t,r){void 0===r&&(r=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=t,this.l=r}return e.prototype.v=function(){var e=this,t=e.h.h===e;if(t&&1===e.l)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else{if(t)return e.h;for(var r=e.h;r.t===e;)r=(e=r).h;e=r}return e},e.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}for(var t=e.h;t.i===e;)t=(e=t).h;return e.i!==t?t:e},e.prototype.T=function(){var e=this.h,t=this.i,r=t.t;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.t=this,this.h=t,this.i=r,r&&(r.h=this),t},e.prototype.I=function(){var e=this.h,t=this.t,r=t.i;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.i=this,this.h=t,this.t=r,r&&(r.h=this),t},e}(),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.O=1,t}return i(t,e),t.prototype.T=function(){var t=e.prototype.T.call(this);return this.M(),t.M(),t},t.prototype.I=function(){var t=e.prototype.I.call(this);return this.M(),t.M(),t},t.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},t}(o),a=function(){function e(e){void 0===e&&(e=0),this.iteratorType=e}return e.prototype.equals=function(e){return this.C===e.C},e}();function l(){throw new RangeError("Iterator access denied!")}var c=function(e){function t(t,r){void 0===t&&(t=function(e,t){return e<t?-1:e>t?1:0}),void 0===r&&(r=!1);var n=e.call(this)||this;return n.N=void 0,n.g=t,n.enableIndex=r,n.S=r?s:o,n.A=new n.S,n}return i(t,e),t.prototype.m=function(e,t){for(var r=this.A;e;){var n=this.g(e.u,t);if(n<0)e=e.i;else{if(!(n>0))return e;r=e,e=e.t}}return r},t.prototype.B=function(e,t){for(var r=this.A;e;)this.g(e.u,t)<=0?e=e.i:(r=e,e=e.t);return r},t.prototype.j=function(e,t){for(var r=this.A;e;){var n=this.g(e.u,t);if(n<0)r=e,e=e.i;else{if(!(n>0))return e;e=e.t}}return r},t.prototype.k=function(e,t){for(var r=this.A;e;)this.g(e.u,t)<0?(r=e,e=e.i):e=e.t;return r},t.prototype.R=function(e){for(;;){var t,r=e.h;if(r===this.A)return;if(1===e.l)return void(e.l=0);if(e===r.t)if(1===(t=r.i).l)t.l=0,r.l=1,r===this.N?this.N=r.T():r.T();else{if(t.i&&1===t.i.l)return t.l=r.l,r.l=0,t.i.l=0,void(r===this.N?this.N=r.T():r.T());t.t&&1===t.t.l?(t.l=1,t.t.l=0,t.I()):(t.l=1,e=r)}else if(1===(t=r.t).l)t.l=0,r.l=1,r===this.N?this.N=r.I():r.I();else{if(t.t&&1===t.t.l)return t.l=r.l,r.l=0,t.t.l=0,void(r===this.N?this.N=r.I():r.I());t.i&&1===t.i.l?(t.l=1,t.i.l=0,t.T()):(t.l=1,e=r)}}},t.prototype.G=function(e){if(1!==this._){for(var t=e;t.t||t.i;){if(t.i)for(t=t.i;t.t;)t=t.t;else t=t.t;var r=e.u;e.u=t.u,t.u=r;var n=e.o;e.o=t.o,t.o=n,e=t}this.A.t===t?this.A.t=t.h:this.A.i===t&&(this.A.i=t.h),this.R(t);var i=t.h;if(t===i.t?i.t=void 0:i.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;i!==this.A;)i.O-=1,i=i.h}else this.clear()},t.prototype.P=function(e){for(var t="number"==typeof e?e:void 0,r="function"==typeof e?e:void 0,n=void 0===e?[]:void 0,i=0,o=this.N,s=[];s.length||o;)if(o)s.push(o),o=o.t;else{if(o=s.pop(),i===t)return o;n&&n.push(o),r&&r(o,i,this),i+=1,o=o.i}return n},t.prototype.q=function(e){for(;;){var t=e.h;if(0===t.l)return;var r=t.h;if(t===r.t){if((n=r.i)&&1===n.l){if(n.l=t.l=0,r===this.N)return;r.l=1,e=r;continue}if(e!==t.i)return t.l=0,r===this.N?this.N=r.I():r.I(),void(r.l=1);e.l=0,e.t&&(e.t.h=t),e.i&&(e.i.h=r),t.i=e.t,r.t=e.i,e.t=t,e.i=r,r===this.N?(this.N=e,this.A.h=e):(i=r.h).t===r?i.t=e:i.i=e,e.h=r.h,t.h=e,r.h=e,r.l=1}else{var n,i;if((n=r.t)&&1===n.l){if(n.l=t.l=0,r===this.N)return;r.l=1,e=r;continue}if(e!==t.t)return t.l=0,r===this.N?this.N=r.T():r.T(),void(r.l=1);e.l=0,e.t&&(e.t.h=r),e.i&&(e.i.h=t),r.i=e.t,t.t=e.i,e.t=r,e.i=t,r===this.N?(this.N=e,this.A.h=e):(i=r.h).t===r?i.t=e:i.i=e,e.h=r.h,t.h=e,r.h=e,r.l=1}return void(this.enableIndex&&(t.M(),r.M(),e.M()))}},t.prototype.D=function(e,t,r){if(void 0===this.N)return this._+=1,this.N=new this.S(e,t,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var n,i=this.A.t,o=this.g(i.u,e);if(0===o)return i.o=t,this._;if(o>0)i.t=new this.S(e,t),i.t.h=i,n=i.t,this.A.t=n;else{var s=this.A.i,a=this.g(s.u,e);if(0===a)return s.o=t,this._;if(a<0)s.i=new this.S(e,t),s.i.h=s,n=s.i,this.A.i=n;else{if(void 0!==r){var l=r.C;if(l!==this.A){var c=this.g(l.u,e);if(0===c)return l.o=t,this._;if(c>0){var u=l.v(),d=this.g(u.u,e);if(0===d)return u.o=t,this._;d<0&&(n=new this.S(e,t),void 0===u.i?(u.i=n,n.h=u):(l.t=n,n.h=l))}}}if(void 0===n)for(n=this.N;;){var h=this.g(n.u,e);if(h>0){if(void 0===n.t){n.t=new this.S(e,t),n.t.h=n,n=n.t;break}n=n.t}else{if(!(h<0))return n.o=t,this._;if(void 0===n.i){n.i=new this.S(e,t),n.i.h=n,n=n.i;break}n=n.i}}}}if(this.enableIndex)for(var p=n.h;p!==this.A;)p.O+=1,p=p.h;return this.q(n),this._+=1,this._},t.prototype.F=function(e,t){for(;e;){var r=this.g(e.u,t);if(r<0)e=e.i;else{if(!(r>0))return e;e=e.t}}return e||this.A},t.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},t.prototype.updateKeyByIterator=function(e,t){var r=e.C;if(r===this.A&&l(),1===this._)return r.u=t,!0;var n=r.p().u;if(r===this.A.t)return this.g(n,t)>0&&(r.u=t,!0);var i=r.v().u;return r===this.A.i?this.g(i,t)<0&&(r.u=t,!0):!(this.g(i,t)>=0||this.g(n,t)<=0||(r.u=t,0))},t.prototype.eraseElementByPos=function(e){if(e<0||e>this._-1)throw new RangeError;var t=this.P(e);return this.G(t),this._},t.prototype.eraseElementByKey=function(e){if(0===this._)return!1;var t=this.F(this.N,e);return t!==this.A&&(this.G(t),!0)},t.prototype.eraseElementByIterator=function(e){var t=e.C;t===this.A&&l();var r=void 0===t.i;return 0===e.iteratorType?r&&e.next():r&&void 0!==t.t||e.next(),this.G(t),e},t.prototype.getHeight=function(){return 0===this._?0:function e(t){return t?Math.max(e(t.t),e(t.i))+1:0}(this.N)},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(function(){function e(){this._=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),e.prototype.size=function(){return this._},e.prototype.empty=function(){return 0===this._},e}())),u=function(e){function t(t,r,n,i){var o=e.call(this,t,r,i)||this;return o.container=n,o}return i(t,e),Object.defineProperty(t.prototype,"pointer",{get:function(){this.C===this.A&&l();var e=this;return new Proxy([],{get:function(t,r){return"0"===r?e.C.u:"1"===r?e.C.o:(t[0]=e.C.u,t[1]=e.C.o,t[r])},set:function(t,r,n){if("1"!==r)throw new TypeError("prop must be 1");return e.C.o=n,!0}})},enumerable:!1,configurable:!0}),t.prototype.copy=function(){return new t(this.C,this.A,this.container,this.iteratorType)},t}(function(e){function t(t,r,n){var i=e.call(this,n)||this;return i.C=t,i.A=r,0===i.iteratorType?(i.pre=function(){return this.C===this.A.t&&l(),this.C=this.C.v(),this},i.next=function(){return this.C===this.A&&l(),this.C=this.C.p(),this}):(i.pre=function(){return this.C===this.A.i&&l(),this.C=this.C.p(),this},i.next=function(){return this.C===this.A&&l(),this.C=this.C.v(),this}),i}return i(t,e),Object.defineProperty(t.prototype,"index",{get:function(){var e=this.C,t=this.A.h;if(e===this.A)return t?t.O-1:0;var r=0;for(e.t&&(r+=e.t.O);e!==t;){var n=e.h;e===n.i&&(r+=1,n.t&&(r+=n.t.O)),e=n}return r},enumerable:!1,configurable:!0}),t.prototype.isAccessible=function(){return this.C!==this.A},t}(a)),d=function(e){function t(t,r,n){void 0===t&&(t=[]);var i=e.call(this,r,n)||this,o=i;return t.forEach((function(e){o.setElement(e[0],e[1])})),i}return i(t,e),t.prototype.begin=function(){return new u(this.A.t||this.A,this.A,this)},t.prototype.end=function(){return new u(this.A,this.A,this)},t.prototype.rBegin=function(){return new u(this.A.i||this.A,this.A,this,1)},t.prototype.rEnd=function(){return new u(this.A,this.A,this,1)},t.prototype.front=function(){if(0!==this._){var e=this.A.t;return[e.u,e.o]}},t.prototype.back=function(){if(0!==this._){var e=this.A.i;return[e.u,e.o]}},t.prototype.lowerBound=function(e){var t=this.m(this.N,e);return new u(t,this.A,this)},t.prototype.upperBound=function(e){var t=this.B(this.N,e);return new u(t,this.A,this)},t.prototype.reverseLowerBound=function(e){var t=this.j(this.N,e);return new u(t,this.A,this)},t.prototype.reverseUpperBound=function(e){var t=this.k(this.N,e);return new u(t,this.A,this)},t.prototype.forEach=function(e){this.P((function(t,r,n){e([t.u,t.o],r,n)}))},t.prototype.setElement=function(e,t,r){return this.D(e,t,r)},t.prototype.getElementByPos=function(e){if(e<0||e>this._-1)throw new RangeError;var t=this.P(e);return[t.u,t.o]},t.prototype.find=function(e){var t=this.F(this.N,e);return new u(t,this.A,this)},t.prototype.getElementByKey=function(e){return this.F(this.N,e).o},t.prototype.union=function(e){var t=this;return e.forEach((function(e){t.setElement(e[0],e[1])})),this._},t.prototype[Symbol.iterator]=function(){var e,t,r,n;return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}(this,(function(i){switch(i.label){case 0:e=this._,t=this.P(),r=0,i.label=1;case 1:return r<e?[4,[(n=t[r]).u,n.o]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++r,[3,1];case 4:return[2]}}))},t}(c)},956:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AppInsightsCore:()=>f,BaseTelemetryPlugin:()=>R.s,DiagnosticLogger:()=>l.wq,EventLatency:()=>v,EventPersistence:()=>C,EventPropertyType:()=>y,EventsDiscardedReason:()=>P.x,FullVersionString:()=>d.xE,InternalAppInsightsCore:()=>c._,LoggingSeverity:()=>_,MinChannelPriorty:()=>b,NotificationManager:()=>w.h,PerfEvent:()=>s.Q6,PerfManager:()=>s.NS,ProcessTelemetryContext:()=>E.W0,SenderPostManager:()=>B.v,TraceLevel:()=>S,Undefined:()=>A.bA,ValueKind:()=>m,ValueSanitizer:()=>T,Version:()=>d.Rx,_InternalLogMessage:()=>l.WD,__getRegisteredEvents:()=>k.El,_appendHeader:()=>D.LU,_getAllResponseHeaders:()=>D.w3,_logInternalMessage:()=>l.Oc,_testHookMaxUnloadHooksCb:()=>q.d,_throwInternal:()=>l.ZP,_warnToConsole:()=>l.OG,addEventHandler:()=>k.So,addEventListeners:()=>k.lQ,addPageHideEventListener:()=>k.Fc,addPageShowEventListener:()=>k.oS,addPageUnloadEventListener:()=>k.ee,areCookiesSupported:()=>x.gi,arrForEach:()=>o.Iuo,arrIndexOf:()=>o.rDm,arrMap:()=>o.W$7,arrReduce:()=>o.KTd,attachEvent:()=>k.Q3,blockDynamicConversion:()=>L.V9,convertAllHeadersToMap:()=>D.IL,cookieAvailable:()=>x.gi,createCookieMgr:()=>x.xN,createDynamicConfig:()=>a.e,createEnumStyle:()=>g.H,createGuid:()=>d.gj,createProcessTelemetryContext:()=>E.i8,createTraceParent:()=>F.wk,createUniqueNamespace:()=>N.Z,createUnloadHandlerContainer:()=>j.P,dateNow:()=>o.f0d,detachEvent:()=>k.Ym,disallowsSameSiteNone:()=>x.It,doPerf:()=>s.r2,dumpObj:()=>o.mmD,eventOff:()=>k.ML,eventOn:()=>k.mB,extend:()=>d.X$,findW3cTraceParent:()=>F.ef,forceDynamicConversion:()=>L.Hf,formatErrorMessageXdr:()=>D.HU,formatErrorMessageXhr:()=>D.r4,formatTraceParent:()=>F.L0,generateW3CId:()=>O.cL,getCommonSchemaMetaData:()=>d.Go,getConsole:()=>M.U5,getCookieValue:()=>d.UM,getCrypto:()=>M.MY,getDocument:()=>o.YEm,getDynamicConfigHandler:()=>L.QA,getExceptionName:()=>D.lL,getFieldValueType:()=>d.cq,getGlobal:()=>o.mS$,getGlobalInst:()=>o.zS2,getHistory:()=>o.JKf,getIEVersion:()=>M.L0,getISOString:()=>D._u,getJSON:()=>M.hm,getLocation:()=>M.g$,getMsCrypto:()=>M.iN,getNavigator:()=>o.w3n,getPerformance:()=>o.FJj,getResponseText:()=>D.Lo,getSetValue:()=>D.c2,getTenantId:()=>d.EO,getTime:()=>d.WB,getWindow:()=>o.zkX,hasDocument:()=>o.Wtk,hasHistory:()=>o.twz,hasJSON:()=>M.Z,hasNavigator:()=>o.w9M,hasOwnProperty:()=>o.v0u,hasWindow:()=>o.Vdv,isArray:()=>o.cyL,isArrayValid:()=>d.wJ,isBeaconsSupported:()=>M.Uf,isBoolean:()=>o.Lmq,isChromium:()=>d.F2,isDate:()=>o.$PY,isDocumentObjectAvailable:()=>d.g8,isError:()=>o.bJ7,isFetchSupported:()=>M.R7,isFunction:()=>o.Tnt,isGreaterThanZero:()=>d.ei,isIE:()=>M.lT,isLatency:()=>d.Hh,isNotTruthy:()=>o.woc,isNullOrUndefined:()=>o.hXl,isNumber:()=>o.EtT,isObject:()=>o.Gvm,isReactNative:()=>M.lV,isSampledFlag:()=>F.N7,isString:()=>o.KgX,isTruthy:()=>o.zzB,isTypeof:()=>o.Edw,isUint8ArrayAvailable:()=>d.h3,isUndefined:()=>o.b07,isValidSpanId:()=>F.wN,isValidTraceId:()=>F.hX,isValidTraceParent:()=>F.mJ,isValueAssigned:()=>d.yD,isValueKind:()=>d.m0,isWindowObjectAvailable:()=>d.P$,isXhrSupported:()=>M.xk,mergeEvtNamespace:()=>k.Hm,newGuid:()=>O.aq,newId:()=>I.Si,normalizeJsName:()=>D.cH,objDefineAccessors:()=>o.raO,objForEachKey:()=>o.zav,objFreeze:()=>o.N6t,objKeys:()=>o.cGk,objSeal:()=>o.jsL,onConfigChange:()=>a.a,openXhr:()=>d.H$,optimizeObject:()=>D.hW,parseResponse:()=>G.x,parseTraceParent:()=>F.ZI,perfNow:()=>o.UUD,prependTransports:()=>D.jL,proxyAssign:()=>D.qz,proxyFunctionAs:()=>D.RF,proxyFunctions:()=>D.o$,random32:()=>I.VN,randomValue:()=>I.Z1,removeEventHandler:()=>k.zh,removeEventListeners:()=>k.Wg,removePageHideEventListener:()=>k.sq,removePageShowEventListener:()=>k.vF,removePageUnloadEventListener:()=>k.Ds,safeGetCookieMgr:()=>x.um,safeGetLogger:()=>l.y0,sanitizeProperty:()=>d.TC,setEnableEnvMocks:()=>M.cU,setProcessTelemetryTimings:()=>d.u9,setValue:()=>D.KY,strContains:()=>D.Ju,strEndsWith:()=>o.Cv9,strFunction:()=>A.hW,strObject:()=>A._1,strPrototype:()=>A.vR,strStartsWith:()=>o.tGl,strTrim:()=>o.EHq,strUndefined:()=>A.bA,throwError:()=>o.$8,toISOString:()=>D._u,useXDomainRequest:()=>M.PV});var n=r(659),i=r(8279),o=r(269),s=r(5775),a=r(9749),l=r(3775),c=r(2774),u=r(937),d=r(4822),h=r(1739),p=(0,o.ZHX)({endpointUrl:u.S,propertyStorageOverride:{isVal:function(e){return!e||e.getProperty&&e.setProperty||(0,o.$8)("Invalid property storage override passed."),!0}}}),f=function(e){function t(){var r=e.call(this)||this;return(0,i.A)(t,r,(function(e,t){e[h.mE]=function(r,n,i,c){(0,s.r2)(e,(function(){return"AppInsightsCore.initialize"}),(function(){try{t[h.mE]((0,a.e)(r,p,i||e[h.Uw],!1).cfg,n,i,c)}catch(t){var s=e[h.Uw],u=(0,o.mmD)(t);-1!==u[h.Sj]("channels")&&(u+="\n - Channels must be provided through config.channels only!"),(0,l.ZP)(s,1,514,"SDK Initialization Failed - no telemetry will be sent: "+u)}}),(function(){return{config:r,extensions:n,logger:i,notificationManager:c}}))},e.track=function(r){(0,s.r2)(e,(function(){return"AppInsightsCore.track"}),(function(){var n=r;if(n){n[h.dg]=n[h.dg]||{},n[h.dg].trackStart=(0,d.WB)(),(0,d.Hh)(n.latency)||(n.latency=1);var i=n.ext=n.ext||{};i.sdk=i.sdk||{},i.sdk.ver=d.xE;var o=n.baseData=n.baseData||{};o[u._0]=o[u._0]||{};var s=o[u._0];s[u.hj]=s[u.hj]||e.pluginVersionString||u.m5}t.track(n)}),(function(){return{item:r}}),!r.sync)},e[h.h4]=function(e){return t[h.h4](e||"InternalLog")}})),r}return(0,n.qU)(t,e),t.__ieDyn=1,t}(c._),g=r(4282),m=(0,g.H)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,Pii_IPv6ScrubLastHextets:14,Pii_DropValue:15,CustomerContent_GenericContent:32}),v=(0,g.H)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),y=(0,g.H)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),C=(0,g.H)({Normal:1,Critical:2}),S=(0,g.H)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),T=function(){function e(e){var t=this,r={},n=[],i=[];function s(e,t){var s,a=r[e];if(a&&(s=a[t]),!s&&null!==s){if((0,o.KgX)(e)&&(0,o.KgX)(t))if(i[h.oI]>0){for(var l=0;l<i[h.oI];l++)if(i[l][h.hF](e,t)){s={canHandle:!0,fieldHandler:i[l]};break}}else 0===n[h.oI]&&(s={canHandle:!0});if(!s&&null!==s)for(s=null,l=0;l<n[h.oI];l++)if(n[l][h.hF](e,t)){s={canHandle:!0,handler:n[l],fieldHandler:null};break}a||(a=r[e]={}),a[t]=s}return s}function a(e,t,r,n,i,s){if(e.handler)return e.handler.property(t,r,i,s);if(!(0,o.hXl)(i[h.QV])){if(!(4096&~n&&(0,d.m0)(i[h.QV])))return null;i[h.pF]=i[h.pF].toString()}return c(e.fieldHandler,t,r,n,i)}function l(e,t,r){return(0,d.yD)(r)?{value:r}:null}function c(e,r,n,i,s){if(s&&e){var a=e.getSanitizer(r,n,i,s[h.QV],s.propertyType);if(a)if(4===i){var u={},p=s[h.pF];(0,o.zav)(p,(function(t,i){var o=r+"."+n;if((0,d.yD)(i)){var s=l(0,0,i);(s=c(e,o,t,(0,d.cq)(i),s))&&(u[t]=s[h.pF])}})),s[h.pF]=u}else{var f={path:r,name:n,type:i,prop:s,sanitizer:t};s=a.call(t,f)}}return s}e&&i.push(e),t.clearCache=function(){r={}},t.addSanitizer=function(e){e&&((0,o.Nq2)(n,e)||n.push(e),r={})},t.addFieldSanitizer=function(e){e&&((0,o.Nq2)(i,e)||i.push(e),r={})},t[h.Rl]=function(e){if(e){var t=(0,o.rDm)(n,e);-1!==t&&(n.splice(t,1),r={}),(0,o.Iuo)(n,(function(t){t&&t[h.Rl]&&t[h.Rl](e)}))}},t[h.Mr]=function(e){if(e){var t=(0,o.rDm)(i,e);-1!==t&&(i.splice(t,1),r={}),(0,o.Iuo)(n,(function(t){t&&t[h.Mr]&&t[h.Mr](e)}))}},t.isEmpty=function(){return(0,o.R3R)(n)+(0,o.R3R)(i)===0},t[h.hF]=function(e,t){var r=s(e,t);return!!r&&r[h.nw]},t[h.pF]=function(e,t,r,n){var i=s(e,t);if(i&&i[h.nw]){if(!i||!i[h.nw])return null;if(i.handler)return i.handler[h.pF](e,t,r,n);if(!(0,o.KgX)(t)||(0,o.hXl)(r)||r===u.m5)return null;var c=null,p=(0,d.cq)(r);if(8192&~p)1!==p&&2!==p&&3!==p&&4096&~p?4===p&&(c=l(0,0,n?JSON.stringify(r):r)):c=l(0,0,r);else{var f=-8193&p;if(c=r,!(0,d.yD)(c[h.pF])||1!==f&&2!==f&&3!==f&&4096&~f)return null}if(c)return a(i,e,t,p,c,n)}return null},t.property=function(e,t,r,n){var i=s(e,t);if(!i||!i[h.nw])return null;if(!(0,o.KgX)(t)||(0,o.hXl)(r)||!(0,d.yD)(r[h.pF]))return null;var l=(0,d.cq)(r[h.pF]);return 0===l?null:a(i,e,t,l,r,n)}}return e.getFieldType=d.cq,e}(),b=100,_=(0,g.H)({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),w=r(1356),R=r(8257),E=r(2317),P=r(3662),k=r(6149),D=r(3673),O=r(9882),I=r(6535),M=r(7292),A=r(5664),x=r(5034),N=r(4276),j=r(836),F=r(1864),L=r(9147),B=r(856),G=r(1190),q=r(8969)},937:(e,t,r)=>{"use strict";r.d(t,{S:()=>i,_0:()=>s,hj:()=>o,m5:()=>n});var n="",i="https://browser.events.data.microsoft.com/OneCollector/1.0/",o="version",s="properties"},4822:(e,t,r)=>{"use strict";r.d(t,{EO:()=>T,F2:()=>x,Go:()=>R,H$:()=>N,Hh:()=>_,P$:()=>C,Rx:()=>u,TC:()=>w,UM:()=>E,WB:()=>D,X$:()=>k,cq:()=>A,ei:()=>j,g8:()=>y,gj:()=>P,h3:()=>b,m0:()=>O,u9:()=>M,wJ:()=>I,xE:()=>d,yD:()=>S});var n,i=r(269),o=r(7292),s=r(9882),a=r(5664),l=r(937),c=r(1739),u="4.3.0",d="1DS-Web-JS-"+u,h=a.Wy.hasOwnProperty,p="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",f="withCredentials",g="timeout",m=((n={})[0]=0,n[2]=6,n[1]=1,n[3]=7,n[4098]=6,n[4097]=1,n[4099]=7,n),v=null,y=(0,i.Wtk)(),C=(0,i.Vdv)();function S(e){return!(e===l.m5||(0,i.hXl)(e))}function T(e){if(e){var t=(0,i.HzD)(e,"-");if(t>-1)return(0,i.ZWZ)(e,t)}return l.m5}function b(){return null===v&&(v=!(0,i.b07)(Uint8Array)&&!function(){var e=(0,i.w3n)();if(!(0,i.b07)(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t[c.Sj]("safari")>=0||t[c.Sj]("firefox")>=0)&&t[c.Sj]("chrome")<0)return!0}return!1}()&&!(0,o.lV)()),v}function _(e){return!!(e&&(0,i.EtT)(e)&&e>=1&&e<=4)}function w(e,t,r){if(!t&&!S(t)||"string"!=typeof e)return null;var n=typeof t;if("string"===n||"number"===n||"boolean"===n||(0,i.cyL)(t))t={value:t};else if("object"!==n||h.call(t,"value")){if((0,i.hXl)(t[c.pF])||t[c.pF]===l.m5||!(0,i.KgX)(t[c.pF])&&!(0,i.EtT)(t[c.pF])&&!(0,i.Lmq)(t[c.pF])&&!(0,i.cyL)(t[c.pF]))return null}else t={value:r?JSON.stringify(t):t};if((0,i.cyL)(t[c.pF])&&!I(t[c.pF]))return null;if(!(0,i.hXl)(t[c.QV])){if((0,i.cyL)(t[c.pF])||!O(t[c.QV]))return null;t[c.pF]=t[c.pF].toString()}return t}function R(e,t,r){var n=-1;if(!(0,i.b07)(e))if(t>0&&(32===t?n=8192:t<=13&&(n=t<<5)),function(e){return e>=0&&e<=9}(r))-1===n&&(n=0),n|=r;else{var o=m[A(e)]||-1;-1!==n&&-1!==o?n|=o:6===o&&(n=o)}return n}function E(e,t,r){var n;return void 0===r&&(r=!0),e&&(n=e.get(t),r&&n&&decodeURIComponent&&(n=decodeURIComponent(n))),n||l.m5}function P(e){void 0===e&&(e="D");var t=(0,s.aq)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,l.m5)),t}function k(e,t,r,n,o){var s={},a=!1,l=0,u=arguments[c.oI],d=arguments;for((0,i.Lmq)(d[0])&&(a=d[0],l++);l<u;l++)e=d[l],(0,i.zav)(e,(function(e,t){a&&t&&(0,i.Gvm)(t)?(0,i.cyL)(t)?(s[e]=s[e]||[],(0,i.Iuo)(t,(function(t,r){t&&(0,i.Gvm)(t)?s[e][r]=k(!0,s[e][r],t):s[e][r]=t}))):s[e]=k(!0,s[e],t):s[e]=t}));return s}var D=i.UUD;function O(e){return 0===e||e>0&&e<=13||32===e}function I(e){return e[c.oI]>0}function M(e,t){var r=e;r[c.dg]=r[c.dg]||{},r[c.dg][c.Jg]=r[c.dg][c.Jg]||{},r[c.dg][c.Jg][t]=D()}function A(e){var t=0;if(null!=e){var r=typeof e;"string"===r?t=1:"number"===r?t=2:"boolean"===r?t=3:r===a._1&&(t=4,(0,i.cyL)(e)?(t=4096,e[c.oI]>0&&(t|=A(e[0]))):h.call(e,"value")&&(t=8192|A(e[c.pF])))}return t}function x(){return!!(0,i.zS2)("chrome")}function N(e,t,r,n,i,o){function s(e,t,r){try{e[t]=r}catch(e){}}void 0===n&&(n=!1),void 0===i&&(i=!1);var a=new XMLHttpRequest;return n&&s(a,p,n),r&&s(a,f,r),a.open(e,t,!i),r&&s(a,f,r),!i&&o&&s(a,g,o),a}function j(e){return e>0}},1739:(e,t,r)=>{"use strict";r.d(t,{Jg:()=>d,Mr:()=>f,QV:()=>c,Rl:()=>p,Sj:()=>o,Uw:()=>i,dg:()=>s,h4:()=>a,hF:()=>h,mE:()=>n,nw:()=>g,oI:()=>u,pF:()=>l});var n="initialize",i="logger",o="indexOf",s="timings",a="pollInternalLogs",l="value",c="kind",u="length",d="processTelemetryStart",h="handleField",p="rmSanitizer",f="rmFieldSanitizer",g="canHandle"},8916:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BE_PROFILE:()=>o,NRT_PROFILE:()=>i,PostChannel:()=>Ct,RT_PROFILE:()=>n});var n="REAL_TIME",i="NEAR_REAL_TIME",o="BEST_EFFORT",s=r(659),a=r(8279),l=r(4822),c=r(269),u=r(5775),d=r(6149),h=r(4276),p=r(9749),f=r(2317),g=r(3673),m=r(3662),v=r(3775),y=r(8257),C=r(8205),S="",T="drop",b="requeue",_="no-cache, no-store",w="application/x-json-stream",R="cache-control",E="content-type",P="client-version",k="client-id",D="time-delta-to-apply-millis",O="upload-time",I="apikey",M="AuthMsaDeviceTicket",A="WebAuthToken",x="AuthXToken",N="msfpc",j="trace",F="user",L="allowRequestSending",B="firstRequestSent",G="shouldAddClockSkewHeaders",q="getClockSkewHeaderValue",U="setClockSkew",z="length",W="concat",H="iKey",$="count",K="events",V="push",J="split",X="splice",Y="toLowerCase",Z="hdrs",Q="useHdrs",ee="initialize",te="setTimeoutOverride",re="clearTimeoutOverride",ne="overrideEndpointUrl",ie="avoidOptions",oe="enableCompoundKey",se="disableXhrSync",ae="disableFetchKeepAlive",le="useSendBeacon",ce="alwaysUseXhrOverride",ue="serializeOfflineEvt",de="getOfflineRequestDetails",he="createPayload",pe="createOneDSPayload",fe="payloadBlob",ge="headers",me="_thePayload",ve="urlString",ye="batches",Ce="sendType",Se="addHeader",Te="canSendRequest",be="sendQueuedRequests",_e="isCompletelyIdle",we="setUnloading",Re="sendSynchronousBatch",Ee="_transport",Pe="getWParam",ke="isBeacon",De="timings",Oe="isTeardown",Ie="isSync",Me="data",Ae="_sendReason",xe="setKillSwitchTenants",Ne="_backOffTransmission",je="identifier",Fe="eventsLimitInMem",Le="autoFlushEventsLimit",Be="baseData",Ge="sendAttempt",qe="latency",Ue="sync";function ze(e){var t=(e.ext||{}).intweb;return t&&(0,l.yD)(t[N])?t[N]:null}function We(e){for(var t=null,r=0;null===t&&r<e[z];r++)t=ze(e[r]);return t}var He=function(){function e(t,r){var n=r?[][W](r):[],i=this,o=We(n);i[H]=function(){return t},i.Msfpc=function(){return o||S},i[$]=function(){return n[z]},i[K]=function(){return n},i.addEvent=function(e){return!!e&&(n[V](e),o||(o=ze(e)),!0)},i[J]=function(r,i){var s;if(r<n[z]){var a=n[z]-r;(0,c.hXl)(i)||(a=i<a?i:a),s=n[X](r,a),o=We(n)}return new e(t,s)}}return e.create=function(t,r){return new e(t,r)},e}(),$e=r(7292),Ke=r(856),Ve=r(5664),Je=function(){function e(){var t=!0,r=!0,n=!0,i="use-collector-delta",o=!1;(0,a.A)(e,this,(function(e){e[L]=function(){return t},e[B]=function(){n&&(n=!1,o||(t=!1))},e[G]=function(){return r},e[q]=function(){return i},e[U]=function(e){o||(e?(i=e,r=!0,o=!0):r=!1,t=!0)}}))}return e.__ieDyn=1,e}(),Xe=function(){function e(){var t={};(0,a.A)(e,this,(function(e){e[xe]=function(e,r){if(e&&r)try{var n=(s=e[J](","),a=[],s&&(0,c.Iuo)(s,(function(e){a[V]((0,c.EHq)(e))})),a);if("this-request-only"===r)return n;for(var i=1e3*parseInt(r,10),o=0;o<n[z];++o)t[n[o]]=(0,c.f0d)()+i}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var r=t,n=(0,c.EHq)(e);return void 0!==r[n]&&r[n]>(0,c.f0d)()||(delete r[n],!1)}}))}return e.__ieDyn=1,e}();function Ye(e){var t,r=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*r,Math.min(t,6e5)}var Ze,Qe=2e6,et=Math.min(Qe,65e3),tt="metadata",rt="f",nt=/\./,it=function(){function e(t,r,n,i,o,s){var d="data",h="baseData",p=!!i,f=!0,g=r,m={},v=!!s,y=o||l.Go;(0,a.A)(e,this,(function(e){function r(e,t,i,o,s,a,u){(0,c.zav)(e,(function(e,d){var h=null;if(d||(0,l.yD)(d)){var f=i,v=e,y=s,C=t;if(p&&!o&&nt.test(e)){var S=e.split("."),T=S.length;if(T>1){y&&(y=y.slice());for(var b=0;b<T-1;b++){var _=S[b];C=C[_]=C[_]||{},f+="."+_,y&&y.push(_)}v=S[T-1]}}var w=o&&function(e){var t=m[e];return void 0===t&&(e.length>=7&&(t=(0,c.tGl)(e,"ext.metadata")||(0,c.tGl)(e,"ext.web")),m[e]=t),t}(f);if(h=!w&&g&&g.handleField(f,v)?g.value(f,v,d,n):(0,l.TC)(v,d,n)){var R=h.value;if(C[v]=R,a&&a(y,v,h),u&&"object"==typeof R&&!(0,c.cyL)(R)){var E=y;E&&(E=E.slice()).push(v),r(d,R,f+"."+v,o,E,a,u)}}}}))}e.createPayload=function(e,t,r,n,i,o){return{apiKeys:[],payloadBlob:S,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:r,isBeacon:n,sendType:o,sendReason:i}},e.appendPayload=function(r,n,i){var o=r&&n&&!r.overflow;return o&&(0,u.r2)(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=n.events(),o=r.payloadBlob,s=r.numEvents,a=!1,l=[],u=[],d=r.isBeacon,h=d?65e3:3984588,p=d?et:Qe,f=0,g=0;f<t.length;){var m=t[f];if(m){if(s>=i){r.overflow=n.split(f);break}var v=e.getEventBlob(m);if(v&&v.length<=p){var y=v.length;if(o.length+y>h){r.overflow=n.split(f);break}o&&(o+="\n"),o+=v,++g>20&&((0,c.hKY)(o,0,1),g=0),a=!0,s++}else v?l.push(m):u.push(m),t.splice(f,1),f--}f++}if(l.length>0&&r.sizeExceed.push(He.create(n.iKey(),l)),u.length>0&&r.failedEvts.push(He.create(n.iKey(),u)),a){r.batches.push(n),r.payloadBlob=o,r.numEvents=s;var C=n.iKey();-1===(0,c.rDm)(r.apiKeys,C)&&r.apiKeys.push(C)}}),(function(){return{payload:r,theBatch:{iKey:n.iKey(),evts:n.events()},max:i}})),o},e.getEventBlob=function(e){try{return(0,u.r2)(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+(0,l.EO)(e.iKey);var n,i={};v||(n=function(e,t,r){!function(e,t,r,n,i){if(i&&t){var o=e(i.value,i.kind,i.propertyType);if(o>-1){var s=t[tt];s||(s=t[tt]={f:{}});var a=s[rt];if(a||(a=s[rt]={}),r)for(var l=0;l<r.length;l++){var u=r[l];a[u]||(a[u]={f:{}});var d=a[u][rt];d||(d=a[u][rt]={}),a=d}a=a[n]={},(0,c.cyL)(i.value)?a.a={t:o}:a.t=o}}}(y,i,e,t,r)});var o=e.ext;o&&(t.ext=i,(0,c.zav)(o,(function(e,t){r(t,i[e]={},"ext."+e,!0,null,null,!0)})));var s=t[d]={};s.baseType=e.baseType;var a=s[h]={};return r(e.baseData,a,h,!1,[h],n,f),r(e.data,s,d,!1,[],n,f),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))}return e.__ieDyn=1,e}();function ot(e,t){return{set:function(r,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return(0,c.vKV)([e,t],r,n,i)}}}var st="sendAttempt",at="?cors=true&"+E[Y]()+"="+w,lt=((Ze={})[1]=b,Ze[100]=b,Ze[200]="sent",Ze[8004]=T,Ze[8003]=T,Ze),ct={},ut={};function dt(e,t,r){ct[e]=t,!1!==r&&(ut[t]=e)}function ht(e,t){var r=!1;if(e&&t){var n=(0,c.cGk)(e);if(n&&n[z]>0)for(var i=t[Y](),o=0;o<n[z];o++){var s=n[o];if(s&&(0,c.v0u)(t,s)&&s[Y]()===i){r=!0;break}}}return r}function pt(e,t,r,n){t&&r&&r[z]>0&&(n&&ct[t]?(e[Z][ct[t]]=r,e[Q]=!0):e.url+="&"+t+"="+r)}dt(M,M,!1),dt(P,P),dt(k,"Client-Id"),dt(I,I),dt(D,D),dt(O,O),dt(x,x);var ft=function(){function e(t,r,n,i){var o,s,d,h,f,m,y,C,b,M,A,x,j,F,Y,je,Fe,Le,Be,Ge,qe,Ue,ze,We,Ze,Qe,et,tt,rt,nt,ct,dt=!1;(0,a.A)(e,this,(function(e){function a(e,t){try{return ct&&ct.getSenderInst(e,t)}catch(e){}return null}function ft(e,t,r){var n=(0,g.Lo)(e);vt(t,200,{},n),Ot(n)}function gt(e,t,r,n){var i={},o=e[ge];o&&o.forEach((function(e,t){i[t]=e})),function(e,r,n){vt(t,e,r,n),Ot(n)}(e.status,i,r||S)}function mt(e,t,r){var n=(0,g.Lo)(e);vt(t,e.status,(0,g.w3)(e,!0),n),Ot(n)}function vt(e,t,r,n){try{e(t,r,n)}catch(e){(0,v.ZP)(y,2,518,(0,c.mmD)(e))}}function yt(e,t,r){var n=200,i=e[me],o=e[ve]+(ze?"&NoResponseBody=true":S);try{var s=(0,c.w3n)();if(i){var a=!!b.getPlugin("LocalStorage"),l=[],u=[];(0,c.Iuo)(i[ye],(function(e){if(l&&e&&e[$]()>0)for(var t=e[K](),r=0;r<t[z];r++){if(!s.sendBeacon(o,F.getEventBlob(t[r]))){l[V](e[J](r));break}u[V](e[r])}else l[V](e[J](0))})),u[z]>0&&(i.sentEvts=u),a||It(l,8003,i[Ce],!0)}else n=0}catch(e){(0,v.OG)(y,"Failed to send telemetry using sendBeacon API. Ex:"+(0,c.mmD)(e)),n=0}finally{vt(t,n,{},S)}}function Ct(e){return 2===e||3===e}function St(e){return Fe&&Ct(e)&&(e=2),e}function Tt(){return!d&&f<r}function bt(){var e=j;return j=[],e}function _t(e,t,r){var n=!1;return e&&e[z]>0&&!d&&C[t]&&F&&(n=0!==t||Tt()&&(r>0||h[L]())),n}function wt(e){var t={};return e&&(0,c.Iuo)(e,(function(e,r){t[r]={iKey:e[H](),evts:e[K]()}})),t}function Rt(e,r,n,i,o){if(e&&0!==e[z])if(d)It(e,1,i);else{i=St(i);try{var a=e,h=0!==i;(0,u.r2)(b,(function(){return"HttpManager:_sendBatches"}),(function(a){a&&(e=e.slice(0));for(var c=[],u=null,d=(0,l.WB)(),p=C[i]||(h?C[1]:C[0]),f=p&&p[Ee],g=Ue&&(Fe||Ct(i)||3===f||p._isSync&&2===f);_t(e,i,r);){var m=e.shift();m&&m[$]()>0&&(s.isTenantKilled(m[H]())?c[V](m):(u=u||F[he](r,n,h,g,o,i),F.appendPayload(u,m,t)?null!==u.overflow&&(e=[u.overflow][W](e),u.overflow=null,kt(u,d,(0,l.WB)(),o),d=(0,l.WB)(),u=null):(kt(u,d,(0,l.WB)(),o),d=(0,l.WB)(),e=[m][W](e),u=null)))}u&&kt(u,d,(0,l.WB)(),o),e[z]>0&&(j=e[W](j)),It(c,8004,i)}),(function(){return{batches:wt(a),retryCount:r,isTeardown:n,isSynchronous:h,sendReason:o,useSendBeacon:Ct(i),sendType:i}}),!h)}catch(e){(0,v.ZP)(y,2,48,"Unexpected Exception sending batch: "+(0,c.mmD)(e))}}}function Et(e,t){var r={url:o,hdrs:{},useHdrs:!1};t?(r[Z]=(0,l.X$)(r[Z],x),r.useHdrs=(0,c.cGk)(r.hdrs)[z]>0):(0,c.zav)(x,(function(e,t){ut[e]?pt(r,ut[e],t,!1):(r[Z][e]=t,r[Q]=!0)})),pt(r,k,"NO_AUTH",t),pt(r,P,l.xE,t);var n=S;(0,c.Iuo)(e.apiKeys,(function(e){n[z]>0&&(n+=","),n+=e})),pt(r,I,n,t),pt(r,O,(0,c.f0d)().toString(),t);var i=function(e){for(var t=0;t<e.batches[z];t++){var r=e[ye][t].Msfpc();if(r)return encodeURIComponent(r)}return S}(e);if((0,l.yD)(i)&&(r.url+="&ext.intweb.msfpc="+i),h[G]()&&pt(r,D,h[q](),t),b[Pe]){var s=b[Pe]();s>=0&&(r.url+="&w="+s)}for(var a=0;a<A[z];a++)r.url+="&"+A[a].name+"="+A[a].value;return r}function Pt(e,t,r){e[t]=e[t]||{},e[t][m.identifier]=r}function kt(t,r,i,o){if(t&&t.payloadBlob&&t.payloadBlob[z]>0){var a=!!Ze,d=C[t.sendType];!Ct(t[Ce])&&t[ke]&&2===t.sendReason&&(d=C[2]||C[3]||d);var p=Le;(t.isBeacon||3===d[Ee])&&(p=!1);var g=Et(t,p);p=p||g[Q];var S=(0,l.WB)();(0,u.r2)(b,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var C=0;C<t.batches[z];C++)for(var T=t[ye][C][K](),P=0;P<T[z];P++){var k=T[P];if(Y){var D=k[De]=k[De]||{};Pt(D,"sendEventStart",S),Pt(D,"serializationStart",r),Pt(D,"serializationCompleted",i)}k[st]>0?k[st]++:k[st]=1}It(t[ye],1e3+(o||0),t[Ce],!0);var O={data:t[fe],urlString:g.url,headers:g[Z],_thePayload:t,_sendReason:o,timeout:Be,disableXhrSync:Ge,disableFetchKeepAlive:qe};p&&(ht(O[ge],R)||(O[ge][R]=_),ht(O[ge],E)||(O[ge][E]=w));var I=null;d&&(I=function(r){h[B]();var i=function(r,i){!function(t,r,i,o){var a,u=9e3,d=null,p=!1,g=!1;try{var v=!0;if(typeof t!==Ve.bA){if(r){h[U](r["time-delta-millis"]);var y=r["kill-duration"]||r["kill-duration-seconds"];(0,c.Iuo)(s[xe](r["kill-tokens"],y),(function(e){(0,c.Iuo)(i[ye],(function(t){if(t[H]()===e){d=d||[];var r=t[J](0);i.numEvents-=r[$](),d[V](r)}}))}))}if(200==t||204==t)return void(u=200);((a=t)>=300&&a<500&&429!=a||501==a||505==a||i.numEvents<=0)&&(v=!1),u=9e3+t%1e3}if(v){u=100;var C=i.retryCnt;0===i[Ce]&&(C<n?(p=!0,Dt((function(){0===i[Ce]&&f--,Rt(i[ye],C+1,i[Oe],Fe?2:i[Ce],5)}),Fe,Ye(C))):(g=!0,Fe&&(u=8001)))}}finally{p||(h[U](),function(t,r,n,i){try{i&&m[Ne]();var o=t[ye];200===r&&(o=t.sentEvts||t[ye],i||t[Ie]||m._clearBackOff(),function(e){if(Y){var t=(0,l.WB)();(0,c.Iuo)(e,(function(e){e&&e[$]()>0&&function(e,t){Y&&(0,c.Iuo)(e,(function(e){Pt(e[De]=e[De]||{},"sendEventCompleted",t)}))}(e[K](),t)}))}}(o)),It(o,r,t[Ce],!0)}finally{0===t[Ce]&&(f--,5!==n&&e.sendQueuedRequests(t[Ce],n))}}(i,u,o,g)),It(d,8004,i[Ce])}}(r,i,t,o)},a=t[Oe]||t[Ie];try{d.sendPOST(r,i,a),Qe&&Qe(O,r,a,t[ke])}catch(e){(0,v.OG)(y,"Unexpected exception sending payload. Ex:"+(0,c.mmD)(e)),vt(i,0,{})}}),(0,u.r2)(b,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(I)if(0===t[Ce]&&f++,a&&!t.isBeacon&&3!==d[Ee]){var e={data:O[Me],urlString:O[ve],headers:(0,l.X$)({},O[ge]),timeout:O.timeout,disableXhrSync:O[se],disableFetchKeepAlive:O[ae]},r=!1;(0,u.r2)(b,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{Ze(e,(function(e){r=!0,M||e[me]||(e[me]=e[me]||O[me],e[Ae]=e[Ae]||O[Ae]),I(e)}),t.isSync||t[Oe])}catch(e){r||I(O)}}))}else I(O)}))}),(function(){return{thePayload:t,serializationStart:r,serializationCompleted:i,sendReason:o}}),t[Ie])}t.sizeExceed&&t.sizeExceed[z]>0&&It(t.sizeExceed,8003,t[Ce]),t.failedEvts&&t.failedEvts[z]>0&&It(t.failedEvts,8002,t[Ce])}function Dt(e,t,r){t?e():rt.set(e,r)}function Ot(e){var t=et;try{for(var r=0;r<t[z];r++)try{t[r](e)}catch(e){(0,v.ZP)(y,1,519,"Response handler failed: "+e)}if(e){var n=JSON.parse(e);(0,l.yD)(n.webResult)&&(0,l.yD)(n.webResult[N])&&je.set("MSFPC",n.webResult[N],31536e3)}}catch(e){}}function It(e,t,r,n){if(e&&e[z]>0&&i){var o=i[(a=t,c=lt[a],(0,l.yD)(c)||(c="oth",a>=9e3&&a<=9999?c="rspFail":a>=8e3&&a<=8999?c=T:a>=1e3&&a<=1999&&(c="send")),c)];if(o){var s=0!==r;(0,u.r2)(b,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){Dt((function(){try{o.call(i,e,t,s,r)}catch(e){(0,v.ZP)(y,1,74,"send request notification failed: "+e)}}),n||s,0)}),(function(){return{batches:wt(e),reason:t,isSync:s,sendSync:n,sendType:r}}),!s)}}var a,c}!function(){var e;o=null,s=new Xe,d=!1,h=new Je,dt=!1,f=0,m=null,y=null,C=null,b=null,M=!0,A=[],x={},j=[],F=null,Y=!1,je=null,Fe=!1,Le=!1,Be=e,Ge=e,qe=e,Ue=e,ze=e,We=[],Ze=e,Qe=e,et=[],tt=!1,rt=ot(),nt=!1,ct=null}(),e[ee]=function(e,t,r){tt||(b=t,je=t.getCookieMgr(),y=(m=r).diagLog(),(0,c.Yny)(We,(0,p.a)(e,(function(e){var n,i=e.cfg,s=e.cfg.extensionConfig[r.identifier];rt=ot(s[te],s[re]),(0,l.yD)(i.anonCookieName)?function(e,t,r){for(var n=0;n<e[z];n++)if(e[n].name===t)return void(e[n].value=r);e[V]({name:t,value:r})}(A,"anoncknm",i.anonCookieName):function(e){for(var t=0;t<e[z];t++)if("anoncknm"===e[t].name)return void e[X](t,1)}(A),Ze=s.payloadPreprocessor,Qe=s.payloadListener;var u=s.httpXHROverride,d=s[ne]?s[ne]:i.endpointUrl;o=d+at,Le=!!(0,c.b07)(s[ie])||!s[ie],Y=!s.disableEventTimings;var h=s.valueSanitizer,p=s.stringifyObjects,f=!!i[oe];(0,c.b07)(s[oe])||(f=!!s[oe]),Be=s.xhrTimeout,Ge=!!s[se],qe=!!s[ae],ze=!1!==s.addNoResponse,nt=!!s.excludeCsMetaData,t.getPlugin("LocalStorage")&&(qe=!0),dt=!(0,$e.lV)(),F=new it(b,h,p,f,l.Go,nt),(0,c.hXl)(s[le])||(dt=!!s[le]);var m=function(){try{return{enableSendPromise:!1,isOneDs:!0,disableCredentials:!1,disableXhr:!1,disableBeacon:!dt,disableBeaconSync:!dt,disableFetchKeepAlive:qe,timeWrapper:rt,addNoResponse:ze,senderOnCompleteCallBack:{xdrOnComplete:ft,fetchOnComplete:gt,xhrOnComplete:mt,beaconOnRetry:yt}}}catch(e){}return null}();ct?ct.SetConfig(m):(ct=new Ke.v)[ee](m,y);var S=u,T=s[ce]?u:null,_=s[ce]?u:null,w=[3,2];if(!u){M=!1;var R=[];(0,$e.lV)()?(R=[2,1],w=[2,1,3]):R=[1,2,3],(u=a(R=(0,g.jL)(R,s.transports),!1))||(0,v.OG)(y,"No available transport to send events"),S=a(R,!0)}T||(T=a(w=(0,g.jL)(w,s.unloadTransports),!0)),Ue=!M&&(dt&&(0,$e.Uf)()||!qe&&(0,$e.R7)(!0)),(n={})[0]=u,n[1]=S||a([1,2,3],!0),n[2]=T||S||a([1],!0),n[3]=_||a([2,3],!0)||S||a([1],!0),C=n}))),tt=!0)},e.addResponseHandler=function(e){return et[V](e),{rm:function(){var t=et.indexOf(e);t>=0&&et[X](t,1)}}},e[ue]=function(e){try{if(F)return F.getEventBlob(e)}catch(e){}return S},e[de]=function(){try{return Et(F&&F[he](0,!1,!1,!1,1,0),Le)}catch(e){}return null},e[pe]=function(e,r){try{var n=[];(0,c.Iuo)(e,(function(e){r&&(e=(0,g.hW)(e));var t=He.create(e[H],[e]);n[V](t)}));for(var i=null;n[z]>0&&F;){var o=n.shift();o&&o[$]()>0&&(i=i||F[he](0,!1,!1,!1,1,0),F.appendPayload(i,o,t))}var s=Et(i,Le),a={data:i[fe],urlString:s.url,headers:s[Z],timeout:Be,disableXhrSync:Ge,disableFetchKeepAlive:qe};return Le&&(ht(a[ge],R)||(a[ge][R]=_),ht(a[ge],E)||(a[ge][E]=w)),a}catch(e){}return null},e._getDbgPlgTargets=function(){return[C[0],s,F,C]},e[Se]=function(e,t){x[e]=t},e.removeHeader=function(e){delete x[e]},e[Te]=function(){return Tt()&&h[L]()},e[be]=function(e,t){(0,c.b07)(e)&&(e=0),Fe&&(e=St(e),t=2),_t(j,e,0)&&Rt(bt(),0,!1,e,t||0)},e[_e]=function(){return!d&&0===f&&0===j[z]},e[we]=function(e){Fe=e},e.addBatch=function(e){if(e&&e[$]()>0){if(s.isTenantKilled(e[H]()))return!1;j[V](e)}return!0},e.teardown=function(){j[z]>0&&Rt(bt(),0,!0,2,2),(0,c.Iuo)(We,(function(e){e&&e.rm&&e.rm()})),We=[]},e.pause=function(){d=!0},e.resume=function(){d=!1,e[be](0,4)},e[Re]=function(e,t,r){e&&e[$]()>0&&((0,c.hXl)(t)&&(t=1),Fe&&(t=St(t),r=2),Rt([e],0,!1,t,r||0))}}))}return e.__ieDyn=1,e}(),gt=1e4,mt="eventsDiscarded",vt=void 0,yt=(0,c.ZHX)({eventsLimitInMem:{isVal:l.ei,v:gt},immediateEventLimit:{isVal:l.ei,v:500},autoFlushEventsLimit:{isVal:l.ei,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:function(e){return e&&e.sendPOST},v:vt},overrideInstrumentationKey:vt,overrideEndpointUrl:vt,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:vt,clearTimeoutOverride:vt,payloadPreprocessor:vt,payloadListener:vt,disableEventTimings:vt,valueSanitizer:vt,stringifyObjects:vt,enableCompoundKey:vt,disableOptimizeObj:!1,transports:vt,unloadTransports:vt,useSendBeacon:vt,disableFetchKeepAlive:vt,avoidOptions:!1,xhrTimeout:vt,disableXhrSync:vt,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:c.EtT,v:6},maxUnloadEventRetryAttempts:{isVal:c.EtT,v:2},addNoResponse:vt,excludeCsMetaData:vt}),Ct=function(e){function t(){var r,s=e.call(this)||this;s.identifier="PostChannel",s.priority=1011,s.version="4.3.0";var y,S,T,b,_,w,R,E,P,k,D,O,I,x,N,L,B,G,q,U,Y,Z,Q,ne,ie,oe=!1,se=[],ae=!1,le=0,ce=0,he={},fe=n;return(0,a.A)(t,s,(function(e,t){function s(){(0,d.Ds)(null,G),(0,d.sq)(null,G),(0,d.vF)(null,G)}function a(e){var t="";return e&&e[z]&&(0,c.Iuo)(e,(function(e){t&&(t+="\n"),t+=e})),t}function ge(e){var t="";try{Ce(e),t=E[ue](e)}catch(e){}return t}function me(e){"beforeunload"!==(e||(0,c.zkX)().event).type&&(N=!0,E[we](N)),ze(2,2)}function ve(e){N=!1,E[we](N)}function Ce(e){e.ext&&e.ext[j]&&delete e.ext[j],e.ext&&e.ext[F]&&e.ext[F].id&&delete e.ext[F].id,x&&(e.ext=(0,g.hW)(e.ext),e[Be]&&(e[Be]=(0,g.hW)(e[Be])),e[Me]&&(e[Me]=(0,g.hW)(e[Me])))}function Ee(e,t){if(e[Ge]||(e[Ge]=0),e[qe]||(e[qe]=1),Ce(e),e[Ue])if(w||ae)e[qe]=3,e[Ue]=!1;else if(E)return x&&(e=(0,g.hW)(e)),void E[Re](He.create(e[H],[e]),!0===e[Ue]?1:e[Ue],3);var r=e[qe],n=ce,i=T;4===r&&(n=le,i=S);var o=!1;if(n<i)o=!Ke(e,t);else{var s=1,a=20;4===r&&(s=4,a=1),o=!0,function(e,t,r,n){for(;r<=t;){var i=We(e,t,!0);if(i&&i[$]()>0){var o=i[J](0,n),s=o[$]();if(s>0)return 4===r?le-=s:ce-=s,nt(mt,[o],m.x.QueueFull),!0}r++}return Ve(),!1}(e[H],e[qe],s,a)&&(o=!Ke(e,t))}o&&rt(mt,[e],m.x.QueueFull)}function ke(e,t,r){var n=Je(e,t,r);return E[be](t,r),n}function De(){return ce>0}function Oe(){if(O>=0&&Je(O,0,I)&&E[be](0,I),le>0&&!_&&!ae){var e=he[fe][2];e>=0&&(_=Ae((function(){_=null,ke(4,0,1),Oe()}),e))}var t=he[fe][1];!b&&!y&&t>=0&&!ae&&(De()?b=Ae((function(){b=null,ke(0===R?3:1,0,1),R++,R%=2,Oe()}),t):R=0)}function Ie(){r=null,oe=!1,se=[],y=null,ae=!1,le=0,S=500,ce=0,T=gt,he={},fe=n,b=null,_=null,w=0,R=0,P={},k=0,Q=!1,D=0,O=-1,I=null,x=!0,N=!1,L=6,B=2,G=null,ne=null,ie=!1,q=ot(),E=new ft(500,2,1,{requeue:et,send:it,sent:st,drop:at,rspFail:lt,oth:ct}),Qe(),P[4]={batches:[],iKeyMap:{}},P[3]={batches:[],iKeyMap:{}},P[2]={batches:[],iKeyMap:{}},P[1]={batches:[],iKeyMap:{}},ut()}function Ae(e,t){0===t&&w&&(t=1);var r=1e3;return w&&(r=Ye(w-1)),q.set(e,t*r)}function xe(){return null!==b&&(b.cancel(),b=null,R=0,!0)}function ze(e,t){xe(),y&&(y.cancel(),y=null),ae||ke(1,e,t)}function We(e,t,r){var n=P[t];n||(n=P[t=1]);var i=n.iKeyMap[e];return!i&&r&&(i=He.create(e),n.batches[V](i),n.iKeyMap[e]=i),i}function $e(t,r){E[Te]()&&!w&&(k>0&&ce>k&&(r=!0),r&&null==y&&e.flush(t,(function(){}),20))}function Ke(e,t){x&&(e=(0,g.hW)(e));var r=e[qe],n=We(e[H],r,!0);return!!n.addEvent(e)&&(4!==r?(ce++,t&&0===e[Ge]&&$e(!e.sync,D>0&&n[$]()>=D)):le++,!0)}function Ve(){for(var e=0,t=0,r=function(r){var n=P[r];n&&n[ye]&&(0,c.Iuo)(n[ye],(function(n){4===r?e+=n[$]():t+=n[$]()}))},n=1;n<=4;n++)r(n);ce=t,le=e}function Je(t,r,n){var i=!1,o=0===r;return!o||E[Te]()?(0,u.r2)(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],r=4;r>=t;){var n=P[r];n&&n.batches&&n.batches[z]>0&&((0,c.Iuo)(n[ye],(function(t){E.addBatch(t)?i=i||t&&t[$]()>0:e=e[W](t[K]()),4===r?le-=t[$]():ce-=t[$]()})),n[ye]=[],n.iKeyMap={}),r--}e[z]>0&&rt(mt,e,m.x.KillSwitch),i&&O>=t&&(O=-1,I=0)}),(function(){return{latency:t,sendType:r,sendReason:n}}),!o):(O=O>=0?Math.min(O,t):t,I=Math.max(I,n)),i}function Xe(e,t){ke(1,0,t),Ve(),Ze((function(){e&&e(),se[z]>0?y=Ae((function(){y=null,Xe(se.shift(),t)}),0):(y=null,Oe())}))}function Ze(e){E[_e]()?e():y=Ae((function(){y=null,Ze(e)}),.25)}function Qe(){(he={})[n]=[2,1,0],he[i]=[6,3,0],he[o]=[18,9,0]}function et(t,r){var n=[],i=L;N&&(i=B),(0,c.Iuo)(t,(function(t){t&&t[$]()>0&&(0,c.Iuo)(t[K](),(function(t){t&&(t[Ue]&&(t[qe]=4,t[Ue]=!1),t[Ge]<i?((0,l.u9)(t,e[je]),Ee(t,!1)):n[V](t))}))})),n[z]>0&&rt(mt,n,m.x.NonRetryableStatus),N&&ze(2,2)}function tt(t,r){var n=Z||{},i=n[t];if(i)try{i.apply(n,r)}catch(r){(0,v.ZP)(e.diagLog(),1,74,t+" notification failed: "+r)}}function rt(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];t&&t[z]>0&&tt(e,[t][W](r))}function nt(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];t&&t[z]>0&&(0,c.Iuo)(t,(function(t){t&&t[$]()>0&&tt(e,[t.events()][W](r))}))}function it(e,t,r){e&&e[z]>0&&tt("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==r])}function st(e,t){nt("eventsSent",e,t),Oe()}function at(e,t){nt(mt,e,t>=8e3&&t<=8999?t-8e3:m.x.Unknown)}function lt(e){nt(mt,e,m.x.NonRetryableStatus),Oe()}function ct(e,t){nt(mt,e,m.x.Unknown),Oe()}function ut(){D=Y?0:Math.max(1500,T/6)}Ie(),e._getDbgPlgTargets=function(){return[E,r]},e[ee]=function(n,i,o){(0,u.r2)(i,(function(){return"PostChannel:initialize"}),(function(){t[ee](n,i,o),Z=i.getNotifyMgr();try{G=(0,d.Hm)((0,h.Z)(e[je]),i.evtNamespace&&i.evtNamespace()),e._addHook((0,p.a)(n,(function(t){var n=t.cfg,o=(0,f.i8)(null,n,i);r=o.getExtCfg(e[je],yt),q=ot(r[te],r[re]),x=!r.disableOptimizeObj&&(0,l.F2)(),U=r.ignoreMc1Ms0CookieProcessing,function(e){var t=e[Pe];e[Pe]=function(){var r=0;return U&&(r|=2),r|t.call(e)}}(i),T=r[Fe],S=r.immediateEventLimit,k=r[Le],L=r.maxEventRetryAttempts,B=r.maxUnloadEventRetryAttempts,Y=r.disableAutoBatchFlushLimit,ut(),ne=r.overrideInstrumentationKey,ie=!!r.disableTelemetry,Q&&s();var a=n.disablePageUnloadEvents||[];Q=(0,d.ee)(me,a,G),Q=(0,d.Fc)(me,a,G)||Q,Q=(0,d.oS)(ve,n.disablePageShowEvents,G)||Q}))),E[ee](n,e.core,e)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{theConfig:n,core:i,extensions:o}}))},e.processTelemetry=function(t,r){(0,l.u9)(t,e[je]),r=r||e._getTelCtx(r);var n=t;ie||oe||(ne&&(n[H]=ne),Ee(n,!0),N?ze(2,2):Oe()),e.processNext(n,r)},e.getOfflineSupport=function(){try{var e=E&&E[de]();if(E)return{getUrl:function(){return e?e.url:null},serialize:ge,batch:a,shouldProcess:function(e){return!ie},createPayload:function(e){return null},createOneDSPayload:function(e){if(E[pe])return E[pe](e,x)}}}catch(e){}return null},e._doTeardown=function(e,t){ze(2,2),oe=!0,E.teardown(),s(),Ie()},e.setEventQueueLimits=function(e,t){r[Fe]=T=(0,l.ei)(e)?e:gt,r[Le]=k=(0,l.ei)(t)?t:0,ut();var n=ce>e;if(!n&&D>0)for(var i=1;!n&&i<=3;i++){var o=P[i];o&&o[ye]&&(0,c.Iuo)(o[ye],(function(e){e&&e[$]()>=D&&(n=!0)}))}$e(!0,n)},e.pause=function(){xe(),ae=!0,E.pause()},e.resume=function(){ae=!1,E.resume(),Oe()},e._loadTransmitProfiles=function(e){xe(),Qe(),fe=n,Oe(),(0,c.zav)(e,(function(e,t){var r=t[z];if(r>=2){var n=r>2?t[2]:0;if(t[X](0,r-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1];t[0]=Math.ceil(i)*t[1]}n>=0&&t[1]>=0&&n>t[1]&&(n=t[1]),t[V](n),he[e]=t}}))},e.flush=function(e,t,r){var n;if(void 0===e&&(e=!0),!ae)if(r=r||1,e)t||(n=(0,C.Qo)((function(e){t=e}))),null==y?(xe(),Je(1,0,r),y=Ae((function(){y=null,Xe(t,r)}),0)):se[V](t);else{var i=xe();ke(1,1,r),t&&t(),i&&Oe()}return n},e.setMsaAuthTicket=function(e){E[Se](M,e)},e.setAuthPluginHeader=function(e){E[Se](A,e)},e.removeAuthPluginHeader=function(){E.removeHeader(A)},e.hasEvents=De,e._setTransmitProfile=function(e){fe!==e&&void 0!==he[e]&&(xe(),fe=e,Oe())},(0,g.o$)(e,(function(){return E}),["addResponseHandler"]),e[Ne]=function(){w<4&&(w++,xe(),Oe())},e._clearBackOff=function(){w&&(w=0,xe(),Oe())}})),s}return(0,s.qU)(t,e),t.__ieDyn=1,t}(y.s)},4484:(e,t,r)=>{"use strict";r.d(t,{F:()=>c,H:()=>l});var n=r(269),i=r(5025),o=r(5130),s=";",a="=";function l(e){if(!e)return{};var t=e[o.sY](s),r=(0,n.KTd)(t,(function(e,t){var r=t[o.sY](a);if(2===r[o.oI]){var n=r[0][o.OL](),i=r[1];e[n]=i}return e}),{});if((0,n.cGk)(r)[o.oI]>0){if(r.endpointsuffix){var l=r.location?r.location+".":"";r[o.zV]=r[o.zV]||"https://"+l+"dc."+r.endpointsuffix}r[o.zV]=r[o.zV]||i._G,(0,n.Cv9)(r[o.zV],"/")&&(r[o.zV]=r[o.zV].slice(0,-1))}return r}var c={parse:l}},5025:(e,t,r)=>{"use strict";r.d(t,{R2:()=>c,_G:()=>a,jp:()=>o,ks:()=>u,tU:()=>i,wc:()=>l,xF:()=>n,ym:()=>s});var n="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",i="sampleRate",o="ProcessLegacy",s="http.method",a="https://dc.services.visualstudio.com",l="/v2/track",c="not_specified",u="iKey"},7374:(e,t,r)=>{"use strict";r.d(t,{eL:()=>i,iD:()=>s,uG:()=>o});var n=r(4282),i=(0,n.H)({LocalStorage:0,SessionStorage:1}),o=(0,n.H)({AI:0,AI_AND_W3C:1,W3C:2}),s=(0,n.H)({Normal:1,Critical:2})},87:(e,t,r)=>{"use strict";r.d(t,{Dt:()=>s,Y8:()=>l,bb:()=>a,vv:()=>c});var n=r(269),i=r(5130),o="";function s(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString()[i.OL]()}function a(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=o+e%1e3,r=o+Math.floor(e/1e3)%60,n=o+Math.floor(e/6e4)%60,s=o+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return t=1===t[i.oI]?"00"+t:2===t[i.oI]?"0"+t:t,r=r[i.oI]<2?"0"+r:r,n=n[i.oI]<2?"0"+n:n,s=s[i.oI]<2?"0"+s:s,(a>0?a+".":o)+s+":"+n+":"+r+"."+t}function l(e,t){var r=null;return(0,n.Iuo)(e,(function(e){if(e.identifier===t)return r=e,-1})),r}function c(e,t,r,i,o){return!o&&(0,n.KgX)(e)&&("Script error."===e||"Script error"===e)}},8596:(e,t,r)=>{"use strict";r.d(t,{o:()=>f});var n=r(659),i=r(3673);function o(e){var t="ai."+e+".";return function(e){return t+e}}var s=o("application"),a=o("device"),l=o("location"),c=o("operation"),u=o("session"),d=o("user"),h=o("cloud"),p=o("internal"),f=function(e){function t(){return e.call(this)||this}return(0,n.qU)(t,e),t}((0,i.SZ)({applicationVersion:s("ver"),applicationBuild:s("build"),applicationTypeId:s("typeId"),applicationId:s("applicationId"),applicationLayer:s("layer"),deviceId:a("id"),deviceIp:a("ip"),deviceLanguage:a("language"),deviceLocale:a("locale"),deviceModel:a("model"),deviceFriendlyName:a("friendlyName"),deviceNetwork:a("network"),deviceNetworkName:a("networkName"),deviceOEMName:a("oemName"),deviceOS:a("os"),deviceOSVersion:a("osVersion"),deviceRoleInstance:a("roleInstance"),deviceRoleName:a("roleName"),deviceScreenResolution:a("screenResolution"),deviceType:a("type"),deviceMachineName:a("machineName"),deviceVMName:a("vmName"),deviceBrowser:a("browser"),deviceBrowserVersion:a("browserVersion"),locationIp:l("ip"),locationCountry:l("country"),locationProvince:l("province"),locationCity:l("city"),operationId:c("id"),operationName:c("name"),operationParentId:c("parentId"),operationRootId:c("rootId"),operationSyntheticSource:c("syntheticSource"),operationCorrelationVector:c("correlationVector"),sessionId:u("id"),sessionIsFirst:u("isFirst"),sessionIsNew:u("isNew"),userAccountAcquisitionDate:d("accountAcquisitionDate"),userAccountId:d("accountId"),userAgent:d("userAgent"),userId:d("id"),userStoreRegion:d("storeRegion"),userAuthUserId:d("authUserId"),userAnonymousUserAcquisitionDate:d("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:d("authUserAcquisitionDate"),cloudName:h("name"),cloudRole:h("role"),cloudRoleVer:h("roleVer"),cloudRoleInstance:h("roleInstance"),cloudEnvironment:h("environment"),cloudLocation:h("location"),cloudDeploymentUnit:h("deploymentUnit"),internalNodeName:p("nodeName"),internalSdkVersion:p("sdkVersion"),internalAgentVersion:p("agentVersion"),internalSnippet:p("snippet"),internalSdkSrc:p("sdkSrc")}))},9762:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n=(0,r(4282).H)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4})},1575:(e,t,r)=>{"use strict";r.d(t,{F:()=>i,O:()=>o});var n=r(8596),i={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},o=new n.o},5571:(e,t,r)=>{"use strict";r.d(t,{G:()=>l});var n=r(6149),i=r(269),o=r(4276),s=r(5130);function a(e,t){(0,n.ML)(e,null,null,t)}function l(e){var t=(0,i.YEm)(),r=(0,i.w3n)(),l=!1,c=[],u=1;!r||(0,i.hXl)(r.onLine)||r.onLine||(u=2);var d=0,h=m(),p=(0,n.Hm)((0,o.Z)("OfflineListener"),e);try{if(g((0,i.zkX)())&&(l=!0),t){var f=t.body||t;f.ononline&&g(f)&&(l=!0)}}catch(e){l=!1}function g(e){var t=!1;return e&&(t=(0,n.mB)(e,"online",y,p))&&(0,n.mB)(e,"offline",C,p),t}function m(){return 2!==d&&2!==u}function v(){var e=m();h!==e&&(h=e,(0,i.Iuo)(c,(function(e){var t={isOnline:h,rState:u,uState:d};try{e(t)}catch(e){}})))}function y(){u=1,v()}function C(){u=2,v()}return{isOnline:function(){return h},isListening:function(){return l},unload:function(){var e=(0,i.zkX)();if(e&&l){if(a(e,p),t){var r=t.body||t;(0,i.b07)(r.ononline)||a(r,p)}l=!1}},addListener:function(e){return c[s.y5](e),{rm:function(){var t=c.indexOf(e);return t>-1?c.splice(t,1):void 0}}},setOnlineState:function(e){d=e,v()}}}},2910:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n=(0,r(4282).o)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]})},4658:(e,t,r)=>{"use strict";r.d(t,{AN:()=>T,BW:()=>v,Dt:()=>w,Nu:()=>f,Se:()=>y,T9:()=>b,_M:()=>C,iw:()=>m,tm:()=>S,v7:()=>R,vH:()=>_,vh:()=>g});var n=r(269),i=r(3775),o=r(3673),s=r(7374),a=r(5130),l=void 0,c=void 0,u="";function d(){return v()?h(s.eL.LocalStorage):null}function h(e){try{if((0,n.hXl)((0,n.mS$)()))return null;var t=(new Date)[a.xE](),r=(0,n.zS2)(e===s.eL.LocalStorage?"localStorage":"sessionStorage"),i=u+t;r.setItem(i,t);var o=r.getItem(i)!==t;if(r[a.AZ](i),!o)return r}catch(e){}return null}function p(){return T()?h(s.eL.SessionStorage):null}function f(){l=!1,c=!1}function g(e){u=e||""}function m(){l=v(!0),c=T(!0)}function v(e){return(e||void 0===l)&&(l=!!h(s.eL.LocalStorage)),l}function y(e,t){var r=d();if(null!==r)try{return r.getItem(t)}catch(t){l=!1,(0,i.ZP)(e,2,1,"Browser failed read of local storage. "+(0,o.lL)(t),{exception:(0,n.mmD)(t)})}return null}function C(e,t,r){var s=d();if(null!==s)try{return s.setItem(t,r),!0}catch(t){l=!1,(0,i.ZP)(e,2,3,"Browser failed write to local storage. "+(0,o.lL)(t),{exception:(0,n.mmD)(t)})}return!1}function S(e,t){var r=d();if(null!==r)try{return r[a.AZ](t),!0}catch(t){l=!1,(0,i.ZP)(e,2,5,"Browser failed removal of local storage item. "+(0,o.lL)(t),{exception:(0,n.mmD)(t)})}return!1}function T(e){return(e||void 0===c)&&(c=!!h(s.eL.SessionStorage)),c}function b(){var e=[];return T()&&(0,n.zav)((0,n.zS2)("sessionStorage"),(function(t){e[a.y5](t)})),e}function _(e,t){var r=p();if(null!==r)try{return r.getItem(t)}catch(t){c=!1,(0,i.ZP)(e,2,2,"Browser failed read of session storage. "+(0,o.lL)(t),{exception:(0,n.mmD)(t)})}return null}function w(e,t,r){var s=p();if(null!==s)try{return s.setItem(t,r),!0}catch(t){c=!1,(0,i.ZP)(e,2,4,"Browser failed write to session storage. "+(0,o.lL)(t),{exception:(0,n.mmD)(t)})}return!1}function R(e,t){var r=p();if(null!==r)try{return r[a.AZ](t),!0}catch(t){c=!1,(0,i.ZP)(e,2,6,"Browser failed removal of session storage item. "+(0,o.lL)(t),{exception:(0,n.mmD)(t)})}return!1}},7358:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t}},7975:(e,t,r)=>{"use strict";r.d(t,{HQ:()=>g,Rr:()=>c,Vj:()=>f,Vk:()=>d,Vt:()=>h,_T:()=>m,lq:()=>l,pJ:()=>u,qW:()=>v,xP:()=>p,zx:()=>a});var n=r(269),i=r(3775),o=r(7292),s=r(5130);function a(e,t,r){var i=t[s.oI],o=l(e,t);if(o[s.oI]!==i){for(var a=0,c=o;void 0!==r[c];)a++,c=(0,n.P0f)(o,0,147)+v(a);o=c}return o}function l(e,t){var r;return t&&(t=(0,n.EHq)((0,n.oJg)(t)))[s.oI]>150&&(r=(0,n.P0f)(t,0,150),(0,i.ZP)(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t}function c(e,t,r){var o;return void 0===r&&(r=1024),t&&(r=r||1024,(t=(0,n.EHq)((0,n.oJg)(t)))[s.oI]>r&&(o=(0,n.P0f)(t,0,r),(0,i.ZP)(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),o||t}function u(e,t){return m(e,t,2048,66)}function d(e,t){var r;return t&&t[s.oI]>32768&&(r=(0,n.P0f)(t,0,32768),(0,i.ZP)(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}function h(e,t){var r;if(t){var o=""+t;o[s.oI]>32768&&(r=(0,n.P0f)(o,0,32768),(0,i.ZP)(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t}function p(e,t){if(t){var r={};(0,n.zav)(t,(function(t,l){if((0,n.Gvm)(l)&&(0,o.Z)())try{l=(0,o.hm)()[s.Jj](l)}catch(t){(0,i.ZP)(e,2,49,"custom property is not valid",{exception:t},!0)}l=c(e,l,8192),t=a(e,t,r),r[t]=l})),t=r}return t}function f(e,t){if(t){var r={};(0,n.zav)(t,(function(t,n){t=a(e,t,r),r[t]=n})),t=r}return t}function g(e,t){return t?m(e,t,128,69)[s.xE]():t}function m(e,t,r,o){var a;return t&&(t=(0,n.EHq)((0,n.oJg)(t)))[s.oI]>r&&(a=(0,n.P0f)(t,0,r),(0,i.ZP)(e,2,o,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0)),a||t}function v(e){var t="00"+e;return(0,n.hKY)(t,t[s.oI]-3)}},1062:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var n=r(3673),i=r(5025),o=r(5130),s=r(7975),a=function(e,t,r){var a=this,l=this;l.ver=1,l.sampleRate=100,l.tags={},l[o.RS]=(0,s.Rr)(e,r)||i.R2,l.data=t,l.time=(0,n._u)(new Date),l.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===a.sampleRate?4:1},tags:1,data:1}}},3072:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(5025),i=r(5130),o=r(7975),s=function(){function e(e,t,r,s){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var a=this;a.ver=2,a[i.RS]=(0,o.Rr)(e,t)||n.R2,a[i.$y]=(0,o.xP)(e,r),a[i.XA]=(0,o.Vj)(e,s)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}()},5397:(e,t,r)=>{"use strict";r.d(t,{WJ:()=>T});var n=r(659),i=r(269),o=r(5025),s=r(5130),a=r(7975),l="error",c="stack",u="stackDetails",d="errorSrc",h="message",p="description";function f(e,t){var r=e;return r&&!(0,i.KgX)(r)&&(JSON&&JSON[s.Jj]?(r=JSON[s.Jj](e),!t||r&&"{}"!==r||(r=(0,i.Tnt)(e[s.xE])?e[s.xE]():""+e)):r=e+" - (Missing JSON.stringify)"),r||""}function g(e,t){var r=e;return e&&(r&&!(0,i.KgX)(r)&&(r=e[h]||e[p]||r),r&&!(0,i.KgX)(r)&&(r=f(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(0,i.HzD)(r||"",t)&&(r=t+": "+r),r||""}function m(e){return e&&e.src&&(0,i.KgX)(e.src)&&e.obj&&(0,i.cyL)(e.obj)}function v(e){var t=e||"";(0,i.KgX)(t)||(t=(0,i.KgX)(t[c])?t[c]:""+t);var r=t[s.sY]("\n");return{src:t,obj:r}}function y(e){var t=null;if(e)try{if(e[c])t=v(e[c]);else if(e[l]&&e[l][c])t=v(e[l][c]);else if(e.exception&&e.exception[c])t=v(e.exception[c]);else if(m(e))t=e;else if(m(e[u]))t=e[u];else if((0,i.zkX)()&&(0,i.zkX)().opera&&e[h])t=function(e){for(var t=[],r=e[s.sY]("\n"),n=0;n<r[s.oI];n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),t[s.y5](i)}return{src:e,obj:t}}(e[s.pM]);else if(e.reason&&e.reason[c])t=v(e.reason[c]);else if((0,i.KgX)(e))t=v(e);else{var r=e[h]||e[p]||"";(0,i.KgX)(e[d])&&(r&&(r+="\n"),r+=" from "+e[d]),r&&(t=v(r))}}catch(e){t=v(e)}return t||{src:"",obj:null}}function C(e){var t="";if(e&&!(t=e.typeName||e[s.RS]||""))try{var r=/function (.{1,200})\(/.exec(e.constructor[s.xE]());t=r&&r[s.oI]>1?r[1]:""}catch(e){}return t}function S(e){if(e)try{if(!(0,i.KgX)(e)){var t=C(e),r=f(e,!1);return r&&"{}"!==r||(e[l]&&(t=C(e=e[l])),r=f(e,!0)),0!==(0,i.HzD)(r,t)&&"String"!==t?t+":"+r:r}}catch(e){}return""+(e||"")}var T=function(){function e(e,t,r,n,o,l){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var c=this;c.ver=2,function(e){try{if((0,i.Gvm)(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(c[s.OK]=t[s.OK]||[],c[s.$y]=t[s.$y],c[s.XA]=t[s.XA],t[s.Ur]&&(c[s.Ur]=t[s.Ur]),t.id&&(c.id=t.id,t[s.$y].id=t.id),t[s.Fq]&&(c[s.Fq]=t[s.Fq]),(0,i.hXl)(t[s.r1])||(c[s.r1]=t[s.r1])):(r||(r={}),l&&(r.id=l),c[s.OK]=[new b(e,t,r)],c[s.$y]=(0,a.xP)(e,r),c[s.XA]=(0,a.Vj)(e,n),o&&(c[s.Ur]=o),l&&(c.id=l))}return e.CreateAutoException=function(e,t,r,n,i,o,a,l){var c,u=C(i||o||e);return(c={})[s.pM]=g(e,u),c.url=t,c.lineNumber=r,c.columnNumber=n,c.error=S(i||o||e),c.evt=S(o||e),c[s.qg]=u,c.stackDetails=y(a||i||o),c.errorSrc=l,c},e.CreateFromInterface=function(t,r,o,a){var l=r[s.OK]&&(0,i.W$7)(r[s.OK],(function(e){return b[s.vu](t,e)}));return new e(t,(0,n.Im)((0,n.Im)({},r),{exceptions:l}),o,a)},e.prototype.toInterface=function(){var e,t=this,r=t.exceptions,n=t.properties,o=t.measurements,a=t.severityLevel,l=t.problemGroup,c=t.id,u=t.isManual,d=r instanceof Array&&(0,i.W$7)(r,(function(e){return e.toInterface()}))||void 0;return(e={ver:"4.0"})[s.OK]=d,e.severityLevel=a,e.properties=n,e.measurements=o,e.problemGroup=l,e.id=c,e.isManual=u,e},e.CreateSimpleException=function(e,t,r,n,i,o){var a;return{exceptions:[(a={},a[s.lW]=!0,a.message=e,a.stack=i,a.typeName=t,a)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=S,e}(),b=function(){function e(e,t,r){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var n=this;if(function(e){try{if((0,i.Gvm)(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t))n[s.qg]=t[s.qg],n[s.pM]=t[s.pM],n[c]=t[c],n[s.on]=t[s.on]||[],n[s.lW]=t[s.lW];else{var d=t,h=d&&d.evt;(0,i.bJ7)(d)||(d=d[l]||h||d),n[s.qg]=(0,a.Rr)(e,C(d))||o.R2,n[s.pM]=(0,a.Vk)(e,g(t||d,n[s.qg]))||o.R2;var p=t[u]||y(t);n[s.on]=function(e){var t,r=e.obj;if(r&&r[s.oI]>0){t=[];var n=0,o=0;if((0,i.Iuo)(r,(function(e){var r=e[s.xE]();if(_.regex.test(r)){var i=new _(r,n++);o+=i[s.J$],t[s.y5](i)}})),o>32768)for(var a=0,l=t[s.oI]-1,c=0,u=a,d=l;a<l;){if((c+=t[a][s.J$]+t[l][s.J$])>32768){var h=d-u+1;t.splice(u,h);break}u=a,d=l,a++,l--}}return t}(p),(0,i.cyL)(n[s.on])&&(0,i.W$7)(n[s.on],(function(t){t[s.QE]=(0,a.Rr)(e,t[s.QE]),t[s.IE]=(0,a.Rr)(e,t[s.IE])})),n[c]=(0,a.Vt)(e,function(e){var t="";return e&&(e.obj?(0,i.Iuo)(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(p)),n.hasFullStack=(0,i.cyL)(n.parsedStack)&&n.parsedStack[s.oI]>0,r&&(r[s.qg]=r[s.qg]||n[s.qg])}}return e.prototype.toInterface=function(){var e,t=this,r=t[s.on]instanceof Array&&(0,i.W$7)(t[s.on],(function(e){return e.toInterface()}));return(e={id:t.id,outerId:t.outerId,typeName:t[s.qg],message:t[s.pM],hasFullStack:t[s.lW],stack:t[c]})[s.on]=r||void 0,e},e.CreateFromInterface=function(t,r){var o=r[s.on]instanceof Array&&(0,i.W$7)(r[s.on],(function(e){return _[s.vu](e)}))||r[s.on];return new e(t,(0,n.Im)((0,n.Im)({},r),{parsedStack:o}))},e}(),_=function(){function e(t,r){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var n=this;if(n[s.J$]=0,"string"==typeof t){var o=t;n[s.Av]=r,n[s.lx]="<no_method>",n[s.QE]=(0,i.EHq)(o),n[s.IE]="",n[s.h_]=0;var a=o.match(e.regex);a&&a[s.oI]>=5&&(n[s.lx]=(0,i.EHq)(a[2])||n[s.lx],n[s.IE]=(0,i.EHq)(a[4]),n[s.h_]=parseInt(a[5])||0)}else n[s.Av]=t[s.Av],n[s.lx]=t[s.lx],n[s.QE]=t[s.QE],n[s.IE]=t[s.IE],n[s.h_]=t[s.h_],n[s.J$]=0;n.sizeInBytes+=n.method[s.oI],n.sizeInBytes+=n.fileName[s.oI],n.sizeInBytes+=n.assembly[s.oI],n[s.J$]+=e.baseSize,n.sizeInBytes+=n.level.toString()[s.oI],n.sizeInBytes+=n.line.toString()[s.oI]}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){var e=this;return{level:e[s.Av],method:e[s.lx],assembly:e[s.QE],fileName:e[s.IE],line:e[s.h_]}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}()},5014:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(5025),i=r(5130),o=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},s=r(7975),a=function(){function e(e,t,r,a,l,c,u,d,h){this.aiDataContract={ver:1,metrics:1,properties:0};var p=this;p.ver=2;var f=new o;f[i.F2]=a>0?a:void 0,f.max=isNaN(c)||null===c?void 0:c,f.min=isNaN(l)||null===l?void 0:l,f[i.RS]=(0,s.Rr)(e,t)||n.R2,f.value=r,f.stdDev=isNaN(u)||null===u?void 0:u,p.metrics=[f],p[i.$y]=(0,s.xP)(e,d),p[i.XA]=(0,s.Vj)(e,h)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}()},1448:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(5025),i=r(87),o=r(5130),s=r(7975),a=function(){function e(e,t,r,a,l,c,u){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var d=this;d.ver=2,d.id=(0,s.HQ)(e,u),d.url=(0,s.pJ)(e,r),d[o.RS]=(0,s.Rr)(e,t)||n.R2,isNaN(a)||(d[o.qd]=(0,i.bb)(a)),d[o.$y]=(0,s.xP)(e,l),d[o.XA]=(0,s.Vj)(e,c)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}()},4164:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});var n=r(5025),i=r(5130),o=r(7975),s=function(){function e(e,t,r,s,a,l,c){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var u=this;u.ver=2,u.url=(0,o.pJ)(e,r),u[i.RS]=(0,o.Rr)(e,t)||n.R2,u[i.$y]=(0,o.xP)(e,a),u[i.XA]=(0,o.Vj)(e,l),c&&(u.domProcessing=c.domProcessing,u[i.qd]=c[i.qd],u.networkConnect=c.networkConnect,u.perfTotal=c.perfTotal,u[i.fd]=c[i.fd],u.sentRequest=c.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}()},1365:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(87),i=r(2318),o=r(5130),s=r(7975),a=function(){function e(e,t,r,a,l,c,u,d,h,p,f,g){void 0===h&&(h="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var m=this;m.ver=2,m.id=t,m[o.qd]=(0,n.bb)(l),m.success=c,m.resultCode=u+"",m.type=(0,s.Rr)(e,h);var v=(0,i._U)(e,r,d,a);m.data=(0,s.pJ)(e,a)||v.data,m.target=(0,s.Rr)(e,v.target),p&&(m.target="".concat(m.target," | ").concat(p)),m[o.RS]=(0,s.Rr)(e,v[o.RS]),m[o.$y]=(0,s.xP)(e,f),m[o.XA]=(0,s.Vj)(e,g)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}()},2445:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var n=r(5025),i=r(5130),o=r(7975),s=function(){function e(e,t,r,s,a){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var l=this;l.ver=2,t=t||n.R2,l[i.pM]=(0,o.Vk)(e,t),l[i.$y]=(0,o.xP)(e,s),l[i.XA]=(0,o.Vj)(e,a),r&&(l[i.Ur]=r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}()},9354:(e,t,r)=>{"use strict";r.d(t,{Gz:()=>u,M0:()=>p,PS:()=>h,cM:()=>l,k6:()=>d,wX:()=>c});var n=r(269),i=r(5130),o=(0,n.YEm)()||{},s=0,a=[null,null,null,null,null];function l(e){var t=s,r=a,n=r[t];return o.createElement?r[t]||(n=r[t]=o.createElement("a")):n={host:h(e,!0)},n.href=e,++t>=r[i.oI]&&(t=0),s=t,n}function c(e){var t,r=l(e);return r&&(t=r.href),t}function u(e){var t,r=l(e);return r&&(t=r[i.Ue]),t}function d(e,t){return e?e.toUpperCase()+" "+t:t}function h(e,t){var r=p(e,t)||"";if(r){var o=r.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=o&&o[i.oI]>3&&(0,n.KgX)(o[2])&&o[2][i.oI]>0)return o[2]+(o[3]||"")}return r}function p(e,t){var r=null;if(e){var o=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(null!=o&&o[i.oI]>2&&(0,n.KgX)(o[2])&&o[2][i.oI]>0&&(r=o[2]||"",t&&o[i.oI]>2)){var s=(o[1]||"")[i.OL](),a=o[3]||"";("http"===s&&":80"===a||"https"===s&&":443"===a)&&(a=""),r+=a}}return r}},2318:(e,t,r)=>{"use strict";r.d(t,{Ft:()=>T,Qu:()=>h,Rs:()=>g,Wt:()=>p,_U:()=>y,jj:()=>S,lt:()=>C,mD:()=>v,mp:()=>f,pg:()=>m});var n=r(269),i=r(1864),o=r(5025),s=r(2910),a=r(7975),l=r(9354),c=r(5130),u=[o._G+o.wc,"https://breeze.aimon.applicationinsights.io"+o.wc,"https://dc-int.services.visualstudio.com"+o.wc],d="cid-v1:";function h(e){return-1!==(0,n.rDm)(u,e[c.OL]())}function p(e){d=e}function f(){return d}function g(e,t,r){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[c.Ol])for(var i=0;i<e.correlationHeaderExcludePatterns[c.oI];i++)if(e[c.Ol][i].test(t))return!1;var o=(0,l.cM)(t).host[c.OL]();if(!o||-1===(0,n.HzD)(o,":443")&&-1===(0,n.HzD)(o,":80")||(o=((0,l.M0)(t,!0)||"")[c.OL]()),(!e||!e.enableCorsCorrelation)&&o&&o!==r)return!1;var s,a=e&&e.correlationHeaderDomains;if(a&&((0,n.Iuo)(a,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||t.test(o)})),!s))return!1;var u=e&&e.correlationHeaderExcludedDomains;if(!u||0===u[c.oI])return!0;for(i=0;i<u[c.oI];i++)if(new RegExp(u[i].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(o))return!1;return o&&o[c.oI]>0}function m(e){if(e){var t=v(e,s.a[1]);if(t&&t!==d)return t}}function v(e,t){if(e)for(var r=e[c.sY](","),n=0;n<r[c.oI];++n){var i=r[n][c.sY]("=");if(2===i[c.oI]&&i[0]===t)return i[1]}}function y(e,t,r,n){var i,o=n,s=n;if(t&&t[c.oI]>0){var u=(0,l.cM)(t);if(i=u.host,!o)if(null!=u[c.Ue]){var d=0===u.pathname[c.oI]?"/":u[c.Ue];"/"!==d.charAt(0)&&(d="/"+d),s=u[c.Ue],o=(0,a.Rr)(e,r?r+" "+d:d)}else o=(0,a.Rr)(e,t)}else i=n,o=n;return{target:i,name:o,data:s}}function C(){var e=(0,n.FJj)();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return(0,n.f0d)()}function S(e,t){var r=null;return 0===e||0===t||(0,n.hXl)(e)||(0,n.hXl)(t)||(r=t-e),r}function T(e,t){var r=e||{};return{getName:function(){return r[c.RS]},setName:function(e){t&&t.setName(e),r[c.RS]=e},getTraceId:function(){return r.traceID},setTraceId:function(e){t&&t.setTraceId(e),(0,i.hX)(e)&&(r.traceID=e)},getSpanId:function(){return r.parentID},setSpanId:function(e){t&&t.setSpanId(e),(0,i.wN)(e)&&(r.parentID=e)},getTraceFlags:function(){return r.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),r.traceFlags=e}}}},5130:(e,t,r)=>{"use strict";r.d(t,{$e:()=>y,$y:()=>R,AZ:()=>c,Av:()=>j,C9:()=>v,Cx:()=>f,F2:()=>h,Fq:()=>O,IE:()=>x,J$:()=>P,Jj:()=>C,Jm:()=>p,OK:()=>_,OL:()=>o,Ol:()=>T,QE:()=>A,RS:()=>u,Ue:()=>S,Ur:()=>D,XA:()=>E,fd:()=>G,h_:()=>L,i9:()=>m,lW:()=>N,lx:()=>F,oI:()=>i,on:()=>w,pM:()=>d,qd:()=>B,qg:()=>k,r1:()=>I,sY:()=>n,up:()=>b,vu:()=>M,xE:()=>a,y5:()=>l,zV:()=>s,zw:()=>g});var n="split",i="length",o="toLowerCase",s="ingestionendpoint",a="toString",l="push",c="removeItem",u="name",d="message",h="count",p="preTriggerDate",f="disabled",g="interval",m="daysOfMonth",v="date",y="getUTCDate",C="stringify",S="pathname",T="correlationHeaderExcludePatterns",b="extensionConfig",_="exceptions",w="parsedStack",R="properties",E="measurements",P="sizeInBytes",k="typeName",D="severityLevel",O="problemGroup",I="isManual",M="CreateFromInterface",A="assembly",x="fileName",N="hasFullStack",j="level",F="method",L="line",B="duration",G="receivedResponse"},740:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnalyticsPluginIdentifier:()=>G,BreezeChannelIdentifier:()=>B,ConfigurationManager:()=>R,ConnectionStringParser:()=>h.F,ContextTagKeys:()=>E.o,CtxTagKeys:()=>O.O,DEFAULT_BREEZE_ENDPOINT:()=>f._G,DEFAULT_BREEZE_PATH:()=>f.wc,Data:()=>_.B,DisabledPropertyName:()=>f.xF,DistributedTracingModes:()=>I.uG,Envelope:()=>g.L,Event:()=>m.J,EventPersistence:()=>I.iD,Exception:()=>v.WJ,Extensions:()=>O.F,HttpMethod:()=>f.ym,Metric:()=>y.J,PageView:()=>C.h,PageViewPerformance:()=>b.H,ProcessLegacy:()=>f.jp,PropertiesPluginIdentifier:()=>L,RemoteDependencyData:()=>S.A,RequestHeaders:()=>p.a,SampleRate:()=>f.tU,SeverityLevel:()=>w.O,TelemetryItemCreator:()=>D,ThrottleMgr:()=>d,Trace:()=>T.C,correlationIdCanIncludeCorrelationHeader:()=>n.Rs,correlationIdGetCorrelationContext:()=>n.pg,correlationIdGetCorrelationContextValue:()=>n.mD,correlationIdGetPrefix:()=>n.mp,correlationIdSetPrefix:()=>n.Wt,createDistributedTraceContextFromTrace:()=>n.Ft,createDomEvent:()=>N,createOfflineListener:()=>F.G,createTelemetryItem:()=>k,createTraceParent:()=>x.wk,dataSanitizeException:()=>P.Vt,dataSanitizeId:()=>P.HQ,dataSanitizeInput:()=>P._T,dataSanitizeKey:()=>P.lq,dataSanitizeKeyAndAddUniqueness:()=>P.zx,dataSanitizeMeasurements:()=>P.Vj,dataSanitizeMessage:()=>P.Vk,dataSanitizeProperties:()=>P.xP,dataSanitizeString:()=>P.Rr,dataSanitizeUrl:()=>P.pJ,dateTimeUtilsDuration:()=>n.jj,dateTimeUtilsNow:()=>n.lt,dsPadNumber:()=>P.qW,findW3cTraceParent:()=>x.ef,formatTraceParent:()=>x.L0,getExtensionByName:()=>M.Y8,isBeaconApiSupported:()=>A.Uf,isCrossOriginError:()=>M.vv,isInternalApplicationInsightsEndpoint:()=>n.Qu,isSampledFlag:()=>x.N7,isValidSpanId:()=>x.wN,isValidTraceId:()=>x.hX,isValidTraceParent:()=>x.mJ,msToTimeSpan:()=>M.bb,parseConnectionString:()=>h.H,parseTraceParent:()=>x.ZI,strNotSpecified:()=>f.R2,stringToBoolOrDefault:()=>M.Dt,urlGetAbsoluteUrl:()=>j.wX,urlGetCompleteUrl:()=>j.k6,urlGetPathName:()=>j.Gz,urlParseFullHost:()=>j.M0,urlParseHost:()=>j.PS,urlParseUrl:()=>j.cM,utlCanUseLocalStorage:()=>c.BW,utlCanUseSessionStorage:()=>c.AN,utlDisableStorage:()=>c.Nu,utlEnableStorage:()=>c.iw,utlGetLocalStorage:()=>c.Se,utlGetSessionStorage:()=>c.vH,utlGetSessionStorageKeys:()=>c.T9,utlRemoveSessionStorage:()=>c.v7,utlRemoveStorage:()=>c.tm,utlSetLocalStorage:()=>c._M,utlSetSessionStorage:()=>c.Dt,utlSetStoragePrefix:()=>c.vh});var n=r(2318),i=r(269),o=r(3775),s=r(3673),a=r(9749),l=r(6535),c=r(4658),u=r(5130),d=function(e,t){var r,n,d,h,p,f,g,m=this,v=!1,y=!1;function C(e,t,i,o){if(v){var s=function(e){try{var t=S(e);return(0,l.Z1)(1e6)<=t.limit.samplingRate}catch(e){}return!1}(e);if(!s)return;var a=S(e),c=k(e),d=b(a,r,c),h=!1,f=0,g=D(e);try{d&&!g?(f=Math.min(a.limit.maxSendNumber,c[u.F2]+1),c[u.F2]=0,h=!0,p[e]=!0,c[u.Jm]=new Date):(p[e]=d,c[u.F2]+=1);var m=_(e);R(n,m,c);for(var y=0;y<f;y++)P(e,n,t,i)}catch(e){}return{isThrottled:h,throttleNum:f}}return o&&O(e)[u.y5]({msgID:e,message:t,severity:i}),null}function S(e){return d[e]||d[109]}function T(e,t){var r,n,o,s,a;try{var l=t||{},c={};c[u.Cx]=!!l[u.Cx];var h=l[u.zw]||{};y=(null==h?void 0:h.daysOfMonth)&&(null==h?void 0:h.daysOfMonth[u.oI])>0,c[u.zw]=(s=null===(o=(o=h)||{})||void 0===o?void 0:o.monthInterval,a=null==o?void 0:o.dayInterval,(0,i.hXl)(s)&&(0,i.hXl)(a)&&(o.monthInterval=3,y||(o[u.i9]=[28],y=!0)),o={monthInterval:null==o?void 0:o.monthInterval,dayInterval:null==o?void 0:o.dayInterval,daysOfMonth:null==o?void 0:o.daysOfMonth});var p={samplingRate:(null===(r=l.limit)||void 0===r?void 0:r.samplingRate)||100,maxSendNumber:(null===(n=l.limit)||void 0===n?void 0:n.maxSendNumber)||1};c.limit=p,d[e]=c}catch(e){}}function b(e,t,r){if(e&&!e[u.Cx]&&t&&(0,s.Gh)(r)){var n=w(),o=r[u.C9],a=e[u.zw],l=1;if(null==a?void 0:a.monthInterval){var c=12*(n.getUTCFullYear()-o.getUTCFullYear())+n.getUTCMonth()-o.getUTCMonth();l=E(a.monthInterval,0,c)}var d=1;if(y)d=(0,i.rDm)(a[u.i9],n[u.$e]());else if(null==a?void 0:a.dayInterval){var h=Math.floor((n.getTime()-o.getTime())/864e5);d=E(a.dayInterval,0,h)}return l>=0&&d>=0}return!1}function _(e,t){var r=(0,s.Gh)(t)?t:"";return e?"appInsightsThrottle"+r+"-"+e:null}function w(e){try{if(!e)return new Date;var t=new Date(e);if(!isNaN(t.getDate()))return t}catch(e){}return null}function R(e,t,r){try{return(0,c._M)(e,t,(0,i.EHq)(JSON[u.Jj](r)))}catch(e){}return!1}function E(e,t,r){return e<=0?1:r>=t&&(r-t)%e==0?Math.floor((r-t)/e)+1:-1}function P(e,t,r,n){(0,o.ZP)(t,n||1,e,r)}function k(e){try{var t=h[e];if(!t){var r=_(e,f);t=function(e,t,r){try{var n={date:w(),count:0};if(e){var i=JSON.parse(e);return{date:w(i[u.C9])||n[u.C9],count:i[u.F2]||n[u.F2],preTriggerDate:i.preTriggerDate?w(i[u.Jm]):void 0}}return R(t,r,n),n}catch(e){}return null}((0,c.Se)(n,r),n,r),h[e]=t}return h[e]}catch(e){}return null}function D(e){var t=p[e];if((0,i.hXl)(t)){t=!1;var r=k(e);r&&(t=function(e){try{if(e){var t=new Date;return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e[u.$e]()===t[u.$e]()}}catch(e){}return!1}(r[u.Jm])),p[e]=t}return p[e]}function O(e){return g=g||{},(0,i.hXl)(g[e])&&(g[e]=[]),g[e]}n=(0,o.y0)(e),p={},h={},g={},d={},T(109),f=(0,s.Gh)(t)?t:"",e.addUnloadHook((0,a.a)(e.config,(function(e){var t=e.cfg;r=(0,c.BW)();var n=t.throttleMgrCfg||{};(0,i.zav)(n,(function(e,t){T(parseInt(e),t)}))}))),m._getDbgPlgTargets=function(){return[g]},m.getConfig=function(){return d},m.canThrottle=function(e){var t=k(e);return b(S(e),r,t)},m.isTriggered=function(e){return D(e)},m.isReady=function(){return v},m.flush=function(e){try{var t=O(e);if(t&&t[u.oI]>0){var r=t.slice(0);return g[e]=[],(0,i.Iuo)(r,(function(e){C(e.msgID,e[u.pM],e.severity,!1)})),!0}}catch(e){}return!1},m.flushAll=function(){try{if(g){var e=!0;return(0,i.zav)(g,(function(t){var r=m.flush(parseInt(t));e=e&&r})),e}}catch(e){}return!1},m.onReadyState=function(e,t){return void 0===t&&(t=!0),(v=!!(0,i.hXl)(e)||e)&&t?m.flushAll():null},m.sendMessage=function(e,t,r){return C(e,t,r,!0)}},h=r(4484),p=r(2910),f=r(5025),g=r(1062),m=r(3072),v=r(5397),y=r(5014),C=r(1448),S=r(1365),T=r(2445),b=r(4164),_=r(7358),w=r(9762),R=function(){function e(){}return e.getConfig=function(e,t,r,n){var o;return void 0===n&&(n=!1),o=r&&e[u.up]&&e[u.up][r]&&!(0,i.hXl)(e[u.up][r][t])?e[u.up][r][t]:e[t],(0,i.hXl)(o)?n:o},e}(),E=r(8596),P=r(7975);function k(e,t,r,n,o,a){var l;r=(0,P.Rr)(n,r)||f.R2,((0,i.hXl)(e)||(0,i.hXl)(t)||(0,i.hXl)(r))&&(0,i.$8)("Input doesn't contain all required fields");var c="";e[f.ks]&&(c=e[f.ks],delete e[f.ks]);var d=((l={})[u.RS]=r,l.time=(0,s._u)(new Date),l.iKey=c,l.ext=a||{},l.tags=[],l.data={},l.baseType=t,l.baseData=e,l);return(0,i.hXl)(o)||(0,i.zav)(o,(function(e,t){d.data[e]=t})),d}var D=function(){function e(){}return e.create=k,e}(),O=r(1575),I=r(7374),M=r(87),A=r(7292),x=r(1864);function N(e){var t=null;if((0,i.Tnt)(Event))t=new Event(e);else{var r=(0,i.YEm)();r&&r.createEvent&&(t=r.createEvent("Event")).initEvent(e,!0,!0)}return t}var j=r(9354),F=r(5571),L="AppInsightsPropertiesPlugin",B="AppInsightsChannelPlugin",G="ApplicationInsightsAnalytics"},2475:(e,t,r)=>{"use strict";r.d(t,{DD:()=>l,Lx:()=>a,NU:()=>s});var n=r(269),i=r(6182);function o(e,t,r){return!e&&(0,n.hXl)(e)?t:(0,n.Lmq)(e)?e:"true"===(0,n.oJg)(e)[i.OL]()}function s(e){return{mrg:!0,v:e}}function a(e,t,r){return{fb:r,isVal:e,v:t}}function l(e,t){return{fb:t,set:o,v:!!e}}},991:(e,t,r)=>{"use strict";r.d(t,{q:()=>l});var n=r(269),i=r(6182);function o(e){return e&&(0,n.Gvm)(e)&&(e.isVal||e.fb||(0,n.KhI)(e,"v")||(0,n.KhI)(e,"mrg")||(0,n.KhI)(e,"ref")||e.set)}function s(e,t,r){var o,s=r.dfVal||n.O9V;if(t&&r.fb){var a=r.fb;(0,n.cyL)(a)||(a=[a]);for(var l=0;l<a[i.oI];l++){var c=a[l],u=t[c];if(s(u)?o=u:e&&(s(u=e.cfg[c])&&(o=u),e.set(e.cfg,(0,n.oJg)(c),u)),s(o))break}}return!s(o)&&s(r.v)&&(o=r.v),o}function a(e,t,r){var l,c=r;return r&&o(r)&&(c=s(e,t,r)),c&&(o(c)&&(c=a(e,t,c)),(0,n.cyL)(c)?(l=[])[i.oI]=c[i.oI]:(0,n.QdQ)(c)&&(l={}),l&&((0,n.zav)(c,(function(r,n){n&&o(n)&&(n=a(e,t,n)),l[r]=n})),c=l)),c}function l(e,t,r,c){var u,d,h,p,f,g,m,v,y=c;o(y)?(u=y.isVal,d=y.set,g=y[i.XW],m=y[i.JQ],p=y.mrg,!(f=y.ref)&&(0,n.b07)(f)&&(f=!!p),h=s(e,t,y)):h=c,m&&e[i.JQ](t,r);var C=!0,S=t[r];!S&&(0,n.hXl)(S)||(v=S,C=!1,u&&v!==h&&!u(v)&&(v=h,C=!0),d&&(C=(v=d(v,h,t))===h)),C?v=h?a(e,t,h):h:((0,n.QdQ)(v)||(0,n.cyL)(h))&&p&&h&&((0,n.QdQ)(h)||(0,n.cyL)(h))&&(0,n.zav)(h,(function(t,r){l(e,v,t,r)})),e.set(t,r,v),f&&e.ref(t,r),g&&e[i.XW](t,r)}},9749:(e,t,r)=>{"use strict";r.d(t,{e:()=>C,a:()=>S});var n,i=r(269),o=r(4276),s=r(6492),a=r(6182),l=r(991),c=r(9147),u=["push","pop","shift","unshift","splice"],d=function(e,t,r,n){e&&e[a.ih](3,108,"".concat(r," [").concat(t,"] failed - ")+(0,i.mmD)(n))};function h(e,t){var r=(0,i.kgX)(e,t);return r&&r.get}function p(e,t,r,n){if(t){var o=h(t,r);o&&o[e.prop]?t[r]=n:function(e,t,r,n){var o={n:r,h:[],trk:function(t){t&&t.fn&&(-1===(0,i.rDm)(o.h,t)&&o.h[a.y5](t),e.trk(t,o))},clr:function(e){var t=(0,i.rDm)(o.h,e);-1!==t&&o.h[a.Ic](t,1)}},l=!0,u=!1;function f(){l&&(u=u||(0,c.hF)(f,e,n),n&&!n[c.nM]&&u&&(n=g(e,n,r,"Converting")),l=!1);var t=e.act;return t&&o.trk(t),n}f[e.prop]={chng:function(){e.add(o)}},(0,i.vF1)(t,o.n,{g:f,s:function(m){if(n!==m){f[e.ro]&&!e.upd&&(0,c.If)("["+r+"] is read-only:"+(0,i.mmD)(t)),l&&(u=u||(0,c.hF)(f,e,n),l=!1);var v=u&&f[e.rf];if(u)if(v){(0,i.zav)(n,(function(e){n[e]=m?m[e]:s.HP}));try{(0,i.zav)(m,(function(t,r){p(e,n,t,r)})),m=n}catch(t){d((e.hdlr||{})[a.Uw],r,"Assigning",t),u=!1}}else n&&n[c.nM]&&(0,i.zav)(n,(function(t){var r=h(n,t);if(r){var i=r[e.prop];i&&i.chng()}}));if(m!==n){var y=m&&(0,c.hF)(f,e,m);!v&&y&&(m=g(e,m,r,"Converting")),n=m,u=y}e.add(o)}}})}(e,t,r,n)}return t}function f(e,t,r,n){if(t){var i=h(t,r),o=i&&!!i[e.prop],s=n&&n[0],l=n&&n[1],u=n&&n[2];if(!o){if(u)try{(0,c.V9)(t)}catch(t){d((e.hdlr||{})[a.Uw],r,"Blocking",t)}try{p(e,t,r,t[r]),i=h(t,r)}catch(t){d((e.hdlr||{})[a.Uw],r,"State",t)}}s&&(i[e.rf]=s),l&&(i[e.ro]=l),u&&(i[e.blkVal]=!0)}return t}function g(e,t,r,n){try{(0,i.zav)(t,(function(r,n){p(e,t,r,n)})),t[c.nM]||((0,i.UxO)(t,c.nM,{get:function(){return e[a.K0]}}),function(e,t,r){(0,i.cyL)(t)&&(0,i.Iuo)(u,(function(n){var i=t[n];t[n]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=i[a.y9](this,n);return g(e,t,r,"Patching"),s}}))}(e,t,r))}catch(t){d((e.hdlr||{})[a.Uw],r,n,t)}return t}var m="[[ai_",v="]]";function y(e,t,r){var s,u=(0,c.QA)(t);if(u)return u;var h,y=(0,o.Z)("dyncfg",!0),C=t&&!1!==r?t:(0,c.Dy)(t),S=((s={uid:null,cfg:C})[a.Uw]=e,s[a.zs]=function(){h[a.zs]()},s.set=function(t,r,n){try{t=p(h,t,r,n)}catch(t){d(e,r,"Setting value",t)}return t[r]},s[a.h0]=function(e,t){return t&&(0,i.zav)(t,(function(t,r){(0,l.q)(S,e,t,r)})),e},s[a.x6]=function(e){return function(e,t){var r={fn:t,rm:function(){r.fn=null,e=null,t=null}};return(0,i.vF1)(r,"toJSON",{v:function(){return"WatcherHandler"+(r.fn?"":"[X]")}}),e.use(r,t),r}(h,e)},s.ref=function(e,t){var r;return f(h,e,t,(r={},r[0]=!0,r))[t]},s[a.XW]=function(e,t){var r;return f(h,e,t,(r={},r[1]=!0,r))[t]},s[a.JQ]=function(e,t){var r;return f(h,e,t,(r={},r[2]=!0,r))[t]},s._block=function(e,t){h.use(null,(function(r){var n=h.upd;try{(0,i.b07)(t)||(h.upd=t),e(r)}finally{h.upd=n}}))},s);return(0,i.vF1)(S,"uid",{c:!1,e:!1,w:!1,v:y}),g(h=function(e){var t,r,o=(0,i.jjc)(m+"get"+e.uid+v),s=(0,i.jjc)(m+"ro"+e.uid+v),l=(0,i.jjc)(m+"rf"+e.uid+v),c=(0,i.jjc)(m+"blkVal"+e.uid+v),u=(0,i.jjc)(m+"dtl"+e.uid+v),d=null,h=null;function p(t,n){var o=r.act;try{r.act=t,t&&t[u]&&((0,i.Iuo)(t[u],(function(e){e.clr(t)})),t[u]=[]),n({cfg:e.cfg,set:e.set.bind(e),setDf:e[a.h0].bind(e),ref:e.ref.bind(e),rdOnly:e[a.XW].bind(e)})}catch(t){var s=e[a.Uw];throw s&&s[a.ih](1,107,(0,i.mmD)(t)),t}finally{r.act=o||null}}function f(){if(d){var e=d;d=null,h&&h[a._w](),h=null;var t=[];if((0,i.Iuo)(e,(function(e){if(e&&(e[u]&&((0,i.Iuo)(e[u],(function(t){t.clr(e)})),e[u]=null),e.fn))try{p(e,e.fn)}catch(e){t[a.y5](e)}})),d)try{f()}catch(e){t[a.y5](e)}t[a.oI]>0&&function(e,t){n||(n=(0,i.aqQ)("AggregationError",(function(e,t){t[a.oI]>1&&(e.errors=t[1])})));var r="Watcher error(s): ";throw(0,i.Iuo)(t,(function(e,t){r+="\n".concat(t," > ").concat((0,i.mmD)(e))})),new n(r,t||[])}(0,t)}}return(t={prop:o,ro:s,rf:l})[a.JQ]=c,t[a.K0]=e,t.add=function(e){if(e&&e.h[a.oI]>0){d||(d=[]),h||(h=(0,i.dRz)((function(){h=null,f()}),0));for(var t=0;t<e.h[a.oI];t++){var r=e.h[t];r&&-1===(0,i.rDm)(d,r)&&d[a.y5](r)}}},t[a.zs]=f,t.use=p,t.trk=function(e,t){if(e){var r=e[u]=e[u]||[];-1===(0,i.rDm)(r,t)&&r[a.y5](t)}},r=t}(S),C,"config","Creating"),S}function C(e,t,r,n){var i=y(r,e||{},n);return t&&i[a.h0](i.cfg,t),i}function S(e,t,r){var n=e[c.nM]||e;return!n.cfg||n.cfg!==e&&n.cfg[c.nM]!==n?(function(e,t){e?(e[a.on](t),e[a.ih](2,108,t)):(0,c.If)(t)}(r,s.xW+(0,i.mmD)(e)),C(e,null,r)[a.x6](t)):n[a.x6](t)}},9147:(e,t,r)=>{"use strict";r.d(t,{Dy:()=>l,Hf:()=>d,If:()=>p,QA:()=>c,V9:()=>u,hF:()=>h,nM:()=>o});var n=r(269),i=r(6182),o=(0,n.eCG)("[[ai_dynCfg_1]]"),s=(0,n.eCG)("[[ai_blkDynCfg_1]]"),a=(0,n.eCG)("[[ai_frcDynCfg_1]]");function l(e){var t;return e&&((0,n.cyL)(e)?(t=[])[i.oI]=e[i.oI]:(0,n.QdQ)(e)&&(t={}),t)?((0,n.zav)(e,(function(e,r){t[e]=l(r)})),t):e}function c(e){if(e){var t=e[o]||e;if(t.cfg&&(t.cfg===e||t.cfg[o]===t))return t}return null}function u(e){if(e&&((0,n.QdQ)(e)||(0,n.cyL)(e)))try{e[s]=!0}catch(e){}return e}function d(e){if(e)try{e[a]=!0}catch(e){}return e}function h(e,t,r){var i=!1;return r&&!e[t.blkVal]&&((i=r[a])||r[s]||(i=(0,n.QdQ)(r)||(0,n.cyL)(r))),i}function p(e){(0,n.zkd)("InvalidAccess:"+e)}},4282:(e,t,r)=>{"use strict";r.d(t,{H:()=>i,o:()=>o});var n=r(269),i=n.WSA,o=n.fn0},3662:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var n=r(4282),i=(0,n.H)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5});(0,n.H)({Unknown:0,NonRetryableStatus:1,CleanStorage:2,MaxInStorageTimeExceeded:3})},4875:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var n=(0,r(4282).H)({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2})},2774:(e,t,r)=>{"use strict";r.d(t,{_:()=>A});var n,i=r(659),o=r(8279),s=r(8205),a=r(269),l=r(9749),c=r(4875),u=r(6182),d=r(4013),h=r(7847),p=r(5034),f=r(4276),g=r(7867),m=r(3775),v=r(3673),y=r(6492),C=r(1356),S=r(5775),T=r(2317),b=r(380),_=function(e){function t(){var r,n,i=e.call(this)||this;function s(){r=0,n=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,s(),(0,o.A)(t,i,(function(e,t){e.addTelemetryInitializer=function(e){return function(e,t,r){var n={id:t,fn:r};return(0,a.Yny)(e,n),{remove:function(){(0,a.Iuo)(e,(function(t,r){if(t.id===n.id)return e[u.Ic](r,1),-1}))}}}(n,r++,e)},e[y.qT]=function(t,r){(function(e,t,r){for(var n=!1,i=e[u.oI],o=0;o<i;++o){var s=e[o];if(s)try{if(!1===s.fn[u.y9](null,[t])){n=!0;break}}catch(e){(0,m.ZP)(r,2,64,"Telemetry initializer failed: "+(0,v.lL)(e),{exception:(0,a.mmD)(e)},!0)}}return!n})(n,t,r?r[u.e4]():e[u.e4]())&&e[u.$5](t,r)},e[u.tn]=function(){s()}})),i}return(0,i.qU)(t,e),t.__ieDyn=1,t}(r(8257).s),w=r(836),R=r(8969),E="Plugins must provide initialize method",P="SDK is still unloading...",k=(0,a.ZHX)(((n={cookieCfg:{}})[y.jy]={rdOnly:!0,ref:!0,v:[]},n[y.LZ]={rdOnly:!0,ref:!0,v:[]},n[y.Bw]={ref:!0,v:{}},n[y.Yd]=y.HP,n.loggingLevelConsole=0,n.diagnosticLogInterval=y.HP,n));function D(e,t){return new S.NS(t)}function O(e,t){var r=!1;return(0,a.Iuo)(t,(function(t){if(t===e)return r=!0,-1})),r}function I(e,t,r,n){r&&(0,a.zav)(r,(function(r,i){n&&(0,a.QdQ)(i)&&(0,a.QdQ)(t[r])&&I(e,t[r],i,n),n&&(0,a.QdQ)(i)&&(0,a.QdQ)(t[r])?I(e,t[r],i,n):e.set(t,r,i)}))}function M(e,t){var r=null,n=-1;return(0,a.Iuo)(e,(function(e,i){if(e.w===t)return r=e,n=i,-1})),{i:n,l:r}}var A=function(){function e(){var t,r,n,A,x,N,j,F,L,B,G,q,U,z,W,H,$,K,V,J,X,Y,Z,Q,ee,te,re,ne,ie,oe,se,ae;(0,o.A)(e,this,(function(e){function o(){ie=!0,(0,a.hXl)(X)?(te=c.f[u.Yq],(0,m.ZP)(n,1,112,"ikey can't be resolved from promises")):te=c.f.ACTIVE,le()}function le(){r&&(e.releaseQueue(),e[u.h4]())}function ce(e){return oe&&oe[u.XM]||ae||(e||n&&n.queue[u.oI]>0)&&(se||(se=!0,be(t[u.x6]((function(e){var t=e.cfg.diagnosticLogInterval;t&&t>0||(t=1e4);var r=!1;oe&&(r=oe[u.XM],oe[u._w]()),(oe=(0,a.AHH)(ve,t)).unref(),oe[u.XM]=r})))),oe[u.XM]=!0),oe}function ue(){var e={};Q=[];var t=function(t){t&&(0,a.Iuo)(t,(function(t){if(t[u.Ju]&&t[u.s]&&!e[t.identifier]){var r=t[u.Ju]+"="+t[u.s];Q[u.y5](r),e[t.identifier]=t}}))};t(q),G&&(0,a.Iuo)(G,(function(e){t(e)})),t(B)}function de(){r=!1,(t=(0,l.e)({},k,e[u.Uw])).cfg[u.Bl]=1,(0,a.vF1)(e,"config",{g:function(){return t.cfg},s:function(t){e.updateCfg(t,!1)}}),(0,a.vF1)(e,"pluginVersionStringArr",{g:function(){return Q||ue(),Q}}),(0,a.vF1)(e,"pluginVersionString",{g:function(){return ee||(Q||ue(),ee=Q.join(";")),ee||y.m5}}),(0,a.vF1)(e,"logger",{g:function(){return n||(n=new m.wq(t.cfg),t[u.Uw]=n),n},s:function(e){t[u.Uw]=e,n!==e&&((0,d.K)(n,!1),n=e)}}),e[u.Uw]=new m.wq(t.cfg),Z=[];var i=e.config[y.jy]||[];i.splice(0,i[u.oI]),(0,a.Yny)(i,Z),z=new _,A=[],(0,d.K)(x,!1),x=null,N=null,j=null,(0,d.K)(F,!1),F=null,L=null,B=[],G=null,q=null,U=!1,W=null,H=(0,f.Z)("AIBaseCore",!0),$=(0,w.P)(),J=null,X=null,K=(0,R.w)(),Y=[],ee=null,Q=null,ae=!1,oe=null,se=!1,te=0,re=null,ne=null,ie=!1}function he(){var r=(0,T.i8)(ge(),t.cfg,e);return r[u.by](ce),r}function pe(t){var r=function(e,t,r){var n,i=[],o=[],s={};return(0,a.Iuo)(r,(function(r){((0,a.hXl)(r)||(0,a.hXl)(r[u.mE]))&&(0,a.$8)(E);var n=r[y.Vo],l=r[u.Ju];r&&n&&((0,a.hXl)(s[n])?s[n]=l:(0,m.OG)(e,"Two extensions have same priority #"+n+" - "+s[n]+", "+l)),!n||n<t?i[u.y5](r):o[u.y5](r)})),(n={})[y.eT]=i,n[y.LZ]=o,n}(e[u.Uw],h.i,B);L=null,ee=null,Q=null,q=(G||[])[0]||[],q=(0,b.Xc)((0,a.Yny)(q,r[y.LZ]));var n=(0,a.Yny)((0,b.Xc)(r[y.eT]),q);Z=(0,a.N6t)(n);var i=e.config[y.jy]||[];i.splice(0,i[u.oI]),(0,a.Yny)(i,Z);var o=he();q&&q[u.oI]>0&&(0,b.pI)(o[u.$o](q),n),(0,b.pI)(o,n),t&&Ce(t)}function fe(e){var t=null,r=null,n=[];return(0,a.Iuo)(Z,(function(t){if(t[u.Ju]===e&&t!==z)return r=t,-1;t.getChannel&&n[u.y5](t)})),!r&&n[u.oI]>0&&(0,a.Iuo)(n,(function(t){if(!(r=t.getChannel(e)))return-1})),r&&(t={plugin:r,setEnabled:function(e){(0,b.Cr)(r)[y.Hr]=!e},isEnabled:function(){var e=(0,b.Cr)(r);return!e[u.Ik]&&!e[y.Hr]},remove:function(e,t){var n;void 0===e&&(e=!0);var i=[r],o=((n={reason:1})[u.tI]=e,n);me(i,o,(function(e){e&&pe({reason:32,removed:i}),t&&t(e)}))}}),t}function ge(){if(!L){var r=(Z||[]).slice();-1===(0,a.rDm)(r,z)&&r[u.y5](z),L=(0,T.PV)((0,b.Xc)(r),t.cfg,e)}return L}function me(r,n,i){if(r&&r[u.oI]>0){var o=(0,T.PV)(r,t.cfg,e),s=(0,T.tS)(o,e);s[u.by]((function(){var e=!1,t=[];(0,a.Iuo)(B,(function(n,i){O(n,r)?e=!0:t[u.y5](n)})),B=t,ee=null,Q=null;var n=[];G&&((0,a.Iuo)(G,(function(t,i){var o=[];(0,a.Iuo)(t,(function(t){O(t,r)?e=!0:o[u.y5](t)})),n[u.y5](o)})),G=n),i&&i(e),ce()})),s[u.$5](n)}else i(!1)}function ve(){if(n&&n.queue){var t=n.queue.slice(0);n.queue[u.oI]=0,(0,a.Iuo)(t,(function(t){var r,n=((r={})[u.RS]=W||"InternalMessageId: "+t[u.JR],r[u.FI]=X,r[u.fA]=(0,v._u)(new Date),r.baseType=m.WD.dataType,r.baseData={message:t[u.pM]},r);e.track(n)}))}}function ye(e,t,r,n){var i=1,o=!1,s=null;function l(){i--,o&&0===i&&(s&&s[u._w](),s=null,t&&t(o),t=null)}return n=n||5e3,q&&q[u.oI]>0&&he()[u.$o](q).iterate((function(t){if(t.flush){i++;var o=!1;t.flush(e,(function(){o=!0,l()}),r)||o||(e&&null==s?s=(0,a.dRz)((function(){s=null,l()}),n):l())}})),o=!0,l(),!0}function Ce(t){var r=(0,T.nU)(ge(),e);r[u.by](ce),e._updateHook&&!0===e._updateHook(r,t)||r[u.$5](t)}function Se(t){var r=e[u.Uw];r?((0,m.ZP)(r,2,73,t),ce()):(0,a.$8)(t)}function Te(t){var r=e[u.RF]();r&&r[y.Yp]([t],2)}function be(e){K.add(e)}de(),e._getDbgPlgTargets=function(){return[Z,A]},e[u.tZ]=function(){return r},e.activeStatus=function(){return te},e._setPendingStatus=function(){te=3},e[u.mE]=function(d,h,p,f){var C;U&&(0,a.$8)(P),e[u.tZ]()&&(0,a.$8)("Core cannot be initialized more than once"),t=(0,l.e)(d,k,p||e[u.Uw],!1),d=t.cfg,be(t[u.x6]((function(e){var t=e.cfg;if(3!==te){ne=t.initInMemoMaxSize||100;var i=t[u.sl],l=t.endpointUrl;if((0,a.hXl)(i)){X=null,te=c.f[u.Yq];var h="Please provide instrumentation key";r?((0,m.ZP)(n,1,100,h),le()):(0,a.$8)(h)}else{var p=[];if((0,a.$XS)(i)?(p[u.y5](i),X=null):X=i,(0,a.$XS)(l)?(p[u.y5](l),re=null):re=l,p[u.oI]){ie=!1,te=3;var f=(0,v.Gh)(t.initTimeOut)?t.initTimeOut:5e4,g=(0,s.Ov)(p);(0,a.dRz)((function(){ie||o()}),f),(0,s.Dv)(g,(function(e){try{if(ie)return;if(!e.rejected){var t=e[u.pF];if(t&&t[u.oI]){var r=t[0];if(X=r&&r[u.pF],t[u.oI]>1){var n=t[1];re=n&&n[u.pF]}}X&&(d[u.sl]=X,d.endpointUrl=re)}o()}catch(e){ie||o()}}))}else o();var C=e.ref(e.cfg,y.Bw);(0,a.zav)(C,(function(t){e.ref(C,t)}))}}}))),V=function(e,t,r,n){return t.add(e[u.x6]((function(e){var t=e.cfg.disableDbgExt;!0===t&&n&&(r[u.h3](n),n=null),r&&!n&&!0!==t&&(n=(0,g.M)(e.cfg),r[u.vR](n))}))),n}(t,K,(x=f)&&e[u.RF](),V),be(t[u.x6]((function(t){if(t.cfg.enablePerfMgr){var r=t.cfg[y.Yd];C!==r&&(r||(r=D),(0,v.c2)(t.cfg,y.Yd,r),C=r,j=null),N||j||!(0,a.Tnt)(r)||(j=r(e,e[u.RF]()))}else j=null,C=null}))),e[u.Uw]=p;var S=d[y.jy];if((B=[])[u.y5].apply(B,(0,i.vz)((0,i.vz)([],h,!1),S,!1)),G=d[y.LZ],pe(null),q&&0!==q[u.oI]||(0,a.$8)("No "+y.LZ+" available"),G&&G[u.oI]>1){var T=e[u.AP]("TeeChannelController");T&&T.plugin||(0,m.ZP)(n,1,28,"TeeChannel required")}!function(e,t,r){(0,a.Iuo)(t,(function(t){var n=(0,l.a)(e,t.w,r);delete t.w,t.rm=function(){n.rm()}}))}(d,Y,n),Y=null,r=!0,te===c.f.ACTIVE&&le()},e.getChannels=function(){var e=[];return q&&(0,a.Iuo)(q,(function(t){e[u.y5](t)})),(0,a.N6t)(e)},e.track=function(t){(0,S.r2)(e[y.kI](),(function(){return"AppInsightsCore:track"}),(function(){null===t&&(Te(t),(0,a.$8)("Invalid telemetry item")),!t[u.RS]&&(0,a.hXl)(t[u.RS])&&(Te(t),(0,a.$8)("telemetry name required")),t[u.FI]=t[u.FI]||X,t[u.fA]=t[u.fA]||(0,v._u)(new Date),t.ver=t.ver||"4.0",!U&&e[u.tZ]()&&te===c.f.ACTIVE?he()[u.$5](t):te!==c.f[u.Yq]&&A[u.oI]<=ne&&A[u.y5](t)}),(function(){return{item:t}}),!t.sync)},e[u.DI]=he,e[u.RF]=function(){return x||(x=new C.h(t.cfg),e._notificationManager=x),x},e[u.vR]=function(t){e.getNotifyMgr()[u.vR](t)},e[u.h3]=function(e){x&&x[u.h3](e)},e.getCookieMgr=function(){return F||(F=(0,p.xN)(t.cfg,e[u.Uw])),F},e.setCookieMgr=function(e){F!==e&&((0,d.K)(F,!1),F=e)},e[y.kI]=function(){return N||j||(0,S.Z4)()},e.setPerfMgr=function(e){N=e},e.eventCnt=function(){return A[u.oI]},e.releaseQueue=function(){if(r&&A[u.oI]>0){var e=A;A=[],2===te?(0,a.Iuo)(e,(function(e){e[u.FI]=e[u.FI]||X,he()[u.$5](e)})):(0,m.ZP)(n,2,20,"core init status is not active")}},e[u.h4]=function(e){return W=e||null,ae=!1,oe&&oe[u._w](),ce(!0)},e[u.Di]=function(){ae=!0,oe&&oe[u._w](),ve()},(0,v.o$)(e,(function(){return z}),["addTelemetryInitializer"]),e[u.M5]=function(t,i,o){var l;void 0===t&&(t=!0),r||(0,a.$8)("SDK is not initialized"),U&&(0,a.$8)(P);var c,h=((l={reason:50})[u.tI]=t,l.flushComplete=!1,l);t&&!i&&(c=(0,s.Qo)((function(e){i=e})));var p=(0,T.tS)(ge(),e);function f(t){h.flushComplete=t,U=!0,$.run(p,h),e[u.Di](),p[u.$5](h)}return p[u.by]((function(){K.run(e[u.Uw]),(0,d.k)([F,x,n],t,(function(){de(),i&&i(h)}))}),e),ve(),ye(t,f,6,o)||f(!1),c},e[u.AP]=fe,e.addPlugin=function(e,t,r,n){if(!e)return n&&n(!1),void Se(E);var i=fe(e[u.Ju]);if(i&&!t)return n&&n(!1),void Se("Plugin ["+e[u.Ju]+"] is already loaded!");var o={reason:16};function s(t){B[u.y5](e),o.added=[e],pe(o),n&&n(!0)}if(i){var a=[i.plugin];me(a,{reason:2,isAsync:!!r},(function(e){e?(o.removed=a,o.reason|=32,s()):n&&n(!1)}))}else s()},e.updateCfg=function(r,n){var i;if(void 0===n&&(n=!0),e[u.tZ]()){i={reason:1,cfg:t.cfg,oldCfg:(0,a.zwS)({},t.cfg),newConfig:(0,a.zwS)({},r),merge:n},r=i.newConfig;var o=t.cfg;r[y.jy]=o[y.jy],r[y.LZ]=o[y.LZ]}t._block((function(e){var t=e.cfg;I(e,t,r,n),n||(0,a.zav)(t,(function(n){(0,a.KhI)(r,n)||e.set(t,n,y.HP)})),e[u.h0](t,k)}),!0),t[u.zs](),i&&Ce(i)},e.evtNamespace=function(){return H},e.flush=ye,e.getTraceCtx=function(e){return J||(J=(0,b.u7)()),J},e.setTraceCtx=function(e){J=e||null},e.addUnloadHook=be,(0,v.RF)(e,"addUnloadCb",(function(){return $}),"add"),e.onCfgChange=function(n){var i,o,s,c;return r?i=(0,l.a)(t.cfg,n,e[u.Uw]):((c=M(o=Y,s=n).l)||(c={w:s,rm:function(){var e=M(o,s);-1!==e.i&&o[u.Ic](e.i,1)}},o[u.y5](c)),i=c),function(e){return(0,a.vF1)({rm:function(){e.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"}})}(i)},e.getWParam=function(){return(0,a.Wtk)()||t.cfg.enableWParam?0:-1}}))}return e.__ieDyn=1,e}()},4013:(e,t,r)=>{"use strict";r.d(t,{K:()=>s,k:()=>a});var n=r(8205),i=r(269),o=r(6182);function s(e,t){if(e&&e[o.M5])return e[o.M5](t)}function a(e,t,r){var o;return r||(o=(0,n.Qo)((function(e){r=e}))),e&&(0,i.R3R)(e)>0?(0,n.Dv)(s(e[0],t),(function(){a((0,i.KVm)(e,1),t,r)})):r(),o}},8257:(e,t,r)=>{"use strict";r.d(t,{s:()=>m});var n,i=r(8279),o=r(269),s=r(9749),a=r(6182),l=r(3775),c=r(3673),u=r(6492),d=r(2317),h=r(836),p=r(8969),f="getPlugin",g=((n={})[u.Bw]={isVal:c.Gh,v:{}},n),m=function(){function e(){var t,r,n,m,v,y=this;function C(e){void 0===e&&(e=null);var t=e;if(!t){var i=r||(0,d.i8)(null,{},y[u.eT]);t=n&&n[f]?i[a.$o](null,n[f]):i[a.$o](null,n)}return t}function S(e,t,i){(0,s.e)(e,g,(0,l.y0)(t)),!i&&t&&(i=t[a.DI]()[a.uR]());var o=n;n&&n[f]&&(o=n[f]()),y[u.eT]=t,r=(0,d.i8)(i,e,t,o)}function T(){t=!1,y[u.eT]=null,r=null,n=null,v=(0,p.w)(),m=(0,h.P)()}T(),(0,i.A)(e,y,(function(e){e[a.mE]=function(e,r,n,i){S(e,r,i),t=!0},e[a.Ik]=function(t,r){var i,o=e[u.eT];if(o&&(!t||o===t[u.eT]())){var s,l=!1,c=t||(0,d.tS)(null,o,n&&n[f]?n[f]():n),h=r||((i={reason:0})[a.tI]=!1,i);return e[a.tn]&&!0===e[a.tn](c,h,p)?s=!0:p(),s}function p(){l||(l=!0,m.run(c,r),v.run(c[a.e4]()),!0===s&&c[a.$5](h),T())}},e[a.HC]=function(t,r){var i=e[u.eT];if(i&&(!t||i===t[u.eT]())){var o,s=!1,l=t||(0,d.nU)(null,i,n&&n[f]?n[f]():n),c=r||{reason:0};return e._doUpdate&&!0===e._doUpdate(l,c,h)?o=!0:h(),o}function h(){s||(s=!0,S(l.getCfg(),l.core(),l[a.uR]()))}},(0,c.RF)(e,"_addUnloadCb",(function(){return m}),"add"),(0,c.RF)(e,"_addHook",(function(){return v}),"add"),(0,o.vF1)(e,"_unloadHooks",{g:function(){return v}})})),y[a.e4]=function(e){return C(e)[a.e4]()},y[a.tZ]=function(){return t},y.setInitialized=function(e){t=e},y[a.YH]=function(e){n=e},y[a.$5]=function(e,t){t?t[a.$5](e):n&&(0,o.Tnt)(n[u.qT])&&n[u.qT](e,null)},y._getTelCtx=C}return e.__ieDyn=1,e}()},7847:(e,t,r)=>{"use strict";r.d(t,{i:()=>n,x:()=>i});var n=500,i="Microsoft_ApplicationInsights_BypassAjaxInstrumentation"},5034:(e,t,r)=>{"use strict";r.d(t,{It:()=>B,gi:()=>A,um:()=>I,xN:()=>M});var n,i,o,s=r(269),a=r(2475),l=r(9749),c=r(6182),u=r(3775),d=r(7292),h=r(3673),p=r(6492),f="toGMTString",g="toUTCString",m="cookie",v="expires",y="isCookieUseDisabled",C="disableCookiesUsage",S="_ckMgr",T=null,b=null,_=null,w={},R={},E=((n={cookieCfg:(0,a.NU)((i={},i[p.Fk]={fb:"cookieDomain",dfVal:h.Gh},i.path={fb:"cookiePath",dfVal:h.Gh},i.enabled=p.HP,i.ignoreCookies=p.HP,i.blockedCookies=p.HP,i)),cookieDomain:p.HP,cookiePath:p.HP})[C]=p.HP,n);function P(){!o&&(o=(0,s.nRs)((function(){return(0,s.YEm)()})))}function k(e){return!e||e.isEnabled()}function D(e,t){return!!(t&&e&&(0,s.cyL)(e.ignoreCookies))&&-1!==(0,s.rDm)(e.ignoreCookies,t)}function O(e,t){var r=t[c.XM];if((0,s.hXl)(r)){var n=void 0;(0,s.b07)(e[y])||(n=!e[y]),(0,s.b07)(e[C])||(n=!e[C]),r=n}return r}function I(e,t){var r;if(e)r=e.getCookieMgr();else if(t){var n=t.cookieCfg;r=n&&n[S]?n[S]:M(t)}return r||(r=function(e,t){var r=M[S]||R[S];return r||(r=M[S]=M(e,t),R[S]=r),r}(t,(e||{})[c.Uw])),r}function M(e,t){var r,n,i,o,a,u,m,y,C;e=(0,l.e)(e||R,null,t).cfg,a=(0,l.a)(e,(function(t){t[c.h0](t.cfg,E),n=t.ref(t.cfg,"cookieCfg"),i=n[p.QW]||"/",o=n[p.Fk],u=!1!==O(e,n),m=n.getCookie||F,y=n.setCookie||L,C=n.delCookie||L}),t);var T=((r={isEnabled:function(){var r=!1!==O(e,n)&&u&&A(t),i=R[S];return r&&i&&T!==i&&(r=k(i)),r},setEnabled:function(e){u=!1!==e,n[c.XM]=e},set:function(e,t,r,a,l){var u=!1;if(k(T)&&!function(e,t){return!!(t&&e&&(0,s.cyL)(e.blockedCookies)&&-1!==(0,s.rDm)(e.blockedCookies,t))||D(e,t)}(n,e)){var m={},C=(0,s.EHq)(t||p.m5),S=(0,s.HzD)(C,";");if(-1!==S&&(C=(0,s.EHq)((0,s.ZWZ)(t,S)),m=x((0,s.P0f)(t,S+1))),(0,h.KY)(m,p.Fk,a||o,s.zzB,s.b07),!(0,s.hXl)(r)){var _=(0,d.lT)();if((0,s.b07)(m[v])){var w=(0,s.f0d)()+1e3*r;if(w>0){var R=new Date;R.setTime(w),(0,h.KY)(m,v,N(R,_?f:g)||N(R,_?f:g)||p.m5,s.zzB)}}_||(0,h.KY)(m,"max-age",p.m5+r,null,s.b07)}var E=(0,d.g$)();E&&"https:"===E[c.Qg]&&((0,h.KY)(m,"secure",null,null,s.b07),null===b&&(b=!B(((0,s.w3n)()||{})[c.tX])),b&&(0,h.KY)(m,"SameSite","None",null,s.b07)),(0,h.KY)(m,p.QW,l||i,null,s.b07),y(e,j(C,m)),u=!0}return u},get:function(e){var t=p.m5;return k(T)&&!D(n,e)&&(t=m(e)),t},del:function(e,t){var r=!1;return k(T)&&(r=T.purge(e,t)),r},purge:function(e,r){var n,i=!1;if(A(t)){var o=((n={})[p.QW]=r||"/",n[v]="Thu, 01 Jan 1970 00:00:01 GMT",n);(0,d.lT)()||(o["max-age"]="0"),C(e,j(p.m5,o)),i=!0}return i}})[c.M5]=function(e){a&&a.rm(),a=null},r);return T[S]=T,T}function A(e){if(null===T){T=!1,!o&&P();try{var t=o.v||{};T=void 0!==t[m]}catch(t){(0,u.ZP)(e,2,68,"Cannot access document.cookie - "+(0,h.lL)(t),{exception:(0,s.mmD)(t)})}}return T}function x(e){var t={};if(e&&e[c.oI]){var r=(0,s.EHq)(e)[c.sY](";");(0,s.Iuo)(r,(function(e){if(e=(0,s.EHq)(e||p.m5)){var r=(0,s.HzD)(e,"=");-1===r?t[e]=null:t[(0,s.EHq)((0,s.ZWZ)(e,r))]=(0,s.EHq)((0,s.P0f)(e,r+1))}}))}return t}function N(e,t){return(0,s.Tnt)(e[t])?e[t]():null}function j(e,t){var r=e||p.m5;return(0,s.zav)(t,(function(e,t){r+="; "+e+((0,s.hXl)(t)?p.m5:"="+t)})),r}function F(e){var t=p.m5;if(!o&&P(),o.v){var r=o.v[m]||p.m5;_!==r&&(w=x(r),_=r),t=(0,s.EHq)(w[e]||p.m5)}return t}function L(e,t){!o&&P(),o.v&&(o.v[m]=e+"="+t)}function B(e){return!(!(0,s.KgX)(e)||!(0,h.Ju)(e,"CPU iPhone OS 12")&&!(0,h.Ju)(e,"iPad; CPU OS 12")&&!((0,h.Ju)(e,"Macintosh; Intel Mac OS X 10_14")&&(0,h.Ju)(e,"Version/")&&(0,h.Ju)(e,"Safari"))&&(!(0,h.Ju)(e,"Macintosh; Intel Mac OS X 10_14")||!(0,s.Cv9)(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!(0,h.Ju)(e,"Chrome/5")&&!(0,h.Ju)(e,"Chrome/6")&&(!(0,h.Ju)(e,"UnrealEngine")||(0,h.Ju)(e,"Chrome"))&&!(0,h.Ju)(e,"UCBrowser/12")&&!(0,h.Ju)(e,"UCBrowser/11"))}},9882:(e,t,r)=>{"use strict";r.d(t,{aq:()=>s,cL:()=>a});var n=r(269),i=r(6492),o=r(6535);function s(){var e=a();return(0,n.P0f)(e,0,8)+"-"+(0,n.P0f)(e,8,12)+"-"+(0,n.P0f)(e,12,16)+"-"+(0,n.P0f)(e,16,20)+"-"+(0,n.P0f)(e,20)}function a(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=i.m5,s=0;s<4;s++)r+=t[15&(e=(0,o.VN)())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var a=t[8+(3&(0,o.VN)())|0];return(0,n.hKY)(r,0,8)+(0,n.hKY)(r,9,4)+"4"+(0,n.hKY)(r,13,3)+a+(0,n.hKY)(r,16,3)+(0,n.hKY)(r,19,12)}},4276:(e,t,r)=>{"use strict";r.d(t,{T:()=>p,Z:()=>h});var n=r(269),i=r(6182),o=r(3673),s=r(6492),a=r(6535),l="3.3.0",c="."+(0,a.Si)(6),u=0;function d(e){return 1===e[i.re]||9===e[i.re]||!+e[i.re]}function h(e,t){return void 0===t&&(t=!1),(0,o.cH)(e+u+++(t?"."+l:s.m5)+c)}function p(e){var t={id:h("_aiData-"+(e||s.m5)+"."+l),accept:function(e){return d(e)},get:function(e,r,i,s){var a=e[t.id];return a?a[(0,o.cH)(r)]:(s&&(a=function(e,t){var r=t[e.id];if(!r){r={};try{d(t)&&(0,n.vF1)(t,e.id,{e:!1,v:r})}catch(e){}}return r}(t,e),a[(0,o.cH)(r)]=i),i)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}},7867:(e,t,r)=>{"use strict";r.d(t,{$:()=>u,M:()=>d});var n,i=r(269),o=r(6182),s=r(6492),a=[s.fc,s.Yp,s.dI,s.l0],l=null;function c(e,t){return function(){var r=arguments,n=u(t);if(n){var i=n.listener;i&&i[e]&&i[e][o.y9](i,r)}}}function u(e){var t,r=l;return r||!0===e.disableDbgExt||(r=l||((t=(0,i.zS2)("Microsoft"))&&(l=t.ApplicationInsights),l)),r?r.ChromeDbgExt:null}function d(e){if(!n){n={};for(var t=0;t<a[o.oI];t++)n[a[t]]=c(a[t],e)}return n}},3775:(e,t,r)=>{"use strict";r.d(t,{OG:()=>T,Oc:()=>b,WD:()=>m,ZP:()=>S,wq:()=>y,y0:()=>v});var n,i=r(8279),o=r(269),s=r(9749),a=r(6182),l=r(7867),c=r(7292),u=r(6492),d="warnToConsole",h={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},p=((n={})[0]=null,n[1]="errorToConsole",n[2]=d,n[3]="debugToConsole",n);function f(e){return e?'"'+e[a.W7](/\"/g,u.m5)+'"':u.m5}function g(e,t){var r=(0,c.U5)();if(r){var n="log";r[e]&&(n=e),(0,o.Tnt)(r[n])&&r[n](t)}}var m=function(){function e(e,t,r,n){void 0===r&&(r=!1);var i=this;i[a.JR]=e,i[a.pM]=(r?"AI: ":"AI (Internal): ")+e;var o=u.m5;(0,c.Z)()&&(o=(0,c.hm)().stringify(n));var s=(t?" message:"+f(t):u.m5)+(n?" props:"+f(o):u.m5);i[a.pM]+=s}return e.dataType="MessageData",e}();function v(e,t){return(e||{})[a.Uw]||new y(t)}var y=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r,n,c,u,f,v=0,y={};(0,i.A)(e,this,(function(e){function i(t,r){if(!(v>=c)){var i=!0,o="AITR_"+r[a.JR];if(y[o]?i=!1:y[o]=!0,i&&(t<=n&&(e.queue[a.y5](r),v++,C(1===t?"error":"warn",r)),v===c)){var s="Internal events throttle limit per PageView reached for this app.",l=new m(23,s,!1);e.queue[a.y5](l),1===t?e.errorToConsole(s):e[a.on](s)}}}function C(e,r){var n=(0,l.$)(t||{});n&&n[a.e4]&&n[a.e4](e,r)}f=function(t){return(0,s.a)((0,s.e)(t,h,e).cfg,(function(e){var t=e.cfg;r=t[a.Bl],n=t.loggingLevelTelemetry,c=t.maxMessageLimit,u=t.enableDebug}))}(t||{}),e.consoleLoggingLevel=function(){return r},e[a.ih]=function(t,n,s,l,c){void 0===c&&(c=!1);var h=new m(n,s,c,l);if(u)throw(0,o.mmD)(h);var f=p[t]||d;if((0,o.b07)(h[a.pM]))C("throw"+(1===t?"Critical":"Warning"),h);else{if(c){var g=+h[a.JR];!y[g]&&r>=t&&(e[f](h[a.pM]),y[g]=!0)}else r>=t&&e[f](h[a.pM]);i(t,h)}},e.debugToConsole=function(e){g("debug",e),C("warning",e)},e[a.on]=function(e){g("warn",e),C("warning",e)},e.errorToConsole=function(e){g("error",e),C("error",e)},e.resetInternalMessageCount=function(){v=0,y={}},e[a.sx]=i,e[a.M5]=function(e){f&&f.rm(),f=null}}))}return e.__ieDyn=1,e}();function C(e){return e||new y}function S(e,t,r,n,i,o){void 0===o&&(o=!1),C(e)[a.ih](t,r,n,i,o)}function T(e,t){C(e)[a.on](t)}function b(e,t,r){C(e)[a.sx](t,r)}},7292:(e,t,r)=>{"use strict";r.d(t,{$Z:()=>B,Iu:()=>G,L0:()=>A,MY:()=>D,PV:()=>j,R7:()=>N,U5:()=>E,Uf:()=>x,Z:()=>P,cU:()=>w,g$:()=>R,hm:()=>k,iN:()=>O,lT:()=>M,lV:()=>I,xk:()=>F});var n=r(5664),i=r(269),o=r(6182),s=r(3673),a=r(6492),l="documentMode",c="location",u="console",d="JSON",h="crypto",p="msCrypto",f="ReactNative",g="msie",m="trident/",v="XMLHttpRequest",y=null,C=null,S=!1,T=null,b=null;function _(e,t){var r=!1;if(e){try{if(!(r=t in e)){var o=e[n.vR];o&&(r=t in o)}}catch(e){}if(!r)try{var s=new e;r=!(0,i.b07)(s[t])}catch(e){}}return r}function w(e){S=e}function R(e){if(e&&S){var t=(0,i.zS2)("__mockLocation");if(t)return t}return typeof location===n._1&&location?location:(0,i.zS2)(c)}function E(){return typeof console!==n.bA?console:(0,i.zS2)(u)}function P(){return Boolean(typeof JSON===n._1&&JSON||null!==(0,i.zS2)(d))}function k(){return P()?JSON||(0,i.zS2)(d):null}function D(){return(0,i.zS2)(h)}function O(){return(0,i.zS2)(p)}function I(){var e=(0,i.w3n)();return!(!e||!e.product)&&e.product===f}function M(){var e=(0,i.w3n)();if(e&&(e[o.tX]!==C||null===y)){var t=((C=e[o.tX])||a.m5)[o.OL]();y=(0,s.Ju)(t,g)||(0,s.Ju)(t,m)}return y}function A(e){if(void 0===e&&(e=null),!e){var t=(0,i.w3n)()||{};e=t?(t.userAgent||a.m5)[o.OL]():a.m5}var r=(e||a.m5)[o.OL]();if((0,s.Ju)(r,g)){var n=(0,i.YEm)()||{};return Math.max(parseInt(r[o.sY](g)[1]),n[l]||0)}if((0,s.Ju)(r,m)){var c=parseInt(r[o.sY](m)[1]);if(c)return c+4}return null}function x(e){return null!==b&&!1!==e||(b=(0,i.w9M)()&&Boolean((0,i.w3n)().sendBeacon)),b}function N(e){var t=!1;try{t=!!(0,i.zS2)("fetch");var r=(0,i.zS2)("Request");t&&e&&r&&(t=_(r,"keepalive"))}catch(e){}return t}function j(){return null===T&&(T=typeof XDomainRequest!==n.bA)&&F()&&(T=T&&!_((0,i.zS2)(v),"withCredentials")),T}function F(){var e=!1;try{e=!!(0,i.zS2)(v)}catch(e){}return e}function L(e,t){if(e)for(var r=0;r<e[o.oI];r++){var n=e[r];if(n[o.RS]&&n[o.RS]===t)return n}return{}}function B(e){var t=(0,i.YEm)();return t&&e?L(t.querySelectorAll("meta"),e).content:null}function G(e){var t,r=(0,i.FJj)();if(r){var n=r.getEntriesByType("navigation")||[];t=L((n[o.oI]>0?n[0]:{}).serverTiming,e).description}return t}},6149:(e,t,r)=>{"use strict";r.d(t,{Ds:()=>U,El:()=>P,Fc:()=>z,Hm:()=>I,ML:()=>A,Q3:()=>x,So:()=>j,Wg:()=>G,Ym:()=>N,ee:()=>q,lQ:()=>B,mB:()=>M,oS:()=>H,sq:()=>W,vF:()=>$,zh:()=>F});var n=r(269),i=r(6182),o=r(4276),s=r(6492),a="on",l="attachEvent",c="addEventListener",u="detachEvent",d="removeEventListener",h="events",p="visibilitychange",f="pagehide",g="pageshow",m="unload",v="beforeunload",y=(0,o.Z)("aiEvtPageHide"),C=(0,o.Z)("aiEvtPageShow"),S=/\.[\.]+/g,T=/[\.]+$/,b=1,_=(0,o.T)("events"),w=/^([^.]*)(?:\.(.+)|)/;function R(e){return e&&e[i.W7]?e[i.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,s.m5):e}function E(e,t){var r;if(t){var o=s.m5;(0,n.cyL)(t)?(o=s.m5,(0,n.Iuo)(t,(function(e){(e=R(e))&&("."!==e[0]&&(e="."+e),o+=e)}))):o=R(t),o&&("."!==o[0]&&(o="."+o),e=(e||s.m5)+o)}var a=w.exec(e||s.m5)||[];return(r={})[i.QM]=a[1],r.ns=(a[2]||s.m5).replace(S,".").replace(T,s.m5)[i.sY](".").sort().join("."),r}function P(e,t,r){var o=[],a=_.get(e,h,{},!1),l=E(t,r);return(0,n.zav)(a,(function(e,t){(0,n.Iuo)(t,(function(e){var t;l[i.QM]&&l[i.QM]!==e.evtName[i.QM]||l.ns&&l.ns!=l.ns||o[i.y5](((t={})[i.RS]=e.evtName[i.QM]+(e.evtName.ns?"."+e.evtName.ns:s.m5),t.handler=e[i.Yo],t))}))})),o}function k(e,t,r){void 0===r&&(r=!0);var n=_.get(e,h,{},r),i=n[t];return i||(i=n[t]=[]),i}function D(e,t,r,n){e&&t&&t[i.QM]&&(e[d]?e[d](t[i.QM],r,n):e[u]&&e[u](a+t[i.QM],r))}function O(e,t,r,n){for(var o=t[i.oI];o--;){var s=t[o];s&&(r.ns&&r.ns!==s.evtName.ns||n&&!n(s)||(D(e,s.evtName,s[i.Yo],s.capture),t[i.Ic](o,1)))}}function I(e,t){return t?E("xx",(0,n.cyL)(t)?[e].concat(t):[e,t]).ns[i.sY]("."):e}function M(e,t,r,n,o){var s;void 0===o&&(o=!1);var u=!1;if(e)try{var d=E(t,n);if(u=function(e,t,r,n){var o=!1;return e&&t&&t[i.QM]&&r&&(e[c]?(e[c](t[i.QM],r,n),o=!0):e[l]&&(e[l](a+t[i.QM],r),o=!0)),o}(e,d,r,o),u&&_.accept(e)){var h=((s={guid:b++,evtName:d})[i.Yo]=r,s.capture=o,s);k(e,d.type)[i.y5](h)}}catch(e){}return u}function A(e,t,r,o,s){if(void 0===s&&(s=!1),e)try{var a=E(t,o),l=!1;!function(e,t,r){if(t[i.QM])O(e,k(e,t[i.QM]),t,r);else{var o=_.get(e,h,{});(0,n.zav)(o,(function(n,i){O(e,i,t,r)})),0===(0,n.cGk)(o)[i.oI]&&_.kill(e,h)}}(e,a,(function(e){return!((!a.ns||r)&&e[i.Yo]!==r||(l=!0,0))})),l||D(e,a,r,s)}catch(e){}}function x(e,t,r,n){return void 0===n&&(n=!1),M(e,t,r,null,n)}function N(e,t,r,n){void 0===n&&(n=!1),A(e,t,r,null,n)}function j(e,t,r){var i=!1,o=(0,n.zkX)();o&&(i=M(o,e,t,r),i=M(o.body,e,t,r)||i);var s=(0,n.YEm)();return s&&(i=M(s,e,t,r)||i),i}function F(e,t,r){var i=(0,n.zkX)();i&&(A(i,e,t,r),A(i.body,e,t,r));var o=(0,n.YEm)();o&&A(o,e,t,r)}function L(e,t,r,o){var s=!1;return t&&e&&e[i.oI]>0&&(0,n.Iuo)(e,(function(e){e&&(r&&-1!==(0,n.rDm)(r,e)||(s=j(e,t,o)||s))})),s}function B(e,t,r,o){var s=!1;return t&&e&&(0,n.cyL)(e)&&!(s=L(e,t,r,o))&&r&&r[i.oI]>0&&(s=L(e,t,null,o)),s}function G(e,t,r){e&&(0,n.cyL)(e)&&(0,n.Iuo)(e,(function(e){e&&F(e,t,r)}))}function q(e,t,r){return B([v,m,f],e,t,r)}function U(e,t){G([v,m,f],e,t)}function z(e,t,r){var i=I(y,r),o=L([f],e,t,i);return t&&-1!==(0,n.rDm)(t,p)||(o=L([p],(function(t){var r=(0,n.YEm)();e&&r&&"hidden"===r.visibilityState&&e(t)}),t,i)||o),!o&&t&&(o=z(e,null,r)),o}function W(e,t){var r=I(y,t);G([f],e,r),G([p],null,r)}function H(e,t,r){var i=I(C,r),o=L([g],e,t,i);return!(o=L([p],(function(t){var r=(0,n.YEm)();e&&r&&"visible"===r.visibilityState&&e(t)}),t,i)||o)&&t&&(o=H(e,null,r)),o}function $(e,t){var r=I(C,t);G([g],e,r),G([p],null,r)}},3673:(e,t,r)=>{"use strict";r.d(t,{CP:()=>_,Gh:()=>u,H$:()=>I,HU:()=>R,IL:()=>M,Ju:()=>h,KY:()=>g,LU:()=>A,Lo:()=>w,RF:()=>C,SZ:()=>T,_u:()=>p,c2:()=>m,cH:()=>d,hW:()=>b,jL:()=>P,lL:()=>f,o$:()=>S,qz:()=>y,r4:()=>E,w3:()=>F});var n=r(269),i=r(5664),o=r(6182),s=r(6492),a=/-([a-z])/g,l=/([^\w\d_$])/g,c=/^(\d+[\w\d_$])/;function u(e){return!(0,n.hXl)(e)}function d(e){var t=e;return t&&(0,n.KgX)(t)&&(t=(t=(t=t[o.W7](a,(function(e,t){return t.toUpperCase()})))[o.W7](l,"_"))[o.W7](c,(function(e,t){return"_"+t}))),t}function h(e,t){return!(!e||!t)&&-1!==(0,n.HzD)(e,t)}function p(e){return e&&e.toISOString()||""}function f(e){return(0,n.bJ7)(e)?e[o.RS]:s.m5}function g(e,t,r,n,i){var o=r;return e&&((o=e[t])===r||i&&!i(o)||n&&!n(r)||(o=r,e[t]=o)),o}function m(e,t,r){var i;return e?!(i=e[t])&&(0,n.hXl)(i)&&(i=(0,n.b07)(r)?{}:r,e[t]=i):i=(0,n.b07)(r)?{}:r,i}function v(e,t){var r=null,i=null;return(0,n.Tnt)(e)?r=e:i=e,function(){var e=arguments;if(r&&(i=r()),i)return i[t][o.y9](i,e)}}function y(e,t,r){if(e&&t&&(0,n.Gvm)(e)&&(0,n.Gvm)(t)){var i=function(i){if((0,n.KgX)(i)){var o=t[i];(0,n.Tnt)(o)?r&&!r(i,!0,t,e)||(e[i]=v(t,i)):r&&!r(i,!1,t,e)||((0,n.KhI)(e,i)&&delete e[i],(0,n.vF1)(e,i,{g:function(){return t[i]},s:function(e){t[i]=e}}))}};for(var o in t)i(o)}return e}function C(e,t,r,i,o){e&&t&&r&&(!1!==o||(0,n.b07)(e[t]))&&(e[t]=v(r,i))}function S(e,t,r,i){return e&&t&&(0,n.Gvm)(e)&&(0,n.cyL)(r)&&(0,n.Iuo)(r,(function(r){(0,n.KgX)(r)&&C(e,r,t,r,i)})),e}function T(e){return function(){var t=this;e&&(0,n.zav)(e,(function(e,r){t[e]=r}))}}function b(e){return e&&n.vE3&&(e=(0,i.s6)((0,n.vE3)({},e))),e}function _(e,t,r,i,s,a){var l=arguments,c=l[0]||{},u=l[o.oI],d=!1,h=1;for(u>0&&(0,n.Lmq)(c)&&(d=c,c=l[h]||{},h++),(0,n.Gvm)(c)||(c={});h<u;h++){var p=l[h],f=(0,n.cyL)(p),g=(0,n.Gvm)(p);for(var m in p)if(f&&m in p||g&&(0,n.KhI)(p,m)){var v=p[m],y=void 0;if(d&&v&&((y=(0,n.cyL)(v))||(0,n.QdQ)(v))){var C=c[m];y?(0,n.cyL)(C)||(C=[]):(0,n.QdQ)(C)||(C={}),v=_(d,C,v)}void 0!==v&&(c[m]=v)}}return c}function w(e){try{return e.responseText}catch(e){}return null}function R(e,t){return e?"XDomainRequest,Response:"+w(e)||0:t}function E(e,t){return e?"XMLHttpRequest,Status:"+e[o.cV]+",Response:"+w(e)||0:t}function P(e,t){return t&&((0,n.EtT)(t)?e=[t].concat(e):(0,n.cyL)(t)&&(e=t.concat(e))),e}Object.getPrototypeOf;var k="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",D="withCredentials",O="timeout";function I(e,t,r,n,i,o){function s(e,t,r){try{e[t]=r}catch(e){}}void 0===n&&(n=!1),void 0===i&&(i=!1);var a=new XMLHttpRequest;return n&&s(a,k,n),r&&s(a,D,r),a.open(e,t,!i),r&&s(a,D,r),!i&&o&&s(a,O,o),a}function M(e){var t={};if((0,n.KgX)(e)){var r=(0,n.EHq)(e)[o.sY](/[\r\n]+/);(0,n.Iuo)(r,(function(e){if(e){var r=e.indexOf(": ");if(-1!==r){var i=(0,n.EHq)(e.substring(0,r))[o.OL](),s=(0,n.EHq)(e.substring(r+1));t[i]=s}else t[(0,n.EHq)(e)]=1}}))}return t}function A(e,t,r){if(!e[r]&&t&&t[o.Az]){var i=t[o.Az](r);i&&(e[r]=(0,n.EHq)(i))}return e}var x="kill-duration",N="kill-duration-seconds",j="time-delta-millis";function F(e,t){var r={};return e[o.wJ]?r=M(e[o.wJ]()):t&&(r=A(r,e,j),r=A(r,e,x),r=A(r,e,N)),r}},6492:(e,t,r)=>{"use strict";r.d(t,{Bw:()=>c,Ev:()=>C,Fk:()=>T,HP:()=>n,Hr:()=>l,LZ:()=>o,QW:()=>b,Vj:()=>y,Vo:()=>h,Yd:()=>a,Yp:()=>f,dI:()=>g,eT:()=>s,fc:()=>p,jy:()=>u,kI:()=>S,l0:()=>m,m5:()=>i,qT:()=>d,s4:()=>v,xW:()=>_});var n=void 0,i="",o="channels",s="core",a="createPerfMgr",l="disabled",c="extensionConfig",u="extensions",d="processTelemetry",h="priority",p="eventsSent",f="eventsDiscarded",g="eventsSendRequest",m="perfEvent",v="offlineEventsStored",y="offlineBatchSent",C="offlineBatchDrop",S="getPerfMgr",T="domain",b="path",_="Not dynamic - "},1356:(e,t,r)=>{"use strict";r.d(t,{h:()=>h});var n=r(8279),i=r(8205),o=r(269),s=r(9749),a=r(6182),l=r(6492),c={perfEvtsSendAll:!1};function u(e){e.h=null;var t=e.cb;e.cb=[],(0,o.Iuo)(t,(function(e){(0,o.gBW)(e.fn,[e.arg])}))}function d(e,t,r,n){(0,o.Iuo)(e,(function(e){e&&e[t]&&(r?(r.cb[a.y5]({fn:n,arg:e}),r.h=r.h||(0,o.dRz)(u,0,r)):(0,o.gBW)(n,[e]))}))}var h=function(){function e(t){var r,u;this.listeners=[];var h=[],p={h:null,cb:[]},f=(0,s.e)(t,c);u=f[a.x6]((function(e){r=!!e.cfg.perfEvtsSendAll})),(0,n.A)(e,this,(function(e){(0,o.vF1)(e,"listeners",{g:function(){return h}}),e[a.vR]=function(e){h[a.y5](e)},e[a.h3]=function(e){for(var t=(0,o.rDm)(h,e);t>-1;)h[a.Ic](t,1),t=(0,o.rDm)(h,e)},e[l.fc]=function(e){d(h,l.fc,p,(function(t){t[l.fc](e)}))},e[l.Yp]=function(e,t){d(h,l.Yp,p,(function(r){r[l.Yp](e,t)}))},e[l.dI]=function(e,t){d(h,l.dI,t?p:null,(function(r){r[l.dI](e,t)}))},e[l.l0]=function(e){e&&(!r&&e[a.Zu]()||d(h,l.l0,null,(function(t){e[a.tI]?(0,o.dRz)((function(){return t[l.l0](e)}),0):t[l.l0](e)})))},e[l.s4]=function(e){e&&e[a.oI]&&d(h,l.s4,p,(function(t){t[l.s4](e)}))},e[l.Vj]=function(e){e&&e[a.Cd]&&d(h,l.Vj,p,(function(t){t[l.Vj](e)}))},e[l.Ev]=function(e,t){if(e>0){var r=t||0;d(h,l.Ev,p,(function(t){t[l.Ev](e,r)}))}},e[a.M5]=function(e){var t,r=function(){u&&u.rm(),u=null,h=[],p.h&&p.h[a._w](),p.h=null,p.cb=[]};if(d(h,"unload",null,(function(r){var n=r[a.M5](e);n&&(t||(t=[]),t[a.y5](n))})),t)return(0,i.Qo)((function(e){return(0,i.Dv)((0,i.Xf)(t),(function(){r(),e()}))}));r()}}))}return e.__ieDyn=1,e}()},5775:(e,t,r)=>{"use strict";r.d(t,{NS:()=>h,Q6:()=>d,Z4:()=>g,r2:()=>f});var n=r(8279),i=r(269),o=r(6182),s=r(6492),a="ctx",l="ParentContextKey",c="ChildrenContextKey",u=null,d=function(){function e(t,r,n){var s,u=this;u.start=(0,i.f0d)(),u[o.RS]=t,u[o.tI]=n,u[o.Zu]=function(){return!1},(0,i.Tnt)(r)&&(0,i.vF1)(u,"payload",{g:function(){return!s&&(0,i.Tnt)(r)&&(s=r(),r=null),s}}),u[o.O_]=function(t){return t?t===e[l]||t===e[c]?u[t]:(u[a]||{})[t]:null},u[o.e_]=function(t,r){t&&(t===e[l]?(u[t]||(u[o.Zu]=function(){return!0}),u[t]=r):t===e[c]?u[t]=r:(u[a]=u[a]||{})[t]=r)},u[o.Ru]=function(){var t=0,r=u[o.O_](e[c]);if((0,i.cyL)(r))for(var n=0;n<r[o.oI];n++){var s=r[n];s&&(t+=s[o.fA])}u[o.fA]=(0,i.f0d)()-u.start,u.exTime=u[o.fA]-t,u[o.Ru]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),h=function(){function e(t){this.ctx={},(0,n.A)(e,this,(function(e){e.create=function(e,t,r){return new d(e,t,r)},e.fire=function(e){e&&(e[o.Ru](),t&&(0,i.Tnt)(t[s.l0])&&t[s.l0](e))},e[o.e_]=function(t,r){t&&((e[a]=e[a]||{})[t]=r)},e[o.O_]=function(t){return(e[a]||{})[t]}}))}return e.__ieDyn=1,e}(),p="CoreUtils.doPerf";function f(e,t,r,n,i){if(e){var a=e;if(a[s.kI]&&(a=a[s.kI]()),a){var u=void 0,h=a[o.O_](p);try{if(u=a.create(t(),n,i)){if(h&&u[o.e_]&&(u[o.e_](d[l],h),h[o.O_]&&h[o.e_])){var f=h[o.O_](d[c]);f||(f=[],h[o.e_](d[c],f)),f[o.y5](u)}return a[o.e_](p,u),r(u)}}catch(e){u&&u[o.e_]&&u[o.e_]("exception",e)}finally{u&&a.fire(u),a[o.e_](p,h)}}}return r()}function g(){return u}},2317:(e,t,r)=>{"use strict";r.d(t,{PV:()=>S,W0:()=>T,i8:()=>v,nU:()=>C,tS:()=>y});var n=r(269),i=r(991),o=r(9749),s=r(6182),a=r(3775),l=r(3673),c=r(6492),u=r(5775),d=r(380),h="TelemetryPluginChain",p="_hasRun",f="_getTelCtx",g=0;function m(e,t,r,l){var u=null,d=[];t||(t=(0,o.e)({},null,r[s.Uw])),null!==l&&(u=l?function(e,t,r){for(;e;){if(e[s.AP]()===r)return e;e=e[s.uR]()}return S([r],t.config||{},t)}(e,r,l):e);var h={_next:function(){var e=u;if(u=e?e[s.uR]():null,!e){var t=d;t&&t[s.oI]>0&&((0,n.Iuo)(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){(0,a.ZP)(r[s.Uw],2,73,"Unexpected Exception during onComplete - "+(0,n.mmD)(e))}})),d=[])}return e},ctx:{core:function(){return r},diagLog:function(){return(0,a.y0)(r,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,r){var o=p(e,!0);return r&&(0,n.zav)(r,(function(e,r){if((0,n.hXl)(o[e])){var s=t.cfg[e];!s&&(0,n.hXl)(s)||(o[e]=s)}(0,i.q)(t,o,e,r)})),t[s.h0](o,r)},getConfig:function(e,r,i){void 0===i&&(i=!1);var o,s=p(e,!1),a=t.cfg;return!s||!s[r]&&(0,n.hXl)(s[r])?!a[r]&&(0,n.hXl)(a[r])||(o=a[r]):o=s[r],o||!(0,n.hXl)(o)?o:i},hasNext:function(){return!!u},getNext:function(){return u},setNext:function(e){u=e},iterate:function(e){for(var t;t=h._next();){var r=t[s.AP]();r&&e(r)}},onComplete:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];e&&d[s.y5]({func:e,self:(0,n.b07)(t)?h.ctx:t,args:r})}}};function p(e,r){var n=null,i=t.cfg;if(i&&e){var o=i[c.Bw];!o&&r&&(o={}),i[c.Bw]=o,(o=t.ref(i,c.Bw))&&(!(n=o[e])&&r&&(n={}),o[e]=n,n=t.ref(o,e))}return n}return h}function v(e,t,r,i){var a=(0,o.e)(t),l=m(e,a,r,i),u=l.ctx;return u[s.$5]=function(e){var t=l._next();return t&&t[c.qT](e,u),!t},u[s.$o]=function(e,t){return void 0===e&&(e=null),(0,n.cyL)(e)&&(e=S(e,a.cfg,r,t)),v(e||u[s.uR](),a.cfg,r,t)},u}function y(e,t,r){var i=(0,o.e)(t.config),a=m(e,i,t,r),l=a.ctx;return l[s.$5]=function(e){var t=a._next();return t&&t[s.M5](l,e),!t},l[s.$o]=function(e,r){return void 0===e&&(e=null),(0,n.cyL)(e)&&(e=S(e,i.cfg,t,r)),y(e||l[s.uR](),t,r)},l}function C(e,t,r){var i=(0,o.e)(t.config),a=m(e,i,t,r).ctx;return a[s.$5]=function(e){return a.iterate((function(t){(0,n.Tnt)(t[s.HC])&&t[s.HC](a,e)}))},a[s.$o]=function(e,r){return void 0===e&&(e=null),(0,n.cyL)(e)&&(e=S(e,i.cfg,t,r)),C(e||a[s.uR](),t,r)},a}function S(e,t,r,i){var o=null,l=!i;if((0,n.cyL)(e)&&e[s.oI]>0){var m=null;(0,n.Iuo)(e,(function(e){if(l||i!==e||(l=!0),l&&e&&(0,n.Tnt)(e[c.qT])){var y=function(e,t,r){var i,o=null,l=(0,n.Tnt)(e[c.qT]),m=(0,n.Tnt)(e[s.YH]),y={getPlugin:function(){return e},getNext:function(){return o},processTelemetry:function(i,a){C(a=a||function(){var i;return e&&(0,n.Tnt)(e[f])&&(i=e[f]()),i||(i=v(y,t,r)),i}(),(function(t){if(!e||!l)return!1;var r=(0,d.Cr)(e);return!r[s.Ik]&&!r[c.Hr]&&(m&&e[s.YH](o),e[c.qT](i,t),!0)}),"processTelemetry",(function(){return{item:i}}),!i.sync)||a[s.$5](i)},unload:function(t,r){C(t,(function(){var n=!1;if(e){var i=(0,d.Cr)(e),o=e[c.eT]||i[c.eT];!e||o&&o!==t.core()||i[s.Ik]||(i[c.eT]=null,i[s.Ik]=!0,i[s.tZ]=!1,e[s.Ik]&&!0===e[s.Ik](t,r)&&(n=!0))}return n}),"unload",(function(){}),r[s.tI])||t[s.$5](r)},update:function(t,r){C(t,(function(){var n=!1;if(e){var i=(0,d.Cr)(e),o=e[c.eT]||i[c.eT];!e||o&&o!==t.core()||i[s.Ik]||e[s.HC]&&!0===e[s.HC](t,r)&&(n=!0)}return n}),"update",(function(){}),!1)||t[s.$5](r)},_id:i=e?e[s.Ju]+"-"+e[c.Vo]+"-"+g++:"Unknown-0-"+g++,_setNext:function(e){o=e}};function C(t,r,l,d,f){var g=!1,m=e?e[s.Ju]:h,v=t[p];return v||(v=t[p]={}),t.setNext(o),e&&(0,u.r2)(t[c.eT](),(function(){return m+":"+l}),(function(){v[i]=!0;try{var e=o?o._id:c.m5;e&&(v[e]=!1),g=r(t)}catch(e){var u=!o||v[o._id];u&&(g=!0),o&&u||(0,a.ZP)(t[s.e4](),1,73,"Plugin ["+m+"] failed during "+l+" - "+(0,n.mmD)(e)+", run flags: "+(0,n.mmD)(v))}}),d,f),g}return(0,n.N6t)(y)}(e,t,r);o||(o=y),m&&m._setNext(y),m=y}}))}return i&&!o?S([i],t,r):o}var T=function(e,t,r,i){var o=v(e,t,r,i);(0,l.o$)(this,o,(0,n.cGk)(o))}},6535:(e,t,r)=>{"use strict";r.d(t,{Si:()=>v,VN:()=>m,Z1:()=>g});var n=r(269),i=r(6182),o=r(7292),s=r(6492),a=4294967296,l=4294967295,c=123456789,u=987654321,d=!1,h=c,p=u;function f(){try{var e=2147483647&(0,n.f0d)();(t=(Math.random()*a^e)+e)<0&&(t>>>=0),h=c+t&l,p=u-t&l,d=!0}catch(e){}var t}function g(e){return e>0?Math.floor(m()/l*(e+1))>>>0:0}function m(e){var t=0,r=(0,o.MY)()||(0,o.iN)();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&l),0===t&&(0,o.lT)()&&(d||f(),t=function(){var e=((p=36969*(65535&p)+(p>>16)&l)<<16)+(65535&(h=18e3*(65535&h)+(h>>16)&l))>>>0&l;return e>>>=0}()&l),0===t&&(t=Math.floor(a*Math.random()|0)),e||(t>>>=0),t}function v(e){void 0===e&&(e=22);for(var t=m()>>>0,r=0,n=s.m5;n[i.oI]<e;)r++,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===r&&(t=(m()<<2&4294967295|3&t)>>>0,r=0);return n}},1190:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(269),i=r(6182),o=r(3775),s=r(7292);function a(e,t){try{if(e&&""!==e){var r=(0,s.hm)().parse(e);if(r&&r[i.cp]&&r[i.cp]>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors[i.oI])return r}}catch(r){(0,o.ZP)(t,1,43,"Cannot parse the response. "+(r[i.RS]||(0,n.mmD)(r)),{response:e})}return null}},856:(e,t,r)=>{"use strict";r.d(t,{v:()=>f});var n=r(8279),i=r(8205),o=r(269),s=r(6182),a=r(7847),l=r(3775),c=r(7292),u=r(3673),d="",h="&NoResponseBody=true",p="POST",f=function(){function e(){var t,r,f,g,m,v,y,C,S,T,b,_,w,R=0;(0,n.A)(e,this,(function(e,n){var E=!0;function P(e,t){(0,l.ZP)(f,2,26,"Failed to send telemetry.",{message:e}),D(t,400,{})}function k(e){P("No endpoint url is provided for the batch",e)}function D(e,t,r,n){try{e&&e(t,r,n)}catch(e){}}function O(e,t){var r=(0,o.w3n)(),n=e[s.Vq];if(!n)return k(t),!0;n=e[s.Vq]+(_?h:d);var i=e[s.Cd],a=g?i:new Blob([i],{type:"text/plain;charset=UTF-8"});return r.sendBeacon(n,a)}function I(e,t,r){var n=e[s.Cd];try{if(n)if(O(e,t))D(t,200,{},d);else{var i=m&&m.beaconOnRetry;i&&(0,o.Tnt)(i)?i(e,t,O):(y&&y[s.L](e,t,!0),(0,l.ZP)(f,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(e){g&&(0,l.OG)(f,"Failed to send telemetry using sendBeacon API. Ex:"+(0,o.mmD)(e)),D(t,g?0:400,{},d)}}function M(e,r,n){var a,l,c,h=e[s.c1]||{};!n&&t&&(a=(0,i.Qo)((function(e,t){l=e,c=t}))),g&&n&&e.disableXhrSync&&(n=!1);var f=e[s.Vq];if(!f)return k(r),void(l&&l(!1));var v=(0,u.H$)(p,f,E,!0,n,e[s.do]);function y(t){var n=m&&m.xhrOnComplete;if(n&&(0,o.Tnt)(n))n(t,r,e);else{var i=(0,u.Lo)(t);D(r,t[s.cV],(0,u.w3)(t,g),i)}}return g||v[s.yy]("Content-type","application/json"),(0,o.Iuo)((0,o.cGk)(h),(function(e){v[s.yy](e,h[e])})),v.onreadystatechange=function(){g||(y(v),4===v.readyState&&l&&l(!0))},v.onload=function(){g&&y(v)},v.onerror=function(e){D(r,g?v[s.cV]:400,(0,u.w3)(v,g),g?d:(0,u.r4)(v)),c&&c(e)},v.ontimeout=function(){D(r,g?v[s.cV]:500,(0,u.w3)(v,g),g?d:(0,u.r4)(v)),l&&l(!1)},v.send(e[s.Cd]),a}function A(e,r,n){var l,c,u,f,v=e[s.Vq],y=e[s.Cd],C=g?y:new Blob([y],{type:"application/json"}),S=new Headers,T=y[s.oI],b=!1,P=!1,O=e[s.c1]||{},I=((l={method:p,body:C})[a.x]=!0,l);e.headers&&(0,o.cGk)(e.headers)[s.oI]>0&&((0,o.Iuo)((0,o.cGk)(O),(function(e){S.append(e,O[e])})),I[s.c1]=S),E&&g&&(I.credentials="include"),n&&(I.keepalive=!0,R+=T,g?2===e._sendReason&&(b=!0,_&&(v+=h)):b=!0);var M=new Request(v,I);try{M[a.x]=!0}catch(e){}if(!n&&t&&(c=(0,i.Qo)((function(e,t){u=e,f=t}))),!v)return k(r),void(u&&u(!1));function A(e){D(r,g?0:400,{},g?d:e)}function x(e,t,n){var i=e[s.cV],a=m.fetchOnComplete;a&&(0,o.Tnt)(a)?a(e,r,n||d,t):D(r,i,{},n||d)}try{(0,i.Dv)(fetch(g?v:M,g?I:null),(function(t){if(n&&(R-=T,T=0),!P)if(P=!0,t.rejected)A(t.reason&&t.reason[s.pM]),f&&f(t.reason);else{var r=t[s.pF];try{g||r.ok?g&&!r.body?(x(r,null,d),u&&u(!0)):(0,i.Dv)(r.text(),(function(t){x(r,e,t[s.pF]),u&&u(!0)})):(A(r.statusText),u&&u(!1))}catch(e){A((0,o.mmD)(e)),f&&f(e)}}}))}catch(e){P||(A((0,o.mmD)(e)),f&&f(e))}return b&&!P&&(P=!0,D(r,200,{}),u&&u(!0)),g&&!P&&e[s.do]>0&&w&&w.set((function(){P||(P=!0,D(r,500,{}),u&&u(!0))}),e[s.do]),c}function x(e,t,r){var n=(0,o.zkX)(),i=new XDomainRequest,a=e[s.Cd];i.onload=function(){var r=(0,u.Lo)(i),n=m&&m.xdrOnComplete;n&&(0,o.Tnt)(n)?n(i,t,e):D(t,200,{},r)},i.onerror=function(){D(t,400,{},g?d:(0,u.HU)(i))},i.ontimeout=function(){D(t,500,{})},i.onprogress=function(){};var c=n&&n.location&&n.location[s.Qg]||"",h=e[s.Vq];if(h){if(!g&&0!==h.lastIndexOf(c,0)){var v="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";return(0,l.ZP)(f,2,40,". "+v),void P(v,t)}var y=g?h:h[s.W7](/^(https?:)/,"");i.open(p,y),e[s.do]&&(i[s.do]=e[s.do]),i.send(a),g&&r?w&&w.set((function(){i.send(a)}),0):i.send(a)}else k(t)}function N(){R=0,r=!1,t=!1,f=null,g=null,m=null,v=null,y=null,C=!1,S=!1,T=!1,b=!1,_=!1,w=null}N(),e[s.mE]=function(t,n){f=n,r&&(0,l.ZP)(f,1,28,"Sender is already initialized"),e.SetConfig(t),r=!0},e._getDbgPlgTargets=function(){return[r,g,v,t]},e.SetConfig=function(e){try{if(m=e.senderOnCompleteCallBack||{},v=!!e.disableCredentials,g=!!e.isOneDs,t=!!e.enableSendPromise,C=!!e.disableXhr,S=!!e.disableBeacon,T=!!e.disableBeaconSync,w=e.timeWrapper,_=!!e.addNoResponse,b=!!e.disableFetchKeepAlive,y={sendPOST:M},g||(E=!1),v){var r=(0,c.g$)();r&&r.protocol&&"file:"===r.protocol[s.OL]()&&(E=!1)}return!0}catch(e){}return!1},e.getSyncFetchPayload=function(){return R},e.getSenderInst=function(e,t){return e&&e[s.oI]?function(e,t){for(var r,n=0,i=null,o=0;null==i&&o<e[s.oI];)n=e[o],C||1!==n?2!==n||!(0,c.R7)(t)||t&&b?3!==n||!(0,c.Uf)()||(t?T:S)||(i=I):i=A:(0,c.PV)()?i=x:(0,c.xk)()&&(i=M),o++;return i?((r={_transport:n,_isSync:t})[s.L]=i,r):null}(e,t):null},e.getFallbackInst=function(){return y},e[s.tn]=function(e,t){N()}}))}return e.__ieDyn=1,e}()},380:(e,t,r)=>{"use strict";r.d(t,{Cr:()=>c,Xc:()=>d,pI:()=>u,u7:()=>h});var n=r(269),i=r(6182),o=r(4276),s=r(6492),a=r(1864),l=(0,o.T)("plugin");function c(e){return l.get(e,"state",{},!0)}function u(e,t){for(var r,o=[],a=null,l=e[i.uR]();l;){var u=l[i.AP]();if(u){a&&a[i.YH]&&u[s.qT]&&a[i.YH](u);var d=!!(r=c(u))[i.tZ];u[i.tZ]&&(d=u[i.tZ]()),d||o[i.y5](u),a=u,l=l[i.uR]()}}(0,n.Iuo)(o,(function(n){var o=e[s.eT]();n[i.mE](e.getCfg(),o,t,e[i.uR]()),r=c(n),n[s.eT]||r[s.eT]||(r[s.eT]=o),r[i.tZ]=!0,delete r[i.Ik]}))}function d(e){return e.sort((function(e,t){var r=0;if(t){var n=t[s.qT];e[s.qT]?r=n?e[s.Vo]-t[s.Vo]:1:n&&(r=-1)}else r=e?1:-1;return r}))}function h(e){var t={};return{getName:function(){return t[i.RS]},setName:function(r){e&&e.setName(r),t[i.RS]=r},getTraceId:function(){return t[i.P5]},setTraceId:function(r){e&&e.setTraceId(r),(0,a.hX)(r)&&(t[i.P5]=r)},getSpanId:function(){return t[i.wi]},setSpanId:function(r){e&&e.setSpanId(r),(0,a.wN)(r)&&(t[i.wi]=r)},getTraceFlags:function(){return t[i.Rr]},setTraceFlags:function(r){e&&e.setTraceFlags(r),t[i.Rr]=r}}}},836:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(269),i=r(6182),o=r(3775);function s(){var e=[];return{add:function(t){t&&e[i.y5](t)},run:function(t,r){(0,n.Iuo)(e,(function(e){try{e(t,r)}catch(e){(0,o.ZP)(t[i.e4](),2,73,"Unexpected error calling unload handler - "+(0,n.mmD)(e))}})),e=[]}}}},8969:(e,t,r)=>{"use strict";r.d(t,{d:()=>l,w:()=>c});var n,i,o=r(269),s=r(6182),a=r(3775);function l(e,t){n=e,i=t}function c(){var e=[];return{run:function(t){var r=e;e=[],(0,o.Iuo)(r,(function(e){try{(e.rm||e.remove).call(e)}catch(e){(0,a.ZP)(t,2,73,"Unloading:"+(0,o.mmD)(e))}})),n&&r[s.oI]>n&&(i?i("doUnload",r):(0,a.ZP)(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))},add:function(t){t&&((0,o.Yny)(e,t),n&&e[s.oI]>n&&(i?i("Add",e):(0,a.ZP)(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}}}},1864:(e,t,r)=>{"use strict";r.d(t,{L0:()=>_,N7:()=>b,ZI:()=>y,ef:()=>w,hX:()=>C,mJ:()=>T,wN:()=>S,wk:()=>v});var n=r(269),i=r(6182),o=r(9882),s=r(7292),a=r(6492),l=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,c="00",u="ff",d="00000000000000000000000000000000",h="0000000000000000",p=1;function f(e,t,r){return!(!e||e[i.oI]!==t||e===r||!e.match(/^[\da-f]*$/i))}function g(e,t,r){return f(e,t)?e:r}function m(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[i.oI]<2;)t="0"+t;return t}function v(e,t,r,s){var a;return(a={})[i.s]=f(s,2,u)?s:c,a[i.P5]=C(e)?e:(0,o.cL)(),a[i.wi]=S(t)?t:(0,n.ZWZ)((0,o.cL)(),16),a.traceFlags=r>=0&&r<=255?r:1,a}function y(e,t){var r;if(!e)return null;if((0,n.cyL)(e)&&(e=e[0]||""),!e||!(0,n.KgX)(e)||e[i.oI]>8192)return null;if(-1!==e.indexOf(",")){var o=e[i.sY](",");e=o[t>0&&o[i.oI]>t?t:0]}var s=l.exec((0,n.EHq)(e));return s&&s[1]!==u&&s[2]!==d&&s[3]!==h?((r={version:(s[1]||a.m5)[i.OL](),traceId:(s[2]||a.m5)[i.OL](),spanId:(s[3]||a.m5)[i.OL]()})[i.Rr]=parseInt(s[4],16),r):null}function C(e){return f(e,32,d)}function S(e){return f(e,16,h)}function T(e){return!!(e&&f(e[i.s],2,u)&&f(e[i.P5],32,d)&&f(e[i.wi],16,h)&&f(m(e[i.Rr]),2))}function b(e){return!!T(e)&&(e[i.Rr]&p)===p}function _(e){if(e){var t=m(e[i.Rr]);f(t,2)||(t="01");var r=e[i.s]||c;return"00"!==r&&"ff"!==r&&(r=c),"".concat(r.toLowerCase(),"-").concat(g(e.traceId,32,d).toLowerCase(),"-").concat(g(e.spanId,16,h).toLowerCase(),"-").concat(t.toLowerCase())}return""}function w(e){var t="traceparent",r=y((0,s.$Z)(t),e);return r||(r=y((0,s.Iu)(t),e)),r}},6182:(e,t,r)=>{"use strict";r.d(t,{$5:()=>I,$o:()=>G,AP:()=>P,Az:()=>oe,Bl:()=>B,Cd:()=>le,DI:()=>M,Di:()=>N,FI:()=>D,HC:()=>K,Ic:()=>g,Ik:()=>q,JQ:()=>i,JR:()=>U,Ju:()=>C,K0:()=>m,L:()=>fe,M5:()=>j,OL:()=>n,O_:()=>ce,P5:()=>ye,QM:()=>re,Qg:()=>X,RF:()=>E,RS:()=>k,Rr:()=>Se,Ru:()=>de,Uw:()=>h,Vq:()=>pe,W7:()=>ee,XM:()=>x,XW:()=>s,YH:()=>J,Yo:()=>ne,Yq:()=>w,Zu:()=>ae,_w:()=>v,by:()=>F,c1:()=>ge,cV:()=>ie,cp:()=>he,do:()=>me,e4:()=>H,e_:()=>ue,fA:()=>O,h0:()=>u,h3:()=>S,h4:()=>A,ih:()=>c,mE:()=>y,oI:()=>o,on:()=>l,pF:()=>R,pM:()=>z,re:()=>Q,s:()=>L,sY:()=>Z,sl:()=>_,sx:()=>te,tI:()=>W,tX:()=>Y,tZ:()=>b,tn:()=>$,uR:()=>V,vR:()=>T,wJ:()=>se,wi:()=>Ce,x6:()=>d,y5:()=>f,y9:()=>p,yy:()=>ve,zs:()=>a});var n="toLowerCase",i="blkVal",o="length",s="rdOnly",a="notify",l="warnToConsole",c="throwInternal",u="setDf",d="watch",h="logger",p="apply",f="push",g="splice",m="hdlr",v="cancel",y="initialize",C="identifier",S="removeNotificationListener",T="addNotificationListener",b="isInitialized",_="instrumentationKey",w="INACTIVE",R="value",E="getNotifyMgr",P="getPlugin",k="name",D="iKey",O="time",I="processNext",M="getProcessTelContext",A="pollInternalLogs",x="enabled",N="stopPollingInternalLogs",j="unload",F="onComplete",L="version",B="loggingLevelConsole",G="createNew",q="teardown",U="messageId",z="message",W="isAsync",H="diagLog",$="_doTeardown",K="update",V="getNext",J="setNextPlugin",X="protocol",Y="userAgent",Z="split",Q="nodeType",ee="replace",te="logInternalMessage",re="type",ne="handler",ie="status",oe="getResponseHeader",se="getAllResponseHeaders",ae="isChildEvt",le="data",ce="getCtx",ue="setCtx",de="complete",he="itemsReceived",pe="urlString",fe="sendPOST",ge="headers",me="timeout",ve="setRequestHeader",ye="traceId",Ce="spanId",Se="traceFlags"},5664:(e,t,r)=>{"use strict";r.d(t,{Wy:()=>l,_1:()=>i,bA:()=>o,hW:()=>n,s6:()=>a,vR:()=>s});var n="function",i="object",o="undefined",s="prototype",a=Object,l=a[s]},659:(e,t,r)=>{"use strict";r.d(t,{Im:()=>s,qU:()=>l,vz:()=>c});var n=r(269),i=r(5664),o=(((0,n.mS$)()||{}).Symbol,((0,n.mS$)()||{}).Reflect,"hasOwnProperty"),s=n.vE3||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])i.Wy[o].call(t,s)&&(e[s]=t[s]);return e},a=function(e,t){return a=i.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t[o](r)&&(e[r]=t[r])},a(e,t)};function l(e,t){function r(){this.constructor=e}typeof t!==i.hW&&null!==t&&(0,n.zkd)("Class extends value "+String(t)+" is not a constructor or null"),a(e,t),e[i.vR]=null===t?(0,n.sSX)(t):(r[i.vR]=t[i.vR],new r)}function c(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}},5927:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AppInsightsCore:()=>gt._,ApplicationInsights:()=>Rt,Sender:()=>pt,SeverityLevel:()=>_t.O,arrForEach:()=>T.Iuo,isNullOrUndefined:()=>T.hXl,proxyFunctions:()=>S.o$,throwError:()=>T.$8});var n=r(8279),i=r(659),o=r(5025),s=r(3072),a=r(2445),l=r(1448),c=r(4164),u=r(5397),d=r(5014),h=r(1365),p=r(740),f=r(5571),g=r(4658),m=r(2318),v=r(2910),y=r(2475),C=r(3775),S=r(3673),T=r(269),b=r(6149),_=r(4276),w=r(9749),R=r(2317),E=r(4875),P=r(7292),k=r(856),D=r(4013),O=r(1190),I=r(8257),M=r(1575),A=r(7975),x=r(1062),N=r(7358),j="duration",F="tags",L="deviceType",B="data",G="name",q="traceID",U="length",z="stringify",W="measurements",H="dataType",$="envelopeType",K="toString",V="_get",J="enqueue",X="count",Y="eventsLimitInMem",Z="push",Q="item",ee="emitLineDelimitedJson",te="clear",re="createNew",ne="markAsSent",ie="clearSent",oe="bufferOverride",se="BUFFER_KEY",ae="SENT_BUFFER_KEY",le="concat",ce="MAX_BUFFER_SIZE",ue="triggerSend",de="diagLog",he="initialize",pe="_sender",fe="customHeaders",ge="maxBatchSizeInBytes",me="onunloadDisableBeacon",ve="isBeaconApiDisabled",ye="alwaysUseXhrOverride",Ce="disableXhr",Se="enableSessionStorageBuffer",Te="_buffer",be="onunloadDisableFetch",_e="disableSendBeaconSplit",we="instrumentationKey",Re="enableSendPromise",Ee="getSenderInst",Pe="unloadTransports",ke="convertUndefined",De="maxBatchInterval",Oe="serialize",Ie="_onError",Me="_onPartialSuccess",Ae="_onSuccess",xe="itemsReceived",Ne="itemsAccepted",je="oriPayload",Fe="baseType",Le="sampleRate",Be="eventsSendRequest",Ge="getSamplingScore",qe="baseType",Ue="baseData",ze="properties",We="true";function He(e,t,r){return(0,S.KY)(e,t,r,T.zzB)}function $e(e,t,r){(0,T.hXl)(e)||(0,T.zav)(e,(function(e,n){(0,T.EtT)(n)?r[e]=n:(0,T.KgX)(n)?t[e]=n:(0,P.Z)()&&(t[e]=(0,P.hm)()[z](n))}))}function Ke(e,t){(0,T.hXl)(e)||(0,T.zav)(e,(function(r,n){e[r]=n||t}))}function Ve(e,t,r,n){var s=new x.L(e,n,t);He(s,"sampleRate",r[o.tU]),(r[Ue]||{}).startTime&&(s.time=(0,S._u)(r[Ue].startTime)),s.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return s[G]=s[G].replace("{0}",a),function(e,t,r){var n=r[F]=r[F]||{},o=t.ext=t.ext||{},s=t[F]=t[F]||[],a=o.user;a&&(He(n,M.O.userAuthUserId,a.authId),He(n,M.O.userId,a.id||a.localId));var l=o.app;l&&He(n,M.O.sessionId,l.sesId);var c=o.device;c&&(He(n,M.O.deviceId,c.id||c.localId),He(n,M.O[L],c.deviceClass),He(n,M.O.deviceIp,c.ip),He(n,M.O.deviceModel,c.model),He(n,M.O[L],c[L]));var u=t.ext.web;if(u){He(n,M.O.deviceLanguage,u.browserLang),He(n,M.O.deviceBrowserVersion,u.browserVer),He(n,M.O.deviceBrowser,u.browser);var d=r[B]=r[B]||{},h=d[Ue]=d[Ue]||{},p=h[ze]=h[ze]||{};He(p,"domain",u.domain),He(p,"isManual",u.isManual?We:null),He(p,"screenRes",u.screenRes),He(p,"userConsent",u.userConsent?We:null)}var f=o.os;f&&(He(n,M.O.deviceOS,f[G]),He(n,M.O.deviceOSVersion,f.osVer));var g=o.trace;g&&(He(n,M.O.operationParentId,g.parentID),He(n,M.O.operationName,(0,A.Rr)(e,g[G])),He(n,M.O.operationId,g[q]));for(var m={},v=s[U]-1;v>=0;v--){var y=s[v];(0,T.zav)(y,(function(e,t){m[e]=t})),s.splice(v,1)}(0,T.zav)(s,(function(e,t){m[e]=t}));var C=(0,i.Im)((0,i.Im)({},n),m);C[M.O.internalSdkVersion]||(C[M.O.internalSdkVersion]=(0,A.Rr)(e,"javascript:".concat(Xe.Version),64)),r[F]=(0,S.hW)(C)}(e,r,s),r[F]=r[F]||[],(0,S.hW)(s)}function Je(e,t){(0,T.hXl)(t[Ue])&&(0,C.ZP)(e,1,46,"telemetryItem.baseData cannot be null.")}var Xe={Version:"3.3.0"};function Ye(e,t,r){Je(e,t);var n={},i={};t[qe]!==s.J[H]&&(n.baseTypeSource=t[qe]),t[qe]===s.J[H]?(n=t[Ue][ze]||{},i=t[Ue][W]||{}):t[Ue]&&$e(t[Ue],n,i),$e(t[B],n,i),(0,T.hXl)(r)||Ke(n,r);var o=t[Ue][G],a=new s.J(e,o,n,i),l=new N.B(s.J[H],a);return Ve(e,s.J[$],t,l)}var Ze,Qe,et=function(){function e(t,r){var i=[],o=!1,s=r.maxRetryCnt;this[V]=function(){return i},this._set=function(e){return i=e},(0,n.A)(e,this,(function(e){e[J]=function(n){e[X]()>=r[Y]?o||((0,C.ZP)(t,2,105,"Maximum in-memory buffer size reached: "+e[X](),!0),o=!0):(n.cnt=n.cnt||0,!(0,T.hXl)(s)&&n.cnt>s||i[Z](n))},e[X]=function(){return i[U]},e.size=function(){for(var e=i[U],t=0;t<i[U];t++)e+=i[t].item[U];return r[ee]||(e+=2),e},e[te]=function(){i=[],o=!1},e.getItems=function(){return i.slice(0)},e.batchPayloads=function(e){if(e&&e[U]>0){var t=[];return(0,T.Iuo)(e,(function(e){t[Z](e[Q])})),r[ee]?t.join("\n"):"["+t.join(",")+"]"}return null},e[re]=function(e,r,n){var o=i.slice(0);e=e||t,r=r||{};var s=n?new nt(e,r):new tt(e,r);return(0,T.Iuo)(o,(function(e){s[J](e)})),s}}))}return e.__ieDyn=1,e}(),tt=function(e){function t(r,i){var o=e.call(this,r,i)||this;return(0,n.A)(t,o,(function(e,t){e[ne]=function(e){t[te]()},e[ie]=function(e){}})),o}return(0,i.qU)(t,e),t.__ieDyn=1,t}(et),rt=["AI_buffer","AI_sentBuffer"],nt=function(e){function t(r,i){var o=e.call(this,r,i)||this,s=!1,a=null==i?void 0:i.namePrefix,l=i[oe]||{getItem:g.vH,setItem:g.Dt},c=l.getItem,u=l.setItem,d=i.maxRetryCnt;return(0,n.A)(t,o,(function(e,n){var i=m(t[se]),o=m(t[ae]),l=function(){var e=[];try{return(0,T.Iuo)(rt,(function(t){var r=b(t);if(e=e[le](r),a){var n=b(a+"_"+t);e=e[le](n)}})),e}catch(e){(0,C.ZP)(r,2,41,"Transfer events from previous buffers: "+(0,S.lL)(e)+". previous Buffer items can not be removed",{exception:(0,T.mmD)(e)})}return[]}(),h=o[le](l),p=e._set(i[le](h));function f(e,t){var r=[],n=[];return(0,T.Iuo)(e,(function(e){n[Z](e[Q])})),(0,T.Iuo)(t,(function(e){(0,T.Tnt)(e)||-1!==(0,T.rDm)(n,e[Q])||r[Z](e)})),r}function m(e){return v(a?a+"_"+e:e)}function v(e){try{var t=c(r,e);if(t){var n=(0,P.hm)().parse(t);if((0,T.KgX)(n)&&(n=(0,P.hm)().parse(n)),n&&(0,T.cyL)(n))return n}}catch(t){(0,C.ZP)(r,1,42," storage key: "+e+", "+(0,S.lL)(t),{exception:(0,T.mmD)(t)})}return[]}function y(e,t){var n=e;try{n=a?a+"_"+n:n;var i=JSON[z](t);u(r,n,i)}catch(e){u(r,n,JSON[z]([])),(0,C.ZP)(r,2,41," storage key: "+n+", "+(0,S.lL)(e)+". Buffer cleared",{exception:(0,T.mmD)(e)})}}function b(e){try{var t=v(e),n=[];return(0,T.Iuo)(t,(function(e){var t={item:e,cnt:0};n[Z](t)})),(0,g.v7)(r,e),n}catch(e){}return[]}p[U]>t[ce]&&(p[U]=t[ce]),y(t[ae],[]),y(t[se],p),e[J]=function(i){e[X]()>=t[ce]?s||((0,C.ZP)(r,2,67,"Maximum buffer size reached: "+e[X](),!0),s=!0):(i.cnt=i.cnt||0,!(0,T.hXl)(d)&&i.cnt>d||(n[J](i),y(t.BUFFER_KEY,e[V]())))},e[te]=function(){n[te](),y(t.BUFFER_KEY,e[V]()),y(t[ae],[]),s=!1},e[ne]=function(n){y(t[se],e._set(f(n,e[V]())));var i=m(t[ae]);i instanceof Array&&n instanceof Array&&((i=i[le](n))[U]>t[ce]&&((0,C.ZP)(r,1,67,"Sent buffer reached its maximum size: "+i[U],!0),i[U]=t[ce]),y(t[ae],i))},e[ie]=function(e){var r=m(t[ae]);r=f(e,r),y(t[ae],r)},e[re]=function(n,i,o){o=!!o;var s=e[V]().slice(0),a=m(t[ae]).slice(0);n=n||r,i=i||{},e[te]();var l=o?new t(n,i):new tt(n,i);return(0,T.Iuo)(s,(function(e){l[J](e)})),o&&l[ne](a),l}})),o}var r;return(0,i.qU)(t,e),r=t,t.VERSION="_1",t.BUFFER_KEY="AI_buffer"+r.VERSION,t.SENT_BUFFER_KEY="AI_sentBuffer"+r.VERSION,t.MAX_BUFFER_SIZE=2e3,t}(et),it=function(){function e(t){(0,n.A)(e,this,(function(e){function r(e,o){var s="__aiCircularRefCheck",a={};if(!e)return(0,C.ZP)(t,1,48,"cannot serialize object because it is null or undefined",{name:o},!0),a;if(e[s])return(0,C.ZP)(t,2,50,"Circular reference detected while serializing object",{name:o},!0),a;if(!e.aiDataContract){if("measurements"===o)a=i(e,"number",o);else if("properties"===o)a=i(e,"string",o);else if("tags"===o)a=i(e,"string",o);else if((0,T.cyL)(e))a=n(e,o);else{(0,C.ZP)(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{(0,P.hm)()[z](e),a=e}catch(e){(0,C.ZP)(t,1,48,e&&(0,T.Tnt)(e[K])?e[K]():"Error serializing object",null,!0)}}return a}return e[s]=!0,(0,T.zav)(e.aiDataContract,(function(i,s){var l=(0,T.Tnt)(s)?1&s():1&s,c=(0,T.Tnt)(s)?4&s():4&s,u=2&s,d=void 0!==e[i],h=(0,T.Gvm)(e[i])&&null!==e[i];if(!l||d||u){if(!c){var p;void 0!==(p=h?u?n(e[i],i):r(e[i],i):e[i])&&(a[i]=p)}}else(0,C.ZP)(t,1,24,"Missing required field specification. The field is required but not present on source",{field:i,name:o})})),delete e[s],a}function n(e,n){var i;if(e)if((0,T.cyL)(e)){i=[];for(var o=0;o<e[U];o++){var s=r(e[o],n+"["+o+"]");i[Z](s)}}else(0,C.ZP)(t,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:n},!0);return i}function i(e,r,n){var i;return e&&(i={},(0,T.zav)(e,(function(e,o){if("string"===r)void 0===o?i[e]="undefined":null===o?i[e]="null":o[K]?i[e]=o[K]():i[e]="invalid field: toString() is not defined.";else if("number"===r)if(void 0===o)i[e]="undefined";else if(null===o)i[e]="null";else{var s=parseFloat(o);i[e]=s}else i[e]="invalid field: "+n+" is of unknown type.",(0,C.ZP)(t,1,i[e],null,!0)}))),i}e[Oe]=function(e){var n=r(e,"root");try{return(0,P.hm)()[z](n)}catch(e){(0,C.ZP)(t,1,48,e&&(0,T.Tnt)(e[K])?e[K]():"Error serializing object",null,!0)}}}))}return e.__ieDyn=1,e}(),ot=r(8596),st=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e[U]<8;)e=e[le](e);for(var t=5381,r=0;r<e[U];++r)t=(t<<5)+t+e.charCodeAt(r),t|=0;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),at=function(){var e=new st,t=new ot.o;this[Ge]=function(r){return r[F]&&r[F][t.userId]?e.getHashCodeScore(r[F][t.userId]):r.ext&&r.ext.user&&r.ext.user.id?e.getHashCodeScore(r.ext.user.id):r[F]&&r[F][t.operationId]?e.getHashCodeScore(r[F][t.operationId]):r.ext&&r.ext.telemetryTrace&&r.ext.telemetryTrace[q]?e.getHashCodeScore(r.ext.telemetryTrace[q]):100*Math.random()}},lt=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;var r=t||(0,C.y0)(null);(e>100||e<0)&&(r.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[Le]=e,this.samplingScoreGenerator=new at}return e.prototype.isSampledIn=function(e){var t=this[Le];return null==t||t>=100||e.baseType===d.J[H]||this.samplingScoreGenerator[Ge](e)<t},e}(),ct=void 0;function ut(e){try{return e.responseText}catch(e){}return null}var dt=(0,T.ZHX)(((Ze={endpointUrl:(0,y.Lx)(T.zzB,o._G+o.wc)})[ee]=(0,y.DD)(),Ze[De]=15e3,Ze[ge]=102400,Ze.disableTelemetry=(0,y.DD)(),Ze[Se]=(0,y.DD)(!0),Ze.isRetryDisabled=(0,y.DD)(),Ze[ve]=(0,y.DD)(!0),Ze[_e]=(0,y.DD)(!0),Ze[Ce]=(0,y.DD)(),Ze[be]=(0,y.DD)(),Ze[me]=(0,y.DD)(),Ze[we]=ct,Ze.namePrefix=ct,Ze.samplingPercentage=(0,y.Lx)((function(e){return!isNaN(e)&&e>0&&e<=100}),100),Ze[fe]=ct,Ze[ke]=ct,Ze[Y]=1e4,Ze[oe]=!1,Ze.httpXHROverride={isVal:function(e){return e&&e.sendPOST},v:ct},Ze[ye]=(0,y.DD)(),Ze.transports=ct,Ze.retryCodes=ct,Ze.maxRetryCnt={isVal:T.EtT,v:10},Ze)),ht=((Qe={})[s.J.dataType]=Ye,Qe[a.C.dataType]=function(e,t,r){Je(e,t);var n=t[Ue].message,i=t[Ue].severityLevel,o=t[Ue][ze]||{},s=t[Ue][W]||{};$e(t[B],o,s),(0,T.hXl)(r)||Ke(o,r);var l=new a.C(e,n,i,o,s),c=new N.B(a.C[H],l);return Ve(e,a.C[$],t,c)},Qe[l.h.dataType]=function(e,t,r){var n;Je(e,t);var i=t[Ue];(0,T.hXl)(i)||(0,T.hXl)(i[ze])||(0,T.hXl)(i[ze][j])?(0,T.hXl)(t[B])||(0,T.hXl)(t[B][j])||(n=t[B][j],delete t[B][j]):(n=i[ze][j],delete i[ze][j]);var o,s=t[Ue];((t.ext||{}).trace||{})[q]&&(o=t.ext.trace[q]);var a=s.id||o,c=s[G],u=s.uri,d=s[ze]||{},h=s[W]||{};if((0,T.hXl)(s.refUri)||(d.refUri=s.refUri),(0,T.hXl)(s.pageType)||(d.pageType=s.pageType),(0,T.hXl)(s.isLoggedIn)||(d.isLoggedIn=s.isLoggedIn[K]()),!(0,T.hXl)(s[ze])){var p=s[ze];(0,T.zav)(p,(function(e,t){d[e]=t}))}$e(t[B],d,h),(0,T.hXl)(r)||Ke(d,r);var f=new l.h(e,c,u,n,d,h,a),g=new N.B(l.h[H],f);return Ve(e,l.h[$],t,g)},Qe[c.H.dataType]=function(e,t,r){Je(e,t);var n=t[Ue],i=n[G],o=n.uri||n.url,s=n[ze]||{},a=n[W]||{};$e(t[B],s,a),(0,T.hXl)(r)||Ke(s,r);var l=new c.H(e,i,o,void 0,s,a,n),u=new N.B(c.H[H],l);return Ve(e,c.H[$],t,u)},Qe[u.WJ.dataType]=function(e,t,r){Je(e,t);var n=t[Ue][W]||{},i=t[Ue][ze]||{};$e(t[B],i,n),(0,T.hXl)(r)||Ke(i,r);var o=t[Ue],s=u.WJ.CreateFromInterface(e,o,i,n),a=new N.B(u.WJ[H],s);return Ve(e,u.WJ[$],t,a)},Qe[d.J.dataType]=function(e,t,r){Je(e,t);var n=t[Ue],i=n[ze]||{},o=n[W]||{};$e(t[B],i,o),(0,T.hXl)(r)||Ke(i,r);var s=new d.J(e,n[G],n.average,n.sampleCount,n.min,n.max,n.stdDev,i,o),a=new N.B(d.J[H],s);return Ve(e,d.J[$],t,a)},Qe[h.A.dataType]=function(e,t,r){Je(e,t);var n=t[Ue][W]||{},i=t[Ue][ze]||{};$e(t[B],i,n),(0,T.hXl)(r)||Ke(i,r);var s=t[Ue];if((0,T.hXl)(s))return(0,C.OG)(e,"Invalid input for dependency data"),null;var a=s[ze]&&s[ze][o.ym]?s[ze][o.ym]:"GET",l=new h.A(e,s.id,s.target,s[G],s[j],s.success,s.responseCode,a,s.type,s.correlationContext,i,n),c=new N.B(h.A[H],l);return Ve(e,h.A[$],t,c)},Qe),pt=function(e){function t(){var r,i,s,a,l,c,u,d=e.call(this)||this;d.priority=1001,d.identifier=p.BreezeChannelIdentifier;var h,y,I,M,A,x,N,j,L,G,q,z,W,H,$,K,V,Y,ee,se,ae,le,ce,Ge,qe,Ue,ze,We=0;return(0,n.A)(t,d,(function(e,n){function p(t,n){var i=ut(t);if(!t||i+""!="200"&&""!==i){var o=(0,O.x)(i);o&&o[xe]&&o[xe]>o[Ne]&&!H?e[Me](n,o):e[Ie](n,(0,S.HU)(t))}else r=0,e[Ae](n,0)}function He(e,t,r){4===e.readyState&&ot(e.status,t,e.responseURL,r,(0,S.r4)(e),ut(e)||e.response)}function $e(e){try{if(e){var t=e[je];return t&&t[U]?t:null}}catch(e){}return null}function Ke(t,r){return!(q||(t?t.baseData&&!t[Fe]?(r&&(0,C.ZP)(r,1,70,"Cannot send telemetry without baseData and baseType"),1):(t[Fe]||(t[Fe]="EventData"),e[pe]?(n=t,e._sample.isSampledIn(n)?(t[o.tU]=e._sample[Le],0):(r&&(0,C.ZP)(r,2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample[Le]}),1)):(r&&(0,C.ZP)(r,1,28,"Sender was not initialized"),1)):(r&&(0,C.ZP)(r,1,7,"Cannot send empty telemetry"),1)));var n}function Ve(e,r){var n=e.iKey||z,i=t.constructEnvelope(e,n,r,W);if(i){var s=!1;if(e[F]&&e[F][o.jp]&&((0,T.Iuo)(e[F][o.jp],(function(e){try{e&&!1===e(i)&&(s=!0,(0,C.OG)(r,"Telemetry processor check returns false"))}catch(e){(0,C.ZP)(r,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,S.lL)(e),{exception:(0,T.mmD)(e)},!0)}})),delete e[F][o.jp]),!s)return i}else(0,C.ZP)(r,1,47,"Unable to create an AppInsights envelope")}function Je(t){var r="",n=e[de]();try{var i=Ke(t,n),o=null;i&&(o=Ve(t,n)),o&&(r=l[Oe](o))}catch(e){}return r}function Xe(e){var t="";return e&&e[U]&&(t="["+e.join(",")+"]"),t}function Ye(e){var t,r=et();return(t={urlString:M})[B]=e,t.headers=r,t}function Ze(t,r,n,i){void 0===i&&(i=!0);var o=Qe(r),s=t&&t.sendPOST;return s&&o?(i&&e._buffer[ne](r),s(o,(function(t,n,i){return function(t,r,n,i){200===r&&t?e._onSuccess(t,t[U]):i&&e[Ie](t,i)}(r,t,0,i)}),!n)):null}function Qe(t){var r;if((0,T.cyL)(t)&&t[U]>0){var n=e[Te].batchPayloads(t),i=et();return(r={})[B]=n,r.urlString=M,r.headers=i,r.disableXhrSync=ae,r.disableFetchKeepAlive=!le,r[je]=t,r}return null}function et(){try{var e=u||{};return(0,m.Qu)(M)&&(e[v.a[6]]=v.a[7]),e}catch(e){}return null}function rt(t){var r=t?t[U]:0;return e[Te].size()+r>x&&(y&&!y.isOnline()||e[ue](!0,null,10),!0)}function ot(t,n,i,o,s,a){var l=null;if(e._appId||(l=(0,O.x)(a))&&l.appId&&(e._appId=l.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!st(i))return void e[Ie](n,s);!H&&vt(t)?(ft(n),(0,C.ZP)(e[de](),2,40,". Response code "+t+". Will retry to send "+n[U]+" items.")):e[Ie](n,s)}else y&&!y.isOnline()?H||(ft(n,10),(0,C.ZP)(e[de](),2,40,". Offline - Response Code: ".concat(t,". Offline status: ").concat(!y.isOnline(),". Will retry to send ").concat(n.length," items."))):(st(i),206===t?(l||(l=(0,O.x)(a)),l&&!H?e[Me](n,l):e[Ie](n,s)):(r=0,e[Ae](n,o)))}function st(e){return!(c>=10||(0,T.hXl)(e)||""===e||e===M||(M=e,++c,0))}function at(e,t){if(!h)return Ze(Ue&&Ue[Ee]([3],!0),e,t);h(e,!1)}function ht(e){try{if(e&&e[U])return(0,T.KgX)(e[0])}catch(e){}return null}function pt(t,r){var n=null;if((0,T.cyL)(t)){for(var i=t[U],o=0;o<t[U];o++)i+=t[o].item[U];return Ue.getSyncFetchPayload()+i<=65e3?n=2:(0,P.Uf)()?n=3:(n=1,(0,C.ZP)(e[de](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender.")),Ze(Ue&&Ue[Ee]([n],!0),t,r)}return null}function ft(t,n){if(void 0===n&&(n=1),t&&0!==t[U]){var o=e[Te];o[ie](t),r++;for(var s=0,a=t;s<a.length;s++){var l=a[s];l.cnt=l.cnt||0,l.cnt++,o[J](l)}!function(e){var t;if(r<=1)t=10;else{var n=(Math.pow(2,r)-1)/2,o=Math.floor(Math.random()*n*10)+1;o*=e,t=Math.max(Math.min(o,3600),10)}var s=(0,T.f0d)()+1e3*t;i=s}(n),gt()}}function gt(){if(!a&&!s){var t=i?Math.max(0,i-(0,T.f0d)()):0,r=Math.max($,t);a=(0,T.dRz)((function(){a=null,e[ue](!0,null,1)}),r)}}function mt(){a&&a.cancel(),a=null,i=null}function vt(e){return(0,T.hXl)(ze)?401===e||408===e||429===e||500===e||502===e||503===e||504===e:ze[U]&&ze.indexOf(e)>-1}function yt(){e[pe]=null,e[Te]=null,e._appId=null,e._sample=null,u={},y=null,r=0,i=null,s=!1,a=null,l=null,c=0,We=0,h=null,I=null,M=null,A=null,x=0,N=!1,G=null,q=!1,z=null,W=ct,H=!1,K=null,Y=ct,ae=!1,le=!1,qe=!1,ce=null,Ge=null,Ue=null,(0,T.vF1)(e,"_senderConfig",{g:function(){return(0,S.CP)({},dt)}})}yt(),e.pause=function(){mt(),s=!0},e.resume=function(){s&&(s=!1,i=null,rt(),gt())},e.flush=function(t,r,n){if(void 0===t&&(t=!0),!s){mt();try{return e[ue](t,null,n||1)}catch(t){(0,C.ZP)(e[de](),1,22,"flush failed, telemetry will not be collected: "+(0,S.lL)(t),{exception:(0,T.mmD)(t)})}}},e.onunloadFlush=function(){if(!s)if(N||se)try{return e[ue](!0,at,2)}catch(t){(0,C.ZP)(e[de](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,S.lL)(t),{exception:(0,T.mmD)(t)})}else e.flush(!1)},e.addHeader=function(e,t){u[e]=t},e[he]=function(t,o,s,a){e.isInitialized()&&(0,C.ZP)(e[de](),1,28,"Sender is already initialized"),n[he](t,o,s,a);var v=e.identifier;l=new it(o.logger),r=0,i=null,e[pe]=null,c=0;var D=e[de]();I=(0,b.Hm)((0,_.Z)("Sender"),o.evtNamespace&&o.evtNamespace()),y=(0,f.G)(I),e._addHook((0,w.a)(t,(function(t){var r=t.cfg;r.storagePrefix&&(0,g.vh)(r.storagePrefix);var n=(0,R.i8)(null,r,o).getExtCfg(v,dt);(0,T.vF1)(e,"_senderConfig",{g:function(){return n}}),o.activeStatus()===E.f.PENDING?e.pause():o.activeStatus()===E.f.ACTIVE&&e.resume(),A!==n.endpointUrl&&(M=A=n.endpointUrl),G&&G!==n[fe]&&(0,T.Iuo)(G,(function(e){delete u[e.header]})),x=n[ge],N=(!1===n[me]||!1===n[ve])&&(0,P.Uf)(),j=!1===n[me]&&(0,P.Uf)(),L=!1===n[ve]&&(0,P.Uf)(),se=n[ye],ae=!!n[Ce],ze=n.retryCodes;var i=n[oe],s=!!n[Se]&&(!!i||(0,g.AN)()),a=n.namePrefix,l=s!==K||s&&Y!==a||s&&V!==i;if(e[Te]){if(l)try{e._buffer=e._buffer[re](D,n,s)}catch(t){(0,C.ZP)(e[de](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+(0,S.lL)(t),{exception:(0,T.mmD)(t)})}rt()}else e[Te]=s?new nt(D,n):new tt(D,n);Y=a,K=s,V=i,le=!n[be]&&(0,P.R7)(!0),qe=!!n[_e],e._sample=new lt(n.samplingPercentage,D),function(e,t){var r=t.disableInstrumentationKeyValidation;return!((0,T.hXl)(r)||!r)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)}(z=n[we],r)||(0,C.ZP)(D,1,100,"Invalid Instrumentation key "+z),G=n[fe],(0,T.KgX)(M)&&!(0,m.Qu)(M)&&G&&G[U]>0?(0,T.Iuo)(G,(function(e){d.addHeader(e.header,e.value)})):G=null,ee=n[Re];var c=function(){var t;try{var r={xdrOnComplete:function(e,t,r){var n=$e(r);if(n)return p(e,n)},fetchOnComplete:function(e,t,r,n){var i=$e(n);if(i)return ot(e.status,i,e.url,i[U],e.statusText,r||"")},xhrOnComplete:function(e,t,r){var n=$e(r);if(n)return He(e,n,n[U])},beaconOnRetry:function(t,r,n){return function(t,r,n){var i=t&&t[je];if(qe)Ge&&Ge(i,!0),(0,C.ZP)(e[de](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var o=[],s=0;s<i[U];s++){var a=i[s],l=[a];n(Qe(l),r)?e._onSuccess(l,l[U]):o[Z](a)}o[U]>0&&(Ge&&Ge(o,!0),(0,C.ZP)(e[de](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}(t,r,n)}};return(t={})[Re]=ee,t.isOneDs=!1,t.disableCredentials=!1,t[Ce]=ae,t.disableBeacon=!L,t.disableBeaconSync=!j,t.senderOnCompleteCallBack=r,t}catch(e){}return null}();Ue?Ue.SetConfig(c):(Ue=new k.v)[he](c,D);var f=n.httpXHROverride,y=null,b=null,_=(0,S.jL)([3,1,2],n.transports);y=Ue&&Ue[Ee](_,!1);var w=Ue&&Ue.getFallbackInst();ce=function(e,t){return Ze(w,e,t)},Ge=function(e,t){return Ze(w,e,t,!1)},y=se?f:y||f||w,e[pe]=function(e,t){return Ze(y,e,t)},le&&(h=pt);var O=(0,S.jL)([3,1],n[Pe]);le||(O=O.filter((function(e){return 2!==e}))),b=Ue&&Ue[Ee](O,!0),b=se?f:b||f,(se||n[Pe]||!h)&&b&&(h=function(e,t){return Ze(b,e,t)}),h||(h=ce),q=n.disableTelemetry,W=n[ke]||ct,H=n.isRetryDisabled,$=n[De]})))},e.processTelemetry=function(t,r){var n,i=(r=e._getTelCtx(r))[de]();try{if(!Ke(t,i))return;var o=Ve(t,i);if(!o)return;var s=l[Oe](o),a=e[Te];rt(s);var c=((n={})[Q]=s,n.cnt=0,n);a[J](c),gt()}catch(e){(0,C.ZP)(i,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,S.lL)(e),{exception:(0,T.mmD)(e)})}e.processNext(t,r)},e.isCompletelyIdle=function(){return!s&&0===We&&0===e._buffer[X]()},e._xhrReadyStateChange=function(e,t,r){if(!ht(t))return He(e,t,r)},e[ue]=function(t,r,n){var i;if(void 0===t&&(t=!0),!s)try{var o=e[Te];if(q)o[te]();else{if(o[X]()>0){var a=o.getItems();!function(t,r){var n,i=(n="getNotifyMgr",e.core[n]?e.core[n]():e.core._notificationManager);if(i&&i[Be])try{i[Be](t,r)}catch(t){(0,C.ZP)(e[de](),1,74,"send request notification failed: "+(0,S.lL)(t),{exception:(0,T.mmD)(t)})}}(n||0,t),i=r?r.call(e,a,t):e[pe](a,t)}new Date}mt()}catch(t){var l=(0,P.L0)();(!l||l>9)&&(0,C.ZP)(e[de](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,S.lL)(t),{exception:(0,T.mmD)(t)})}return i},e.getOfflineSupport=function(){var e;return(e={getUrl:function(){return M},createPayload:Ye})[Oe]=Je,e.batch=Xe,e.shouldProcess=function(e){return!!Ke(e)},e},e._doTeardown=function(t,r){e.onunloadFlush(),(0,D.K)(y,!1),yt()},e[Ie]=function(t,r,n){if(!ht(t))return function(t,r){(0,C.ZP)(e[de](),2,26,"Failed to send telemetry.",{message:r}),e._buffer&&e._buffer[ie](t)}(t,r)},e[Me]=function(t,r){if(!ht(t))return function(t,r){for(var n=[],i=[],o=0,s=r.errors.reverse();o<s.length;o++){var a=s[o],l=t.splice(a.index,1)[0];vt(a.statusCode)?i[Z](l):n[Z](l)}t[U]>0&&e[Ae](t,r[Ne]),n[U]>0&&e[Ie](n,(0,S.r4)(null,["partial success",r[Ne],"of",r.itemsReceived].join(" "))),i[U]>0&&(ft(i),(0,C.ZP)(e[de](),2,40,"Partial success. Delivered: "+t[U]+", Failed: "+n[U]+". Will retry to send "+i[U]+" our of "+r[xe]+" items"))}(t,r)},e[Ae]=function(t,r){if(!ht(t))return function(t){e._buffer&&e._buffer[ie](t)}(t)},e._xdrOnLoad=function(e,t){if(!ht(t))return p(e,t)}})),d}return(0,i.qU)(t,e),t.constructEnvelope=function(e,t,r,n){var o;return o=t===e.iKey||(0,T.hXl)(t)?e:(0,i.Im)((0,i.Im)({},e),{iKey:t}),(ht[o.baseType]||Ye)(r,o,n)},t}(I.s),ft=r(4484),gt=r(2774),mt=r(8205),vt="instrumentationKey",yt="connectionString",Ct="instrumentationkey",St="endpointUrl",Tt="ingestionendpoint",bt="userOverrideEndpointUrl",_t=r(9762),wt={diagnosticLogInterval:(0,y.Lx)((function(e){return e&&e>0}),1e4)},Rt=function(){function e(t){var r,i=new gt._;function s(e){e&&(e.baseData=e.baseData||{},e.baseType=e.baseType||"EventData"),i.track(e)}((0,T.hXl)(t)||(0,T.hXl)(t[vt])&&(0,T.hXl)(t[yt]))&&(0,T.$8)("Invalid input configuration"),(0,n.A)(e,this,(function(e){function n(){var e=(0,w.e)(t||{},wt);r=e.cfg,i.addUnloadHook((0,w.a)(e,(function(){var e=r[yt];if((0,T.$XS)(e)){var t=(0,mt.c$)((function(t,n){(0,mt.Dv)(e,(function(e){var n=e.value,i=r[vt];!e.rejected&&n&&(r[yt]=n,i=(0,ft.H)(n)[Ct]||i),t(i)}))})),n=(0,mt.c$)((function(t,n){(0,mt.Dv)(e,(function(e){var n=e.value,i=r[St];if(!e.rejected&&n){var s=(0,ft.H)(n)[Tt];i=s?s+o.wc:i}t(i)}))}));r[vt]=t,r[St]=r[bt]||n}if((0,T.KgX)(e)){var i=(0,ft.H)(e),s=i[Tt];r[St]=r[bt]?r[bt]:s+o.wc,r[vt]=i[Ct]||r[vt]}r[St]=r[bt]?r[bt]:r[St]}))),i.initialize(r,[new pt])}(0,T.vF1)(e,"config",{g:function(){return r}}),n(),e.initialize=n,e.track=s,(0,S.o$)(e,i,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"])}))}return e.__ieDyn=1,e}()},8279:(e,t,r)=>{"use strict";r.d(t,{A:()=>j});var n,i=r(269),o="constructor",s="prototype",a="function",l="_dynInstFuncs",c="_isDynProxy",u="_dynClass",d="_dynCls$",h="_dynInstChk",p=h,f="_dfOpts",g="_unknown_",m="__proto__",v="_dyn"+m,y="__dynProto$Gbl",C="_dynInstProto",S="useBaseInst",T="setInstFuncs",b=Object,_=b.getPrototypeOf,w=b.getOwnPropertyNames,R=(0,i.mS$)(),E=R[y]||(R[y]={o:(n={},n[T]=!0,n[S]=!0,n),n:1e3});function P(e){return e&&(e===b[s]||e===Array[s])}function k(e){return P(e)||e===Function[s]}function D(e){var t;if(e){if(_)return _(e);var r=e[m]||e[s]||(e[o]?e[o][s]:null);t=e[v]||r,(0,i.v0u)(e,v)||(delete e[C],t=e[v]=e[C]||e[v],e[C]=r)}return t}function O(e,t){var r=[];if(w)r=w(e);else for(var n in e)"string"==typeof n&&(0,i.v0u)(e,n)&&r.push(n);if(r&&r.length>0)for(var o=0;o<r.length;o++)t(r[o])}function I(e,t,r){return t!==o&&typeof e[t]===a&&(r||(0,i.v0u)(e,t))&&t!==m&&t!==s}function M(e){(0,i.zkd)("DynamicProto: "+e)}function A(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}function x(e,t,r,n,o){if(!P(e)){var s=r[l]=r[l]||(0,i.sSX)(null);if(!P(s)){var d=s[t]=s[t]||(0,i.sSX)(null);!1!==s[p]&&(s[p]=!!o),P(d)||O(r,(function(t){I(r,t,!1)&&r[t]!==n[t]&&(d[t]=r[t],delete r[t],(!(0,i.v0u)(e,t)||e[t]&&!e[t][c])&&(e[t]=function(e,t){var r=function(){var n=function(e,t,r,n){var o=null;if(e&&(0,i.v0u)(r,u)){var s=e[l]||(0,i.sSX)(null);if((o=(s[r[u]]||(0,i.sSX)(null))[t])||M("Missing ["+t+"] "+a),!o[h]&&!1!==s[p]){for(var c=!(0,i.v0u)(e,t),d=D(e),f=[];c&&d&&!k(d)&&!A(f,d);){var g=d[t];if(g){c=g===n;break}f.push(d),d=D(d)}try{c&&(e[t]=o),o[h]=1}catch(e){s[p]=!1}}}return o}(this,t,e,r)||function(e,t,r){var n=t[e];return n===r&&(n=D(t)[e]),typeof n!==a&&M("["+e+"] is not a "+a),n}(t,e,r);return n.apply(this,arguments)};return r[c]=1,r}(e,t)))}))}}}function N(e,t){return(0,i.v0u)(e,s)?e.name||t||g:((e||{})[o]||{}).name||t||g}function j(e,t,r,n){(0,i.v0u)(e,s)||M("theClass is an invalid class definition.");var o=e[s];(function(e,t){if(_){for(var r=[],n=D(t);n&&!k(n)&&!A(r,n);){if(n===e)return!0;r.push(n),n=D(n)}return!1}return!0})(o,t)||M("["+N(e)+"] not in hierarchy of ["+N(t)+"]");var a=null;(0,i.v0u)(o,u)?a=o[u]:(a=d+N(e,"_")+"$"+E.n,E.n++,o[u]=a);var h=j[f],g=!!h[S];g&&n&&void 0!==n[S]&&(g=!!n[S]);var m=function(e){var t=(0,i.sSX)(null);return O(e,(function(r){!t[r]&&I(e,r,!1)&&(t[r]=e[r])})),t}(t),v=function(e,t,r,n){function o(e,t,r){var i=t[r];if(i[c]&&n){var o=e[l]||{};!1!==o[p]&&(i=(o[t[u]]||{})[r]||i)}return function(){return i.apply(e,arguments)}}var s=(0,i.sSX)(null);O(r,(function(e){s[e]=o(t,r,e)}));for(var a=D(e),d=[];a&&!k(a)&&!A(d,a);)O(a,(function(e){!s[e]&&I(a,e,!_)&&(s[e]=o(t,a,e))})),d.push(a),a=D(a);return s}(o,t,m,g);r(t,v);var y=!!_&&!!h[T];y&&n&&(y=!!n[T]),x(o,a,t,m,!1!==y)}j[f]=E.o},8205:(e,t,r)=>{"use strict";r.d(t,{Dv:()=>c,Ov:()=>M,Qo:()=>O,Xf:()=>I,c$:()=>k});var n,i,o,s=r(269),a="Promise",l="rejected";function c(e,t){return u(e,(function(e){return t?t({status:"fulfilled",rejected:!1,value:e}):e}),(function(e){return t?t({status:l,rejected:!0,reason:e}):e}))}function u(e,t,r,n){var i=e;try{if((0,s.$XS)(e))(t||r)&&(i=e.then(t,r));else try{t&&(i=t(e))}catch(e){if(!r)throw e;i=r(e)}}finally{n&&function(e,t){var r=e;t&&((0,s.$XS)(e)?r=e.finally?e.finally(t):e.then((function(e){return t(),e}),(function(e){throw t(),e})):t())}(i,n)}return i}var d,h=!1,p=["pending","resolving","resolved",l],f="dispatchEvent";function g(e){var t;return e&&e.createEvent&&(t=e.createEvent("Event")),!!t&&t.initEvent}var m,v,y,C,S="unhandledRejection",T=S.toLowerCase(),b=[],_=0,w=10;function R(e){return(0,s.Tnt)(e)?e.toString():(0,s.mmD)(e)}function E(e,t,r){var l,c,u=(0,s.KVm)(arguments,3),v=0,y=!1,C=[],E=_++,P=b.length>0?b[b.length-1]:void 0,k=!1,D=null;function O(t,r){try{return b.push(E),k=!0,D&&D.cancel(),D=null,e((function(e,n){C.push((function(){try{var i=2===v?t:r,o=(0,s.b07)(i)?l:(0,s.Tnt)(i)?i(l):i;(0,s.$XS)(o)?o.then(e,n):i?e(o):3===v?n(o):e(o)}catch(e){n(e)}})),y&&M()}),u)}finally{b.pop()}}function I(){return p[v]}function M(){if(C.length>0){var e=C.slice();C=[],k=!0,D&&D.cancel(),D=null,t(e)}}function A(e,t){return function(r){if(v===t){if(2===e&&(0,s.$XS)(r))return v=1,void r.then(A(2,1),A(3,1));v=e,y=!0,l=r,M(),k||3!==e||D||(D=(0,s.dRz)(x,w))}}}function x(){if(!k)if(k=!0,(0,s.Lln)())process.emit(S,l,c);else{var e=(0,s.zkX)()||(0,s.mS$)();!m&&(m=(0,s.GuU)((0,s.gBW)(s.zS2,[a+"RejectionEvent"]).v)),function(e,t,r,n){var i=(0,s.YEm)();!d&&(d=(0,s.GuU)(!!(0,s.gBW)(g,[i]).v));var o=d.v?i.createEvent("Event"):n?new Event(t):{};if(r&&r(o),d.v&&o.initEvent(t,!1,!0),o&&e[f])e[f](o);else{var a=e["on"+t];if(a)a(o);else{var l=(0,s.zS2)("console");l&&(l.error||l.log)(t,(0,s.mmD)(o))}}}(e,T,(function(e){return(0,s.vF1)(e,"promise",{g:function(){return c}}),e.reason=l,e}),!!m.v)}}return c={then:O,catch:function(e){return O(void 0,e)},finally:function(e){var t=e,r=e;return(0,s.Tnt)(e)&&(t=function(t){return e&&e(),t},r=function(t){throw e&&e(),t}),O(t,r)}},(0,s.UxO)(c,"state",{get:I}),h&&function(e,t){i=i||{toString:function(){return"[[PromiseResult]]"}},o=o||{toString:function(){return"[[PromiseIsHandled]]"}};var r={};r[n=n||{toString:function(){return"[[PromiseState]]"}}]={get:t},r[i]={get:function(){return(0,s.SZ2)(l)}},r[o]={get:function(){return k}},(0,s.isD)(e,r)}(c,I),(0,s.Lok)()&&(c[(0,s.Y0g)(11)]="IPromise"),c.toString=function(){return"IPromise"+(h?"["+E+((0,s.b07)(P)?"":":"+P)+"]":"")+" "+I()+(y?" - "+R(l):"")},function(){(0,s.Tnt)(r)||(0,s.zkd)(a+": executor is not a function - "+R(r));var e=A(3,0);try{r.call(c,A(2,0),e)}catch(t){e(t)}}(),c}function P(e){return function(t){var r=(0,s.KVm)(arguments,1);return e((function(e,r){try{var n=[],i=1;(0,s.DA8)(t,(function(t,o){t&&(i++,u(t,(function(t){n[o]=t,0==--i&&e(n)}),r))})),0==--i&&e(n)}catch(e){r(e)}}),r)}}function k(e,t){return E(k,function(e){var t=(0,s.EtT)(e)?e:0;return function(e){(0,s.dRz)((function(){!function(e){(0,s.Iuo)(e,(function(e){try{e()}catch(e){}}))}(e)}),t)}}(t),e,t)}function D(e,t){!v&&(v=(0,s.GuU)((0,s.gBW)(s.zS2,[a]).v||null));var r=v.v;if(!r)return k(e);(0,s.Tnt)(e)||(0,s.zkd)(a+": executor is not a function - "+(0,s.mmD)(e));var n=0,i=new r((function(t,r){e((function(e){n=2,t(e)}),(function(e){n=3,r(e)}))}));return(0,s.UxO)(i,"state",{get:function(){return p[n]}}),i}function O(e,t){return!y&&(y=(0,s.GuU)(D)),y.v.call(this,e,t)}var I=P(O);function M(e,t){return!C&&(r=O,C=(0,s.GuU)((function(e){var t=(0,s.KVm)(arguments,1);return r((function(t,r){var n=[],i=1;function o(e,r){i++,c(e,(function(e){e.rejected?n[r]={status:l,reason:e.reason}:n[r]={status:"fulfilled",value:e.value},0==--i&&t(n)}))}try{(0,s.cyL)(e)?(0,s.Iuo)(e,o):(0,s.xZI)(e)?(0,s.DA8)(e,o):(0,s.zkd)("Input is not an iterable"),0==--i&&t(n)}catch(e){r(e)}}),t)}))),C.v(e,t);var r}(0,s.Y0g)(11)},269:(e,t,r)=>{"use strict";function n(e,t){return e||t}function i(e,t){return e[t]}r.d(t,{$8:()=>ue,$PY:()=>q,$XS:()=>H,AHH:()=>dr,Cv9:()=>Qt,DA8:()=>Ct,EHq:()=>qt,Edw:()=>A,EtT:()=>U,FJj:()=>Yt,GuU:()=>$e,Gvm:()=>B,HzD:()=>tr,Iuo:()=>bt,JKf:()=>lt,KTd:()=>Dt,KVm:()=>Rt,KgX:()=>F,KhI:()=>X,Lln:()=>ct,Lmq:()=>z,Lok:()=>ht,N6t:()=>ye,Nq2:()=>kt,O9V:()=>j,P0f:()=>xe,QdQ:()=>Ut,R3R:()=>Xt,SZ2:()=>M,Tnt:()=>L,UUD:()=>Zt,UxO:()=>te,Vdv:()=>et,W$7:()=>wt,WSA:()=>Te,Wtk:()=>Ze,Y0g:()=>ft,YEm:()=>Qe,Yny:()=>Tt,ZHX:()=>ve,ZWZ:()=>Fe,aqQ:()=>xt,b07:()=>x,bJ7:()=>W,cGk:()=>me,cyL:()=>G,dRz:()=>cr,eCG:()=>mt,f0d:()=>Nt,fn0:()=>_e,gBW:()=>D,hKY:()=>Ne,hXl:()=>N,isD:()=>re,jjc:()=>gt,jsL:()=>Ce,kgX:()=>V,mS$:()=>Xe,mmD:()=>ce,nRs:()=>He,oJg:()=>ae,rDm:()=>_t,raO:()=>ne,sSX:()=>Ot,tGl:()=>rr,twz:()=>it,v0u:()=>J,vE3:()=>ge,vF1:()=>ie,vKV:()=>ur,w3n:()=>nt,w9M:()=>rt,woc:()=>$,xZI:()=>yt,zS2:()=>Ye,zav:()=>Z,zkX:()=>tt,zkd:()=>de,zwS:()=>Vt,zzB:()=>K});var o,s=void 0,a=null,l="",c="function",u="object",d="prototype",h="__proto__",p="undefined",f="constructor",g="Symbol",m="_polyfill",v="length",y="name",C="call",S="toString",T=n(Object),b=i(T,d),_=n(String),w=i(_,d),R=n(Math),E=n(Array),P=i(E,d),k=i(P,"slice");function D(e,t){try{return{v:e.apply(this,t)}}catch(e){return{e}}}function O(e){return function(t){return typeof t===e}}function I(e){var t="[object "+e+"]";return function(e){return!(!e||M(e)!==t)}}function M(e){return b[S].call(e)}function A(e,t){return typeof e===t}function x(e){return typeof e===p||e===p}function N(e){return e===a||x(e)}function j(e){return!!e||e!==s}var F=O("string"),L=O(c);function B(e){return!(!e&&N(e)||!e||typeof e!==u)}var G=i(E,"isArray"),q=I("Date"),U=O("number"),z=O("boolean"),W=I("Error");function H(e){return!!(e&&e.then&&L(e.then))}function $(e){return!e||!K(e)}function K(e){return!(!e||(t=function(){return!(e&&0+e)},r=!e,n=D(t),n.e?r:n.v));var t,r,n}var V=i(T,"getOwnPropertyDescriptor");function J(e,t){return!!e&&b.hasOwnProperty[C](e,t)}var X=n(i(T,"hasOwn"),Y);function Y(e,t){return J(e,t)||!!V(e,t)}function Z(e,t,r){if(e&&B(e))for(var n in e)if(X(e,n)&&-1===t[C](r||e,n,e[n]))break}var Q={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function ee(e){var t={};if(t[Q.c]=!0,t[Q.e]=!0,e.l){t.get=function(){return e.l.v};var r=V(e.l,"v");r&&r.set&&(t.set=function(t){e.l.v=t})}return Z(e,(function(e,r){t[Q[e]]=x(r)?t[Q[e]]:r})),t}var te=i(T,"defineProperty"),re=i(T,"defineProperties");function ne(e,t,r,n,i,o){var s={e:o,c:i};return r&&(s.g=r),n&&(s.s=n),te(e,t,ee(s))}function ie(e,t,r){return te(e,t,ee(r))}function oe(e,t,r,n,i){var o={};return Z(e,(function(e,n){se(o,e,t?n:e,i),se(o,n,r?n:e,i)})),n?n(o):o}function se(e,t,r,n){te(e,t,{value:r,enumerable:!0,writable:!!n})}var ae=n(_),le="[object Error]";function ce(e,t){var r=l,n=b[S][C](e);n===le&&(e={stack:ae(e.stack),message:ae(e.message),name:ae(e.name)});try{r=(r=JSON.stringify(e,a,t?"number"==typeof t?t:4:s))&&r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||ae(e)}catch(e){r=" - "+ce(e,t)}return n+": "+r}function ue(e){throw new Error(e)}function de(e){throw new TypeError(e)}var he=i(T,"freeze");function pe(e){return e}function fe(e){return e[h]||a}var ge=i(T,"assign"),me=i(T,"keys");function ve(e){return he&&Z(e,(function(e,t){(G(t)||B(t))&&ve(t)})),ye(e)}var ye=n(he,pe),Ce=n(i(T,"seal"),pe),Se=n(i(T,"getPrototypeOf"),fe);function Te(e){return oe(e,1,0,ye)}function be(e){return oe(e,0,0,ye)}function _e(e){return function(e){var t={};return Z(e,(function(e,r){se(t,e,r[1]),se(t,r[0],r[1])})),ye(t)}(e)}var we,Re=be({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Ee="__tsUtils$gblCfg";function Pe(){var e;return typeof globalThis!==p&&(e=globalThis),e||typeof self===p||(e=self),e||typeof window===p||(e=window),e||typeof global===p||(e=global),e}function ke(){if(!we){var e=D(Pe).v||{};we=e[Ee]=e[Ee]||{}}return we}var De=Oe;function Oe(e,t,r){var n=t&&t[e];return function(t){var i=t&&t[e]||n;if(i||r){var o=arguments;return(i||r).apply(t,i?k[C](o,1):o)}de('"'+ae(e)+'" not defined for '+ce(t))}}function Ie(e){return function(t){return t[e]}}var Me=i(R,"max"),Ae=De("slice",w),xe=De("substring",w),Ne=Oe("substr",w,je);function je(e,t,r){return N(e)&&de("Invalid "+ce(e)),r<0?l:((t=t||0)<0&&(t=Me(t+e[v],0)),x(r)?Ae(e,t):Ae(e,t,t+r))}function Fe(e,t){return xe(e,0,t)}var Le,Be,Ge,qe="_urid";function Ue(e){var t={description:ae(e),toString:function(){return g+"("+e+")"}};return t[m]=!0,t}function ze(e){var t=function(){if(!Le){var e=ke();Le=e.gblSym=e.gblSym||{k:{},s:{}}}return Le}();if(!X(t.k,e)){var r=Ue(e),n=me(t.s).length;r[qe]=function(){return n+"_"+r[S]()},t.k[e]=r,t.s[r[qe]()]=ae(e)}return t.k[e]}function We(){Ge=ke()}function He(e){var t={};return!Ge&&We(),t.b=Ge.lzy,te(t,"v",{configurable:!0,get:function(){var r=e();return Ge.lzy||te(t,"v",{value:r}),t.b=Ge.lzy,r}}),t}function $e(e){return te({toJSON:function(){return e}},"v",{value:e})}var Ke,Ve="window";function Je(e,t){var r;return function(){return!Ge&&We(),(!r||Ge.lzy)&&(r=$e(D(e,t).v)),r.v}}function Xe(e){return!Ge&&We(),(!Ke||!1===e||Ge.lzy)&&(Ke=$e(D(Pe).v||a)),Ke.v}function Ye(e,t){var r=Ke&&!1!==t?Ke.v:Xe(t);return r&&r[e]?r[e]:e===Ve?tt():a}function Ze(){return!!Qe()}var Qe=Je(Ye,["document"]);function et(){return!!tt()}var tt=Je(Ye,[Ve]);function rt(){return!!nt()}var nt=Je(Ye,["navigator"]);function it(){return!!lt()}var ot,st,at,lt=Je(Ye,["history"]),ct=Je((function(){return!!D((function(){return process&&(process.versions||{}).node})).v}));function ut(){return ot=$e(D(Ye,[g]).v)}function dt(e){var t=(Ge.lzy?0:ot)||ut();return t.v?t.v[e]:s}function ht(){return!!pt()}function pt(){return!Ge&&We(),((Ge.lzy?0:ot)||ut()).v}function ft(e,t){var r=Re[e];!Ge&&We();var n=(Ge.lzy?0:ot)||ut();return n.v?n.v[r||e]:t?s:function(e){var t;!Be&&(Be={});var r=Re[e];return r&&(t=Be[r]=Be[r]||Ue(g+"."+r)),t}(e)}function gt(e,t){!Ge&&We();var r=(Ge.lzy?0:ot)||ut();return r.v?r.v(e):t?a:Ue(e)}function mt(e){return!Ge&&We(),((st=(Ge.lzy?0:st)||$e(D(dt,["for"]).v)).v||ze)(e)}function vt(e){return!!e&&L(e.next)}function yt(e){return!function(e){return e===a||!j(e)}(e)&&L(e[ft(3)])}function Ct(e,t,r){if(e&&(vt(e)||(!at&&(at=$e(ft(3))),e=e[at.v]?e[at.v]():null),vt(e))){var n=s,i=s;try{for(var o=0;!(i=e.next()).done&&-1!==t[C](r||e,i.value,o,e);)o++}catch(t){n={e:t},e.throw&&(i=a,e.throw(n))}finally{try{i&&!i.done&&e.return&&e.return(i)}finally{if(n)throw n.e}}}}function St(e,t,r){return e.apply(t,r)}function Tt(e,t){return!x(t)&&e&&(G(t)?St(e.push,e,t):vt(t)||yt(t)?Ct(t,(function(t){e.push(t)})):e.push(t)),e}function bt(e,t,r){if(e)for(var n=e[v]>>>0,i=0;i<n&&(!(i in e)||-1!==t[C](r||e,e[i],i,e));i++);}var _t=De("indexOf",P),wt=De("map",P);function Rt(e,t,r){return(e&&e.slice||k).apply(e,k[C](arguments,1))}function Et(e,t,r){return-1!==_t(e,t,r)}var Pt,kt=Oe("includes",P,Et),Dt=De("reduce",P),Ot=n(i(T,"create"),It);function It(e){if(!e)return{};var t=typeof e;function r(){}return t!==u&&t!==c&&de("Prototype must be an Object or function: "+ce(e)),r[d]=e,new r}function Mt(e,t){return(T.setPrototypeOf||function(e,t){var r;!Pt&&(Pt=$e(((r={})[h]=[],r instanceof Array))),Pt.v?e[h]=t:Z(t,(function(t,r){return e[t]=r}))})(e,t)}function At(e,t){t&&(e[y]=t)}function xt(e,t,r){var n=r||Error,i=n[d][y],o=Error.captureStackTrace;return function(e,t,r){function n(){this[f]=t,D(ie,[this,y,{v:e,c:!0,e:!1}])}return D(ie,[t,y,{v:e,c:!0,e:!1}]),(t=Mt(t,r))[d]=r===a?Ot(r):(n[d]=r[d],new n),t}(e,(function(){var r=this,s=arguments;try{D(At,[n,e]);var a=St(n,r,k[C](s))||r;if(a!==r){var l=Se(r);l!==Se(a)&&Mt(a,l)}return o&&o(a,r[f]),t&&t(a,s),a}finally{D(At,[n,i])}}),n)}function Nt(){return(Date.now||jt)()}function jt(){return(new Date).getTime()}function Ft(e){return function(t){return N(t)&&de("strTrim called ["+ce(t)+"]"),t&&t.replace&&(t=t.replace(e,l)),t}}var Lt,Bt,Gt,qt=Oe("trim",w,Ft(/^\s+|(?=\s)\s+$/g));function Ut(e){if(!e||typeof e!==u)return!1;Gt||(Gt=!et()||tt());var t=!1;if(e!==Gt){Bt||(Lt=Function[d][S],Bt=Lt[C](T));try{var r=Se(e);(t=!r)||(J(r,f)&&(r=r[f]),t=r&&typeof r===c&&Lt[C](r)===Bt)}catch(e){}}return t}function zt(e){return e.value&&Kt(e),!0}var Wt=[function(e){var t=e.value;if(G(t)){var r=e.result=[];return r.length=t.length,e.copyTo(r,t),!0}return!1},Kt,function(e){return e.type===c},function(e){var t=e.value;return!!q(t)&&(e.result=new Date(t.getTime()),!0)}];function Ht(e,t,r,n){var i=r.handler,s=r.path?n?r.path.concat(n):r.path:[],l={handler:r.handler,src:r.src,path:s},c=typeof t,d=!1,h=!1;t&&c===u?d=Ut(t):h=t===a||function(e){return!o&&(o=["string","number","boolean",p,"symbol","bigint"]),e!==u&&-1!==o.indexOf(e)}(c);var f={type:c,isPrim:h,isPlain:d,value:t,result:t,path:s,origin:r.src,copy:function(t,n){return Ht(e,t,n?l:r,n)},copyTo:function(t,r){return $t(e,t,r,l)}};return f.isPrim?i&&i[C](r,f)?f.result:t:function(e,t){var n;return bt(e,(function(e){if(e.k===t)return n=e,-1})),n||(n={k:t,v:t},e.push(n),function(e){ie(f,"result",{g:function(){return e.v},s:function(t){e.v=t}});for(var t=0,n=i;!(n||(t<Wt.length?Wt[t++]:zt))[C](r,f);)n=a}(n)),n.v}(e,t)}function $t(e,t,r,n){if(!N(r))for(var i in r)t[i]=Ht(e,r[i],n,i);return t}function Kt(e){var t=e.value;if(t&&e.isPlain){var r=e.result={};return e.copyTo(r,t),!0}return!1}function Vt(e,t,r,n,i,o,s){return function(e,t){return bt(t,(function(t){!function(e,t){$t([],e,t,{handler:void 0,src:t,path:[]})}(e,t)})),e}(Ht([],a=e,{handler:undefined,src:a})||{},k[C](arguments));var a}var Jt,Xt=Ie(v);function Yt(){return!Ge&&We(),(!Jt||Ge.lzy)&&(Jt=$e(D(Ye,["performance"]).v)),Jt.v}function Zt(){var e=Yt();return e&&e.now?e.now():Nt()}ht();var Qt=Oe("endsWith",w,er);function er(e,t,r){F(e)||de("'"+ce(e)+"' is not a string");var n=F(t)?t:ae(t),i=!x(r)&&r<e[v]?r:e[v];return xe(e,i-n[v],i)===n}var tr=De("indexOf",w),rr=Oe("startsWith",w,nr);function nr(e,t,r){F(e)||de("'"+ce(e)+"' is not a string");var n=F(t)?t:ae(t),i=r>0?r:0;return xe(e,i,i+n[v])===n}var ir="ref",or="unref",sr="hasRef",ar="enabled";function lr(e,t,r){var n=G(t),i=n?t.length:0,o=(i>0?t[0]:n?s:t)||setTimeout,l=(i>1?t[1]:s)||clearTimeout,c=r[0];r[0]=function(){u.dn(),St(c,s,k[C](arguments))};var u=function(e,t,r){var n,i=!0,o=e?t(a):a;function s(){return i=!1,o&&o[or]&&o[or](),n}function l(){o&&r(o),o=a}function c(){return o=t(o),i||s(),n}return(n={cancel:l,refresh:c})[sr]=function(){return o&&o[sr]?o[sr]():i},n[ir]=function(){return i=!0,o&&o[ir]&&o[ir](),n},n[or]=s,{h:n=te(n,ar,{get:function(){return!!o},set:function(e){!e&&o&&l(),e&&!o&&c()}}),dn:function(){o=a}}}(e,(function(e){if(e){if(e.refresh)return e.refresh(),e;St(l,s,[e])}return St(o,s,r)}),(function(e){St(l,s,[e])}));return u.h}function cr(e,t){return lr(!0,s,k[C](arguments))}function ur(e,t,r){return lr(!0,e,k[C](arguments,1))}function dr(e,t){return lr(!1,s,k[C](arguments))}},5396:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.oneDataSystemClientFactory=void 0,t.oneDataSystemClientFactory=async(e,t,n)=>{let i=await(async(e,t,n)=>{const i=await Promise.resolve().then((()=>o(r(956)))),s=await Promise.resolve().then((()=>o(r(8916)))),a=new i.AppInsightsCore,l=new s.PostChannel,c={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[l]]};if(n){c.extensionConfig={};const e={alwaysUseXhrOverride:!0,httpXHROverride:n};c.extensionConfig[l.identifier]=e}const u=t.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(c,[]),a.addTelemetryInitializer((e=>{e.ext=e.ext??{},e.ext.web=e.ext.web??{},e.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',u&&(e.ext.utc=e.ext.utc??{},e.ext.utc.flags=8462029)})),a})(e,t,n);return{logEvent:(e,t)=>{try{i?.track({name:e,baseData:{name:e,properties:t?.properties,measurements:t?.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},flush:async()=>{try{return new Promise(((e,t)=>{i?i.flush(!0,(e=>{e||t("Failed to flush app 1DS!")})):e()}))}catch(e){throw new Error("Failed to flush 1DS!\n"+e.message)}},dispose:async()=>new Promise((e=>{i?i.unload(!1,(()=>{e(),i=void 0}),1e3):e()}))}}},2468:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.appInsightsClientFactory=void 0;const s=r(740),a=r(8393);t.appInsightsClientFactory=async(e,t,n,i)=>{let l;try{const t=await Promise.resolve().then((()=>o(r(5927)))),i={};if(n){const e={alwaysUseXhrOverride:!0,httpXHROverride:n};i[s.BreezeChannelIdentifier]=e}l=new t.ApplicationInsights({connectionString:e,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,extensionConfig:i})}catch(e){return Promise.reject(e)}return{logEvent:(e,r)=>{const n={...r?.properties,...r?.measurements};i?.length&&a.TelemetryUtil.applyReplacements(n,i),l?.track({name:e,data:n,baseType:"EventData",ext:{user:{id:t,authId:t}},baseData:{name:e,properties:r?.properties,measurements:r?.measurements}})},flush:async()=>{l?.flush(!1)},dispose:async()=>new Promise((e=>{l?.unload(!0,(()=>{e(),l=void 0}),1e3)}))}}},6548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTelemetryReporter=void 0,t.BaseTelemetryReporter=class{constructor(e,t,r){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates((()=>{this.updateUserOptIn()}))}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,r,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logUsage(e,{properties:t,measurements:r})}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1)}sendRawTelemetryEvent(e,t,r){const n={...t};for(const e of Object.keys(n??{})){const t=n[e];"string"==typeof e&&void 0!==t&&(n[e]=new this.vscodeAPI.TelemetryTrustedValue("string"==typeof t?t:t.value))}this.sendTelemetryEvent(e,n,r)}sendDangerousTelemetryEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,r,!0)}internalSendTelemetryErrorEvent(e,t,r,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!1)}sendDangerousTelemetryErrorEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,r,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map((e=>e.dispose())))}}},2396:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTelemetrySender=void 0,function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"}(r||(r={})),t.BaseTelemetrySender=class{constructor(e,t){this._instantiationStatus=r.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):this._instantiationStatus!==r.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t})}sendErrorData(e,t){if(!this._telemetryClient)return void(this._instantiationStatus!==r.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t}));const n={stack:e.stack,message:e.message,name:e.name};if(t){const e=t.properties||t;t.properties={...e,...n}}else t={properties:n};this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.sendEventData(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.sendErrorData(e,t))),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===r.NOT_INSTANTIATED&&(this._instantiationStatus=r.INSTANTIATING,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=r.INSTANTIATED,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=r.INSTANTIATED})))}}},8393:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryUtil=void 0;class r{static applyReplacements(e,t){for(const r of Object.keys(e))for(const n of t)n.lookup.test(r)&&(void 0!==n.replacementString?e[r]=n.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.7"}}static getInstance(){return r._instance||(r._instance=new r),r._instance}}t.TelemetryUtil=r},1170:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(5692)),a=o(r(857)),l=o(r(1398)),c=r(5396),u=r(2468),d=r(6548),h=r(2396),p=r(8393);function f(){return{sendPOST:(e,t)=>{const r={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{const n=s.request(e.urlString,r,(e=>{e.on("data",(function(r){t(e.statusCode??200,e.headers,r.toString())})),e.on("error",(function(){t(0,{})}))}));n.write(e.data,(e=>{e&&t(0,{})})),n.end()}catch{t(0,{})}}}}class g extends d.BaseTelemetryReporter{constructor(e,t){let r=e=>(0,u.appInsightsClientFactory)(e,l.env.machineId,f(),t);p.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(r=e=>(0,c.oneDataSystemClientFactory)(e,l,f()));const n={release:a.release(),platform:a.platform(),architecture:a.arch()},i=new h.BaseTelemetrySender(e,r);if(e&&0===e.indexOf("AIF-"))throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(i,l,{additionalCommonProperties:p.TelemetryUtil.getAdditionalCommonProperties(n)})}}t.default=g},8901:function(e,t){"use strict";var r,n,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){r.set(this,!1),n.set(this,new Set)}get acquired(){return i(this,r,"f")}acquireAsync({timeout:e}={}){if(!i(this,r,"f"))return o(this,r,!0,"f"),Promise.resolve();if(null==e)return new Promise((e=>{i(this,n,"f").add(e)}));let t,s;return Promise.race([new Promise((e=>{t=()=>{clearTimeout(s),e()},i(this,n,"f").add(t)})),new Promise(((r,o)=>{s=setTimeout((()=>{i(this,n,"f").delete(t),o(new Error("Timed out waiting for lock"))}),e)}))])}tryAcquire(){return!i(this,r,"f")&&(o(this,r,!0,"f"),!0)}release(){if(!i(this,r,"f"))throw new Error("Cannot release an unacquired lock");if(i(this,n,"f").size>0){const[e]=i(this,n,"f");i(this,n,"f").delete(e),e()}else o(this,r,!1,"f")}},r=new WeakMap,n=new WeakMap},8505:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=r(e,i)),t instanceof RegExp&&(t=r(t,i));var o=n(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function n(e,t,r){var n,i,o,s,a,l=r.indexOf(e),c=r.indexOf(t,l+1),u=l;if(l>=0&&c>0){if(e===t)return[l,c];for(n=[],o=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(e,u+1)):1==n.length?a=[n.pop(),c]:((i=n.pop())<o&&(o=i,s=c),c=r.indexOf(t,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[o,s])}return a}e.exports=t,t.range=n},8928:(e,t,r)=>{var n=r(8505);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),m(function(e){return e.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(s).split("\\,").join(a).split("\\.").join(l)}(e),!0).map(u)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function c(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function u(e){return e.split(i).join("\\").split(o).join("{").split(s).join("}").split(a).join(",").split(l).join(".")}function d(e){if(!e)return[""];var t=[],r=n("{","}",e);if(!r)return e.split(",");var i=r.pre,o=r.body,s=r.post,a=i.split(",");a[a.length-1]+="{"+o+"}";var l=d(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function g(e,t){return e>=t}function m(e,t){var r=[],i=n("{","}",e);if(!i)return[e];var o=i.pre,a=i.post.length?m(i.post,!1):[""];if(/\$$/.test(i.pre))for(var l=0;l<a.length;l++){var u=o+"{"+i.body+"}"+a[l];r.push(u)}else{var v,y,C=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),S=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),T=C||S,b=i.body.indexOf(",")>=0;if(!T&&!b)return i.post.match(/,(?!,).*\}/)?m(e=i.pre+"{"+i.body+s+i.post):[e];if(T)v=i.body.split(/\.\./);else if(1===(v=d(i.body)).length&&1===(v=m(v[0],!1).map(h)).length)return a.map((function(e){return i.pre+v[0]+e}));if(T){var _=c(v[0]),w=c(v[1]),R=Math.max(v[0].length,v[1].length),E=3==v.length?Math.abs(c(v[2])):1,P=f;w<_&&(E*=-1,P=g);var k=v.some(p);y=[];for(var D=_;P(D,w);D+=E){var O;if(S)"\\"===(O=String.fromCharCode(D))&&(O="");else if(O=String(D),k){var I=R-O.length;if(I>0){var M=new Array(I+1).join("0");O=D<0?"-"+M+O.slice(1):M+O}}y.push(O)}}else{y=[];for(var A=0;A<v.length;A++)y.push.apply(y,m(v[A],!1))}for(A=0;A<y.length;A++)for(l=0;l<a.length;l++)u=o+y[A]+a[l],(!t||T||u)&&r.push(u)}return r}},9818:e=>{e.exports=function(e,r){for(var n=[],i=0;i<e.length;i++){var o=r(e[i],i);t(o)?n.push.apply(n,o):n.push(o)}return n};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},3876:(e,t,r)=>{"use strict";const n=r(3735),i=r(6928),o=r(3798).mkdirsSync,s=r(7211).utimesMillisSync,a=r(6462);function l(e,t,r,o){const s=(o.dereference?n.statSync:n.lstatSync)(t);if(s.isDirectory())return function(e,t,r,i,o){return t?d(r,i,o):function(e,t,r,i){return n.mkdirSync(r),d(t,r,i),u(r,e)}(e.mode,r,i,o)}(s,e,t,r,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,r,i,o){return t?function(e,t,r,i){if(i.overwrite)return n.unlinkSync(r),c(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}(e,r,i,o):c(e,r,i,o)}(s,e,t,r,o);if(s.isSymbolicLink())return function(e,t,r,o){let s=n.readlinkSync(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),e){let e;try{e=n.readlinkSync(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return n.symlinkSync(s,r);throw e}if(o.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return n.unlinkSync(t),n.symlinkSync(e,t)}(s,r)}return n.symlinkSync(s,r)}(e,t,r,o);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function c(e,t,r,i){return n.copyFileSync(t,r),i.preserveTimestamps&&function(e,t,r){(function(e){return!(128&e)})(e)&&function(e,t){u(e,128|t)}(r,e),function(e,t){const r=n.statSync(e);s(t,r.atime,r.mtime)}(t,r)}(e.mode,t,r),u(r,e.mode)}function u(e,t){return n.chmodSync(e,t)}function d(e,t,r){n.readdirSync(e).forEach((n=>function(e,t,r,n){const o=i.join(t,e),s=i.join(r,e);if(n.filter&&!n.filter(o,s))return;const{destStat:c}=a.checkPathsSync(o,s,"copy",n);return l(c,o,s,n)}(n,e,t,r)))}e.exports=function(e,t,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:s,destStat:c}=a.checkPathsSync(e,t,"copy",r);if(a.checkParentPathsSync(e,s,t,"copy"),r.filter&&!r.filter(e,t))return;const u=i.dirname(t);return n.existsSync(u)||o(u),l(c,e,t,r)}},4994:(e,t,r)=>{"use strict";const n=r(8737),i=r(6928),{mkdirs:o}=r(3798),{pathExists:s}=r(9288),{utimesMillis:a}=r(7211),l=r(6462);async function c(e,t,r){return!r.filter||r.filter(e,t)}async function u(e,t,r,o){const s=o.dereference?n.stat:n.lstat,a=await s(t);if(a.isDirectory())return async function(e,t,r,o,s){t||await n.mkdir(o);const a=await n.readdir(r);await Promise.all(a.map((async e=>{const t=i.join(r,e),n=i.join(o,e);if(!await c(t,n,s))return;const{destStat:a}=await l.checkPaths(t,n,"copy",s);return u(a,t,n,s)}))),t||await n.chmod(o,e.mode)}(a,e,t,r,o);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return async function(e,t,r,i,o){if(!t)return d(e,r,i,o);if(o.overwrite)return await n.unlink(i),d(e,r,i,o);if(o.errorOnExist)throw new Error(`'${i}' already exists`)}(a,e,t,r,o);if(a.isSymbolicLink())return async function(e,t,r,o){let s=await n.readlink(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),!e)return n.symlink(s,r);let a=null;try{a=await n.readlink(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return n.symlink(s,r);throw e}if(o.dereference&&(a=i.resolve(process.cwd(),a)),l.isSrcSubdir(s,a))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`);if(l.isSrcSubdir(a,s))throw new Error(`Cannot overwrite '${a}' with '${s}'.`);return await n.unlink(r),n.symlink(s,r)}(e,t,r,o);if(a.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(a.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}async function d(e,t,r,i){if(await n.copyFile(t,r),i.preserveTimestamps){128&e.mode||await function(e,t){return n.chmod(e,128|t)}(r,e.mode);const i=await n.stat(t);await a(r,i.atime,i.mtime)}return n.chmod(r,e.mode)}e.exports=async function(e,t,r={}){"function"==typeof r&&(r={filter:r}),r.clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:n,destStat:a}=await l.checkPaths(e,t,"copy",r);if(await l.checkParentPaths(e,n,t,"copy"),!await c(e,t,r))return;const d=i.dirname(t);await s(d)||await o(d),await u(a,e,t,r)}},4423:(e,t,r)=>{"use strict";const n=r(1236).fromPromise;e.exports={copy:n(r(4994)),copySync:r(3876)}},2591:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(8737),o=r(6928),s=r(3798),a=r(5422),l=n((async function(e){let t;try{t=await i.readdir(e)}catch{return s.mkdirs(e)}return Promise.all(t.map((t=>a.remove(o.join(e,t)))))}));function c(e){let t;try{t=i.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach((t=>{t=o.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:c,emptydirSync:c,emptyDir:l,emptydir:l}},9616:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(6928),o=r(8737),s=r(3798);e.exports={createFile:n((async function(e){let t;try{t=await o.stat(e)}catch{}if(t&&t.isFile())return;const r=i.dirname(e);let n=null;try{n=await o.stat(r)}catch(t){if("ENOENT"===t.code)return await s.mkdirs(r),void await o.writeFile(e,"");throw t}n.isDirectory()?await o.writeFile(e,""):await o.readdir(r)})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch{}if(t&&t.isFile())return;const r=i.dirname(e);try{o.statSync(r).isDirectory()||o.readdirSync(r)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(r)}o.writeFileSync(e,"")}}},6288:(e,t,r)=>{"use strict";const{createFile:n,createFileSync:i}=r(9616),{createLink:o,createLinkSync:s}=r(1522),{createSymlink:a,createSymlinkSync:l}=r(5291);e.exports={createFile:n,createFileSync:i,ensureFile:n,ensureFileSync:i,createLink:o,createLinkSync:s,ensureLink:o,ensureLinkSync:s,createSymlink:a,createSymlinkSync:l,ensureSymlink:a,ensureSymlinkSync:l}},1522:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(6928),o=r(8737),s=r(3798),{pathExists:a}=r(9288),{areIdentical:l}=r(6462);e.exports={createLink:n((async function(e,t){let r,n;try{r=await o.lstat(t)}catch{}try{n=await o.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}if(r&&l(n,r))return;const c=i.dirname(t);await a(c)||await s.mkdirs(c),await o.link(e,t)})),createLinkSync:function(e,t){let r;try{r=o.lstatSync(t)}catch{}try{const t=o.lstatSync(e);if(r&&l(t,r))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=i.dirname(t);return o.existsSync(n)||s.mkdirsSync(n),o.linkSync(e,t)}}},3838:(e,t,r)=>{"use strict";const n=r(6928),i=r(8737),{pathExists:o}=r(9288),s=r(1236).fromPromise;e.exports={symlinkPaths:s((async function(e,t){if(n.isAbsolute(e)){try{await i.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:e}}const r=n.dirname(t),s=n.join(r,e);if(await o(s))return{toCwd:s,toDst:e};try{await i.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:n.relative(r,e)}})),symlinkPathsSync:function(e,t){if(n.isAbsolute(e)){if(!i.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const r=n.dirname(t),o=n.join(r,e);if(i.existsSync(o))return{toCwd:o,toDst:e};if(!i.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(r,e)}}}},7064:(e,t,r)=>{"use strict";const n=r(8737),i=r(1236).fromPromise;e.exports={symlinkType:i((async function(e,t){if(t)return t;let r;try{r=await n.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"})),symlinkTypeSync:function(e,t){if(t)return t;let r;try{r=n.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}}},5291:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(6928),o=r(8737),{mkdirs:s,mkdirsSync:a}=r(3798),{symlinkPaths:l,symlinkPathsSync:c}=r(3838),{symlinkType:u,symlinkTypeSync:d}=r(7064),{pathExists:h}=r(9288),{areIdentical:p}=r(6462);e.exports={createSymlink:n((async function(e,t,r){let n;try{n=await o.lstat(t)}catch{}if(n&&n.isSymbolicLink()){const[r,n]=await Promise.all([o.stat(e),o.stat(t)]);if(p(r,n))return}const a=await l(e,t);e=a.toDst;const c=await u(a.toCwd,r),d=i.dirname(t);return await h(d)||await s(d),o.symlink(e,t,c)})),createSymlinkSync:function(e,t,r){let n;try{n=o.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const r=o.statSync(e),n=o.statSync(t);if(p(r,n))return}const s=c(e,t);e=s.toDst,r=d(s.toCwd,r);const l=i.dirname(t);return o.existsSync(l)||a(l),o.symlinkSync(e,t,r)}}},8737:(e,t,r)=>{"use strict";const n=r(1236).fromCallback,i=r(3735),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof i[e]));Object.assign(t,i),o.forEach((e=>{t[e]=n(i[e])})),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise((t=>i.exists(e,t)))},t.read=function(e,t,r,n,o,s){return"function"==typeof s?i.read(e,t,r,n,o,s):new Promise(((s,a)=>{i.read(e,t,r,n,o,((e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})}))}))},t.write=function(e,t,...r){return"function"==typeof r[r.length-1]?i.write(e,t,...r):new Promise(((n,o)=>{i.write(e,t,...r,((e,t,r)=>{if(e)return o(e);n({bytesWritten:t,buffer:r})}))}))},t.readv=function(e,t,...r){return"function"==typeof r[r.length-1]?i.readv(e,t,...r):new Promise(((n,o)=>{i.readv(e,t,...r,((e,t,r)=>{if(e)return o(e);n({bytesRead:t,buffers:r})}))}))},t.writev=function(e,t,...r){return"function"==typeof r[r.length-1]?i.writev(e,t,...r):new Promise(((n,o)=>{i.writev(e,t,...r,((e,t,r)=>{if(e)return o(e);n({bytesWritten:t,buffers:r})}))}))},"function"==typeof i.realpath.native?t.realpath.native=n(i.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},1605:(e,t,r)=>{"use strict";e.exports={...r(8737),...r(4423),...r(2591),...r(6288),...r(3376),...r(3798),...r(2455),...r(7024),...r(9288),...r(5422)}},3376:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(2934);i.outputJson=n(r(6426)),i.outputJsonSync=r(2188),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},2934:(e,t,r)=>{"use strict";const n=r(2909);e.exports={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync}},2188:(e,t,r)=>{"use strict";const{stringify:n}=r(1144),{outputFileSync:i}=r(7024);e.exports=function(e,t,r){const o=n(t,r);i(e,o,r)}},6426:(e,t,r)=>{"use strict";const{stringify:n}=r(1144),{outputFile:i}=r(7024);e.exports=async function(e,t,r={}){const o=n(t,r);await i(e,o,r)}},3798:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,{makeDir:i,makeDirSync:o}=r(4154),s=n(i);e.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},4154:(e,t,r)=>{"use strict";const n=r(8737),{checkPath:i}=r(7111),o=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(i(e),n.mkdir(e,{mode:o(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(i(e),n.mkdirSync(e,{mode:o(t),recursive:!0}))},7111:(e,t,r)=>{"use strict";const n=r(6928);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(n.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},2455:(e,t,r)=>{"use strict";const n=r(1236).fromPromise;e.exports={move:n(r(3314)),moveSync:r(6244)}},6244:(e,t,r)=>{"use strict";const n=r(3735),i=r(6928),o=r(4423).copySync,s=r(5422).removeSync,a=r(3798).mkdirpSync,l=r(6462);function c(e,t,r){try{n.renameSync(e,t)}catch(n){if("EXDEV"!==n.code)throw n;return function(e,t,r){return o(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),s(e)}(e,t,r)}}e.exports=function(e,t,r){const o=(r=r||{}).overwrite||r.clobber||!1,{srcStat:u,isChangingCase:d=!1}=l.checkPathsSync(e,t,"move",r);return l.checkParentPathsSync(e,u,t,"move"),function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)||a(i.dirname(t)),function(e,t,r,i){if(i)return c(e,t,r);if(r)return s(t),c(e,t,r);if(n.existsSync(t))throw new Error("dest already exists.");return c(e,t,r)}(e,t,o,d)}},3314:(e,t,r)=>{"use strict";const n=r(8737),i=r(6928),{copy:o}=r(4423),{remove:s}=r(5422),{mkdirp:a}=r(3798),{pathExists:l}=r(9288),c=r(6462);e.exports=async function(e,t,r={}){const u=r.overwrite||r.clobber||!1,{srcStat:d,isChangingCase:h=!1}=await c.checkPaths(e,t,"move",r);await c.checkParentPaths(e,d,t,"move");const p=i.dirname(t);return i.parse(p).root!==p&&await a(p),async function(e,t,r,i){if(!i)if(r)await s(t);else if(await l(t))throw new Error("dest already exists.");try{await n.rename(e,t)}catch(n){if("EXDEV"!==n.code)throw n;await async function(e,t,r){const n={overwrite:r,errorOnExist:!0,preserveTimestamps:!0};return await o(e,t,n),s(e)}(e,t,r)}}(e,t,u,h)}},7024:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(8737),o=r(6928),s=r(3798),a=r(9288).pathExists;e.exports={outputFile:n((async function(e,t,r="utf-8"){const n=o.dirname(e);return await a(n)||await s.mkdirs(n),i.writeFile(e,t,r)})),outputFileSync:function(e,...t){const r=o.dirname(e);i.existsSync(r)||s.mkdirsSync(r),i.writeFileSync(e,...t)}}},9288:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(8737);e.exports={pathExists:n((function(e){return i.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:i.existsSync}},5422:(e,t,r)=>{"use strict";const n=r(3735),i=r(1236).fromCallback;e.exports={remove:i((function(e,t){n.rm(e,{recursive:!0,force:!0},t)})),removeSync:function(e){n.rmSync(e,{recursive:!0,force:!0})}}},6462:(e,t,r)=>{"use strict";const n=r(8737),i=r(6928),o=r(1236).fromPromise;function s(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function a(e,t){const r=i.resolve(e).split(i.sep).filter((e=>e)),n=i.resolve(t).split(i.sep).filter((e=>e));return r.every(((e,t)=>n[t]===e))}function l(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:o((async function(e,t,r,o){const{srcStat:c,destStat:u}=await function(e,t,r){const i=r.dereference?e=>n.stat(e,{bigint:!0}):e=>n.lstat(e,{bigint:!0});return Promise.all([i(e),i(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}(e,t,o);if(u){if(s(c,u)){const n=i.basename(e),o=i.basename(t);if("move"===r&&n!==o&&n.toLowerCase()===o.toLowerCase())return{srcStat:c,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(c.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!c.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(c.isDirectory()&&a(e,t))throw new Error(l(e,t,r));return{srcStat:c,destStat:u}})),checkPathsSync:function(e,t,r,o){const{srcStat:c,destStat:u}=function(e,t,r){let i;const o=r.dereference?e=>n.statSync(e,{bigint:!0}):e=>n.lstatSync(e,{bigint:!0}),s=o(e);try{i=o(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:i}}(e,t,o);if(u){if(s(c,u)){const n=i.basename(e),o=i.basename(t);if("move"===r&&n!==o&&n.toLowerCase()===o.toLowerCase())return{srcStat:c,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(c.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!c.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(c.isDirectory()&&a(e,t))throw new Error(l(e,t,r));return{srcStat:c,destStat:u}},checkParentPaths:o((async function e(t,r,o,a){const c=i.resolve(i.dirname(t)),u=i.resolve(i.dirname(o));if(u===c||u===i.parse(u).root)return;let d;try{d=await n.stat(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(s(r,d))throw new Error(l(t,o,a));return e(t,r,u,a)})),checkParentPathsSync:function e(t,r,o,a){const c=i.resolve(i.dirname(t)),u=i.resolve(i.dirname(o));if(u===c||u===i.parse(u).root)return;let d;try{d=n.statSync(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(s(r,d))throw new Error(l(t,o,a));return e(t,r,u,a)},isSrcSubdir:a,areIdentical:s}},7211:(e,t,r)=>{"use strict";const n=r(8737),i=r(1236).fromPromise;e.exports={utimesMillis:i((async function(e,t,r){const i=await n.open(e,"r+");let o=null;try{await n.futimes(i,t,r)}finally{try{await n.close(i)}catch(e){o=e}}if(o)throw o})),utimesMillisSync:function(e,t,r){const i=n.openSync(e,"r+");return n.futimesSync(i,t,r),n.closeSync(i)}}},7945:(e,t,r)=>{"use strict";const n=r(9278);class i extends Error{constructor(e){super(`${e} is locked`)}}const o={old:new Set,young:new Set};let s;const a=e=>new Promise(((t,r)=>{const i=n.createServer();i.unref(),i.on("error",r),i.listen(e,(()=>{const{port:e}=i.address();i.close((()=>{t(e)}))}))}));e.exports=async e=>{let t;e&&(t="number"==typeof e.port?[e.port]:e.port),void 0===s&&(s=setInterval((()=>{o.old=o.young,o.young=new Set}),15e3),s.unref&&s.unref());for(const r of function*(e){e&&(yield*e),yield 0}(t))try{let t=await a({...e,port:r});for(;o.old.has(t)||o.young.has(t);){if(0!==r)throw new i(r);t=await a({...e,port:r})}return o.young.add(t),t}catch(e){if(!(["EADDRINUSE","EACCES"].includes(e.code)||e instanceof i))throw e}throw new Error("No available ports found")},e.exports.makeRange=(e,t)=>{if(!Number.isInteger(e)||!Number.isInteger(t))throw new TypeError("`from` and `to` must be integer numbers");if(e<1024||e>65535)throw new RangeError("`from` must be between 1024 and 65535");if(t<1024||t>65536)throw new RangeError("`to` must be between 1024 and 65536");if(t<e)throw new RangeError("`to` must be greater than or equal to `from`");return function*(e,t){for(let r=e;r<=t;r++)yield r}(e,t)}},5339:function(e,t){var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function i(){i=function(){},n.Symbol||(n.Symbol=a)}function o(e,t){this.a=e,r(this,"description",{configurable:!0,writable:!0,value:t})}o.prototype.toString=function(){return this.a};var s,a=(s=0,function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new o("jscomp_symbol_"+(t||"")+"_"+s++,t)});function l(){i();var e=n.Symbol.iterator;e||(e=n.Symbol.iterator=n.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[e]&&r(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return function(e){return l(),(e={next:e})[n.Symbol.iterator]=function(){return this},e}(function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}(this))}}),l=function(){}}!function(e,t){if(t){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];s in i||(i[s]={}),i=i[s]}(t=t(o=i[e=e[e.length-1]]))!=o&&null!=t&&r(i,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.entries",(function(e){return e||function(){return function(e,t){l(),e instanceof String&&(e+="");var r=0,n={next:function(){if(r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n}(this,(function(e,t){return[e,t]}))}}));var c=this||self;function u(e,t,r){e=e.split("."),r=r||c,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),f=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t,void 0)}:function(e,t){for(var r=e.length,n="string"==typeof e?e.split(""):e,i=0;i<r;i++)i in n&&t.call(void 0,n[i],i,e)},g=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var r=e.length,n=Array(r),i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&(n[o]=t.call(void 0,i[o],o,e));return n};function m(e,t,r){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)}function v(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var o=n}else e&&(i+=": "+e,o=t);throw Error(i,o||[])}function y(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];return e||v("",null,t,n),e}function C(e,t){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];throw Error("Failure"+(e?": "+e:""),r)}function S(e,t,r,n){for(var i=[],o=3;o<arguments.length;++o)i[o-3]=arguments[o];e instanceof t||v("Expected instanceof %s but got %s.",[T(t),T(e)],r,i)}function T(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e}function b(e,t){if(this.c=e,this.b=t,this.a={},this.arrClean=!0,0<this.c.length){for(e=0;e<this.c.length;e++){var r=(t=this.c[e])[0];this.a[r.toString()]=new E(r,t[1])}this.arrClean=!0}}function _(e){this.a=0,this.b=e}function w(e,t){return e.b?(t.a||(t.a=new e.b(t.value)),t.a):t.value}function R(e){e=e.a;var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}function E(e,t){this.key=e,this.value=t,this.a=void 0}function P(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192)t+=String.fromCharCode.apply(null,m(e,r,r+8192));return t}u("jspb.Map",b,void 0),b.prototype.g=function(){if(this.arrClean){if(this.b){var e,t=this.a;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].a;r&&r.g()}}}else{for(this.c.length=0,(t=R(this)).sort(),e=0;e<t.length;e++){var n=this.a[t[e]];(r=n.a)&&r.g(),this.c.push([n.key,n.value])}this.arrClean=!0}return this.c},b.prototype.toArray=b.prototype.g,b.prototype.Mc=function(e,t){for(var r=this.g(),n=[],i=0;i<r.length;i++){var o=this.a[r[i][0].toString()];w(this,o);var s=o.a;s?(y(t),n.push([o.key,t(e,s)])):n.push([o.key,o.value])}return n},b.prototype.toObject=b.prototype.Mc,b.fromObject=function(e,t,r){t=new b([],t);for(var n=0;n<e.length;n++){var i=e[n][0],o=r(e[n][1]);t.set(i,o)}return t},_.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(_.prototype[Symbol.iterator]=function(){return this}),b.prototype.Jb=function(){return R(this).length},b.prototype.getLength=b.prototype.Jb,b.prototype.clear=function(){this.a={},this.arrClean=!1},b.prototype.clear=b.prototype.clear,b.prototype.Cb=function(e){e=e.toString();var t=this.a.hasOwnProperty(e);return delete this.a[e],this.arrClean=!1,t},b.prototype.del=b.prototype.Cb,b.prototype.Eb=function(){var e=[],t=R(this);t.sort();for(var r=0;r<t.length;r++){var n=this.a[t[r]];e.push([n.key,n.value])}return e},b.prototype.getEntryList=b.prototype.Eb,b.prototype.entries=function(){var e=[],t=R(this);t.sort();for(var r=0;r<t.length;r++){var n=this.a[t[r]];e.push([n.key,w(this,n)])}return new _(e)},b.prototype.entries=b.prototype.entries,b.prototype.keys=function(){var e=[],t=R(this);t.sort();for(var r=0;r<t.length;r++)e.push(this.a[t[r]].key);return new _(e)},b.prototype.keys=b.prototype.keys,b.prototype.values=function(){var e=[],t=R(this);t.sort();for(var r=0;r<t.length;r++)e.push(w(this,this.a[t[r]]));return new _(e)},b.prototype.values=b.prototype.values,b.prototype.forEach=function(e,t){var r=R(this);r.sort();for(var n=0;n<r.length;n++){var i=this.a[r[n]];e.call(t,w(this,i),i.key,this)}},b.prototype.forEach=b.prototype.forEach,b.prototype.set=function(e,t){var r=new E(e);return this.b?(r.a=t,r.value=t.g()):r.value=t,this.a[e.toString()]=r,this.arrClean=!1,this},b.prototype.set=b.prototype.set,b.prototype.get=function(e){if(e=this.a[e.toString()])return w(this,e)},b.prototype.get=b.prototype.get,b.prototype.has=function(e){return e.toString()in this.a},b.prototype.has=b.prototype.has,b.prototype.Jc=function(e,t,r,n,i){var o=R(this);o.sort();for(var s=0;s<o.length;s++){var a=this.a[o[s]];t.Va(e),r.call(t,1,a.key),this.b?n.call(t,2,w(this,a),i):n.call(t,2,a.value),t.Ya()}},b.prototype.serializeBinary=b.prototype.Jc,b.deserializeBinary=function(e,t,r,n,i,o,s){for(;t.oa()&&!t.bb();){var a=t.c;1==a?o=r.call(t):2==a&&(e.b?(y(i),s||(s=new e.b),n.call(t,s,i)):s=n.call(t))}y(null!=o),y(null!=s),e.set(o,s)};var k={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},D={"'":"\\'"},O={},I=null;function M(e,t){void 0===t&&(t=0),x(),t=O[t];for(var r=[],n=0;n<e.length;n+=3){var i=e[n],o=n+1<e.length,s=o?e[n+1]:0,a=n+2<e.length,l=a?e[n+2]:0,c=i>>2;i=(3&i)<<4|s>>4,s=(15&s)<<2|l>>6,l&=63,a||(l=64,o||(s=64)),r.push(t[c],t[i],t[s]||"",t[l]||"")}return r.join("")}function A(e){var t=e.length,r=3*t/4;r%3?r=Math.floor(r):-1!="=.".indexOf(e[t-1])&&(r=-1!="=.".indexOf(e[t-2])?r-2:r-1);var n=new Uint8Array(r),i=0;return function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),i=I[r];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return t}x();for(var n=0;;){var i=r(-1),o=r(0),s=r(64),a=r(64);if(64===a&&-1===i)break;t(i<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(e,(function(e){n[i++]=e})),n.subarray(0,i)}function x(){if(!I){I={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));O[r]=n;for(var i=0;i<n.length;i++){var o=n[i];void 0===I[o]&&(I[o]=i)}}}}u("jspb.ConstBinaryMessage",(function(){}),void 0),u("jspb.BinaryMessage",(function(){}),void 0),u("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),u("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),u("jspb.BinaryConstants.FieldTypeToWireType",(function(e){switch(e){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}}),void 0),u("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),u("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),u("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),u("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),u("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),u("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),u("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),u("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),u("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),u("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),u("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),u("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),u("jspb.BinaryConstants.TWO_TO_63",0x8000000000000000,void 0),u("jspb.BinaryConstants.TWO_TO_64",0x10000000000000000,void 0),u("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var N=0,j=0;function F(e){var t=e>>>0;e=Math.floor((e-t)/4294967296)>>>0,N=t,j=e}function L(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/4294967296),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),N=r,j=e}function B(e){var t=0>e;F(e=2*Math.abs(e)),e=N;var r=j;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),N=e,j=r}function G(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?N=j=0:(j=0,N=2147483648);else if(isNaN(e))j=0,N=2147483647;else if(34028234663852886e22<e)j=0,N=(t<<31|2139095040)>>>0;else if(11754943508222875e-54>e)e=Math.round(e/Math.pow(2,-149)),j=0,N=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),16777216<=(e=Math.round(8388608*e))&&++r,j=0,N=(t<<31|r+127<<23|8388607&e)>>>0}}function q(e){var t=0>e?1:0;if(0===(e=t?-e:e))j=0<1/e?0:2147483648,N=0;else if(isNaN(e))j=2147483647,N=4294967295;else if(17976931348623157e292<e)j=(t<<31|2146435072)>>>0,N=0;else if(22250738585072014e-324>e)e/=Math.pow(2,-1074),j=(t<<31|e/4294967296)>>>0,N=e>>>0;else{var r=e,n=0;if(2<=r)for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;e*=Math.pow(2,-n),j=(t<<31|n+1023<<20|1048576*e&1048575)>>>0,N=4503599627370496*e>>>0}}function U(e){var t=e.charCodeAt(4),r=e.charCodeAt(5),n=e.charCodeAt(6),i=e.charCodeAt(7);N=e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)>>>0,j=t+(r<<8)+(n<<16)+(i<<24)>>>0}function z(e,t){return 4294967296*t+(e>>>0)}function W(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=z(e,t),r?-e:e}function H(e,t,r){var n=t>>31;return r(e<<1^n,(t<<1|e>>>31)^n)}function $(e,t){return K(e,t,W)}function K(e,t,r){var n=-(1&e);return r((e>>>1|t<<31)^n,t>>>1^n)}function V(e){var t=2*(e>>31)+1,r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))}function J(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=4294967296*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?r*Math.pow(2,-1074)*e:r*Math.pow(2,n-1075)*(e+4503599627370496)}function X(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)}function Y(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+z(e,t);var n=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*n+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),r(t,0)+r(n,t)+r(e,1)}function Z(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=Y(e,t),r?"-"+e:e}function Q(e,t){U(e),e=N;var r=j;return t?Z(e,r):Y(e,r)}function ee(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}y(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-48);return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),P(n)}function te(e){return String.fromCharCode(10>e?48+e:87+e)}function re(e){return 97<=e?e-97+10:e-48}function ne(e,t,r,n,i){var o=0;if(128>n)for(;t<r&&e[t++]==n;)o++,t+=i;else for(;t<r;){for(var s=n;128<s;){if(e[t++]!=(127&s|128))return o;s>>=7}if(e[t++]!=s)break;o++,t+=i}return o}function ie(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?A(e):e instanceof Uint8Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):(C("Type not convertible to Uint8Array."),new Uint8Array(0))}function oe(e,t,r){this.b=null,this.a=this.c=this.h=0,this.v=!1,e&&this.H(e,t,r)}u("jspb.utils.getSplit64Low",(function(){return N}),void 0),u("jspb.utils.getSplit64High",(function(){return j}),void 0),u("jspb.utils.splitUint64",F,void 0),u("jspb.utils.splitInt64",L,void 0),u("jspb.utils.splitZigzag64",B,void 0),u("jspb.utils.splitFloat32",G,void 0),u("jspb.utils.splitFloat64",q,void 0),u("jspb.utils.splitHash64",U,void 0),u("jspb.utils.joinUint64",z,void 0),u("jspb.utils.joinInt64",W,void 0),u("jspb.utils.toZigzag64",H,void 0),u("jspb.utils.joinZigzag64",$,void 0),u("jspb.utils.fromZigzag64",K,void 0),u("jspb.utils.joinFloat32",V,void 0),u("jspb.utils.joinFloat64",J,void 0),u("jspb.utils.joinHash64",X,void 0),u("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0),u("jspb.utils.joinUnsignedDecimalString",Y,void 0),u("jspb.utils.joinSignedDecimalString",Z,void 0),u("jspb.utils.hash64ToDecimalString",Q,void 0),u("jspb.utils.hash64ArrayToDecimalStrings",(function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=Q(e[n],t);return r}),void 0),u("jspb.utils.decimalStringToHash64",ee,void 0),u("jspb.utils.splitDecimalString",(function(e){U(ee(e))}),void 0),u("jspb.utils.hash64ToHexString",(function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=te(n>>4),t[2*r+3]=te(15&n)}return t.join("")}),void 0),u("jspb.utils.hexStringToHash64",(function(e){y(18==(e=e.toLowerCase()).length),y("0"==e[0]),y("x"==e[1]);for(var t="",r=0;8>r;r++)t=String.fromCharCode(16*re(e.charCodeAt(2*r+2))+re(e.charCodeAt(2*r+3)))+t;return t}),void 0),u("jspb.utils.hash64ToNumber",(function(e,t){U(e),e=N;var r=j;return t?W(e,r):z(e,r)}),void 0),u("jspb.utils.numberToHash64",(function(e){return L(e),X(N,j)}),void 0),u("jspb.utils.countVarints",(function(e,t,r){for(var n=0,i=t;i<r;i++)n+=e[i]>>7;return r-t-n}),void 0),u("jspb.utils.countVarintFields",(function(e,t,r,n){var i=0;if(128>(n*=8))for(;t<r&&e[t++]==n;)for(i++;;){var o=e[t++];if(!(128&o))break}else for(;t<r;){for(o=n;128<o;){if(e[t]!=(127&o|128))return i;t++,o>>=7}if(e[t++]!=o)break;for(i++;128&(o=e[t++]););}return i}),void 0),u("jspb.utils.countFixed32Fields",(function(e,t,r,n){return ne(e,t,r,8*n+5,4)}),void 0),u("jspb.utils.countFixed64Fields",(function(e,t,r,n){return ne(e,t,r,8*n+1,8)}),void 0),u("jspb.utils.countDelimitedFields",(function(e,t,r,n){var i=0;for(n=8*n+2;t<r;){for(var o=n;128<o;){if(e[t++]!=(127&o|128))return i;o>>=7}if(e[t++]!=o)break;i++;for(var s=0,a=1;s+=(127&(o=e[t++]))*a,a*=128,128&o;);t+=s}return i}),void 0),u("jspb.utils.debugBytesToTextFormat",(function(e){var t='"';if(e){e=ie(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'}),void 0),u("jspb.utils.debugScalarToTextFormat",(function(e){if("string"==typeof e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n,i=e.charAt(r),o=i.charCodeAt(0),s=r+1;(n=k[i])||(31<o&&127>o||((o=i)in D?i=D[o]:o in k?i=D[o]=k[o]:(31<(n=o.charCodeAt(0))&&127>n?i=o:(256>n?(i="\\x",(16>n||256<n)&&(i+="0")):(i="\\u",4096>n&&(i+="0")),i+=n.toString(16).toUpperCase()),i=D[o]=i)),n=i),t[s]=n}t.push('"'),e=t.join("")}else e=e.toString();return e}),void 0),u("jspb.utils.stringToByteArray",(function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t}),void 0),u("jspb.utils.byteSourceToUint8Array",ie,void 0),u("jspb.BinaryDecoder",oe,void 0);var se=[];function ae(e,t,r){if(se.length){var n=se.pop();return e&&n.H(e,t,r),n}return new oe(e,t,r)}function le(e,t,r){this.a=ae(e,t,r),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}oe.getInstanceCacheLength=function(){return se.length},oe.alloc=ae,oe.prototype.Ca=function(){this.clear(),100>se.length&&se.push(this)},oe.prototype.free=oe.prototype.Ca,oe.prototype.clone=function(){return ae(this.b,this.h,this.c-this.h)},oe.prototype.clone=oe.prototype.clone,oe.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},oe.prototype.clear=oe.prototype.clear,oe.prototype.Y=function(){return this.b},oe.prototype.getBuffer=oe.prototype.Y,oe.prototype.H=function(e,t,r){this.b=ie(e),this.h=void 0!==t?t:0,this.c=void 0!==r?this.h+r:this.b.length,this.a=this.h},oe.prototype.setBlock=oe.prototype.H,oe.prototype.Db=function(){return this.c},oe.prototype.getEnd=oe.prototype.Db,oe.prototype.setEnd=function(e){this.c=e},oe.prototype.setEnd=oe.prototype.setEnd,oe.prototype.reset=function(){this.a=this.h},oe.prototype.reset=oe.prototype.reset,oe.prototype.B=function(){return this.a},oe.prototype.getCursor=oe.prototype.B,oe.prototype.Ma=function(e){this.a=e},oe.prototype.setCursor=oe.prototype.Ma,oe.prototype.advance=function(e){this.a+=e,y(this.a<=this.c)},oe.prototype.advance=oe.prototype.advance,oe.prototype.ya=function(){return this.a==this.c},oe.prototype.atEnd=oe.prototype.ya,oe.prototype.Qb=function(){return this.a>this.c},oe.prototype.pastEnd=oe.prototype.Qb,oe.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},oe.prototype.getError=oe.prototype.getError,oe.prototype.w=function(e){for(var t=128,r=0,n=0,i=0;4>i&&128<=t;i++)r|=(127&(t=this.b[this.a++]))<<7*i;if(128<=t&&(r|=(127&(t=this.b[this.a++]))<<28,n|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)n|=(127&(t=this.b[this.a++]))<<7*i+3;if(128>t)return e(r>>>0,n>>>0);C("Failed to read varint, encoding is invalid."),this.v=!0},oe.prototype.readSplitVarint64=oe.prototype.w,oe.prototype.ea=function(e){return this.w((function(t,r){return K(t,r,e)}))},oe.prototype.readSplitZigzagVarint64=oe.prototype.ea,oe.prototype.ta=function(e){var t=this.b,r=this.a;this.a+=8;for(var n=0,i=0,o=r+7;o>=r;o--)n=n<<8|t[o],i=i<<8|t[o+4];return e(n,i)},oe.prototype.readSplitFixed64=oe.prototype.ta,oe.prototype.kb=function(){for(;128&this.b[this.a];)this.a++;this.a++},oe.prototype.skipVarint=oe.prototype.kb,oe.prototype.mb=function(e){for(;128<e;)this.a--,e>>>=7;this.a--},oe.prototype.unskipVarint=oe.prototype.mb,oe.prototype.o=function(){var e=this.b,t=e[this.a],r=127&t;return 128>t?(this.a+=1,y(this.a<=this.c),r):(r|=(127&(t=e[this.a+1]))<<7,128>t?(this.a+=2,y(this.a<=this.c),r):(r|=(127&(t=e[this.a+2]))<<14,128>t?(this.a+=3,y(this.a<=this.c),r):(r|=(127&(t=e[this.a+3]))<<21,128>t?(this.a+=4,y(this.a<=this.c),r):(r|=(15&(t=e[this.a+4]))<<28,128>t?(this.a+=5,y(this.a<=this.c),r>>>0):(this.a+=5,128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&y(!1),y(this.a<=this.c),r)))))},oe.prototype.readUnsignedVarint32=oe.prototype.o,oe.prototype.da=function(){return~~this.o()},oe.prototype.readSignedVarint32=oe.prototype.da,oe.prototype.O=function(){return this.o().toString()},oe.prototype.Ea=function(){return this.da().toString()},oe.prototype.readSignedVarint32String=oe.prototype.Ea,oe.prototype.Ia=function(){var e=this.o();return e>>>1^-(1&e)},oe.prototype.readZigzagVarint32=oe.prototype.Ia,oe.prototype.Ga=function(){return this.w(z)},oe.prototype.readUnsignedVarint64=oe.prototype.Ga,oe.prototype.Ha=function(){return this.w(Y)},oe.prototype.readUnsignedVarint64String=oe.prototype.Ha,oe.prototype.sa=function(){return this.w(W)},oe.prototype.readSignedVarint64=oe.prototype.sa,oe.prototype.Fa=function(){return this.w(Z)},oe.prototype.readSignedVarint64String=oe.prototype.Fa,oe.prototype.Ja=function(){return this.w($)},oe.prototype.readZigzagVarint64=oe.prototype.Ja,oe.prototype.fb=function(){return this.ea(X)},oe.prototype.readZigzagVarintHash64=oe.prototype.fb,oe.prototype.Ka=function(){return this.ea(Z)},oe.prototype.readZigzagVarint64String=oe.prototype.Ka,oe.prototype.Gc=function(){var e=this.b[this.a];return this.a+=1,y(this.a<=this.c),e},oe.prototype.readUint8=oe.prototype.Gc,oe.prototype.Ec=function(){var e=this.b[this.a],t=this.b[this.a+1];return this.a+=2,y(this.a<=this.c),e|t<<8},oe.prototype.readUint16=oe.prototype.Ec,oe.prototype.m=function(){var e=this.b[this.a],t=this.b[this.a+1],r=this.b[this.a+2],n=this.b[this.a+3];return this.a+=4,y(this.a<=this.c),(e|t<<8|r<<16|n<<24)>>>0},oe.prototype.readUint32=oe.prototype.m,oe.prototype.ga=function(){return z(this.m(),this.m())},oe.prototype.readUint64=oe.prototype.ga,oe.prototype.ha=function(){return Y(this.m(),this.m())},oe.prototype.readUint64String=oe.prototype.ha,oe.prototype.Xb=function(){var e=this.b[this.a];return this.a+=1,y(this.a<=this.c),e<<24>>24},oe.prototype.readInt8=oe.prototype.Xb,oe.prototype.Vb=function(){var e=this.b[this.a],t=this.b[this.a+1];return this.a+=2,y(this.a<=this.c),(e|t<<8)<<16>>16},oe.prototype.readInt16=oe.prototype.Vb,oe.prototype.P=function(){var e=this.b[this.a],t=this.b[this.a+1],r=this.b[this.a+2],n=this.b[this.a+3];return this.a+=4,y(this.a<=this.c),e|t<<8|r<<16|n<<24},oe.prototype.readInt32=oe.prototype.P,oe.prototype.ba=function(){return W(this.m(),this.m())},oe.prototype.readInt64=oe.prototype.ba,oe.prototype.ca=function(){return Z(this.m(),this.m())},oe.prototype.readInt64String=oe.prototype.ca,oe.prototype.aa=function(){return V(this.m())},oe.prototype.readFloat=oe.prototype.aa,oe.prototype.Z=function(){return J(this.m(),this.m())},oe.prototype.readDouble=oe.prototype.Z,oe.prototype.pa=function(){return!!this.b[this.a++]},oe.prototype.readBool=oe.prototype.pa,oe.prototype.ra=function(){return this.da()},oe.prototype.readEnum=oe.prototype.ra,oe.prototype.fa=function(e){var t=this.b,r=this.a;e=r+e;for(var n=[],i="";r<e;){var o=t[r++];if(128>o)n.push(o);else{if(192>o)continue;if(224>o){var s=t[r++];n.push((31&o)<<6|63&s)}else if(240>o){s=t[r++];var a=t[r++];n.push((15&o)<<12|(63&s)<<6|63&a)}else 248>o&&(o=(7&o)<<18|(63&(s=t[r++]))<<12|(63&(a=t[r++]))<<6|63&t[r++],o-=65536,n.push(55296+(o>>10&1023),56320+(1023&o)))}8192<=n.length&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i+=P(n),this.a=r,i},oe.prototype.readString=oe.prototype.fa,oe.prototype.Dc=function(){var e=this.o();return this.fa(e)},oe.prototype.readStringWithLength=oe.prototype.Dc,oe.prototype.qa=function(e){if(0>e||this.a+e>this.b.length)return this.v=!0,C("Invalid byte length!"),new Uint8Array(0);var t=this.b.subarray(this.a,this.a+e);return this.a+=e,y(this.a<=this.c),t},oe.prototype.readBytes=oe.prototype.qa,oe.prototype.ia=function(){return this.w(X)},oe.prototype.readVarintHash64=oe.prototype.ia,oe.prototype.$=function(){var e=this.b,t=this.a,r=e[t],n=e[t+1],i=e[t+2],o=e[t+3],s=e[t+4],a=e[t+5],l=e[t+6];return e=e[t+7],this.a+=8,String.fromCharCode(r,n,i,o,s,a,l,e)},oe.prototype.readFixedHash64=oe.prototype.$,u("jspb.BinaryReader",le,void 0);var ce=[];function ue(e,t,r){if(ce.length){var n=ce.pop();return e&&n.a.H(e,t,r),n}return new le(e,t,r)}function de(e,t){y(2==e.b);var r=e.a.o();r=e.a.B()+r;for(var n=[];e.a.B()<r;)n.push(t.call(e.a));return n}function he(e,t,r,n,i){this.ma=e,this.Ba=t,this.la=r,this.Na=n,this.na=i}function pe(e,t,r,n,i,o){this.Za=e,this.za=t,this.Aa=r,this.Wa=n,this.Ab=i,this.Nb=o}function fe(){}le.clearInstanceCache=function(){ce=[]},le.getInstanceCacheLength=function(){return ce.length},le.alloc=ue,le.prototype.zb=ue,le.prototype.alloc=le.prototype.zb,le.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>ce.length&&ce.push(this)},le.prototype.free=le.prototype.Ca,le.prototype.Fb=function(){return this.O},le.prototype.getFieldCursor=le.prototype.Fb,le.prototype.B=function(){return this.a.B()},le.prototype.getCursor=le.prototype.B,le.prototype.Y=function(){return this.a.Y()},le.prototype.getBuffer=le.prototype.Y,le.prototype.Hb=function(){return this.c},le.prototype.getFieldNumber=le.prototype.Hb,le.prototype.Lb=function(){return this.b},le.prototype.getWireType=le.prototype.Lb,le.prototype.Mb=function(){return 2==this.b},le.prototype.isDelimited=le.prototype.Mb,le.prototype.bb=function(){return 4==this.b},le.prototype.isEndGroup=le.prototype.bb,le.prototype.getError=function(){return this.h||this.a.getError()},le.prototype.getError=le.prototype.getError,le.prototype.H=function(e,t,r){this.a.H(e,t,r),this.b=this.c=-1},le.prototype.setBlock=le.prototype.H,le.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},le.prototype.reset=le.prototype.reset,le.prototype.advance=function(e){this.a.advance(e)},le.prototype.advance=le.prototype.advance,le.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return C("Decoder hit an error"),!1;this.O=this.a.B();var e=this.a.o(),t=e>>>3;return 0!=(e&=7)&&5!=e&&1!=e&&2!=e&&3!=e&&4!=e?(C("Invalid wire type: %s (at position %s)",e,this.O),this.h=!0,!1):(this.c=t,this.b=e,!0)},le.prototype.nextField=le.prototype.oa,le.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},le.prototype.unskipHeader=le.prototype.Oa,le.prototype.Lc=function(){var e=this.c;for(this.Oa();this.oa()&&this.c==e;)this.C();this.a.ya()||this.Oa()},le.prototype.skipMatchingFields=le.prototype.Lc,le.prototype.lb=function(){0!=this.b?(C("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},le.prototype.skipVarintField=le.prototype.lb,le.prototype.gb=function(){if(2!=this.b)C("Invalid wire type for skipDelimitedField"),this.C();else{var e=this.a.o();this.a.advance(e)}},le.prototype.skipDelimitedField=le.prototype.gb,le.prototype.hb=function(){5!=this.b?(C("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},le.prototype.skipFixed32Field=le.prototype.hb,le.prototype.ib=function(){1!=this.b?(C("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},le.prototype.skipFixed64Field=le.prototype.ib,le.prototype.jb=function(){for(var e=this.c;;){if(!this.oa()){C("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(4==this.b){this.c!=e&&(C("Unmatched end-group tag"),this.h=!0);break}this.C()}},le.prototype.skipGroup=le.prototype.jb,le.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:C("Invalid wire encoding for field.")}},le.prototype.skipField=le.prototype.C,le.prototype.Hc=function(e,t){null===this.v&&(this.v={}),y(!this.v[e]),this.v[e]=t},le.prototype.registerReadCallback=le.prototype.Hc,le.prototype.Ic=function(e){return y(null!==this.v),y(e=this.v[e]),e(this)},le.prototype.runReadCallback=le.prototype.Ic,le.prototype.Yb=function(e,t){y(2==this.b);var r=this.a.c,n=this.a.o();n=this.a.B()+n,this.a.setEnd(n),t(e,this),this.a.Ma(n),this.a.setEnd(r)},le.prototype.readMessage=le.prototype.Yb,le.prototype.Ub=function(e,t,r){y(3==this.b),y(this.c==e),r(t,this),this.h||4==this.b||(C("Group submessage did not end with an END_GROUP tag"),this.h=!0)},le.prototype.readGroup=le.prototype.Ub,le.prototype.Gb=function(){y(2==this.b);var e=this.a.o(),t=this.a.B(),r=t+e;return e=ae(this.a.Y(),t,e),this.a.Ma(r),e},le.prototype.getFieldDecoder=le.prototype.Gb,le.prototype.P=function(){return y(0==this.b),this.a.da()},le.prototype.readInt32=le.prototype.P,le.prototype.Wb=function(){return y(0==this.b),this.a.Ea()},le.prototype.readInt32String=le.prototype.Wb,le.prototype.ba=function(){return y(0==this.b),this.a.sa()},le.prototype.readInt64=le.prototype.ba,le.prototype.ca=function(){return y(0==this.b),this.a.Fa()},le.prototype.readInt64String=le.prototype.ca,le.prototype.m=function(){return y(0==this.b),this.a.o()},le.prototype.readUint32=le.prototype.m,le.prototype.Fc=function(){return y(0==this.b),this.a.O()},le.prototype.readUint32String=le.prototype.Fc,le.prototype.ga=function(){return y(0==this.b),this.a.Ga()},le.prototype.readUint64=le.prototype.ga,le.prototype.ha=function(){return y(0==this.b),this.a.Ha()},le.prototype.readUint64String=le.prototype.ha,le.prototype.zc=function(){return y(0==this.b),this.a.Ia()},le.prototype.readSint32=le.prototype.zc,le.prototype.Ac=function(){return y(0==this.b),this.a.Ja()},le.prototype.readSint64=le.prototype.Ac,le.prototype.Bc=function(){return y(0==this.b),this.a.Ka()},le.prototype.readSint64String=le.prototype.Bc,le.prototype.Rb=function(){return y(5==this.b),this.a.m()},le.prototype.readFixed32=le.prototype.Rb,le.prototype.Sb=function(){return y(1==this.b),this.a.ga()},le.prototype.readFixed64=le.prototype.Sb,le.prototype.Tb=function(){return y(1==this.b),this.a.ha()},le.prototype.readFixed64String=le.prototype.Tb,le.prototype.vc=function(){return y(5==this.b),this.a.P()},le.prototype.readSfixed32=le.prototype.vc,le.prototype.wc=function(){return y(5==this.b),this.a.P().toString()},le.prototype.readSfixed32String=le.prototype.wc,le.prototype.xc=function(){return y(1==this.b),this.a.ba()},le.prototype.readSfixed64=le.prototype.xc,le.prototype.yc=function(){return y(1==this.b),this.a.ca()},le.prototype.readSfixed64String=le.prototype.yc,le.prototype.aa=function(){return y(5==this.b),this.a.aa()},le.prototype.readFloat=le.prototype.aa,le.prototype.Z=function(){return y(1==this.b),this.a.Z()},le.prototype.readDouble=le.prototype.Z,le.prototype.pa=function(){return y(0==this.b),!!this.a.o()},le.prototype.readBool=le.prototype.pa,le.prototype.ra=function(){return y(0==this.b),this.a.sa()},le.prototype.readEnum=le.prototype.ra,le.prototype.fa=function(){y(2==this.b);var e=this.a.o();return this.a.fa(e)},le.prototype.readString=le.prototype.fa,le.prototype.qa=function(){y(2==this.b);var e=this.a.o();return this.a.qa(e)},le.prototype.readBytes=le.prototype.qa,le.prototype.ia=function(){return y(0==this.b),this.a.ia()},le.prototype.readVarintHash64=le.prototype.ia,le.prototype.Cc=function(){return y(0==this.b),this.a.fb()},le.prototype.readSintHash64=le.prototype.Cc,le.prototype.w=function(e){return y(0==this.b),this.a.w(e)},le.prototype.readSplitVarint64=le.prototype.w,le.prototype.ea=function(e){return y(0==this.b),this.a.w((function(t,r){return K(t,r,e)}))},le.prototype.readSplitZigzagVarint64=le.prototype.ea,le.prototype.$=function(){return y(1==this.b),this.a.$()},le.prototype.readFixedHash64=le.prototype.$,le.prototype.ta=function(e){return y(1==this.b),this.a.ta(e)},le.prototype.readSplitFixed64=le.prototype.ta,le.prototype.gc=function(){return de(this,this.a.da)},le.prototype.readPackedInt32=le.prototype.gc,le.prototype.hc=function(){return de(this,this.a.Ea)},le.prototype.readPackedInt32String=le.prototype.hc,le.prototype.ic=function(){return de(this,this.a.sa)},le.prototype.readPackedInt64=le.prototype.ic,le.prototype.jc=function(){return de(this,this.a.Fa)},le.prototype.readPackedInt64String=le.prototype.jc,le.prototype.qc=function(){return de(this,this.a.o)},le.prototype.readPackedUint32=le.prototype.qc,le.prototype.rc=function(){return de(this,this.a.O)},le.prototype.readPackedUint32String=le.prototype.rc,le.prototype.sc=function(){return de(this,this.a.Ga)},le.prototype.readPackedUint64=le.prototype.sc,le.prototype.tc=function(){return de(this,this.a.Ha)},le.prototype.readPackedUint64String=le.prototype.tc,le.prototype.nc=function(){return de(this,this.a.Ia)},le.prototype.readPackedSint32=le.prototype.nc,le.prototype.oc=function(){return de(this,this.a.Ja)},le.prototype.readPackedSint64=le.prototype.oc,le.prototype.pc=function(){return de(this,this.a.Ka)},le.prototype.readPackedSint64String=le.prototype.pc,le.prototype.bc=function(){return de(this,this.a.m)},le.prototype.readPackedFixed32=le.prototype.bc,le.prototype.cc=function(){return de(this,this.a.ga)},le.prototype.readPackedFixed64=le.prototype.cc,le.prototype.dc=function(){return de(this,this.a.ha)},le.prototype.readPackedFixed64String=le.prototype.dc,le.prototype.kc=function(){return de(this,this.a.P)},le.prototype.readPackedSfixed32=le.prototype.kc,le.prototype.lc=function(){return de(this,this.a.ba)},le.prototype.readPackedSfixed64=le.prototype.lc,le.prototype.mc=function(){return de(this,this.a.ca)},le.prototype.readPackedSfixed64String=le.prototype.mc,le.prototype.fc=function(){return de(this,this.a.aa)},le.prototype.readPackedFloat=le.prototype.fc,le.prototype.$b=function(){return de(this,this.a.Z)},le.prototype.readPackedDouble=le.prototype.$b,le.prototype.Zb=function(){return de(this,this.a.pa)},le.prototype.readPackedBool=le.prototype.Zb,le.prototype.ac=function(){return de(this,this.a.ra)},le.prototype.readPackedEnum=le.prototype.ac,le.prototype.uc=function(){return de(this,this.a.ia)},le.prototype.readPackedVarintHash64=le.prototype.uc,le.prototype.ec=function(){return de(this,this.a.$)},le.prototype.readPackedFixedHash64=le.prototype.ec,u("jspb.ExtensionFieldInfo",he,void 0),u("jspb.ExtensionFieldBinaryInfo",pe,void 0),he.prototype.F=function(){return!!this.la},he.prototype.isMessageType=he.prototype.F,u("jspb.Message",fe,void 0),fe.GENERATE_TO_OBJECT=!0,fe.GENERATE_FROM_OBJECT=!0;var ge="function"==typeof Uint8Array;fe.prototype.Ib=function(){return this.b},fe.prototype.getJsPbMessageId=fe.prototype.Ib,fe.initialize=function(e,t,r,n,i,o){if(e.f=null,t||(t=r?[r]:[]),e.b=r?String(r):void 0,e.D=0===r?-1:0,e.u=t,t=-1,!(r=e.u.length)||(t=r-1,null===(r=e.u[t])||"object"!=typeof r||Array.isArray(r)||ge&&r instanceof Uint8Array)?-1<n?(e.G=Math.max(n,t+1-e.D),e.i=null):e.G=Number.MAX_VALUE:(e.G=t-e.D,e.i=r),e.a={},i)for(n=0;n<i.length;n++)(t=i[n])<e.G?(t+=e.D,e.u[t]=e.u[t]||me):(ve(e),e.i[t]=e.i[t]||me);if(o&&o.length)for(n=0;n<o.length;n++)De(e,o[n])};var me=Object.freeze?Object.freeze([]):[];function ve(e){var t=e.G+e.D;e.u[t]||(e.i=e.u[t]={})}function ye(e,t,r){for(var n=[],i=0;i<e.length;i++)n[i]=t.call(e[i],r,e[i]);return n}function Ce(e,t){if(t<e.G){t+=e.D;var r=e.u[t];return r===me?e.u[t]=[]:r}if(e.i)return(r=e.i[t])===me?e.i[t]=[]:r}function Se(e,t){return null==(e=Ce(e,t))?e:+e}function Te(e,t){return null==(e=Ce(e,t))?e:!!e}function be(e){return null==e||"string"==typeof e?e:ge&&e instanceof Uint8Array?M(e):(C("Cannot coerce to b64 string: "+d(e)),null)}function _e(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?A(e):(C("Cannot coerce to Uint8Array: "+d(e)),null)}function we(e){if(e&&1<e.length){var t=d(e[0]);f(e,(function(e){d(e)!=t&&C("Inconsistent type in JSPB repeated field array. Got "+d(e)+" expected "+t)}))}}function Re(e,t,r){return null==(e=Ce(e,t))?r:e}function Ee(e,t,r){return S(e,fe),t<e.G?e.u[t+e.D]=r:(ve(e),e.i[t]=r),e}function Pe(e,t,r,n){return S(e,fe),r!==n?Ee(e,t,r):t<e.G?e.u[t+e.D]=null:(ve(e),delete e.i[t]),e}function ke(e,t,r,n){return S(e,fe),(r=De(e,r))&&r!==t&&void 0!==n&&(e.f&&r in e.f&&(e.f[r]=void 0),Ee(e,r,void 0)),Ee(e,t,n)}function De(e,t){for(var r,n,i=0;i<t.length;i++){var o=t[i],s=Ce(e,o);null!=s&&(r=o,n=s,Ee(e,o,void 0))}return r?(Ee(e,r,n),r):0}function Oe(e,t,r){if(e.f||(e.f={}),!e.f[r]){for(var n=Ce(e,r),i=[],o=0;o<n.length;o++)i[o]=new t(n[o]);e.f[r]=i}}function Ie(e){if(e.f)for(var t in e.f){var r=e.f[t];if(Array.isArray(r))for(var n=0;n<r.length;n++)r[n]&&r[n].g();else r&&r.g()}}function Me(e,t){e=e||{},t=t||{};var r,n={};for(r in e)n[r]=0;for(r in t)n[r]=0;for(r in n)if(!Ae(e[r],t[r]))return!1;return!0}function Ae(e,t){if(e==t)return!0;if(!h(e)||!h(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(ge&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,i=void 0,o=Math.max(e.length,t.length);for(r=0;r<o;r++){var s=e[r],a=t[r];if(s&&s.constructor==Object&&(y(void 0===n),y(r===e.length-1),n=s,s=void 0),a&&a.constructor==Object&&(y(void 0===i),y(r===t.length-1),i=a,a=void 0),!Ae(s,a))return!1}return!n&&!i||Me(n=n||{},i=i||{})}if(e.constructor===Object)return Me(e,t);throw Error("Invalid type in JSPB array")}function xe(e){return new e.constructor(Ne(e.g()))}function Ne(e){if(Array.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];null!=n&&(t[r]="object"==typeof n?Ne(y(n)):n)}return t}if(ge&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(n=e[r])&&(t[r]="object"==typeof n?Ne(y(n)):n);return t}fe.toObjectList=ye,fe.toObjectExtension=function(e,t,r,n,i){for(var o in r){var s=r[o],a=n.call(e,s);if(null!=a){for(var l in s.Ba)if(s.Ba.hasOwnProperty(l))break;t[l]=s.Na?s.na?ye(a,s.Na,i):s.Na(i,a):a}}},fe.serializeBinaryExtensions=function(e,t,r,n){for(var i in r){var o=r[i],s=o.Za;if(!o.Aa)throw Error("Message extension present that was generated without binary serialization support");var a=n.call(e,s);if(null!=a)if(s.F()){if(!o.Wa)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");o.Aa.call(t,s.ma,a,o.Wa)}else o.Aa.call(t,s.ma,a)}},fe.readBinaryExtension=function(e,t,r,n,i){var o=r[t.c];if(o){if(r=o.Za,!o.za)throw Error("Deserializing extension whose generated code does not support binary format");if(r.F()){var s=new r.la;o.za.call(t,s,o.Ab)}else s=o.za.call(t);r.na&&!o.Nb?(t=n.call(e,r))?t.push(s):i.call(e,r,[s]):i.call(e,r,s)}else t.C()},fe.getField=Ce,fe.getRepeatedField=function(e,t){return Ce(e,t)},fe.getOptionalFloatingPointField=Se,fe.getBooleanField=Te,fe.getRepeatedFloatingPointField=function(e,t){var r=Ce(e,t);if(e.a||(e.a={}),!e.a[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.a[t]=!0}return r},fe.getRepeatedBooleanField=function(e,t){var r=Ce(e,t);if(e.a||(e.a={}),!e.a[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.a[t]=!0}return r},fe.bytesAsB64=be,fe.bytesAsU8=_e,fe.bytesListAsB64=function(e){return we(e),e.length&&"string"!=typeof e[0]?g(e,be):e},fe.bytesListAsU8=function(e){return we(e),!e.length||e[0]instanceof Uint8Array?e:g(e,_e)},fe.getFieldWithDefault=Re,fe.getBooleanFieldWithDefault=function(e,t,r){return null==(e=Te(e,t))?r:e},fe.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=Se(e,t))?r:e},fe.getFieldProto3=Re,fe.getMapField=function(e,t,r,n){if(e.f||(e.f={}),t in e.f)return e.f[t];var i=Ce(e,t);if(!i){if(r)return;Ee(e,t,i=[])}return e.f[t]=new b(i,n)},fe.setField=Ee,fe.setProto3IntField=function(e,t,r){return Pe(e,t,r,0)},fe.setProto3FloatField=function(e,t,r){return Pe(e,t,r,0)},fe.setProto3BooleanField=function(e,t,r){return Pe(e,t,r,!1)},fe.setProto3StringField=function(e,t,r){return Pe(e,t,r,"")},fe.setProto3BytesField=function(e,t,r){return Pe(e,t,r,"")},fe.setProto3EnumField=function(e,t,r){return Pe(e,t,r,0)},fe.setProto3StringIntField=function(e,t,r){return Pe(e,t,r,"0")},fe.addToRepeatedField=function(e,t,r,n){return S(e,fe),t=Ce(e,t),null!=n?t.splice(n,0,r):t.push(r),e},fe.setOneofField=ke,fe.computeOneofCase=De,fe.getWrapperField=function(e,t,r,n){if(e.f||(e.f={}),!e.f[r]){var i=Ce(e,r);(n||i)&&(e.f[r]=new t(i))}return e.f[r]},fe.getRepeatedWrapperField=function(e,t,r){return Oe(e,t,r),(t=e.f[r])==me&&(t=e.f[r]=[]),t},fe.setWrapperField=function(e,t,r){S(e,fe),e.f||(e.f={});var n=r?r.g():r;return e.f[t]=r,Ee(e,t,n)},fe.setOneofWrapperField=function(e,t,r,n){S(e,fe),e.f||(e.f={});var i=n?n.g():n;return e.f[t]=n,ke(e,t,r,i)},fe.setRepeatedWrapperField=function(e,t,r){S(e,fe),e.f||(e.f={}),r=r||[];for(var n=[],i=0;i<r.length;i++)n[i]=r[i].g();return e.f[t]=r,Ee(e,t,n)},fe.addToRepeatedWrapperField=function(e,t,r,n,i){Oe(e,n,t);var o=e.f[t];return o||(o=e.f[t]=[]),r=r||new n,e=Ce(e,t),null!=i?(o.splice(i,0,r),e.splice(i,0,r.g())):(o.push(r),e.push(r.g())),r},fe.toMap=function(e,t,r,n){for(var i={},o=0;o<e.length;o++)i[t.call(e[o])]=r?r.call(e[o],n,e[o]):e[o];return i},fe.prototype.g=function(){return Ie(this),this.u},fe.prototype.toArray=fe.prototype.g,fe.prototype.toString=function(){return Ie(this),this.u.toString()},fe.prototype.getExtension=function(e){if(this.i){this.f||(this.f={});var t=e.ma;if(e.na){if(e.F())return this.f[t]||(this.f[t]=g(this.i[t]||[],(function(t){return new e.la(t)}))),this.f[t]}else if(e.F())return!this.f[t]&&this.i[t]&&(this.f[t]=new e.la(this.i[t])),this.f[t];return this.i[t]}},fe.prototype.getExtension=fe.prototype.getExtension,fe.prototype.Kc=function(e,t){this.f||(this.f={}),ve(this);var r=e.ma;return e.na?(t=t||[],e.F()?(this.f[r]=t,this.i[r]=g(t,(function(e){return e.g()}))):this.i[r]=t):e.F()?(this.f[r]=t,this.i[r]=t?t.g():t):this.i[r]=t,this},fe.prototype.setExtension=fe.prototype.Kc,fe.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.g();t=t.g();var n=[],i=0,o=r.length>t.length?r.length:t.length;for(e.b&&(n[0]=e.b,i=1);i<o;i++)Ae(r[i],t[i])||(n[i]=t[i]);return new e.constructor(n)},fe.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&Ae(e.g(),t.g())},fe.compareExtensions=Me,fe.compareFields=Ae,fe.prototype.Bb=function(){return xe(this)},fe.prototype.cloneMessage=fe.prototype.Bb,fe.prototype.clone=function(){return xe(this)},fe.prototype.clone=fe.prototype.clone,fe.clone=function(e){return xe(e)},fe.copyInto=function(e,t){S(e,fe),S(t,fe),y(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=xe(e);for(var r=t.g(),n=e.g(),i=r.length=0;i<n.length;i++)r[i]=n[i];t.f=e.f,t.i=e.i},fe.registerMessageType=function(e,t){t.we=e};var je={dump:function(e){return S(e,fe,"jspb.Message instance expected"),y(e.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),je.X(e)}};function Fe(){this.a=[]}function Le(e,t){this.lo=e,this.hi=t}function Be(e,t){var r=65535&e,n=65535&t,i=t>>>16;for(t=r*n+65536*(r*i&65535)+65536*((e>>>=16)*n&65535),r=e*i+(r*i>>>16)+(e*n>>>16);4294967296<=t;)t-=4294967296,r+=1;return new Le(t>>>0,r>>>0)}function Ge(e){for(var t=new Le(0,0),r=new Le(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;r.lo=parseInt(e[n],10),t=t.eb(10).add(r)}return t}function qe(e,t){this.lo=e,this.hi=t}function Ue(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=Ge(e))?null:(t&&(e=new Le(0,0).sub(e)),new qe(e.lo,e.hi))}function ze(){this.c=[],this.b=0,this.a=new Fe,this.h=[]}function We(e,t){var r=e.a.end();e.c.push(r),e.c.push(t),e.b+=r.length+t.length}function He(e,t){return Ke(e,t,2),t=e.a.end(),e.c.push(t),e.b+=t.length,t.push(e.b),t}function $e(e,t){var r=t.pop();for(y(0<=(r=e.b+e.a.length()-r));127<r;)t.push(127&r|128),r>>>=7,e.b++;t.push(r),e.b++}function Ke(e,t,r){y(1<=t&&t==Math.floor(t)),e.a.j(8*t+r)}function Ve(e,t,r){null!=r&&(Ke(e,t,0),e.a.j(r))}function Je(e,t,r){null!=r&&(Ke(e,t,0),e.a.M(r))}u("jspb.debug.dump",je.dump,void 0),je.X=function(e){var t=d(e);if("number"==t||"string"==t||"boolean"==t||"null"==t||"undefined"==t||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array)return e;if("array"==t)return function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];Array.isArray(e)||v("Expected array but got %s: %s.",[d(e),e],t,n)}(e),g(e,je.X);if(e instanceof b){for(var r={},n=(e=e.entries()).next();!n.done;n=e.next())r[n.value[0]]=je.X(n.value[1]);return r}S(e,fe,"Only messages expected: "+e);var i={$name:(t=e.constructor).name||t.displayName};for(a in t.prototype){var o=/^get([A-Z]\w*)/.exec(a);if(o&&"getExtension"!=a&&"getJsPbMessageId"!=a){var s="has"+o[1];e[s]&&!e[s]()||(s=e[a](),i[je.$a(o[1])]=je.X(s))}}if(e.extensionObject_)return i.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",i;for(n in t.extensions)if(/^\d+$/.test(n)){s=t.extensions[n];var a=e.getExtension(s);o=void 0,s=s.Ba;var l=[],c=0;for(o in s)l[c++]=o;o=l[0],null!=a&&(r||(r=i.$extensions={}),r[je.$a(o)]=je.X(a))}return i},je.$a=function(e){return e.replace(/^[A-Z]/,(function(e){return e.toLowerCase()}))},u("jspb.BinaryEncoder",Fe,void 0),Fe.prototype.length=function(){return this.a.length},Fe.prototype.length=Fe.prototype.length,Fe.prototype.end=function(){var e=this.a;return this.a=[],e},Fe.prototype.end=Fe.prototype.end,Fe.prototype.l=function(e,t){for(y(e==Math.floor(e)),y(t==Math.floor(t)),y(0<=e&&4294967296>e),y(0<=t&&4294967296>t);0<t||127<e;)this.a.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.a.push(e)},Fe.prototype.writeSplitVarint64=Fe.prototype.l,Fe.prototype.A=function(e,t){y(e==Math.floor(e)),y(t==Math.floor(t)),y(0<=e&&4294967296>e),y(0<=t&&4294967296>t),this.s(e),this.s(t)},Fe.prototype.writeSplitFixed64=Fe.prototype.A,Fe.prototype.j=function(e){for(y(e==Math.floor(e)),y(0<=e&&4294967296>e);127<e;)this.a.push(127&e|128),e>>>=7;this.a.push(e)},Fe.prototype.writeUnsignedVarint32=Fe.prototype.j,Fe.prototype.M=function(e){if(y(e==Math.floor(e)),y(-2147483648<=e&&2147483648>e),0<=e)this.j(e);else{for(var t=0;9>t;t++)this.a.push(127&e|128),e>>=7;this.a.push(1)}},Fe.prototype.writeSignedVarint32=Fe.prototype.M,Fe.prototype.va=function(e){y(e==Math.floor(e)),y(0<=e&&0x10000000000000000>e),L(e),this.l(N,j)},Fe.prototype.writeUnsignedVarint64=Fe.prototype.va,Fe.prototype.ua=function(e){y(e==Math.floor(e)),y(-0x8000000000000000<=e&&0x8000000000000000>e),L(e),this.l(N,j)},Fe.prototype.writeSignedVarint64=Fe.prototype.ua,Fe.prototype.wa=function(e){y(e==Math.floor(e)),y(-2147483648<=e&&2147483648>e),this.j((e<<1^e>>31)>>>0)},Fe.prototype.writeZigzagVarint32=Fe.prototype.wa,Fe.prototype.xa=function(e){y(e==Math.floor(e)),y(-0x8000000000000000<=e&&0x8000000000000000>e),B(e),this.l(N,j)},Fe.prototype.writeZigzagVarint64=Fe.prototype.xa,Fe.prototype.Ta=function(e){this.W(ee(e))},Fe.prototype.writeZigzagVarint64String=Fe.prototype.Ta,Fe.prototype.W=function(e){var t=this;U(e),H(N,j,(function(e,r){t.l(e>>>0,r>>>0)}))},Fe.prototype.writeZigzagVarintHash64=Fe.prototype.W,Fe.prototype.be=function(e){y(e==Math.floor(e)),y(0<=e&&256>e),this.a.push(e>>>0&255)},Fe.prototype.writeUint8=Fe.prototype.be,Fe.prototype.ae=function(e){y(e==Math.floor(e)),y(0<=e&&65536>e),this.a.push(e>>>0&255),this.a.push(e>>>8&255)},Fe.prototype.writeUint16=Fe.prototype.ae,Fe.prototype.s=function(e){y(e==Math.floor(e)),y(0<=e&&4294967296>e),this.a.push(e>>>0&255),this.a.push(e>>>8&255),this.a.push(e>>>16&255),this.a.push(e>>>24&255)},Fe.prototype.writeUint32=Fe.prototype.s,Fe.prototype.V=function(e){y(e==Math.floor(e)),y(0<=e&&0x10000000000000000>e),F(e),this.s(N),this.s(j)},Fe.prototype.writeUint64=Fe.prototype.V,Fe.prototype.Qc=function(e){y(e==Math.floor(e)),y(-128<=e&&128>e),this.a.push(e>>>0&255)},Fe.prototype.writeInt8=Fe.prototype.Qc,Fe.prototype.Pc=function(e){y(e==Math.floor(e)),y(-32768<=e&&32768>e),this.a.push(e>>>0&255),this.a.push(e>>>8&255)},Fe.prototype.writeInt16=Fe.prototype.Pc,Fe.prototype.S=function(e){y(e==Math.floor(e)),y(-2147483648<=e&&2147483648>e),this.a.push(e>>>0&255),this.a.push(e>>>8&255),this.a.push(e>>>16&255),this.a.push(e>>>24&255)},Fe.prototype.writeInt32=Fe.prototype.S,Fe.prototype.T=function(e){y(e==Math.floor(e)),y(-0x8000000000000000<=e&&0x8000000000000000>e),L(e),this.A(N,j)},Fe.prototype.writeInt64=Fe.prototype.T,Fe.prototype.ka=function(e){y(e==Math.floor(e)),y(-0x8000000000000000<=+e&&0x8000000000000000>+e),U(ee(e)),this.A(N,j)},Fe.prototype.writeInt64String=Fe.prototype.ka,Fe.prototype.L=function(e){y(1/0===e||-1/0===e||isNaN(e)||-34028234663852886e22<=e&&34028234663852886e22>=e),G(e),this.s(N)},Fe.prototype.writeFloat=Fe.prototype.L,Fe.prototype.J=function(e){y(1/0===e||-1/0===e||isNaN(e)||-17976931348623157e292<=e&&17976931348623157e292>=e),q(e),this.s(N),this.s(j)},Fe.prototype.writeDouble=Fe.prototype.J,Fe.prototype.I=function(e){y("boolean"==typeof e||"number"==typeof e),this.a.push(e?1:0)},Fe.prototype.writeBool=Fe.prototype.I,Fe.prototype.R=function(e){y(e==Math.floor(e)),y(-2147483648<=e&&2147483648>e),this.M(e)},Fe.prototype.writeEnum=Fe.prototype.R,Fe.prototype.ja=function(e){this.a.push.apply(this.a,e)},Fe.prototype.writeBytes=Fe.prototype.ja,Fe.prototype.N=function(e){U(e),this.l(N,j)},Fe.prototype.writeVarintHash64=Fe.prototype.N,Fe.prototype.K=function(e){U(e),this.s(N),this.s(j)},Fe.prototype.writeFixedHash64=Fe.prototype.K,Fe.prototype.U=function(e){var t=this.a.length;!function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];"string"!=typeof e&&v("Expected string but got %s: %s.",[d(e),e],t,n)}(e);for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.a.push(n);else if(2048>n)this.a.push(n>>6|192),this.a.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<e.length){var i=e.charCodeAt(r+1);56320<=i&&57343>=i&&(n=1024*(n-55296)+i-56320+65536,this.a.push(n>>18|240),this.a.push(n>>12&63|128),this.a.push(n>>6&63|128),this.a.push(63&n|128),r++)}else this.a.push(n>>12|224),this.a.push(n>>6&63|128),this.a.push(63&n|128)}return this.a.length-t},Fe.prototype.writeString=Fe.prototype.U,u("jspb.arith.UInt64",Le,void 0),Le.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},Le.prototype.cmp=Le.prototype.cmp,Le.prototype.La=function(){return new Le((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},Le.prototype.rightShift=Le.prototype.La,Le.prototype.Da=function(){return new Le(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},Le.prototype.leftShift=Le.prototype.Da,Le.prototype.cb=function(){return!!(2147483648&this.hi)},Le.prototype.msb=Le.prototype.cb,Le.prototype.Ob=function(){return!!(1&this.lo)},Le.prototype.lsb=Le.prototype.Ob,Le.prototype.Ua=function(){return 0==this.lo&&0==this.hi},Le.prototype.zero=Le.prototype.Ua,Le.prototype.add=function(e){return new Le((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},Le.prototype.add=Le.prototype.add,Le.prototype.sub=function(e){return new Le((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},Le.prototype.sub=Le.prototype.sub,Le.mul32x32=Be,Le.prototype.eb=function(e){var t=Be(this.lo,e);return(e=Be(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},Le.prototype.mul=Le.prototype.eb,Le.prototype.Xa=function(e){if(0==e)return[];var t=new Le(0,0),r=new Le(this.lo,this.hi);e=new Le(e,0);for(var n=new Le(1,0);!e.cb();)e=e.Da(),n=n.Da();for(;!n.Ua();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.La(),n=n.La();return[t,r]},Le.prototype.div=Le.prototype.Xa,Le.prototype.toString=function(){for(var e="",t=this;!t.Ua();){var r=(t=t.Xa(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},Le.prototype.toString=Le.prototype.toString,Le.fromString=Ge,Le.prototype.clone=function(){return new Le(this.lo,this.hi)},Le.prototype.clone=Le.prototype.clone,u("jspb.arith.Int64",qe,void 0),qe.prototype.add=function(e){return new qe((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},qe.prototype.add=qe.prototype.add,qe.prototype.sub=function(e){return new qe((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},qe.prototype.sub=qe.prototype.sub,qe.prototype.clone=function(){return new qe(this.lo,this.hi)},qe.prototype.clone=qe.prototype.clone,qe.prototype.toString=function(){var e=!!(2147483648&this.hi),t=new Le(this.lo,this.hi);return e&&(t=new Le(0,0).sub(t)),(e?"-":"")+t.toString()},qe.prototype.toString=qe.prototype.toString,qe.fromString=Ue,u("jspb.BinaryWriter",ze,void 0),ze.prototype.pb=function(e,t,r){We(this,e.subarray(t,r))},ze.prototype.writeSerializedMessage=ze.prototype.pb,ze.prototype.Pb=function(e,t,r){null!=e&&null!=t&&null!=r&&this.pb(e,t,r)},ze.prototype.maybeWriteSerializedMessage=ze.prototype.Pb,ze.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},ze.prototype.reset=ze.prototype.reset,ze.prototype.ab=function(){y(0==this.h.length);for(var e=new Uint8Array(this.b+this.a.length()),t=this.c,r=t.length,n=0,i=0;i<r;i++){var o=t[i];e.set(o,n),n+=o.length}return t=this.a.end(),e.set(t,n),y((n+=t.length)==e.length),this.c=[e],e},ze.prototype.getResultBuffer=ze.prototype.ab,ze.prototype.Kb=function(e){return M(this.ab(),e)},ze.prototype.getResultBase64String=ze.prototype.Kb,ze.prototype.Va=function(e){this.h.push(He(this,e))},ze.prototype.beginSubMessage=ze.prototype.Va,ze.prototype.Ya=function(){y(0<=this.h.length),$e(this,this.h.pop())},ze.prototype.endSubMessage=ze.prototype.Ya,ze.prototype.Nc=function(e,t,r){switch(e){case 1:this.J(t,r);break;case 2:this.L(t,r);break;case 3:this.T(t,r);break;case 4:this.V(t,r);break;case 5:this.S(t,r);break;case 6:this.Qa(t,r);break;case 7:this.Pa(t,r);break;case 8:this.I(t,r);break;case 9:this.U(t,r);break;case 10:C("Group field type not supported in writeAny()");break;case 11:C("Message field type not supported in writeAny()");break;case 12:this.ja(t,r);break;case 13:this.s(t,r);break;case 14:this.R(t,r);break;case 15:this.Ra(t,r);break;case 16:this.Sa(t,r);break;case 17:this.rb(t,r);break;case 18:this.sb(t,r);break;case 30:this.K(t,r);break;case 31:this.N(t,r);break;default:C("Invalid field type in writeAny()")}},ze.prototype.writeAny=ze.prototype.Nc,ze.prototype.S=function(e,t){null!=t&&(y(-2147483648<=t&&2147483648>t),Je(this,e,t))},ze.prototype.writeInt32=ze.prototype.S,ze.prototype.ob=function(e,t){null!=t&&(y(-2147483648<=(t=parseInt(t,10))&&2147483648>t),Je(this,e,t))},ze.prototype.writeInt32String=ze.prototype.ob,ze.prototype.T=function(e,t){null!=t&&(y(-0x8000000000000000<=t&&0x8000000000000000>t),null!=t&&(Ke(this,e,0),this.a.ua(t)))},ze.prototype.writeInt64=ze.prototype.T,ze.prototype.ka=function(e,t){null!=t&&(t=Ue(t),Ke(this,e,0),this.a.l(t.lo,t.hi))},ze.prototype.writeInt64String=ze.prototype.ka,ze.prototype.s=function(e,t){null!=t&&(y(0<=t&&4294967296>t),Ve(this,e,t))},ze.prototype.writeUint32=ze.prototype.s,ze.prototype.ub=function(e,t){null!=t&&(y(0<=(t=parseInt(t,10))&&4294967296>t),Ve(this,e,t))},ze.prototype.writeUint32String=ze.prototype.ub,ze.prototype.V=function(e,t){null!=t&&(y(0<=t&&0x10000000000000000>t),null!=t&&(Ke(this,e,0),this.a.va(t)))},ze.prototype.writeUint64=ze.prototype.V,ze.prototype.vb=function(e,t){null!=t&&(t=Ge(t),Ke(this,e,0),this.a.l(t.lo,t.hi))},ze.prototype.writeUint64String=ze.prototype.vb,ze.prototype.rb=function(e,t){null!=t&&(y(-2147483648<=t&&2147483648>t),null!=t&&(Ke(this,e,0),this.a.wa(t)))},ze.prototype.writeSint32=ze.prototype.rb,ze.prototype.sb=function(e,t){null!=t&&(y(-0x8000000000000000<=t&&0x8000000000000000>t),null!=t&&(Ke(this,e,0),this.a.xa(t)))},ze.prototype.writeSint64=ze.prototype.sb,ze.prototype.$d=function(e,t){null!=t&&null!=t&&(Ke(this,e,0),this.a.W(t))},ze.prototype.writeSintHash64=ze.prototype.$d,ze.prototype.Zd=function(e,t){null!=t&&null!=t&&(Ke(this,e,0),this.a.Ta(t))},ze.prototype.writeSint64String=ze.prototype.Zd,ze.prototype.Pa=function(e,t){null!=t&&(y(0<=t&&4294967296>t),Ke(this,e,5),this.a.s(t))},ze.prototype.writeFixed32=ze.prototype.Pa,ze.prototype.Qa=function(e,t){null!=t&&(y(0<=t&&0x10000000000000000>t),Ke(this,e,1),this.a.V(t))},ze.prototype.writeFixed64=ze.prototype.Qa,ze.prototype.nb=function(e,t){null!=t&&(t=Ge(t),Ke(this,e,1),this.a.A(t.lo,t.hi))},ze.prototype.writeFixed64String=ze.prototype.nb,ze.prototype.Ra=function(e,t){null!=t&&(y(-2147483648<=t&&2147483648>t),Ke(this,e,5),this.a.S(t))},ze.prototype.writeSfixed32=ze.prototype.Ra,ze.prototype.Sa=function(e,t){null!=t&&(y(-0x8000000000000000<=t&&0x8000000000000000>t),Ke(this,e,1),this.a.T(t))},ze.prototype.writeSfixed64=ze.prototype.Sa,ze.prototype.qb=function(e,t){null!=t&&(t=Ue(t),Ke(this,e,1),this.a.A(t.lo,t.hi))},ze.prototype.writeSfixed64String=ze.prototype.qb,ze.prototype.L=function(e,t){null!=t&&(Ke(this,e,5),this.a.L(t))},ze.prototype.writeFloat=ze.prototype.L,ze.prototype.J=function(e,t){null!=t&&(Ke(this,e,1),this.a.J(t))},ze.prototype.writeDouble=ze.prototype.J,ze.prototype.I=function(e,t){null!=t&&(y("boolean"==typeof t||"number"==typeof t),Ke(this,e,0),this.a.I(t))},ze.prototype.writeBool=ze.prototype.I,ze.prototype.R=function(e,t){null!=t&&(y(-2147483648<=t&&2147483648>t),Ke(this,e,0),this.a.M(t))},ze.prototype.writeEnum=ze.prototype.R,ze.prototype.U=function(e,t){null!=t&&(e=He(this,e),this.a.U(t),$e(this,e))},ze.prototype.writeString=ze.prototype.U,ze.prototype.ja=function(e,t){null!=t&&(t=ie(t),Ke(this,e,2),this.a.j(t.length),We(this,t))},ze.prototype.writeBytes=ze.prototype.ja,ze.prototype.Rc=function(e,t,r){null!=t&&(e=He(this,e),r(t,this),$e(this,e))},ze.prototype.writeMessage=ze.prototype.Rc,ze.prototype.Sc=function(e,t,r){null!=t&&(Ke(this,1,3),Ke(this,2,0),this.a.M(e),e=He(this,3),r(t,this),$e(this,e),Ke(this,1,4))},ze.prototype.writeMessageSet=ze.prototype.Sc,ze.prototype.Oc=function(e,t,r){null!=t&&(Ke(this,e,3),r(t,this),Ke(this,e,4))},ze.prototype.writeGroup=ze.prototype.Oc,ze.prototype.K=function(e,t){null!=t&&(y(8==t.length),Ke(this,e,1),this.a.K(t))},ze.prototype.writeFixedHash64=ze.prototype.K,ze.prototype.N=function(e,t){null!=t&&(y(8==t.length),Ke(this,e,0),this.a.N(t))},ze.prototype.writeVarintHash64=ze.prototype.N,ze.prototype.A=function(e,t,r){Ke(this,e,1),this.a.A(t,r)},ze.prototype.writeSplitFixed64=ze.prototype.A,ze.prototype.l=function(e,t,r){Ke(this,e,0),this.a.l(t,r)},ze.prototype.writeSplitVarint64=ze.prototype.l,ze.prototype.tb=function(e,t,r){Ke(this,e,0);var n=this.a;H(t,r,(function(e,t){n.l(e>>>0,t>>>0)}))},ze.prototype.writeSplitZigzagVarint64=ze.prototype.tb,ze.prototype.Ed=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)Je(this,e,t[r])},ze.prototype.writeRepeatedInt32=ze.prototype.Ed,ze.prototype.Fd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.ob(e,t[r])},ze.prototype.writeRepeatedInt32String=ze.prototype.Fd,ze.prototype.Gd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(Ke(this,e,0),this.a.ua(n))}},ze.prototype.writeRepeatedInt64=ze.prototype.Gd,ze.prototype.Qd=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.A(e,r(t[i]),n(t[i]))},ze.prototype.writeRepeatedSplitFixed64=ze.prototype.Qd,ze.prototype.Rd=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.l(e,r(t[i]),n(t[i]))},ze.prototype.writeRepeatedSplitVarint64=ze.prototype.Rd,ze.prototype.Sd=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.tb(e,r(t[i]),n(t[i]))},ze.prototype.writeRepeatedSplitZigzagVarint64=ze.prototype.Sd,ze.prototype.Hd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.ka(e,t[r])},ze.prototype.writeRepeatedInt64String=ze.prototype.Hd,ze.prototype.Ud=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)Ve(this,e,t[r])},ze.prototype.writeRepeatedUint32=ze.prototype.Ud,ze.prototype.Vd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.ub(e,t[r])},ze.prototype.writeRepeatedUint32String=ze.prototype.Vd,ze.prototype.Wd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(Ke(this,e,0),this.a.va(n))}},ze.prototype.writeRepeatedUint64=ze.prototype.Wd,ze.prototype.Xd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.vb(e,t[r])},ze.prototype.writeRepeatedUint64String=ze.prototype.Xd,ze.prototype.Md=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(Ke(this,e,0),this.a.wa(n))}},ze.prototype.writeRepeatedSint32=ze.prototype.Md,ze.prototype.Nd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(Ke(this,e,0),this.a.xa(n))}},ze.prototype.writeRepeatedSint64=ze.prototype.Nd,ze.prototype.Od=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(Ke(this,e,0),this.a.Ta(n))}},ze.prototype.writeRepeatedSint64String=ze.prototype.Od,ze.prototype.Pd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&(Ke(this,e,0),this.a.W(n))}},ze.prototype.writeRepeatedSintHash64=ze.prototype.Pd,ze.prototype.yd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.Pa(e,t[r])},ze.prototype.writeRepeatedFixed32=ze.prototype.yd,ze.prototype.zd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.Qa(e,t[r])},ze.prototype.writeRepeatedFixed64=ze.prototype.zd,ze.prototype.Ad=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.nb(e,t[r])},ze.prototype.writeRepeatedFixed64String=ze.prototype.Ad,ze.prototype.Jd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.Ra(e,t[r])},ze.prototype.writeRepeatedSfixed32=ze.prototype.Jd,ze.prototype.Kd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.Sa(e,t[r])},ze.prototype.writeRepeatedSfixed64=ze.prototype.Kd,ze.prototype.Ld=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.qb(e,t[r])},ze.prototype.writeRepeatedSfixed64String=ze.prototype.Ld,ze.prototype.Cd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.L(e,t[r])},ze.prototype.writeRepeatedFloat=ze.prototype.Cd,ze.prototype.wd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.J(e,t[r])},ze.prototype.writeRepeatedDouble=ze.prototype.wd,ze.prototype.ud=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.I(e,t[r])},ze.prototype.writeRepeatedBool=ze.prototype.ud,ze.prototype.xd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.R(e,t[r])},ze.prototype.writeRepeatedEnum=ze.prototype.xd,ze.prototype.Td=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.U(e,t[r])},ze.prototype.writeRepeatedString=ze.prototype.Td,ze.prototype.vd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.ja(e,t[r])},ze.prototype.writeRepeatedBytes=ze.prototype.vd,ze.prototype.Id=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var i=He(this,e);r(t[n],this),$e(this,i)}},ze.prototype.writeRepeatedMessage=ze.prototype.Id,ze.prototype.Dd=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)Ke(this,e,3),r(t[n],this),Ke(this,e,4)},ze.prototype.writeRepeatedGroup=ze.prototype.Dd,ze.prototype.Bd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.K(e,t[r])},ze.prototype.writeRepeatedFixedHash64=ze.prototype.Bd,ze.prototype.Yd=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.N(e,t[r])},ze.prototype.writeRepeatedVarintHash64=ze.prototype.Yd,ze.prototype.ad=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.M(t[r]);$e(this,e)}},ze.prototype.writePackedInt32=ze.prototype.ad,ze.prototype.bd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.M(parseInt(t[r],10));$e(this,e)}},ze.prototype.writePackedInt32String=ze.prototype.bd,ze.prototype.cd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.ua(t[r]);$e(this,e)}},ze.prototype.writePackedInt64=ze.prototype.cd,ze.prototype.md=function(e,t,r,n){if(null!=t){e=He(this,e);for(var i=0;i<t.length;i++)this.a.A(r(t[i]),n(t[i]));$e(this,e)}},ze.prototype.writePackedSplitFixed64=ze.prototype.md,ze.prototype.nd=function(e,t,r,n){if(null!=t){e=He(this,e);for(var i=0;i<t.length;i++)this.a.l(r(t[i]),n(t[i]));$e(this,e)}},ze.prototype.writePackedSplitVarint64=ze.prototype.nd,ze.prototype.od=function(e,t,r,n){if(null!=t){e=He(this,e);for(var i=this.a,o=0;o<t.length;o++)H(r(t[o]),n(t[o]),(function(e,t){i.l(e>>>0,t>>>0)}));$e(this,e)}},ze.prototype.writePackedSplitZigzagVarint64=ze.prototype.od,ze.prototype.dd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++){var n=Ue(t[r]);this.a.l(n.lo,n.hi)}$e(this,e)}},ze.prototype.writePackedInt64String=ze.prototype.dd,ze.prototype.pd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.j(t[r]);$e(this,e)}},ze.prototype.writePackedUint32=ze.prototype.pd,ze.prototype.qd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.j(parseInt(t[r],10));$e(this,e)}},ze.prototype.writePackedUint32String=ze.prototype.qd,ze.prototype.rd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.va(t[r]);$e(this,e)}},ze.prototype.writePackedUint64=ze.prototype.rd,ze.prototype.sd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++){var n=Ge(t[r]);this.a.l(n.lo,n.hi)}$e(this,e)}},ze.prototype.writePackedUint64String=ze.prototype.sd,ze.prototype.hd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.wa(t[r]);$e(this,e)}},ze.prototype.writePackedSint32=ze.prototype.hd,ze.prototype.jd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.xa(t[r]);$e(this,e)}},ze.prototype.writePackedSint64=ze.prototype.jd,ze.prototype.kd=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.W(ee(t[r]));$e(this,e)}},ze.prototype.writePackedSint64String=ze.prototype.kd,ze.prototype.ld=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.W(t[r]);$e(this,e)}},ze.prototype.writePackedSintHash64=ze.prototype.ld,ze.prototype.Wc=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(4*t.length),e=0;e<t.length;e++)this.a.s(t[e])},ze.prototype.writePackedFixed32=ze.prototype.Wc,ze.prototype.Xc=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.V(t[e])},ze.prototype.writePackedFixed64=ze.prototype.Xc,ze.prototype.Yc=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++){var r=Ge(t[e]);this.a.A(r.lo,r.hi)}},ze.prototype.writePackedFixed64String=ze.prototype.Yc,ze.prototype.ed=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(4*t.length),e=0;e<t.length;e++)this.a.S(t[e])},ze.prototype.writePackedSfixed32=ze.prototype.ed,ze.prototype.fd=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.T(t[e])},ze.prototype.writePackedSfixed64=ze.prototype.fd,ze.prototype.gd=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.ka(t[e])},ze.prototype.writePackedSfixed64String=ze.prototype.gd,ze.prototype.$c=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(4*t.length),e=0;e<t.length;e++)this.a.L(t[e])},ze.prototype.writePackedFloat=ze.prototype.$c,ze.prototype.Uc=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.J(t[e])},ze.prototype.writePackedDouble=ze.prototype.Uc,ze.prototype.Tc=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(t.length),e=0;e<t.length;e++)this.a.I(t[e])},ze.prototype.writePackedBool=ze.prototype.Tc,ze.prototype.Vc=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.R(t[r]);$e(this,e)}},ze.prototype.writePackedEnum=ze.prototype.Vc,ze.prototype.Zc=function(e,t){if(null!=t&&t.length)for(Ke(this,e,2),this.a.j(8*t.length),e=0;e<t.length;e++)this.a.K(t[e])},ze.prototype.writePackedFixedHash64=ze.prototype.Zc,ze.prototype.td=function(e,t){if(null!=t&&t.length){e=He(this,e);for(var r=0;r<t.length;r++)this.a.N(t[r]);$e(this,e)}},ze.prototype.writePackedVarintHash64=ze.prototype.td,t.debug=je,t.Map=b,t.Message=fe,t.BinaryReader=le,t.BinaryWriter=ze,t.ExtensionFieldInfo=he,t.ExtensionFieldBinaryInfo=pe,t.exportSymbol=function(e,t,r){u(e,t,r)},t.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},t.object={extend:function(e,t){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(var o=0;o<p.length;o++)r=p[o],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}},t.typeOf=d},1283:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})),r};var t=Object.getPrototypeOf||function(e){return e.__proto__}},3735:(e,t,r)=>{var n,i,o=r(9896),s=r(9106),a=r(1995),l=r(1283),c=r(9023);function u(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",i="___graceful-fs.previous");var d,h=function(){};if(c.debuglog?h=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=c.format.apply(c,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[n]){var p=global[n]||[];u(o,p),o.close=function(e){function t(t,r){return e.call(o,t,(function(e){e||m(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),m()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(o[n]),r(2613).equal(o[n].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){return"function"==typeof r&&(n=r,r=null),function e(r,n,i,o){return t(r,n,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):g([e,[r,n,i],t,o||Date.now(),Date.now()])}))}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,n,i,o],r,s||Date.now(),Date.now()])}))}(e,t,n,i)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,o,s){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,r,i,o],n,s||Date.now(),Date.now()])}))}(e,t,r,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=0),function e(t,r,n,o,s){return i(t,r,n,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,r,n,o],i,s||Date.now(),Date.now()])}))}(e,t,r,n)});var o=e.readdir;e.readdir=function(e,t,r){"function"==typeof t&&(r=t,t=null);var n=l.test(process.version)?function(e,t,r,n){return o(e,i(e,t,r,n))}:function(e,t,r,n){return o(e,t,i(e,t,r,n))};return n(e,t,r);function i(e,t,r,i){return function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(s&&s.sort&&s.sort(),"function"==typeof r&&r.call(this,o,s)):g([n,[e,t,r],o,i||Date.now(),Date.now()])}}};var l=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var c=a(e);m=c.ReadStream,v=c.WriteStream}var u=e.ReadStream;u&&(m.prototype=Object.create(u.prototype),m.prototype.open=function(){var e=this;C(e.path,e.flags,e.mode,(function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())}))});var d=e.WriteStream;d&&(v.prototype=Object.create(d.prototype),v.prototype.open=function(){var e=this;C(e.path,e.flags,e.mode,(function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return v},set:function(e){v=e},enumerable:!0,configurable:!0});var h=m;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var p=v;function m(e,t){return this instanceof m?(u.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function v(e,t){return this instanceof v?(d.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var y=e.open;function C(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,i,o){return y(t,r,n,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,r,n,i],s,o||Date.now(),Date.now()])}))}(e,t,r,n)}return e.open=C,e}function g(e){h("ENQUEUE",e[0].name,e[1]),o[n].push(e),v()}function m(){for(var e=Date.now(),t=0;t<o[n].length;++t)o[n][t].length>2&&(o[n][t][3]=e,o[n][t][4]=e);v()}function v(){if(clearTimeout(d),d=void 0,0!==o[n].length){var e=o[n].shift(),t=e[0],r=e[1],i=e[2],s=e[3],a=e[4];if(void 0===s)h("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){h("TIMEOUT",t.name,r);var l=r.pop();"function"==typeof l&&l.call(null,i)}else{var c=Date.now()-a,u=Math.max(a-s,1);c>=Math.min(1.2*u,100)?(h("RETRY",t.name,r),t.apply(null,r.concat([s]))):o[n].push(e)}void 0===d&&(d=setTimeout(v,0))}}global[n]||u(global,o[n]),e.exports=f(l(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=f(o),o.__patched=!0)},1995:(e,t,r)=>{var n=r(2203).Stream;e.exports=function(e){return{ReadStream:function t(r,i){if(!(this instanceof t))return new t(r,i);n.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,l=s.length;a<l;a++){var c=s[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})):process.nextTick((function(){o._read()}))},WriteStream:function t(r,i){if(!(this instanceof t))return new t(r,i);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var l=o[s];this[l]=i[l]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},9106:(e,t,r)=>{var n=r(9140),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(r,n,i){return t.call(e,r,n,(function(e){c(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function r(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!c(e))throw e}}:t}function i(t){return t?function(r,n,i,o){return t.call(e,r,n,i,(function(e){c(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function o(t){return t?function(r,n,i){try{return t.call(e,r,n,i)}catch(e){if(!c(e))throw e}}:t}function a(t){return t?function(r,n,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?t.call(e,r,n,o):t.call(e,r,o)}:t}function l(t){return t?function(r,n){var i=n?t.call(e,r,n):t.call(e,r);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function c(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var u;n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,i){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){t?i&&i(t):e.fchmod(n,r,(function(t){e.close(n,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,r){var i,o=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),s=!0;try{i=e.fchmodSync(o,r),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e),e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,r,i,o){e.open(t,n.O_SYMLINK,(function(t,n){t?o&&o(t):e.futimes(n,r,i,(function(t){e.close(n,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,r,i){var o,s=e.openSync(t,n.O_SYMLINK),a=!0;try{o=e.futimesSync(s,r,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):e.futimes&&(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=r(e.chmodSync),e.fchmodSync=r(e.fchmodSync),e.lchmodSync=r(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){}),"win32"===s&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function r(r,n,i){var o=Date.now(),s=0;t(r,n,(function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code||"EBUSY"===l.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(n,(function(e,o){e&&"ENOENT"===e.code?t(r,n,a):i(l)}))}),s),void(s<100&&(s+=10));i&&i(l)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function r(r,n,i,o,s,a){var l;if(a&&"function"==typeof a){var c=0;l=function(u,d,h){if(u&&"EAGAIN"===u.code&&c<10)return c++,t.call(e,r,n,i,o,s,l);a.apply(this,arguments)}}return t.call(e,r,n,i,o,s,l)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(u=e.readSync,function(t,r,n,i,o){for(var s=0;;)try{return u.call(e,t,r,n,i,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}})}},6502:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const l=s(r(9896)),c=s(r(857)),u=s(r(6928)),d=r(321),h=null!==(n=process.env.ASDF_DATA_DIR)&&void 0!==n?n:u.join(c.homedir(),".asdf"),p=u.join(h,"installs","java");t.candidates=function(){return a(this,void 0,void 0,(function*(){const e=[];try{const t=(yield l.promises.readdir(p,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>u.join(p,e.name)));e.push(...t)}catch(e){(0,d.log)(e)}return e}))}},1636:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidatesFromSpecificEnv=t.candidatesFromPath=void 0;const a=o(r(6928)),l=r(3900);t.candidatesFromPath=function(){return s(this,void 0,void 0,(function*(){const e=[];if(process.env.PATH){const t=process.env.PATH.split(a.delimiter).filter(l.looksLikeJavaHome).map(l.expandTilde),r=yield Promise.all(t.map((e=>(0,l.getRealHome)(a.dirname(e)))));e.push(...r)}return e.filter(Boolean)}))},t.candidatesFromSpecificEnv=function(e){return s(this,void 0,void 0,(function*(){if(process.env[e]){const t=process.env[e].replace(/[\\\/]$/,"");return(0,l.getRealHome)(t)}}))}},7035:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const l=s(r(9896)),c=s(r(857)),u=s(r(6928)),d=r(321),h=r(3900),p=null!==(n=process.env.GRADLE_USER_HOME)&&void 0!==n?n:u.join(c.homedir(),".gradle"),f=u.join(p,"jdks");t.candidates=function(){return a(this,void 0,void 0,(function*(){const e=[];try{for(const t of yield l.promises.readdir(f,{withFileTypes:!0}))if(t.isDirectory()){const r=u.join(f,t.name),n=(yield l.promises.readdir(r,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>h.isMac?u.join(r,e.name,"Contents","Home"):u.join(r,e.name)));e.push(...n)}}catch(e){(0,d.log)(e)}return e}))}},4067:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=t.HOMEBREW_DIR_LINUX=t.HOMEBREW_DIR_APPLE_SILLICON=t.HOMEBREW_DIR_INTEL=void 0;const a=o(r(9896)),l=o(r(6928)),c=r(321),u=r(3900);t.HOMEBREW_DIR_INTEL="/usr/local/opt",t.HOMEBREW_DIR_APPLE_SILLICON="/opt/homebrew/opt",t.HOMEBREW_DIR_LINUX="/home/linuxbrew/.linuxbrew/opt",t.candidates=function(e){return s(this,void 0,void 0,(function*(){const t=[];try{const r=(yield a.promises.readdir(e,{withFileTypes:!0})).filter((e=>e.isSymbolicLink()&&(0,u.looksLikeJavaHome)(e.name))).map((t=>l.join(e,t.name))),n=yield Promise.all((0,u.deDup)(r).map((e=>(0,u.getRealHome)(e))));t.push(...n)}catch(e){(0,c.log)(e)}return t.filter(Boolean)}))}},8970:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(r(9896)),l=o(r(857)),c=o(r(6928)),u=r(321),d=c.join(l.homedir(),".jabba"),h=c.join(d,"jdk");t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];try{const t=(yield a.promises.readdir(h,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>c.join(h,e.name)));e.push(...t)}catch(e){(0,u.log)(e)}return e}))}},161:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(r(9896)),l=o(r(857)),c=o(r(6928)),u=r(321),d=r(3900),h=c.join(l.homedir(),".jenv"),p=c.join(h,"versions");t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];try{const t=(yield a.promises.readdir(p,{withFileTypes:!0})).filter((e=>e.isSymbolicLink())).map((e=>c.join(p,e.name))),r=yield Promise.all(t.map((e=>a.promises.realpath(e)))),n=(0,d.deDup)(r);e.push(...n)}catch(e){(0,u.log)(e)}return e}))}},8616:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(r(9896)),l=o(r(6928)),c=r(321),u=["/usr/lib/jvm","/usr/java"];t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];for(const t of u)try{const r=(yield a.promises.readdir(t,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>l.join(t,e.name)));e.push(...r)}catch(e){(0,c.log)(e)}return e}))}},1215:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(r(5317)),l=o(r(9896)),c=o(r(857)),u=o(r(6928)),d=r(321),h=r(3900),p=["/Library/Java/JavaVirtualMachines",u.join(c.homedir(),"Library/Java/JavaVirtualMachines")];t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];return e.push(...yield function(){return s(this,void 0,void 0,(function*(){const e=[],t="/usr/libexec/java_home";try{yield l.promises.access(t,l.constants.F_OK),yield new Promise(((r,n)=>{a.execFile(t,["-V"],{},((t,n,i)=>{const o=/".*" - ".*" (.*)/g;let s;do{s=o.exec(i),s&&e.push(s[1])}while(null!==s);r()}))}))}catch(e){(0,d.log)(e)}return e}))}()),e.push(...yield function(){return s(this,void 0,void 0,(function*(){const e=[];for(const t of p)try{const r=(yield l.promises.readdir(t,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>u.join(t,e.name,"Contents","Home")));e.push(...r)}catch(e){(0,d.log)(e)}return e}))}()),(0,h.deDup)(e)}))}},1572:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const l=s(r(9896)),c=s(r(857)),u=s(r(6928)),d=r(321),h=null!==(n=process.env.SDKMAN_DIR)&&void 0!==n?n:u.join(c.homedir(),".sdkman"),p=u.join(h,"candidates","java");t.candidates=function(){return a(this,void 0,void 0,(function*(){const e=[];try{const t=(yield l.promises.readdir(p,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>u.join(p,e.name)));e.push(...t)}catch(e){(0,d.log)(e)}return e}))}},279:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.candidates=void 0;const a=o(r(9896)),l=o(r(857)),c=o(r(6928)),u=r(321),d=r(3900),h=Array.from(new Set([process.env.ProgramW6432,process.env.ProgramFiles,process.env.LOCALAPPDATA,c.join(l.homedir(),"AppData","Local")])).filter(Boolean),p=["Eclipse Foundation","Eclipse Adoptium","Java","Amazon Corretto","Microsoft",c.join("SapMachine","JDK")];t.candidates=function(){return s(this,void 0,void 0,(function*(){const e=[];for(const t of h)for(const r of p){const n=c.join(t,r);try{const t=(yield a.promises.readdir(n,{withFileTypes:!0})).filter((e=>e.isDirectory())).map((e=>c.join(n,e.name)));e.push(...t)}catch(e){(0,u.log)(e)}}return e.filter(d.looksLikeJavaHome)}))}},369:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getSources=t.getRuntime=t.findRuntimes=t.JAVA_FILENAME=t.JAVAC_FILENAME=void 0;const a=o(r(5317)),l=o(r(9896)),c=o(r(6928)),u=o(r(6502)),d=o(r(1636)),h=o(r(7035)),p=o(r(4067)),f=o(r(8970)),g=o(r(161)),m=o(r(8616)),v=o(r(1215)),y=o(r(1572)),C=o(r(279)),S=o(r(321)),T=r(3900);var b=r(3900);function _(e){return s(this,void 0,void 0,(function*(){const{homedir:t}=e,r=c.join(t,"bin",T.JAVA_FILENAME);try{yield l.promises.access(r,l.constants.F_OK),e.isValid=!0}catch(t){e.isValid=!1}return e}))}function w(e){return s(this,void 0,void 0,(function*(){const{homedir:t}=e,r=c.join(t,"bin",T.JAVAC_FILENAME);try{yield l.promises.access(r,l.constants.F_OK),e.hasJavac=!0}catch(t){e.hasJavac=!1}return e}))}function R(e){return s(this,void 0,void 0,(function*(){const{homedir:t}=e,r=c.join(t,"release");try{const t=yield l.promises.readFile(r,{encoding:"utf-8"}),n=/^JAVA_VERSION="(.*)"/gm.exec(t.toString());if(!n)return e;const i=n[1],o=E(i);e.version={java_version:i,major:o}}catch(e){S.log(e)}if(void 0===e.version)try{e.version=yield function(e){return s(this,void 0,void 0,(function*(){return new Promise(((t,r)=>{const n=c.join(e,"bin",T.JAVA_FILENAME);a.execFile(n,["-version"],{},((e,r,n)=>{const i=/version "(.*)"/g.exec(n);if(!i)return t(void 0);const o=i[1],s=E(o);t({java_version:o,major:s})}))}))}))}(t)}catch(e){S.log(e)}return e}))}function E(e){if(!e)return 0;e.startsWith("1.")&&(e=e.substring(2));const t=/\d+/g.exec(e);let r=0;return t&&(r=parseInt(t[0])),r}Object.defineProperty(t,"JAVAC_FILENAME",{enumerable:!0,get:function(){return b.JAVAC_FILENAME}}),Object.defineProperty(t,"JAVA_FILENAME",{enumerable:!0,get:function(){return b.JAVA_FILENAME}}),t.findRuntimes=function(e){return s(this,void 0,void 0,(function*(){const t=new P,r=[],n=(n,i)=>{(null==e?void 0:e.withTags)?t.updateRuntimes(n,i):r.push(...n)};if(n(yield y.candidates(),(e=>Object.assign(Object.assign({},e),{isFromSDKMAN:!0}))),T.isLinux&&(n(yield m.candidates()),n(yield p.candidates(p.HOMEBREW_DIR_LINUX))),T.isMac){n(yield v.candidates());const e=T.isArm?p.HOMEBREW_DIR_APPLE_SILLICON:p.HOMEBREW_DIR_INTEL;n(yield p.candidates(e))}T.isWindows&&n(yield C.candidates());const i=yield d.candidatesFromSpecificEnv("JDK_HOME");i&&n([i],(e=>Object.assign(Object.assign({},e),{isJdkHomeEnv:!0})));const o=yield d.candidatesFromSpecificEnv("JAVA_HOME");o&&n([o],(e=>Object.assign(Object.assign({},e),{isJavaHomeEnv:!0}))),n(yield d.candidatesFromPath(),(e=>Object.assign(Object.assign({},e),{isInPathEnv:!0}))),n(yield g.candidates(),(e=>Object.assign(Object.assign({},e),{isFromJENV:!0}))),n(yield f.candidates(),(e=>Object.assign(Object.assign({},e),{isFromJabba:!0}))),n(yield u.candidates(),(e=>Object.assign(Object.assign({},e),{isFromASDF:!0}))),n(yield h.candidates(),(e=>Object.assign(Object.assign({},e),{isFromGradle:!0})));let s=(null==e?void 0:e.withTags)?t.allRuntimes():(0,T.deDup)(r).map((e=>({homedir:e})));s=yield Promise.all(s.map(_)),s=s.filter((e=>e.isValid)),(null==e?void 0:e.checkJavac)&&(s=yield Promise.all(s.map(w))),(null==e?void 0:e.withVersion)&&(s=yield Promise.all(s.map(R)));for(const e of s)delete e.isValid;return s}))},t.getRuntime=function(e,t){return s(this,void 0,void 0,(function*(){let r={homedir:e};if(r=yield _(r),r.isValid)return(null==t?void 0:t.checkJavac)&&(r=yield w(r)),(null==t?void 0:t.withVersion)&&(r=yield R(r)),(null==t?void 0:t.withTags)&&((yield h.candidates()).includes(e)&&(r.isFromGradle=!0),(yield u.candidates()).includes(e)&&(r.isFromASDF=!0),(yield g.candidates()).includes(e)&&(r.isFromJENV=!0),(yield y.candidates()).includes(e)&&(r.isFromSDKMAN=!0),(yield f.candidates()).includes(e)&&(r.isFromJabba=!0),(yield d.candidatesFromPath()).includes(e)&&(r.isInPathEnv=!0),(yield d.candidatesFromSpecificEnv("JAVA_HOME"))===e&&(r.isJavaHomeEnv=!0),(yield d.candidatesFromSpecificEnv("JDK_HOME"))===e&&(r.isJdkHomeEnv=!0)),r}))},t.getSources=function(e){const t=[];return e.isJdkHomeEnv&&t.push("JDK_HOME"),e.isJavaHomeEnv&&t.push("JAVA_HOME"),e.isInPathEnv&&t.push("PATH"),e.isFromSDKMAN&&t.push("SDKMAN"),e.isFromJENV&&t.push("jEnv"),e.isFromJabba&&t.push("jabba"),e.isFromASDF&&t.push("asdf"),e.isFromGradle&&t.push("Gradle"),t};class P{constructor(){this.map=new Map}updateRuntimes(e,t){for(const r of e)this.updateRuntime(r,t)}updateRuntime(e,t){var r;const n=this.map.get(e)||{homedir:e};this.map.set(e,null!==(r=null==t?void 0:t(n))&&void 0!==r?r:n)}allRuntimes(){return Array.from(this.map.values())}}},321:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0,t.log=function(...e){}},3900:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getRealHome=t.expandTilde=t.deDup=t.looksLikeJavaHome=t.JAVAC_FILENAME=t.JAVA_FILENAME=t.isArm=t.isLinux=t.isMac=t.isWindows=void 0;const a=o(r(9896)),l=r(857),c=r(6928),u=o(r(321));function d(e){return 126===e.charCodeAt(0)?(0,c.join)((0,l.homedir)(),e.slice(1)):e}t.isWindows=0===process.platform.indexOf("win"),t.isMac=0===process.platform.indexOf("darwin"),t.isLinux=0===process.platform.indexOf("linux"),t.isArm=0===process.arch.indexOf("arm"),t.JAVA_FILENAME=t.isWindows?"java.exe":"java",t.JAVAC_FILENAME=t.isWindows?"javac.exe":"javac",t.looksLikeJavaHome=function(e){const t=e.toLocaleLowerCase();return t.includes("jdk")||t.includes("java")},t.deDup=function(e){return Array.from(new Set(e))},t.expandTilde=d,t.getRealHome=function(e){return s(this,void 0,void 0,(function*(){const r=d((0,c.join)(e,"bin",t.JAVA_FILENAME));try{const e=yield a.promises.realpath(r);return(0,c.dirname)((0,c.dirname)(e))}catch(e){u.log(e)}}))}},2909:(e,t,r)=>{let n;try{n=r(3735)}catch(e){n=r(9896)}const i=r(1236),{stringify:o,stripBom:s}=r(1144),a={readFile:i.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,o=!("throws"in t)||t.throws;let a,l=await i.fromCallback(r.readFile)(e,t);l=s(l);try{a=JSON.parse(l,t?t.reviver:null)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,i=!("throws"in t)||t.throws;try{let n=r.readFileSync(e,t);return n=s(n),JSON.parse(n,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:i.fromPromise((async function(e,t,r={}){const s=r.fs||n,a=o(t,r);await i.fromCallback(s.writeFile)(e,a,r)})),writeFileSync:function(e,t,r={}){const i=r.fs||n,s=o(t,r);return i.writeFileSync(e,s,r)}};e.exports=a},1144:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:i}={}){const o=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},2543:function(e,t,r){var n;e=r.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,c=128,u=1/0,d=9007199254740991,h=NaN,p=4294967295,f=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",v="[object Boolean]",y="[object Date]",C="[object Error]",S="[object Function]",T="[object GeneratorFunction]",b="[object Map]",_="[object Number]",w="[object Object]",R="[object Promise]",E="[object RegExp]",P="[object Set]",k="[object String]",D="[object Symbol]",O="[object WeakMap]",I="[object ArrayBuffer]",M="[object DataView]",A="[object Float32Array]",x="[object Float64Array]",N="[object Int8Array]",j="[object Int16Array]",F="[object Int32Array]",L="[object Uint8Array]",B="[object Uint8ClampedArray]",G="[object Uint16Array]",q="[object Uint32Array]",U=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,K=RegExp(H.source),V=RegExp($.source),J=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ce=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Te="\\ud800-\\udfff",be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",Re="A-Z\\xc0-\\xd6\\xd8-\\xde",Ee="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="["+Te+"]",De="["+Pe+"]",Oe="["+be+"]",Ie="\\d+",Me="["+_e+"]",Ae="["+we+"]",xe="[^"+Te+Pe+Ie+_e+we+Re+"]",Ne="\\ud83c[\\udffb-\\udfff]",je="[^"+Te+"]",Fe="(?:\\ud83c[\\udde6-\\uddff]){2}",Le="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Re+"]",Ge="\\u200d",qe="(?:"+Ae+"|"+xe+")",Ue="(?:"+Be+"|"+xe+")",ze="(?:['](?:d|ll|m|re|s|t|ve))?",We="(?:['](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Oe+"|"+Ne+")?",$e="["+Ee+"]?",Ke=$e+He+"(?:"+Ge+"(?:"+[je,Fe,Le].join("|")+")"+$e+He+")*",Ve="(?:"+[Me,Fe,Le].join("|")+")"+Ke,Je="(?:"+[je+Oe+"?",Oe,Fe,Le,ke].join("|")+")",Xe=RegExp("[']","g"),Ye=RegExp(Oe,"g"),Ze=RegExp(Ne+"(?="+Ne+")|"+Je+Ke,"g"),Qe=RegExp([Be+"?"+Ae+"+"+ze+"(?="+[De,Be,"$"].join("|")+")",Ue+"+"+We+"(?="+[De,Be+qe,"$"].join("|")+")",Be+"?"+qe+"+"+ze,Be+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Ve].join("|"),"g"),et=RegExp("["+Ge+Te+be+Ee+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,it={};it[A]=it[x]=it[N]=it[j]=it[F]=it[L]=it[B]=it[G]=it[q]=!0,it[g]=it[m]=it[I]=it[v]=it[M]=it[y]=it[C]=it[S]=it[b]=it[_]=it[w]=it[E]=it[P]=it[k]=it[O]=!1;var ot={};ot[g]=ot[m]=ot[I]=ot[M]=ot[v]=ot[y]=ot[A]=ot[x]=ot[N]=ot[j]=ot[F]=ot[b]=ot[_]=ot[w]=ot[E]=ot[P]=ot[k]=ot[D]=ot[L]=ot[B]=ot[G]=ot[q]=!0,ot[C]=ot[S]=ot[O]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,ct="object"==typeof global&&global&&global.Object===Object&&global,ut="object"==typeof self&&self&&self.Object===Object&&self,dt=ct||ut||Function("return this")(),ht=t&&!t.nodeType&&t,pt=ht&&e&&!e.nodeType&&e,ft=pt&&pt.exports===ht,gt=ft&&ct.process,mt=function(){try{return pt&&pt.require&&pt.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),vt=mt&&mt.isArrayBuffer,yt=mt&&mt.isDate,Ct=mt&&mt.isMap,St=mt&&mt.isRegExp,Tt=mt&&mt.isSet,bt=mt&&mt.isTypedArray;function _t(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function wt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function Rt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Et(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function kt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function Dt(e,t){return!(null==e||!e.length)&&Bt(e,t,0)>-1}function Ot(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function It(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Mt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function At(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function xt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Nt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var jt=zt("length");function Ft(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Lt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Bt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Lt(e,qt,r)}function Gt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function qt(e){return e!=e}function Ut(e,t){var r=null==e?0:e.length;return r?$t(e,t)/r:h}function zt(e){return function(t){return null==t?i:t[e]}}function Wt(e){return function(t){return null==e?i:e[t]}}function Ht(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function $t(e,t){for(var r,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function Kt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Vt(e){return e?e.slice(0,dr(e)+1).replace(ne,""):e}function Jt(e){return function(t){return e(t)}}function Xt(e,t){return It(t,(function(t){return e[t]}))}function Yt(e,t){return e.has(t)}function Zt(e,t){for(var r=-1,n=e.length;++r<n&&Bt(t,e[r],0)>-1;);return r}function Qt(e,t){for(var r=e.length;r--&&Bt(t,e[r],0)>-1;);return r}var er=Wt({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),tr=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rr(e){return"\\"+st[e]}function nr(e){return et.test(e)}function ir(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function or(e,t){return function(r){return e(t(r))}}function sr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function ar(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function lr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function cr(e){return nr(e)?function(e){for(var t=Ze.lastIndex=0;Ze.test(e);)++t;return t}(e):jt(e)}function ur(e){return nr(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function dr(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var hr=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pr=function e(t){var r,n=(t=null==t?dt:pr.defaults(dt.Object(),t,pr.pick(dt,rt))).Array,ie=t.Date,Te=t.Error,be=t.Function,_e=t.Math,we=t.Object,Re=t.RegExp,Ee=t.String,Pe=t.TypeError,ke=n.prototype,De=be.prototype,Oe=we.prototype,Ie=t["__core-js_shared__"],Me=De.toString,Ae=Oe.hasOwnProperty,xe=0,Ne=(r=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",je=Oe.toString,Fe=Me.call(we),Le=dt._,Be=Re("^"+Me.call(Ae).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=ft?t.Buffer:i,qe=t.Symbol,Ue=t.Uint8Array,ze=Ge?Ge.allocUnsafe:i,We=or(we.getPrototypeOf,we),He=we.create,$e=Oe.propertyIsEnumerable,Ke=ke.splice,Ve=qe?qe.isConcatSpreadable:i,Je=qe?qe.iterator:i,Ze=qe?qe.toStringTag:i,et=function(){try{var e=lo(we,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ct=ie&&ie.now!==dt.Date.now&&ie.now,ut=t.setTimeout!==dt.setTimeout&&t.setTimeout,ht=_e.ceil,pt=_e.floor,gt=we.getOwnPropertySymbols,mt=Ge?Ge.isBuffer:i,jt=t.isFinite,Wt=ke.join,fr=or(we.keys,we),gr=_e.max,mr=_e.min,vr=ie.now,yr=t.parseInt,Cr=_e.random,Sr=ke.reverse,Tr=lo(t,"DataView"),br=lo(t,"Map"),_r=lo(t,"Promise"),wr=lo(t,"Set"),Rr=lo(t,"WeakMap"),Er=lo(we,"create"),Pr=Rr&&new Rr,kr={},Dr=Fo(Tr),Or=Fo(br),Ir=Fo(_r),Mr=Fo(wr),Ar=Fo(Rr),xr=qe?qe.prototype:i,Nr=xr?xr.valueOf:i,jr=xr?xr.toString:i;function Fr(e){if(ea(e)&&!zs(e)&&!(e instanceof qr)){if(e instanceof Gr)return e;if(Ae.call(e,"__wrapped__"))return Lo(e)}return new Gr(e)}var Lr=function(){function e(){}return function(t){if(!Qs(t))return{};if(He)return He(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function Br(){}function Gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function qr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Ur(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Wr;++t<r;)this.add(e[t])}function $r(e){var t=this.__data__=new zr(e);this.size=t.size}function Kr(e,t){var r=zs(e),n=!r&&Us(e),i=!r&&!n&&Ks(e),o=!r&&!n&&!i&&la(e),s=r||n||i||o,a=s?Kt(e.length,Ee):[],l=a.length;for(var c in e)!t&&!Ae.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mo(c,l))||a.push(c);return a}function Vr(e){var t=e.length;return t?e[Hn(0,t-1)]:i}function Jr(e,t){return Mo(Ei(e),on(t,0,e.length))}function Xr(e){return Mo(Ei(e))}function Yr(e,t,r){(r!==i&&!Bs(e[t],r)||r===i&&!(t in e))&&rn(e,t,r)}function Zr(e,t,r){var n=e[t];Ae.call(e,t)&&Bs(n,r)&&(r!==i||t in e)||rn(e,t,r)}function Qr(e,t){for(var r=e.length;r--;)if(Bs(e[r][0],t))return r;return-1}function en(e,t,r,n){return un(e,(function(e,i,o){t(n,e,r(e),o)})),n}function tn(e,t){return e&&Pi(t,Oa(t),e)}function rn(e,t,r){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function nn(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:Ra(e,t[r]);return s}function on(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function sn(e,t,r,n,o,s){var a,l=1&t,c=2&t,u=4&t;if(r&&(a=o?r(e,n,o,s):r(e)),a!==i)return a;if(!Qs(e))return e;var d=zs(e);if(d){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Ae.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!l)return Ei(e,a)}else{var h=ho(e),p=h==S||h==T;if(Ks(e))return Si(e,l);if(h==w||h==g||p&&!o){if(a=c||p?{}:fo(e),!l)return c?function(e,t){return Pi(e,uo(e),t)}(e,function(e,t){return e&&Pi(t,Ia(t),e)}(a,e)):function(e,t){return Pi(e,co(e),t)}(e,tn(a,e))}else{if(!ot[h])return o?e:{};a=function(e,t,r){var n,i=e.constructor;switch(t){case I:return Ti(e);case v:case y:return new i(+e);case M:return function(e,t){var r=t?Ti(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case A:case x:case N:case j:case F:case L:case B:case G:case q:return bi(e,r);case b:return new i;case _:case k:return new i(e);case E:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new i;case D:return n=e,Nr?we(Nr.call(n)):{}}}(e,h,l)}}s||(s=new $r);var f=s.get(e);if(f)return f;s.set(e,a),oa(e)?e.forEach((function(n){a.add(sn(n,t,r,n,e,s))})):ta(e)&&e.forEach((function(n,i){a.set(i,sn(n,t,r,i,e,s))}));var m=d?i:(u?c?to:eo:c?Ia:Oa)(e);return Rt(m||e,(function(n,i){m&&(n=e[i=n]),Zr(a,i,sn(n,t,r,i,e,s))})),a}function an(e,t,r){var n=r.length;if(null==e)return!n;for(e=we(e);n--;){var o=r[n],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function ln(e,t,r){if("function"!=typeof e)throw new Pe(o);return ko((function(){e.apply(i,r)}),t)}function cn(e,t,r,n){var i=-1,o=Dt,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;r&&(t=It(t,Jt(r))),n?(o=Ot,s=!1):t.length>=200&&(o=Yt,s=!1,t=new Hr(t));e:for(;++i<a;){var u=e[i],d=null==r?u:r(u);if(u=n||0!==u?u:0,s&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else o(t,d,n)||l.push(u)}return l}Fr.templateSettings={escape:J,evaluate:X,interpolate:Y,variable:"",imports:{_:Fr}},Fr.prototype=Br.prototype,Fr.prototype.constructor=Fr,Gr.prototype=Lr(Br.prototype),Gr.prototype.constructor=Gr,qr.prototype=Lr(Br.prototype),qr.prototype.constructor=qr,Ur.prototype.clear=function(){this.__data__=Er?Er(null):{},this.size=0},Ur.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ur.prototype.get=function(e){var t=this.__data__;if(Er){var r=t[e];return r===s?i:r}return Ae.call(t,e)?t[e]:i},Ur.prototype.has=function(e){var t=this.__data__;return Er?t[e]!==i:Ae.call(t,e)},Ur.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Er&&t===i?s:t,this},zr.prototype.clear=function(){this.__data__=[],this.size=0},zr.prototype.delete=function(e){var t=this.__data__,r=Qr(t,e);return!(r<0||(r==t.length-1?t.pop():Ke.call(t,r,1),--this.size,0))},zr.prototype.get=function(e){var t=this.__data__,r=Qr(t,e);return r<0?i:t[r][1]},zr.prototype.has=function(e){return Qr(this.__data__,e)>-1},zr.prototype.set=function(e,t){var r=this.__data__,n=Qr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Wr.prototype.clear=function(){this.size=0,this.__data__={hash:new Ur,map:new(br||zr),string:new Ur}},Wr.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Wr.prototype.get=function(e){return so(this,e).get(e)},Wr.prototype.has=function(e){return so(this,e).has(e)},Wr.prototype.set=function(e,t){var r=so(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Hr.prototype.add=Hr.prototype.push=function(e){return this.__data__.set(e,s),this},Hr.prototype.has=function(e){return this.__data__.has(e)},$r.prototype.clear=function(){this.__data__=new zr,this.size=0},$r.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},$r.prototype.get=function(e){return this.__data__.get(e)},$r.prototype.has=function(e){return this.__data__.has(e)},$r.prototype.set=function(e,t){var r=this.__data__;if(r instanceof zr){var n=r.__data__;if(!br||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Wr(n)}return r.set(e,t),this.size=r.size,this};var un=Oi(yn),dn=Oi(Cn,!0);function hn(e,t){var r=!0;return un(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function pn(e,t,r){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(l===i?a==a&&!aa(a):r(a,l)))var l=a,c=s}return c}function fn(e,t){var r=[];return un(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function gn(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=go),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?gn(a,t-1,r,n,i):Mt(i,a):n||(i[i.length]=a)}return i}var mn=Ii(),vn=Ii(!0);function yn(e,t){return e&&mn(e,t,Oa)}function Cn(e,t){return e&&vn(e,t,Oa)}function Sn(e,t){return kt(t,(function(t){return Xs(e[t])}))}function Tn(e,t){for(var r=0,n=(t=mi(t,e)).length;null!=e&&r<n;)e=e[jo(t[r++])];return r&&r==n?e:i}function bn(e,t,r){var n=t(e);return zs(e)?n:Mt(n,r(e))}function _n(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ze&&Ze in we(e)?function(e){var t=Ae.call(e,Ze),r=e[Ze];try{e[Ze]=i;var n=!0}catch(e){}var o=je.call(e);return n&&(t?e[Ze]=r:delete e[Ze]),o}(e):function(e){return je.call(e)}(e)}function wn(e,t){return e>t}function Rn(e,t){return null!=e&&Ae.call(e,t)}function En(e,t){return null!=e&&t in we(e)}function Pn(e,t,r){for(var o=r?Ot:Dt,s=e[0].length,a=e.length,l=a,c=n(a),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=It(h,Jt(t))),u=mr(h.length,u),c[l]=!r&&(t||s>=120&&h.length>=120)?new Hr(l&&h):i}h=e[0];var p=-1,f=c[0];e:for(;++p<s&&d.length<u;){var g=h[p],m=t?t(g):g;if(g=r||0!==g?g:0,!(f?Yt(f,m):o(d,m,r))){for(l=a;--l;){var v=c[l];if(!(v?Yt(v,m):o(e[l],m,r)))continue e}f&&f.push(m),d.push(g)}}return d}function kn(e,t,r){var n=null==(e=Ro(e,t=mi(t,e)))?e:e[jo(Jo(t))];return null==n?i:_t(n,e,r)}function Dn(e){return ea(e)&&_n(e)==g}function On(e,t,r,n,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var a=zs(e),l=zs(t),c=a?m:ho(e),u=l?m:ho(t),d=(c=c==g?w:c)==w,h=(u=u==g?w:u)==w,p=c==u;if(p&&Ks(e)){if(!Ks(t))return!1;a=!0,d=!1}if(p&&!d)return s||(s=new $r),a||la(e)?Zi(e,t,r,n,o,s):function(e,t,r,n,i,o,s){switch(r){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!o(new Ue(e),new Ue(t)));case v:case y:case _:return Bs(+e,+t);case C:return e.name==t.name&&e.message==t.message;case E:case k:return e==t+"";case b:var a=ir;case P:var l=1&n;if(a||(a=ar),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=2,s.set(e,t);var u=Zi(a(e),a(t),n,i,o,s);return s.delete(e),u;case D:if(Nr)return Nr.call(e)==Nr.call(t)}return!1}(e,t,c,r,n,o,s);if(!(1&r)){var f=d&&Ae.call(e,"__wrapped__"),S=h&&Ae.call(t,"__wrapped__");if(f||S){var T=f?e.value():e,R=S?t.value():t;return s||(s=new $r),o(T,R,r,n,s)}}return!!p&&(s||(s=new $r),function(e,t,r,n,o,s){var a=1&r,l=eo(e),c=l.length;if(c!=eo(t).length&&!a)return!1;for(var u=c;u--;){var d=l[u];if(!(a?d in t:Ae.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var f=!0;s.set(e,t),s.set(t,e);for(var g=a;++u<c;){var m=e[d=l[u]],v=t[d];if(n)var y=a?n(v,m,d,t,e,s):n(m,v,d,e,t,s);if(!(y===i?m===v||o(m,v,r,n,s):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var C=e.constructor,S=t.constructor;C==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof C&&C instanceof C&&"function"==typeof S&&S instanceof S||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,r,n,o,s))}(e,t,r,n,On,o))}function In(e,t,r,n){var o=r.length,s=o,a=!n;if(null==e)return!s;for(e=we(e);o--;){var l=r[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=r[o])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===i&&!(c in e))return!1}else{var h=new $r;if(n)var p=n(u,d,c,e,t,h);if(!(p===i?On(d,u,3,n,h):p))return!1}}return!0}function Mn(e){return!(!Qs(e)||(t=e,Ne&&Ne in t))&&(Xs(e)?Be:ge).test(Fo(e));var t}function An(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?zs(e)?Ln(e[0],e[1]):Fn(e):dl(e)}function xn(e){if(!To(e))return fr(e);var t=[];for(var r in we(e))Ae.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Nn(e,t){return e<t}function jn(e,t){var r=-1,i=Hs(e)?n(e.length):[];return un(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Fn(e){var t=ao(e);return 1==t.length&&t[0][2]?_o(t[0][0],t[0][1]):function(r){return r===e||In(r,e,t)}}function Ln(e,t){return yo(e)&&bo(t)?_o(jo(e),t):function(r){var n=Ra(r,e);return n===i&&n===t?Ea(r,e):On(t,n,3)}}function Bn(e,t,r,n,o){e!==t&&mn(t,(function(s,a){if(o||(o=new $r),Qs(s))!function(e,t,r,n,o,s,a){var l=Eo(e,r),c=Eo(t,r),u=a.get(c);if(u)Yr(e,r,u);else{var d=s?s(l,c,r+"",e,t,a):i,h=d===i;if(h){var p=zs(c),f=!p&&Ks(c),g=!p&&!f&&la(c);d=c,p||f||g?zs(l)?d=l:$s(l)?d=Ei(l):f?(h=!1,d=Si(c,!0)):g?(h=!1,d=bi(c,!0)):d=[]:na(c)||Us(c)?(d=l,Us(l)?d=ma(l):Qs(l)&&!Xs(l)||(d=fo(c))):h=!1}h&&(a.set(c,d),o(d,c,n,s,a),a.delete(c)),Yr(e,r,d)}}(e,t,a,r,Bn,n,o);else{var l=n?n(Eo(e,a),s,a+"",e,t,o):i;l===i&&(l=s),Yr(e,a,l)}}),Ia)}function Gn(e,t){var r=e.length;if(r)return mo(t+=t<0?r:0,r)?e[t]:i}function qn(e,t,r){t=t.length?It(t,(function(e){return zs(e)?function(t){return Tn(t,1===e.length?e[0]:e)}:e})):[rl];var n=-1;t=It(t,Jt(oo()));var i=jn(e,(function(e,r,i){var o=It(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e){var t=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var l=_i(i[n],o[n]);if(l)return n>=a?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));t--;)e[t]=e[t].value;return e}(i)}function Un(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=Tn(e,s);r(a,s)&&Xn(o,mi(s,e),a)}return o}function zn(e,t,r,n){var i=n?Gt:Bt,o=-1,s=t.length,a=e;for(e===t&&(t=Ei(t)),r&&(a=It(e,Jt(r)));++o<s;)for(var l=0,c=t[o],u=r?r(c):c;(l=i(a,u,l,n))>-1;)a!==e&&Ke.call(a,l,1),Ke.call(e,l,1);return e}function Wn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;mo(i)?Ke.call(e,i,1):li(e,i)}}return e}function Hn(e,t){return e+pt(Cr()*(t-e+1))}function $n(e,t){var r="";if(!e||t<1||t>d)return r;do{t%2&&(r+=e),(t=pt(t/2))&&(e+=e)}while(t);return r}function Kn(e,t){return Do(wo(e,t,rl),e+"")}function Vn(e){return Vr(Ba(e))}function Jn(e,t){var r=Ba(e);return Mo(r,on(t,0,r.length))}function Xn(e,t,r,n){if(!Qs(e))return e;for(var o=-1,s=(t=mi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var c=jo(t[o]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var d=l[c];(u=n?n(d,c,l):i)===i&&(u=Qs(d)?d:mo(t[o+1])?[]:{})}Zr(l,c,u),l=l[c]}return e}var Yn=Pr?function(e,t){return Pr.set(e,t),e}:rl,Zn=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qa(t),writable:!0})}:rl;function Qn(e){return Mo(Ba(e))}function ei(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var r;return un(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ri(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!aa(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return ni(e,t,rl,r)}function ni(e,t,r,n){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,l=null===t,c=aa(t),u=t===i;o<s;){var d=pt((o+s)/2),h=r(e[d]),p=h!==i,f=null===h,g=h==h,m=aa(h);if(a)var v=n||g;else v=u?g&&(n||p):l?g&&p&&(n||!f):c?g&&p&&!f&&(n||!m):!f&&!m&&(n?h<=t:h<t);v?o=d+1:s=d}return mr(s,4294967294)}function ii(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Bs(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:aa(e)?h:+e}function si(e){if("string"==typeof e)return e;if(zs(e))return It(e,si)+"";if(aa(e))return jr?jr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,r){var n=-1,i=Dt,o=e.length,s=!0,a=[],l=a;if(r)s=!1,i=Ot;else if(o>=200){var c=t?null:$i(e);if(c)return ar(c);s=!1,i=Yt,l=new Hr}else l=t?[]:a;e:for(;++n<o;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,s&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,r)||(l!==a&&l.push(d),a.push(u))}return a}function li(e,t){return null==(e=Ro(e,t=mi(t,e)))||delete e[jo(Jo(t))]}function ci(e,t,r,n){return Xn(e,t,r(Tn(e,t)),n)}function ui(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ei(e,n?0:o,n?o+1:i):ei(e,n?o+1:0,n?i:o)}function di(e,t){var r=e;return r instanceof qr&&(r=r.value()),At(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),r)}function hi(e,t,r){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=cn(s[o]||a,e[l],t,r));return ai(gn(s,1),t,r)}function pi(e,t,r){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var l=n<s?t[n]:i;r(a,e[n],l)}return a}function fi(e){return $s(e)?e:[]}function gi(e){return"function"==typeof e?e:rl}function mi(e,t){return zs(e)?e:yo(e,t)?[e]:No(va(e))}var vi=Kn;function yi(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ei(e,t,r)}var Ci=st||function(e){return dt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var r=e.length,n=ze?ze(r):new e.constructor(r);return e.copy(n),n}function Ti(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function bi(e,t){var r=t?Ti(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function _i(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,s=aa(e),a=t!==i,l=null===t,c=t==t,u=aa(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||n&&a&&c||!r&&c||!o)return 1;if(!n&&!s&&!u&&e<t||u&&r&&o&&!n&&!s||l&&r&&o||!a&&o||!c)return-1}return 0}function wi(e,t,r,i){for(var o=-1,s=e.length,a=r.length,l=-1,c=t.length,u=gr(s-a,0),d=n(c+u),h=!i;++l<c;)d[l]=t[l];for(;++o<a;)(h||o<s)&&(d[r[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function Ri(e,t,r,i){for(var o=-1,s=e.length,a=-1,l=r.length,c=-1,u=t.length,d=gr(s-l,0),h=n(d+u),p=!i;++o<d;)h[o]=e[o];for(var f=o;++c<u;)h[f+c]=t[c];for(;++a<l;)(p||o<s)&&(h[f+r[a]]=e[o++]);return h}function Ei(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Pi(e,t,r,n){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=n?n(r[l],e[l],l,r,e):i;c===i&&(c=e[l]),o?rn(r,l,c):Zr(r,l,c)}return r}function ki(e,t){return function(r,n){var i=zs(r)?wt:en,o=t?t():{};return i(r,e,oo(n,2),o)}}function Di(e){return Kn((function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&vo(r[0],r[1],a)&&(s=o<3?i:s,o=1),t=we(t);++n<o;){var l=r[n];l&&e(t,l,n,s)}return t}))}function Oi(e,t){return function(r,n){if(null==r)return r;if(!Hs(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=we(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Ii(e){return function(t,r,n){for(var i=-1,o=we(t),s=n(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===r(o[l],l,o))break}return t}}function Mi(e){return function(t){var r=nr(t=va(t))?ur(t):i,n=r?r[0]:t.charAt(0),o=r?yi(r,1).join(""):t.slice(1);return n[e]()+o}}function Ai(e){return function(t){return At(Xa(Ua(t).replace(Xe,"")),e,"")}}function xi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Lr(e.prototype),n=e.apply(r,t);return Qs(n)?n:r}}function Ni(e){return function(t,r,n){var o=we(t);if(!Hs(t)){var s=oo(r,3);t=Oa(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[s?t[a]:a]:i}}function ji(e){return Qi((function(t){var r=t.length,n=r,s=Gr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Pe(o);if(s&&!l&&"wrapper"==no(a))var l=new Gr([],!0)}for(n=l?n:r;++n<r;){var c=no(a=t[n]),u="wrapper"==c?ro(a):i;l=u&&Co(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[no(u[0])].apply(l,u[3]):1==a.length&&Co(a)?l[c]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&zs(n))return l.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Fi(e,t,r,o,s,a,l,u,d,h){var p=t&c,f=1&t,g=2&t,m=24&t,v=512&t,y=g?i:xi(e);return function c(){for(var C=arguments.length,S=n(C),T=C;T--;)S[T]=arguments[T];if(m)var b=io(c),_=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(S,b);if(o&&(S=wi(S,o,s,m)),a&&(S=Ri(S,a,l,m)),C-=_,m&&C<h){var w=sr(S,b);return Wi(e,t,Fi,c.placeholder,r,S,w,u,d,h-C)}var R=f?r:this,E=g?R[e]:e;return C=S.length,u?S=function(e,t){for(var r=e.length,n=mr(t.length,r),o=Ei(e);n--;){var s=t[n];e[n]=mo(s,r)?o[s]:i}return e}(S,u):v&&C>1&&S.reverse(),p&&d<C&&(S.length=d),this&&this!==dt&&this instanceof c&&(E=y||xi(E)),E.apply(R,S)}}function Li(e,t){return function(r,n){return function(e,t,r,n){return yn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Bi(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=si(r),n=si(n)):(r=oi(r),n=oi(n)),o=e(r,n)}return o}}function Gi(e){return Qi((function(t){return t=It(t,Jt(oo())),Kn((function(r){var n=this;return e(t,(function(e){return _t(e,n,r)}))}))}))}function qi(e,t){var r=(t=t===i?" ":si(t)).length;if(r<2)return r?$n(t,e):t;var n=$n(t,ht(e/cr(t)));return nr(t)?yi(ur(n),0,e).join(""):n.slice(0,e)}function Ui(e){return function(t,r,o){return o&&"number"!=typeof o&&vo(t,r,o)&&(r=o=i),t=ha(t),r===i?(r=t,t=0):r=ha(r),function(e,t,r,i){for(var o=-1,s=gr(ht((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:ha(o),e)}}function zi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ga(t),r=ga(r)),e(t,r)}}function Wi(e,t,r,n,o,s,a,c,u,d){var h=8&t;t|=h?l:64,4&(t&=~(h?64:l))||(t&=-4);var p=[e,t,o,h?s:i,h?a:i,h?i:s,h?i:a,c,u,d],f=r.apply(i,p);return Co(e)&&Po(f,p),f.placeholder=n,Oo(f,e,t)}function Hi(e){var t=_e[e];return function(e,r){if(e=ga(e),(r=null==r?0:mr(pa(r),292))&&jt(e)){var n=(va(e)+"e").split("e");return+((n=(va(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var $i=wr&&1/ar(new wr([,-0]))[1]==u?function(e){return new wr(e)}:al;function Ki(e){return function(t){var r=ho(t);return r==b?ir(t):r==P?lr(t):function(e,t){return It(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Vi(e,t,r,s,u,d,h,p){var f=2&t;if(!f&&"function"!=typeof e)throw new Pe(o);var g=s?s.length:0;if(g||(t&=-97,s=u=i),h=h===i?h:gr(pa(h),0),p=p===i?p:pa(p),g-=u?u.length:0,64&t){var m=s,v=u;s=u=i}var y=f?i:ro(e),C=[e,t,r,s,u,m,v,d,h,p];if(y&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==c&&8==r||n==c&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?wi(u,l,t[4]):l,e[4]=u?sr(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Ri(u,l,t[6]):l,e[6]=u?sr(e[5],a):t[6]),(l=t[7])&&(e[7]=l),n&c&&(e[8]=null==e[8]?t[8]:mr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(C,y),e=C[0],t=C[1],r=C[2],s=C[3],u=C[4],!(p=C[9]=C[9]===i?f?0:e.length:gr(C[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||16==t?function(e,t,r){var o=xi(e);return function s(){for(var a=arguments.length,l=n(a),c=a,u=io(s);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:sr(l,u);return(a-=d.length)<r?Wi(e,t,Fi,s.placeholder,i,l,d,i,i,r-a):_t(this&&this!==dt&&this instanceof s?o:e,this,l)}}(e,t,p):t!=l&&33!=t||u.length?Fi.apply(i,C):function(e,t,r,i){var o=1&t,s=xi(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,d=n(u+l),h=this&&this!==dt&&this instanceof t?s:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++a];return _t(h,o?r:this,d)}}(e,t,r,s);else var S=function(e,t,r){var n=1&t,i=xi(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Oo((y?Yn:Po)(S,C),e,t)}function Ji(e,t,r,n){return e===i||Bs(e,Oe[r])&&!Ae.call(n,r)?t:e}function Xi(e,t,r,n,o,s){return Qs(e)&&Qs(t)&&(s.set(t,e),Bn(e,t,i,Xi,s),s.delete(t)),e}function Yi(e){return na(e)?i:e}function Zi(e,t,r,n,o,s){var a=1&r,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,p=!0,f=2&r?new Hr:i;for(s.set(e,t),s.set(t,e);++h<l;){var g=e[h],m=t[h];if(n)var v=a?n(m,g,h,t,e,s):n(g,m,h,e,t,s);if(v!==i){if(v)continue;p=!1;break}if(f){if(!Nt(t,(function(e,t){if(!Yt(f,t)&&(g===e||o(g,e,r,n,s)))return f.push(t)}))){p=!1;break}}else if(g!==m&&!o(g,m,r,n,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Qi(e){return Do(wo(e,i,Wo),e+"")}function eo(e){return bn(e,Oa,co)}function to(e){return bn(e,Ia,uo)}var ro=Pr?function(e){return Pr.get(e)}:al;function no(e){for(var t=e.name+"",r=kr[t],n=Ae.call(kr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Ae.call(Fr,"placeholder")?Fr:e).placeholder}function oo(){var e=Fr.iteratee||nl;return e=e===nl?An:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Oa(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,bo(i)]}return t}function lo(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Mn(r)?r:i}var co=gt?function(e){return null==e?[]:(e=we(e),kt(gt(e),(function(t){return $e.call(e,t)})))}:fl,uo=gt?function(e){for(var t=[];e;)Mt(t,co(e)),e=We(e);return t}:fl,ho=_n;function po(e,t,r){for(var n=-1,i=(t=mi(t,e)).length,o=!1;++n<i;){var s=jo(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Zs(i)&&mo(s,i)&&(zs(e)||Us(e))}function fo(e){return"function"!=typeof e.constructor||To(e)?{}:Lr(We(e))}function go(e){return zs(e)||Us(e)||!!(Ve&&e&&e[Ve])}function mo(e,t){var r=typeof e;return!!(t=null==t?d:t)&&("number"==r||"symbol"!=r&&ve.test(e))&&e>-1&&e%1==0&&e<t}function vo(e,t,r){if(!Qs(r))return!1;var n=typeof t;return!!("number"==n?Hs(r)&&mo(t,r.length):"string"==n&&t in r)&&Bs(r[t],e)}function yo(e,t){if(zs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!aa(e))||Q.test(e)||!Z.test(e)||null!=t&&e in we(t)}function Co(e){var t=no(e),r=Fr[t];if("function"!=typeof r||!(t in qr.prototype))return!1;if(e===r)return!0;var n=ro(r);return!!n&&e===n[0]}(Tr&&ho(new Tr(new ArrayBuffer(1)))!=M||br&&ho(new br)!=b||_r&&ho(_r.resolve())!=R||wr&&ho(new wr)!=P||Rr&&ho(new Rr)!=O)&&(ho=function(e){var t=_n(e),r=t==w?e.constructor:i,n=r?Fo(r):"";if(n)switch(n){case Dr:return M;case Or:return b;case Ir:return R;case Mr:return P;case Ar:return O}return t});var So=Ie?Xs:gl;function To(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function bo(e){return e==e&&!Qs(e)}function _o(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in we(r))}}function wo(e,t,r){return t=gr(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=gr(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=i[o];return l[t]=r(a),_t(e,this,l)}}function Ro(e,t){return t.length<2?e:Tn(e,ei(t,0,-1))}function Eo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Io(Yn),ko=ut||function(e,t){return dt.setTimeout(e,t)},Do=Io(Zn);function Oo(e,t,r){var n=t+"";return Do(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Rt(f,(function(r){var n="_."+r[0];t&r[1]&&!Dt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(n),r)))}function Io(e){var t=0,r=0;return function(){var n=vr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Mo(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var s=Hn(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Ao,xo,No=(Ao=As((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,r,n,i){t.push(n?i.replace(ue,"$1"):r||e)})),t}),(function(e){return 500===xo.size&&xo.clear(),e})),xo=Ao.cache,Ao);function jo(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fo(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Lo(e){if(e instanceof qr)return e.clone();var t=new Gr(e.__wrapped__,e.__chain__);return t.__actions__=Ei(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bo=Kn((function(e,t){return $s(e)?cn(e,gn(t,1,$s,!0)):[]})),Go=Kn((function(e,t){var r=Jo(t);return $s(r)&&(r=i),$s(e)?cn(e,gn(t,1,$s,!0),oo(r,2)):[]})),qo=Kn((function(e,t){var r=Jo(t);return $s(r)&&(r=i),$s(e)?cn(e,gn(t,1,$s,!0),i,r):[]}));function Uo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:pa(r);return i<0&&(i=gr(n+i,0)),Lt(e,oo(t,3),i)}function zo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=pa(r),o=r<0?gr(n+o,0):mr(o,n-1)),Lt(e,oo(t,3),o,!0)}function Wo(e){return null!=e&&e.length?gn(e,1):[]}function Ho(e){return e&&e.length?e[0]:i}var $o=Kn((function(e){var t=It(e,fi);return t.length&&t[0]===e[0]?Pn(t):[]})),Ko=Kn((function(e){var t=Jo(e),r=It(e,fi);return t===Jo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Pn(r,oo(t,2)):[]})),Vo=Kn((function(e){var t=Jo(e),r=It(e,fi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?Pn(r,i,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xo=Kn(Yo);function Yo(e,t){return e&&e.length&&t&&t.length?zn(e,t):e}var Zo=Qi((function(e,t){var r=null==e?0:e.length,n=nn(e,t);return Wn(e,It(t,(function(e){return mo(e,r)?+e:e})).sort(_i)),n}));function Qo(e){return null==e?e:Sr.call(e)}var es=Kn((function(e){return ai(gn(e,1,$s,!0))})),ts=Kn((function(e){var t=Jo(e);return $s(t)&&(t=i),ai(gn(e,1,$s,!0),oo(t,2))})),rs=Kn((function(e){var t=Jo(e);return t="function"==typeof t?t:i,ai(gn(e,1,$s,!0),i,t)}));function ns(e){if(!e||!e.length)return[];var t=0;return e=kt(e,(function(e){if($s(e))return t=gr(e.length,t),!0})),Kt(t,(function(t){return It(e,zt(t))}))}function is(e,t){if(!e||!e.length)return[];var r=ns(e);return null==t?r:It(r,(function(e){return _t(t,i,e)}))}var os=Kn((function(e,t){return $s(e)?cn(e,t):[]})),ss=Kn((function(e){return hi(kt(e,$s))})),as=Kn((function(e){var t=Jo(e);return $s(t)&&(t=i),hi(kt(e,$s),oo(t,2))})),ls=Kn((function(e){var t=Jo(e);return t="function"==typeof t?t:i,hi(kt(e,$s),i,t)})),cs=Kn(ns),us=Kn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,is(e,r)}));function ds(e){var t=Fr(e);return t.__chain__=!0,t}function hs(e,t){return t(e)}var ps=Qi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return nn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof qr&&mo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:hs,args:[o],thisArg:i}),new Gr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),fs=ki((function(e,t,r){Ae.call(e,r)?++e[r]:rn(e,r,1)})),gs=Ni(Uo),ms=Ni(zo);function vs(e,t){return(zs(e)?Rt:un)(e,oo(t,3))}function ys(e,t){return(zs(e)?Et:dn)(e,oo(t,3))}var Cs=ki((function(e,t,r){Ae.call(e,r)?e[r].push(t):rn(e,r,[t])})),Ss=Kn((function(e,t,r){var i=-1,o="function"==typeof t,s=Hs(e)?n(e.length):[];return un(e,(function(e){s[++i]=o?_t(t,e,r):kn(e,t,r)})),s})),Ts=ki((function(e,t,r){rn(e,r,t)}));function bs(e,t){return(zs(e)?It:jn)(e,oo(t,3))}var _s=ki((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),ws=Kn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&vo(e,t[0],t[1])?t=[]:r>2&&vo(t[0],t[1],t[2])&&(t=[t[0]]),qn(e,gn(t,1),[])})),Rs=ct||function(){return dt.Date.now()};function Es(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Vi(e,c,i,i,i,i,t)}function Ps(e,t){var r;if("function"!=typeof t)throw new Pe(o);return e=pa(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var ks=Kn((function(e,t,r){var n=1;if(r.length){var i=sr(r,io(ks));n|=l}return Vi(e,n,t,r,i)})),Ds=Kn((function(e,t,r){var n=3;if(r.length){var i=sr(r,io(Ds));n|=l}return Vi(t,n,e,r,i)}));function Os(e,t,r){var n,s,a,l,c,u,d=0,h=!1,p=!1,f=!0;if("function"!=typeof e)throw new Pe(o);function g(t){var r=n,o=s;return n=s=i,d=t,l=e.apply(o,r)}function m(e){var r=e-u;return u===i||r>=t||r<0||p&&e-d>=a}function v(){var e=Rs();if(m(e))return y(e);c=ko(v,function(e){var r=t-(e-u);return p?mr(r,a-(e-d)):r}(e))}function y(e){return c=i,f&&n?g(e):(n=s=i,l)}function C(){var e=Rs(),r=m(e);if(n=arguments,s=this,u=e,r){if(c===i)return function(e){return d=e,c=ko(v,t),h?g(e):l}(u);if(p)return Ci(c),c=ko(v,t),g(u)}return c===i&&(c=ko(v,t)),l}return t=ga(t)||0,Qs(r)&&(h=!!r.leading,a=(p="maxWait"in r)?gr(ga(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),C.cancel=function(){c!==i&&Ci(c),d=0,n=u=s=c=i},C.flush=function(){return c===i?l:y(Rs())},C}var Is=Kn((function(e,t){return ln(e,1,t)})),Ms=Kn((function(e,t,r){return ln(e,ga(t)||0,r)}));function As(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(As.Cache||Wr),r}function xs(e){if("function"!=typeof e)throw new Pe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}As.Cache=Wr;var Ns=vi((function(e,t){var r=(t=1==t.length&&zs(t[0])?It(t[0],Jt(oo())):It(gn(t,1),Jt(oo()))).length;return Kn((function(n){for(var i=-1,o=mr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return _t(e,this,n)}))})),js=Kn((function(e,t){var r=sr(t,io(js));return Vi(e,l,i,t,r)})),Fs=Kn((function(e,t){var r=sr(t,io(Fs));return Vi(e,64,i,t,r)})),Ls=Qi((function(e,t){return Vi(e,256,i,i,i,t)}));function Bs(e,t){return e===t||e!=e&&t!=t}var Gs=zi(wn),qs=zi((function(e,t){return e>=t})),Us=Dn(function(){return arguments}())?Dn:function(e){return ea(e)&&Ae.call(e,"callee")&&!$e.call(e,"callee")},zs=n.isArray,Ws=vt?Jt(vt):function(e){return ea(e)&&_n(e)==I};function Hs(e){return null!=e&&Zs(e.length)&&!Xs(e)}function $s(e){return ea(e)&&Hs(e)}var Ks=mt||gl,Vs=yt?Jt(yt):function(e){return ea(e)&&_n(e)==y};function Js(e){if(!ea(e))return!1;var t=_n(e);return t==C||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!na(e)}function Xs(e){if(!Qs(e))return!1;var t=_n(e);return t==S||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ys(e){return"number"==typeof e&&e==pa(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Qs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=Ct?Jt(Ct):function(e){return ea(e)&&ho(e)==b};function ra(e){return"number"==typeof e||ea(e)&&_n(e)==_}function na(e){if(!ea(e)||_n(e)!=w)return!1;var t=We(e);if(null===t)return!0;var r=Ae.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Me.call(r)==Fe}var ia=St?Jt(St):function(e){return ea(e)&&_n(e)==E},oa=Tt?Jt(Tt):function(e){return ea(e)&&ho(e)==P};function sa(e){return"string"==typeof e||!zs(e)&&ea(e)&&_n(e)==k}function aa(e){return"symbol"==typeof e||ea(e)&&_n(e)==D}var la=bt?Jt(bt):function(e){return ea(e)&&Zs(e.length)&&!!it[_n(e)]},ca=zi(Nn),ua=zi((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Hs(e))return sa(e)?ur(e):Ei(e);if(Je&&e[Je])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Je]());var t=ho(e);return(t==b?ir:t==P?ar:Ba)(e)}function ha(e){return e?(e=ga(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function pa(e){var t=ha(e),r=t%1;return t==t?r?t-r:t:0}function fa(e){return e?on(pa(e),0,p):0}function ga(e){if("number"==typeof e)return e;if(aa(e))return h;if(Qs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vt(e);var r=fe.test(e);return r||me.test(e)?lt(e.slice(2),r?2:8):pe.test(e)?h:+e}function ma(e){return Pi(e,Ia(e))}function va(e){return null==e?"":si(e)}var ya=Di((function(e,t){if(To(t)||Hs(t))Pi(t,Oa(t),e);else for(var r in t)Ae.call(t,r)&&Zr(e,r,t[r])})),Ca=Di((function(e,t){Pi(t,Ia(t),e)})),Sa=Di((function(e,t,r,n){Pi(t,Ia(t),e,n)})),Ta=Di((function(e,t,r,n){Pi(t,Oa(t),e,n)})),ba=Qi(nn),_a=Kn((function(e,t){e=we(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&vo(t[0],t[1],o)&&(n=1);++r<n;)for(var s=t[r],a=Ia(s),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===i||Bs(d,Oe[u])&&!Ae.call(e,u))&&(e[u]=s[u])}return e})),wa=Kn((function(e){return e.push(i,Xi),_t(Aa,i,e)}));function Ra(e,t,r){var n=null==e?i:Tn(e,t);return n===i?r:n}function Ea(e,t){return null!=e&&po(e,t,En)}var Pa=Li((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=r}),Qa(rl)),ka=Li((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Ae.call(e,t)?e[t].push(r):e[t]=[r]}),oo),Da=Kn(kn);function Oa(e){return Hs(e)?Kr(e):xn(e)}function Ia(e){return Hs(e)?Kr(e,!0):function(e){if(!Qs(e))return function(e){var t=[];if(null!=e)for(var r in we(e))t.push(r);return t}(e);var t=To(e),r=[];for(var n in e)("constructor"!=n||!t&&Ae.call(e,n))&&r.push(n);return r}(e)}var Ma=Di((function(e,t,r){Bn(e,t,r)})),Aa=Di((function(e,t,r,n){Bn(e,t,r,n)})),xa=Qi((function(e,t){var r={};if(null==e)return r;var n=!1;t=It(t,(function(t){return t=mi(t,e),n||(n=t.length>1),t})),Pi(e,to(e),r),n&&(r=sn(r,7,Yi));for(var i=t.length;i--;)li(r,t[i]);return r})),Na=Qi((function(e,t){return null==e?{}:function(e,t){return Un(e,t,(function(t,r){return Ea(e,r)}))}(e,t)}));function ja(e,t){if(null==e)return{};var r=It(to(e),(function(e){return[e]}));return t=oo(t),Un(e,r,(function(e,r){return t(e,r[0])}))}var Fa=Ki(Oa),La=Ki(Ia);function Ba(e){return null==e?[]:Xt(e,Oa(e))}var Ga=Ai((function(e,t,r){return t=t.toLowerCase(),e+(r?qa(t):t)}));function qa(e){return Ja(va(e).toLowerCase())}function Ua(e){return(e=va(e))&&e.replace(ye,er).replace(Ye,"")}var za=Ai((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Wa=Ai((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Ha=Mi("toLowerCase"),$a=Ai((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Ka=Ai((function(e,t,r){return e+(r?" ":"")+Ja(t)})),Va=Ai((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Ja=Mi("toUpperCase");function Xa(e,t,r){return e=va(e),(t=r?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Ya=Kn((function(e,t){try{return _t(e,i,t)}catch(e){return Js(e)?e:new Te(e)}})),Za=Qi((function(e,t){return Rt(t,(function(t){t=jo(t),rn(e,t,ks(e[t],e))})),e}));function Qa(e){return function(){return e}}var el=ji(),tl=ji(!0);function rl(e){return e}function nl(e){return An("function"==typeof e?e:sn(e,1))}var il=Kn((function(e,t){return function(r){return kn(r,e,t)}})),ol=Kn((function(e,t){return function(r){return kn(e,r,t)}}));function sl(e,t,r){var n=Oa(t),i=Sn(t,n);null!=r||Qs(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Sn(t,Oa(t)));var o=!(Qs(r)&&"chain"in r&&!r.chain),s=Xs(e);return Rt(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Ei(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Mt([this.value()],arguments))})})),e}function al(){}var ll=Gi(It),cl=Gi(Pt),ul=Gi(Nt);function dl(e){return yo(e)?zt(jo(e)):function(e){return function(t){return Tn(t,e)}}(e)}var hl=Ui(),pl=Ui(!0);function fl(){return[]}function gl(){return!1}var ml,vl=Bi((function(e,t){return e+t}),0),yl=Hi("ceil"),Cl=Bi((function(e,t){return e/t}),1),Sl=Hi("floor"),Tl=Bi((function(e,t){return e*t}),1),bl=Hi("round"),_l=Bi((function(e,t){return e-t}),0);return Fr.after=function(e,t){if("function"!=typeof t)throw new Pe(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Fr.ary=Es,Fr.assign=ya,Fr.assignIn=Ca,Fr.assignInWith=Sa,Fr.assignWith=Ta,Fr.at=ba,Fr.before=Ps,Fr.bind=ks,Fr.bindAll=Za,Fr.bindKey=Ds,Fr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zs(e)?e:[e]},Fr.chain=ds,Fr.chunk=function(e,t,r){t=(r?vo(e,t,r):t===i)?1:gr(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=n(ht(o/t));s<o;)l[a++]=ei(e,s,s+=t);return l},Fr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Fr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(zs(r)?Ei(r):[r],gn(t,1))},Fr.cond=function(e){var t=null==e?0:e.length,r=oo();return e=t?It(e,(function(e){if("function"!=typeof e[1])throw new Pe(o);return[r(e[0]),e[1]]})):[],Kn((function(r){for(var n=-1;++n<t;){var i=e[n];if(_t(i[0],this,r))return _t(i[1],this,r)}}))},Fr.conforms=function(e){return function(e){var t=Oa(e);return function(r){return an(r,e,t)}}(sn(e,1))},Fr.constant=Qa,Fr.countBy=fs,Fr.create=function(e,t){var r=Lr(e);return null==t?r:tn(r,t)},Fr.curry=function e(t,r,n){var o=Vi(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Fr.curryRight=function e(t,r,n){var o=Vi(t,16,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Fr.debounce=Os,Fr.defaults=_a,Fr.defaultsDeep=wa,Fr.defer=Is,Fr.delay=Ms,Fr.difference=Bo,Fr.differenceBy=Go,Fr.differenceWith=qo,Fr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ei(e,(t=r||t===i?1:pa(t))<0?0:t,n):[]},Fr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ei(e,0,(t=n-(t=r||t===i?1:pa(t)))<0?0:t):[]},Fr.dropRightWhile=function(e,t){return e&&e.length?ui(e,oo(t,3),!0,!0):[]},Fr.dropWhile=function(e,t){return e&&e.length?ui(e,oo(t,3),!0):[]},Fr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&vo(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=pa(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:pa(n))<0&&(n+=o),n=r>n?0:fa(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Fr.filter=function(e,t){return(zs(e)?kt:fn)(e,oo(t,3))},Fr.flatMap=function(e,t){return gn(bs(e,t),1)},Fr.flatMapDeep=function(e,t){return gn(bs(e,t),u)},Fr.flatMapDepth=function(e,t,r){return r=r===i?1:pa(r),gn(bs(e,t),r)},Fr.flatten=Wo,Fr.flattenDeep=function(e){return null!=e&&e.length?gn(e,u):[]},Fr.flattenDepth=function(e,t){return null!=e&&e.length?gn(e,t=t===i?1:pa(t)):[]},Fr.flip=function(e){return Vi(e,512)},Fr.flow=el,Fr.flowRight=tl,Fr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Fr.functions=function(e){return null==e?[]:Sn(e,Oa(e))},Fr.functionsIn=function(e){return null==e?[]:Sn(e,Ia(e))},Fr.groupBy=Cs,Fr.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Fr.intersection=$o,Fr.intersectionBy=Ko,Fr.intersectionWith=Vo,Fr.invert=Pa,Fr.invertBy=ka,Fr.invokeMap=Ss,Fr.iteratee=nl,Fr.keyBy=Ts,Fr.keys=Oa,Fr.keysIn=Ia,Fr.map=bs,Fr.mapKeys=function(e,t){var r={};return t=oo(t,3),yn(e,(function(e,n,i){rn(r,t(e,n,i),e)})),r},Fr.mapValues=function(e,t){var r={};return t=oo(t,3),yn(e,(function(e,n,i){rn(r,n,t(e,n,i))})),r},Fr.matches=function(e){return Fn(sn(e,1))},Fr.matchesProperty=function(e,t){return Ln(e,sn(t,1))},Fr.memoize=As,Fr.merge=Ma,Fr.mergeWith=Aa,Fr.method=il,Fr.methodOf=ol,Fr.mixin=sl,Fr.negate=xs,Fr.nthArg=function(e){return e=pa(e),Kn((function(t){return Gn(t,e)}))},Fr.omit=xa,Fr.omitBy=function(e,t){return ja(e,xs(oo(t)))},Fr.once=function(e){return Ps(2,e)},Fr.orderBy=function(e,t,r,n){return null==e?[]:(zs(t)||(t=null==t?[]:[t]),zs(r=n?i:r)||(r=null==r?[]:[r]),qn(e,t,r))},Fr.over=ll,Fr.overArgs=Ns,Fr.overEvery=cl,Fr.overSome=ul,Fr.partial=js,Fr.partialRight=Fs,Fr.partition=_s,Fr.pick=Na,Fr.pickBy=ja,Fr.property=dl,Fr.propertyOf=function(e){return function(t){return null==e?i:Tn(e,t)}},Fr.pull=Xo,Fr.pullAll=Yo,Fr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?zn(e,t,oo(r,2)):e},Fr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?zn(e,t,i,r):e},Fr.pullAt=Zo,Fr.range=hl,Fr.rangeRight=pl,Fr.rearg=Ls,Fr.reject=function(e,t){return(zs(e)?kt:fn)(e,xs(oo(t,3)))},Fr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=oo(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Wn(e,i),r},Fr.rest=function(e,t){if("function"!=typeof e)throw new Pe(o);return Kn(e,t=t===i?t:pa(t))},Fr.reverse=Qo,Fr.sampleSize=function(e,t,r){return t=(r?vo(e,t,r):t===i)?1:pa(t),(zs(e)?Jr:Jn)(e,t)},Fr.set=function(e,t,r){return null==e?e:Xn(e,t,r)},Fr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Xn(e,t,r,n)},Fr.shuffle=function(e){return(zs(e)?Xr:Qn)(e)},Fr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&vo(e,t,r)?(t=0,r=n):(t=null==t?0:pa(t),r=r===i?n:pa(r)),ei(e,t,r)):[]},Fr.sortBy=ws,Fr.sortedUniq=function(e){return e&&e.length?ii(e):[]},Fr.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},Fr.split=function(e,t,r){return r&&"number"!=typeof r&&vo(e,t,r)&&(t=r=i),(r=r===i?p:r>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=si(t))&&nr(e)?yi(ur(e),0,r):e.split(t,r):[]},Fr.spread=function(e,t){if("function"!=typeof e)throw new Pe(o);return t=null==t?0:gr(pa(t),0),Kn((function(r){var n=r[t],i=yi(r,0,t);return n&&Mt(i,n),_t(e,this,i)}))},Fr.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Fr.take=function(e,t,r){return e&&e.length?ei(e,0,(t=r||t===i?1:pa(t))<0?0:t):[]},Fr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ei(e,(t=n-(t=r||t===i?1:pa(t)))<0?0:t,n):[]},Fr.takeRightWhile=function(e,t){return e&&e.length?ui(e,oo(t,3),!1,!0):[]},Fr.takeWhile=function(e,t){return e&&e.length?ui(e,oo(t,3)):[]},Fr.tap=function(e,t){return t(e),e},Fr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Pe(o);return Qs(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Os(e,t,{leading:n,maxWait:t,trailing:i})},Fr.thru=hs,Fr.toArray=da,Fr.toPairs=Fa,Fr.toPairsIn=La,Fr.toPath=function(e){return zs(e)?It(e,jo):aa(e)?[e]:Ei(No(va(e)))},Fr.toPlainObject=ma,Fr.transform=function(e,t,r){var n=zs(e),i=n||Ks(e)||la(e);if(t=oo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:Qs(e)&&Xs(o)?Lr(We(e)):{}}return(i?Rt:yn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Fr.unary=function(e){return Es(e,1)},Fr.union=es,Fr.unionBy=ts,Fr.unionWith=rs,Fr.uniq=function(e){return e&&e.length?ai(e):[]},Fr.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},Fr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},Fr.unset=function(e,t){return null==e||li(e,t)},Fr.unzip=ns,Fr.unzipWith=is,Fr.update=function(e,t,r){return null==e?e:ci(e,t,gi(r))},Fr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:ci(e,t,gi(r),n)},Fr.values=Ba,Fr.valuesIn=function(e){return null==e?[]:Xt(e,Ia(e))},Fr.without=os,Fr.words=Xa,Fr.wrap=function(e,t){return js(gi(t),e)},Fr.xor=ss,Fr.xorBy=as,Fr.xorWith=ls,Fr.zip=cs,Fr.zipObject=function(e,t){return pi(e||[],t||[],Zr)},Fr.zipObjectDeep=function(e,t){return pi(e||[],t||[],Xn)},Fr.zipWith=us,Fr.entries=Fa,Fr.entriesIn=La,Fr.extend=Ca,Fr.extendWith=Sa,sl(Fr,Fr),Fr.add=vl,Fr.attempt=Ya,Fr.camelCase=Ga,Fr.capitalize=qa,Fr.ceil=yl,Fr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=ga(r))==r?r:0),t!==i&&(t=(t=ga(t))==t?t:0),on(ga(e),t,r)},Fr.clone=function(e){return sn(e,4)},Fr.cloneDeep=function(e){return sn(e,5)},Fr.cloneDeepWith=function(e,t){return sn(e,5,t="function"==typeof t?t:i)},Fr.cloneWith=function(e,t){return sn(e,4,t="function"==typeof t?t:i)},Fr.conformsTo=function(e,t){return null==t||an(e,t,Oa(t))},Fr.deburr=Ua,Fr.defaultTo=function(e,t){return null==e||e!=e?t:e},Fr.divide=Cl,Fr.endsWith=function(e,t,r){e=va(e),t=si(t);var n=e.length,o=r=r===i?n:on(pa(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Fr.eq=Bs,Fr.escape=function(e){return(e=va(e))&&V.test(e)?e.replace($,tr):e},Fr.escapeRegExp=function(e){return(e=va(e))&&re.test(e)?e.replace(te,"\\$&"):e},Fr.every=function(e,t,r){var n=zs(e)?Pt:hn;return r&&vo(e,t,r)&&(t=i),n(e,oo(t,3))},Fr.find=gs,Fr.findIndex=Uo,Fr.findKey=function(e,t){return Ft(e,oo(t,3),yn)},Fr.findLast=ms,Fr.findLastIndex=zo,Fr.findLastKey=function(e,t){return Ft(e,oo(t,3),Cn)},Fr.floor=Sl,Fr.forEach=vs,Fr.forEachRight=ys,Fr.forIn=function(e,t){return null==e?e:mn(e,oo(t,3),Ia)},Fr.forInRight=function(e,t){return null==e?e:vn(e,oo(t,3),Ia)},Fr.forOwn=function(e,t){return e&&yn(e,oo(t,3))},Fr.forOwnRight=function(e,t){return e&&Cn(e,oo(t,3))},Fr.get=Ra,Fr.gt=Gs,Fr.gte=qs,Fr.has=function(e,t){return null!=e&&po(e,t,Rn)},Fr.hasIn=Ea,Fr.head=Ho,Fr.identity=rl,Fr.includes=function(e,t,r,n){e=Hs(e)?e:Ba(e),r=r&&!n?pa(r):0;var i=e.length;return r<0&&(r=gr(i+r,0)),sa(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Bt(e,t,r)>-1},Fr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:pa(r);return i<0&&(i=gr(n+i,0)),Bt(e,t,i)},Fr.inRange=function(e,t,r){return t=ha(t),r===i?(r=t,t=0):r=ha(r),function(e,t,r){return e>=mr(t,r)&&e<gr(t,r)}(e=ga(e),t,r)},Fr.invoke=Da,Fr.isArguments=Us,Fr.isArray=zs,Fr.isArrayBuffer=Ws,Fr.isArrayLike=Hs,Fr.isArrayLikeObject=$s,Fr.isBoolean=function(e){return!0===e||!1===e||ea(e)&&_n(e)==v},Fr.isBuffer=Ks,Fr.isDate=Vs,Fr.isElement=function(e){return ea(e)&&1===e.nodeType&&!na(e)},Fr.isEmpty=function(e){if(null==e)return!0;if(Hs(e)&&(zs(e)||"string"==typeof e||"function"==typeof e.splice||Ks(e)||la(e)||Us(e)))return!e.length;var t=ho(e);if(t==b||t==P)return!e.size;if(To(e))return!xn(e).length;for(var r in e)if(Ae.call(e,r))return!1;return!0},Fr.isEqual=function(e,t){return On(e,t)},Fr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?On(e,t,i,r):!!n},Fr.isError=Js,Fr.isFinite=function(e){return"number"==typeof e&&jt(e)},Fr.isFunction=Xs,Fr.isInteger=Ys,Fr.isLength=Zs,Fr.isMap=ta,Fr.isMatch=function(e,t){return e===t||In(e,t,ao(t))},Fr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,In(e,t,ao(t),r)},Fr.isNaN=function(e){return ra(e)&&e!=+e},Fr.isNative=function(e){if(So(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mn(e)},Fr.isNil=function(e){return null==e},Fr.isNull=function(e){return null===e},Fr.isNumber=ra,Fr.isObject=Qs,Fr.isObjectLike=ea,Fr.isPlainObject=na,Fr.isRegExp=ia,Fr.isSafeInteger=function(e){return Ys(e)&&e>=-9007199254740991&&e<=d},Fr.isSet=oa,Fr.isString=sa,Fr.isSymbol=aa,Fr.isTypedArray=la,Fr.isUndefined=function(e){return e===i},Fr.isWeakMap=function(e){return ea(e)&&ho(e)==O},Fr.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==_n(e)},Fr.join=function(e,t){return null==e?"":Wt.call(e,t)},Fr.kebabCase=za,Fr.last=Jo,Fr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=pa(r))<0?gr(n+o,0):mr(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Lt(e,qt,o,!0)},Fr.lowerCase=Wa,Fr.lowerFirst=Ha,Fr.lt=ca,Fr.lte=ua,Fr.max=function(e){return e&&e.length?pn(e,rl,wn):i},Fr.maxBy=function(e,t){return e&&e.length?pn(e,oo(t,2),wn):i},Fr.mean=function(e){return Ut(e,rl)},Fr.meanBy=function(e,t){return Ut(e,oo(t,2))},Fr.min=function(e){return e&&e.length?pn(e,rl,Nn):i},Fr.minBy=function(e,t){return e&&e.length?pn(e,oo(t,2),Nn):i},Fr.stubArray=fl,Fr.stubFalse=gl,Fr.stubObject=function(){return{}},Fr.stubString=function(){return""},Fr.stubTrue=function(){return!0},Fr.multiply=Tl,Fr.nth=function(e,t){return e&&e.length?Gn(e,pa(t)):i},Fr.noConflict=function(){return dt._===this&&(dt._=Le),this},Fr.noop=al,Fr.now=Rs,Fr.pad=function(e,t,r){e=va(e);var n=(t=pa(t))?cr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return qi(pt(i),r)+e+qi(ht(i),r)},Fr.padEnd=function(e,t,r){e=va(e);var n=(t=pa(t))?cr(e):0;return t&&n<t?e+qi(t-n,r):e},Fr.padStart=function(e,t,r){e=va(e);var n=(t=pa(t))?cr(e):0;return t&&n<t?qi(t-n,r)+e:e},Fr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),yr(va(e).replace(ne,""),t||0)},Fr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&vo(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ha(e),t===i?(t=e,e=0):t=ha(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=Cr();return mr(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return Hn(e,t)},Fr.reduce=function(e,t,r){var n=zs(e)?At:Ht,i=arguments.length<3;return n(e,oo(t,4),r,i,un)},Fr.reduceRight=function(e,t,r){var n=zs(e)?xt:Ht,i=arguments.length<3;return n(e,oo(t,4),r,i,dn)},Fr.repeat=function(e,t,r){return t=(r?vo(e,t,r):t===i)?1:pa(t),$n(va(e),t)},Fr.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fr.result=function(e,t,r){var n=-1,o=(t=mi(t,e)).length;for(o||(o=1,e=i);++n<o;){var s=null==e?i:e[jo(t[n])];s===i&&(n=o,s=r),e=Xs(s)?s.call(e):s}return e},Fr.round=bl,Fr.runInContext=e,Fr.sample=function(e){return(zs(e)?Vr:Vn)(e)},Fr.size=function(e){if(null==e)return 0;if(Hs(e))return sa(e)?cr(e):e.length;var t=ho(e);return t==b||t==P?e.size:xn(e).length},Fr.snakeCase=$a,Fr.some=function(e,t,r){var n=zs(e)?Nt:ti;return r&&vo(e,t,r)&&(t=i),n(e,oo(t,3))},Fr.sortedIndex=function(e,t){return ri(e,t)},Fr.sortedIndexBy=function(e,t,r){return ni(e,t,oo(r,2))},Fr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ri(e,t);if(n<r&&Bs(e[n],t))return n}return-1},Fr.sortedLastIndex=function(e,t){return ri(e,t,!0)},Fr.sortedLastIndexBy=function(e,t,r){return ni(e,t,oo(r,2),!0)},Fr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ri(e,t,!0)-1;if(Bs(e[r],t))return r}return-1},Fr.startCase=Ka,Fr.startsWith=function(e,t,r){return e=va(e),r=null==r?0:on(pa(r),0,e.length),t=si(t),e.slice(r,r+t.length)==t},Fr.subtract=_l,Fr.sum=function(e){return e&&e.length?$t(e,rl):0},Fr.sumBy=function(e,t){return e&&e.length?$t(e,oo(t,2)):0},Fr.template=function(e,t,r){var n=Fr.templateSettings;r&&vo(e,t,r)&&(t=i),e=va(e),t=Sa({},t,n,Ji);var o,s,a=Sa({},t.imports,n.imports,Ji),l=Oa(a),c=Xt(a,l),u=0,d=t.interpolate||Ce,h="__p += '",p=Re((t.escape||Ce).source+"|"+d.source+"|"+(d===Y?de:Ce).source+"|"+(t.evaluate||Ce).source+"|$","g"),f="//# sourceURL="+(Ae.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";e.replace(p,(function(t,r,n,i,a,l){return n||(n=i),h+=e.slice(u,l).replace(Se,rr),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var g=Ae.call(t,"variable")&&t.variable;if(g){if(ce.test(g))throw new Te("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(U,""):h).replace(z,"$1").replace(W,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Ya((function(){return be(l,f+"return "+h).apply(i,c)}));if(m.source=h,Js(m))throw m;return m},Fr.times=function(e,t){if((e=pa(e))<1||e>d)return[];var r=p,n=mr(e,p);t=oo(t),e-=p;for(var i=Kt(n,t);++r<e;)t(r);return i},Fr.toFinite=ha,Fr.toInteger=pa,Fr.toLength=fa,Fr.toLower=function(e){return va(e).toLowerCase()},Fr.toNumber=ga,Fr.toSafeInteger=function(e){return e?on(pa(e),-9007199254740991,d):0===e?e:0},Fr.toString=va,Fr.toUpper=function(e){return va(e).toUpperCase()},Fr.trim=function(e,t,r){if((e=va(e))&&(r||t===i))return Vt(e);if(!e||!(t=si(t)))return e;var n=ur(e),o=ur(t);return yi(n,Zt(n,o),Qt(n,o)+1).join("")},Fr.trimEnd=function(e,t,r){if((e=va(e))&&(r||t===i))return e.slice(0,dr(e)+1);if(!e||!(t=si(t)))return e;var n=ur(e);return yi(n,0,Qt(n,ur(t))+1).join("")},Fr.trimStart=function(e,t,r){if((e=va(e))&&(r||t===i))return e.replace(ne,"");if(!e||!(t=si(t)))return e;var n=ur(e);return yi(n,Zt(n,ur(t))).join("")},Fr.truncate=function(e,t){var r=30,n="...";if(Qs(t)){var o="separator"in t?t.separator:o;r="length"in t?pa(t.length):r,n="omission"in t?si(t.omission):n}var s=(e=va(e)).length;if(nr(e)){var a=ur(e);s=a.length}if(r>=s)return e;var l=r-cr(n);if(l<1)return n;var c=a?yi(a,0,l).join(""):e.slice(0,l);if(o===i)return c+n;if(a&&(l+=c.length-l),ia(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=Re(o.source,va(he.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var h=u.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(si(o),l)!=l){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+n},Fr.unescape=function(e){return(e=va(e))&&K.test(e)?e.replace(H,hr):e},Fr.uniqueId=function(e){var t=++xe;return va(e)+t},Fr.upperCase=Va,Fr.upperFirst=Ja,Fr.each=vs,Fr.eachRight=ys,Fr.first=Ho,sl(Fr,(ml={},yn(Fr,(function(e,t){Ae.call(Fr.prototype,t)||(ml[t]=e)})),ml),{chain:!1}),Fr.VERSION="4.17.21",Rt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Fr[e].placeholder=Fr})),Rt(["drop","take"],(function(e,t){qr.prototype[e]=function(r){r=r===i?1:gr(pa(r),0);var n=this.__filtered__&&!t?new qr(this):this.clone();return n.__filtered__?n.__takeCount__=mr(r,n.__takeCount__):n.__views__.push({size:mr(r,p),type:e+(n.__dir__<0?"Right":"")}),n},qr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Rt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;qr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Rt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");qr.prototype[e]=function(){return this[r](1).value()[0]}})),Rt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");qr.prototype[e]=function(){return this.__filtered__?new qr(this):this[r](1)}})),qr.prototype.compact=function(){return this.filter(rl)},qr.prototype.find=function(e){return this.filter(e).head()},qr.prototype.findLast=function(e){return this.reverse().find(e)},qr.prototype.invokeMap=Kn((function(e,t){return"function"==typeof e?new qr(this):this.map((function(r){return kn(r,e,t)}))})),qr.prototype.reject=function(e){return this.filter(xs(oo(e)))},qr.prototype.slice=function(e,t){e=pa(e);var r=this;return r.__filtered__&&(e>0||t<0)?new qr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=pa(t))<0?r.dropRight(-t):r.take(t-e)),r)},qr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qr.prototype.toArray=function(){return this.take(p)},yn(qr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Fr[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(Fr.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,l=t instanceof qr,c=a[0],u=l||zs(t),d=function(e){var t=o.apply(Fr,Mt([e],a));return n&&h?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=s&&!h,g=l&&!p;if(!s&&u){t=g?t:new qr(this);var m=e.apply(t,a);return m.__actions__.push({func:hs,args:[d],thisArg:i}),new Gr(m,h)}return f&&g?e.apply(this,a):(m=this.thru(d),f?n?m.value()[0]:m.value():m)})})),Rt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ke[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Fr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(zs(i)?i:[],e)}return this[r]((function(r){return t.apply(zs(r)?r:[],e)}))}})),yn(qr.prototype,(function(e,t){var r=Fr[t];if(r){var n=r.name+"";Ae.call(kr,n)||(kr[n]=[]),kr[n].push({name:t,func:r})}})),kr[Fi(i,2).name]=[{name:"wrapper",func:i}],qr.prototype.clone=function(){var e=new qr(this.__wrapped__);return e.__actions__=Ei(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ei(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ei(this.__views__),e},qr.prototype.reverse=function(){if(this.__filtered__){var e=new qr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=zs(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=mr(t,e+s);break;case"takeRight":e=gr(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=n?a:s-1,u=this.__iteratees__,d=u.length,h=0,p=mr(l,this.__takeCount__);if(!r||!n&&i==l&&p==l)return di(e,this.__actions__);var f=[];e:for(;l--&&h<p;){for(var g=-1,m=e[c+=t];++g<d;){var v=u[g],y=v.iteratee,C=v.type,S=y(m);if(2==C)m=S;else if(!S){if(1==C)continue e;break e}}f[h++]=m}return f},Fr.prototype.at=ps,Fr.prototype.chain=function(){return ds(this)},Fr.prototype.commit=function(){return new Gr(this.value(),this.__chain__)},Fr.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Fr.prototype.plant=function(e){for(var t,r=this;r instanceof Br;){var n=Lo(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Fr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qr){var t=e;return this.__actions__.length&&(t=new qr(this)),(t=t.reverse()).__actions__.push({func:hs,args:[Qo],thisArg:i}),new Gr(t,this.__chain__)}return this.thru(Qo)},Fr.prototype.toJSON=Fr.prototype.valueOf=Fr.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Fr.prototype.first=Fr.prototype.head,Je&&(Fr.prototype[Je]=function(){return this}),Fr}();dt._=pr,(n=function(){return pr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},3112:e=>{const t="object"==typeof process&&process&&"win32"===process.platform;e.exports=t?{sep:"\\"}:{sep:"/"}},4027:(e,t,r)=>{const n=e.exports=(e,t,r={})=>(m(t),!(!r.nocomment&&"#"===t.charAt(0))&&new y(t,r).match(e));e.exports=n;const i=r(3112);n.sep=i.sep;const o=Symbol("globstar **");n.GLOBSTAR=o;const s=r(8928),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},l="[^/]",c=l+"*?",u=e=>e.split("").reduce(((e,t)=>(e[t]=!0,e)),{}),d=u("().*{}+?[]^$\\!"),h=u("[.("),p=/\/+/;n.filter=(e,t={})=>(r,i,o)=>n(r,e,t);const f=(e,t={})=>{const r={};return Object.keys(e).forEach((t=>r[t]=e[t])),Object.keys(t).forEach((e=>r[e]=t[e])),r};n.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return n;const t=n,r=(r,n,i)=>t(r,n,f(e,i));return(r.Minimatch=class extends t.Minimatch{constructor(t,r){super(t,f(e,r))}}).defaults=r=>t.defaults(f(e,r)).Minimatch,r.filter=(r,n)=>t.filter(r,f(e,n)),r.defaults=r=>t.defaults(f(e,r)),r.makeRe=(r,n)=>t.makeRe(r,f(e,n)),r.braceExpand=(r,n)=>t.braceExpand(r,f(e,n)),r.match=(r,n,i)=>t.match(r,n,f(e,i)),r},n.braceExpand=(e,t)=>g(e,t);const g=(e,t={})=>(m(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:s(e)),m=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},v=Symbol("subparse");n.makeRe=(e,t)=>new y(e,t||{}).makeRe(),n.match=(e,t,r={})=>{const n=new y(t,r);return e=e.filter((e=>n.match(e))),n.options.nonull&&!e.length&&e.push(t),e};class y{constructor(e,t){m(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();let r=this.globSet=this.braceExpand();t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,r),r=this.globParts=r.map((e=>e.split(p))),this.debug(this.pattern,r),r=r.map(((e,t,r)=>e.map(this.parse,this))),this.debug(this.pattern,r),r=r.filter((e=>-1===e.indexOf(!1))),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,r=0;for(let n=0;n<e.length&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.slice(r)),this.negate=t}matchOne(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,l=t.length;i<a&&s<l;i++,s++){this.debug("matchOne loop");var c,u=t[s],d=e[i];if(this.debug(t,u,d),!1===u)return!1;if(u===o){this.debug("GLOBSTAR",[t,u,d]);var h=i,p=s+1;if(p===l){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),r))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof u?(c=d===u,this.debug("string match",u,d,c)):(c=d.match(u),this.debug("pattern match",u,d,c)),!c)return!1}if(i===a&&s===l)return!0;if(i===a)return r;if(s===l)return i===a-1&&""===e[i];throw new Error("wtf?")}braceExpand(){return g(this.pattern,this.options)}parse(e,t){m(e);const r=this.options;if("**"===e){if(!r.noglobstar)return o;e="*"}if(""===e)return"";let n="",i=!1,s=!1;const u=[],p=[];let f,g,y,C,S=!1,T=-1,b=-1,_="."===e.charAt(0),w=r.dot||_;const R=e=>"."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",E=()=>{if(f){switch(f){case"*":n+=c,i=!0;break;case"?":n+=l,i=!0;break;default:n+="\\"+f}this.debug("clearStateChar %j %j",f,n),f=!1}};for(let t,o=0;o<e.length&&(t=e.charAt(o));o++)if(this.debug("%s\t%s %s %j",e,o,n,t),s){if("/"===t)return!1;d[t]&&(n+="\\"),n+=t,s=!1}else switch(t){case"/":return!1;case"\\":if(S&&"-"===e.charAt(o+1)){n+=t;continue}E(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,o,n,t),S){this.debug("  in class"),"!"===t&&o===b+1&&(t="^"),n+=t;continue}this.debug("call clearStateChar %j",f),E(),f=t,r.noext&&E();continue;case"(":{if(S){n+="(";continue}if(!f){n+="\\(";continue}const t={type:f,start:o-1,reStart:n.length,open:a[f].open,close:a[f].close};this.debug(this.pattern,"\t",t),u.push(t),n+=t.open,0===t.start&&"!"!==t.type&&(_=!0,n+=R(e.slice(o+1))),this.debug("plType %j %j",f,n),f=!1;continue}case")":{const e=u[u.length-1];if(S||!e){n+="\\)";continue}u.pop(),E(),i=!0,y=e,n+=y.close,"!"===y.type&&p.push(Object.assign(y,{reEnd:n.length}));continue}case"|":{const t=u[u.length-1];if(S||!t){n+="\\|";continue}E(),n+="|",0===t.start&&"!"!==t.type&&(_=!0,n+=R(e.slice(o+1)));continue}case"[":if(E(),S){n+="\\"+t;continue}S=!0,b=o,T=n.length,n+=t;continue;case"]":if(o===b+1||!S){n+="\\"+t;continue}g=e.substring(b+1,o);try{RegExp("["+(g.replace(/\\([^-\]])/g,"$1").replace(/[[\]\\]/g,"\\$&")+"]")),n+=t}catch(e){n=n.substring(0,T)+"(?:$.)"}i=!0,S=!1;continue;default:E(),!d[t]||"^"===t&&S||(n+="\\"),n+=t}for(S&&(g=e.slice(b+1),C=this.parse(g,v),n=n.substring(0,T)+"\\["+C[0],i=i||C[1]),y=u.pop();y;y=u.pop()){let e;e=n.slice(y.reStart+y.open.length),this.debug("setting tail",n,y),e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,r)=>(r||(r="\\"),t+t+r+"|"))),this.debug("tail=%j\n   %s",e,e,y,n);const t="*"===y.type?c:"?"===y.type?l:"\\"+y.type;i=!0,n=n.slice(0,y.reStart)+t+"\\("+e}E(),s&&(n+="\\\\");const P=h[n.charAt(0)];for(let e=p.length-1;e>-1;e--){const r=p[e],i=n.slice(0,r.reStart),o=n.slice(r.reStart,r.reEnd-8);let s=n.slice(r.reEnd);const a=n.slice(r.reEnd-8,r.reEnd)+s,l=i.split(")").length,c=i.split("(").length-l;let u=s;for(let e=0;e<c;e++)u=u.replace(/\)[+*?]?/,"");s=u,n=i+o+s+(""===s&&t!==v?"(?:$|\\/)":"")+a}if(""!==n&&i&&(n="(?=.)"+n),P&&(n=(_?"":w?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+n),t===v)return[n,i];if(r.nocase&&!i&&(i=e.toUpperCase()!==e.toLowerCase()),!i)return(e=>e.replace(/\\(.)/g,"$1"))(e);const k=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",k),{_glob:e,_src:n})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,r=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"";let i=e.map((e=>(e=e.map((e=>"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===o?o:e._src)).reduce(((e,t)=>(e[e.length-1]===o&&t===o||e.push(t),e)),[]),e.forEach(((t,n)=>{t===o&&e[n-1]!==o&&(0===n?e.length>1?e[n+1]="(?:\\/|"+r+"\\/)?"+e[n+1]:e[n]=r:n===e.length-1?e[n-1]+="(?:\\/|"+r+")?":(e[n-1]+="(?:\\/|\\/"+r+"\\/)"+e[n+1],e[n+1]=o))})),e.filter((e=>e!==o)).join("/")))).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(e){this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const r=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/")),e=e.split(p),this.debug(this.pattern,"split",e);const n=this.set;let o;this.debug(this.pattern,"set",n);for(let t=e.length-1;t>=0&&(o=e[t],!o);t--);for(let i=0;i<n.length;i++){const s=n[i];let a=e;if(r.matchBase&&1===s.length&&(a=[o]),this.matchOne(a,s,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return n.defaults(e).Minimatch}}n.Minimatch=y},3904:(e,t,r)=>{const n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=o(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=i;const o=r(8587),{safeRe:s,t:a}=r(9718),l=r(2111),c=r(7272),u=r(3908),d=r(8311)},8311:(e,t,r)=>{const n=/\s+/g;class i{constructor(e,t){if(t=s(t),e instanceof i)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new i(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!v(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+e,r=o.get(t);if(r)return r;const n=this.options.loose,i=n?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(i,O(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],h),l("comparator trim",e),e=e.replace(u[d.TILDETRIM],p),l("tilde trim",e),e=e.replace(u[d.CARETTRIM],f),l("caret trim",e);let s=e.split(" ").map((e=>S(e,this.options))).join(" ").split(/\s+/).map((e=>D(e,this.options)));n&&(s=s.filter((e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE]))))),l("range list",s);const c=new Map,y=s.map((e=>new a(e,this.options)));for(const e of y){if(v(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");const C=[...c.values()];return o.set(t,C),C}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Range is required");return this.set.some((r=>C(r,t)&&e.set.some((e=>C(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(I(this.set[t],e,this.options))return!0;return!1}}e.exports=i;const o=new(r(8794)),s=r(8587),a=r(3904),l=r(7272),c=r(3908),{safeRe:u,t:d,comparatorTrimReplace:h,tildeTrimReplace:p,caretTrimReplace:f}=r(9718),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=r(6874),v=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,C=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every((e=>i.intersects(e,t))),i=n.pop();return r},S=(e,t)=>(l("comp",e,t),e=w(e,t),l("caret",e),e=b(e,t),l("tildes",e),e=E(e,t),l("xrange",e),e=k(e,t),l("stars",e),e),T=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>_(e,t))).join(" "),_=(e,t)=>{const r=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(r,((t,r,n,i,o)=>{let s;return l("tilde",e,t,r,n,i,o),T(r)?s="":T(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:T(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(l("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,l("tilde return",s),s}))},w=(e,t)=>e.trim().split(/\s+/).map((e=>R(e,t))).join(" "),R=(e,t)=>{l("caret",e,t);const r=t.loose?u[d.CARETLOOSE]:u[d.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,i,o,s)=>{let a;return l("caret",e,t,r,i,o,s),T(r)?a="":T(i)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:T(o)?a="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(l("replaceCaret pr",s),a="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(l("no pr"),a="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),l("caret return",a),a}))},E=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map((e=>P(e,t))).join(" ")),P=(e,t)=>{e=e.trim();const r=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(r,((r,n,i,o,s,a)=>{l("xRange",e,r,n,i,o,s,a);const c=T(i),u=c||T(o),d=u||T(s),h=d;return"="===n&&h&&(n=""),a=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),"<"===n&&(a="-0"),r=`${n+i}.${o}.${s}${a}`):u?r=`>=${i}.0.0${a} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${o}.0${a} <${i}.${+o+1}.0-0`),l("xRange return",r),r}))},k=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),D=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),O=e=>(t,r,n,i,o,s,a,l,c,u,d,h)=>`${r=T(n)?"":T(i)?`>=${n}.0.0${e?"-0":""}`:T(o)?`>=${n}.${i}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=T(c)?"":T(u)?`<${+c+1}.0.0-0`:T(d)?`<${c}.${+u+1}.0-0`:h?`<=${c}.${u}.${d}-${h}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`}`.trim(),I=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},3908:(e,t,r)=>{const n=r(7272),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(6874),{safeRe:s,t:a}=r(9718),l=r(8587),{compareIdentifiers:c}=r(1123);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(n("build compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},7414:(e,t,r)=>{const n=r(144);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},2111:(e,t,r)=>{const n=r(4641),i=r(3999),o=r(5580),s=r(4089),a=r(9440),l=r(5200);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return i(e,r,c);case">":return o(e,r,c);case">=":return s(e,r,c);case"<":return a(e,r,c);case"<=":return l(e,r,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},6170:(e,t,r)=>{const n=r(3908),i=r(144),{safeRe:o,t:s}=r(9718);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?o[s.COERCERTLFULL]:o[s.COERCERTL];let i;for(;(i=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&i.index+i[0].length===r.index+r[0].length||(r=i),n.lastIndex=i.index+i[1].length+i[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?o[s.COERCEFULL]:o[s.COERCE]);if(null===r)return null;const a=r[2],l=r[3]||"0",c=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return i(`${a}.${l}.${c}${u}${d}`,t)}},909:(e,t,r)=>{const n=r(3908);e.exports=(e,t,r)=>{const i=new n(e,r),o=new n(t,r);return i.compare(o)||i.compareBuild(o)}},1763:(e,t,r)=>{const n=r(560);e.exports=(e,t)=>n(e,t,!0)},560:(e,t,r)=>{const n=r(3908);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},1832:(e,t,r)=>{const n=r(144);e.exports=(e,t)=>{const r=n(e,null,!0),i=n(t,null,!0),o=r.compare(i);if(0===o)return null;const s=o>0,a=s?r:i,l=s?i:r,c=!!a.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=c?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"}},4641:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>0===n(e,t,r)},5580:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(e,t,r)>0},4089:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(e,t,r)>=0},3007:(e,t,r)=>{const n=r(3908);e.exports=(e,t,r,i,o)=>{"string"==typeof r&&(o=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,o).version}catch(e){return null}}},9440:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(e,t,r)<0},5200:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(e,t,r)<=0},2938:(e,t,r)=>{const n=r(3908);e.exports=(e,t)=>new n(e,t).major},6254:(e,t,r)=>{const n=r(3908);e.exports=(e,t)=>new n(e,t).minor},3999:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>0!==n(e,t,r)},144:(e,t,r)=>{const n=r(3908);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},4493:(e,t,r)=>{const n=r(3908);e.exports=(e,t)=>new n(e,t).patch},1729:(e,t,r)=>{const n=r(144);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},9970:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(t,e,r)},4277:(e,t,r)=>{const n=r(909);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},7638:(e,t,r)=>{const n=r(8311);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},3927:(e,t,r)=>{const n=r(909);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},6953:(e,t,r)=>{const n=r(144);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},9589:(e,t,r)=>{const n=r(9718),i=r(6874),o=r(3908),s=r(1123),a=r(144),l=r(6953),c=r(7414),u=r(3007),d=r(1832),h=r(2938),p=r(6254),f=r(4493),g=r(1729),m=r(560),v=r(9970),y=r(1763),C=r(909),S=r(3927),T=r(4277),b=r(5580),_=r(9440),w=r(4641),R=r(3999),E=r(4089),P=r(5200),k=r(2111),D=r(6170),O=r(3904),I=r(8311),M=r(7638),A=r(7631),x=r(9628),N=r(270),j=r(1261),F=r(3874),L=r(7075),B=r(7952),G=r(5342),q=r(6780),U=r(2525),z=r(5032);e.exports={parse:a,valid:l,clean:c,inc:u,diff:d,major:h,minor:p,patch:f,prerelease:g,compare:m,rcompare:v,compareLoose:y,compareBuild:C,sort:S,rsort:T,gt:b,lt:_,eq:w,neq:R,gte:E,lte:P,cmp:k,coerce:D,Comparator:O,Range:I,satisfies:M,toComparators:A,maxSatisfying:x,minSatisfying:N,minVersion:j,validRange:F,outside:L,gtr:B,ltr:G,intersects:q,simplifyRange:U,subset:z,SemVer:o,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},6874:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},7272:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},1123:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},8794:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},8587:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},9718:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=r(6874),s=r(7272),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={};let d=0;const h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",o],[h,i]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of p)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),i=d++;s(e,i,t),u[e]=i,c[i]=t,a[i]=new RegExp(t,r?"g":void 0),l[i]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),f("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${h}+`),f("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),f("FULL",`^${c[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),f("LOOSE",`^${c[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),f("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",c[u.COERCE],!0),f("COERCERTLFULL",c[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7952:(e,t,r)=>{const n=r(7075);e.exports=(e,t,r)=>n(e,t,">",r)},6780:(e,t,r)=>{const n=r(8311);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},5342:(e,t,r)=>{const n=r(7075);e.exports=(e,t,r)=>n(e,t,"<",r)},9628:(e,t,r)=>{const n=r(3908),i=r(8311);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new n(o,r)))})),o}},270:(e,t,r)=>{const n=r(3908),i=r(8311);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new n(o,r)))})),o}},1261:(e,t,r)=>{const n=r(3908),i=r(8311),o=r(5580);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let s=null;i.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!o(r,s)||(r=s)}return r&&e.test(r)?r:null}},7075:(e,t,r)=>{const n=r(3908),i=r(3904),{ANY:o}=i,s=r(8311),a=r(7638),l=r(5580),c=r(9440),u=r(5200),d=r(4089);e.exports=(e,t,r,h)=>{let p,f,g,m,v;switch(e=new n(e,h),t=new s(t,h),r){case">":p=l,f=u,g=c,m=">",v=">=";break;case"<":p=c,f=d,g=l,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null,a=null;if(n.forEach((e=>{e.semver===o&&(e=new i(">=0.0.0")),s=s||e,a=a||e,p(e.semver,s.semver,h)?s=e:g(e.semver,a.semver,h)&&(a=e)})),s.operator===m||s.operator===v)return!1;if((!a.operator||a.operator===m)&&f(e,a.semver))return!1;if(a.operator===v&&g(e,a.semver))return!1}return!0}},2525:(e,t,r)=>{const n=r(7638),i=r(560);e.exports=(e,t,r)=>{const o=[];let s=null,a=null;const l=e.sort(((e,t)=>i(e,t,r)));for(const e of l)n(e,t,r)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const c=[];for(const[e,t]of o)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},5032:(e,t,r)=>{const n=r(8311),i=r(3904),{ANY:o}=i,s=r(7638),a=r(560),l=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?l:c}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=c}const n=new Set;let i,u,p,f,g,m,v;for(const t of e)">"===t.operator||">="===t.operator?i=d(i,t,r):"<"===t.operator||"<="===t.operator?u=h(u,t,r):n.add(t.semver);if(n.size>1)return null;if(i&&u){if(p=a(i.semver,u.semver,r),p>0)return null;if(0===p&&(">="!==i.operator||"<="!==u.operator))return null}for(const e of n){if(i&&!s(e,String(i),r))return null;if(u&&!s(e,String(u),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let y=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,C=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver;y&&1===y.prerelease.length&&"<"===u.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(v=v||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,i)if(C&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===C.major&&e.semver.minor===C.minor&&e.semver.patch===C.patch&&(C=!1),">"===e.operator||">="===e.operator){if(f=d(i,e,r),f===e&&f!==i)return!1}else if(">="===i.operator&&!s(i.semver,String(e),r))return!1;if(u)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(g=h(u,e,r),g===e&&g!==u)return!1}else if("<="===u.operator&&!s(u.semver,String(e),r))return!1;if(!e.operator&&(u||i)&&0!==p)return!1}return!(i&&m&&!u&&0!==p||u&&v&&!i&&0!==p||C||y)},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},h=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},7631:(e,t,r)=>{const n=r(8311);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},3874:(e,t,r)=>{const n=r(8311);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},7520:(e,t,r)=>{"use strict";var n=r(5317),i=n.spawn,o=n.exec;function s(e,t,r){var n={};try{Object.keys(e).forEach((function(r){e[r].forEach((function(e){n[e]||(a(e,t),n[e]=1)})),n[r]||(a(r,t),n[r]=1)}))}catch(e){if(r)return r(e);throw e}if(r)return r()}function a(e,t){try{process.kill(parseInt(e,10),t)}catch(e){if("ESRCH"!==e.code)throw e}}function l(e,t,r,n,i){var o=n(e),s="";o.stdout.on("data",(function(e){e=e.toString("ascii"),s+=e})),o.on("close",(function(o){delete r[e],0==o?s.match(/\d+/g).forEach((function(o){o=parseInt(o,10),t[e].push(o),t[o]=[],r[o]=1,l(o,t,r,n,i)})):0==Object.keys(r).length&&i()}))}e.exports=function(e,t,r){if("function"==typeof t&&void 0===r&&(r=t,t=void 0),e=parseInt(e),Number.isNaN(e)){if(r)return r(new Error("pid must be a number"));throw new Error("pid must be a number")}var n={},a={};switch(n[e]=[],a[e]=1,process.platform){case"win32":o("taskkill /pid "+e+" /T /F",r);break;case"darwin":l(e,n,a,(function(e){return i("pgrep",["-P",e])}),(function(){s(n,t,r)}));break;default:l(e,n,a,(function(e){return i("ps",["-o","pid","--no-headers","--ppid",e])}),(function(){s(n,t,r)}))}}},1049:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Extension=void 0;const n=r(1398),i=r(1398),o=r(6925),s=r(1643),a=r(9994),l=r(9038),c=r(277),u=r(9305),d=r(6263),h=r(2349),p=r(8216),f=r(112),g=r(5059),m=r(5645),v=r(4387),y=r(6947),C=r(5995),S=r(6313),T=r(9539),b=r(778),_=r(3554),w=r(3130),R=r(3831),E=r(3837);t.Extension=class{constructor(e){this.context=e,this._onDidTerminalOpen=new n.EventEmitter,this.onDidTerminalOpen=this._onDidTerminalOpen.event;const t=n.window.createOutputChannel("Gradle for Java");o.logger.setLoggingChannel(t);const r=new o.Logger("grpc");r.setLoggingChannel(t);const i=new o.Logger("gradle-server");i.setLoggingChannel(t),(0,v.getConfigIsDebugEnabled)()&&o.Logger.setLogVerbosity(o.LogVerbosity.DEBUG);const f=n.window.createStatusBarItem();this.server=new l.GradleServer({host:"localhost"},e,i),this.taskServerClient=new a.TaskServerClient(this.server,f,r),this.pinnedTasksStore=new d.PinnedTasksStore(e),this.recentTasksStore=new d.RecentTasksStore,this.taskTerminalsStore=new d.TaskTerminalsStore,this.rootProjectsStore=new d.RootProjectsStore,this.gradleBuildContentProvider=new R.GradleBuildContentProvider(this.taskServerClient),this.gradleTaskProvider=new h.GradleTaskProvider(this.rootProjectsStore,this.taskServerClient,this.gradleBuildContentProvider),this.gradleDependencyProvider=new S.GradleDependencyProvider(this.gradleBuildContentProvider),this.taskProvider=n.tasks.registerTaskProvider("gradle",this.gradleTaskProvider),this.icons=new c.Icons(e),this.gradleTasksTreeDataProvider=new u.GradleTasksTreeDataProvider(this.context,this.rootProjectsStore,this.pinnedTasksStore,this.gradleTaskProvider,this.gradleDependencyProvider,this.icons,this.taskServerClient),this.gradleTasksTreeView=n.window.createTreeView(p.GRADLE_TASKS_VIEW,{treeDataProvider:this.gradleTasksTreeDataProvider,showCollapseAll:!0}),this.gradleDaemonsTreeDataProvider=new u.GradleDaemonsTreeDataProvider(this.context,this.rootProjectsStore),this.gradleDaemonsTreeView=n.window.createTreeView(p.GRADLE_DAEMONS_VIEW,{treeDataProvider:this.gradleDaemonsTreeDataProvider,showCollapseAll:!1}),this.recentTasksTreeDataProvider=new u.RecentTasksTreeDataProvider(this.recentTasksStore,this.taskTerminalsStore,this.rootProjectsStore,this.gradleTaskProvider,this.taskServerClient,this.icons),this.recentTasksTreeView=n.window.createTreeView(p.RECENT_TASKS_VIEW,{treeDataProvider:this.recentTasksTreeDataProvider,showCollapseAll:!1}),this.defaultProjectsTreeDataProvider=new b.DefaultProjectsTreeDataProvider(this.gradleTaskProvider,this.rootProjectsStore,this.taskServerClient,this.icons),this.defaultProjectsTreeView=n.window.createTreeView(p.GRADLE_DEFAULT_PROJECTS_VIEW,{treeDataProvider:this.defaultProjectsTreeDataProvider,showCollapseAll:!1}),this.gradleTaskManager=new h.GradleTaskManager(e),this.buildFileWatcher=new y.FileWatcher("**/*.{gradle,gradle.kts}"),this.gradleWrapperWatcher=new y.FileWatcher("**/gradle/wrapper/gradle-wrapper.properties"),this.api=new s.Api(this.taskServerClient,this.gradleTasksTreeDataProvider,this.gradleTaskProvider,this.icons),this.commands=new m.Commands(this.context,this.pinnedTasksStore,this.gradleTaskProvider,this.gradleBuildContentProvider,this.gradleTasksTreeDataProvider,this.recentTasksTreeDataProvider,this.gradleDaemonsTreeDataProvider,this.taskServerClient,this.rootProjectsStore,this.taskTerminalsStore,this.recentTasksStore,this.gradleTasksTreeView),this.buildServerController=new E.BuildServerController(e),this.storeSubscriptions(),this.registerCommands(),this.handleTaskEvents(),this.handleWatchEvents(),this.handleEditorEvents(),n.commands.registerCommand(C.GRADLE_DEPENDENCY_REVEAL,(async e=>{const t=e.getOmittedTreeItem();t&&await this.gradleTasksTreeView.reveal(t)})),this.context.subscriptions.push(n.commands.registerCommand(_.GRADLE_COMPLETION,(0,w.instrumentOperation)(_.GRADLE_COMPLETION,(async(e,...t)=>{if(2===t.length){const r=t[0],i=t[1];(0,w.sendInfo)(e,{kind:r,content:i}),r!==_.CompletionKinds.DEPENDENCY_GROUP&&r!==_.CompletionKinds.DEPENDENCY_ARTIFACT||n.commands.executeCommand(_.VSCODE_TRIGGER_COMPLETION)}})))),this.taskServerClient.onDidConnect((()=>this.refresh())),(0,T.startLanguageClientAndWaitForConnection)(this.context,this.gradleBuildContentProvider,this.rootProjectsStore,this.server.getLanguageServerPipePath()),this.activate(),n.commands.executeCommand("setContext","allowParallelRun",(0,v.getAllowParallelRun)()),n.commands.executeCommand("setContext",_.Context.ACTIVATION_CONTEXT_KEY,!0)}storeSubscriptions(){this.context.subscriptions.push(this.taskServerClient,this.pinnedTasksStore,this.recentTasksStore,this.taskTerminalsStore,this.gradleTaskProvider,this.taskProvider,this.gradleTaskManager,this.buildFileWatcher,this.gradleWrapperWatcher,this.gradleDaemonsTreeView,this.gradleTasksTreeView,this.recentTasksTreeView,this.defaultProjectsTreeView,this.buildServerController)}async stop(){await this.server.asyncDispose()}async activate(){this.registerGradleTestRunner();const e=!!(await this.rootProjectsStore.getProjectRoots()).length;this.server.isReady()||await this.server.start(),await n.commands.executeCommand("setContext","gradle:activated",e),await n.commands.executeCommand("setContext","gradle:defaultView",!0)}registerCommands(){this.commands.register()}handleTaskTerminals(e,t){const r=t.name.replace("Task - ","");r===e.script&&this.taskTerminalsStore.addEntry(r,t),t.show()}handleTaskEvents(){this.gradleTaskManager.onDidStartTask((async e=>{const t=e.definition;if(this.recentTerminal)this.handleTaskTerminals(t,this.recentTerminal),this.recentTerminal=void 0;else{const e=this.onDidTerminalOpen((r=>{e.dispose(),this.handleTaskTerminals(t,r),this.recentTerminal=void 0}))}this.gradleTasksTreeView.visible&&(0,v.getConfigFocusTaskInExplorer)()&&!t.isPinned&&await(0,f.focusTaskInGradleTasksTree)(e,this.gradleTasksTreeView),this.recentTasksStore.addEntry(t.id,t.args),await n.commands.executeCommand(g.COMMAND_RENDER_TASK,e)})),this.gradleTaskManager.onDidEndTask((async e=>{await n.commands.executeCommand(g.COMMAND_RENDER_TASK,e)}))}handleWatchEvents(){this.buildFileWatcher.onDidChange((0,w.instrumentOperation)(_.GRADLE_BUILD_FILE_CHANGE,(async(e,t)=>{o.logger.info("Build file changed:",t.fsPath),await this.refresh()}))),this.buildFileWatcher.onDidOpen((0,w.instrumentOperation)(_.GRADLE_BUILD_FILE_OPEN,(async(e,t)=>{o.logger.info("Build file opened:",t.fsPath)}))),this.gradleWrapperWatcher.onDidChange((0,w.instrumentOperation)(_.GRADLE_PROPERTIES_FILE_CHANGE,(async(e,t)=>{o.logger.info("Gradle wrapper properties changed:",t.fsPath);const r=await this.showRestartWindow();(0,w.sendInfo)("",{kind:"wrapperPropertiesChangedReloadRequest",dataMsg:r===_.OPT_RESTART?"true":"false"}),r===_.OPT_RESTART&&await this.restartServer(),T.isLanguageServerStarted&&n.commands.executeCommand("gradle.distributionChanged")})))}async restartServer(){await this.taskServerClient.cancelBuilds(),await i.commands.executeCommand("workbench.action.restartExtensionHost")}async showRestartWindow(){return await i.window.showWarningMessage("Please restart the extension to make the change take effect. Restart now?",_.OPT_RESTART)}refresh(){return n.commands.executeCommand(g.COMMAND_REFRESH)}handleEditorEvents(){this.context.subscriptions.push(n.workspace.onDidChangeConfiguration((async e=>{if(e.affectsConfiguration("java.home")||e.affectsConfiguration("java.jdt.ls.java.home")||e.affectsConfiguration("java.import.gradle.java.home")){const e=await this.showRestartWindow();(0,w.sendInfo)("",{kind:"javaHomeChangedReloadRequest",dataMsg:e===_.OPT_RESTART?"true":"false"}),e===_.OPT_RESTART&&await this.restartServer()}else if(e.affectsConfiguration("gradle.javaDebug.cleanOutput")||e.affectsConfiguration("gradle.nestedProjects"))this.rootProjectsStore.clear(),await this.refresh(),await this.activate();else if(e.affectsConfiguration("gradle.reuseTerminals"))await this.refresh();else if(e.affectsConfiguration("gradle.debug")){const e=(0,v.getConfigIsDebugEnabled)();o.Logger.setLogVerbosity(e?o.LogVerbosity.DEBUG:o.LogVerbosity.INFO)}else e.affectsConfiguration("java.import.gradle.home")||e.affectsConfiguration("java.import.gradle.version")||e.affectsConfiguration("java.import.gradle.wrapper.enabled")?await this.refresh():e.affectsConfiguration("gradle.allowParallelRun")&&n.commands.executeCommand("setContext","allowParallelRun",(0,v.getAllowParallelRun)())})),n.window.onDidCloseTerminal((e=>{this.taskTerminalsStore.removeTerminal(e)})),n.workspace.onDidChangeWorkspaceFolders((()=>this.refresh())),n.window.onDidOpenTerminal((e=>{this.recentTerminal=e,this._onDidTerminalOpen.fire(e)})))}getApi(){return this.api}async registerGradleTestRunner(){const e=n.extensions.getExtension("redhat.java");if(!e)return;const t=await e.activate();if(!t.serverReady)return;await t.serverReady();const r=n.extensions.getExtension("vscjava.vscode-java-test");if(r){const e=await r.activate();if(e){const t=this.buildServerController.getGradleTestRunner(e);e.registerTestProfile("Delegate Test to Gradle",n.TestRunProfileKind.Run,t),e.registerTestProfile("Delegate Test to Gradle (Debug)",n.TestRunProfileKind.Debug,t)}}}}},3667:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Api=t.toolOptionsProviders=void 0;const n=r(6925),i=r(9411);t.toolOptionsProviders=[],t.Api=class{constructor(e,t,r,n){this.client=e,this.tasksTreeDataProvider=t,this.gradleTaskProvider=r,this.icons=n}onReady(e){return this.client.onDidConnect(e)}runTask(e){const t=(e.args||[]).filter(Boolean),r=[e.taskName].concat(t),n=Object.assign(Object.assign({},e),{args:r});return this.runBuild(n)}runBuild(e){var t;return this.client.runBuild(e.projectFolder,e.cancellationKey||(0,i.getRunBuildCancellationKey)(e.projectFolder,e.args),e.args,e.input,0,void 0,e.onOutput,e.showOutputColors,null!==(t=e.additionalToolOptions)&&void 0!==t?t:"")}cancelRunTask(e){const t=e.taskName?[e.taskName]:[],r={projectFolder:e.projectFolder,args:t,cancellationKey:e.cancellationKey};return this.cancelRunBuild(r)}cancelRunBuild(e){const t=this.getRunBuildCancellationKey(e);return this.client.cancelBuild(t)}cancelAllBuilds(){return this.client.cancelBuilds()}getRunBuildCancellationKey(e){if(e.cancellationKey)return e.cancellationKey;if(!e.args||!e.projectFolder)throw new Error("args and projectFolder are required to build the cancellation key");return(0,i.getRunBuildCancellationKey)(e.projectFolder,e.args)}getTasksTreeProvider(){return this.tasksTreeDataProvider}getTaskProvider(){return this.gradleTaskProvider}getIcons(){return this.icons}getLogger(){return n.logger}registerToolOptionsProvider(e){return t.toolOptionsProviders.push(e),{dispose:()=>{const r=t.toolOptionsProviders.indexOf(e);-1!==r&&t.toolOptionsProviders.splice(r,1)}}}}},1643:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3667),t)},9767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BspProxy=void 0;const n=r(9428),i=r(9654),o=r(3130);t.BspProxy=class{constructor(e,t){this.logger=t,this.buildServerConnector=new i.BuildServerConnector,this.jdtlsImporterConnector=new n.JdtlsImporterConnector(e)}prepareToStart(){return this.buildServerConnector.setupBuildServerPipeStream()}async start(){await this.jdtlsImporterConnector.waitForImporterPipePath(),await this.jdtlsImporterConnector.setupImporterPipeStream(),this.buildServerStart&&this.setupMessageForwarding(this.jdtlsImporterConnector.getImporterConnection(),this.buildServerConnector.getServerConnection()),this.jdtlsImporterConnector.startListening()}getBuildServerPipeName(){return this.buildServerConnector.getServerPipePath()}setupMessageForwarding(e,t){e&&t&&(e.onRequest(((e,r)=>null!==r?t.sendRequest(e,r):t.sendRequest(e))),t.onNotification(((t,r)=>{if(null!==r)return e.sendNotification(t,r);e.sendNotification(t)})),e.onError((([e])=>{this.logger.error(`Error on importerConnection: ${e.message}`),(0,o.sendInfo)("",{kind:"bspProxy-importerConnectionError",message:e.message,proxyErrorStack:e.stack?e.stack.toString():""})})),t.onError((([e])=>{this.logger.error(`Error on buildServerConnection: ${e.message}`),(0,o.sendInfo)("",{kind:"bspProxy-buildServerConnectionError",message:e.message,proxyErrorStack:e.stack?e.stack.toString():""})})))}setBuildServerStarted(e){this.buildServerStart=e}closeConnection(){try{this.buildServerConnector.close(),this.jdtlsImporterConnector.close()}catch(e){}this.logger.info("Build Server connection closed")}}},9654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildServerConnector=void 0;const n=r(9278),i=r(2067),o=r(138),s=r(3130);t.BuildServerConnector=class{constructor(){this.serverConnection=null}setupBuildServerPipeStream(){return this.serverPipePath=(0,o.getRandomPipeName)(),""!==this.serverPipePath&&(this.serverPipeServer=n.createServer((e=>{this.serverConnection=i.createMessageConnection(new i.StreamMessageReader(e),new i.StreamMessageWriter(e)),this.serverConnection.listen()})),this.serverPipeServer.on("error",(e=>{(0,s.sendInfo)("",{kind:"BuildServerConnectorError",error:e.message,proxyErrorStack:e.stack?e.stack.toString():""})})),this.serverPipeServer.listen(this.serverPipePath),!0)}getServerConnection(){return this.serverConnection}getServerPipePath(){return this.serverPipePath}close(){var e,t;null===(e=this.serverConnection)||void 0===e||e.end(),null===(t=this.serverConnection)||void 0===t||t.dispose(),this.serverPipeServer.close()}}},3837:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.BuildServerController=void 0;const i=r(1398),o=r(8854),s=r(3130),a=r(4387),l=r(6928),c=r(1605),u=r(5213);t.BuildServerController=class{constructor(e){this.context=e,this.buildOutputChannel=i.window.createOutputChannel("Build Server for Gradle (Build)","gradle-build"),this.logOutputChannel=i.window.createOutputChannel("Build Server for Gradle (Log)"),this.disposable=i.Disposable.from(this.buildOutputChannel,i.languages.registerDocumentLinkProvider({language:"gradle-build",scheme:"output"},new o.GradleBuildLinkProvider),i.commands.registerCommand("_java.gradle.buildServer.appendBuildLog",(e=>{if(e){this.buildOutputChannel.appendLine(e);const t=(0,a.getOpenBuildOutput)();if(t===a.OpenBuildOutputValue.NEVER)return;(t===a.OpenBuildOutputValue.ON_BUILD_START?/^> Build starts at /m:/^BUILD FAILED/m).test(e)&&this.buildOutputChannel.show(!0)}})),this.logOutputChannel,i.commands.registerCommand("_java.gradle.buildServer.log",(e=>{e&&this.logOutputChannel.appendLine(e)})),i.commands.registerCommand("_java.gradle.buildServer.sendTelemetry",(e=>{let t;t="string"==typeof e?JSON.parse(e):e;const{kind:r,trace:i,rootCauseMessage:o,schemaVersion:a}=t,l=n(t,["kind","trace","rootCauseMessage","schemaVersion"]);i||o?(0,s.sendInfo)("",{kind:"bsp-error",operationName:t.operationName,rootCauseMessage:o,traceLog:t[i]}):(0,s.sendInfo)("",Object.assign({kind:r,dataMsg:JSON.stringify(l)},a&&{schemaVersion:a}))})),i.commands.registerCommand("java.gradle.buildServer.onDidFinishTestRun",((e,t)=>{var r;null===(r=this.gradleTestRunner)||void 0===r||r.finishTestRun(e,t)})),i.commands.registerCommand("java.gradle.buildServer.onDidChangeTestItemStatus",((e,t,r,n,i)=>{var o;null===(o=this.gradleTestRunner)||void 0===o||o.updateTestItem(e,t,r,n,i)})),i.workspace.onDidChangeConfiguration((t=>{var r;if(t.affectsConfiguration("java.gradle.buildServer.enabled")){const t=null===(r=e.storageUri)||void 0===r?void 0:r.fsPath;if(!t)return;const n="Please reload to make the change of 'java.gradle.buildServer.enabled' take effect. Reload now?",o="Reload";i.window.showWarningMessage(n,o).then((async e=>{if(o===e){const e=l.resolve(t,"..","redhat.java","jdt_ws");await c.ensureDir(e);const r=l.resolve(e,".cleanWorkspace");await c.writeFile(r,""),i.commands.executeCommand("workbench.action.reloadWindow")}}))}}))),this.checkMachineStatus()}getGradleTestRunner(e){return this.gradleTestRunner||(this.gradleTestRunner=new u.GradleTestRunner(e)),this.gradleTestRunner}dispose(){this.disposable.dispose()}async checkMachineStatus(){const e={};this.isGradleExecutableOnPath()&&(e.gradleExecutableFound="true"),this.hasProxy()&&(e.hasProxy="true");const t=await this.gradleVersionInWrapper();t&&(e.gradleVersionInWrapper=t),e.hasProjectAtWorkspaceRoot=(await this.hasProjectAtWorkspaceRoot()).toString(),(0,s.sendInfo)("",{kind:"machineStatus",dataMsg:JSON.stringify(e)})}isGradleExecutableOnPath(){if(process.env.PATH){const e=process.env.PATH.split(l.delimiter);for(const t of e){const e=l.join(t,"gradle");if(c.existsSync(e)&&c.statSync(e).isFile())return!0}}return!1}hasProxy(){return!!(process.env.HTTP_PROXY||process.env.HTTPS_PROXY||i.workspace.getConfiguration("http").get("proxy"))}async gradleVersionInWrapper(){const e=await i.workspace.findFiles("**/gradle/wrapper/gradle-wrapper.properties",void 0,1);if(0===e.length)return"";const t=(await i.workspace.fs.readFile(e[0])).toString(),r=/^distributionUrl=.*\/gradle-([0-9.]+)-.*$/m.exec(t);return r?r[1]:""}async hasProjectAtWorkspaceRoot(){return(await i.workspace.findFiles("{settings.gradle,build.gradle,settings.gradle.kts,build.gradle.kts}",void 0,1)).length>0}}},8854:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleBuildLinkProvider=void 0;const n=r(1398);t.GradleBuildLinkProvider=class{provideDocumentLinks(e){const t=[],r=e.getText();let i=0;const o=r.split(/\r?\n/g);for(const s of o){const o=s.match(/(.*\.java):(\d+)/);if(o){const s=r.indexOf(o[0],i),a=e.positionAt(s),l=s+o[0].length,c=e.positionAt(l);i+=l;const u=o[1],d=parseInt(o[2]),h=n.Uri.file(u).with({fragment:`L${d}`});t.push(new n.DocumentLink(new n.Range(a,c),h))}}return t}}},5213:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleTestRunner=void 0;const n=r(1398),i=r(7945),o=r(2857),s=r(857),a=r(6928);t.GradleTestRunner=class{constructor(e){this._onDidChangeTestItemStatus=new n.EventEmitter,this._onDidFinishTestRun=new n.EventEmitter,this.onDidChangeTestItemStatus=this._onDidChangeTestItemStatus.event,this.onDidFinishTestRun=this._onDidFinishTestRun.event,this.testRunnerApi=e,this.testInitScriptPath=a.join(s.tmpdir(),"testInitScript.gradle")}async launch(e){var t,r,o,s;this.context=e;const a=new Map;e.testItems.forEach((e=>{var t;const r=e.id,n=this.testRunnerApi.parsePartsFromTestId(r);if(!n.class)return;const i=a.get(n.class)||[];if(null===(t=n.invocations)||void 0===t?void 0:t.length){let e=n.invocations[0];e.includes("(")&&(e=e.slice(0,e.indexOf("("))),i.push(e)}a.set(n.class,i)}));const l=null!==(r=null===(t=e.testConfig)||void 0===t?void 0:t.args)&&void 0!==r?r:[],c=null===(o=e.testConfig)||void 0===o?void 0:o.vmArgs,u=e.isDebug&&!!n.extensions.getExtension("vscjava.vscode-java-debug");let d=-1;if(u){d=await i();const e=this.getInitScriptContent(d);await n.workspace.fs.writeFile(n.Uri.file(this.testInitScriptPath),Buffer.from(e)),l.unshift("--init-script",this.testInitScriptPath)}const h=null===(s=e.testConfig)||void 0===s?void 0:s.env;try{await n.commands.executeCommand("java.execute.workspaceCommand","java.gradle.delegateTest",e.projectName,JSON.stringify([...a]),l,c,h),u&&this.startJavaDebug(d)}catch(e){this.finishTestRun(-1,e.message)}}updateTestItem(e,t,r,n,i){n&&(n=this.filterStackTrace(n));const o=this.testRunnerApi.parseTestIdFromParts({project:this.context.projectName,class:e[0],invocations:e.slice(1)});this._onDidChangeTestItemStatus.fire({testId:o,state:t,displayName:r,message:n,duration:i})}finishTestRun(e,t){this._onDidFinishTestRun.fire({statusCode:e,message:t})}filterStackTrace(e){const t=this.getStacktraceFilterElements();return e.split("\n").filter((e=>t.every((t=>!e.includes(t))))).join("\n")}getStacktraceFilterElements(){return["junit.framework.TestCase","junit.framework.TestResult","junit.framework.TestResult$1","junit.framework.TestSuite","junit.framework.Assert","org.junit.","org.testng.internal.","org.testng.TestRunner","org.testng.SuiteRunner","org.testng.TestNG","org.testng.Assert","java.lang.reflect.Method.invoke","sun.reflect.","jdk.internal.reflect.","jdk.proxy","org.gradle.api.internal.tasks.testing.","org.gradle.internal.dispatch.","org.gradle.process.internal.","worker.org.gradle.process.internal."]}async startJavaDebug(e){if(e<0)return;await(0,o.waitOnTcp)("localhost",e);const t={type:"java",name:"Debug (Attach) via Gradle",request:"attach",hostName:"localhost",port:e,projectName:this.context.projectName};if(!await n.debug.startDebugging(this.context.workspaceFolder,t))throw new Error("The debugger was not started")}getInitScriptContent(e){return`allprojects {\n    tasks.withType(Test) {\n        jvmArgs '-agentlib:jdwp=transport=dt_socket,server=y,address=${e},suspend=y'\n    }\n}`}}},9428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JdtlsImporterConnector=t.ON_WILL_IMPORTER_CONNECT=void 0;const n=r(9278),i=r(2067),o=r(1398),s=r(6928),a=r(3130);t.ON_WILL_IMPORTER_CONNECT="_gradle.onWillImporterConnect",t.JdtlsImporterConnector=class{constructor(e){this.context=e,this.importerConnection=null,this.setPipePathPromise=null,this._onImporterReady=new o.EventEmitter,this.registerCommand()}async waitForImporterPipePath(){await this.setPipePathPromise}registerCommand(){this.setPipePathPromise=new Promise((e=>{this._onImporterReady.event((t=>{this.importerPipePath=t,(0,a.sendInfo)("",{kind:"JdtlsImporterConnectorReceivedPipePath"}),e()}))})),this.context.subscriptions.push(o.commands.registerCommand(t.ON_WILL_IMPORTER_CONNECT,(e=>{this._onImporterReady.fire(s.resolve(e))})))}async setupImporterPipeStream(){return new Promise((e=>{this.importerPipeServer=n.createServer((t=>{this.importerConnection=i.createMessageConnection(new i.StreamMessageReader(t),new i.StreamMessageWriter(t)),e()})),this.importerPipeServer.on("error",(e=>{(0,a.sendInfo)("",{kind:"JdtlsImporterConnectorError",error:e.message,proxyErrorStack:e.stack?e.stack.toString():""})})),this.importerPipeServer.listen(this.importerPipePath)}))}startListening(){this.importerConnection.listen()}getImporterConnection(){return this.importerConnection}close(){var e,t;null===(e=this.importerConnection)||void 0===e||e.end(),null===(t=this.importerConnection)||void 0===t||t.dispose(),this.importerPipeServer.close()}}},9411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRunTaskCommandCancellationKey=t.getRunBuildCancellationKey=t.getBuildCancellationKey=void 0,t.getBuildCancellationKey=function(e){return"getBuild"+e},t.getRunBuildCancellationKey=function(e,t){return"runBuild"+e+t.join("")},t.getRunTaskCommandCancellationKey=function(e,t){return"runTask"+e+t}},3831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleBuildContentProvider=void 0;const n=r(8901),i=r(9539),o=r(4387),s=new n.default;t.GradleBuildContentProvider=class{constructor(e){this.client=e,this.cachedBuild=new Map}async getGradleBuild(e){await s.acquireAsync();try{const t=e.getProjectUri().fsPath;if(this.cachedBuild.has(t))return this.cachedBuild.get(t);const r=await this.client.getBuild(e,(0,o.getGradleConfig)());return r&&(await(0,i.syncGradleBuild)(r),this.cachedBuild.set(t,r)),r}finally{s.release()}}refresh(){this.cachedBuild.clear()}getCachedBuild(){return this.cachedBuild}}},297:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskServerClient=void 0;const n=r(1398),i=r(674),o=r(674),s=r(7587),a=r(9070),l=r(6925),c=r(9386),u=r(6752),d=r(5059),h=r(9411),p=r(495),f=r(4387),g=r(4623),m=r(6231);t.TaskServerClient=class{constructor(e,t,r){this.server=e,this.statusBarItem=t,this.clientLogger=r,this.connectDeadline=30,this.grpcClient=null,this._onDidConnect=new n.EventEmitter,this._onDidConnectFail=new n.EventEmitter,this.onDidConnect=this._onDidConnect.event,this.onDidConnectFail=this._onDidConnectFail.event,this.waitForConnect=new p.EventWaiter(this.onDidConnect).wait,this.handleServerStop=()=>{this.close()},this.handleServerStart=()=>n.window.withProgress({location:n.ProgressLocation.Window,title:"Gradle",cancellable:!1},(e=>(e.report({message:"Connecting"}),new Promise((e=>{const t=this.onDidConnect((()=>{t.dispose(),e()})),r=this.onDidConnectFail((()=>{r.dispose(),e()}));this.connectToServer()}))))),this.handleClientReady=async e=>{e?await this.handleConnectError(e):(l.logger.info("Gradle client connected to server"),this._onDidConnect.fire(null))},this.handleRunBuildCancelled=(e,t,r)=>{l.logger.info(`Build cancelled: ${e.join(" ")}: ${t.getMessage()}`),r&&(0,u.removeCancellingTask)(r)},this.handleGetBuildCancelled=e=>{l.logger.info("Build cancelled:",e.getMessage())},this.handleConnectError=async e=>{if(l.logger.error("Error connecting to gradle server:",e.message),this.close(),this._onDidConnectFail.fire(null),this.server.isReady()){const e=this.grpcClient.getChannel().getConnectivityState(!0),t=o.connectivityState[e];l.logger.error("The client has state:",t),await this.showRestartMessage()}else await this.server.showRestartMessage()},this.server.onDidStart(this.handleServerStart),this.server.onDidStop(this.handleServerStop)}connectToServer(){try{this.grpcClient=new a.GradleClient(`localhost:${this.server.getPort()}`,i.credentials.createInsecure(),{"grpc.enable_http_proxy":0,"grpc.max_receive_message_length":-1}),i.setLogger(this.clientLogger);const e=new Date;e.setSeconds(e.getSeconds()+this.connectDeadline),this.grpcClient.waitForReady(e,this.handleClientReady)}catch(e){l.logger.error("Unable to construct the gRPC client:",e.message),this.statusBarItem.hide()}}async getBuild(e,t,r=!1){return await this.waitForConnect(),this.statusBarItem.hide(),n.window.withProgress({location:n.ProgressLocation.Window,title:"Gradle",cancellable:!0},(async(i,o)=>{const a=new c.ProgressHandler(i,"Configure project"),u=(0,h.getBuildCancellationKey)(e.getProjectUri().fsPath);o.onCancellationRequested((()=>this.cancelBuild(u)));const p=new l.LoggerStream(l.logger,l.LogVerbosity.INFO),f=new l.LoggerStream(l.logger,l.LogVerbosity.ERROR),m=new s.GetBuildRequest;m.setProjectDir(e.getProjectUri().fsPath),m.setCancellationKey(u),m.setGradleConfig(t),m.setShowOutputColors(r);const v=this.grpcClient.getBuild(m);try{return await new Promise(((t,r)=>{let i;v.on("data",(async t=>{switch(t.getKindCase()){case s.GetBuildReply.KindCase.PROGRESS:a.report(t.getProgress().getMessage().trim());break;case s.GetBuildReply.KindCase.OUTPUT:switch(t.getOutput().getOutputType()){case s.Output.OutputType.STDOUT:p.write(t.getOutput().getOutputBytes_asU8());break;case s.Output.OutputType.STDERR:f.write(t.getOutput().getOutputBytes_asU8())}break;case s.GetBuildReply.KindCase.CANCELLED:this.handleGetBuildCancelled(t.getCancelled());break;case s.GetBuildReply.KindCase.GET_BUILD_RESULT:(0,g.unsetDefault)(),i=t.getGetBuildResult().getBuild();break;case s.GetBuildReply.KindCase.ENVIRONMENT:const r=t.getEnvironment();e.setEnvironment(r),function(e){const t=e.getJavaEnvironment(),r=e.getGradleEnvironment();l.logger.info("Java Home:",t.getJavaHome()),l.logger.info("JVM Args:",t.getJvmArgsList().join(",")),l.logger.info("Gradle User Home:",r.getGradleUserHome()),l.logger.info("Gradle Version:",r.getGradleVersion())}(r),await n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS);break;case s.GetBuildReply.KindCase.COMPATIBILITY_CHECK_ERROR:const o=t.getCompatibilityCheckError(),c=["Open Gradle Settings","Learn More"];await n.window.showErrorMessage(o,...c).then((e=>{"Open Gradle Settings"===e?n.commands.executeCommand("workbench.action.openSettings","java.import.gradle"):"Learn More"===e&&n.env.openExternal(n.Uri.parse("https://docs.gradle.org/current/userguide/compatibility.html"))}))}})).on("error",r).on("end",(()=>t(i)))}))}catch(t){(0,g.setDefault)(),l.logger.error(`Error getting build for ${e.getProjectUri().fsPath}: ${t.details||t.message}`),this.statusBarItem.command=d.COMMAND_SHOW_LOGS,this.statusBarItem.text="$(warning) Gradle: Build Error",this.statusBarItem.show()}finally{process.nextTick((()=>n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS)))}}))}async runBuild(e,t,r,i="",o=0,a,h,p=!0,g="",m,v){return await this.waitForConnect(),this.statusBarItem.hide(),n.window.withProgress({location:v||n.ProgressLocation.Window,title:m||"Gradle",cancellable:!0},(async(m,v)=>{v.onCancellationRequested((()=>n.commands.executeCommand(d.COMMAND_CANCEL_BUILD,t,a)));const y=new c.ProgressHandler(m);y.onDidProgressStart((async()=>{await n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS)}));const C=(0,f.getGradleConfig)(),S=new s.RunBuildRequest;S.setProjectDir(e),S.setCancellationKey(t),S.setArgsList(r),S.setGradleConfig(C),S.setShowOutputColors(p),S.setJavaDebugPort(o),S.setInput(i),S.setAdditionalToolOptions(g),o>0&&n.workspace.getWorkspaceFolder(n.Uri.file(e))&&S.setJavaDebugCleanOutputCache((0,f.getJavaDebugCleanOutput)());const T=this.grpcClient.runBuild(S);try{await new Promise(((e,t)=>{T.on("data",(e=>{switch(e.getKindCase()){case s.RunBuildReply.KindCase.PROGRESS:y.report(e.getProgress().getMessage().trim());break;case s.RunBuildReply.KindCase.OUTPUT:h&&h(e.getOutput());break;case s.RunBuildReply.KindCase.CANCELLED:this.handleRunBuildCancelled(r,e.getCancelled(),a)}})).on("error",t).on("end",e)})),l.logger.info("Completed build:",r.join(" "))}catch(e){throw l.logger.error("Error running build:",`${r.join(" ")}:`,e.details||e.message),e}finally{await n.commands.executeCommand(d.COMMAND_REFRESH_DAEMON_STATUS),a&&await(0,u.restartQueuedTask)(a)}}))}async cancelBuild(e,t){await this.waitForConnect(),this.statusBarItem.hide();const r=new s.CancelBuildRequest;r.setCancellationKey(e);try{const e=await new Promise(((e,t)=>{this.grpcClient.cancelBuild(r,((r,n)=>{r?t(r):e(n)}))}));e&&(l.logger.info("Cancel build:",e.getMessage()),!e.getBuildRunning()&&t&&(0,u.removeCancellingTask)(t))}catch(e){l.logger.error("Error cancelling build:",e.details||e.message)}}async cancelBuilds(){this.statusBarItem.hide();const e=new s.CancelBuildsRequest;try{const t=await new Promise(((t,r)=>{this.grpcClient.cancelBuilds(e,((e,n)=>{e?r(e):t(n)}))}));t&&l.logger.info("Cancel builds:",t.getMessage())}catch(e){l.logger.error("Error cancelling builds:",e.details||e.message)}}async getNormalizedPackageName(e){await this.waitForConnect();const t=new s.ExecuteCommandRequest;t.setCommand(m.SpecifySourcePackageNameStep.GET_NORMALIZED_PACKAGE_NAME),t.addArguments(e);try{return await new Promise(((e,r)=>{this.grpcClient.executeCommand(t,((t,n)=>{t?r(t):e(null==n?void 0:n.getResult())}))}))}catch(e){return}}async showRestartMessage(){const e="Re-connect Client";await n.window.showErrorMessage("The Gradle client was unable to connect. Try re-connecting.",e)===e&&await this.handleServerStart()}close(){var e;this.statusBarItem.hide(),null===(e=this.grpcClient)||void 0===e||e.close()}dispose(){this.close(),this._onDidConnect.dispose()}}},9994:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(297),t)},2527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findRootProject=t.findGradleProjectFromBuild=void 0;const n=r(1398);function i(e,t){if(n.Uri.file(t.getProjectpath()).fsPath===e)return t;for(const r of t.getProjectsList()){const t=i(e,r);if(t)return t}}t.findGradleProjectFromBuild=function(e,t){const r=t.getProject();if(r&&r.getIsRoot())return i(e,r)},t.findRootProject=async function(e,t){for(const r of await e.getProjectRoots())if(t.startsWith(r.getProjectUri().fsPath))return r}},8556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancelBuildCommand=t.COMMAND_CANCEL_BUILD=void 0;const n=r(6752),i=r(6925),o=r(3294);t.COMMAND_CANCEL_BUILD="gradle.cancelBuild";class s extends o.Command{constructor(e){super(),this.client=e}async run(e,t){try{await(0,n.cancelBuild)(this.client,e,t)}catch(e){i.logger.error("Error cancelling task:",e.message)}}}t.CancelBuildCommand=s},6202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancelTreeItemTaskCommand=t.COMMAND_CANCEL_TREE_ITEM_TASK=void 0;const n=r(1398),i=r(5059),o=r(9411),s=r(6752),a=r(3294);t.COMMAND_CANCEL_TREE_ITEM_TASK="gradle.cancelTreeItemTask";class l extends a.Command{async run(e){if(e&&e.task){const t=(0,s.getRunningGradleTask)(e.task);if(!t)return;const r=t.definition,a=(0,o.getRunTaskCommandCancellationKey)(r.projectFolder,t.name);return n.commands.executeCommand(i.COMMAND_CANCEL_BUILD,a,t)}}}t.CancelTreeItemTaskCommand=l},8862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellingTreeItemTaskCommand=t.COMMAND_CANCELLING_TREE_ITEM_TASK=void 0;const n=r(1398),i=r(3294);t.COMMAND_CANCELLING_TREE_ITEM_TASK="gradle.cancellingTreeItemTask";class o extends i.Command{async run(){await n.window.showInformationMessage("Gradle task is cancelling, please wait")}}t.CancellingTreeItemTaskCommand=o},919:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearAllRecentTasksCommand=t.COMMAND_CLEAR_ALL_RECENT_TASKS=void 0;const n=r(6033),i=r(3294);t.COMMAND_CLEAR_ALL_RECENT_TASKS="gradle.clearAllRecentTasks";class o extends i.Command{constructor(e){super(),this.recentTasksStore=e}async run(){this.recentTasksStore.getData().size&&await(0,n.confirmModal)("Are you sure you want to clear the recent tasks?")&&this.recentTasksStore.clear()}}t.ClearAllRecentTasksCommand=o},3199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseAllTaskTerminalsCommand=t.COMMAND_CLOSE_ALL_TASK_TERMINALS=void 0;const n=r(6033),i=r(3294);t.COMMAND_CLOSE_ALL_TASK_TERMINALS="gradle.closeAllTaskTerminals";class o extends i.Command{constructor(e){super(),this.taskTerminalsStore=e}async run(){this.taskTerminalsStore.getData().size&&await(0,n.confirmModal)("Are you sure you want to close all task terminals?")&&(Array.from(this.taskTerminalsStore.getData().keys()).forEach((e=>{const t=this.taskTerminalsStore.getItem(e);t&&Array.from(t).forEach((e=>e.dispose()))})),this.taskTerminalsStore.clear())}}t.CloseAllTaskTerminalsCommand=o},3696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseTaskTerminalsCommand=t.COMMAND_CLOSE_TASK_TERMINALS=void 0;const n=r(3294);t.COMMAND_CLOSE_TASK_TERMINALS="gradle.closeTaskTerminals";class i extends n.Command{constructor(e){super(),this.taskTerminalsStore=e}async run(e){if(e&&e.task){const t=e.task.definition,r=this.taskTerminalsStore.getItem(t.id+t.args);r&&Array.from(r).forEach((e=>{e.dispose()}))}}}t.CloseTaskTerminalsCommand=i},3294:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0,t.Command=class{}},5645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=void 0;const n=r(1398),i=r(3130),o=r(5059),s=r(4672),a=r(9345),l=r(256),c=r(4383),u=r(669),d=r(403);t.Commands=class{constructor(e,t,r,n,i,o,s,a,l,c,u,d){this.context=e,this.pinnedTasksStore=t,this.gradleTaskProvider=r,this.gradleBuildContentProvider=n,this.gradleTasksTreeDataProvider=i,this.recentTasksTreeDataProvider=o,this.gradleDaemonsTreeDataProvider=s,this.client=a,this.rootProjectsStore=l,this.taskTerminalsStore=c,this.recentTasksStore=u,this.gradleTasksTreeView=d}registerCommand(e,t,r){this.context.subscriptions.push((0,i.instrumentOperationAsVsCodeCommand)(e,((...e)=>t.run(...e,r||[]))))}registerCommandWithoutInstrument(e,t){this.context.subscriptions.push(n.commands.registerCommand(e,((...e)=>t.run(...e))))}register(){this.registerCommand(o.COMMAND_SHOW_TASKS,new o.ShowTasksCommand(this.gradleTasksTreeView)),this.registerCommand(o.COMMAND_RUN_TASK,new o.RunTaskCommand(this.rootProjectsStore,this.client)),this.registerCommand(o.COMMAND_RUN_TASK_DOUBLE_CLICK,new o.RunTaskDoubleClickCommand(this.rootProjectsStore,this.client)),this.registerCommand(o.COMMAND_DEBUG_TASK,new o.DebugTaskCommand(this.rootProjectsStore,this.client)),this.registerCommand(o.COMMAND_RESTART_TASK,new o.RestartTaskCommand(this.client)),this.registerCommand(o.COMMAND_RUN_TASK_WITH_ARGS,new o.RunTaskWithArgsCommand(this.rootProjectsStore,this.client)),this.registerCommand(o.COMMAND_DEBUG_TASK_WITH_ARGS,new o.DebugTaskWithArgsCommand(this.rootProjectsStore,this.client)),this.registerCommandWithoutInstrument(o.COMMAND_RENDER_TASK,new o.RenderTaskCommand(this.gradleTasksTreeDataProvider,this.recentTasksTreeDataProvider)),this.registerCommand(o.COMMAND_CANCEL_BUILD,new o.CancelBuildCommand(this.client)),this.registerCommand(o.COMMAND_CANCEL_TREE_ITEM_TASK,new o.CancelTreeItemTaskCommand),this.registerCommandWithoutInstrument(o.COMMAND_REFRESH,new o.RefreshCommand(this.gradleTaskProvider,this.gradleBuildContentProvider,this.gradleTasksTreeDataProvider,this.recentTasksTreeDataProvider)),this.registerCommand(o.COMMAND_LOAD_TASKS,new o.LoadTasksCommand(this.gradleTaskProvider)),this.registerCommandWithoutInstrument(o.COMMAND_REFRESH_DAEMON_STATUS,new o.RefreshDaemonStatusCommand(this.gradleDaemonsTreeDataProvider)),this.registerCommand(o.COMMAND_STOP_DAEMONS,new o.StopDaemonsCommand(this.rootProjectsStore)),this.registerCommand(o.COMMAND_STOP_DAEMON,new o.StopDaemonCommand),this.registerCommand(o.COMMAND_EXPLORER_TREE,new o.ExplorerTreeCommand(this.gradleTasksTreeDataProvider)),this.registerCommand(o.COMMAND_EXPLORER_FLAT,new o.ExplorerFlatCommand(this.gradleTasksTreeDataProvider)),this.registerCommand(o.COMMAND_OPEN_SETTINGS,new o.OpenSettingsCommand),this.registerCommand(o.COMMAND_OPEN_BUILD_FILE,new o.OpenBuildFileCommand),this.registerCommand(o.COMMAND_CANCELLING_TREE_ITEM_TASK,new o.CancellingTreeItemTaskCommand),this.registerCommand(o.COMMAND_SHOW_LOGS,new o.ShowLogsCommand),this.registerCommand(o.COMMAND_PIN_TASK,new o.PinTaskCommand(this.pinnedTasksStore,this.gradleTasksTreeDataProvider)),this.registerCommand(o.COMMAND_PIN_TASK_WITH_ARGS,new o.PinTaskWithArgsCommand(this.pinnedTasksStore,this.gradleTasksTreeDataProvider)),this.registerCommand(o.COMMAND_UNPIN_TASK,new o.UnpinTaskCommand(this.pinnedTasksStore,this.gradleTasksTreeDataProvider)),this.registerCommand(o.COMMAND_SHOW_TASK_TERMINAL,new o.ShowTaskTerminalCommand(this.taskTerminalsStore)),this.registerCommand(o.COMMAND_CLOSE_TASK_TERMINALS,new o.CloseTaskTerminalsCommand(this.taskTerminalsStore)),this.registerCommand(o.COMMAND_CLOSE_ALL_TASK_TERMINALS,new o.CloseAllTaskTerminalsCommand(this.taskTerminalsStore)),this.registerCommand(o.COMMAND_CLEAR_ALL_RECENT_TASKS,new o.ClearAllRecentTasksCommand(this.recentTasksStore)),this.registerCommand(o.COMMAND_UNPIN_ALL_TASKS,new o.UnpinAllTasksCommand(this.pinnedTasksStore,this.gradleTasksTreeDataProvider)),this.registerCommand(o.COMMAND_REMOVE_RECENT_TASK,new o.RemoveRecentTaskCommand(this.recentTasksStore)),this.registerCommand(o.COMMAND_RUN_BUILD,new o.RunBuildCommand(this.rootProjectsStore,this.client)),this.registerCommand(o.COMMAND_FIND_TASK,new o.FindTaskCommand(this.gradleTasksTreeView,this.gradleTaskProvider)),this.registerCommand(d.SHOW_STOPPED_DAEMONS,new d.ShowStoppedDaemonsCommand(this.gradleDaemonsTreeDataProvider)),this.registerCommand(l.HIDE_STOPPED_DAEMONS,new l.HideStoppedDaemonsCommand(this.gradleDaemonsTreeDataProvider)),this.registerCommand(a.COMMAND_CREATE_PROJECT,new a.CreateProjectCommand(this.client),[!1]),this.registerCommand(a.COMMAND_CREATE_PROJECT_ADVANCED,new a.CreateProjectCommand(this.client),[!0]),this.registerCommand(u.COMMAND_RUN_TASKS,new u.RunTasksCommand(this.gradleTaskProvider)),(0,s.isJavaExtEnabled)()&&this.registerCommand(c.COMMAND_RELOAD_JAVA_PROJECT,new c.ReloadJavaProjectsCommand)}}},9345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateProjectCommand=t.COMMAND_CREATE_PROJECT_ADVANCED=t.COMMAND_CREATE_PROJECT=void 0;const n=r(6928),i=r(1398),o=r(9411),s=r(8865),a=r(1322),l=r(1831),c=r(4387),u=r(3294);t.COMMAND_CREATE_PROJECT="gradle.createProject",t.COMMAND_CREATE_PROJECT_ADVANCED="gradle.createProjectAdvanced";class d extends u.Command{constructor(e){super(),this.client=e}async run(e){if(!e||void 0===e[0])return;const t=i.workspace.workspaceFolders,r=await i.window.showOpenDialog({defaultUri:t&&t.length?t[0].uri:void 0,title:"Select target Folder",openLabel:"Select",canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1}),o=e[0];if(r){const e={isAdvanced:o,totalSteps:o?5:2,testFramework:void 0,projectType:l.ProjectType.JAVA_APPLICATION,targetFolder:r[0].fsPath,projectName:n.basename(r[0].fsPath),sourcePackageName:await this.client.getNormalizedPackageName(n.basename(r[0].fsPath)),steps:[],nextStep:o?s.selectProjectTypeStep:a.selectScriptDSLStep,client:this.client};if(await this.runSteps(e)){await this.createProject(e);const r=void 0!==t,n=void 0!==(null==t?void 0:t.find((t=>{var r;return e.targetFolder.startsWith(null===(r=t.uri)||void 0===r?void 0:r.fsPath)})));let o=(0,c.getProjectOpenBehaviour)();if(o===c.ProjectOpenBehaviourValue.INTERACTIVE){const t=[c.ProjectOpenBehaviourValue.OPEN,r&&!1===n?c.ProjectOpenBehaviourValue.ADDTOWORKSPACE:void 0].filter(Boolean),s=await i.window.showInformationMessage(`Gradle project [${e.projectName}] is created under: ${e.targetFolder}`,...t);s&&(o=s)}o===c.ProjectOpenBehaviourValue.OPEN?i.commands.executeCommand("vscode.openFolder",i.Uri.file(e.targetFolder),r):o===c.ProjectOpenBehaviourValue.ADDTOWORKSPACE&&(n||i.workspace.updateWorkspaceFolders(t?t.length:0,null,{uri:i.Uri.file(e.targetFolder)}))}}}async runSteps(e){let t=e.nextStep;for(;void 0!==t;)switch(await t.run(e)){case l.StepResult.NEXT:t=e.nextStep;break;case l.StepResult.PREVIOUS:if(0===e.steps.length)return!1;t=e.steps.pop();break;case l.StepResult.STOP:return!1;default:throw new Error("invalid StepResult returned.")}return!0}async createProject(e){const t=(0,o.getRunTaskCommandCancellationKey)(e.targetFolder,"init"),r=["init"];e.projectType&&e.scriptDSL&&e.projectName&&e.sourcePackageName&&(r.push("--dsl"),r.push(e.scriptDSL),r.push("--type"),r.push(e.projectType),e.testFramework&&(r.push("--test-framework"),r.push(e.testFramework)),r.push("--project-name"),r.push(e.projectName),e.sourcePackageName&&(r.push("--package"),r.push(e.sourcePackageName)),await this.client.runBuild(e.targetFolder,t,r,"",0,void 0,void 0,!0,"","Create Gradle project",i.ProgressLocation.Notification))}}t.CreateProjectCommand=d},2016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugTaskCommand=t.COMMAND_DEBUG_TASK=void 0;const n=r(6752),i=r(3294);t.COMMAND_DEBUG_TASK="gradle.debugTask";class o extends i.Command{constructor(e,t){super(),this.rootProjectsStore=e,this.client=t}async run(e,t=""){e&&e.task&&await(0,n.runTask)(this.rootProjectsStore,e.task,this.client,t,!0)}}t.DebugTaskCommand=o},2171:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugTaskWithArgsCommand=t.COMMAND_DEBUG_TASK_WITH_ARGS=void 0;const n=r(6752),i=r(6925),o=r(3294);t.COMMAND_DEBUG_TASK_WITH_ARGS="gradle.debugTaskWithArgs";class s extends o.Command{constructor(e,t){super(),this.rootProjectsStore=e,this.client=t}async run(e){e&&e.task?await(0,n.runTaskWithArgs)(this.rootProjectsStore,e.task,this.client,!0):i.logger.error("Unable to debug task with args. TreeItem or TreeItem task not found.")}}t.DebugTaskWithArgsCommand=s},6054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerFlatCommand=t.COMMAND_EXPLORER_FLAT=void 0;const n=r(3294);t.COMMAND_EXPLORER_FLAT="gradle.explorerFlat";class i extends n.Command{constructor(e){super(),this.gradleTasksTreeDataProvider=e}async run(){await this.gradleTasksTreeDataProvider.setCollapsed(!0)}}t.ExplorerFlatCommand=i},5327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerTreeCommand=t.COMMAND_EXPLORER_TREE=void 0;const n=r(3294);t.COMMAND_EXPLORER_TREE="gradle.explorerTree";class i extends n.Command{constructor(e){super(),this.gradleTasksTreeDataProvider=e}async run(){await this.gradleTasksTreeDataProvider.setCollapsed(!1)}}t.ExplorerTreeCommand=i},1168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FindTaskCommand=t.COMMAND_FIND_TASK=void 0;const n=r(6033),i=r(112),o=r(3294);t.COMMAND_FIND_TASK="gradle.findTask";class s extends o.Command{constructor(e,t){super(),this.gradleTasksTreeView=e,this.gradleTaskProvider=t}async run(){const e=await(0,n.getFindTask)(this.gradleTaskProvider);if(e){const t=this.gradleTaskProvider.getTasks().find((t=>t.name===e));t&&await(0,i.focusTaskInGradleTasksTree)(t,this.gradleTasksTreeView)}}}t.FindTaskCommand=s},256:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HideStoppedDaemonsCommand=t.HIDE_STOPPED_DAEMONS=void 0;const n=r(3294);t.HIDE_STOPPED_DAEMONS="gradle.hideStoppedDaemons";class i extends n.Command{constructor(e){super(),this.gradleDaemonsTreeDataProvider=e}async run(){this.gradleDaemonsTreeDataProvider.hideStoppedDaemons()}}t.HideStoppedDaemonsCommand=i},1e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadTasksCommand=t.COMMAND_LOAD_TASKS=void 0;const n=r(3294);t.COMMAND_LOAD_TASKS="gradle.loadTasks";class i extends n.Command{constructor(e){super(),this.gradleTaskProvider=e}async run(){return this.gradleTaskProvider.loadTasks()}}t.LoadTasksCommand=i},9e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureBuildFilePath=t.OpenBuildFileCommand=t.COMMAND_OPEN_BUILD_FILE=void 0;const n=r(1398),i=r(6928),o=r(1605),s=r(9305),a=r(3294),l=r(3554);async function c(e){await n.commands.executeCommand("vscode.open",n.Uri.file(e))}t.COMMAND_OPEN_BUILD_FILE="gradle.openBuildFile";class u extends a.Command{async run(e){if(e instanceof s.GradleTaskTreeItem)return c(e.task.definition.buildFile);if(e.uri){const t=await d(e.uri);if(t)return c(t)}}}async function d(e){const t=n.Uri.parse(e).fsPath;for(const e of l.GRADLE_BUILD_FILE_NAMES){const r=i.join(t,e);if(await o.pathExists(r))return r}}t.OpenBuildFileCommand=u,t.ensureBuildFilePath=d},7697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenSettingsCommand=t.COMMAND_OPEN_SETTINGS=void 0;const n=r(1398),i=r(3294);t.COMMAND_OPEN_SETTINGS="gradle.openSettings";class o extends i.Command{async run(){await n.commands.executeCommand("workbench.action.openSettings","@ext:vscjava.vscode-gradle")}}t.OpenSettingsCommand=o},2004:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinTaskCommand=t.COMMAND_PIN_TASK=void 0;const n=r(3294);t.COMMAND_PIN_TASK="gradle.pinTask";class i extends n.Command{constructor(e,t){super(),this.pinnedTasksStore=e,this.gradleTasksTreeDataProvider=t}async run(e){if(e&&e.task){const t=e.task.definition;this.pinnedTasksStore.addEntry(t.id,t.args),this.gradleTasksTreeDataProvider.refresh()}}}t.PinTaskCommand=i},2119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinTaskWithArgsCommand=t.COMMAND_PIN_TASK_WITH_ARGS=void 0;const n=r(6033),i=r(3294);t.COMMAND_PIN_TASK_WITH_ARGS="gradle.pinTaskWithArgs";class o extends i.Command{constructor(e,t){super(),this.pinnedTasksStore=e,this.gradleTasksTreeDataProvider=t}async run(e){if(e&&e.task){const t=await(0,n.getTaskArgs)();if(t){const r=e.task.definition;this.pinnedTasksStore.addEntry(r.id,t),this.gradleTasksTreeDataProvider.refresh()}}}}t.PinTaskWithArgsCommand=o},611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshCommand=t.COMMAND_REFRESH=void 0;const n=r(3294);t.COMMAND_REFRESH="gradle.refresh";class i extends n.Command{constructor(e,t,r,n){super(),this.gradleTaskProvider=e,this.gradleBuildContentProvider=t,this.gradleTasksTreeDataProvider=r,this.recentTasksTreeDataProvider=n}async run(){this.gradleTaskProvider.clearTasksCache(),this.gradleBuildContentProvider.refresh(),this.gradleTaskProvider.loadTasks(),this.gradleTasksTreeDataProvider.refresh(),this.recentTasksTreeDataProvider.refresh()}}t.RefreshCommand=i},1877:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshDaemonStatusCommand=t.COMMAND_REFRESH_DAEMON_STATUS=void 0;const n=r(3294);t.COMMAND_REFRESH_DAEMON_STATUS="gradle.refreshDaemonStatus";class i extends n.Command{constructor(e){super(),this.gradleDaemonsTreeDataProvider=e}async run(){this.gradleDaemonsTreeDataProvider.refresh()}}t.RefreshDaemonStatusCommand=i},4383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReloadJavaProjectsCommand=t.COMMAND_RELOAD_JAVA_PROJECT=void 0;const n=r(1398),i=r(7708),o=r(3294);t.COMMAND_RELOAD_JAVA_PROJECT="gradle.java.projectConfiguration.update";class s extends o.Command{constructor(){super()}async run(){const e=(0,i.getProjectTreeItemMap)();(null==e?void 0:e.size)&&n.commands.executeCommand("java.projectConfiguration.update",Array.from(e.keys()).map((e=>n.Uri.file(e))))}}t.ReloadJavaProjectsCommand=s},6920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveRecentTaskCommand=t.COMMAND_REMOVE_RECENT_TASK=void 0;const n=r(3294);t.COMMAND_REMOVE_RECENT_TASK="gradle.removeRecentTask";class i extends n.Command{constructor(e){super(),this.recentTasksStore=e}async run(e){if(e&&e.task){const t=e.task.definition;this.recentTasksStore.removeEntry(t.id,t.args)}}}t.RemoveRecentTaskCommand=i},7653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderTaskCommand=t.COMMAND_RENDER_TASK=void 0;const n=r(112),i=r(3294);t.COMMAND_RENDER_TASK="gradle.renderTask";class o extends i.Command{constructor(e,t){super(),this.gradleTasksTreeDataProvider=e,this.recentTasksTreeDataProvider=t}async run(e){(0,n.updateGradleTreeItemStateForTask)(e,this.gradleTasksTreeDataProvider,this.recentTasksTreeDataProvider)}}t.RenderTaskCommand=o},7752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestartTaskCommand=t.COMMAND_RESTART_TASK=void 0;const n=r(6752),i=r(3294);t.COMMAND_RESTART_TASK="gradle.restartTask";class o extends i.Command{constructor(e){super(),this.client=e}async run(e){if(e&&e.task){const t=(0,n.getTaskExecution)(e.task);t&&await(0,n.queueRestartTask)(this.client,t.task)}}}t.RestartTaskCommand=o},7739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunBuildCommand=t.COMMAND_RUN_BUILD=void 0;const n=r(1398),i=r(8487),o=r(6033),s=r(6801),a=r(9411),l=r(3294);t.COMMAND_RUN_BUILD="gradle.runBuild";class c extends l.Command{constructor(e,t){super(),this.rootProjectsStore=e,this.client=t}async run(){const e=await(0,o.getRootProjectFolder)(this.rootProjectsStore);if(!e)return;const t=await(0,o.getGradleCommand)();if(!t)return;const r=(0,i.parseArgsStringToArgv)(t.trim()),l=(0,a.getRunBuildCancellationKey)(e.getProjectUri().fsPath,r),c=new s.GradleRunnerTerminal(e,r,l,this.client),u=new n.Task({type:"gradle"},e.getWorkspaceFolder(),t,"gradle",new n.CustomExecution((async()=>c)),["$gradle"]);u.presentationOptions={showReuseMessage:!1,clear:!0,echo:!0,focus:!0,panel:n.TaskPanelKind.Shared,reveal:n.TaskRevealKind.Always},await n.tasks.executeTask(u)}}t.RunBuildCommand=c},8254:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunTaskDoubleClickCommand=t.RunTaskCommand=t.COMMAND_RUN_TASK_DOUBLE_CLICK=t.COMMAND_RUN_TASK=void 0;const n=r(6752),i=r(3294),o=r(679);async function s(e,t,r){e&&e.task&&await(0,n.runTask)(t,e.task,r)}t.COMMAND_RUN_TASK="gradle.runTask",t.COMMAND_RUN_TASK_DOUBLE_CLICK="gradle.runTaskDoubleClick";class a extends i.Command{constructor(e,t){super(),this.rootProjectsStore=e,this.client=t}async run(e){s(e,this.rootProjectsStore,this.client)}}t.RunTaskCommand=a;class l extends i.Command{constructor(e,t){super(),this.rootProjectsStore=e,this.client=t,this.doubleClickChecker=new o.DoubleClickChecker}async run(e){if(this.doubleClickChecker.checkDoubleClick(e))return s(e,this.rootProjectsStore,this.client)}}t.RunTaskDoubleClickCommand=l},113:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunTaskWithArgsCommand=t.COMMAND_RUN_TASK_WITH_ARGS=void 0;const n=r(6752),i=r(6925),o=r(3294);t.COMMAND_RUN_TASK_WITH_ARGS="gradle.runTaskWithArgs";class s extends o.Command{constructor(e,t){super(),this.rootProjectsStore=e,this.client=t}async run(e){e&&e.task?await(0,n.runTaskWithArgs)(this.rootProjectsStore,e.task,this.client,!1):i.logger.error("Unable to run task with args. TreeItem or TreeItem task not found.")}}t.RunTaskWithArgsCommand=s},669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunTasksCommand=t.COMMAND_RUN_TASKS=void 0;const n=r(1398),i=r(6033),o=r(3294);t.COMMAND_RUN_TASKS="gradle.runTasks";class s extends o.Command{constructor(e){super(),this.gradleTaskProvider=e}async run(e){if(null==e?void 0:e.uri){const t=await(0,i.getRunTasks)(this.gradleTaskProvider,e.uri);if(t){const e=this.gradleTaskProvider.getTasks().find((e=>e.name===t));e&&await n.tasks.executeTask(e)}}}}t.RunTasksCommand=s},9992:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowLogsCommand=t.COMMAND_SHOW_LOGS=void 0;const n=r(6925),i=r(3294);t.COMMAND_SHOW_LOGS="gradle.showLogs";class o extends i.Command{async run(){var e;null===(e=n.logger.getChannel())||void 0===e||e.show()}}t.ShowLogsCommand=o},403:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowStoppedDaemonsCommand=t.SHOW_STOPPED_DAEMONS=void 0;const n=r(3294);t.SHOW_STOPPED_DAEMONS="gradle.showStoppedDaemons";class i extends n.Command{constructor(e){super(),this.gradleDaemonsTreeDataProvider=e}async run(){this.gradleDaemonsTreeDataProvider.showStoppedDaemons()}}t.ShowStoppedDaemonsCommand=i},1050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowTaskTerminalCommand=t.COMMAND_SHOW_TASK_TERMINAL=void 0;const n=r(3294);t.COMMAND_SHOW_TASK_TERMINAL="gradle.showTaskTerminal";class i extends n.Command{constructor(e){super(),this.taskTerminalsStore=e}async run(e){if(e&&e.task){const t=e.task.definition,r=this.taskTerminalsStore.getItem(t.id+t.args);if(r){const e=Array.from(r).pop();e&&e.show()}}}}t.ShowTaskTerminalCommand=i},1961:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowTasksCommand=t.COMMAND_SHOW_TASKS=void 0;const n=r(112),i=r(3294);t.COMMAND_SHOW_TASKS="gradle.showTasks";class o extends i.Command{constructor(e){super(),this.gradleTasksTreeView=e}async run(e){await(0,n.focusProjectInGradleTasksTree)(e,this.gradleTasksTreeView)}}t.ShowTasksCommand=o},9938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopDaemonCommand=t.COMMAND_STOP_DAEMON=void 0;const n=r(6033),i=r(6925),o=r(3294),s=r(6438),a=r(1398),l=r(1877);t.COMMAND_STOP_DAEMON="gradle.stopDaemon";class c extends o.Command{constructor(){super()}async run(e){if(!await(0,n.confirmModal)("Are you sure you want to stop the daemon?"))return;const t=e.pid;try{await this.stopDaemon(t),i.logger.info(`Successfully stopped daemon with PID ${t}.`)}catch(e){i.logger.error(`Failed to stop daemon with PID ${t}: ${e.message}.`)}}async stopDaemon(e){if(!e)throw new Error("PID is required to stop the daemon.");const t="win32"===process.platform?`taskkill /PID ${e} /F`:`kill ${e}`;await(0,s.execAsync)(t),await a.commands.executeCommand(l.COMMAND_REFRESH_DAEMON_STATUS)}}t.StopDaemonCommand=c},8985:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopDaemonsCommand=t.COMMAND_STOP_DAEMONS=void 0;const n=r(1398),i=r(6033),o=r(6925),s=r(3294),a=r(4387),l=r(6774),c=r(3650),u=r(3541),d=r(2849),h=r(1877);t.COMMAND_STOP_DAEMONS="gradle.stopDaemons";class p extends s.Command{constructor(e){super(),this.rootProjectsStore=e}async run(){if(!n.workspace.workspaceFolders||!n.workspace.workspaceFolders.length||!await(0,i.confirmModal)("Are you sure you want to stop the daemons?"))return;const e=await this.rootProjectsStore.getProjectRootsWithUniqueVersions();try{const t=e.map((e=>this.stopDaemons(e.getProjectUri().fsPath)));await Promise.all(t),o.logger.info("Successfully stopped all daemons."),await n.commands.executeCommand(h.COMMAND_REFRESH_DAEMON_STATUS)}catch(e){o.logger.error(`Failed to stop daemons: ${e.message}.`)}}async stopDaemons(e){const t=(0,a.getGradleConfig)(),r=await l.GradleStatus.getConnectionType(t);if(r===c.GradleConnectionType.WRAPPER){const t=new u.GradleWrapper(e);await t.exec(["--stop"])}else if(r===c.GradleConnectionType.LOCALINSTALLATION){const e=new d.GradleLocalInstallation(t.getGradleHome());await e.exec(["--stop"])}else o.logger.info("No daemons to stop.")}}t.StopDaemonsCommand=p},5965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnpinAllTasksCommand=t.COMMAND_UNPIN_ALL_TASKS=void 0;const n=r(6033),i=r(3294);t.COMMAND_UNPIN_ALL_TASKS="gradle.unpinAllTasks";class o extends i.Command{constructor(e,t){super(),this.pinnedTasksStore=e,this.gradleTasksTreeDataProvider=t}async run(){this.pinnedTasksStore.getData().size&&await(0,n.confirmModal)("Are you sure you want to clear the pinned tasks?")&&(this.pinnedTasksStore.clear(),this.gradleTasksTreeDataProvider.refresh())}}t.UnpinAllTasksCommand=o},8999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnpinTaskCommand=t.COMMAND_UNPIN_TASK=void 0;const n=r(3294);t.COMMAND_UNPIN_TASK="gradle.unpinTask";class i extends n.Command{constructor(e,t){super(),this.pinnedTasksStore=e,this.gradleTasksTreeDataProvider=t}async run(e){if(e&&e.task){const t=e.task.definition;this.pinnedTasksStore.removeEntry(t.id,t.args),this.gradleTasksTreeDataProvider.refresh()}}}t.UnpinTaskCommand=i},5059:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8556),t),i(r(6202),t),i(r(8862),t),i(r(5965),t),i(r(919),t),i(r(3199),t),i(r(3696),t),i(r(2016),t),i(r(2171),t),i(r(6054),t),i(r(5327),t),i(r(1e3),t),i(r(9e3),t),i(r(7697),t),i(r(2004),t),i(r(2119),t),i(r(611),t),i(r(1877),t),i(r(8999),t),i(r(6920),t),i(r(7653),t),i(r(7752),t),i(r(8254),t),i(r(113),t),i(r(9992),t),i(r(1050),t),i(r(1961),t),i(r(9938),t),i(r(8985),t),i(r(7739),t),i(r(1168),t)},3554:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionKinds=t.GRADLE_SERVER_BASE_JVM_OPTS=t.INSTALL_JDK=t.OPT_RESTART=t.NO_JAVA_EXECUTABLE=t.GRADLE_BUILD_FILE_NAMES=t.VSCODE_TRIGGER_COMPLETION=t.GRADLE_COMPLETION=t.GRADLE_PROPERTIES_FILE_CHANGE=t.GRADLE_BUILD_FILE_OPEN=t.GRADLE_BUILD_FILE_CHANGE=t.Context=void 0,(t.Context||(t.Context={})).ACTIVATION_CONTEXT_KEY="gradle:extensionActivated",t.GRADLE_BUILD_FILE_CHANGE="gradle.buildFileChanged",t.GRADLE_BUILD_FILE_OPEN="gradle.buildFileOpened",t.GRADLE_PROPERTIES_FILE_CHANGE="gradle.propertiesFileChanged",t.GRADLE_COMPLETION="gradle.completion",t.VSCODE_TRIGGER_COMPLETION="editor.action.triggerSuggest",t.GRADLE_BUILD_FILE_NAMES=["build.gradle","settings.gradle","build.gradle.kts","settings.gradle.kts"],t.NO_JAVA_EXECUTABLE="JDK 17 or higher is required. Please set a valid Java home path to 'java.jdt.ls.java.home' setting or JAVA_HOME environment variable. Or ensure a valid Java executable is in your PATH.",t.OPT_RESTART="Restart",t.INSTALL_JDK="Install JDK",t.GRADLE_SERVER_BASE_JVM_OPTS="--add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.prefs/java.util.prefs=ALL-UNNAMED --add-opens=java.base/java.nio.charset=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED",(r=t.CompletionKinds||(t.CompletionKinds={})).DEPENDENCY_GROUP="dependency_group",r.DEPENDENCY_ARTIFACT="dependency_artifact",r.DEPENDENCY_VERSION="dependency_version",r.METHOD_CALL="method_call",r.PROPERTY="property"},8865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectProjectTypeStep=t.SelectProjectTypeStep=void 0;const n=r(1398),i=r(1322),o=r(1831);class s{async run(e){const r=[],s=new Promise((async(s,a)=>{const l=n.window.createQuickPick();l.title=`Create Gradle project: Select project type (${e.steps.length+1}/${e.totalSteps})`,l.placeholder="Select project type ...",l.matchOnDescription=!0,l.ignoreFocusOut=!0,l.items=this.getProjectTypePickItems(),r.push(l.onDidAccept((async()=>{const r=l.selectedItems[0];if(r){switch(r.label){case"application":e.projectType=o.ProjectType.JAVA_APPLICATION,e.totalSteps=5;break;case"library":e.projectType=o.ProjectType.JAVA_LIBRARY,e.totalSteps=5;break;case"Gradle plugin":e.projectType=o.ProjectType.JAVA_GRADLE_PLUGIN,e.totalSteps=4;break;default:s(o.StepResult.STOP)}e.steps.push(t.selectProjectTypeStep),e.nextStep=i.selectScriptDSLStep,s(o.StepResult.NEXT)}})),l.onDidHide((()=>{s(o.StepResult.STOP)}))),r.push(l),l.show()}));try{return await s}finally{r.forEach((e=>e.dispose()))}}getProjectTypePickItems(){const e=[];return e.push({label:"application",description:"A command-line application implemented in Java"}),e.push({label:"library",description:"A Java library"}),e.push({label:"Gradle plugin",description:"A Gradle plugin implemented in Java"}),e}}t.SelectProjectTypeStep=s,t.selectProjectTypeStep=new s},1322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectScriptDSLStep=t.SelectScriptDSLStep=void 0;const n=r(1398),i=r(1436),o=r(769),s=r(1831);class a{async run(e){const r=[],a=new Promise((async(a,l)=>{const c=n.window.createQuickPick();c.title=`Create Gradle project: Select script DSL (${e.steps.length+1}/${e.totalSteps})`,c.placeholder="Select build script DSL ...",c.matchOnDescription=!0,c.ignoreFocusOut=!0,c.items=this.getScriptDSLPickItems(),e.steps.length&&(c.buttons=[n.QuickInputButtons.Back],r.push(c.onDidTriggerButton((e=>{e===n.QuickInputButtons.Back&&a(s.StepResult.PREVIOUS)})))),r.push(c.onDidAccept((()=>{const r=c.selectedItems[0];if(r){switch(r.label){case"Groovy":e.scriptDSL="groovy";break;case"Kotlin":e.scriptDSL="kotlin";break;default:a(s.StepResult.STOP)}e.steps.push(t.selectScriptDSLStep),e.isAdvanced&&e.projectType!==s.ProjectType.JAVA_GRADLE_PLUGIN?e.nextStep=i.selectTestFrameworkStep:e.nextStep=o.specifyProjectNameStep,a(s.StepResult.NEXT)}})),c.onDidHide((()=>{a(s.StepResult.STOP)}))),r.push(c),c.show()}));try{return await a}finally{r.forEach((e=>e.dispose()))}}getScriptDSLPickItems(){const e=[];return e.push({label:"Groovy"}),e.push({label:"Kotlin"}),e}}t.SelectScriptDSLStep=a,t.selectScriptDSLStep=new a},1436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectTestFrameworkStep=t.SelectTestFrameworkStep=void 0;const n=r(1398),i=r(769),o=r(1831);class s{async run(e){const r=[],s=new Promise((async(s,a)=>{const l=n.window.createQuickPick();l.title=`Create Gradle project: Select test framework (${e.steps.length+1}/${e.totalSteps})`,l.placeholder="Select test framework ...",l.matchOnDescription=!0,l.ignoreFocusOut=!0,l.items=this.getTestFrameworkPickItems(),e.steps.length&&(l.buttons=[n.QuickInputButtons.Back],r.push(l.onDidTriggerButton((e=>{e===n.QuickInputButtons.Back&&s(o.StepResult.PREVIOUS)})))),r.push(l.onDidAccept((()=>{const r=l.selectedItems[0];if(r){switch(r.label){case"JUnit 4":e.testFramework=void 0;break;case"TestNG":e.testFramework=o.TestFramework.TESTNG;break;case"Spock":e.testFramework=o.TestFramework.SPOCK;break;case"JUnit Jupiter":e.testFramework=o.TestFramework.JUNIT_JUPITER;break;default:s(o.StepResult.STOP)}e.steps.push(t.selectTestFrameworkStep),e.nextStep=i.specifyProjectNameStep,s(o.StepResult.NEXT)}})),l.onDidHide((()=>{s(o.StepResult.STOP)}))),r.push(l),l.show()}));try{return await s}finally{r.forEach((e=>e.dispose()))}}getTestFrameworkPickItems(){const e=[];return e.push({label:"JUnit 4"}),e.push({label:"TestNG"}),e.push({label:"Spock"}),e.push({label:"JUnit Jupiter"}),e}}t.SelectTestFrameworkStep=s,t.selectTestFrameworkStep=new s},769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifyProjectNameStep=t.SpecifyProjectNameStep=void 0;const n=r(1398),i=r(6231),o=r(1831);class s{async run(e){const r=[],s=new Promise((async(s,a)=>{const l=n.window.createInputBox();l.title=`Create Gradle project: Specify project name (${e.steps.length+1}/${e.totalSteps})`,l.prompt="Input name of your project.",l.placeholder="e.g. "+e.projectName,l.value=e.projectName,l.ignoreFocusOut=!0,l.validationMessage=this.isValidProjectName(e.projectName),e.steps.length&&(l.buttons=[n.QuickInputButtons.Back],r.push(l.onDidTriggerButton((e=>{e===n.QuickInputButtons.Back&&s(o.StepResult.PREVIOUS)})))),r.push(l.onDidChangeValue((()=>{l.validationMessage=this.isValidProjectName(l.value)})),l.onDidAccept((async()=>{l.validationMessage||(e.projectName=l.value,e.steps.push(t.specifyProjectNameStep),e.nextStep=e.isAdvanced?i.specifySourcePackageNameStep:void 0,s(o.StepResult.NEXT))})),l.onDidHide((()=>{s(o.StepResult.STOP)}))),r.push(l),l.show()}));try{return await s}finally{r.forEach((e=>e.dispose()))}}isValidProjectName(e){return e.length>0?void 0:"Invalid Project Name."}}t.SpecifyProjectNameStep=s,t.specifyProjectNameStep=new s},6231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifySourcePackageNameStep=t.SpecifySourcePackageNameStep=void 0;const n=r(1398),i=r(1831),o=r(7059);class s{async run(e){if(!e.client)return i.StepResult.STOP;const t=(0,o.asyncDebounce)(e.client.getNormalizedPackageName,500,e.client),r=[],s=new Promise((async(o,s)=>{const a=n.window.createInputBox(),l=e.sourcePackageName||"",c=await t(l);if(!c)return o(i.StepResult.STOP);a.title=`Create Gradle project: Specify package name (${e.steps.length+1}/${e.totalSteps})`,a.prompt="Input source package name of your project.",a.placeholder="e.g. "+c,a.value=c,a.ignoreFocusOut=!0,e.steps.length&&(a.buttons=[n.QuickInputButtons.Back],r.push(a.onDidTriggerButton((e=>{e===n.QuickInputButtons.Back&&o(i.StepResult.PREVIOUS)})))),r.push(a.onDidChangeValue((async()=>{const e=await t(a.value);e&&(e!==a.value?a.validationMessage=`Invalid source package name, suggest name: ${e}`:a.validationMessage=void 0)})),a.onDidAccept((async()=>{const t=await e.client.getNormalizedPackageName(a.value);t&&(t!==a.value?a.validationMessage=`Invalid source package name, suggest name: ${t}`:(e.sourcePackageName=a.value,e.nextStep=void 0,o(i.StepResult.NEXT)))})),a.onDidHide((()=>{o(i.StepResult.STOP)}))),r.push(a),a.show()}));try{return await s}finally{r.forEach((e=>e.dispose()))}}}t.SpecifySourcePackageNameStep=s,s.GET_NORMALIZED_PACKAGE_NAME="getNormalizedPackageName",t.specifySourcePackageNameStep=new s},1831:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TestFramework=t.ProjectType=t.StepResult=void 0,(i=t.StepResult||(t.StepResult={}))[i.NEXT=0]="NEXT",i[i.STOP=1]="STOP",i[i.PREVIOUS=2]="PREVIOUS",(n=t.ProjectType||(t.ProjectType={})).JAVA_APPLICATION="java-application",n.JAVA_LIBRARY="java-library",n.JAVA_GRADLE_PLUGIN="java-gradle-plugin",(r=t.TestFramework||(t.TestFramework={})).TESTNG="testng",r.SPOCK="spock",r.JUNIT_JUPITER="junit-jupiter"},7059:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncDebounce=void 0;const n=r(2543);t.asyncDebounce=function(e,t,r){const i=(0,n.debounce)((async(t,r,n,i)=>{try{t(await e.bind(n)(...i))}catch(e){r(e)}}),t);return function(...e){return new Promise(((t,n)=>{i(t,n,r,e)}))}}},6313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleDependencyProvider=void 0;const n=r(2527),i=r(5995),o=r(4451);class s{constructor(e){this.contentProvider=e,this.cachedDependencies=new Map}async getDependencies(e,t){const r=e.getProjectPath();if(this.cachedDependencies.has(r))return this.cachedDependencies.get(r);const o=await this.contentProvider.getGradleBuild(t);if(o){const t=(0,n.findGradleProjectFromBuild)(r,o);if(t){const n=t.getDependencyitem();if(n){const t=(0,i.getDependencyConfigurationTreeItems)(n,e);if(t)return this.cachedDependencies.set(r,t),t}}}const a=s.getNoDependencies();return this.cachedDependencies.set(r,a),a}static getNoDependencies(){return[new o.HintItem("No dependencies")]}}t.GradleDependencyProvider=s},3031:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icons=void 0;const n=r(6928),i=r(8216);t.Icons=class{constructor(e){this.context=e,this.iconPathRunning={light:this.context.asAbsolutePath(n.join("resources","light",i.ICON_LOADING)),dark:this.context.asAbsolutePath(n.join("resources","dark",i.ICON_LOADING))},this.iconPathIdle={light:this.context.asAbsolutePath(n.join("resources","light",i.ICON_GRADLE_TASK)),dark:this.context.asAbsolutePath(n.join("resources","dark",i.ICON_GRADLE_TASK))}}}},277:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3031),t)},9539:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syncGradleBuild=t.startLanguageClientAndWaitForConnection=t.isLanguageServerStarted=void 0;const n=r(9278),i=r(1398),o=r(99),s=r(2339),a=r(4387);function l(){return{gradleHome:(0,a.getConfigJavaImportGradleHome)(),gradleVersion:(0,a.getConfigJavaImportGradleVersion)(),gradleWrapperEnabled:(0,a.getConfigJavaImportGradleWrapperEnabled)(),gradleUserHome:(0,a.getConfigJavaImportGradleUserHome)()}}async function c(e){await async function(e){if(t.isLanguageServerStarted){const t=i.Uri.file(e.getProjectpath()).fsPath;await i.commands.executeCommand("gradle.setPlugins",e.getProjectpath(),e.getPluginsList());const r=e.getPluginclosuresList().map((e=>{const t=e.getMethodsList().map((e=>({name:e.getName(),parameterTypes:e.getParametertypesList(),deprecated:e.getDeprecated()}))),r=e.getFieldsList().map((e=>({name:e.getName(),deprecated:e.getDeprecated()})));return{name:e.getName(),methods:t,fields:r}}));await i.commands.executeCommand("gradle.setClosures",t,r),await i.commands.executeCommand("gradle.setScriptClasspaths",t,e.getScriptclasspathsList())}}(e);for(const t of e.getProjectsList())await c(t)}async function u(e){const t=e.getProject();t&&t.getIsRoot()&&c(t)}t.isLanguageServerStarted=!1,t.startLanguageClientAndWaitForConnection=async function(e,r,a,c){""!==c?i.window.withProgress({location:i.ProgressLocation.Window},(d=>new Promise((async h=>{d.report({message:"Initializing Gradle Language Server"});const p={documentSelector:[{scheme:"file",language:"gradle"}],initializationOptions:{settings:l()}},f=new s.LanguageClient("gradle","Gradle Language Server",(()=>async function(e){return new Promise(((t,r)=>{const i=n.createServer((e=>{i.close(),t({reader:e,writer:e})}));return i.on("error",r),i.listen(e,(()=>{i.removeListener("error",r)})),i}))}(c)),p);f.onReady().then((()=>{t.isLanguageServerStarted=!0,async function(e,r){if(t.isLanguageServerStarted){const t=i.workspace.workspaceFolders;if(null==t?void 0:t.length){const n=t[0].uri.fsPath,i=r.get(n);if(!i)return;const o=await e.getGradleBuild(i);o&&await u(o)}}}(r,a),h()}),(e=>{i.window.showErrorMessage(e)}));const g=f.start();e.subscriptions.push(g),e.subscriptions.push(i.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration("java.import.gradle")&&f.sendNotification(o.DidChangeConfigurationNotification.type,{settings:l()})})))})))):t.isLanguageServerStarted=!1},t.syncGradleBuild=u},69:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogVerbosity=void 0;const n=r(3130);var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(i=t.LogVerbosity||(t.LogVerbosity={}));class o{constructor(e){this.prefix=e}static setLogVerbosity(e){o.verbosity=e}log(e,t){if(!this.channel)throw new Error("No extension output channel defined.");this.appendLine(this.format(e,t),t)}appendLine(e,t){var r;t>=o.verbosity&&(null===(r=this.channel)||void 0===r||r.appendLine(e))}append(e,t){var r;t>=o.verbosity&&(null===(r=this.channel)||void 0===r||r.append(e))}format(e,t){return`[${i[t].toLowerCase()}]${this.prefix?` [${this.prefix}]`:""} ${e}`}info(...e){this.log(e.join(" "),i.INFO)}warn(...e){this.log(e.join(" "),i.WARN)}error(...e){const t=e.join(" ");this.log(t,i.ERROR),(0,n.sendInfo)("",{kind:"gradleTaskServerError",dataMsg:t})}debug(...e){this.log(e.join(" "),i.DEBUG)}getChannel(){return this.channel}setLoggingChannel(e){if(this.channel)throw new Error("Output channel already defined.");this.channel=e}reset(){this.channel=void 0}}t.Logger=o,o.verbosity=i.INFO},941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerStream=void 0;const n=r(9023);t.LoggerStream=class{constructor(e,t){this.logger=e,this.verbosity=t,this.buffer=""}write(e){const t=new n.TextDecoder("utf-8").decode(e),r=this.buffer.length?t:this.logger.format(t.trimLeft(),this.verbosity);this.buffer+=t,this.append(r)}append(e){this.logger.append(e,this.verbosity)}getBuffer(){return this.buffer}}},6925:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,i(r(69),t),i(r(941),t);const o=r(69);t.logger=new o.Logger},1303:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressHandler=void 0;const n=r(1398);t.ProgressHandler=class{constructor(e,t){this.progress=e,this.initialMessage=t,this._onDidProgressStart=new n.EventEmitter,this.onDidProgressStart=this._onDidProgressStart.event,this.initialMessage&&this.progress.report({message:this.initialMessage})}report(e){e.trim()&&(this.progress.report({message:e}),this._onDidProgressStart.fire(null),this._onDidProgressStart.dispose())}}},9386:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1303),t)},6527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootProject=void 0;const n=r(3130),i=r(2857);t.RootProject=class{constructor(e,t){this.workspaceFolder=e,this.projectUri=t}setEnvironment(e){var t;this.environment=e;const r=null===(t=e.getGradleEnvironment())||void 0===t?void 0:t.getGradleVersion();r&&r!==this.gradleVersion&&(this.gradleVersion=r,(0,i.isTest)()||(0,n.sendInfo)("",{name:"changeGradleVersion",gradleVersion:r}))}getEnvironment(){return this.environment}getWorkspaceFolder(){return this.workspaceFolder}getProjectUri(){return this.projectUri}}},5988:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleServer=void 0;const n=r(1398),i=r(6928),o=r(5317),s=r(7945),a=r(7520),l=r(1398),c=r(3130),u=r(2523),d=r(3554),h=r(4387),p=r(9767),f=r(138),g=/^\[([A-Z]+)\](.*)$/;t.GradleServer=class{constructor(e,t,r){this.opts=e,this.context=t,this.logger=r,this._onDidStart=new n.EventEmitter,this._onDidStop=new n.EventEmitter,this.ready=!1,this.restarting=!1,this.onDidStart=this._onDidStart.event,this.onDidStop=this._onDidStop.event,this.logOutput=e=>{const t=e.toString().trim();if(!t||"."===t)return;const r=t.match(g);if(r&&r.length){const[,e,t]=r,n=e.toLowerCase();this.logger[n](t.trim())}else this.logger.info(t)},this.setLanguageServerPipePath(),this.bspProxy=new p.BspProxy(this.context,r)}setLanguageServerPipePath(){this.languageServerPipePath=(0,f.getRandomPipeName)(),""===this.languageServerPipePath&&this.logger.error("Gradle language server will not start due to pipe path generation failure")}getLanguageServerPipePath(){return this.languageServerPipePath}async start(){let e=!1;(0,h.extensionInstalled)("redhat.java")&&(this.bspProxy.prepareToStart()?e=!0:this.logger.error("Gradle build server will not start due to pipe path generation failure")),this.bspProxy.setBuildServerStarted(e),this.bspProxy.start(),this.taskServerPort=await s();const t=this.context.asAbsolutePath("lib"),r=i.join(t,(0,u.getGradleServerCommand)()),a=await(0,u.getGradleServerEnv)();if(!a){(0,c.sendInfo)("",{kind:"GradleServerEnvMissing"});const e=(0,h.extensionInstalled)("vscjava.vscode-java-pack")?[d.INSTALL_JDK]:[];return void n.window.showErrorMessage(d.NO_JAVA_EXECUTABLE,...e).then((e=>{e===d.INSTALL_JDK&&n.commands.executeCommand("java.installJdk")}))}const l=[(0,u.quoteArg)(`--port=${this.taskServerPort}`),(0,u.quoteArg)(`--startBuildServer=${e}`),(0,u.quoteArg)(`--languageServerPipePath=${this.languageServerPipePath}`)];if(e){const e=this.bspProxy.getBuildServerPipeName(),t=this.context.asAbsolutePath("server");l.push((0,u.quoteArg)(`--pipeName=${e}`)),l.push((0,u.quoteArg)(`--bundleDir=${t}`))}this.logger.debug(`Gradle Server cmd: ${r} ${l.join(" ")}`),this.process=o.spawn(`"${r}"`,l,{cwd:t,env:a,shell:!0}),this.process.stdout.on("data",this.logOutput),this.process.stderr.on("data",this.logOutput),this.process.on("error",(e=>this.logger.error(e.message))).on("exit",(async e=>{var t;this.logger.warn("Gradle server stopped"),this._onDidStop.fire(null),this.ready=!1,null===(t=this.process)||void 0===t||t.removeAllListeners(),this.bspProxy.closeConnection(),this.restarting?(this.restarting=!1,await this.start()):0!==e&&await this.handleServerStartError(e)})),this.fireOnStart()}isReady(){return this.ready}async showRestartMessage(){const e=await n.window.showErrorMessage("No connection to gradle server. Try restarting the server.",d.OPT_RESTART);(0,c.sendInfo)("",{kind:"serverProcessExitRestart",data3:e===d.OPT_RESTART?"true":"false"}),e===d.OPT_RESTART&&await l.commands.executeCommand("workbench.action.restartExtensionHost")}async restart(){this.logger.info("Restarting gradle server"),this.restarting=!0,this.killProcess()}async killProcess(){if(this.process)return new Promise(((e,t)=>{var r;(null===(r=this.process)||void 0===r?void 0:r.pid)&&a(this.process.pid,(()=>e))}))}async handleServerStartError(e){(0,c.sendInfo)("",{kind:"serverProcessExit",data3:e?e.toString():""}),await this.showRestartMessage()}fireOnStart(){this.ready=!0,this._onDidStart.fire(null)}async asyncDispose(){var e;this.bspProxy.closeConnection(),null===(e=this.process)||void 0===e||e.removeAllListeners(),await this.killProcess(),this.ready=!1,this._onDidStart.dispose(),this._onDidStop.dispose()}getPort(){return this.taskServerPort}getOpts(){return this.opts}}},9038:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5988),t)},2523:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGradleServerEnv=t.quoteArg=t.getGradleServerCommand=void 0;const n=r(4387),i=r(3554);t.getGradleServerCommand=function(){const e=process.platform;if("win32"===e)return"gradle-server.bat";if("linux"===e||"darwin"===e)return"gradle-server";throw new Error("Unsupported platform")},t.quoteArg=function(e){return`"${e}"`},t.getGradleServerEnv=async function(){const e=(0,n.getRedHatJavaEmbeddedJRE)()||await(0,n.findValidJavaHome)(),t=Object.assign({},process.env);if(e)Object.assign(t,{VSCODE_JAVA_HOME:e}),"true"===t.DEBUG_GRADLE_SERVER?t.GRADLE_SERVER_OPTS="-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=8089 "+i.GRADLE_SERVER_BASE_JVM_OPTS:t.GRADLE_SERVER_OPTS=i.GRADLE_SERVER_BASE_JVM_OPTS;else if(!(0,n.checkEnvJavaExecutable)())return;return t}},2497:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.EventedStore=void 0;const i=r(1398),o=r(1407);class s{constructor(){this._onDidChange=new i.EventEmitter,this.onDidChange=this._onDidChange.event}fireOnDidChange(e){this._onDidChange.fire(e)}dispose(){this._onDidChange.dispose()}}n([(0,o.debounce)(0)],s.prototype,"fireOnDidChange",null),t.EventedStore=s},2702:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedTasksStore=void 0;const n=r(6263);class i extends n.TaskStore{constructor(e){super(),this.context=e;const t=this.context.workspaceState.get("pinnedTasks",{});t&&!Array.isArray(t)&&"object"==typeof t&&Object.keys(t).forEach((e=>{this.setItem(e,new Set(t[e]),!1)}))}async fireOnDidChange(){const e=(t=this.getData(),Array.from(t.keys()).reduce(((e,r)=>(e[r]=Array.from(t.get(r).values()),e)),{}));var t;await this.context.workspaceState.update("pinnedTasks",e),super.fireOnDidChange(null)}}t.PinnedTasksStore=i},7435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentTasksStore=void 0;const n=r(6263);class i extends n.TaskStore{}t.RecentTasksStore=i},124:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootProjectsStore=void 0;const n=r(1398),i=r(6928),o=r(4387),s=r(6263),a=r(2857),l=r(6527),c=r(3554);function u(e){const t=n.workspace.getWorkspaceFolder(e);return new l.RootProject(t,e)}function d(e,t,r){return!0===e?t.filter((e=>e!==r.uri.fsPath)):Array.isArray(e)?e.map((e=>i.join(r.uri.fsPath,e))):[]}class h extends s.StoreMap{constructor(){super(...arguments),this.isPopulated=!1,this.populatePromise=void 0,this.setRootProjectFolder=e=>{this.setItem(e.getProjectUri().fsPath,e,!1)}}async populate(){const e=n.workspace.workspaceFolders||[],t=await async function(){const e=await n.workspace.findFiles("**/{settings.gradle,settings.gradle.kts}");return[...new Set(e.map((e=>i.dirname(e.fsPath))))]}();for(const r of e){const e=d((0,o.getNestedProjectsConfig)(r),t,r);if(t.includes(r.uri.fsPath)){const e=u(r.uri);(0,a.isGradleRootProject)(e)&&this.setRootProjectFolder(e)}e.map((e=>u(n.Uri.file(e)))).forEach((e=>{(0,a.isGradleRootProject)(e)&&this.setRootProjectFolder(e)}))}for(const t of e)await h.isGradleFileExists(t)&&this.setRootProjectFolder(u(t.uri));this.isPopulated=!0,this.fireOnDidChange(null)}static async isGradleFileExists(e){var t;return!!(null===(t=await n.workspace.findFiles(new n.RelativePattern(e,`{${c.GRADLE_BUILD_FILE_NAMES.join(",")}}`)))||void 0===t?void 0:t.length)}async getProjectRoots(){return this.isPopulated||(this.populatePromise||(this.populatePromise=this.populate()),await this.populatePromise,this.populatePromise=void 0),[...this.getData().values()]}async getProjectRootsWithUniqueVersions(){const e=[];return(await this.getProjectRoots()).filter((t=>{var r,n;const i=null===(n=null===(r=t.getEnvironment())||void 0===r?void 0:r.getGradleEnvironment())||void 0===n?void 0:n.getGradleVersion();return void 0!==i&&!e.includes(i)&&(e.push(i),!0)}))}clear(e=!0){super.clear(e),this.isPopulated=!1}}t.RootProjectsStore=h},4498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreMap=void 0;const n=r(6263);class i extends n.EventedStore{constructor(){super(...arguments),this.data=new Map}getItem(e){return this.data.get(e)}getData(){return this.data}get(e){return this.getData().get(e)}clear(e=!0){this.data.clear(),e&&this.fireOnDidChange(null)}setItem(e,t,r=!0){this.data.set(e,t),r&&this.fireOnDidChange(t)}removeItem(e,t=!0){const r=this.data.get(e);r&&(this.data.delete(e),t&&this.fireOnDidChange(r))}}t.StoreMap=i},7792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreMapSet=void 0;const n=r(4498);class i extends n.StoreMap{addEntry(e,t,r=!0){let n=this.getItem(e);n||(n=new Set,this.setItem(e,n,!1)),n.has(t)||(n.add(t),r&&this.fireOnDidChange(n))}removeEntry(e,t,r=!0){const n=this.getItem(e);n&&n.has(t)&&(n.delete(t),0===n.size&&this.removeItem(e,!1),r&&this.fireOnDidChange(n))}}t.StoreMapSet=i},6433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskStore=void 0;const n=r(6263);class i extends n.StoreMapSet{}t.TaskStore=i},9872:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskTerminalsStore=void 0;const n=r(6263);class i extends n.StoreMapSet{removeTerminal(e){Array.from(this.getData().keys()).forEach((t=>{const r=this.getItem(t);r&&Array.from(r).forEach((t=>{t===e&&r.delete(t)}))})),this.fireOnDidChange(null)}}t.TaskTerminalsStore=i},6263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2497),t),i(r(4498),t),i(r(7792),t),i(r(6433),t),i(r(2702),t),i(r(7435),t),i(r(9872),t),i(r(124),t)},498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8584:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleTaskManager=void 0;const n=r(1398),i=r(6752);t.GradleTaskManager=class{constructor(e){this.context=e,this._onDidStartTask=new n.EventEmitter,this._onDidEndTask=new n.EventEmitter,this._onDidEndAllTasks=new n.EventEmitter,this.onDidStartTask=this._onDidStartTask.event,this.onDidEndTask=this._onDidEndTask.event,this.onDidEndAllTasks=this._onDidEndAllTasks.event,this.context.subscriptions.push(n.tasks.onDidStartTask((e=>{(0,i.isGradleTask)(e.execution.task)&&this._onDidStartTask.fire(e.execution.task)})),n.tasks.onDidEndTask((e=>{(0,i.isGradleTask)(e.execution.task)&&(this._onDidEndTask.fire(e.execution.task),0===(0,i.getRunningGradleTasks)().length&&this._onDidEndAllTasks.fire(null))})))}dispose(){this._onDidStartTask.dispose(),this._onDidEndAllTasks.dispose()}}},9502:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleTaskProvider=void 0;const n=r(1398),i=r(6925),o=r(6752),s=r(495);t.GradleTaskProvider=class{constructor(e,t,r){this.rootProjectsStore=e,this.client=t,this.gradleBuildContentProvider=r,this.cachedTasks=[],this._onDidLoadTasks=new n.EventEmitter,this._onDidStartRefresh=new n.EventEmitter,this._onDidStopRefresh=new n.EventEmitter,this.onDidLoadTasks=this._onDidLoadTasks.event,this.onDidStartRefresh=this._onDidStartRefresh.event,this.onDidStopRefresh=this._onDidStopRefresh.event,this._waitForTasksLoad=new s.EventWaiter(this.onDidLoadTasks),this.waitForTasksLoad=this._waitForTasksLoad.wait}provideTasks(){return this.loadTasks()}async resolveTask(e){const{definition:t}=e,r=t,n=e.scope;if(n)return(0,o.resolveTaskFromDefinition)(r,n,this.client);i.logger.error("Unable to provide Gradle task. Invalid workspace folder: ",r.workspaceFolder)}async loadTasks(){if(this.loadTasksPromise)return this.loadTasksPromise;if(this.cachedTasks.length)return Promise.resolve(this.cachedTasks);i.logger.debug("Refreshing tasks"),this._onDidStartRefresh.fire(null);const e=await this.rootProjectsStore.getProjectRoots();return e.length?(this.loadTasksPromise=(0,o.loadTasksForProjectRoots)(this.client,e,this.gradleBuildContentProvider).then((e=>{this.cachedTasks=e,i.logger.info(`Found ${this.cachedTasks.length} tasks`)}),(e=>{i.logger.error("Unable to refresh tasks:",e.message),this.cachedTasks=[]})).then((()=>this.cachedTasks)),this.loadTasksPromise.finally((()=>{this._onDidLoadTasks.fire(this.cachedTasks),this._onDidStopRefresh.fire(null),this.loadTasksPromise=void 0}))):(this.cachedTasks=[],Promise.resolve(this.cachedTasks))}getTasks(){return this.cachedTasks}findByTaskId(e){return this.getTasks().find((t=>t.definition.id===e))}clearTasksCache(){this.cachedTasks=[],this._waitForTasksLoad.reset()}dispose(){this._onDidLoadTasks.dispose(),this._onDidStartRefresh.dispose(),this._onDidStopRefresh.dispose()}}},2349:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(498),t),i(r(8584),t),i(r(9502),t)},6752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGradleTasks=t.cloneTask=t.runTaskWithArgs=t.runTask=t.loadTasksForProjectRoots=t.getVSCodeTasksFromGradleProject=t.resolveTaskFromDefinition=t.createTaskFromDefinition=t.buildTaskName=t.buildTaskId=t.queueRestartTask=t.removeCancellingTask=t.restartQueuedTask=t.getRestartingTask=t.getCancellingTask=t.hasRestartingTask=t.isTaskRestarting=t.isTaskCancelling=t.cancelBuild=t.isTaskRunning=t.getRunningGradleTask=t.getRunningGradleTasks=t.isGradleTask=t.getTaskExecution=void 0;const n=r(1398),i=r(6928),o=r(8487),s=r(6801),a=r(6925),l=r(4463),c=r(6033),u=r(5059),d=r(6527),h=r(9411),p=r(4387),f=new Map,g=new Map;function m(e,t){return n.tasks.taskExecutions.find((r=>v(r.task,e,t)))}function v(e,t,r){const n=void 0!==r;return e.definition.id===t.definition.id&&(!n||e.definition.args===r)}function y(e){return"gradle"===e.definition.type}function C(){return n.tasks.taskExecutions.filter((({task:e})=>y(e))).map((({task:e})=>e))}function S(e,t){return void 0!==m(e,t)}async function T(e,t,r){r&&S(r)&&(f.set(r.definition.id,r),await n.commands.executeCommand(u.COMMAND_RENDER_TASK,r)),await e.cancelBuild(t,r)}function b(e){return f.get(e.definition.id)}function _(e){return g.get(e.definition.id)}function w(e,t,r){return e+t+r}function R(e){const t=e.args?` ${e.args}`:"";return`${e.script}${t}`}function E(e,t,r,i=!1){(0,p.getAllowParallelRun)()&&i&&(e.id=e.id+Math.floor(Math.random()*Number.MAX_SAFE_INTEGER));const a=[e.script].concat((0,o.parseArgsStringToArgv)(e.args.trim())).filter(Boolean),l=R(e),c=(0,h.getRunTaskCommandCancellationKey)(t.getProjectUri().fsPath,e.script),u=new s.GradleRunnerTerminal(t,a,c,r),d=new n.Task(e,t.getWorkspaceFolder(),l,"gradle",new n.CustomExecution((async()=>u)),["$gradle"]),f=(0,p.getConfigReuseTerminals)();let g=n.TaskPanelKind.Dedicated;return"off"===f?g=n.TaskPanelKind.New:"all"===f&&(g=n.TaskPanelKind.Shared),d.presentationOptions={showReuseMessage:!1,clear:!0,echo:!0,focus:!0,panel:g,reveal:n.TaskRevealKind.Always},u.setTask(d),d}function P(e,t,r,n=""){const i=e.getPath(),o=":"===i[0]?i.substr(1):i;return E({type:"gradle",id:w(t.getProjectUri().fsPath,o,e.getProject()),script:o,description:e.getDescription(),group:(e.getGroup()||"other").toLowerCase(),project:e.getProject(),buildFile:e.getBuildfile(),rootProject:e.getRootproject(),projectFolder:t.getProjectUri().fsPath,workspaceFolder:t.getWorkspaceFolder().uri.fsPath,debuggable:e.getDebuggable(),args:n,isPinned:!1,javaDebug:!1},t,r)}function k(e,t,r){let n=[t];const i=[];for(;n.length;){const t=n.shift(),o=t.getTasksList();for(const t of o)i.push(P(t,e,r));n=n.concat(t.getProjectsList())}return i}async function D(e,t,r,i="",o=!1){const s=S(t,i);if((0,p.getAllowParallelRun)()||!s){if(o){const e="Install Missing Extensions";if(!(0,l.getJavaLanguageSupportExtension)()||!(0,l.getJavaDebuggerExtension)())return void(await n.window.showErrorMessage("The Java Language Support & Debugger extensions are required for debugging.",e)===e&&await n.commands.executeCommand("workbench.extensions.action.showExtensionsWithIds",[l.JAVA_LANGUAGE_EXTENSION_ID,l.JAVA_DEBUGGER_EXTENSION_ID]));if(!(0,l.isJavaLanguageSupportExtensionActivated)())return void await n.window.showErrorMessage("The Java Language Support extension is not activated.")}try{if(o||i||(0,p.getAllowParallelRun)()){const a=O(e,t,i,r,o,s);await n.tasks.executeTask(a)}else await n.tasks.executeTask(t)}catch(e){a.logger.error("There was an error starting the task:",e.message)}}else a.logger.warn("Unable to run task, task is already running:",t.name)}function O(e,t,r,n,i=!1,o=!1){const s=Object.assign(Object.assign({},t.definition),{args:r,javaDebug:i});return E(s,e.get(s.projectFolder),n,o)}t.getTaskExecution=m,t.isGradleTask=y,t.getRunningGradleTasks=C,t.getRunningGradleTask=function(e){return C().find((t=>v(t,e)))},t.isTaskRunning=S,t.cancelBuild=T,t.isTaskCancelling=function(e,t){const r=b(e);return Boolean(r&&(!(void 0!==t)||r.definition.args===t))},t.isTaskRestarting=function(e,t){const r=_(e);return Boolean(r&&(!(void 0!==t)||r.definition.args===t))},t.hasRestartingTask=function(e){return void 0!==_(e)},t.getCancellingTask=b,t.getRestartingTask=_,t.restartQueuedTask=async function(e){const t=_(e);if(t){g.delete(t.definition.id);try{await n.tasks.executeTask(t)}catch(e){a.logger.error("There was an error starting the task:",e.message)}}},t.removeCancellingTask=function(e){const t=b(e);t&&(f.delete(t.definition.id),n.commands.executeCommand(u.COMMAND_RENDER_TASK,e))},t.queueRestartTask=async function(e,t){if(S(t)){const r=t.definition;g.set(r.id,t);const n=(0,h.getRunTaskCommandCancellationKey)(r.projectFolder,t.name);await T(e,n,t)}},t.buildTaskId=w,t.buildTaskName=R,t.createTaskFromDefinition=E,t.resolveTaskFromDefinition=function(e,t,r){const i=R(e),a=new n.Task(e,t,i,"gradle",new n.CustomExecution((async i=>{const l=i,c=n.workspace.getWorkspaceFolder(n.Uri.file(l.workspaceFolder))||t,u=new d.RootProject(c,n.Uri.file(l.projectFolder)),p=(0,h.getRunTaskCommandCancellationKey)(u.getProjectUri().fsPath,e.script),f=[l.script].concat((0,o.parseArgsStringToArgv)(l.args.trim())).filter(Boolean),g=new s.GradleRunnerTerminal(u,f,p,r);return g.setTask(a),g})),["$gradle"]),l=(0,p.getConfigReuseTerminals)();let c=n.TaskPanelKind.Dedicated;return"off"===l?c=n.TaskPanelKind.New:"all"===l&&(c=n.TaskPanelKind.Shared),a.presentationOptions={showReuseMessage:!1,clear:!0,echo:!0,focus:!0,panel:c,reveal:n.TaskRevealKind.Always},a},t.getVSCodeTasksFromGradleProject=k,t.loadTasksForProjectRoots=async function(e,t,r){let n=[];for(const i of t)if((0,p.getConfigIsAutoDetectionEnabled)(i)){const t=await r.getGradleBuild(i),o=t&&t.getProject();if(o){const t=k(i,o,e);n=n.concat(t)}}const o=new Map;for(const e of n)o.has(e.name)?o.get(e.name).push(e):o.set(e.name,[e]);for(const e of o.values())if(1!==e.length)for(const t of e){const e=t.definition,r=i.relative(e.workspaceFolder,e.projectFolder);r&&(t.name=t.name+` (${r})`)}return n},t.runTask=D,t.runTaskWithArgs=async function(e,t,r,n=!1){const i=await(0,c.getTaskArgs)();void 0!==i?await D(e,t,r,i,n):a.logger.error("Args not supplied")},t.cloneTask=O,t.getGradleTasks=function(){return n.tasks.fetchTasks({type:"gradle"})}},3e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleRunnerTerminal=void 0;const n=r(1398),i=r(9023),o=r(7945),s=r(2857),a=r(6925),l=r(674),c=r(6752),u=r(5059),d=r(1643),h=new RegExp("\n([^\r]|$)","g");t.GradleRunnerTerminal=class{constructor(e,t,r,o){this.rootProject=e,this.args=t,this.cancellationKey=r,this.client=o,this.writeEmitter=new n.EventEmitter,this.closeEmitter=new n.EventEmitter,this.onDidWrite=this.writeEmitter.event,this.onDidClose=this.closeEmitter.event,this.handleOutput=e=>{const t=e.getOutputBytes_asU8();t.length&&((0,s.isTest)()&&this.stdOutLoggerStream&&this.stdOutLoggerStream.write(t),this.write(new i.TextDecoder("utf-8").decode(t)))},(0,s.isTest)()&&(this.stdOutLoggerStream=new a.LoggerStream(a.logger,a.LogVerbosity.INFO))}async open(){await this.runBuild()}setTask(e){this.task=e}async close(){this.task&&(0,c.isTaskRunning)(this.task)&&await this.cancelCommand()}startJavaDebug(e){const t=new Promise(((e,t)=>{const r=this.onDidClose((()=>{r.dispose(),t(new Error("The task completed without the debugger being attached"))}))}));Promise.race([(0,s.waitOnTcp)("localhost",e),t]).then((async()=>{var t;const r=null===(t=this.task)||void 0===t?void 0:t.definition,i=r?r.project:void 0,o={type:"java",name:"Debug (Attach) via Gradle Tasks",request:"attach",hostName:"localhost",port:e,projectName:i};if(!await n.debug.startDebugging(this.rootProject.getWorkspaceFolder(),o))throw new Error("The debugger was not started")}),(e=>{const t="Unable to start Java debugging: "+e.message;a.logger.error(t),n.window.showErrorMessage(t),this.close()}))}async runBuild(){const e=!!this.task&&this.task.definition.javaDebug;try{const t=e?await o():0;e&&this.startJavaDebug(t);const r=(await Promise.all(d.toolOptionsProviders.map((e=>e.resolveToolOptions())))).join(" "),n=this.client.runBuild(this.rootProject.getProjectUri().fsPath,this.cancellationKey,this.args,"",t,this.task,this.handleOutput,!0,r);await n,this.closeEmitter.fire(0)}catch(e){this.handleError(e),this.closeEmitter.fire(1)}}async cancelCommand(){await n.commands.executeCommand(u.COMMAND_CANCEL_BUILD,this.cancellationKey,this.task)}handleError(e){if(e.code===l.status.UNKNOWN){const e=a.logger.getChannel();e&&this.write(`Unable to run Gradle Task due to server error. View the "${e.name}" output for details.`)}else this.write(e.details||e.message)}async handleInput(e){""===e&&await this.cancelCommand()}write(e){const t=e.replace(h,"\n\r$1");this.writeEmitter.fire(t)}}},6801:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3e3),t)},462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0,t.Deferred=class{constructor(){this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}},679:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DoubleClickChecker=void 0,t.DoubleClickChecker=class{resetState(){this.lastDate=void 0,this.lastItem=void 0}setState(e){this.lastDate=new Date,this.lastItem=e}checkDoubleClick(e){return this.lastDate&&(new Date).getTime()-this.lastDate.getTime()<500&&this.lastItem===e?(this.resetState(),!0):(this.setState(e),!1)}}},495:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventWaiter=void 0,t.EventWaiter=class{constructor(e){this.event=e,this.eventRun=!1,this.waitForEvent=e=>{const t=this.event((()=>{t.dispose(),this.eventRun=!0,e&&e()}))},this.wait=()=>this.eventRun?Promise.resolve():new Promise(this.waitForEvent),this.waitForEvent()}reset(){this.eventRun=!1,this.waitForEvent()}}},6947:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileWatcher=void 0;const n=r(1398),i=r(4027);t.FileWatcher=class{constructor(e){this.fileGlob=e,this._onDidChange=new n.EventEmitter,this._onDidOpen=new n.EventEmitter,this.onDidChange=this._onDidChange.event,this.onDidOpen=this._onDidOpen.event,this.fireOnDidChange=e=>{this._onDidChange.fire(e)},this.fireOnDidOpen=e=>{this._onDidOpen.fire(e)},this.onDidSaveDisposable=n.workspace.onDidSaveTextDocument((e=>{this.isFileMatching(e.uri)&&this.fireOnDidChange(e.uri)})),this.onDidDeleteDisposable=n.workspace.onDidDeleteFiles((e=>{const t=e.files.find((e=>this.isFileMatching(e)));t&&this.fireOnDidChange(t)})),this.onDidCreateDisposable=n.workspace.onDidCreateFiles((e=>{const t=e.files.find((e=>this.isFileMatching(e)));t&&this.fireOnDidChange(t)})),this.onDidOpenDisposable=n.workspace.onDidOpenTextDocument((e=>{this.isFileMatching(e.uri)&&this.fireOnDidOpen(e.uri)}))}isFileMatching(e){return"file"===e.scheme&&i(e.fsPath,this.fileGlob)}dispose(){this.onDidSaveDisposable.dispose(),this.onDidDeleteDisposable.dispose(),this.onDidCreateDisposable.dispose(),this.onDidOpenDisposable.dispose(),this._onDidChange.dispose(),this._onDidOpen.dispose()}}},4463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJavaDebuggerExtension=t.getJavaLanguageSupportExtension=t.isJavaLanguageSupportExtensionActivated=t.JAVA_DEBUGGER_EXTENSION_ID=t.JAVA_LANGUAGE_EXTENSION_ID=void 0;const n=r(1398);function i(){return n.extensions.getExtension(t.JAVA_LANGUAGE_EXTENSION_ID)}t.JAVA_LANGUAGE_EXTENSION_ID="redhat.java",t.JAVA_DEBUGGER_EXTENSION_ID="vscjava.vscode-java-debug",t.isJavaLanguageSupportExtensionActivated=function(){const e=i();return(null==e?void 0:e.isActive)||!1},t.getJavaLanguageSupportExtension=i,t.getJavaDebuggerExtension=function(){return n.extensions.getExtension(t.JAVA_DEBUGGER_EXTENSION_ID)}},4387:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGradleConfig=t.getProjectOpenBehaviour=t.ProjectOpenBehaviourValue=t.OpenBuildOutputValue=t.getOpenBuildOutput=t.getAllowParallelRun=t.getJavaDebugCleanOutput=t.setShowStoppedDaemons=t.getShowStoppedDaemons=t.getNestedProjectsConfig=t.getConfigFocusTaskInExplorer=t.getDisableConfirmations=t.getConfigReuseTerminals=t.getConfigIsDebugEnabled=t.getConfigJavaImportGradleHome=t.getConfigJavaImportGradleVersion=t.getConfigJavaImportGradleWrapperEnabled=t.getConfigJavaImportGradleJvmArguments=t.getConfigJavaImportGradleUserHome=t.checkEnvJavaExecutable=t.getRedHatJavaEmbeddedJRE=t.extensionInstalled=t.findValidJavaHome=t.getJavaExecutablePathFromJavaHome=t.getConfigJavaImportGradleJavaHome=t.getJdtlsConfigJavaHome=t.getConfigJavaHome=t.getConfigIsAutoDetectionEnabled=t.REQUIRED_JDK_VERSION=void 0;const n=r(5317),i=r(369),o=r(1398),s=r(7587),a=r(1605),l=r(6928),c=r(4917);function u(){return o.workspace.getConfiguration("java").get("home",null)}function d(){return o.workspace.getConfiguration("java").get("jdt.ls.java.home",null)}function h(){return o.workspace.getConfiguration("java").get("import.gradle.java.home",null)}function p(e){return!!o.extensions.getExtension(e)}function f(){return o.workspace.getConfiguration("java").get("import.gradle.user.home",null)}function g(){return o.workspace.getConfiguration("java").get("import.gradle.jvmArguments",null)}function m(){return o.workspace.getConfiguration("java").get("import.gradle.wrapper.enabled",!0)}function v(){return o.workspace.getConfiguration("java").get("import.gradle.version",null)}function y(){return o.workspace.getConfiguration("java").get("import.gradle.home",null)}function C(){return o.workspace.getConfiguration("gradle").get("allowParallelRun",!1)}var S,T;t.REQUIRED_JDK_VERSION=17,t.getConfigIsAutoDetectionEnabled=function(e){return"on"===o.workspace.getConfiguration("gradle",e.getWorkspaceFolder().uri).get("autoDetect","on")},t.getConfigJavaHome=u,t.getJdtlsConfigJavaHome=d,t.getConfigJavaImportGradleJavaHome=h,t.getJavaExecutablePathFromJavaHome=function(e){return l.join(e,"bin",i.JAVA_FILENAME)},t.findValidJavaHome=async function(){const e=[h,d,u];let r,n=0;for(const i of e)if(r=i()||void 0,r&&(n=await(0,c.getMajorVersion)(r),n>=t.REQUIRED_JDK_VERSION))return r;const i=(await(0,c.listJdks)()).find((e=>e.version.major>=t.REQUIRED_JDK_VERSION));return void 0!==i?i.homedir:(r=await(0,c.findDefaultRuntimeFromSettings)(),n=await(0,c.getMajorVersion)(r),n>=t.REQUIRED_JDK_VERSION?r:void 0)},t.extensionInstalled=p,t.getRedHatJavaEmbeddedJRE=function(){if(!p("redhat.java"))return;const e=l.join(o.extensions.getExtension("redhat.java").extensionPath,"jre");if(a.existsSync(e)&&a.statSync(e).isDirectory()){const t=a.readdirSync(e);for(const r of t)if(a.existsSync(l.join(e,r,"bin",i.JAVA_FILENAME)))return l.join(e,r)}},t.checkEnvJavaExecutable=function(){try{(0,n.execSync)("java -version",{stdio:"pipe"})}catch(e){return!1}return!0},t.getConfigJavaImportGradleUserHome=f,t.getConfigJavaImportGradleJvmArguments=g,t.getConfigJavaImportGradleWrapperEnabled=m,t.getConfigJavaImportGradleVersion=v,t.getConfigJavaImportGradleHome=y,t.getConfigIsDebugEnabled=function(){return o.workspace.getConfiguration("gradle").get("debug",!1)},t.getConfigReuseTerminals=function(){return C()?"off":o.workspace.getConfiguration("gradle").get("reuseTerminals","task")},t.getDisableConfirmations=function(){return o.workspace.getConfiguration("gradle").get("disableConfirmations",!1)},t.getConfigFocusTaskInExplorer=function(){return o.workspace.getConfiguration("gradle").get("focusTaskInExplorer",!0)},t.getNestedProjectsConfig=function(e){return o.workspace.getConfiguration("gradle",e.uri).get("nestedProjects",!1)},t.getShowStoppedDaemons=function(){return o.workspace.getConfiguration("gradle").get("showStoppedDaemons",!1)},t.setShowStoppedDaemons=function(e){o.workspace.getConfiguration("gradle").update("showStoppedDaemons",e,!0)},t.getJavaDebugCleanOutput=function(){return o.workspace.getConfiguration("gradle").get("javaDebug.cleanOutput",!0)},t.getAllowParallelRun=C,t.getOpenBuildOutput=function(){return o.workspace.getConfiguration("java.gradle.buildServer").get("openBuildOutput",S.ON_BUILD_FAILURE)},function(e){e.NEVER="neverOpen",e.ON_BUILD_START="openOnBuildStart",e.ON_BUILD_FAILURE="openOnBuildFailure"}(S=t.OpenBuildOutputValue||(t.OpenBuildOutputValue={})),function(e){e.INTERACTIVE="Interactive",e.OPEN="Open",e.ADDTOWORKSPACE="Add to Workspace"}(T=t.ProjectOpenBehaviourValue||(t.ProjectOpenBehaviourValue={})),t.getProjectOpenBehaviour=function(){return o.workspace.getConfiguration("gradle").get("projectOpenBehaviour",T.INTERACTIVE)},t.getGradleConfig=function(){const e=new s.GradleConfig,t=y(),r=f(),n=g(),i=v(),a=h();null!==t&&e.setGradleHome(t),null!==r&&e.setUserHome(r),null!==n&&e.setJvmArguments(n),null!==i&&e.setVersion(i),null!==a&&e.setJavaHome(a),e.setWrapperEnabled(m());const l=o.extensions.getExtension("redhat.java");if(l){const t=l.packageJSON.version;t&&e.setJavaExtensionVersion(t)}return e}},1407:(e,t)=>{"use strict";function r(e){return(t,r,n)=>{let i=null,o=null;if("function"==typeof n.value?(i="value",o=n.value):"function"==typeof n.get&&(i="get",o=n.get),!o)throw new Error("not supported");n[i]=e(o,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=t.createDecorator=void 0,t.createDecorator=r,t.debounce=function(e){return r(((t,r)=>{const n=`$debounce$${r}`;return function(...r){clearTimeout(this[n]),this[n]=setTimeout((()=>{t.apply(this,r)}),e)}}))}},6438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.execAsync=void 0;const n=r(5317),i=r(9023);t.execAsync=(0,i.promisify)(n.exec)},138:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomPipeName=void 0;const n=r(6982),i=r(3130),o=r(857),s=r(6928),a=r(9896),l=process.env.XDG_RUNTIME_DIR,c=new Map([["linux",107],["darwin",103]]);t.getRandomPipeName=function(){let e="";try{e=function(){if("win32"===process.platform)return`\\\\.\\pipe\\${(0,n.randomBytes)(16).toString("hex")}-sock`;let e=32,t=a.realpathSync(null!=l?l:o.tmpdir());const r=c.get(process.platform);void 0!==r&&(e=Math.min(r-t.length-5,e)),e<16&&((0,i.sendInfo)("",{kind:"tempDirTooLongWhenGenerateRandomPipeName"}),t="/tmp/");const u=(0,n.randomBytes)(Math.floor(e/2)).toString("hex");return s.join(t,`${u}.sock`)}()}catch(e){(0,i.sendInfo)("",{kind:"generateRandomPipeNameError"})}return e}},2857:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWorkspaceFolder=t.isGradleRootProject=t.waitOnTcp=t.sleep=t.isTest=void 0;const n=r(9278),i=r(6928),o=r(9896);t.isTest=()=>{var e;return"true"===(null===(e=process.env.VSCODE_TEST)||void 0===e?void 0:e.toLowerCase())};const s=300;function a(e,t){return new Promise((r=>{const i=n.connect(t,e).on("error",(()=>{r(!1)})).on("timeout",(()=>{i.end((()=>{r(!1)}))})).on("connect",(()=>{i.end((()=>{r(!0)}))}));i.setTimeout(s)}))}function l(e){return new Promise((t=>setTimeout(t,e)))}async function c(e,t,r){if(!await a(e,t)||(await l(1e3),!await a(e,t))){if(Date.now()-r>=6e4)throw new Error("Unable to wait on tcp due to maxmium timeout reached");await c(e,t,r)}}t.sleep=l,t.waitOnTcp=function(e,t){return c(e,t,Date.now())},t.isGradleRootProject=function(e){return o.existsSync(i.join(e.getProjectUri().fsPath,"settings.gradle"))||o.existsSync(i.join(e.getProjectUri().fsPath,"settings.gradle.kts"))},t.isWorkspaceFolder=function(e){return!!e&&"number"!=typeof e}},6033:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confirmModal=t.getRootProjectFolder=t.getRunTasks=t.getFindTask=t.getGradleCommand=t.getTaskArgs=void 0;const n=r(1398),i=r(6928),o=r(4387);function s(e){if(void 0!==e)return e.trim()}t.getTaskArgs=function(){return n.window.showInputBox({placeHolder:"For example: --info",ignoreFocusOut:!0}).then(s)},t.getGradleCommand=function(){return n.window.showInputBox({prompt:["Enter a command for gradle to run.","This can include built-in Gradle commands or tasks.","Not all Gradle command line options are supported."].join(" "),placeHolder:"For example: build --info",ignoreFocusOut:!0}).then(s)},t.getFindTask=function(e){return n.window.showQuickPick(e.loadTasks().then((e=>e.map((e=>e.name)))),{placeHolder:"Search for a Gradle task",ignoreFocusOut:!1,canPickMany:!1})},t.getRunTasks=function(e,t){const r=i.join(n.Uri.parse(t).fsPath,"build.gradle");return n.window.showQuickPick(e.loadTasks().then((e=>e.filter((e=>{const t=e.definition.buildFile;return!(!t||n.Uri.file(t).fsPath!==r)})).map((e=>e.name)))),{placeHolder:"Select a Gradle task to run",ignoreFocusOut:!0,canPickMany:!1})},t.getRootProjectFolder=async function(e){const t=await e.getProjectRoots();if(1===t.length)return Promise.resolve(t[0]);const r=t.map((e=>e.getProjectUri().fsPath)),i=await n.window.showQuickPick(r,{canPickMany:!1,placeHolder:"Select the root project"});return i?t[r.indexOf(i)]:void 0},t.confirmModal=async function(e){return!!(0,o.getDisableConfirmations)()||"Yes"===await n.window.showWarningMessage(e,{modal:!0},"Yes")}},4672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isJavaExtEnabled=void 0;const n=r(1398);t.isJavaExtEnabled=function(){return!!n.extensions.getExtension("redhat.java")}},4917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listJdks=t.findDefaultRuntimeFromSettings=t.getMajorVersion=void 0;const n=r(369),i=r(1398),o=r(9896),s=r(6928);let a;t.getMajorVersion=async function(e){var t;if(!e)return 0;const r=await(0,n.getRuntime)(e,{withVersion:!0});return(null===(t=null==r?void 0:r.version)||void 0===t?void 0:t.major)||0},t.findDefaultRuntimeFromSettings=async function(){const e=i.workspace.getConfiguration().get("java.configuration.runtimes");if(Array.isArray(e)&&e.length){let t;for(const r of e){if(!r||"object"!=typeof r||!r.path)continue;const e=await(0,n.getRuntime)(r.path);if(e&&(t=e.homedir),r.default)break}return t}},t.listJdks=async function(e){return!e&&a||(a=await(0,n.findRuntimes)({checkJavac:!0,withVersion:!0,withTags:!0}).then((e=>e.filter((e=>o.existsSync(s.join(e.homedir,"lib","rt.jar"))||o.existsSync(s.join(e.homedir,"jre","lib","rt.jar"))||o.existsSync(s.join(e.homedir,"lib","jrt-fs.jar"))))))),a}},7932:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryFilter=void 0;class r{}t.TelemetryFilter=r,r.hideUrlOption={lookup:/https?:\/\/[^:\s]+:[^@\s]+@[^\s]+/g,replacementString:"<REDACTED: sensitive-url>"}},1777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoTasksTreeItem=void 0;const n=r(1398),i=r(8216);class o extends n.TreeItem{constructor(e){super("",n.TreeItemCollapsibleState.None),this.contextValue=i.TREE_ITEM_STATE_NO_TASKS,this.description=e}}t.NoTasksTreeItem=o},8216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DAEMON_ICON_MAP=t.TASK_STATE_RUNNING_REGEX=t.TREE_ITEM_STATE_FOLDER=t.TREE_ITEM_STATE_NO_TASKS=t.TREE_ITEM_STATE_TASK_PINNED_PREFIX=t.TREE_ITEM_STATE_TASK_DEBUG_IDLE=t.TREE_ITEM_STATE_TASK_IDLE=t.TREE_ITEM_STATE_TASK_CANCELLING=t.TREE_ITEM_STATE_TASK_DEBUG_RUNNING=t.TREE_ITEM_STATE_TASK_RUNNING=t.RECENT_TASKS_VIEW=t.GRADLE_DAEMONS_VIEW=t.GRADLE_DEFAULT_PROJECTS_VIEW=t.GRADLE_TASKS_VIEW=t.GRADLE_CONTAINER_VIEW=t.ICON_DAEMON_STOPPED=t.ICON_DAEMON_IDLE=t.ICON_DAEMON_BUSY=t.ICON_GRADLE_TASK=t.ICON_LOADING=void 0;const n=r(8935);t.ICON_LOADING="loading.svg",t.ICON_GRADLE_TASK="script.svg",t.ICON_DAEMON_BUSY="circle-filled.svg",t.ICON_DAEMON_IDLE="circle-outline.svg",t.ICON_DAEMON_STOPPED="close.svg",t.GRADLE_CONTAINER_VIEW="gradleContainerView",t.GRADLE_TASKS_VIEW="gradleTasksView",t.GRADLE_DEFAULT_PROJECTS_VIEW="gradleDefaultProjectsView",t.GRADLE_DAEMONS_VIEW="gradleDaemonsView",t.RECENT_TASKS_VIEW="recentTasksView",t.TREE_ITEM_STATE_TASK_RUNNING="runningTask",t.TREE_ITEM_STATE_TASK_DEBUG_RUNNING="runningDebugTask",t.TREE_ITEM_STATE_TASK_CANCELLING="cancellingTask",t.TREE_ITEM_STATE_TASK_IDLE="task",t.TREE_ITEM_STATE_TASK_DEBUG_IDLE="debugTask",t.TREE_ITEM_STATE_TASK_PINNED_PREFIX="pinned",t.TREE_ITEM_STATE_NO_TASKS="notasks",t.TREE_ITEM_STATE_FOLDER="folder",t.TASK_STATE_RUNNING_REGEX=new RegExp(`^${t.TREE_ITEM_STATE_TASK_RUNNING}`),t.DAEMON_ICON_MAP={[n.DaemonStatus.BUSY]:t.ICON_DAEMON_BUSY,[n.DaemonStatus.IDLE]:t.ICON_DAEMON_IDLE,[n.DaemonStatus.STOPPED]:t.ICON_DAEMON_STOPPED,[n.DaemonStatus.STOPPING]:t.ICON_DAEMON_STOPPED,[n.DaemonStatus.CANCELED]:t.ICON_DAEMON_STOPPED}},3157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultProjectProvider=void 0;const n=r(6928),i=r(1398),o=r(9539),s=r(6752),a=r(2303),l=r(3203),c=r(4451),u=r(4623);class d{constructor(){this.defaultTasks=[],this.defaultDependencies=new Map}refresh(){this.defaultTasks=[]}async getDefaultTasks(e,t){if(this.defaultTasks.length)return this.defaultTasks;const r=[];for(const i of e)for(const e of d.defaultTaskDefinitions)r.push((0,s.createTaskFromDefinition)(this.generateDefaultTaskDefinition(i,e.name,i.getWorkspaceFolder().name,n.join(i.getProjectUri().fsPath,"build.gradle"),e.description,e.group),i,t));return this.defaultTasks=r,r}generateDefaultTaskDefinition(e,t,r,n,i,o){return{type:"gradle",id:(0,s.buildTaskId)(e.getProjectUri().fsPath,t,r),script:t,description:i,group:(o||"other").toLowerCase(),project:r,buildFile:n,rootProject:r,projectFolder:e.getProjectUri().fsPath,workspaceFolder:e.getWorkspaceFolder().uri.fsPath,debuggable:!1,args:"",javaDebug:!1,isPinned:!1}}async getDefaultDependencyItems(e){const t=new Map,r=i.Uri.file(n.join(e.projectPath,"build.gradle"));if(!o.isLanguageServerStarted)return[new c.HintItem("No dependencies")];const s=await i.commands.executeCommand("gradle.getDependencies",r.toString());if(!s)return[new c.HintItem("No dependencies")];for(const n of s){const o=n.configuration;if(!t.has(o)){const r=new a.DependencyConfigurationTreeItem(n.configuration,i.TreeItemCollapsibleState.Collapsed,e);t.set(o,r)}const s=t.get(o);if(!s)continue;const c=new l.DependencyTreeItem(n.name,i.TreeItemCollapsibleState.None,s);c.command={title:"Show Dependency",command:"vscode.open",arguments:[r,{selection:n.range}]},s.getChildren().push(c)}return this.defaultDependencies.set(r.toString(),Array.from(t.values())),this.defaultDependencies.get(r.toString())||[]}}t.DefaultProjectProvider=d,d.defaultTaskDefinitions=(0,u.generateDefaultTaskDefinitions)()},4623:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultTaskDefinition=t.generateDefaultTaskDefinitions=t.unsetDefault=t.setDefault=void 0;const n=r(1398);function i(e,t,r){return{name:e,group:t,description:r}}t.setDefault=async function(){await n.commands.executeCommand("setContext","gradle:defaultView",!0)},t.unsetDefault=async function(){await n.commands.executeCommand("setContext","gradle:defaultView",!1)},t.generateDefaultTaskDefinitions=function(){const e=[];return e.push(i("init","build setup","Initializes a new Gradle build.")),e.push(i("wrapper","build setup","Generates Gradle wrapper files.")),e.push(i("buildEnvironment","help","Displays all buildscript dependencies declared in root project.")),e.push(i("dependencies","help","Displays all dependencies declared in root project.")),e.push(i("dependencyInsight","help","Displays the insight into a specific dependency in root project.")),e.push(i("help","help","Displays a help message.")),e.push(i("javaToolchains","help","Displays the detected java toolchains.")),e.push(i("outgoingVariants","help","Displays the outgoing variants of root project.")),e.push(i("projects","help","Displays the sub-projects of root project.")),e.push(i("properties","help","Displays the properties of root project.")),e.push(i("tasks","help","Displays the tasks runnable from root project.")),e},t.getDefaultTaskDefinition=i},778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultProjectsTreeDataProvider=void 0;const n=r(1398),i=r(6928),o=r(9305),s=r(3157),a=r(9850),l=r(8418);t.DefaultProjectsTreeDataProvider=class{constructor(e,t,r,n){this.gradleTaskProvider=e,this.rootProjectStore=t,this.client=r,this.icons=n,this.defaultProjectProvider=new s.DefaultProjectProvider}getTreeItem(e){return e}async getChildren(e){return e?e instanceof o.ProjectTreeItem?this.getChildrenForProjectTreeItem(e):e instanceof a.ProjectDependencyTreeItem?this.defaultProjectProvider.getDefaultDependencyItems(e):e instanceof l.ProjectTaskTreeItem?e.getChildren()||[]:e instanceof o.GroupTreeItem?e.tasks:[]:(this.gradleTaskProvider.loadTasks(),o.GradleTasksTreeDataProvider.buildItemsTreeFromTasks(await this.defaultProjectProvider.getDefaultTasks(await this.rootProjectStore.getProjectRoots(),this.client),this.rootProjectStore,!1,this.icons))}async getChildrenForProjectTreeItem(e){const t=new l.ProjectTaskTreeItem("Tasks",n.TreeItemCollapsibleState.Collapsed,e);t.setChildren([...e.tasks,...e.groups]);const r=[t],o=e.resourceUri;return o?[new a.ProjectDependencyTreeItem("Dependencies",n.TreeItemCollapsibleState.Collapsed,e,i.dirname(o.fsPath),"string"==typeof e.label?e.label:o.fsPath),...r]:r}}},8040:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleDaemonTreeItem=void 0;const n=r(1398),i=r(6928),o=r(8216),s=r(8935);class a extends n.TreeItem{constructor(e,t,r){super(t,n.TreeItemCollapsibleState.None),this.context=e,this.label=t,this.daemonInfo=r;const a=o.DAEMON_ICON_MAP[r.getStatus()];this.iconPath={light:this.context.asAbsolutePath(i.join("resources","light",a)),dark:this.context.asAbsolutePath(i.join("resources","dark",a))},this.status=s.DaemonStatus[r.getStatus()],this.description=this.status,this.contextValue=this.status.toLowerCase(),this.tooltip=`${this.status} - ${r.getInfo()}`}get pid(){return this.daemonInfo.getPid()}}t.GradleDaemonTreeItem=a},9123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleDaemonsTreeDataProvider=void 0;const n=r(1398),i=r(5558),o=r(4387),s=r(462),a=r(4451),l=r(6774),c=r(8935);t.GradleDaemonsTreeDataProvider=class{constructor(e,t){this.context=e,this.rootProjectsStore=t,this.treeItems=[],this.specificVersion=!1,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}refresh(){var e;null===(e=this.cancelDeferred)||void 0===e||e.resolve(this.treeItems),this._onDidChangeTreeData.fire(null)}getTreeItem(e){return e}async getChildren(e){var t;if(e||!(null===(t=n.workspace.workspaceFolders)||void 0===t?void 0:t.length))return[];this.cancelDeferred=new s.Deferred;const r=new n.CancellationTokenSource;this.cancelDeferred.promise.then((()=>r.cancel()));const u=(await this.getProjectRootFolders()).map((async e=>{const t=await l.GradleStatus.getDaemonsStatusList(e);let r=t;return(0,o.getShowStoppedDaemons)()||(r=t.filter((e=>e.getStatus()!==c.DaemonStatus.STOPPED))),r.map((e=>new i.GradleDaemonTreeItem(this.context,e.getPid(),e)))}));this.treeItems=await Promise.race([Promise.all(u).then((e=>e.flat())),this.cancelDeferred.promise]),this.cancelDeferred=void 0;const d=this.treeItems.length;return await n.commands.executeCommand("setContext","gradle:hasValidDaemons",d),d?this.treeItems:this.specificVersion?[new a.HintItem("Gradle Daemons view is not available when specifying a Gradle version")]:[new a.HintItem("No Gradle Daemons")]}async getProjectRootFolders(){return(await this.rootProjectsStore.getProjectRootsWithUniqueVersions()).map((e=>e.getProjectUri().fsPath))}showStoppedDaemons(){(0,o.setShowStoppedDaemons)(!0),this.refresh()}hideStoppedDaemons(){(0,o.setShowStoppedDaemons)(!1),this.refresh()}}},5558:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8040),t),i(r(9123),t)},1369:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DaemonInfo=void 0,t.DaemonInfo=class{constructor(e,t,r){this.pid=e,this.status=t,this.info=r}getPid(){return this.pid}getStatus(){return this.status}getInfo(){return this.info}setStatus(e){this.status=e}setInfo(e){this.info=e}setPid(e){this.pid=e}}},8935:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DaemonStatus=void 0,(r=t.DaemonStatus||(t.DaemonStatus={})).IDLE="IDLE",r.BUSY="BUSY",r.STOPPED="STOPPED",r.STOPPING="STOPPING",r.CANCELED="CANCELED"},3650:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GradleConnectionType=void 0,(r=t.GradleConnectionType||(t.GradleConnectionType={}))[r.WRAPPER=0]="WRAPPER",r[r.LOCALINSTALLATION=1]="LOCALINSTALLATION",r[r.SPECIFICVERSION=2]="SPECIFICVERSION"},2849:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleLocalInstallation=void 0;const n=r(6438),i=r(4387),o=r(6925),s=r(6928);t.GradleLocalInstallation=class{constructor(e){const t="win32"===process.platform?"gradle.bat":"gradle";this.gradleExecPath=`"${s.join(e,"bin",t)}"`}async exec(e){if(0===e.length)throw new Error("No gradle args supplied");const t=e.map((e=>`"${e}"`)).join(" "),r=`${this.gradleExecPath} ${t}`;try{const e=(0,i.getConfigJavaImportGradleJavaHome)(),t=e?Object.assign(Object.assign({},process.env),{JAVA_HOME:e}):process.env,{stdout:s,stderr:a}=await(0,n.execAsync)(r,{env:t});return a&&o.logger.error(a),s}catch(e){throw o.logger.error(e.message),new Error(`Error running gradle local installation: ${e.message}`)}}}},6774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleStatus=void 0;const n=r(1369),i=r(4387),o=r(3541),s=r(2849),a=r(3650);t.GradleStatus=class{static async getConnectionType(e){return e.getWrapperEnabled()?a.GradleConnectionType.WRAPPER:e.getVersion()?a.GradleConnectionType.SPECIFICVERSION:e.getGradleHome()?a.GradleConnectionType.LOCALINSTALLATION:a.GradleConnectionType.WRAPPER}static async getDaemonsStatusOutput(e,t){switch(await this.getConnectionType(e)){case a.GradleConnectionType.WRAPPER:return await o.GradleWrapper.hasValidWrapper(t)?new o.GradleWrapper(t).exec(["--status","quiet"]):"";case a.GradleConnectionType.LOCALINSTALLATION:return new s.GradleLocalInstallation(e.getGradleHome()).exec(["--status","quiet"]);case a.GradleConnectionType.SPECIFICVERSION:return"";default:throw new Error("Unknown connection type")}}static async getDaemonsStatusList(e){const t=(0,i.getGradleConfig)(),r=await this.getDaemonsStatusOutput(t,e);return this.parseDaemonInfo(r)}static parseDaemonInfo(e){if(!e)return[];const t=e.split(/\r?\n/),r=[],i=/^\s*([0-9]+)\s+(\w+)\s+(.+)$/;return t.forEach((e=>{const t=e.match(i);if(t){const e=t[1],i=t[2],o=t[3],s=i;r.push(new n.DaemonInfo(e,s,o))}})),r}}},3541:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleWrapper=void 0;const n=r(1605),i=r(6438),o=r(6928),s=r(4387),a=r(6925);t.GradleWrapper=class{constructor(e){this.projectRoot=e;const t="win32"===process.platform?"gradlew.bat":"gradlew";this.gradleWrapperPath=`"${o.join(e,t)}"`}async exec(e){if(0===e.length)throw new Error("No wrapper args supplied");const t=e.map((e=>`"${e}"`)).join(" "),r=`${this.gradleWrapperPath} ${t}`;try{const e=(0,s.getConfigJavaImportGradleJavaHome)(),t=e?Object.assign(Object.assign({},process.env),{JAVA_HOME:e}):process.env,{stdout:n,stderr:o}=await(0,i.execAsync)(r,{cwd:this.projectRoot,env:t});return o&&a.logger.error(o),n}catch(e){throw a.logger.error(e.message),new Error(`Error running gradle wrapper: ${e.message}`)}}static async hasValidWrapper(e){const t=o.join(e,"gradle","wrapper","gradle-wrapper.properties");return await n.pathExists(t)}}},2303:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyConfigurationTreeItem=void 0;const n=r(1398);class i extends n.TreeItem{constructor(e,t,r,i=new n.ThemeIcon("folder-library")){super(e,t),this.parentTreeItem=r,this.iconPath=i,this.children=[]}setChildren(e){this.children=e}getChildren(){return this.children}}t.DependencyConfigurationTreeItem=i},3203:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyTreeItem=void 0;const n=r(1398);class i extends n.TreeItem{constructor(e,t,r,i=new n.ThemeIcon("library")){super(e,t),this.parentTreeItem=r,this.iconPath=i}setChildren(e){this.children=e}getChildren(){return this.children}setOmittedTreeItem(e){this.omittedTreeItem=e}getOmittedTreeItem(){return this.omittedTreeItem}}t.DependencyTreeItem=i},5995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDependencyConfigurationTreeItems=t.GRADLE_DEPENDENCY_REVEAL=void 0;const n=r(1398),i=r(7587),o=r(2303),s=r(3203);function a(e,t){const r=e.getName(),s=new Map,a=new o.DependencyConfigurationTreeItem(r,n.TreeItemCollapsibleState.Collapsed,t),c=e.getChildrenList(),u=[];for(const e of c)e.getType()===i.GradleDependencyType.DEPENDENCY&&u.push(l(e,a,s));if(u.length)return a.setChildren(u),a}function l(e,t,r){const o=e.getName(),a=new s.DependencyTreeItem(o,n.TreeItemCollapsibleState.Collapsed,t);if(r.has(o)){const e=r.get(o);e&&a.setOmittedTreeItem(e),a.contextValue="omitted",a.label=a.label+" (*)",a.collapsibleState=n.TreeItemCollapsibleState.None,a.tooltip='Dependency omitted. Click "Go to Dependency" to reveal the previously listed dependency.'}else{r.set(o,a);const t=e.getChildrenList(),s=[];for(const e of t)e.getType()===i.GradleDependencyType.DEPENDENCY&&s.push(l(e,a,r));a.collapsibleState=s.length>0?n.TreeItemCollapsibleState.Collapsed:n.TreeItemCollapsibleState.None,a.setChildren(s)}return a}t.GRADLE_DEPENDENCY_REVEAL="gradle.dependency.reveal",t.getDependencyConfigurationTreeItems=function(e,t){const r=e.getChildrenList(),n=[];for(const e of r){if(e.getType()!==i.GradleDependencyType.CONFIGURATION)continue;const r=a(e,t);r&&n.push(r)}if(n.length)return n}},3812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleTaskTreeItem=void 0;const n=r(1398),i=r(5059),o=r(8216),s=r(112);class a extends n.TreeItem{constructor(e,t,r,o,s,a,l){super(r,n.TreeItemCollapsibleState.None),this.parentTreeItem=e,this.task=t,this.label=r,this.tooltip=o,this.description=s,this.icons=a,this.debuggable=l,this.command={title:"Run Task",command:i.COMMAND_RUN_TASK_DOUBLE_CLICK,arguments:[this]}}setContext(){this.contextValue=(0,s.getTreeItemState)(this.task,this.task.definition.args),this.setIconState()}setIconState(){const{iconPathRunning:e,iconPathIdle:t}=this.icons;this.contextValue&&o.TASK_STATE_RUNNING_REGEX.test(this.contextValue)?this.iconPath=e:this.iconPath=t}}t.GradleTaskTreeItem=a},7708:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradleTasksTreeDataProvider=t.getPinnedTaskTreeItemMap=t.getProjectTreeItemMap=t.getGradleTaskTreeItemMap=void 0;const n=r(1398),i=r(6928),o=r(9305),s=r(2857),a=r(6752),l=r(2303),c=r(3203),u=r(9850),d=r(8418),h=r(6313),p=r(2527),f=r(6316),g=r(4266),m=r(507),v=new Map,y=new Map,C=new Map,S=new Map,T=new Map;t.getGradleTaskTreeItemMap=function(){return v},t.getProjectTreeItemMap=function(){return C},t.getPinnedTaskTreeItemMap=function(){return T};class b{constructor(e,t,r,i,o,s,a){this.context=e,this.rootProjectStore=t,this.pinnedTasksStore=r,this.gradleTaskProvider=i,this.gradleDependencyProvider=o,this.icons=s,this.client=a,this.collapsed=!0,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event;const l=this.context.workspaceState.get("gradleTasksCollapsed",!1);this.setCollapsed(l)}async setCollapsed(e){this.collapsed=e,await this.context.workspaceState.update("gradleTasksCollapsed",e),await n.commands.executeCommand("setContext","gradle:gradleTasksCollapsed",e),this.refresh()}async buildTreeItems(){v.clear(),y.clear(),C.clear(),S.clear(),T.clear();const e=await this.gradleTaskProvider.loadTasks();if(0===e.length)return[new o.NoGradleTasksTreeItem];const t=b.buildItemsTreeFromTasks(e,this.rootProjectStore,this.collapsed,this.icons),r=new g.PinnedTasksTreeItem("Pinned Tasks"),n=this.pinnedTasksStore.getData();if(!(null==n?void 0:n.size))return t;const s=new Map;if(Array.from(n.keys()).forEach((e=>{const t=this.gradleTaskProvider.findByTaskId(e);if(!t)return;const i=t.definition;if(!this.rootProjectStore.get(i.projectFolder))return;let o=s.get(i.projectFolder);o||(o=[],s.set(i.projectFolder,o));const l=n.get(e)||"";if(l)Array.from(l.values()).forEach((e=>{const n=(0,a.cloneTask)(this.rootProjectStore,t,e,this.client,i.javaDebug),s=(0,f.buildPinnedTaskTreeItem)(r,n,this.icons);o.push(s),T.set(i.id,s)}));else{const e=(0,f.buildPinnedTaskTreeItem)(r,t,this.icons);o.push(e),T.set(i.id,e)}})),s.size){if(1===(await this.rootProjectStore.getProjectRoots()).length)r.setChildren(s.values().next().value);else{const e=[];s.forEach(((t,r)=>{const n=this.rootProjectStore.get(r);if(n){const o=new m.PinnedTasksRootProjectTreeItem(i.basename(r),n.getProjectUri());o.setChildren(t),e.push(o)}})),r.setChildren(e)}return[r,...t]}return t}refresh(e=null){this._onDidChangeTreeData.fire(e)}getTreeItem(e){return e}getParent(e){return(e instanceof o.RootProjectTreeItem||e instanceof o.ProjectTreeItem||e instanceof o.TreeItemWithTasksOrGroups||e instanceof o.GradleTaskTreeItem||e instanceof o.ProjectTreeItem||e instanceof l.DependencyConfigurationTreeItem||e instanceof c.DependencyTreeItem)&&e.parentTreeItem||null}async getChildren(e){if(e instanceof o.RootProjectTreeItem)return e.projects;if(e instanceof o.ProjectTreeItem)return this.getChildrenForProjectTreeItem(e);if(e instanceof o.GroupTreeItem)return e.tasks;if(e instanceof o.GradleTaskTreeItem||e instanceof o.NoGradleTasksTreeItem)return[];if(e instanceof u.ProjectDependencyTreeItem){const t=await(0,p.findRootProject)(this.rootProjectStore,e.projectPath);return t?this.gradleDependencyProvider.getDependencies(e,t):h.GradleDependencyProvider.getNoDependencies()}return e instanceof d.ProjectTaskTreeItem||e instanceof l.DependencyConfigurationTreeItem||e instanceof c.DependencyTreeItem?e.getChildren()||[]:e instanceof g.PinnedTasksTreeItem||e instanceof m.PinnedTasksRootProjectTreeItem?e.getChildren():e?[]:this.buildTreeItems()}async getChildrenForProjectTreeItem(e){const t=new d.ProjectTaskTreeItem("Tasks",n.TreeItemCollapsibleState.Collapsed,e);t.setChildren([...e.tasks,...e.groups]);const r=[t],o=e.resourceUri;if(!o)return[...r,...e.subprojects];const s=new u.ProjectDependencyTreeItem("Dependencies",n.TreeItemCollapsibleState.Collapsed,e,i.dirname(o.fsPath),"string"==typeof e.label?e.label:o.fsPath);return[...r,s,...e.subprojects]}static buildItemsTreeFromTasks(e,t,r,l){let c=null;return e.forEach((e=>{const u=e.definition;if((0,s.isWorkspaceFolder)(e.scope)&&(0,a.isGradleTask)(e)){const s=t.get(u.projectFolder);if(!s)return;c=y.get(u.projectFolder),c||(c=new o.RootProjectTreeItem(i.basename(u.projectFolder),s.getProjectUri()),y.set(u.projectFolder,c));const a=u.script.split(":").slice(0,-1),d=u.projectFolder+"_"+a.join(":");let h=C.get(d);if(!h){const e=0==a.length?null:a.slice(0,-1),t=null===e?c:C.get(u.projectFolder+"_"+e.join(":"));h=new o.ProjectTreeItem(u.project,t,n.Uri.file(u.buildFile)),t instanceof o.ProjectTreeItem?t.addSubproject(h):c.addProject(h),C.set(d,h)}const p=u.script.slice(u.script.lastIndexOf(":")+1);let f=h;if(!r){const e=u.group+u.project+u.projectFolder;let t=S.get(e);t||(t=new o.GroupTreeItem(u.group,h,void 0),h.addGroup(t),S.set(e,t)),f=t}const g=new o.GradleTaskTreeItem(f,e,p,u.description||p,"",l,u.debuggable);g.setContext(),v.set(e.definition.id,g),f.addTask(g)}})),1===y.size?y.values().next().value.projects:[...y.values()]}}t.GradleTasksTreeDataProvider=b},3057:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupTreeItem=void 0;const n=r(1398),i=r(5285);class o extends i.TreeItemWithTasksOrGroups{constructor(e,t,r){super(e,t,r,n.TreeItemCollapsibleState.Collapsed)}}t.GroupTreeItem=o},4451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HintItem=void 0;const n=r(1398);class i extends n.TreeItem{constructor(e){super("",n.TreeItemCollapsibleState.None),this.description=e}}t.HintItem=i},1532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoGradleTasksTreeItem=void 0;const n=r(9305),i=r(5059);class o extends n.NoTasksTreeItem{constructor(){super("No tasks found"),this.command={title:"Show Logs",command:i.COMMAND_SHOW_LOGS}}}t.NoGradleTasksTreeItem=o},507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedTasksRootProjectTreeItem=void 0;const n=r(1398),i=r(8216);class o extends n.TreeItem{constructor(e,t){super(e,n.TreeItemCollapsibleState.Expanded),this.children=[],this.contextValue=i.TREE_ITEM_STATE_FOLDER,this.resourceUri=t,this.iconPath=n.ThemeIcon.Folder}setChildren(e){this.children=e}getChildren(){return this.children}}t.PinnedTasksRootProjectTreeItem=o},4266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedTasksTreeItem=void 0;const n=r(1398);class i extends n.TreeItem{constructor(e,t,r=n.TreeItemCollapsibleState.Expanded){super(e,r),this.children=[],this.iconPath=new n.ThemeIcon("star-full"),this.contextValue="PinnedTasks",this.resourceUri=t}setChildren(e){this.children=e}getChildren(){return this.children}}t.PinnedTasksTreeItem=i},9850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectDependencyTreeItem=void 0;const n=r(1398);class i extends n.TreeItem{constructor(e,t,r,i,o,s=new n.ThemeIcon("folder-library")){super(e,t),this.parentTreeItem=r,this.projectPath=i,this.projectName=o,this.iconPath=s}setChildren(e){this.children=e}getChildren(){return this.children}getProjectPath(){return this.projectPath}getProjectName(){return this.projectName}}t.ProjectDependencyTreeItem=i},8418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectTaskTreeItem=void 0;const n=r(1398);class i extends n.TreeItem{constructor(e,t,r,i=new n.ThemeIcon("file-submodule")){super(e,t),this.parentTreeItem=r,this.iconPath=i}setChildren(e){this.children=e}getChildren(){return this.children}}t.ProjectTaskTreeItem=i},3271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectTreeItem=void 0;const n=r(1398),i=r(5285);class o extends i.TreeItemWithTasksOrGroups{constructor(){super(...arguments),this.iconPath=n.ThemeIcon.File}}t.ProjectTreeItem=o},7807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootProjectTreeItem=void 0;const n=r(1398),i=r(8216);class o extends n.TreeItem{constructor(e,t){super(e,n.TreeItemCollapsibleState.Expanded),this.projects=[],this.parentTreeItem=null,this.contextValue=i.TREE_ITEM_STATE_FOLDER,this.resourceUri=t,this.iconPath=n.ThemeIcon.Folder}addProject(e){this.projects.push(e)}}t.RootProjectTreeItem=o},1295:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeItemWithTasksOrGroups=void 0;const n=r(1398),i=r(112);class o extends n.TreeItem{constructor(e,t,r,i=n.TreeItemCollapsibleState.Expanded){super(e,i),this._tasks=[],this._groups=[],this._subprojects=[],this.iconPath=new n.ThemeIcon("file-submodule"),this.contextValue="folder",this.resourceUri=r,this.parentTreeItem=t}addTask(e){this._tasks.push(e)}get tasks(){return this._tasks.sort(i.gradleTaskTreeItemSortCompareFunc)}addGroup(e){this._groups.push(e)}get groups(){return this._groups.sort(i.treeItemSortCompareFunc)}get subprojects(){return this._subprojects}addSubproject(e){this._subprojects.push(e)}}t.TreeItemWithTasksOrGroups=o},5285:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3812),t),i(r(7708),t),i(r(1295),t),i(r(3271),t),i(r(3057),t),i(r(1532),t),i(r(7807),t)},6316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildPinnedTaskTreeItem=void 0;const n=r(5285);t.buildPinnedTaskTreeItem=function(e,t,r){const i=t.definition;i.isPinned=!0;const o=t.name,s=new n.GradleTaskTreeItem(e,t,o,i.description||o,"",r,i.javaDebug);return s.setContext(),s}},9305:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1777),t),i(r(5285),t),i(r(5558),t),i(r(6245),t)},6888:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoRecentTasksTreeItem=void 0;const n=r(9305);class i extends n.NoTasksTreeItem{constructor(){super("No recent tasks")}}t.NoRecentTasksTreeItem=i},9255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentTaskTreeItem=void 0;const n=r(9305),i=r(112);class o extends n.GradleTaskTreeItem{constructor(e,t,r,n,i,o,s){super(e,t,r,n||r,"",i,s),this.taskTerminalsStore=o,this.debuggable=s}setContext(){const e=this.task.definition;this.tooltip=(e.args?`(args: ${e.args}) `:"")+(e.description||this.label);const t=this.taskTerminalsStore.getItem(e.id+e.args),r=t?t.size:0;this.description=`(${r})`,this.contextValue=function(e,t){return t>0?`${e}WithTerminals`:e}((0,i.getTreeItemState)(this.task,e.args),r),this.setIconState()}}t.RecentTaskTreeItem=o},3498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentTasksRootProjectTreeItem=void 0;const n=r(1398),i=r(9305);class o extends i.TreeItemWithTasksOrGroups{constructor(){super(...arguments),this.iconPath=n.ThemeIcon.Folder}}t.RecentTasksRootProjectTreeItem=o},4927:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecentTasksTreeDataProvider=t.getRecentTaskTreeItemMap=void 0;const n=r(1398),i=r(6928),o=r(6245),s=r(9305),a=r(2857),l=r(6752),c=new Map,u=new Map;t.getRecentTaskTreeItemMap=function(){return u},t.RecentTasksTreeDataProvider=class{constructor(e,t,r,i,o,s){this.recentTasksStore=e,this.taskTerminalsStore=t,this.rootProjectsStore=r,this.gradleTaskProvider=i,this.client=o,this.icons=s,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.handleTerminalsStoreChange=e=>{if(e){const t=Array.from(this.taskTerminalsStore.getData().keys()).find((t=>this.taskTerminalsStore.getItem(t)===e));if(t){const e=u.get(t);if(e)return e.setContext(),void this.refresh(e)}}this.refresh()},this.recentTasksStore.onDidChange((()=>this.refresh())),this.taskTerminalsStore.onDidChange(this.handleTerminalsStoreChange)}getStore(){return this.recentTasksStore}getTreeItem(e){return e}refresh(e=null){this._onDidChangeTreeData.fire(e)}getParent(e){return e instanceof s.GradleTaskTreeItem&&e.parentTreeItem||null}async getChildren(e){if(e instanceof o.RecentTasksRootProjectTreeItem)return[...e.tasks];if(!e){const e=await this.buildTreeItems();return e.length?e:[new o.NoRecentTasksTreeItem]}return[]}async buildTreeItems(){c.clear(),u.clear();const e=await this.rootProjectsStore.getProjectRoots();if(!e.length)return[];const t=e.length>1;await this.gradleTaskProvider.waitForTasksLoad();const r=this.recentTasksStore.getData();return Array.from(r.keys()).forEach((e=>{const t=this.gradleTaskProvider.findByTaskId(e);if(!t)return;const n=t.definition;if(!this.rootProjectsStore.get(n.projectFolder))return;const s=r.get(e)||"";s&&Array.from(s.values()).forEach((e=>{!function(e,t,r){const n=e.definition;if((0,a.isWorkspaceFolder)(e.scope)&&(0,l.isGradleTask)(e)){let s=c.get(n.projectFolder);s||(s=new o.RecentTasksRootProjectTreeItem(i.basename(n.projectFolder)),c.set(n.projectFolder,s));const a=function(e,t,r,n){const i=t.definition,s=t.name,a=new o.RecentTaskTreeItem(e,t,s,i.description||s,n,r,i.debuggable);return a.setContext(),a}(s,e,t,r);u.set(n.id+n.args,a),s.addTask(a)}}((0,l.cloneTask)(this.rootProjectsStore,t,e,this.client,n.debuggable),this.taskTerminalsStore,this.icons)}))})),c.size?t?[...c.values()]:[...c.values().next().value.tasks]:[]}}},6245:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6888),t),i(r(9255),t),i(r(4927),t),i(r(3498),t)},112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTreeItemState=t.focusProjectInGradleTasksTree=t.focusTaskInGradleTasksTree=t.updateGradleTreeItemStateForTask=t.getTreeItemForTask=t.gradleTaskTreeItemSortCompareFunc=t.treeItemSortCompareFunc=void 0;const n=r(1398),i=r(8216),o=r(6925),s=r(6752),a=r(9305);function l(e,t){return e.label.toString().localeCompare(t.label.toString())}function c(e){const t=e.definition,r=(0,a.getGradleTaskTreeItemMap)().get(t.id);if(r&&r.task===e)return r;const n=(0,a.getRecentTaskTreeItemMap)().get(t.id+t.args);return n&&n.task===e?n:null}t.treeItemSortCompareFunc=l,t.gradleTaskTreeItemSortCompareFunc=function(e,t){const r=e.task.definition,n=t.task.definition,i=r.project===r.rootProject,o=n.project===n.rootProject;return i&&!o?-1:o&&!i?1:l(e,t)},t.getTreeItemForTask=c,t.updateGradleTreeItemStateForTask=function(e,t,r){const n=e.definition,i=(0,a.getPinnedTaskTreeItemMap)().get(n.id);i&&(i.setContext(),t.refresh(i));const o=(0,a.getGradleTaskTreeItemMap)().get(n.id);o&&(o.setContext(),t.refresh(o));const s=(0,a.getRecentTaskTreeItemMap)().get(n.id+n.args);s&&(s.setContext(),r.refresh(s))},t.focusTaskInGradleTasksTree=async function(e,t){try{const r=e.definition,n=c(e);if(null===n||n.constructor===a.GradleTaskTreeItem){const e=(0,a.getGradleTaskTreeItemMap)().get(r.id);e&&await t.reveal(e,{expand:!0,select:!0,focus:!0})}}catch(e){o.logger.error("Unable to focus task in explorer:",e.message)}},t.focusProjectInGradleTasksTree=async function(e,t){try{await n.commands.executeCommand(`workbench.view.extension.${i.GRADLE_CONTAINER_VIEW}`);const r=(0,a.getProjectTreeItemMap)().get(e.fsPath);r&&await t.reveal(r,{focus:!0,expand:!0,select:!0})}catch(e){o.logger.error("Unable to focus project in explorer:",e.message)}},t.getTreeItemState=function(e,t){const r=function(e,t){let r="";const n=e.definition,o=n.debuggable;if((0,s.isTaskCancelling)(e,t))return r+i.TREE_ITEM_STATE_TASK_CANCELLING;const a=(0,s.isTaskRunning)(e,t);return n.isPinned&&(r+=i.TREE_ITEM_STATE_TASK_PINNED_PREFIX),a?(r+=o?i.TREE_ITEM_STATE_TASK_DEBUG_RUNNING:i.TREE_ITEM_STATE_TASK_RUNNING,r):(r+=o?i.TREE_ITEM_STATE_TASK_DEBUG_IDLE:i.TREE_ITEM_STATE_TASK_IDLE,r)}(e,t);return t?`${r}WithArgs`:r}},1236:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((r,n)=>{t.push(((e,t)=>null!=e?n(e):r(t))),e.apply(this,t)}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);t.pop(),e.apply(this,t).then((e=>r(null,e)),r)}),"name",{value:e.name})}},2587:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NIL:()=>b,parse:()=>v,stringify:()=>d,v1:()=>m,v3:()=>C,v4:()=>S,v5:()=>T,validate:()=>c,version:()=>_});var n=r(6982),i=r.n(n);const o=new Uint8Array(256);let s=o.length;function a(){return s>o.length-16&&(i().randomFillSync(o),s=0),o.slice(s,s+=16)}const l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&l.test(e)},u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));const d=function(e,t=0){const r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r};let h,p,f=0,g=0;const m=function(e,t,r){let n=t&&r||0;const i=t||new Array(16);let o=(e=e||{}).node||h,s=void 0!==e.clockseq?e.clockseq:p;if(null==o||null==s){const t=e.random||(e.rng||a)();null==o&&(o=h=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==s&&(s=p=16383&(t[6]<<8|t[7]))}let l=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:g+1;const u=l-f+(c-g)/1e4;if(u<0&&void 0===e.clockseq&&(s=s+1&16383),(u<0||l>f)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=l,g=c,p=s,l+=122192928e5;const m=(1e4*(268435455&l)+c)%4294967296;i[n++]=m>>>24&255,i[n++]=m>>>16&255,i[n++]=m>>>8&255,i[n++]=255&m;const v=l/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(let e=0;e<6;++e)i[n+e]=o[e];return t||d(i)},v=function(e){if(!c(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function y(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=v(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),s=r(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(let e=0;e<16;++e)i[o+e]=s[e];return i}return d(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}const C=y("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("md5").update(e).digest()})),S=function(e,t,r){const n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return d(n)},T=y("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("sha1").update(e).digest()})),b="00000000-0000-0000-0000-000000000000",_=function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},3058:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.MeasurementEntries=t.DimensionEntries=t.ErrorType=t.ErrorCodes=t.EventName=void 0,function(e){e.ERROR="error",e.INFO="info",e.OPERATION_START="opStart",e.OPERATION_END="opEnd",e.OPERATION_STEP="opStep"}(r||(t.EventName=r={})),function(e){e.NO_ERROR=0,e.GENERAL_ERROR=1}(n||(t.ErrorCodes=n={})),function(e){e.USER_ERROR="userError",e.SYSTEM_ERROR="systemError"}(i||(t.ErrorType=i={})),t.DimensionEntries=["operationId","operationName","errorCode","errorType","message","stack","stepName"],t.MeasurementEntries=["duration"]},3130:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.addReplacementRule=t.addContextProperty=t.dispose=t.createUuid=t.instrumentOperationStep=t.sendInfo=t.sendOperationError=t.sendError=t.sendOperationEnd=t.sendOperationStart=t.instrumentOperationAsVsCodeCommand=t.instrumentSimpleOperation=t.instrumentOperation=t.setErrorCode=t.setUserError=t.initialize=t.initializeFromJsonFile=void 0;const i=r(9896),o=r(2587),s=r(1398),a=r(1170),l=r(3058),c=r(6233);let u,d=!1;const h={},p=[],f=[l.EventName.ERROR,l.EventName.OPERATION_END,l.EventName.OPERATION_STEP];function g(e,t,r,n){if(u)throw new Error("TelemetryReporter already initialized.");r&&(u=r instanceof Array?r.map((e=>new a.default(e,null==n?void 0:n.replacementOptions))):[new a.default(r,null==n?void 0:n.replacementOptions)]),c.Output.setExtensionId(e),d=!(!n||!n.debug)||"true"===process.env.DEBUG_TELEMETRY}function m(e,t,r){return(...i)=>n(this,void 0,void 0,(function*(){let n;const o=T(),s=Date.now();try{return y(o,e),yield t.apply(r,[o,...i])}catch(t){n=t,S(o,e,n)}finally{const t=Date.now()-s;C(o,e,t,n)}}))}function v(e,t,r){return m(e,((e,...i)=>n(this,void 0,void 0,(function*(){return yield t.apply(r,i)}))),r)}function y(e,t){_({eventName:l.EventName.OPERATION_START,operationId:e,operationName:t})}function C(e,t,r,n){_(Object.assign({eventName:l.EventName.OPERATION_END,operationId:e,operationName:t,duration:r},b(n)))}function S(e,t,r){_(Object.assign({eventName:l.EventName.ERROR,operationId:e,operationName:t},b(r)))}function T(){return o.v4()}function b(e){if(!e)return{errorCode:l.ErrorCodes.NO_ERROR};const t=e;return{errorCode:t.errorCode||l.ErrorCodes.GENERAL_ERROR,errorType:t.isUserError?l.ErrorType.USER_ERROR:l.ErrorType.SYSTEM_ERROR,message:e.message,stack:e.stack}}function _(e){if(!u)return void console.warn("TelemetryReporter not initialized.");const t={};for(const r of l.DimensionEntries){const n=e[r];void 0!==n&&(t[r]=String(n))}const r={};for(const t of l.MeasurementEntries){const n=e[t];void 0!==n&&(r[t]=n)}w(e.eventName,t,r)}function w(e,t,r){if(u){t=null!=t?t:{};for(const e of Object.keys(t))t[e]=R(p,t[e]);t=Object.assign(Object.assign({},h),t),e in f?u.forEach((n=>{n.sendTelemetryErrorEvent(e,t,r)})):u.forEach((n=>{n.sendTelemetryEvent(e,t,r)})),d&&(c.Output.getInstance().appendLine(`>> ${(new Date).toISOString()}`),c.Output.getInstance().appendLine(JSON.stringify({eventName:e,dimensions:t,measurements:r},null,2)))}else console.warn("TelemetryReporter not initialized.")}function R(e,t){for(const r of e)t=t.replace(r.pattern,r.replace);return t}t.initializeFromJsonFile=function(e,t){return n(this,void 0,void 0,(function*(){try{yield i.promises.access(e);const{publisher:r,name:n,aiKey:o}=JSON.parse(i.readFileSync(e,"utf-8"));g(`${r}.${n}`,0,o,t)}catch(t){throw new Error(`The JSON file '${e}' does not exist.`)}}))},t.initialize=g,t.setUserError=function(e){e.isUserError=!0},t.setErrorCode=function(e,t){e.errorCode=t},t.instrumentOperation=m,t.instrumentSimpleOperation=v,t.instrumentOperationAsVsCodeCommand=function(e,t,r){return s.commands.registerCommand(e,v(e,t,r))},t.sendOperationStart=y,t.sendOperationEnd=C,t.sendError=function(e){_(Object.assign({eventName:l.EventName.ERROR},b(e)))},t.sendOperationError=S,t.sendInfo=function(e,t,r){if(!u)return void console.warn("TelemetryReporter not initialized.");let n,i;if(r)n=t,i=r;else{n={},i={};for(const e in t)"string"==typeof t[e]?n[e]=t[e]:"number"==typeof t[e]&&(i[e]=t[e])}w(l.EventName.INFO,Object.assign(Object.assign({},n),{operationId:e}),i)},t.instrumentOperationStep=function(e,t,r){return(...i)=>n(this,void 0,void 0,(function*(){let n;const o=Date.now();try{return yield r(...i)}catch(e){throw n=e,e}finally{_(Object.assign({eventName:l.EventName.OPERATION_STEP,operationId:e,stepName:t,duration:Date.now()-o},b(n)))}}))},t.createUuid=T,t.dispose=function(){return n(this,void 0,void 0,(function*(){if(u)return yield Promise.all(u.map((e=>e.dispose())))}))},t.addContextProperty=function(e,t){h[e]=t},t.addReplacementRule=function(e,t){p.push({pattern:e,replace:null!=t?t:""})}},6233:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Output=void 0;const n=r(1398);class i{constructor(){}static getInstance(){return this.INSTANCE||(this.INSTANCE=n.window.createOutputChannel(`Telemetry Wrapper (${i.extensionId})`)),this.INSTANCE}static setExtensionId(e){i.extensionId=e}}t.Output=i},3281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.ProgressType=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.RAL=void 0,t.CancellationStrategy=void 0;const n=r(6177);Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return n.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return n.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return n.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return n.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return n.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return n.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return n.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return n.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return n.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return n.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return n.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return n.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return n.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return n.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return n.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return n.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return n.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return n.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return n.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return n.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return n.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return n.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return n.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return n.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return n.ParameterStructures}});const i=r(4019);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}});const o=r(2676);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return o.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return o.Emitter}});const s=r(7469);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return s.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}});const a=r(9085);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return a.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return a.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return a.ReadableStreamMessageReader}});const l=r(3193);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return l.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return l.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return l.WriteableStreamMessageWriter}});const c=r(577);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return c.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return c.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return c.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return c.createMessageConnection}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return c.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return c.Trace}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return c.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return c.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return c.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return c.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return c.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return c.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return c.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return c.CancellationStrategy}});const u=r(9590);t.RAL=u.default},7469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const n=r(9590),i=r(8585),o=r(2676);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const r=t;return r&&(r===e.None||r===e.Cancelled||i.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const r=n.default().timer.setTimeout(e.bind(t),0);return{dispose(){n.default().timer.clearTimeout(r)}}}));class l{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new l),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof l&&this._token.dispose():this._token=s.None}}},577:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.NullLogger=t.ProgressType=void 0;const n=r(9590),i=r(8585),o=r(6177),s=r(3352),a=r(2676),l=r(7469);var c,u,d,h,p,f,g,m,v,y,C,S,T;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(c||(c={})),function(e){e.type=new o.NotificationType("$/progress")}(u||(u={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(h=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(f=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(g=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(m=t.ConnectionErrors||(t.ConnectionErrors={}));class b extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,b.prototype)}}t.ConnectionError=b,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(v=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new l.CancellationTokenSource}),e.is=function(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(y=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation(e,t){e.sendNotification(c.type,{id:t})},cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(C=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:y.Message,sender:C.Message}),e.is=function(e){const t=e;return t&&y.is(t.receiver)&&C.is(t.sender)}}(S=t.CancellationStrategy||(t.CancellationStrategy={})),(t.ConnectionOptions||(t.ConnectionOptions={})).is=function(e){const t=e;return t&&(S.is(t.cancellationStrategy)||v.is(t.connectionStrategy))},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(T||(T={})),t.createMessageConnection=function(e,r,v,y){const C=void 0!==v?v:t.NullLogger;let _=0,w=0,R=0;const E="2.0";let P;const k=Object.create(null);let D;const O=Object.create(null),I=new Map;let M,A,x=new s.LinkedMap,N=Object.create(null),j=Object.create(null),F=h.Off,L=p.Text,B=T.New;const G=new a.Emitter,q=new a.Emitter,U=new a.Emitter,z=new a.Emitter,W=new a.Emitter,H=y&&y.cancellationStrategy?y.cancellationStrategy:S.Message;function $(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function K(e){}function V(){return B===T.Listening}function J(){return B===T.Closed}function X(){return B===T.Disposed}function Y(){B!==T.New&&B!==T.Listening||(B=T.Closed,q.fire(void 0))}function Z(){M||0===x.size||(M=n.default().timer.setImmediate((()=>{M=void 0,function(){if(0===x.size)return;const e=x.shift();try{o.isRequestMessage(e)?function(e){if(X())return;function t(t,n,i){const s={jsonrpc:E,id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,ee(s,n,i),r.write(s)}function n(t,n,i){const o={jsonrpc:E,id:e.id,error:t.toJson()};ee(o,n,i),r.write(o)}!function(e){if(F!==h.Off&&A)if(L===p.Text){let t;F===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),A.log(`Received request '${e.method} - (${e.id})'.`,t)}else te("receive-request",e)}(e);const s=k[e.method];let a,l;s&&(a=s.type,l=s.handler);const c=Date.now();if(l||P){const s=String(e.id),u=H.receiver.createCancellationTokenSource(s);j[s]=u;try{let d;if(l)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void n(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but recevied none.`),e.method,c);d=l(u.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byName)return void n(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,c);d=l(...e.params,u.token)}else{if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byPosition)return void n(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,c);d=l(e.params,u.token)}else P&&(d=P(e.method,e.params,u.token));const h=d;d?h.then?h.then((r=>{delete j[s],t(r,e.method,c)}),(t=>{delete j[s],t instanceof o.ResponseError?n(t,e.method,c):t&&i.string(t.message)?n(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,c):n(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)})):(delete j[s],t(d,e.method,c)):(delete j[s],function(t,n,i){void 0===t&&(t=null);const o={jsonrpc:E,id:e.id,result:t};ee(o,n,i),r.write(o)}(d,e.method,c))}catch(r){delete j[s],r instanceof o.ResponseError?t(r,e.method,c):r&&i.string(r.message)?n(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${r.message}`),e.method,c):n(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)}}else n(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,c)}(e):o.isNotificationMessage(e)?function(e){if(X())return;let t,r;if(e.method===c.type.method)r=e=>{const t=e.id,r=j[String(t)];r&&r.cancel()};else{const n=O[e.method];n&&(r=n.handler,t=n.type)}if(r||D)try{!function(e){if(F!==h.Off&&A&&e.method!==g.type.method)if(L===p.Text){let t;F===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),A.log(`Received notification '${e.method}'.`,t)}else te("receive-notification",e)}(e),r?void 0===e.params?(void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==o.ParameterStructures.byName&&C.error(`Notification ${e.method} defines ${t.numberOfParams} params but recevied none.`),r()):Array.isArray(e.params)?(void 0!==t&&(t.parameterStructures===o.ParameterStructures.byName&&C.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&C.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${e.params.length} argumennts`)),r(...e.params)):(void 0!==t&&t.parameterStructures===o.ParameterStructures.byPosition&&C.error(`Notification ${e.method} defines parameters by position but received parameters by name`),r(e.params)):D&&D(e.method,e.params)}catch(t){t.message?C.error(`Notification handler '${e.method}' failed with message: ${t.message}`):C.error(`Notification handler '${e.method}' failed unexpectedly.`)}else U.fire(e)}(e):o.isResponseMessage(e)?function(e){if(!X())if(null===e.id)e.error?C.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):C.error("Received response message without id. No further error information provided.");else{const t=String(e.id),r=N[t];if(function(e,t){if(F!==h.Off&&A)if(L===p.Text){let r;if(F===h.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),t){const n=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";A.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${n}`,r)}else A.log(`Received response ${e.id} without active response promise.`,r)}else te("receive-response",e)}(e,r),r){delete N[t];try{if(e.error){const t=e.error;r.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?C.error(`Response handler '${r.method}' failed with message: ${e.message}`):C.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void C.error("Received empty message.");C.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(i.string(t.id)||i.number(t.id)){const e=String(t.id),r=N[e];r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{Z()}}()})))}e.onClose(Y),e.onError((function(e){G.fire([e,void 0,void 0])})),r.onClose(Y),r.onError((function(e){G.fire(e)}));const Q=e=>{try{if(o.isNotificationMessage(e)&&e.method===c.type.method){const t=$(e.params.id),n=x.get(t);if(o.isRequestMessage(n)){const i=null==y?void 0:y.connectionStrategy,o=i&&i.cancelUndispatched?i.cancelUndispatched(n,K):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return x.delete(t),o.id=n.id,ee(o,e.method,Date.now()),void r.write(o)}}!function(e,t){var r;o.isRequestMessage(t)?e.set($(t.id),t):o.isResponseMessage(t)?e.set(null===(r=t.id)?"res-unknown-"+(++R).toString():"res-"+r.toString(),t):e.set("not-"+(++w).toString(),t)}(x,e)}finally{Z()}};function ee(e,t,r){if(F!==h.Off&&A)if(L===p.Text){let n;F===h.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),A.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-r}ms`,n)}else te("send-response",e)}function te(e,t){if(!A||F===h.Off)return;const r={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};A.log(r)}function re(){if(J())throw new b(m.Closed,"Connection is closed.");if(X())throw new b(m.Disposed,"Connection is disposed.")}function ne(e){return void 0===e?null:e}function ie(e){return null===e?void 0:e}function oe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function se(e,t){switch(e){case o.ParameterStructures.auto:return oe(t)?ie(t):[ne(t)];case o.ParameterStructures.byName:if(!oe(t))throw new Error("Recevied parameters by name but param is not an object literal.");return ie(t);case o.ParameterStructures.byPosition:return[ne(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function ae(e,t){let r;const n=e.numberOfParams;switch(n){case 0:r=void 0;break;case 1:r=se(e.parameterStructures,t[0]);break;default:r=[];for(let e=0;e<t.length&&e<n;e++)r.push(ne(t[e]));if(t.length<n)for(let e=t.length;e<n;e++)r.push(null)}return r}const le={sendNotification:(e,...t)=>{let n,s;if(re(),i.string(e)){n=e;const r=t[0];let i=0,a=o.ParameterStructures.auto;o.ParameterStructures.is(r)&&(i=1,a=r);let l=t.length;const c=l-i;switch(c){case 0:s=void 0;break;case 1:s=se(a,t[i]);break;default:if(a===o.ParameterStructures.byName)throw new Error(`Recevied ${c} parameters for 'by Name' notification parameter structure.`);s=t.slice(i,l).map((e=>ne(e)))}}else{const r=t;n=e.method,s=ae(e,r)}const a={jsonrpc:E,method:n,params:s};!function(e){if(F!==h.Off&&A)if(L===p.Text){let t;F===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),A.log(`Sending notification '${e.method}'.`,t)}else te("send-notification",e)}(a),r.write(a)},onNotification:(e,t)=>{let r;return re(),i.func(e)?D=e:t&&(i.string(e)?(r=e,O[e]={type:void 0,handler:t}):(r=e.method,O[e.method]={type:e,handler:t})),{dispose:()=>{void 0!==r?delete O[r]:D=void 0}}},onProgress:(e,t,r)=>{if(I.has(t))throw new Error(`Progress handler for token ${t} already registered`);return I.set(t,r),{dispose:()=>{I.delete(t)}}},sendProgress:(e,t,r)=>{le.sendNotification(u.type,{token:t,value:r})},onUnhandledProgress:z.event,sendRequest:(e,...t)=>{let n,s,a;if(re(),function(){if(!V())throw new Error("Call listen() first.")}(),i.string(e)){n=e;const r=t[0],i=t[t.length-1];let c=0,u=o.ParameterStructures.auto;o.ParameterStructures.is(r)&&(c=1,u=r);let d=t.length;l.CancellationToken.is(i)&&(d-=1,a=i);const h=d-c;switch(h){case 0:s=void 0;break;case 1:s=se(u,t[c]);break;default:if(u===o.ParameterStructures.byName)throw new Error(`Recevied ${h} parameters for 'by Name' request parameter structure.`);s=t.slice(c,d).map((e=>ne(e)))}}else{const r=t;n=e.method,s=ae(e,r);const i=e.numberOfParams;a=l.CancellationToken.is(r[i])?r[i]:void 0}const c=_++;let u;return a&&(u=a.onCancellationRequested((()=>{H.sender.sendCancellation(le,c)}))),new Promise(((e,t)=>{const i={jsonrpc:E,id:c,method:n,params:s};let a={method:n,timerStart:Date.now(),resolve:t=>{e(t),H.sender.cleanup(c),null==u||u.dispose()},reject:e=>{t(e),H.sender.cleanup(c),null==u||u.dispose()}};!function(e){if(F!==h.Off&&A)if(L===p.Text){let t;F===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),A.log(`Sending request '${e.method} - (${e.id})'.`,t)}else te("send-request",e)}(i);try{r.write(i)}catch(e){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&(N[String(c)]=a)}))},onRequest:(e,t)=>{re();let r=null;return d.is(e)?(r=void 0,P=e):i.string(e)?(r=null,void 0!==t&&(r=e,k[e]={handler:t,type:void 0})):void 0!==t&&(r=e.method,k[e.method]={type:e,handler:t}),{dispose:()=>{null!==r&&(void 0!==r?delete k[r]:P=void 0)}}},trace:(e,t,r)=>{let n=!1,o=p.Text;void 0!==r&&(i.boolean(r)?n=r:(n=r.sendNotification||!1,o=r.traceFormat||p.Text)),F=e,L=o,A=F===h.Off?void 0:t,!n||J()||X()||le.sendNotification(f.type,{value:h.toString(e)})},onError:G.event,onClose:q.event,onUnhandledNotification:U.event,onDispose:W.event,end:()=>{r.end()},dispose:()=>{if(X())return;B=T.Disposed,W.fire(void 0);const t=new Error("Connection got disposed.");Object.keys(N).forEach((e=>{N[e].reject(t)})),N=Object.create(null),j=Object.create(null),x=new s.LinkedMap,i.func(r.dispose)&&r.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{re(),function(){if(V())throw new b(m.AlreadyListening,"Connection is already listening")}(),B=T.Listening,e.listen(Q)},inspect:()=>{n.default().console.log("inspect")}};return le.onNotification(g.type,(e=>{F!==h.Off&&A&&A.log(e.message,F===h.Verbose?e.verbose:void 0)})),le.onNotification(u.type,(e=>{const t=I.get(e.token);t?t(e.value):z.fire(e)})),le}},4019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}}},2676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const n=r(9590);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let r=!1;for(let n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=r.length;o<s;o++)try{t.push(r[o].apply(i[o],e))}catch(e){n.default().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const n={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),n.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},8585:(e,t)=>{"use strict";function r(e){return"string"==typeof e||e instanceof String}function n(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=n,t.stringArray=function(e){return n(e)&&e.every((e=>r(e)))}},3352:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class n{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const r=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let r=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){const e={value:r.key,done:!1};return r=r.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let r=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){const e={value:r.value,done:!1};return r=r.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let r=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){const e={value:[r.key,r.value],done:!1};return r=r.next,e}return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,r=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,r)=>{e.push([r,t])})),e}fromJSON(e){this.clear();for(const[t,r]of e)this.set(t,r)}}t.LinkedMap=n,t.LRUCache=class extends n{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},9244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,r=0,n=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(r=0;r<i.length;){switch(i[r]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}n+=i.byteLength,t++}if(4!==e)return;const i=this._read(n+r),o=new Map,s=this.toString(i,"ascii").split("\r\n");if(s.length<2)return o;for(let e=0;e<s.length-2;e++){const t=s[e],r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");const n=t.substr(0,r),i=t.substr(r+1).trim();o.set(n,i)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],r=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,r}const t=this.allocNative(e);let r=0;for(;e>0;){const n=this._chunks[0];if(n.byteLength>e){const i=n.slice(0,e);t.set(i,r),r+=e,this._chunks[0]=n.slice(e),this._totalLength-=e,e-=e}else t.set(n,r),r+=n.byteLength,this._chunks.shift(),this._totalLength-=n.byteLength,e-=n.byteLength}return t}}},9085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const n=r(9590),i=r(8585),o=r(2676);var s;(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)};class a{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){var t;let r,i;const o=new Map;let s;const a=new Map;if(void 0===e||"string"==typeof e)r=null!=e?e:"utf-8";else{if(r=null!==(t=e.charset)&&void 0!==t?t:"utf-8",void 0!==e.contentDecoder&&(i=e.contentDecoder,o.set(i.name,i)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)o.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(s=e.contentTypeDecoder,a.set(s.name,s)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)a.set(t.name,t)}return void 0===s&&(s=n.default().applicationJson.decoder,a.set(s.name,s)),{charset:r,contentDecoder:i,contentDecoders:o,contentTypeDecoder:s,contentTypeDecoders:a}}}(s||(s={})),t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=n.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const r=parseInt(t);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(n.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=n.default().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},3193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const n=r(9590),i=r(8585),o=r(4323),s=r(2676);var a;(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)};class l{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=l,function(e){e.fromOptions=function(e){var t,r;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:n.default().applicationJson.encoder}:{charset:null!==(t=e.charset)&&void 0!==t?t:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(r=e.contentTypeEncoder)&&void 0!==r?r:n.default().applicationJson.encoder}}}(a||(a={})),t.WriteableStreamMessageWriter=class extends l{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const r=[];return r.push("Content-Length: ",t.byteLength.toString(),"\r\n"),r.push("\r\n"),this.doWrite(e,r,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,r){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(r)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},6177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponseMessage=t.isNotificationMessage=t.isRequestMessage=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const n=r(8585);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,r){super(t),this.code=n.number(e)?e:i.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e){this.kind=e}static is(e){return e===s.auto||e===s.byName||e===s.byPosition}toString(){return this.kind}}t.ParameterStructures=s,s.auto=new s("auto"),s.byPosition=new s("byPosition"),s.byName=new s("byName");class a{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return s.auto}}t.AbstractMessageSignature=a,t.RequestType0=class extends a{constructor(e){super(e,0)}},t.RequestType=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends a{constructor(e){super(e,2)}},t.RequestType3=class extends a{constructor(e){super(e,3)}},t.RequestType4=class extends a{constructor(e){super(e,4)}},t.RequestType5=class extends a{constructor(e){super(e,5)}},t.RequestType6=class extends a{constructor(e){super(e,6)}},t.RequestType7=class extends a{constructor(e){super(e,7)}},t.RequestType8=class extends a{constructor(e){super(e,8)}},t.RequestType9=class extends a{constructor(e){super(e,9)}},t.NotificationType=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends a{constructor(e){super(e,0)}},t.NotificationType1=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends a{constructor(e){super(e,2)}},t.NotificationType3=class extends a{constructor(e){super(e,3)}},t.NotificationType4=class extends a{constructor(e){super(e,4)}},t.NotificationType5=class extends a{constructor(e){super(e,5)}},t.NotificationType6=class extends a{constructor(e){super(e,6)}},t.NotificationType7=class extends a{constructor(e){super(e,7)}},t.NotificationType8=class extends a{constructor(e){super(e,8)}},t.NotificationType9=class extends a{constructor(e){super(e,9)}},t.isRequestMessage=function(e){const t=e;return t&&n.string(t.method)&&(n.string(t.id)||n.number(t.id))},t.isNotificationMessage=function(e){const t=e;return t&&n.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(n.string(t.id)||n.number(t.id)||null===t.id)}},9590:(e,t)=>{"use strict";let r;function n(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(n||(n={})),t.default=n},4323:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const n=r(9590);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,r)=>{this._waiting.push({thunk:e,resolve:t,reject:r}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&n.default().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},7123:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=r(9571);o.default.install();const s=r(3281),a=r(6928),l=r(857),c=r(6982),u=r(9278);i(r(3281),t);class d extends s.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),s.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=d;class h extends s.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=h;class p extends s.ReadableStreamMessageReader{constructor(e,t="utf-8"){super(o.default().stream.asReadableStream(e),t)}}t.SocketMessageReader=p;class f extends s.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=f;class g extends s.ReadableStreamMessageReader{constructor(e,t){super(o.default().stream.asReadableStream(e),t)}}t.StreamMessageReader=g;class m extends s.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t)}}t.StreamMessageWriter=m;const v=process.env.XDG_RUNTIME_DIR,y=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=c.randomBytes(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=v?a.join(v,`vscode-ipc-${e}.sock`):a.join(l.tmpdir(),`vscode-${e}.sock`);const r=y.get(process.platform);return void 0!==r&&t.length>=r&&o.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let r;const n=new Promise(((e,t)=>{r=e}));return new Promise(((i,o)=>{let s=u.createServer((e=>{s.close(),r([new p(e,t),new f(e,t)])}));s.on("error",o),s.listen(e,(()=>{s.removeListener("error",o),i({onConnected:()=>n})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const r=u.createConnection(e);return[new p(r,t),new f(r,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let r;const n=new Promise(((e,t)=>{r=e}));return new Promise(((i,o)=>{const s=u.createServer((e=>{s.close(),r([new p(e,t),new f(e,t)])}));s.on("error",o),s.listen(e,"127.0.0.1",(()=>{s.removeListener("error",o),i({onConnected:()=>n})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const r=u.createConnection(e,"127.0.0.1");return[new p(r,t),new f(r,t)]},t.createMessageConnection=function(e,t,r,n){r||(r=s.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new g(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new m(t):t;return s.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),s.createMessageConnection(i,o,r,n)}},9571:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9590),i=r(9023),o=r(4019),s=r(9244);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}a.emptyBuffer=Buffer.allocUnsafe(0);class l{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),o.Disposable.create((()=>this.stream.off("data",e)))}}class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((r,n)=>{const i=e=>{null==e?r():n(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)}))}end(){this.stream.end()}}const u=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new l(e),asWritableStream:e=>new c(e)}),console,timer:Object.freeze({setTimeout:(e,t,...r)=>setTimeout(e,t,...r),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setImmediate(e,...t),clearImmediate(e){clearImmediate(e)}})});function d(){return u}!function(e){e.install=function(){n.default.install(u)}}(d||(d={})),t.default=d},2067:(e,t,r)=>{"use strict";e.exports=r(7123)},6353:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7354),t),i(r(9538),t),i(r(3779),t)},490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const n=r(1398),i=r(7354),o=r(9538);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,t,r){const n=this.client,o=this.middleware,s=(e,t,r)=>{const o=n.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return n.sendRequest(i.CallHierarchyPrepareRequest.type,o,r).then((e=>n.protocol2CodeConverter.asCallHierarchyItems(e)),(e=>n.handleFailedRequest(i.CallHierarchyPrepareRequest.type,e,null)))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,r,s):s(e,t,r)}provideCallHierarchyIncomingCalls(e,t){const r=this.client,n=this.middleware,o=(e,t)=>{const n={item:r.code2ProtocolConverter.asCallHierarchyItem(e)};return r.sendRequest(i.CallHierarchyIncomingCallsRequest.type,n,t).then((e=>r.protocol2CodeConverter.asCallHierarchyIncomingCalls(e)),(e=>r.handleFailedRequest(i.CallHierarchyIncomingCallsRequest.type,e,null)))};return n.provideCallHierarchyIncomingCalls?n.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){const r=this.client,n=this.middleware,o=(e,t)=>{const n={item:r.code2ProtocolConverter.asCallHierarchyItem(e)};return r.sendRequest(i.CallHierarchyOutgoingCallsRequest.type,n,t).then((e=>r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e)),(e=>r.handleFailedRequest(i.CallHierarchyOutgoingCallsRequest.type,e,null)))};return n.provideCallHierarchyOutgoingCalls?n.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}}class l extends o.TextDocumentFeature{constructor(e){super(e,i.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[r,n]=this.getRegistration(t,e.callHierarchyProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t=this._client,r=new a(t);return[n.languages.registerCallHierarchyProvider(e.documentSelector,r),r]}}t.CallHierarchyFeature=l},9538:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLanguageClient=t.MessageTransports=t.TextDocumentFeature=t.State=t.RevealOutputChannelOn=t.CloseAction=t.ErrorAction=void 0;const n=r(1398),i=r(7354),o=r(5199),s=r(1798),a=r(7605),l=r(8319),c=r(483),u=r(9032),d=r(9403);class h{error(e){i.RAL().console.error(e)}warn(e){i.RAL().console.warn(e)}info(e){i.RAL().console.info(e)}log(e){i.RAL().console.log(e)}}var p,f,g,m,v;!function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(p=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(f=t.CloseAction||(t.CloseAction={}));class y{constructor(e,t){this.name=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,r){return r&&r<=3?p.Continue:p.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?f.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?(n.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),f.DoNotRestart):(this.restarts.shift(),f.Restart)}}!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(g=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(m=t.State||(t.State={})),function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.StartFailed=2]="StartFailed",e[e.Running=3]="Running",e[e.Stopping=4]="Stopping",e[e.Stopped=5]="Stopped"}(v||(v={}));const C=[i.SymbolKind.File,i.SymbolKind.Module,i.SymbolKind.Namespace,i.SymbolKind.Package,i.SymbolKind.Class,i.SymbolKind.Method,i.SymbolKind.Property,i.SymbolKind.Field,i.SymbolKind.Constructor,i.SymbolKind.Enum,i.SymbolKind.Interface,i.SymbolKind.Function,i.SymbolKind.Variable,i.SymbolKind.Constant,i.SymbolKind.String,i.SymbolKind.Number,i.SymbolKind.Boolean,i.SymbolKind.Array,i.SymbolKind.Object,i.SymbolKind.Key,i.SymbolKind.Null,i.SymbolKind.EnumMember,i.SymbolKind.Struct,i.SymbolKind.Event,i.SymbolKind.Operator,i.SymbolKind.TypeParameter],S=[i.CompletionItemKind.Text,i.CompletionItemKind.Method,i.CompletionItemKind.Function,i.CompletionItemKind.Constructor,i.CompletionItemKind.Field,i.CompletionItemKind.Variable,i.CompletionItemKind.Class,i.CompletionItemKind.Interface,i.CompletionItemKind.Module,i.CompletionItemKind.Property,i.CompletionItemKind.Unit,i.CompletionItemKind.Value,i.CompletionItemKind.Enum,i.CompletionItemKind.Keyword,i.CompletionItemKind.Snippet,i.CompletionItemKind.Color,i.CompletionItemKind.File,i.CompletionItemKind.Reference,i.CompletionItemKind.Folder,i.CompletionItemKind.EnumMember,i.CompletionItemKind.Constant,i.CompletionItemKind.Struct,i.CompletionItemKind.Event,i.CompletionItemKind.Operator,i.CompletionItemKind.TypeParameter],T=[i.SymbolTag.Deprecated];function b(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var _,w;!function(e){e.fromConfiguration=function(e){const t=n.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(_||(_={})),function(e){e.is=function(e){let t=e;return t&&l.func(t.register)&&l.func(t.unregister)&&l.func(t.dispose)&&void 0!==t.registrationType}}(w||(w={}));class R{constructor(e,t,r,n,i,o){this._client=e,this._event=t,this._type=r,this._middleware=n,this._createParams=i,this._selectorFilter=o,this._selectors=new Map}static textDocumentFilter(e,t){for(const r of e)if(n.languages.match(r,t))return!0;return!1}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){this._selectorFilter&&!this._selectorFilter(this._selectors.values(),e)||(this._middleware?this._middleware(e,(e=>this._client.sendNotification(this._type,this._createParams(e)))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(n.languages.match(t,e))return{send:e=>{this.callback(e)}}}}class E extends R{constructor(e,t){super(e,n.workspace.onDidOpenTextDocument,i.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),R.textDocumentFilter),this._syncedDocuments=t}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:u.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return i.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=e.registerOptions.documentSelector;n.workspace.textDocuments.forEach((e=>{let r=e.uri.toString();if(!this._syncedDocuments.has(r)&&n.languages.match(t,e)){let t=this._client.clientOptions.middleware,n=e=>{this._client.sendNotification(this._type,this._createParams(e))};t.didOpen?t.didOpen(e,n):n(e),this._syncedDocuments.set(r,e)}}))}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}}class P extends R{constructor(e,t){super(e,n.workspace.onDidCloseTextDocument,i.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),R.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return i.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:u.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach((e=>{if(n.languages.match(t,e)&&!this._selectorFilter(r,e)){let t=this._client.clientOptions.middleware,r=e=>{this._client.sendNotification(this._type,this._createParams(e))};this._syncedDocuments.delete(e.uri.toString()),t.didClose?t.didClose(e,r):r(e)}}))}}class k{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return i.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&void 0!==r.change&&r.change!==i.TextDocumentSyncKind.None&&this.register({id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=n.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(0!==e.contentChanges.length)for(const t of this._changeData.values())if(n.languages.match(t.documentSelector,e.document)){let r=this._client.clientOptions.middleware;if(t.syncKind===i.TextDocumentSyncKind.Incremental){let t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);r.didChange?r.didChange(e,(()=>this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t))):this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t)}else if(t.syncKind===i.TextDocumentSyncKind.Full){let t=e=>{this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger((()=>{this._client.sendNotification(i.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))}))):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new c.Delayer(200)},this._changeDelayer.delayer.trigger((()=>{this._client.sendNotification(i.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))}),-1))};r.didChange?r.didChange(e,t):t(e)}}}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(const t of this._changeData.values())if(n.languages.match(t.documentSelector,e))return{send:e=>{this.callback(e)}}}}class D extends R{constructor(e){super(e,n.workspace.onWillSaveTextDocument,i.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),((e,t)=>R.textDocumentFilter(e,t.document)))}get registrationType(){return i.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSave&&this.register({id:u.generateUuid(),registerOptions:{documentSelector:t}})}}class O{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return i.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSaveWaitUntil&&this.register({id:u.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=n.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if(R.textDocumentFilter(this._selectors.values(),e.document)){let t=this._client.clientOptions.middleware,r=e=>this._client.sendRequest(i.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((e=>{let t=this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class I extends R{constructor(e){super(e,n.workspace.onDidSaveTextDocument,i.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),R.textDocumentFilter),this._includeText=!1}get registrationType(){return i.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const r=e.resolvedTextDocumentSync;if(t&&r&&r.save){const e="boolean"==typeof r.save?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}}class M{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}get registrationType(){return i.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){b(b(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let r of e.registerOptions.watchers){if(!l.string(r.globPattern))continue;let e=!0,o=!0,s=!0;void 0!==r.kind&&null!==r.kind&&(e=!!(r.kind&i.WatchKind.Create),o=!!(r.kind&i.WatchKind.Change),s=!!(r.kind&i.WatchKind.Delete));let a=n.workspace.createFileSystemWatcher(r.globPattern,!e,!o,!s);this.hookListeners(a,e,o,s),t.push(a)}this._watchers.set(e.id,t)}registerRaw(e,t){let r=[];for(let e of t)this.hookListeners(e,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,t,r,n,o){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Created})),null,o),r&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Changed})),null,o),n&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Deleted})),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}class A{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(i.TextDocumentRegistrationOptions.is(t)){const r=i.StaticRegistrationOptions.hasId(t)?t.id:u.generateUuid(),n=t.documentSelector||e;if(n)return[r,Object.assign({},t,{documentSelector:n})]}else if(l.boolean(t)&&!0===t||i.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let r=l.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[u.generateUuid(),r]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return l.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){let r=t.data.registerOptions.documentSelector;if(null!==r&&n.languages.match(r,e))return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}t.TextDocumentFeature=A;class x{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}class N extends A{constructor(e){super(e,i.CompletionRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[i.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[i.InsertTextMode.asIs,i.InsertTextMode.adjustIndentation]}},t.completionItemKind={valueSet:S}}initialize(e,t){const r=this.getRegistrationOptions(t,e.completionProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t=e.triggerCharacters||[],r={provideCompletionItems:(e,t,r,n)=>{const o=this._client,s=this._client.clientOptions.middleware,a=(e,t,r,n)=>o.sendRequest(i.CompletionRequest.type,o.code2ProtocolConverter.asCompletionParams(e,t,r),n).then(o.protocol2CodeConverter.asCompletionResult,(e=>o.handleFailedRequest(i.CompletionRequest.type,e,null)));return s.provideCompletionItem?s.provideCompletionItem(e,t,n,r,a):a(e,t,n,r)},resolveCompletionItem:e.resolveProvider?(e,t)=>{const r=this._client,n=this._client.clientOptions.middleware,o=(e,t)=>r.sendRequest(i.CompletionResolveRequest.type,r.code2ProtocolConverter.asCompletionItem(e),t).then(r.protocol2CodeConverter.asCompletionItem,(t=>r.handleFailedRequest(i.CompletionResolveRequest.type,t,e)));return n.resolveCompletionItem?n.resolveCompletionItem(e,t,o):o(e,t)}:void 0};return[n.languages.registerCompletionItemProvider(e.documentSelector,r,...t),r]}}class j extends A{constructor(e){super(e,i.HoverRequest.type)}fillClientCapabilities(e){const t=b(b(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[i.MarkupKind.Markdown,i.MarkupKind.PlainText]}initialize(e,t){const r=this.getRegistrationOptions(t,e.hoverProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideHover:(e,t,r)=>{const n=this._client,o=(e,t,r)=>n.sendRequest(i.HoverRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asHover,(e=>n.handleFailedRequest(i.HoverRequest.type,e,null))),s=n.clientOptions.middleware;return s.provideHover?s.provideHover(e,t,r,o):o(e,t,r)}};return[n.languages.registerHoverProvider(e.documentSelector,t),t]}}class F extends A{constructor(e){super(e,i.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.signatureHelpProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,r,n)=>{const o=this._client,s=(e,t,r,n)=>o.sendRequest(i.SignatureHelpRequest.type,o.code2ProtocolConverter.asSignatureHelpParams(e,t,r),n).then(o.protocol2CodeConverter.asSignatureHelp,(e=>o.handleFailedRequest(i.SignatureHelpRequest.type,e,null))),a=o.clientOptions.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(e,t,n,r,s):s(e,t,n,r)}};let r;if(void 0===e.retriggerCharacters){const i=e.triggerCharacters||[];r=n.languages.registerSignatureHelpProvider(e.documentSelector,t,...i)}else{const i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};r=n.languages.registerSignatureHelpProvider(e.documentSelector,t,i)}return[r,t]}}class L extends A{constructor(e){super(e,i.DefinitionRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.definitionProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDefinition:(e,t,r)=>{const n=this._client,o=(e,t,r)=>n.sendRequest(i.DefinitionRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDefinitionResult,(e=>n.handleFailedRequest(i.DefinitionRequest.type,e,null))),s=n.clientOptions.middleware;return s.provideDefinition?s.provideDefinition(e,t,r,o):o(e,t,r)}};return[n.languages.registerDefinitionProvider(e.documentSelector,t),t]}}class B extends A{constructor(e){super(e,i.ReferencesRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.referencesProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideReferences:(e,t,r,n)=>{const o=this._client,s=(e,t,r,n)=>o.sendRequest(i.ReferencesRequest.type,o.code2ProtocolConverter.asReferenceParams(e,t,r),n).then(o.protocol2CodeConverter.asReferences,(e=>o.handleFailedRequest(i.ReferencesRequest.type,e,null))),a=o.clientOptions.middleware;return a.provideReferences?a.provideReferences(e,t,r,n,s):s(e,t,r,n)}};return[n.languages.registerReferenceProvider(e.documentSelector,t),t]}}class G extends A{constructor(e){super(e,i.DocumentHighlightRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentHighlightProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentHighlights:(e,t,r)=>{const n=this._client,o=(e,t,r)=>n.sendRequest(i.DocumentHighlightRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDocumentHighlights,(e=>n.handleFailedRequest(i.DocumentHighlightRequest.type,e,null))),s=n.clientOptions.middleware;return s.provideDocumentHighlights?s.provideDocumentHighlights(e,t,r,o):o(e,t,r)}};return[n.languages.registerDocumentHighlightProvider(e.documentSelector,t),t]}}class q extends A{constructor(e){super(e,i.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:C},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:T},t.labelSupport=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentSymbolProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentSymbols:(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(i.DocumentSymbolRequest.type,r.code2ProtocolConverter.asDocumentSymbolParams(e),t).then((e=>{if(null!==e){if(0===e.length)return[];{let t=e[0];return i.DocumentSymbol.is(t)?r.protocol2CodeConverter.asDocumentSymbols(e):r.protocol2CodeConverter.asSymbolInformations(e)}}}),(e=>r.handleFailedRequest(i.DocumentSymbolRequest.type,e,null))),o=r.clientOptions.middleware;return o.provideDocumentSymbols?o.provideDocumentSymbols(e,t,n):n(e,t)}},r=void 0!==e.label?{label:e.label}:void 0;return[n.languages.registerDocumentSymbolProvider(e.documentSelector,t,r),t]}}class U extends x{constructor(e){super(e,i.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=b(b(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:C},t.tagSupport={valueSet:T}}initialize(e){e.workspaceSymbolProvider&&this.register({id:u.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(i.WorkspaceSymbolRequest.type,{query:e},t).then(r.protocol2CodeConverter.asSymbolInformations,(e=>r.handleFailedRequest(i.WorkspaceSymbolRequest.type,e,null))),o=r.clientOptions.middleware;return o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,t,n):n(e,t)}};return[n.languages.registerWorkspaceSymbolProvider(t),t]}}class z extends A{constructor(e){super(e,i.CodeActionRequest.type)}fillClientCapabilities(e){const t=b(b(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[i.CodeActionKind.Empty,i.CodeActionKind.QuickFix,i.CodeActionKind.Refactor,i.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorRewrite,i.CodeActionKind.Source,i.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){const r=this.getRegistrationOptions(t,e.codeActionProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideCodeActions:(e,t,r,n)=>{const o=this._client,s=(e,t,r,n)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:o.code2ProtocolConverter.asCodeActionContext(r)};return o.sendRequest(i.CodeActionRequest.type,s,n).then((e=>{if(null===e)return;const t=[];for(let r of e)i.Command.is(r)?t.push(o.protocol2CodeConverter.asCommand(r)):t.push(o.protocol2CodeConverter.asCodeAction(r));return t}),(e=>o.handleFailedRequest(i.CodeActionRequest.type,e,null)))},a=o.clientOptions.middleware;return a.provideCodeActions?a.provideCodeActions(e,t,r,n,s):s(e,t,r,n)},resolveCodeAction:e.resolveProvider?(e,t)=>{const r=this._client,n=this._client.clientOptions.middleware,o=(e,t)=>r.sendRequest(i.CodeActionResolveRequest.type,r.code2ProtocolConverter.asCodeAction(e),t).then(r.protocol2CodeConverter.asCodeAction,(t=>r.handleFailedRequest(i.CodeActionResolveRequest.type,t,e)));return n.resolveCodeAction?n.resolveCodeAction(e,t,o):o(e,t)}:void 0};return[n.languages.registerCodeActionsProvider(e.documentSelector,t,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),t]}}class W extends A{constructor(e){super(e,i.CodeLensRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"codeLens").dynamicRegistration=!0,b(b(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.CodeLensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()}));const r=this.getRegistrationOptions(t,e.codeLensProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t=new n.EventEmitter,r={onDidChangeCodeLenses:t.event,provideCodeLenses:(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(i.CodeLensRequest.type,r.code2ProtocolConverter.asCodeLensParams(e),t).then(r.protocol2CodeConverter.asCodeLenses,(e=>r.handleFailedRequest(i.CodeLensRequest.type,e,null))),o=r.clientOptions.middleware;return o.provideCodeLenses?o.provideCodeLenses(e,t,n):n(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(i.CodeLensResolveRequest.type,r.code2ProtocolConverter.asCodeLens(e),t).then(r.protocol2CodeConverter.asCodeLens,(t=>r.handleFailedRequest(i.CodeLensResolveRequest.type,t,e))),o=r.clientOptions.middleware;return o.resolveCodeLens?o.resolveCodeLens(e,t,n):n(e,t)}:void 0};return[n.languages.registerCodeLensProvider(e.documentSelector,r),{provider:r,onDidChangeCodeLensEmitter:t}]}}class H extends A{constructor(e){super(e,i.DocumentFormattingRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentFormattingProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentFormattingEdits:(e,t,r)=>{const n=this._client,o=(e,t,r)=>{const o={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),options:n.code2ProtocolConverter.asFormattingOptions(t,_.fromConfiguration(e))};return n.sendRequest(i.DocumentFormattingRequest.type,o,r).then(n.protocol2CodeConverter.asTextEdits,(e=>n.handleFailedRequest(i.DocumentFormattingRequest.type,e,null)))},s=n.clientOptions.middleware;return s.provideDocumentFormattingEdits?s.provideDocumentFormattingEdits(e,t,r,o):o(e,t,r)}};return[n.languages.registerDocumentFormattingEditProvider(e.documentSelector,t),t]}}class $ extends A{constructor(e){super(e,i.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentRangeFormattingEdits:(e,t,r,n)=>{const o=this._client,s=(e,t,r,n)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),options:o.code2ProtocolConverter.asFormattingOptions(r,_.fromConfiguration(e))};return o.sendRequest(i.DocumentRangeFormattingRequest.type,s,n).then(o.protocol2CodeConverter.asTextEdits,(e=>o.handleFailedRequest(i.DocumentRangeFormattingRequest.type,e,null)))},a=o.clientOptions.middleware;return a.provideDocumentRangeFormattingEdits?a.provideDocumentRangeFormattingEdits(e,t,r,n,s):s(e,t,r,n)}};return[n.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,t),t]}}class K extends A{constructor(e){super(e,i.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideOnTypeFormattingEdits:(e,t,r,n,o)=>{const s=this._client,a=(e,t,r,n,o)=>{let a={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),position:s.code2ProtocolConverter.asPosition(t),ch:r,options:s.code2ProtocolConverter.asFormattingOptions(n,_.fromConfiguration(e))};return s.sendRequest(i.DocumentOnTypeFormattingRequest.type,a,o).then(s.protocol2CodeConverter.asTextEdits,(e=>s.handleFailedRequest(i.DocumentOnTypeFormattingRequest.type,e,null)))},l=s.clientOptions.middleware;return l.provideOnTypeFormattingEdits?l.provideOnTypeFormattingEdits(e,t,r,n,o,a):a(e,t,r,n,o)}},r=e.moreTriggerCharacter||[];return[n.languages.registerOnTypeFormattingEditProvider(e.documentSelector,t,e.firstTriggerCharacter,...r),t]}}class V extends A{constructor(e){super(e,i.RenameRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=i.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.renameProvider);r&&(l.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:u.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){const t={provideRenameEdits:(e,t,r,n)=>{const o=this._client,s=(e,t,r,n)=>{let s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),position:o.code2ProtocolConverter.asPosition(t),newName:r};return o.sendRequest(i.RenameRequest.type,s,n).then(o.protocol2CodeConverter.asWorkspaceEdit,(e=>o.handleFailedRequest(i.RenameRequest.type,e,null)))},a=o.clientOptions.middleware;return a.provideRenameEdits?a.provideRenameEdits(e,t,r,n,s):s(e,t,r,n)},prepareRename:e.prepareProvider?(e,t,r)=>{const n=this._client,o=(e,t,r)=>{let o={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),position:n.code2ProtocolConverter.asPosition(t)};return n.sendRequest(i.PrepareRenameRequest.type,o,r).then((e=>i.Range.is(e)?n.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&i.Range.is(e.range)?{range:n.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))),(e=>n.handleFailedRequest(i.PrepareRenameRequest.type,e,void 0)))},s=n.clientOptions.middleware;return s.prepareRename?s.prepareRename(e,t,r,o):o(e,t,r)}:void 0};return[n.languages.registerRenameProvider(e.documentSelector,t),t]}isDefaultBehavior(e){const t=e;return t&&l.boolean(t.defaultBehavior)}}class J extends A{constructor(e){super(e,i.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=b(b(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const r=this.getRegistrationOptions(t,e.documentLinkProvider);r&&this.register({id:u.generateUuid(),registerOptions:r})}registerLanguageProvider(e){const t={provideDocumentLinks:(e,t)=>{const r=this._client,n=(e,t)=>r.sendRequest(i.DocumentLinkRequest.type,r.code2ProtocolConverter.asDocumentLinkParams(e),t).then(r.protocol2CodeConverter.asDocumentLinks,(e=>r.handleFailedRequest(i.DocumentLinkRequest.type,e,null))),o=r.clientOptions.middleware;return o.provideDocumentLinks?o.provideDocumentLinks(e,t,n):n(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const r=this._client;let n=(e,t)=>r.sendRequest(i.DocumentLinkResolveRequest.type,r.code2ProtocolConverter.asDocumentLink(e),t).then(r.protocol2CodeConverter.asDocumentLink,(t=>r.handleFailedRequest(i.DocumentLinkResolveRequest.type,t,e)));const o=r.clientOptions.middleware;return o.resolveDocumentLink?o.resolveDocumentLink(e,t,n):n(e,t)}:void 0};return[n.languages.registerDocumentLinkProvider(e.documentSelector,t),t]}}class X{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return i.DidChangeConfigurationNotification.type}fillClientCapabilities(e){b(b(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;void 0!==e&&this.register({id:u.generateUuid(),registerOptions:{section:e}})}register(e){let t=n.workspace.onDidChangeConfiguration((t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)}));this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let r;if(r=l.string(e)?[e]:e,void 0!==r&&void 0!==t&&!r.some((e=>t.affectsConfiguration(e))))return;let n=e=>{void 0!==e?this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)}):this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null})},o=this.getMiddleware();o?o(r,n):n(r)}extractSettingsInformation(e){function t(e,t){let r=e;for(let e=0;e<t.length-1;e++){let n=r[t[e]];n||(n=Object.create(null),r[t[e]]=n),r=n}return r}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let a=e[s],l=a.indexOf("."),c=null;if(c=l>=0?n.workspace.getConfiguration(a.substr(0,l),r).get(a.substr(l+1)):n.workspace.getConfiguration(void 0,r).get(a),c){let r=e[s].split(".");t(i,r)[r[r.length-1]]=o.toJSONObject(c)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;return e.workspace&&e.workspace.didChangeConfiguration?e.workspace.didChangeConfiguration:void 0}}class Y{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return i.ExecuteCommandRequest.type}fillClientCapabilities(e){b(b(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:u.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,r=t.clientOptions.middleware,o=(e,r)=>{let n={command:e,arguments:r};return t.sendRequest(i.ExecuteCommandRequest.type,n).then(void 0,(e=>t.handleFailedRequest(i.ExecuteCommandRequest.type,e,void 0)))};if(e.registerOptions.commands){const t=[];for(const i of e.registerOptions.commands)t.push(n.commands.registerCommand(i,((...e)=>r.executeCommand?r.executeCommand(i,e,o):o(i,e))));this._commands.set(e.id,t)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}dispose(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}(t.MessageTransports||(t.MessageTransports={})).is=function(e){return e&&i.MessageReader.is(e.reader)&&i.MessageWriter.is(e.writer)};class Z{constructor(e,t){this._resolve=e,this._reject=t,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}}class Q{constructor(e,t,r){var n;this._traceFormat=i.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=t;const o={isTrusted:!1};void 0!==(r=r||{}).markdown&&!0===r.markdown.isTrusted&&(o.isTrusted=!0),this._clientOptions={documentSelector:r.documentSelector||[],synchronize:r.synchronize||{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName||this._name,revealOutputChannelOn:r.revealOutputChannelOn||g.Error,stdioEncoding:r.stdioEncoding||"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler||this.createDefaultErrorHandler(null===(n=r.connectionOptions)||void 0===n?void 0:n.maxRestartCount),middleware:r.middleware||{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:o},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=v.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onReady=new Promise(((e,t)=>{this._onReadyCallbacks=new Z(e,t)})),this._onStop=void 0,this._telemetryEmitter=new i.Emitter,this._stateChangeEmitter=new i.Emitter,this._trace=i.Trace.Off,this._tracer={log:(e,t)=>{l.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=s.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=a.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let t=this.getPublicState();this._state=e;let r=this.getPublicState();r!==t&&this._stateChangeEmitter.fire({oldState:t,newState:r})}getPublicState(){return this.state===v.Running?m.Running:this.state===v.Starting?m.Starting:m.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${l.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,t)}catch(t){throw this.error(`Registering request handler ${l.string(e)?e:e.method} failed.`,t),t}}sendNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${l.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,t)}catch(t){throw this.error(`Registering notification handler ${l.string(e)?e:e.method} failed.`,t),t}}onProgress(e,t,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(i.WorkDoneProgress.is(e)){const n=this._clientOptions.middleware.handleWorkDoneProgress;if(void 0!==n)return this._resolvedConnection.onProgress(e,t,(e=>{n(t,e,(()=>r(e)))}))}return this._resolvedConnection.onProgress(e,t,r)}catch(e){throw this.error(`Registering progress handler for token ${t} failed.`,e),e}}sendProgress(e,t,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,t,r)}catch(e){throw this.error(`Sending progress for token ${t} failed.`,e),e}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=n.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new y(this._name,null!=e?e:4)}set trace(e){this._trace=e,this.onReady().then((()=>{this.resolveConnection().then((e=>{e.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}))}),(()=>{}))}data2String(e){if(e instanceof i.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?l.string(e.stack)?e.stack:e.message:l.string(e)?e:e.toString()}info(e,t,r=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),r&&this._clientOptions.revealOutputChannelOn<=g.Info&&this.showNotificationMessage()}warn(e,t,r=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),r&&this._clientOptions.revealOutputChannelOn<=g.Warn&&this.showNotificationMessage()}error(e,t,r=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),r&&this._clientOptions.revealOutputChannelOn<=g.Error&&this.showNotificationMessage()}showNotificationMessage(){n.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then((()=>{this.outputChannel.show(!0)}))}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===v.Initial||this.state===v.Stopping||this.state===v.Stopped}needsStop(){return this.state===v.Starting||this.state===v.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===v.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise(((e,t)=>{this._onReadyCallbacks=new Z(e,t)}))),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?n.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):n.languages.createDiagnosticCollection()),this.state=v.Starting,this.resolveConnection().then((e=>(e.onLogMessage((e=>{switch(e.type){case i.MessageType.Error:this.error(e.message,void 0,!1);break;case i.MessageType.Warning:this.warn(e.message,void 0,!1);break;case i.MessageType.Info:this.info(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}})),e.onShowMessage((e=>{switch(e.type){case i.MessageType.Error:n.window.showErrorMessage(e.message);break;case i.MessageType.Warning:n.window.showWarningMessage(e.message);break;case i.MessageType.Info:default:n.window.showInformationMessage(e.message)}})),e.onRequest(i.ShowMessageRequest.type,(e=>{let t;switch(e.type){case i.MessageType.Error:t=n.window.showErrorMessage;break;case i.MessageType.Warning:t=n.window.showWarningMessage;break;case i.MessageType.Info:default:t=n.window.showInformationMessage}let r=e.actions||[];return t(e.message,...r)})),e.onTelemetry((e=>{this._telemetryEmitter.fire(e)})),e.onRequest(i.ShowDocumentRequest.type,(async e=>{var t;const r=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external)return{success:await n.env.openExternal(t)};{const r={};return void 0!==e.selection&&(r.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?r.preserveFocus=!0:!0===e.takeFocus&&(r.preserveFocus=!1),await n.window.showTextDocument(t,r),{success:!0}}}catch(e){return{success:!0}}},i=null===(t=this._clientOptions.middleware.window)||void 0===t?void 0:t.showDocument;return void 0!==i?i(e,r):r(e)})),e.listen(),this.initialize(e)))).then(void 0,(e=>{this.state=v.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),n.window.showErrorMessage(`Couldn't start client ${this._name}`)})),new n.Disposable((()=>{this.needsStop()&&this.stop()}))}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,r=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),o={processId:null,clientInfo:{name:n.env.appName,version:n.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(n.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:l.func(t)?t():t,trace:i.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){const t=u.generateUuid(),r=new d.ProgressPart(e,t);return o.workDoneToken=t,this.doInitialize(e,o).then((e=>(r.done(),e)),(e=>{throw r.cancel(),e}))}return this.doInitialize(e,o)}doInitialize(e,t){return e.initialize(t).then((t=>{let r;return this._resolvedConnection=e,this._initializeResult=t,this.state=v.Running,l.number(t.capabilities.textDocumentSync)?r=t.capabilities.textDocumentSync===i.TextDocumentSyncKind.None?{openClose:!1,change:i.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:t.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==t.capabilities.textDocumentSync&&null!==t.capabilities.textDocumentSync&&(r=t.capabilities.textDocumentSync),this._capabilities=Object.assign({},t.capabilities,{resolvedTextDocumentSync:r}),e.onDiagnostics((e=>this.handleDiagnostics(e))),e.onRequest(i.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(i.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(i.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e))),e.sendNotification(i.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),t})).then(void 0,(t=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t)):t instanceof i.ResponseError&&t.data&&t.data.retry?n.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((r=>{r&&"retry"===r.id?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t))})):(t&&t.message&&n.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop(),this._onReadyCallbacks.reject(t)),t}))}_clientGetRootPath(){let e=n.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===v.Stopping&&this._onStop?this._onStop:(this.state=v.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then((e=>e.shutdown().then((()=>{e.exit(),e.end(),e.dispose(),this.state=v.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))))):(this.state=v.Stopped,Promise.resolve())}cleanUp(e=!0,t=!0){this._listeners&&(this._listeners.forEach((e=>e.dispose())),this._listeners=void 0),this._providers&&(this._providers.forEach((e=>e.dispose())),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(const e of this._features.values())e.dispose();e&&this.cleanUpChannel(),t&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var t;const r=this;function n(e){r._fileEvents.push(e),r._fileEventDelayer.trigger((()=>{r.onReady().then((()=>{r.resolveConnection().then((e=>{r.isConnectionActive()&&(r.forceDocumentSync(),e.didChangeWatchedFiles({changes:r._fileEvents})),r._fileEvents=[]}))}),(e=>{r.error("Notify file events failed.",e)}))}))}const i=null===(t=this.clientOptions.middleware)||void 0===t?void 0:t.workspace;(null==i?void 0:i.didChangeWatchedFile)?i.didChangeWatchedFile(e,n):n(e)}forceDocumentSync(){void 0===this._didChangeTextDocumentFeature&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(i.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=this._p2c.asUri(e.uri),r=this._p2c.asDiagnostics(e.diagnostics),n=this.clientOptions.middleware;n.handleDiagnostics?n.handleDiagnostics(t,r,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(t,r)}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}createConnection(){let e=(e,t,r)=>{this.handleConnectionError(e,t,r)},t=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then((r=>function(e,t,r,n,o){let s=new h,a=i.createProtocolConnection(e,t,s,o);return a.onError((e=>{r(e[0],e[1],e[2])})),a.onClose(n),{listen:()=>a.listen(),sendRequest:(e,...t)=>a.sendRequest(l.string(e)?e:e.method,...t),onRequest:(e,t)=>a.onRequest(l.string(e)?e:e.method,t),sendNotification:(e,t)=>a.sendNotification(l.string(e)?e:e.method,t),onNotification:(e,t)=>a.onNotification(l.string(e)?e:e.method,t),onProgress:a.onProgress,sendProgress:a.sendProgress,trace:(e,t,r)=>{const n={sendNotification:!1,traceFormat:i.TraceFormat.Text};void 0===r?a.trace(e,t,n):(l.boolean(r),a.trace(e,t,r))},initialize:e=>a.sendRequest(i.InitializeRequest.type,e),shutdown:()=>a.sendRequest(i.ShutdownRequest.type,void 0),exit:()=>a.sendNotification(i.ExitNotification.type),onLogMessage:e=>a.onNotification(i.LogMessageNotification.type,e),onShowMessage:e=>a.onNotification(i.ShowMessageNotification.type,e),onTelemetry:e=>a.onNotification(i.TelemetryEventNotification.type,e),didChangeConfiguration:e=>a.sendNotification(i.DidChangeConfigurationNotification.type,e),didChangeWatchedFiles:e=>a.sendNotification(i.DidChangeWatchedFilesNotification.type,e),didOpenTextDocument:e=>a.sendNotification(i.DidOpenTextDocumentNotification.type,e),didChangeTextDocument:e=>a.sendNotification(i.DidChangeTextDocumentNotification.type,e),didCloseTextDocument:e=>a.sendNotification(i.DidCloseTextDocumentNotification.type,e),didSaveTextDocument:e=>a.sendNotification(i.DidSaveTextDocumentNotification.type,e),onDiagnostics:e=>a.onNotification(i.PublishDiagnosticsNotification.type,e),end:()=>a.end(),dispose:()=>a.dispose()}}(r.reader,r.writer,e,t,this._clientOptions.connectionOptions)))}handleConnectionClosed(){if(this.state===v.Stopping||this.state===v.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch(e){}let e=f.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===f.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===v.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=v.StartFailed):this.state=v.Stopped,this.cleanUp(!1,!0)):e===f.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=v.Initial,this.start())}handleConnectionError(e,t,r){this._clientOptions.errorHandler.error(e,t,r)===p.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){n.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let r=n.workspace.getConfiguration(this._id),o=i.Trace.Off,s=i.TraceFormat.Text;if(r){const e=r.get("trace.server","off");"string"==typeof e?o=i.Trace.fromString(e):(o=i.Trace.fromString(r.get("trace.server.verbosity","off")),s=i.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=o,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat})}hookFileEvents(e){let t,r=this._clientOptions.synchronize.fileEvents;r&&(t=l.array(r)?r:[r],t&&this._dynamicFeatures.get(i.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),w.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new X(this)),this.registerFeature(new E(this,this._syncedDocuments)),this.registerFeature(new k(this)),this.registerFeature(new D(this)),this.registerFeature(new O(this)),this.registerFeature(new I(this)),this.registerFeature(new P(this,this._syncedDocuments)),this.registerFeature(new M(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new N(this)),this.registerFeature(new j(this)),this.registerFeature(new F(this)),this.registerFeature(new L(this)),this.registerFeature(new B(this)),this.registerFeature(new G(this)),this.registerFeature(new q(this)),this.registerFeature(new U(this)),this.registerFeature(new z(this)),this.registerFeature(new W(this)),this.registerFeature(new H(this)),this.registerFeature(new $(this)),this.registerFeature(new K(this)),this.registerFeature(new V(this)),this.registerFeature(new J(this)),this.registerFeature(new Y(this))}fillInitializeParams(e){for(let t of this._features)l.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};b(e,"workspace").applyEdit=!0;const t=b(b(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[i.ResourceOperationKind.Create,i.ResourceOperationKind.Rename,i.ResourceOperationKind.Delete],t.failureHandling=i.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};const r=b(b(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[i.DiagnosticTag.Unnecessary,i.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;const n=b(e,"window");b(n,"showMessage").messageActionItem={additionalPropertiesSupport:!0},b(n,"showDocument").support=!0;const o=b(e,"general");o.regularExpressions={engine:"ECMAScript",version:"ES2020"},o.markdown={parser:"marked",version:"1.1.0"};for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let e of this._features)e.initialize(this._capabilities,t)}handleRegistrationRequest(e){return new Promise(((t,r)=>{for(const t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(void 0===e)return void r(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const n=t.registerOptions||{};n.documentSelector=n.documentSelector||this._clientOptions.documentSelector;const i={id:t.id,registerOptions:n};try{e.register(i)}catch(e){return void r(e)}}t()}))}handleUnregistrationRequest(e){return new Promise(((t,r)=>{for(let t of e.unregisterations){const e=this._dynamicFeatures.get(t.method);if(!e)return void r(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}t()}))}handleApplyWorkspaceEdit(e){let t=e.edit,r=new Map;n.workspace.textDocuments.forEach((e=>r.set(e.uri.toString(),e)));let o=!1;if(t.documentChanges)for(const e of t.documentChanges)if(i.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){let t=r.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){o=!0;break}}return o?Promise.resolve({applied:!1}):l.asPromise(n.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then((e=>({applied:e}))))}handleFailedRequest(e,t,r){if(t instanceof i.ResponseError){if(t.code===i.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(t.code===i.LSPErrorCodes.ContentModified)return r}throw this.error(`Request ${e.method} failed.`,t),t}makeCancelError(){const e=new Error(Q.Canceled);return e.name=Q.Canceled,e}}t.BaseLanguageClient=Q,Q.Canceled="Canceled"},1798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const n=r(1398),i=r(7354),o=r(8319),s=r(7652),a=r(5588),l=r(7424),c=r(9206),u=r(7894),d=r(8717),h=r(7354);var p;!function(e){e.is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing}}(p||(p={})),t.createConverter=function(e){const t=e||(e=>e.toString());function r(e){return t(e)}function f(e){return{uri:t(e.uri)}}function g(e){switch(e){case n.TextDocumentSaveReason.Manual:return i.TextDocumentSaveReason.Manual;case n.TextDocumentSaveReason.AfterDelay:return i.TextDocumentSaveReason.AfterDelay;case n.TextDocumentSaveReason.FocusOut:return i.TextDocumentSaveReason.FocusOut}return i.TextDocumentSaveReason.Manual}function m(e){switch(e){case n.CompletionTriggerKind.TriggerCharacter:return i.CompletionTriggerKind.TriggerCharacter;case n.CompletionTriggerKind.TriggerForIncompleteCompletions:return i.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return i.CompletionTriggerKind.Invoked}}function v(e){switch(e){case n.SignatureHelpTriggerKind.Invoke:return i.SignatureHelpTriggerKind.Invoked;case n.SignatureHelpTriggerKind.TriggerCharacter:return i.SignatureHelpTriggerKind.TriggerCharacter;case n.SignatureHelpTriggerKind.ContentChange:return i.SignatureHelpTriggerKind.ContentChange}}function y(e){return{label:e.label}}function C(e){return{label:e.label,parameters:(t=e.parameters,t.map(y))};var t}function S(e){return{line:e.line,character:e.character}}function T(e){return null==e?e:{line:e.line,character:e.character}}function b(e){return null==e?e:{start:T(e.start),end:T(e.end)}}function _(e){return null==e?e:i.Location.create(r(e.uri),b(e.range))}function w(e){switch(e){case n.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case n.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case n.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case n.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}}function R(e){switch(e){case n.DiagnosticTag.Unnecessary:return i.DiagnosticTag.Unnecessary;case n.DiagnosticTag.Deprecated:return i.DiagnosticTag.Deprecated;default:return}}function E(e){return{message:e.message,location:_(e.location)}}function P(e){const t=i.Diagnostic.create(b(e.range),e.message),n=e instanceof u.ProtocolDiagnostic?e:void 0;void 0!==n&&void 0!==n.data&&(t.data=n.data);const s=function(e){if(null!=e)return o.number(e)||o.string(e)?e:{value:e.value,target:r(e.target)}}(e.code);return u.DiagnosticCode.is(s)?void 0!==n&&n.hasDiagnosticCode?t.code=s:(t.code=s.value,t.codeDescription={href:s.target}):t.code=s,o.number(e.severity)&&(t.severity=w(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let r of e){let e=R(r);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(E)),e.source&&(t.source=e.source),t}function k(e){return null==e?e:e.map(P)}function D(e){if(e===n.CompletionItemTag.Deprecated)return i.CompletionItemTag.Deprecated}function O(e){return{range:b(e.range),newText:e.newText}}function I(e){return e<=n.SymbolKind.TypeParameter?e+1:i.SymbolKind.Property}function M(e){return e}function A(e){return e.map(M)}function x(e){let t=i.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}return{asUri:r,asTextDocumentIdentifier:f,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let r=e.document;return{textDocument:{uri:t(r.uri),version:r.version},contentChanges:e.contentChanges.map((e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:f(e)}},asSaveTextDocumentParams:function(e,t=!1){let r={textDocument:f(e)};return t&&(r.text=e.getText()),r},asWillSaveTextDocumentParams:function(e){return{textDocument:f(e.document),reason:g(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asDidRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asTextDocumentPositionParams:function(e,t){return{textDocument:f(e),position:S(t)}},asCompletionParams:function(e,t,r){return{textDocument:f(e),position:S(t),context:{triggerKind:m(r.triggerKind),triggerCharacter:r.triggerCharacter}}},asSignatureHelpParams:function(e,t,r){return{textDocument:f(e),position:S(t),context:{isRetrigger:r.isRetrigger,triggerCharacter:r.triggerCharacter,triggerKind:v(r.triggerKind),activeSignatureHelp:(n=r.activeSignatureHelp,void 0===n?n:{signatures:(i=n.signatures,i.map(C)),activeSignature:n.activeSignature,activeParameter:n.activeParameter})}};var n,i},asWorkerPosition:S,asRange:b,asPosition:T,asPositions:function(e){let t=[];for(let r of e)t.push(T(r));return t},asLocation:_,asDiagnosticSeverity:w,asDiagnosticTag:R,asDiagnostic:P,asDiagnostics:k,asCompletionItem:function(e){let t={label:e.label},r=e instanceof s.default?e:void 0;var a,l,c;e.detail&&(t.detail=e.detail),e.documentation&&(r&&"$string"!==r.documentationFormat?t.documentation=function(e,t){switch(e){case"$string":return t;case i.MarkupKind.PlainText:return{kind:e,value:t};case i.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(r.documentationFormat,e.documentation):t.documentation=e.documentation),e.filterText&&(t.filterText=e.filterText),function(e,t){let r,o,s=i.InsertTextFormat.PlainText;t.textEdit?(r=t.textEdit.newText,o=t.textEdit.range):t.insertText instanceof n.SnippetString?(s=i.InsertTextFormat.Snippet,r=t.insertText.value):r=t.insertText,t.range&&(o=t.range),e.insertTextFormat=s,t.fromEdit&&void 0!==r&&void 0!==o?e.textEdit=function(e,t){return p.is(t)?i.InsertReplaceEdit.create(e,b(t.inserting),b(t.replacing)):{newText:e,range:b(t)}}(r,o):e.insertText=r}(t,e),o.number(e.kind)&&(t.kind=(a=e.kind,void 0!==(l=r&&r.originalItemKind)?l:a+1)),e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=null==(c=e.additionalTextEdits)?c:c.map(O)),e.commitCharacters&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=x(e.command)),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect);const u=function(e){if(void 0===e)return e;const t=[];for(let r of e){const e=D(r);void 0!==e&&t.push(e)}return t}(e.tags);if(r){if(void 0!==r.data&&(t.data=r.data),!0===r.deprecated||!1===r.deprecated){if(!0===r.deprecated&&void 0!==u&&u.length>0){const e=u.indexOf(n.CompletionItemTag.Deprecated);-1!==e&&u.splice(e,1)}t.deprecated=r.deprecated}void 0!==r.insertTextMode&&(t.insertTextMode=r.insertTextMode)}return void 0!==u&&u.length>0&&(t.tags=u),void 0===t.insertTextMode&&!0===e.keepWhitespace&&(t.insertTextMode=h.InsertTextMode.adjustIndentation),t},asTextEdit:O,asSymbolKind:I,asSymbolTag:M,asSymbolTags:A,asReferenceParams:function(e,t,r){return{textDocument:f(e),position:S(t),context:{includeDeclaration:r.includeDeclaration}}},asCodeAction:function(e){let t=i.CodeAction.create(e.title);if(e instanceof c.default&&void 0!==e.data&&(t.data=e.data),void 0!==e.kind&&(t.kind=function(e){if(null!=e)return e.value}(e.kind)),void 0!==e.diagnostics&&(t.diagnostics=k(e.diagnostics)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(t.command=x(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),void 0!==e.disabled&&(t.disabled={reason:e.disabled.reason}),t},asCodeActionContext:function(e){if(null==e)return e;let t;return e.only&&o.string(e.only.value)&&(t=[e.only.value]),i.CodeActionContext.create(k(e.diagnostics),t)},asCommand:x,asCodeLens:function(e){let t=i.CodeLens.create(b(e.range));return e.command&&(t.command=x(e.command)),e instanceof a.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const r={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(r.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(r.trimFinalNewlines=!0),t.insertFinalNewline&&(r.insertFinalNewline=!0),r},asDocumentSymbolParams:function(e){return{textDocument:f(e)}},asCodeLensParams:function(e){return{textDocument:f(e)}},asDocumentLink:function(e){let t=i.DocumentLink.create(b(e.range));e.target&&(t.target=r(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);let n=e instanceof l.default?e:void 0;return n&&n.data&&(t.data=n.data),t},asDocumentLinkParams:function(e){return{textDocument:f(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:I(e.kind),uri:r(e.uri),range:b(e.range),selectionRange:b(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=A(e.tags)),e instanceof d.default&&void 0!==e.data&&(t.data=e.data),t}}}},3515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;const n=r(1398),i=r(7354),o=r(9538);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends o.TextDocumentFeature{constructor(e){super(e,i.DocumentColorRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.colorProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideColorPresentations:(e,t,r)=>{const n=this._client,o=(e,t,r)=>{const o={color:e,textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:n.code2ProtocolConverter.asRange(t.range)};return n.sendRequest(i.ColorPresentationRequest.type,o,r).then(this.asColorPresentations.bind(this),(e=>n.handleFailedRequest(i.ColorPresentationRequest.type,e,null)))},s=n.clientOptions.middleware;return s.provideColorPresentations?s.provideColorPresentations(e,t,r,o):o(e,t,r)},provideDocumentColors:(e,t)=>{const r=this._client,n=(e,t)=>{const n={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(i.DocumentColorRequest.type,n,t).then(this.asColorInformations.bind(this),(e=>r.handleFailedRequest(i.ColorPresentationRequest.type,e,null)))},o=r.clientOptions.middleware;return o.provideDocumentColors?o.provideDocumentColors(e,t,n):n(e,t)}};return[n.languages.registerColorProvider(e.documentSelector,t),t]}asColor(e){return new n.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map((e=>new n.ColorInformation(this._client.protocol2CodeConverter.asRange(e.range),this.asColor(e.color)))):[]}asColorPresentations(e){return Array.isArray(e)?e.map((e=>{let t=new n.ColorPresentation(e.label);return t.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(e.additionalTextEdits),t.textEdit=this._client.protocol2CodeConverter.asTextEdit(e.textEdit),t})):[]}}t.ColorProviderFeature=a},3779:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.CommonLanguageClient=void 0;const n=r(9538),i=r(3515),o=r(5199),s=r(191),a=r(5432),l=r(43),c=r(3963),u=r(7061),d=r(6258),h=r(9870),p=r(490),f=r(7691),g=r(2485),m=r(4913);class v extends n.BaseLanguageClient{constructor(e,t,r){super(e,t,r)}registerProposedFeatures(){this.registerFeatures(y.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new o.ConfigurationFeature(this)),this.registerFeature(new a.TypeDefinitionFeature(this)),this.registerFeature(new s.ImplementationFeature(this)),this.registerFeature(new i.ColorProviderFeature(this)),this.registerFeature(new l.WorkspaceFoldersFeature(this)),this.registerFeature(new c.FoldingRangeFeature(this)),this.registerFeature(new u.DeclarationFeature(this)),this.registerFeature(new d.SelectionRangeFeature(this)),this.registerFeature(new h.ProgressFeature(this)),this.registerFeature(new p.CallHierarchyFeature(this)),this.registerFeature(new f.SemanticTokensFeature(this)),this.registerFeature(new m.LinkedEditingFeature(this)),this.registerFeature(new g.DidCreateFilesFeature(this)),this.registerFeature(new g.DidRenameFilesFeature(this)),this.registerFeature(new g.DidDeleteFilesFeature(this)),this.registerFeature(new g.WillCreateFilesFeature(this)),this.registerFeature(new g.WillRenameFilesFeature(this)),this.registerFeature(new g.WillDeleteFilesFeature(this))}}var y;t.CommonLanguageClient=v,function(e){e.createAll=function(e){return[]}}(y=t.ProposedFeatures||(t.ProposedFeatures={}))},5199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toJSONObject=t.ConfigurationFeature=void 0;const n=r(1398),i=r(7354);function o(e){if(e){if(Array.isArray(e))return e.map(o);if("object"==typeof e){const t=Object.create(null);for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=o(e[r]));return t}}return e}t.ConfigurationFeature=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(i.ConfigurationRequest.type,((t,r)=>{let n=e=>{let t=[];for(let r of e.items){let e=void 0!==r.scopeUri&&null!==r.scopeUri?this._client.protocol2CodeConverter.asUri(r.scopeUri):void 0;t.push(this.getConfiguration(e,null!==r.section?r.section:void 0))}return t},i=e.clientOptions.middleware.workspace;return i&&i.configuration?i.configuration(t,r,n):n(t)}))}getConfiguration(e,t){let r=null;if(t){let i=t.lastIndexOf(".");if(-1===i)r=o(n.workspace.getConfiguration(void 0,e).get(t));else{let s=n.workspace.getConfiguration(t.substr(0,i),e);s&&(r=o(s.get(t.substr(i+1))))}}else{let t=n.workspace.getConfiguration(void 0,e);r={};for(let e of Object.keys(t))t.has(e)&&(r[e]=o(t.get(e)))}return void 0===r&&(r=null),r}dispose(){}},t.toJSONObject=o},7061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;const n=r(1398),i=r(7354),o=r(9538);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends o.TextDocumentFeature{constructor(e){super(e,i.DeclarationRequest.type)}fillClientCapabilities(e){const t=s(s(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[r,n]=this.getRegistration(t,e.declarationProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideDeclaration:(e,t,r)=>{const n=this._client,o=(e,t,r)=>n.sendRequest(i.DeclarationRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDeclarationResult,(e=>n.handleFailedRequest(i.DeclarationRequest.type,e,null))),s=n.clientOptions.middleware;return s.provideDeclaration?s.provideDeclaration(e,t,r,o):o(e,t,r)}};return[n.languages.registerDeclarationProvider(e.documentSelector,t),t]}}t.DeclarationFeature=a},2485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;const n=r(1398),i=r(6045),o=r(7354),s=r(9032);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function l(e,t,r){e[t]=r}class c{constructor(e,t,r,n,i){this._filters=new Map,this._client=e,this._event=t,this._registrationType=r,this._clientCapability=n,this._serverCapability=i}get registrationType(){return this._registrationType}fillClientCapabilities(e){const t=a(a(e,"workspace"),"fileOperations");l(t,"dynamicRegistration",!0),l(t,this._clientCapability,!0)}initialize(e){var t;const r=null===(t=e.workspace)||void 0===t?void 0:t.fileOperations,n=void 0!==r?r[this._serverCapability]:void 0;if(void 0!==(null==n?void 0:n.filters))try{this.register({id:s.generateUuid(),registerOptions:{filters:n.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));const t=e.registerOptions.filters.map((e=>{const t=new i.Minimatch(e.pattern.glob,c.asMinimatchOptions(e.pattern.options));if(!t.makeRe())throw new Error(`Invalid pattern ${e.pattern.glob}!`);return{scheme:e.scheme,matcher:t,kind:e.pattern.matches}}));this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(e,t){const r=await Promise.all(e.files.map((async e=>{const r=t(e),i=r.fsPath.replace(/\\/g,"/");for(const e of this._filters.values())for(const t of e)if(void 0===t.scheme||t.scheme===r.scheme)if(t.matcher.match(i)){if(void 0===t.kind)return!0;const e=await c.getFileType(r);if(void 0===e)return this._client.error(`Failed to determine file type for ${r.toString()}.`),!0;if(e===n.FileType.File&&t.kind===o.FileOperationPatternKind.file||e===n.FileType.Directory&&t.kind===o.FileOperationPatternKind.folder)return!0}else if(t.kind===o.FileOperationPatternKind.folder&&await c.getFileType(r)===n.FileType.Directory&&t.matcher.match(`${i}/`))return!0;return!1}))),i=e.files.filter(((e,t)=>r[t]));return Object.assign(Object.assign({},e),{files:i})}static async getFileType(e){try{return(await n.workspace.fs.stat(e)).type}catch(e){return}}static asMinimatchOptions(e){if(void 0!==e)return!0===e.ignoreCase?{nocase:!0}:void 0}}class u extends c{constructor(e,t,r,n,i,o,s){super(e,t,r,n,i),this._notificationType=r,this._accessUri=o,this._createParams=s}async send(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=async e=>{this._client.sendNotification(this._notificationType,this._createParams(e))};this.doSend(t,e)}}}t.DidCreateFilesFeature=class extends u{constructor(e){super(e,n.workspace.onDidCreateFiles,o.DidCreateFilesNotification.type,"didCreate","didCreate",(e=>e),e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.didCreateFiles)?n.didCreateFiles(e,t):t(e)}},t.DidRenameFilesFeature=class extends u{constructor(e){super(e,n.workspace.onDidRenameFiles,o.DidRenameFilesNotification.type,"didRename","didRename",(e=>e.oldUri),e.code2ProtocolConverter.asDidRenameFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.didRenameFiles)?n.didRenameFiles(e,t):t(e)}},t.DidDeleteFilesFeature=class extends u{constructor(e){super(e,n.workspace.onDidDeleteFiles,o.DidDeleteFilesNotification.type,"didDelete","didDelete",(e=>e),e.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.didDeleteFiles)?n.didDeleteFiles(e,t):t(e)}};class d extends c{constructor(e,t,r,n,i,o,s){super(e,t,r,n,i),this._requestType=r,this._accessUri=o,this._createParams=s}async send(e){const t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=e=>this._client.sendRequest(this._requestType,this._createParams(e)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,e)}}}t.WillCreateFilesFeature=class extends d{constructor(e){super(e,n.workspace.onWillCreateFiles,o.WillCreateFilesRequest.type,"willCreate","willCreate",(e=>e),e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.willCreateFiles)?n.willCreateFiles(e,t):t(e)}},t.WillRenameFilesFeature=class extends d{constructor(e){super(e,n.workspace.onWillRenameFiles,o.WillRenameFilesRequest.type,"willRename","willRename",(e=>e.oldUri),e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.willRenameFiles)?n.willRenameFiles(e,t):t(e)}},t.WillDeleteFilesFeature=class extends d{constructor(e){super(e,n.workspace.onWillDeleteFiles,o.WillDeleteFilesRequest.type,"willDelete","willDelete",(e=>e),e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){var r;const n=null===(r=this._client.clientOptions.middleware)||void 0===r?void 0:r.workspace;return(null==n?void 0:n.willDeleteFiles)?n.willDeleteFiles(e,t):t(e)}}},3963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;const n=r(1398),i=r(7354),o=r(9538);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends o.TextDocumentFeature{constructor(e){super(e,i.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=s(s(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.foldingRangeProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideFoldingRanges:(e,t,r)=>{const n=this._client,o=(e,t,r)=>{const o={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(i.FoldingRangeRequest.type,o,r).then(a.asFoldingRanges,(e=>n.handleFailedRequest(i.FoldingRangeRequest.type,e,null)))},s=n.clientOptions.middleware;return s.provideFoldingRanges?s.provideFoldingRanges(e,t,r,o):o(e,0,r)}};return[n.languages.registerFoldingRangeProvider(e.documentSelector,t),t]}static asFoldingRangeKind(e){if(e)switch(e){case i.FoldingRangeKind.Comment:return n.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return n.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return n.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map((e=>new n.FoldingRange(e.startLine,e.endLine,a.asFoldingRangeKind(e.kind)))):[]}}t.FoldingRangeFeature=a},191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;const n=r(1398),i=r(7354),o=r(9538);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends o.TextDocumentFeature{constructor(e){super(e,i.ImplementationRequest.type)}fillClientCapabilities(e){let t=s(s(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.implementationProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideImplementation:(e,t,r)=>{const n=this._client,o=(e,t,r)=>n.sendRequest(i.ImplementationRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDefinitionResult,(e=>n.handleFailedRequest(i.ImplementationRequest.type,e,null))),s=n.clientOptions.middleware;return s.provideImplementation?s.provideImplementation(e,t,r,o):o(e,t,r)}};return[n.languages.registerImplementationProvider(e.documentSelector,t),t]}}t.ImplementationFeature=a},4913:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;const n=r(1398),i=r(7354),o=r(9538);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends o.TextDocumentFeature{constructor(e){super(e,i.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.linkedEditingRangeProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideLinkedEditingRanges:(e,t,r)=>{const n=this._client,o=(e,t,r)=>n.sendRequest(i.LinkedEditingRangeRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asLinkedEditingRanges,(e=>n.handleFailedRequest(i.LinkedEditingRangeRequest.type,e,null))),s=n.clientOptions.middleware;return s.provideLinkedEditingRange?s.provideLinkedEditingRange(e,t,r,o):o(e,t,r)}};return[n.languages.registerLinkedEditingRangeProvider(e.documentSelector,t),t]}}t.LinkedEditingFeature=a},9870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;const n=r(7354),i=r(9403);t.ProgressFeature=class{constructor(e){this._client=e,this.activeParts=new Set}fillClientCapabilities(e){var t,r;(t=e,r="window",void 0===t[r]&&(t[r]=Object.create(null)),t[r]).workDoneProgress=!0}initialize(){const e=this._client,t=e=>{this.activeParts.delete(e)};e.onRequest(n.WorkDoneProgressCreateRequest.type,(e=>{this.activeParts.add(new i.ProgressPart(this._client,e.token,t))}))}dispose(){for(const e of this.activeParts)e.done();this.activeParts.clear()}}},9403:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;const n=r(1398),i=r(7354),o=r(8319);t.ProgressPart=class{constructor(e,t,r){this._client=e,this._token=t,this._reported=0,this._disposable=this._client.onProgress(i.WorkDoneProgress.type,this._token,(e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),r&&r(this)}}))}begin(e){n.window.withProgress({location:n.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(async(t,r)=>(this._progress=t,this._infinite=void 0===e.percentage,this._cancellationToken=r,this._cancellationToken.onCancellationRequested((()=>{this._client.sendNotification(i.WorkDoneProgressCancelNotification.type,{token:this._token})})),this.report(e),new Promise(((e,t)=>{this._resolve=e,this._reject=t})))))}report(e){if(this._infinite&&o.string(e.message))this._progress.report({message:e.message});else if(o.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,t-this._reported);this._progress.report({message:e.message,increment:r}),this._reported+=r}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}}},8717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1398);class i extends n.CallHierarchyItem{constructor(e,t,r,n,i,o,s){super(e,t,r,n,i,o),void 0!==s&&(this.data=s)}}t.default=i},9206:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1398);class i extends n.CodeAction{constructor(e,t){super(e),this.data=t}}t.default=i},5588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1398);class i extends n.CodeLens{constructor(e){super(e)}}t.default=i},7652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1398);class i extends n.CompletionItem{constructor(e){super(e)}}t.default=i},7605:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const n=r(1398),i=r(7354),o=r(8319),s=r(7652),a=r(5588),l=r(7424),c=r(9206),u=r(7894),d=r(8717),h=r(7354);var p;!function(e){e.is=function(e){let t=e;return t&&o.string(t.language)&&o.string(t.value)}}(p||(p={})),t.createConverter=function(e,t){const r=e||(e=>n.Uri.parse(e));function f(e){return r(e)}function g(e){return e.map(m)}function m(e){let t=new u.ProtocolDiagnostic(S(e.range),e.message,b(e.severity),e.data);return void 0!==e.code&&(i.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:f(e.codeDescription.href)}:u.DiagnosticCode.is(e.code)?(t.hasDiagnosticCode=!0,t.code={value:e.code.value,target:f(e.code.target)}):t.code=e.code),e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(v)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let r of e){let e=y(r);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function v(e){return new n.DiagnosticRelatedInformation(x(e.location),e.message)}function y(e){switch(e){case i.DiagnosticTag.Unnecessary:return n.DiagnosticTag.Unnecessary;case i.DiagnosticTag.Deprecated:return n.DiagnosticTag.Deprecated;default:return}}function C(e){if(e)return new n.Position(e.line,e.character)}function S(e){if(e)return new n.Range(C(e.start),C(e.end))}function T(e){return e.map((e=>S(e)))}function b(e){if(null==e)return n.DiagnosticSeverity.Error;switch(e){case i.DiagnosticSeverity.Error:return n.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return n.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return n.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return n.DiagnosticSeverity.Hint}return n.DiagnosticSeverity.Error}function _(e){if(o.string(e))return e;switch(e.kind){case i.MarkupKind.Markdown:return w(e.value);case i.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function w(e){const r=new n.MarkdownString(e);return!0===t&&(r.isTrusted=t),r}function R(e){if(e===i.CompletionItemTag.Deprecated)return n.CompletionItemTag.Deprecated}function E(e){let t=function(e){if(null==e)return[];const t=[];for(let r of e){const e=R(r);void 0!==e&&t.push(e)}return t}(e.tags),r=new s.default(e.label);e.detail&&(r.detail=e.detail),e.documentation&&(r.documentation=_(e.documentation),r.documentationFormat=o.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(r.filterText=e.filterText);let a=function(e){return e.textEdit?e.insertTextFormat===i.InsertTextFormat.Snippet?{text:new n.SnippetString(e.textEdit.newText),range:P(e.textEdit),fromEdit:!0}:{text:e.textEdit.newText,range:P(e.textEdit),fromEdit:!0}:e.insertText?e.insertTextFormat===i.InsertTextFormat.Snippet?{text:new n.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0}(e);if(a&&(r.insertText=a.text,r.range=a.range,r.fromEdit=a.fromEdit),o.number(e.kind)){let[t,o]=(l=e.kind,i.CompletionItemKind.Text<=l&&l<=i.CompletionItemKind.TypeParameter?[l-1,void 0]:[n.CompletionItemKind.Text,l]);r.kind=t,o&&(r.originalItemKind=o)}var l;return e.sortText&&(r.sortText=e.sortText),e.additionalTextEdits&&(r.additionalTextEdits=D(e.additionalTextEdits)),o.stringArray(e.commitCharacters)&&(r.commitCharacters=e.commitCharacters.slice()),e.command&&(r.command=H(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(r.deprecated=e.deprecated,!0===e.deprecated&&t.push(n.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(r.preselect=e.preselect),void 0!==e.data&&(r.data=e.data),t.length>0&&(r.tags=t),void 0!==e.insertTextMode&&(r.insertTextMode=e.insertTextMode,e.insertTextMode===h.InsertTextMode.asIs&&(r.keepWhitespace=!0)),r}function P(e){return i.InsertReplaceEdit.is(e)?{inserting:S(e.insert),replacing:S(e.replace)}:S(e.range)}function k(e){if(e)return new n.TextEdit(S(e.range),e.newText)}function D(e){if(e)return e.map(k)}function O(e){return e.map(I)}function I(e){let t=new n.SignatureInformation(e.label);return void 0!==e.documentation&&(t.documentation=_(e.documentation)),void 0!==e.parameters&&(t.parameters=M(e.parameters)),void 0!==e.activeParameter&&(t.activeParameter=e.activeParameter),t}function M(e){return e.map(A)}function A(e){let t=new n.ParameterInformation(e.label);return e.documentation&&(t.documentation=_(e.documentation)),t}function x(e){if(e)return new n.Location(r(e.uri),S(e.range))}function N(e){if(!e)return;let t={targetUri:r(e.targetUri),targetRange:S(e.targetRange),originSelectionRange:S(e.originSelectionRange),targetSelectionRange:S(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}function j(e){if(e)return o.array(e)?0===e.length?[]:i.LocationLink.is(e[0])?e.map((e=>N(e))):e.map((e=>x(e))):i.LocationLink.is(e)?[N(e)]:x(e)}function F(e){let t=new n.DocumentHighlight(S(e.range));return o.number(e.kind)&&(t.kind=L(e.kind)),t}function L(e){switch(e){case i.DocumentHighlightKind.Text:return n.DocumentHighlightKind.Text;case i.DocumentHighlightKind.Read:return n.DocumentHighlightKind.Read;case i.DocumentHighlightKind.Write:return n.DocumentHighlightKind.Write}return n.DocumentHighlightKind.Text}function B(e){return e<=i.SymbolKind.TypeParameter?e-1:n.SymbolKind.Property}function G(e){if(e===i.SymbolTag.Deprecated)return n.SymbolTag.Deprecated}function q(e){if(null==e)return;const t=[];for(const r of e){const e=G(r);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function U(e,t){let i=new n.SymbolInformation(e.name,B(e.kind),S(e.location.range),e.location.uri?r(e.location.uri):t);return W(i,e),e.containerName&&(i.containerName=e.containerName),i}function z(e){let t=new n.DocumentSymbol(e.name,e.detail||"",B(e.kind),S(e.range),S(e.selectionRange));if(W(t,e),void 0!==e.children&&e.children.length>0){let r=[];for(let t of e.children)r.push(z(t));t.children=r}return t}function W(e,t){e.tags=q(t.tags),t.deprecated&&(e.tags?e.tags.includes(n.SymbolTag.Deprecated)||(e.tags=e.tags.concat(n.SymbolTag.Deprecated)):e.tags=[n.SymbolTag.Deprecated])}function H(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const $=new Map;function K(e){if(null==e)return;let t=$.get(e);if(t)return t;let r=e.split(".");t=n.CodeActionKind.Empty;for(let e of r)t=t.append(e);return t}function V(e){if(!e)return;let t=new a.default(S(e.range));return e.command&&(t.command=H(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}function J(e){if(!e)return;const t=new Map;if(void 0!==e.changeAnnotations)for(const r of Object.keys(e.changeAnnotations)){const n=X(e.changeAnnotations[r]);t.set(r,n)}const o=e=>void 0===e?void 0:t.get(e),s=new n.WorkspaceEdit;if(e.documentChanges)for(const t of e.documentChanges)if(i.CreateFile.is(t))s.createFile(r(t.uri),t.options,o(t.annotationId));else if(i.RenameFile.is(t))s.renameFile(r(t.oldUri),r(t.newUri),t.options,o(t.annotationId));else if(i.DeleteFile.is(t))s.deleteFile(r(t.uri),t.options,o(t.annotationId));else{if(!i.TextDocumentEdit.is(t))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(t,void 0,4)}`);{const e=r(t.textDocument.uri);for(const r of t.edits)h.AnnotatedTextEdit.is(r)?s.replace(e,S(r.range),r.newText,o(r.annotationId)):s.replace(e,S(r.range),r.newText)}}else e.changes&&Object.keys(e.changes).forEach((t=>{s.set(r(t),D(e.changes[t]))}));return s}function X(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}function Y(e){let t=S(e.range),r=e.target?f(e.target):void 0,n=new l.default(t,r);return void 0!==e.tooltip&&(n.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(n.data=e.data),n}function Z(e){return new n.Color(e.red,e.green,e.blue,e.alpha)}function Q(e){return new n.ColorInformation(S(e.range),Z(e.color))}function ee(e){let t=new n.ColorPresentation(e.label);return t.additionalTextEdits=D(e.additionalTextEdits),e.textEdit&&(t.textEdit=k(e.textEdit)),t}function te(e){if(e)switch(e){case i.FoldingRangeKind.Comment:return n.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return n.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return n.FoldingRangeKind.Region}}function re(e){return new n.FoldingRange(e.startLine,e.endLine,te(e.kind))}function ne(e){return new n.SelectionRange(S(e.range),e.parent?ne(e.parent):void 0)}function ie(e){if(null===e)return;let t=new d.default(B(e.kind),e.name,e.detail||"",f(e.uri),S(e.range),S(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=q(e.tags)),t}function oe(e){return new n.CallHierarchyIncomingCall(ie(e.from),T(e.fromRanges))}function se(e){return new n.CallHierarchyOutgoingCall(ie(e.to),T(e.fromRanges))}function ae(e){return new n.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}return $.set(i.CodeActionKind.Empty,n.CodeActionKind.Empty),$.set(i.CodeActionKind.QuickFix,n.CodeActionKind.QuickFix),$.set(i.CodeActionKind.Refactor,n.CodeActionKind.Refactor),$.set(i.CodeActionKind.RefactorExtract,n.CodeActionKind.RefactorExtract),$.set(i.CodeActionKind.RefactorInline,n.CodeActionKind.RefactorInline),$.set(i.CodeActionKind.RefactorRewrite,n.CodeActionKind.RefactorRewrite),$.set(i.CodeActionKind.Source,n.CodeActionKind.Source),$.set(i.CodeActionKind.SourceOrganizeImports,n.CodeActionKind.SourceOrganizeImports),{asUri:f,asDiagnostics:g,asDiagnostic:m,asRange:S,asRanges:T,asPosition:C,asDiagnosticSeverity:b,asDiagnosticTag:y,asHover:function(e){if(e)return new n.Hover(function(e){if(o.string(e))return w(e);if(p.is(e))return w().appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let r of e){let e=w();p.is(r)?e.appendCodeblock(r.value,r.language):e.appendMarkdown(r),t.push(e)}return t}{let t;switch(e.kind){case i.MarkupKind.Markdown:return w(e.value);case i.MarkupKind.PlainText:return t=w(),t.appendText(e.value),t;default:return t=w(),t.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`),t}}}(e.contents),S(e.range))},asCompletionResult:function(e){if(!e)return;if(Array.isArray(e))return e.map(E);let t=e;return new n.CompletionList(t.items.map(E),t.isIncomplete)},asCompletionItem:E,asTextEdit:k,asTextEdits:D,asSignatureHelp:function(e){if(!e)return;let t=new n.SignatureHelp;return o.number(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,o.number(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures&&(t.signatures=O(e.signatures)),t},asSignatureInformations:O,asSignatureInformation:I,asParameterInformations:M,asParameterInformation:A,asDeclarationResult:function(e){if(e)return j(e)},asDefinitionResult:function(e){if(e)return j(e)},asLocation:x,asReferences:function(e){if(e)return e.map((e=>x(e)))},asDocumentHighlights:function(e){if(e)return e.map(F)},asDocumentHighlight:F,asDocumentHighlightKind:L,asSymbolKind:B,asSymbolTag:G,asSymbolTags:q,asSymbolInformations:function(e,t){if(e)return e.map((e=>U(e,t)))},asSymbolInformation:U,asDocumentSymbols:function(e){if(null!=e)return e.map(z)},asDocumentSymbol:z,asCommand:H,asCommands:function(e){if(e)return e.map(H)},asCodeAction:function(e){if(null==e)return;let t=new c.default(e.title,e.data);return void 0!==e.kind&&(t.kind=K(e.kind)),void 0!==e.diagnostics&&(t.diagnostics=g(e.diagnostics)),void 0!==e.edit&&(t.edit=J(e.edit)),void 0!==e.command&&(t.command=H(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),void 0!==e.disabled&&(t.disabled={reason:e.disabled.reason}),t},asCodeActionKind:K,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>K(e)))},asCodeLens:V,asCodeLenses:function(e){if(e)return e.map((e=>V(e)))},asWorkspaceEdit:J,asDocumentLink:Y,asDocumentLinks:function(e){if(e)return e.map(Y)},asFoldingRangeKind:te,asFoldingRange:re,asFoldingRanges:function(e){if(Array.isArray(e))return e.map(re)},asColor:Z,asColorInformation:Q,asColorInformations:function(e){if(Array.isArray(e))return e.map(Q)},asColorPresentation:ee,asColorPresentations:function(e){if(Array.isArray(e))return e.map(ee)},asSelectionRange:ne,asSelectionRanges:function(e){if(!Array.isArray(e))return[];let t=[];for(let r of e)t.push(ne(r));return t},asSemanticTokensLegend:function(e){return e},asSemanticTokens:function(e){if(null!=e)return new n.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:ae,asSemanticTokensEdits:function(e){if(null!=e)return new n.SemanticTokensEdits(e.edits.map(ae),e.resultId)},asCallHierarchyItem:ie,asCallHierarchyItems:function(e){if(null!==e)return e.map((e=>ie(e)))},asCallHierarchyIncomingCall:oe,asCallHierarchyIncomingCalls:function(e){if(null!==e)return e.map((e=>oe(e)))},asCallHierarchyOutgoingCall:se,asCallHierarchyOutgoingCalls:function(e){if(null!==e)return e.map((e=>se(e)))},asLinkedEditingRanges:function(e){if(null!=e)return new n.LinkedEditingRanges(T(e.ranges),function(e){if(null!=e)return new RegExp(e)}(e.wordPattern))}}}},7894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;const n=r(1398),i=r(8319);(t.DiagnosticCode||(t.DiagnosticCode={})).is=function(e){const t=e;return null!=t&&(i.number(t.value)||i.string(t.value))&&i.string(t.target)};class o extends n.Diagnostic{constructor(e,t,r,n){super(e,t,r),this.data=n,this.hasDiagnosticCode=!1}}t.ProtocolDiagnostic=o},7424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1398);class i extends n.DocumentLink{constructor(e,t){super(e,t)}}t.default=i},6258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;const n=r(1398),i=r(7354),o=r(9538);function s(e,t){return void 0===e[t]&&(e[t]=Object.create(null)),e[t]}class a extends o.TextDocumentFeature{constructor(e){super(e,i.SelectionRangeRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.selectionRangeProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideSelectionRanges:(e,t,r)=>{const n=this._client,o=(e,t,r)=>{const o={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),positions:n.code2ProtocolConverter.asPositions(t)};return n.sendRequest(i.SelectionRangeRequest.type,o,r).then((e=>n.protocol2CodeConverter.asSelectionRanges(e)),(e=>n.handleFailedRequest(i.SelectionRangeRequest.type,e,null)))},s=n.clientOptions.middleware;return s.provideSelectionRanges?s.provideSelectionRanges(e,t,r,o):o(e,t,r)}};return[n.languages.registerSelectionRangeProvider(e.documentSelector,t),t]}}t.SelectionRangeFeature=a},7691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;const n=r(1398),i=r(9538),o=r(7354),s=r(8319);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class l extends i.TextDocumentFeature{constructor(e){super(e,o.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=a(a(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[o.SemanticTokenTypes.namespace,o.SemanticTokenTypes.type,o.SemanticTokenTypes.class,o.SemanticTokenTypes.enum,o.SemanticTokenTypes.interface,o.SemanticTokenTypes.struct,o.SemanticTokenTypes.typeParameter,o.SemanticTokenTypes.parameter,o.SemanticTokenTypes.variable,o.SemanticTokenTypes.property,o.SemanticTokenTypes.enumMember,o.SemanticTokenTypes.event,o.SemanticTokenTypes.function,o.SemanticTokenTypes.method,o.SemanticTokenTypes.macro,o.SemanticTokenTypes.keyword,o.SemanticTokenTypes.modifier,o.SemanticTokenTypes.comment,o.SemanticTokenTypes.string,o.SemanticTokenTypes.number,o.SemanticTokenTypes.regexp,o.SemanticTokenTypes.operator],t.tokenModifiers=[o.SemanticTokenModifiers.declaration,o.SemanticTokenModifiers.definition,o.SemanticTokenModifiers.readonly,o.SemanticTokenModifiers.static,o.SemanticTokenModifiers.deprecated,o.SemanticTokenModifiers.abstract,o.SemanticTokenModifiers.async,o.SemanticTokenModifiers.modification,o.SemanticTokenModifiers.documentation,o.SemanticTokenModifiers.defaultLibrary],t.formats=[o.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,a(a(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.SemanticTokensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()}));const[r,n]=this.getRegistration(t,e.semanticTokensProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t=s.boolean(e.full)?e.full:void 0!==e.full,r=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,i=new n.EventEmitter,a=t?{onDidChangeSemanticTokens:i.event,provideDocumentSemanticTokens:(e,t)=>{const r=this._client,n=r.clientOptions.middleware,i=(e,t)=>{const n={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(o.SemanticTokensRequest.type,n,t).then((e=>r.protocol2CodeConverter.asSemanticTokens(e)),(e=>r.handleFailedRequest(o.SemanticTokensRequest.type,e,null)))};return n.provideDocumentSemanticTokens?n.provideDocumentSemanticTokens(e,t,i):i(e,t)},provideDocumentSemanticTokensEdits:r?(e,t,r)=>{const n=this._client,i=n.clientOptions.middleware,s=(e,t,r)=>{const i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return n.sendRequest(o.SemanticTokensDeltaRequest.type,i,r).then((e=>o.SemanticTokens.is(e)?n.protocol2CodeConverter.asSemanticTokens(e):n.protocol2CodeConverter.asSemanticTokensEdits(e)),(e=>n.handleFailedRequest(o.SemanticTokensDeltaRequest.type,e,null)))};return i.provideDocumentSemanticTokensEdits?i.provideDocumentSemanticTokensEdits(e,t,r,s):s(e,t,r)}:void 0}:void 0,l=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,r)=>{const n=this._client,i=n.clientOptions.middleware,s=(e,t,r)=>{const i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e),range:n.code2ProtocolConverter.asRange(t)};return n.sendRequest(o.SemanticTokensRangeRequest.type,i,r).then((e=>n.protocol2CodeConverter.asSemanticTokens(e)),(e=>n.handleFailedRequest(o.SemanticTokensRangeRequest.type,e,null)))};return i.provideDocumentRangeSemanticTokens?i.provideDocumentRangeSemanticTokens(e,t,r,s):s(e,t,r)}}:void 0,c=[],u=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return void 0!==a&&c.push(n.languages.registerDocumentSemanticTokensProvider(e.documentSelector,a,u)),void 0!==l&&c.push(n.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,l,u)),[new n.Disposable((()=>c.forEach((e=>e.dispose())))),{range:l,full:a,onDidChangeSemanticTokensEmitter:i}]}}t.SemanticTokensFeature=l},5432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;const n=r(1398),i=r(7354),o=r(9538);function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class a extends o.TextDocumentFeature{constructor(e){super(e,i.TypeDefinitionRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=s(s(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[r,n]=this.getRegistration(t,e.typeDefinitionProvider);r&&n&&this.register({id:r,registerOptions:n})}registerLanguageProvider(e){const t={provideTypeDefinition:(e,t,r)=>{const n=this._client,o=(e,t,r)=>n.sendRequest(i.TypeDefinitionRequest.type,n.code2ProtocolConverter.asTextDocumentPositionParams(e,t),r).then(n.protocol2CodeConverter.asDefinitionResult,(e=>n.handleFailedRequest(i.TypeDefinitionRequest.type,e,null))),s=n.clientOptions.middleware;return s.provideTypeDefinition?s.provideTypeDefinition(e,t,r,o):o(e,t,r)}};return[n.languages.registerTypeDefinitionProvider(e.documentSelector,t),t]}}t.TypeDefinitionFeature=a},483:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Delayer=void 0;const n=r(7354);t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=n.RAL().timer.setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(n.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}}},8319:(e,t)=>{"use strict";function r(e){return"string"==typeof e||e instanceof String}function n(e){return"function"==typeof e}function i(e){return Array.isArray(e)}function o(e){return e&&n(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=n,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>r(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=o,t.asPromise=function(e){return e instanceof Promise?e:o(e)?new Promise(((t,r)=>{e.then((e=>t(e)),(e=>r(e)))})):Promise.resolve(e)}},9032:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class r{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class n extends r{constructor(){super([n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-","4",n._randomHex(),n._randomHex(),n._randomHex(),"-",n._oneOf(n._timeHighBits),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return n._oneOf(n._chars)}}function i(){return new n}n._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],n._timeHighBits=["8","9","a","b"],t.empty=new r("00000000-0000-0000-0000-000000000000"),t.v4=i;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return o.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new r(e)},t.generateUuid=function(){return i().asHex()}},43:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;const n=r(9032),i=r(1398),o=r(7354);function s(e,t){if(void 0!==e)return e[t]}function a(e,t){return e.filter((e=>t.indexOf(e)<0))}t.arrayDiff=a,t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return o.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=i.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(o.WorkspaceFoldersRequest.type,(e=>{const r=()=>{const e=i.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},n=t.clientOptions.middleware.workspace;return n&&n.workspaceFolders?n.workspaceFolders(e,r):r()}));const r=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");let a;"string"==typeof r?a=r:!0===r&&(a=n.generateUuid()),a&&this.register({id:a,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){const t=a(this._initialFolders,e),r=a(e,this._initialFolders);(r.length>0||t.length>0)&&this.doSendEvent(r,t)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,t){let r={event:{added:e.map((e=>this.asProtocol(e))),removed:t.map((e=>this.asProtocol(e)))}};this._client.sendNotification(o.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let t=e.id,r=this._client,n=i.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>{this.doSendEvent(e.added,e.removed)},n=r.clientOptions.middleware.workspace;n&&n.didChangeWorkspaceFolders?n.didChangeWorkspaceFolders(e,t):t(e)}));this._listeners.set(t,n),this.sendInitialEvent(i.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},99:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingMonitor=t.LanguageClient=t.TransportKind=void 0;const o=r(5317),s=r(9896),a=r(6928),l=r(9589),c=r(1398),u=r(8319),d=r(3779),h=r(9538),p=r(6745),f=r(948);i(r(948),t),i(r(6353),t);const g="^1.52.0";var m,v,y,C,S,T;!function(e){e.is=function(e){return u.string(e.command)}}(m||(m={})),function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(v=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){let t=e;return t&&t.kind===v.socket&&u.number(t.port)}}(y||(y={})),function(e){e.is=function(e){return u.string(e.module)}}(C||(C={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(S||(S={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(T||(T={}));class b extends d.CommonLanguageClient{constructor(e,t,r,n,i){let o,s,a,l,c;u.string(t)?(o=e,s=t,a=r,l=n,c=!!i):(o=e.toLowerCase(),s=e,a=t,l=r,c=n),void 0===c&&(c=!1),super(o,s,l),this._serverOptions=a,this._forceDebug=c;try{this.checkVersion()}catch(e){throw u.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){let e=l.parse(c.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${c.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!l.satisfies(e,g))throw new Error(`The language client requires VS Code version ${g} but received version ${c.version}`)}stop(){return super.stop().then((()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&setTimeout((()=>{try{process.kill(e.pid,0),p.terminate(e)}catch(e){}}),2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),null===e.processId&&(e.processId=process.pid)}createMessageTransports(e){function t(e,t){if(!e&&!t)return;let r=Object.create(null);return Object.keys(process.env).forEach((e=>r[e]=process.env[e])),t&&(r.ELECTRON_RUN_AS_NODE="1",r.ELECTRON_NO_ASAR="1"),e&&Object.keys(e).forEach((t=>r[t]=e[t])),r}const r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],n=["--debug","--debug-brk","--inspect","--inspect-brk"];function i(e){if(null===e.stdin||null===e.stdout||null===e.stderr)throw new Error("Process created without stdio streams")}let s,a=this._serverOptions;if(u.func(a))return a().then((t=>{if(h.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(S.is(t))return this._isDetached=!!t.detached,{reader:new f.StreamMessageReader(t.reader),writer:new f.StreamMessageWriter(t.writer)};{let r;return T.is(t)?(r=t.process,this._isDetached=t.detached):(r=t,this._isDetached=!1),r.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),{reader:new f.StreamMessageReader(r.stdout),writer:new f.StreamMessageWriter(r.stdin)}}}));let l=a;return s=l.run||l.debug?this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some((e=>r.some((t=>e.startsWith(t)))||n.some((t=>e===t))))}()?l.debug:l.run:a,this._getServerWorkingDir(s.options).then((r=>{if(C.is(s)&&s.module){let n=s,a=n.transport||v.stdio;if(!n.runtime){let s;return new Promise(((l,c)=>{let d=n.args&&n.args.slice()||[];a===v.ipc?d.push("--node-ipc"):a===v.stdio?d.push("--stdio"):a===v.pipe?(s=f.generateRandomPipeName(),d.push(`--pipe=${s}`)):y.isSocket(a)&&d.push(`--socket=${a.port}`),d.push(`--clientProcessId=${process.pid.toString()}`);let h=n.options||Object.create(null);if(h.env=t(h.env,!0),h.execArgv=h.execArgv||[],h.cwd=r,h.silent=!0,a===v.ipc||a===v.stdio){let t=o.fork(n.module,d||[],h);i(t),this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),a===v.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),l({reader:new f.IPCMessageReader(this._serverProcess),writer:new f.IPCMessageWriter(this._serverProcess)})):l({reader:new f.StreamMessageReader(t.stdout),writer:new f.StreamMessageWriter(t.stdin)})}else a===v.pipe?f.createClientPipeTransport(s).then((t=>{let r=o.fork(n.module,d||[],h);i(r),this._serverProcess=r,r.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{l({reader:e[0],writer:e[1]})}))})):y.isSocket(a)&&f.createClientSocketTransport(a.port).then((t=>{let r=o.fork(n.module,d||[],h);i(r),this._serverProcess=r,r.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{l({reader:e[0],writer:e[1]})}))}))}))}{let i=[],s=n.options||Object.create(null);s.execArgv&&s.execArgv.forEach((e=>i.push(e))),i.push(n.module),n.args&&n.args.forEach((e=>i.push(e)));const l=Object.create(null);l.cwd=r,l.env=t(s.env,!1);const c=this._getRuntimePath(n.runtime,r);let d;if(a===v.ipc?(l.stdio=[null,null,null,"ipc"],i.push("--node-ipc")):a===v.stdio?i.push("--stdio"):a===v.pipe?(d=f.generateRandomPipeName(),i.push(`--pipe=${d}`)):y.isSocket(a)&&i.push(`--socket=${a.port}`),i.push(`--clientProcessId=${process.pid.toString()}`),a===v.ipc||a===v.stdio){let t=o.spawn(c,i,l);return t&&t.pid?(this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),a===v.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),Promise.resolve({reader:new f.IPCMessageReader(t),writer:new f.IPCMessageWriter(t)})):Promise.resolve({reader:new f.StreamMessageReader(t.stdout),writer:new f.StreamMessageWriter(t.stdin)})):Promise.reject(`Launching server using runtime ${c} failed.`)}if(a===v.pipe)return f.createClientPipeTransport(d).then((t=>{let r=o.spawn(c,i,l);return r&&r.pid?(this._serverProcess=r,r.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):Promise.reject(`Launching server using runtime ${c} failed.`)}));if(y.isSocket(a))return f.createClientSocketTransport(a.port).then((t=>{let r=o.spawn(c,i,l);return r&&r.pid?(this._serverProcess=r,r.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):Promise.reject(`Launching server using runtime ${c} failed.`)}))}}else if(m.is(s)&&s.command){let t=s,n=t.args||[],i=Object.assign({},t.options);i.cwd=i.cwd||r;let a=o.spawn(t.command,n,i);return a&&a.pid?(a.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),this._serverProcess=a,this._isDetached=!!i.detached,Promise.resolve({reader:new f.StreamMessageReader(a.stdout),writer:new f.StreamMessageWriter(a.stdin)})):Promise.reject(`Launching server using command ${t.command} failed.`)}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}))}_getRuntimePath(e,t){if(a.isAbsolute(e))return e;const r=this._mainGetRootPath();if(void 0!==r){const t=a.join(r,e);if(s.existsSync(t))return t}if(void 0!==t){const r=a.join(t,e);if(s.existsSync(r))return r}return e}_mainGetRootPath(){let e=c.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{s.lstat(t,((r,n)=>{e(!r&&n.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}getLocale(){const e=process.env.VSCODE_NLS_CONFIG;if(void 0===e)return"en";let t;try{t=JSON.parse(e)}catch(e){}return void 0===t||"string"!=typeof t.locale?"en":t.locale}}t.LanguageClient=b,t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return c.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new c.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,n=r?c.workspace.getConfiguration(t).get(r,!1):c.workspace.getConfiguration(t);n&&this._client.needsStart()?this._client.start():!n&&this._client.needsStop()&&this._client.stop()}}},6745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminate=void 0;const n=r(5317),i=r(6928),o="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(o)try{let r={stdio:["pipe","pipe","ignore"]};return t&&(r.cwd=t),n.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],r),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var r=i.join(__dirname,"terminateProcess.sh");return!n.spawnSync(r,[e.pid.toString()]).error}catch(e){return!1}}}},2339:(e,t,r)=>{"use strict";e.exports=r(99)},3818:(e,t,r)=>{var n=r(9818),i=r(8505);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),v(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(l).split("\\.").join(c)}(e),!0).map(d)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(l).join(",").split(c).join(".")}function h(e){if(!e)return[""];var t=[],r=i("{","}",e);if(!r)return e.split(",");var n=r.pre,o=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+o+"}";var l=h(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}function p(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function g(e,t){return e<=t}function m(e,t){return e>=t}function v(e,t){var r=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),d=l||c,y=o.body.indexOf(",")>=0;if(!d&&!y)return o.post.match(/,(?!,).*\}/)?v(e=o.pre+"{"+o.body+a+o.post):[e];if(d)s=o.body.split(/\.\./);else if(1===(s=h(o.body)).length&&1===(s=v(s[0],!1).map(p)).length)return(T=o.post.length?v(o.post,!1):[""]).map((function(e){return o.pre+s[0]+e}));var C,S=o.pre,T=o.post.length?v(o.post,!1):[""];if(d){var b=u(s[0]),_=u(s[1]),w=Math.max(s[0].length,s[1].length),R=3==s.length?Math.abs(u(s[2])):1,E=g;_<b&&(R*=-1,E=m);var P=s.some(f);C=[];for(var k=b;E(k,_);k+=R){var D;if(c)"\\"===(D=String.fromCharCode(k))&&(D="");else if(D=String(k),P){var O=w-D.length;if(O>0){var I=new Array(O+1).join("0");D=k<0?"-"+I+D.slice(1):I+D}}C.push(D)}}else C=n(s,(function(e){return v(e,!1)}));for(var M=0;M<C.length;M++)for(var A=0;A<T.length;A++){var x=S+C[M]+T[A];(!t||d||x)&&r.push(x)}return r}},6045:(e,t,r)=>{e.exports=h,h.Minimatch=p;var n=function(){try{return r(6928)}catch(e){}}()||{sep:"/"};h.sep=n.sep;var i=h.GLOBSTAR=p.GLOBSTAR={},o=r(3818),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",l=a+"*?",c="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),u=/\/+/;function d(e,t){t=t||{};var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function h(e,t,r){return g(t),r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&new p(t,r).match(e)}function p(e,t){if(!(this instanceof p))return new p(e,t);g(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===n.sep||(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof p?this.options:{}),e=void 0===e?this.pattern:e,g(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}h.filter=function(e,t){return t=t||{},function(r,n,i){return h(r,e,t)}},h.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return h;var t=h,r=function(r,n,i){return t(r,n,d(e,i))};return(r.Minimatch=function(r,n){return new t.Minimatch(r,d(e,n))}).defaults=function(r){return t.defaults(d(e,r)).Minimatch},r.filter=function(r,n){return t.filter(r,d(e,n))},r.defaults=function(r){return t.defaults(d(e,r))},r.makeRe=function(r,n){return t.makeRe(r,d(e,n))},r.braceExpand=function(r,n){return t.braceExpand(r,d(e,n))},r.match=function(r,n,i){return t.match(r,n,d(e,i))},r},p.defaults=function(e){return h.defaults(e).Minimatch},p.prototype.debug=function(){},p.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(u)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0},p.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=0;if(!this.options.nonegate){for(var n=0,i=e.length;n<i&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},h.braceExpand=function(e,t){return f(e,t)},p.prototype.braceExpand=f;var g=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};p.prototype.parse=function(e,t){g(e);var r=this.options;if("**"===e){if(!r.noglobstar)return i;e="*"}if(""===e)return"";var n,o="",u=!!r.nocase,d=!1,h=[],p=[],f=!1,v=-1,y=-1,C="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",S=this;function T(){if(n){switch(n){case"*":o+=l,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+n}S.debug("clearStateChar %j %j",n,o),n=!1}}for(var b,_=0,w=e.length;_<w&&(b=e.charAt(_));_++)if(this.debug("%s\t%s %s %j",e,_,o,b),d&&c[b])o+="\\"+b,d=!1;else switch(b){case"/":return!1;case"\\":T(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,_,o,b),f){this.debug("  in class"),"!"===b&&_===y+1&&(b="^"),o+=b;continue}S.debug("call clearStateChar %j",n),T(),n=b,r.noext&&T();continue;case"(":if(f){o+="(";continue}if(!n){o+="\\(";continue}h.push({type:n,start:_-1,reStart:o.length,open:s[n].open,close:s[n].close}),o+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,o),n=!1;continue;case")":if(f||!h.length){o+="\\)";continue}T(),u=!0;var R=h.pop();o+=R.close,"!"===R.type&&p.push(R),R.reEnd=o.length;continue;case"|":if(f||!h.length||d){o+="\\|",d=!1;continue}T(),o+="|";continue;case"[":if(T(),f){o+="\\"+b;continue}f=!0,y=_,v=o.length,o+=b;continue;case"]":if(_===y+1||!f){o+="\\"+b,d=!1;continue}var E=e.substring(y+1,_);try{RegExp("["+E+"]")}catch(e){var P=this.parse(E,m);o=o.substr(0,v)+"\\["+P[0]+"\\]",u=u||P[1],f=!1;continue}u=!0,f=!1,o+=b;continue;default:T(),d?d=!1:!c[b]||"^"===b&&f||(o+="\\"),o+=b}for(f&&(E=e.substr(y+1),P=this.parse(E,m),o=o.substr(0,v)+"\\["+P[0],u=u||P[1]),R=h.pop();R;R=h.pop()){var k=o.slice(R.reStart+R.open.length);this.debug("setting tail",o,R),k=k.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",k,k,R,o);var D="*"===R.type?l:"?"===R.type?a:"\\"+R.type;u=!0,o=o.slice(0,R.reStart)+D+"\\("+k}T(),d&&(o+="\\\\");var O=!1;switch(o.charAt(0)){case"[":case".":case"(":O=!0}for(var I=p.length-1;I>-1;I--){var M=p[I],A=o.slice(0,M.reStart),x=o.slice(M.reStart,M.reEnd-8),N=o.slice(M.reEnd-8,M.reEnd),j=o.slice(M.reEnd);N+=j;var F=A.split("(").length-1,L=j;for(_=0;_<F;_++)L=L.replace(/\)[+*?]?/,"");var B="";""===(j=L)&&t!==m&&(B="$"),o=A+x+j+B+N}if(""!==o&&u&&(o="(?=.)"+o),O&&(o=C+o),t===m)return[o,u];if(!u)return e.replace(/\\(.)/g,"$1");var G=r.nocase?"i":"";try{var q=new RegExp("^"+o+"$",G)}catch(e){return new RegExp("$.")}return q._glob=e,q._src=o,q};var m={};h.makeRe=function(e,t){return new p(e,t||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?l:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?r:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(e){this.regexp=!1}return this.regexp},h.match=function(e,t,r){var n=new p(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},p.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/")),e=e.split(u),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],l=e;if(r.matchBase&&1===a.length&&(l=[i]),this.matchOne(l,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},p.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,l=t.length;o<a&&s<l;o++,s++){this.debug("matchOne loop");var c,u=t[s],d=e[o];if(this.debug(t,u,d),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,d]);var h=o,p=s+1;if(p===l){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),r))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof u?(c=d===u,this.debug("string match",u,d,c)):(c=d.match(u),this.debug("pattern match",u,d,c)),!c)return!1}if(o===a&&s===l)return!0;if(o===a)return r;if(s===l)return o===a-1&&""===e[o];throw new Error("wtf?")}},8766:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(r(7123),t),i(r(7806),t),i(r(372),t),i(r(1560),t);var o,s=r(1580);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return s.createProtocolConnection}}),(o=t.LSPErrorCodes||(t.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800},1580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const n=r(7123);t.createProtocolConnection=function(e,t,r,i){return n.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),n.createMessageConnection(e,t,r,i)}},372:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=void 0;const n=r(7123);t.RegistrationType=class{constructor(e){this.method=e}};class i extends n.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=i;class o extends n.RequestType{constructor(e){super(e,n.ParameterStructures.byName)}}t.ProtocolRequestType=o;class s extends n.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=s;class a extends n.NotificationType{constructor(e){super(e,n.ParameterStructures.byName)}}t.ProtocolNotificationType=a},8765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const n=r(372);var i,o,s;(s=t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",s.type=new n.ProtocolRequestType(s.method),(o=t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})).method="callHierarchy/incomingCalls",o.type=new n.ProtocolRequestType(o.method),(i=t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={})).method="callHierarchy/outgoingCalls",i.type=new n.ProtocolRequestType(i.method)},7672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const n=r(372);var i;(i=t.DocumentColorRequest||(t.DocumentColorRequest={})).method="textDocument/documentColor",i.type=new n.ProtocolRequestType(i.method),(t.ColorPresentationRequest||(t.ColorPresentationRequest={})).type=new n.ProtocolRequestType("textDocument/colorPresentation")},1660:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const n=r(372);(t.ConfigurationRequest||(t.ConfigurationRequest={})).type=new n.ProtocolRequestType("workspace/configuration")},6914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const n=r(372);var i;(i=t.DeclarationRequest||(t.DeclarationRequest={})).method="textDocument/declaration",i.type=new n.ProtocolRequestType(i.method)},9840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const n=r(372);var i,o,s,a,l,c,u;(u=t.FileOperationPatternKind||(t.FileOperationPatternKind={})).file="file",u.folder="folder",(c=t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})).method="workspace/willCreateFiles",c.type=new n.ProtocolRequestType(c.method),(l=t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})).method="workspace/didCreateFiles",l.type=new n.ProtocolNotificationType(l.method),(a=t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})).method="workspace/willRenameFiles",a.type=new n.ProtocolRequestType(a.method),(s=t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})).method="workspace/didRenameFiles",s.type=new n.ProtocolNotificationType(s.method),(o=t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})).method="workspace/didDeleteFiles",o.type=new n.ProtocolNotificationType(o.method),(i=t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={})).method="workspace/willDeleteFiles",i.type=new n.ProtocolRequestType(i.method)},2874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=t.FoldingRangeKind=void 0;const n=r(372);var i,o;(o=t.FoldingRangeKind||(t.FoldingRangeKind={})).Comment="comment",o.Imports="imports",o.Region="region",(i=t.FoldingRangeRequest||(t.FoldingRangeRequest={})).method="textDocument/foldingRange",i.type=new n.ProtocolRequestType(i.method)},9574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const n=r(372);var i;(i=t.ImplementationRequest||(t.ImplementationRequest={})).method="textDocument/implementation",i.type=new n.ProtocolRequestType(i.method)},1560:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeError=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.DocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=void 0;const n=r(8598),i=r(372),o=r(9574);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return o.ImplementationRequest}});const s=r(8461);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return s.TypeDefinitionRequest}});const a=r(9978);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return a.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return a.DidChangeWorkspaceFoldersNotification}});const l=r(1660);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return l.ConfigurationRequest}});const c=r(7672);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return c.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return c.ColorPresentationRequest}});const u=r(2874);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return u.FoldingRangeRequest}});const d=r(6914);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return d.DeclarationRequest}});const h=r(3487);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return h.SelectionRangeRequest}});const p=r(2687);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return p.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return p.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return p.WorkDoneProgressCancelNotification}});const f=r(8765);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return f.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return f.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return f.CallHierarchyPrepareRequest}});const g=r(2478);Object.defineProperty(t,"SemanticTokenTypes",{enumerable:!0,get:function(){return g.SemanticTokenTypes}}),Object.defineProperty(t,"SemanticTokenModifiers",{enumerable:!0,get:function(){return g.SemanticTokenModifiers}}),Object.defineProperty(t,"SemanticTokens",{enumerable:!0,get:function(){return g.SemanticTokens}}),Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return g.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return g.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return g.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return g.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return g.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return g.SemanticTokensRegistrationType}});const m=r(908);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return m.ShowDocumentRequest}});const v=r(5316);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return v.LinkedEditingRangeRequest}});const y=r(9840);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return y.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return y.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return y.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return y.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return y.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return y.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return y.WillDeleteFilesRequest}});const C=r(9047);var S,T,b,_,w,R,E,P,k,D,O,I,M,A,x,N,j,F,L,B,G,q,U,z,W,H,$,K,V,J,X,Y,Z,Q,ee,te,re,ne,ie,oe;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return C.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return C.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return C.MonikerRequest}}),function(e){e.is=function(e){const t=e;return n.string(t.language)||n.string(t.scheme)||n.string(t.pattern)}}(S=t.DocumentFilter||(t.DocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!n.string(t)&&!S.is(t))return!1;return!0}}(T=t.DocumentSelector||(t.DocumentSelector={})),(t.RegistrationRequest||(t.RegistrationRequest={})).type=new i.ProtocolRequestType("client/registerCapability"),(t.UnregistrationRequest||(t.UnregistrationRequest={})).type=new i.ProtocolRequestType("client/unregisterCapability"),(oe=t.ResourceOperationKind||(t.ResourceOperationKind={})).Create="create",oe.Rename="rename",oe.Delete="delete",(ie=t.FailureHandlingKind||(t.FailureHandlingKind={})).Abort="abort",ie.Transactional="transactional",ie.TextOnlyTransactional="textOnlyTransactional",ie.Undo="undo",(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})).hasId=function(e){const t=e;return t&&n.string(t.id)&&t.id.length>0},(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})).is=function(e){const t=e;return t&&(null===t.documentSelector||T.is(t.documentSelector))},(ne=t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})).is=function(e){const t=e;return n.objectLiteral(t)&&(void 0===t.workDoneProgress||n.boolean(t.workDoneProgress))},ne.hasWorkDoneProgress=function(e){const t=e;return t&&n.boolean(t.workDoneProgress)},(t.InitializeRequest||(t.InitializeRequest={})).type=new i.ProtocolRequestType("initialize"),(t.InitializeError||(t.InitializeError={})).unknownProtocolVersion=1,(t.InitializedNotification||(t.InitializedNotification={})).type=new i.ProtocolNotificationType("initialized"),(t.ShutdownRequest||(t.ShutdownRequest={})).type=new i.ProtocolRequestType0("shutdown"),(t.ExitNotification||(t.ExitNotification={})).type=new i.ProtocolNotificationType0("exit"),(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).type=new i.ProtocolNotificationType("workspace/didChangeConfiguration"),(re=t.MessageType||(t.MessageType={})).Error=1,re.Warning=2,re.Info=3,re.Log=4,(t.ShowMessageNotification||(t.ShowMessageNotification={})).type=new i.ProtocolNotificationType("window/showMessage"),(t.ShowMessageRequest||(t.ShowMessageRequest={})).type=new i.ProtocolRequestType("window/showMessageRequest"),(t.LogMessageNotification||(t.LogMessageNotification={})).type=new i.ProtocolNotificationType("window/logMessage"),(t.TelemetryEventNotification||(t.TelemetryEventNotification={})).type=new i.ProtocolNotificationType("telemetry/event"),(te=t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})).None=0,te.Full=1,te.Incremental=2,(ee=t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})).method="textDocument/didOpen",ee.type=new i.ProtocolNotificationType(ee.method),(Q=t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})).isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},Q.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},(Z=t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})).method="textDocument/didChange",Z.type=new i.ProtocolNotificationType(Z.method),(Y=t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})).method="textDocument/didClose",Y.type=new i.ProtocolNotificationType(Y.method),(X=t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})).method="textDocument/didSave",X.type=new i.ProtocolNotificationType(X.method),(J=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})).Manual=1,J.AfterDelay=2,J.FocusOut=3,(V=t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})).method="textDocument/willSave",V.type=new i.ProtocolNotificationType(V.method),(K=t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})).method="textDocument/willSaveWaitUntil",K.type=new i.ProtocolRequestType(K.method),(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).type=new i.ProtocolNotificationType("workspace/didChangeWatchedFiles"),($=t.FileChangeType||(t.FileChangeType={})).Created=1,$.Changed=2,$.Deleted=3,(H=t.WatchKind||(t.WatchKind={})).Create=1,H.Change=2,H.Delete=4,(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).type=new i.ProtocolNotificationType("textDocument/publishDiagnostics"),(W=t.CompletionTriggerKind||(t.CompletionTriggerKind={})).Invoked=1,W.TriggerCharacter=2,W.TriggerForIncompleteCompletions=3,(z=t.CompletionRequest||(t.CompletionRequest={})).method="textDocument/completion",z.type=new i.ProtocolRequestType(z.method),(U=t.CompletionResolveRequest||(t.CompletionResolveRequest={})).method="completionItem/resolve",U.type=new i.ProtocolRequestType(U.method),(q=t.HoverRequest||(t.HoverRequest={})).method="textDocument/hover",q.type=new i.ProtocolRequestType(q.method),(G=t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})).Invoked=1,G.TriggerCharacter=2,G.ContentChange=3,(B=t.SignatureHelpRequest||(t.SignatureHelpRequest={})).method="textDocument/signatureHelp",B.type=new i.ProtocolRequestType(B.method),(L=t.DefinitionRequest||(t.DefinitionRequest={})).method="textDocument/definition",L.type=new i.ProtocolRequestType(L.method),(F=t.ReferencesRequest||(t.ReferencesRequest={})).method="textDocument/references",F.type=new i.ProtocolRequestType(F.method),(j=t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})).method="textDocument/documentHighlight",j.type=new i.ProtocolRequestType(j.method),(N=t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})).method="textDocument/documentSymbol",N.type=new i.ProtocolRequestType(N.method),(x=t.CodeActionRequest||(t.CodeActionRequest={})).method="textDocument/codeAction",x.type=new i.ProtocolRequestType(x.method),(A=t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})).method="codeAction/resolve",A.type=new i.ProtocolRequestType(A.method),(M=t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})).method="workspace/symbol",M.type=new i.ProtocolRequestType(M.method),(I=t.CodeLensRequest||(t.CodeLensRequest={})).method="textDocument/codeLens",I.type=new i.ProtocolRequestType(I.method),(O=t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).method="codeLens/resolve",O.type=new i.ProtocolRequestType(O.method),(D=t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})).method="workspace/codeLens/refresh",D.type=new i.ProtocolRequestType0(D.method),(k=t.DocumentLinkRequest||(t.DocumentLinkRequest={})).method="textDocument/documentLink",k.type=new i.ProtocolRequestType(k.method),(P=t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).method="documentLink/resolve",P.type=new i.ProtocolRequestType(P.method),(E=t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})).method="textDocument/formatting",E.type=new i.ProtocolRequestType(E.method),(R=t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})).method="textDocument/rangeFormatting",R.type=new i.ProtocolRequestType(R.method),(w=t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})).method="textDocument/onTypeFormatting",w.type=new i.ProtocolRequestType(w.method),(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})).Identifier=1,(_=t.RenameRequest||(t.RenameRequest={})).method="textDocument/rename",_.type=new i.ProtocolRequestType(_.method),(b=t.PrepareRenameRequest||(t.PrepareRenameRequest={})).method="textDocument/prepareRename",b.type=new i.ProtocolRequestType(b.method),(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).type=new i.ProtocolRequestType("workspace/executeCommand"),(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).type=new i.ProtocolRequestType("workspace/applyEdit")},5316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const n=r(372);var i;(i=t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",i.type=new n.ProtocolRequestType(i.method)},9047:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const n=r(372);var i,o,s;(s=t.UniquenessLevel||(t.UniquenessLevel={})).document="document",s.project="project",s.group="group",s.scheme="scheme",s.global="global",(o=t.MonikerKind||(t.MonikerKind={})).import="import",o.export="export",o.local="local",(i=t.MonikerRequest||(t.MonikerRequest={})).method="textDocument/moniker",i.type=new n.ProtocolRequestType(i.method)},2687:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const n=r(7123),i=r(372);var o;(o=t.WorkDoneProgress||(t.WorkDoneProgress={})).type=new n.ProgressType,o.is=function(e){return e===o.type},(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})).type=new i.ProtocolRequestType("window/workDoneProgress/create"),(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={})).type=new i.ProtocolNotificationType("window/workDoneProgress/cancel")},3487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const n=r(372);var i;(i=t.SelectionRangeRequest||(t.SelectionRangeRequest={})).method="textDocument/selectionRange",i.type=new n.ProtocolRequestType(i.method)},2478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=void 0;const n=r(372);var i,o,s,a,l,c,u;(u=t.SemanticTokenTypes||(t.SemanticTokenTypes={})).namespace="namespace",u.type="type",u.class="class",u.enum="enum",u.interface="interface",u.struct="struct",u.typeParameter="typeParameter",u.parameter="parameter",u.variable="variable",u.property="property",u.enumMember="enumMember",u.event="event",u.function="function",u.method="method",u.macro="macro",u.keyword="keyword",u.modifier="modifier",u.comment="comment",u.string="string",u.number="number",u.regexp="regexp",u.operator="operator",(c=t.SemanticTokenModifiers||(t.SemanticTokenModifiers={})).declaration="declaration",c.definition="definition",c.readonly="readonly",c.static="static",c.deprecated="deprecated",c.abstract="abstract",c.async="async",c.modification="modification",c.documentation="documentation",c.defaultLibrary="defaultLibrary",(t.SemanticTokens||(t.SemanticTokens={})).is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])},(t.TokenFormat||(t.TokenFormat={})).Relative="relative",(l=t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})).method="textDocument/semanticTokens",l.type=new n.RegistrationType(l.method),(a=t.SemanticTokensRequest||(t.SemanticTokensRequest={})).method="textDocument/semanticTokens/full",a.type=new n.ProtocolRequestType(a.method),(s=t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})).method="textDocument/semanticTokens/full/delta",s.type=new n.ProtocolRequestType(s.method),(o=t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})).method="textDocument/semanticTokens/range",o.type=new n.ProtocolRequestType(o.method),(i=t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={})).method="workspace/semanticTokens/refresh",i.type=new n.ProtocolRequestType0(i.method)},908:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const n=r(372);var i;(i=t.ShowDocumentRequest||(t.ShowDocumentRequest={})).method="window/showDocument",i.type=new n.ProtocolRequestType(i.method)},8461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const n=r(372);var i;(i=t.TypeDefinitionRequest||(t.TypeDefinitionRequest={})).method="textDocument/typeDefinition",i.type=new n.ProtocolRequestType(i.method)},9978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const n=r(372);(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).type=new n.ProtocolRequestType0("workspace/workspaceFolders"),(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).type=new n.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")},8598:(e,t)=>{"use strict";function r(e){return"string"==typeof e||e instanceof String}function n(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=n,t.stringArray=function(e){return n(e)&&e.every((e=>r(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},7354:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=r(2067);i(r(2067),t),i(r(8766),t),t.createProtocolConnection=function(e,t,r,n){return o.createMessageConnection(e,t,r,n)}},948:(e,t,r)=>{"use strict";e.exports=r(7354)},7806:(e,t,r)=>{"use strict";var n,i,o,s,a,l,c,u,d,h,p,f,g,m,v,y,C,S,T,b,_,w,R,E,P,k;r.r(t),r.d(t,{AnnotatedTextEdit:()=>_,ChangeAnnotation:()=>T,ChangeAnnotationIdentifier:()=>b,CodeAction:()=>ee,CodeActionContext:()=>Q,CodeActionKind:()=>Z,CodeDescription:()=>v,CodeLens:()=>te,Color:()=>c,ColorInformation:()=>u,ColorPresentation:()=>d,Command:()=>C,CompletionItem:()=>G,CompletionItemKind:()=>N,CompletionItemTag:()=>F,CompletionList:()=>q,CreateFile:()=>R,DeleteFile:()=>P,Diagnostic:()=>y,DiagnosticRelatedInformation:()=>f,DiagnosticSeverity:()=>g,DiagnosticTag:()=>m,DocumentHighlight:()=>K,DocumentHighlightKind:()=>$,DocumentLink:()=>ne,DocumentSymbol:()=>Y,EOL:()=>ce,FoldingRange:()=>p,FoldingRangeKind:()=>h,FormattingOptions:()=>re,Hover:()=>z,InsertReplaceEdit:()=>L,InsertTextFormat:()=>j,InsertTextMode:()=>B,Location:()=>a,LocationLink:()=>l,MarkedString:()=>U,MarkupContent:()=>x,MarkupKind:()=>A,OptionalVersionedTextDocumentIdentifier:()=>I,ParameterInformation:()=>W,Position:()=>o,Range:()=>s,RenameFile:()=>E,SelectionRange:()=>ie,SignatureInformation:()=>H,SymbolInformation:()=>X,SymbolKind:()=>V,SymbolTag:()=>J,TextDocument:()=>le,TextDocumentEdit:()=>w,TextDocumentIdentifier:()=>D,TextDocumentItem:()=>M,TextEdit:()=>S,VersionedTextDocumentIdentifier:()=>O,WorkspaceChange:()=>ae,WorkspaceEdit:()=>k,integer:()=>n,uinteger:()=>i}),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647}(n||(n={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(i||(i={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=i.MAX_VALUE),t===Number.MAX_VALUE&&(t=i.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return ue.objectLiteral(t)&&ue.uinteger(t.line)&&ue.uinteger(t.character)}}(o||(o={})),function(e){e.create=function(e,t,r,n){if(ue.uinteger(e)&&ue.uinteger(t)&&ue.uinteger(r)&&ue.uinteger(n))return{start:o.create(e,t),end:o.create(r,n)};if(o.is(e)&&o.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+r+", "+n+"]")},e.is=function(e){var t=e;return ue.objectLiteral(t)&&o.is(t.start)&&o.is(t.end)}}(s||(s={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return ue.defined(t)&&s.is(t.range)&&(ue.string(t.uri)||ue.undefined(t.uri))}}(a||(a={})),function(e){e.create=function(e,t,r,n){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:n}},e.is=function(e){var t=e;return ue.defined(t)&&s.is(t.targetRange)&&ue.string(t.targetUri)&&(s.is(t.targetSelectionRange)||ue.undefined(t.targetSelectionRange))&&(s.is(t.originSelectionRange)||ue.undefined(t.originSelectionRange))}}(l||(l={})),function(e){e.create=function(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}},e.is=function(e){var t=e;return ue.numberRange(t.red,0,1)&&ue.numberRange(t.green,0,1)&&ue.numberRange(t.blue,0,1)&&ue.numberRange(t.alpha,0,1)}}(c||(c={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return s.is(t.range)&&c.is(t.color)}}(u||(u={})),function(e){e.create=function(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}},e.is=function(e){var t=e;return ue.string(t.label)&&(ue.undefined(t.textEdit)||S.is(t))&&(ue.undefined(t.additionalTextEdits)||ue.typedArray(t.additionalTextEdits,S.is))}}(d||(d={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(h||(h={})),function(e){e.create=function(e,t,r,n,i){var o={startLine:e,endLine:t};return ue.defined(r)&&(o.startCharacter=r),ue.defined(n)&&(o.endCharacter=n),ue.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return ue.uinteger(t.startLine)&&ue.uinteger(t.startLine)&&(ue.undefined(t.startCharacter)||ue.uinteger(t.startCharacter))&&(ue.undefined(t.endCharacter)||ue.uinteger(t.endCharacter))&&(ue.undefined(t.kind)||ue.string(t.kind))}}(p||(p={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return ue.defined(t)&&a.is(t.location)&&ue.string(t.message)}}(f||(f={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(g||(g={})),function(e){e.Unnecessary=1,e.Deprecated=2}(m||(m={})),function(e){e.is=function(e){var t=e;return null!=t&&ue.string(t.href)}}(v||(v={})),function(e){e.create=function(e,t,r,n,i,o){var s={range:e,message:t};return ue.defined(r)&&(s.severity=r),ue.defined(n)&&(s.code=n),ue.defined(i)&&(s.source=i),ue.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t,r=e;return ue.defined(r)&&s.is(r.range)&&ue.string(r.message)&&(ue.number(r.severity)||ue.undefined(r.severity))&&(ue.integer(r.code)||ue.string(r.code)||ue.undefined(r.code))&&(ue.undefined(r.codeDescription)||ue.string(null===(t=r.codeDescription)||void 0===t?void 0:t.href))&&(ue.string(r.source)||ue.undefined(r.source))&&(ue.undefined(r.relatedInformation)||ue.typedArray(r.relatedInformation,f.is))}}(y||(y={})),function(e){e.create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={title:e,command:t};return ue.defined(r)&&r.length>0&&(i.arguments=r),i},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.title)&&ue.string(t.command)}}(C||(C={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return ue.objectLiteral(t)&&ue.string(t.newText)&&s.is(t.range)}}(S||(S={})),function(e){e.create=function(e,t,r){var n={label:e};return void 0!==t&&(n.needsConfirmation=t),void 0!==r&&(n.description=r),n},e.is=function(e){var t=e;return void 0!==t&&ue.objectLiteral(t)&&ue.string(t.label)&&(ue.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(ue.string(t.description)||void 0===t.description)}}(T||(T={})),function(e){e.is=function(e){return"string"==typeof e}}(b||(b={})),function(e){e.replace=function(e,t,r){return{range:e,newText:t,annotationId:r}},e.insert=function(e,t,r){return{range:{start:e,end:e},newText:t,annotationId:r}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return S.is(t)&&(T.is(t.annotationId)||b.is(t.annotationId))}}(_||(_={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return ue.defined(t)&&I.is(t.textDocument)&&Array.isArray(t.edits)}}(w||(w={})),function(e){e.create=function(e,t,r){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),void 0!==r&&(n.annotationId=r),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&ue.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||ue.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ue.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||b.is(t.annotationId))}}(R||(R={})),function(e){e.create=function(e,t,r,n){var i={kind:"rename",oldUri:e,newUri:t};return void 0===r||void 0===r.overwrite&&void 0===r.ignoreIfExists||(i.options=r),void 0!==n&&(i.annotationId=n),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&ue.string(t.oldUri)&&ue.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||ue.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ue.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||b.is(t.annotationId))}}(E||(E={})),function(e){e.create=function(e,t,r){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),void 0!==r&&(n.annotationId=r),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&ue.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||ue.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||ue.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||b.is(t.annotationId))}}(P||(P={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return ue.string(e.kind)?R.is(e)||E.is(e)||P.is(e):w.is(e)})))}}(k||(k={}));var D,O,I,M,A,x,N,j,F,L,B,G,q,U,z,W,H,$,K,V,J,X,Y,Z,Q,ee,te,re,ne,ie,oe=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,r){var n,i;if(void 0===r?n=S.insert(e,t):b.is(r)?(i=r,n=_.insert(e,t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=_.insert(e,t,i)),this.edits.push(n),void 0!==i)return i},e.prototype.replace=function(e,t,r){var n,i;if(void 0===r?n=S.replace(e,t):b.is(r)?(i=r,n=_.replace(e,t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=_.replace(e,t,i)),this.edits.push(n),void 0!==i)return i},e.prototype.delete=function(e,t){var r,n;if(void 0===t?r=S.del(e):b.is(t)?(n=t,r=_.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),n=this.changeAnnotations.manage(t),r=_.del(e,n)),this.edits.push(r),void 0!==n)return n},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),se=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var r;if(b.is(e)?r=e:(r=this.nextId(),t=e),void 0!==this._annotations[r])throw new Error("Id "+r+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+r);return this._annotations[r]=t,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),ae=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new se(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(w.is(e)){var r=new oe(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=r}}))):e.changes&&Object.keys(e.changes).forEach((function(r){var n=new oe(e.changes[r]);t._textEditChanges[r]=n}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(I.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(n=this._textEditChanges[t.uri])){var r={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(r),n=new oe(i,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var n;if(!(n=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,n=new oe(i),this._textEditChanges[e]=n}return n},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new se,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,i,o;if(T.is(t)||b.is(t)?n=t:r=t,void 0===n?i=R.create(e,r):(o=b.is(n)?n:this._changeAnnotations.manage(n),i=R.create(e,r,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,r,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,s;if(T.is(r)||b.is(r)?i=r:n=r,void 0===i?o=E.create(e,t,n):(s=b.is(i)?i:this._changeAnnotations.manage(i),o=E.create(e,t,n,s)),this._workspaceEdit.documentChanges.push(o),void 0!==s)return s},e.prototype.deleteFile=function(e,t,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,i,o;if(T.is(t)||b.is(t)?n=t:r=t,void 0===n?i=P.create(e,r):(o=b.is(n)?n:this._changeAnnotations.manage(n),i=P.create(e,r,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.uri)}}(D||(D={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.uri)&&ue.integer(t.version)}}(O||(O={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.uri)&&(null===t.version||ue.integer(t.version))}}(I||(I={})),function(e){e.create=function(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}},e.is=function(e){var t=e;return ue.defined(t)&&ue.string(t.uri)&&ue.string(t.languageId)&&ue.integer(t.version)&&ue.string(t.text)}}(M||(M={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(A||(A={})),function(e){e.is=function(t){var r=t;return r===e.PlainText||r===e.Markdown}}(A||(A={})),function(e){e.is=function(e){var t=e;return ue.objectLiteral(e)&&A.is(t.kind)&&ue.string(t.value)}}(x||(x={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(N||(N={})),function(e){e.PlainText=1,e.Snippet=2}(j||(j={})),function(e){e.Deprecated=1}(F||(F={})),function(e){e.create=function(e,t,r){return{newText:e,insert:t,replace:r}},e.is=function(e){var t=e;return t&&ue.string(t.newText)&&s.is(t.insert)&&s.is(t.replace)}}(L||(L={})),function(e){e.asIs=1,e.adjustIndentation=2}(B||(B={})),function(e){e.create=function(e){return{label:e}}}(G||(G={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(q||(q={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return ue.string(t)||ue.objectLiteral(t)&&ue.string(t.language)&&ue.string(t.value)}}(U||(U={})),function(e){e.is=function(e){var t=e;return!!t&&ue.objectLiteral(t)&&(x.is(t.contents)||U.is(t.contents)||ue.typedArray(t.contents,U.is))&&(void 0===e.range||s.is(e.range))}}(z||(z={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(W||(W={})),function(e){e.create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={label:e};return ue.defined(t)&&(i.documentation=t),ue.defined(r)?i.parameters=r:i.parameters=[],i}}(H||(H={})),function(e){e.Text=1,e.Read=2,e.Write=3}($||($={})),function(e){e.create=function(e,t){var r={range:e};return ue.number(t)&&(r.kind=t),r}}(K||(K={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(V||(V={})),function(e){e.Deprecated=1}(J||(J={})),function(e){e.create=function(e,t,r,n,i){var o={name:e,kind:t,location:{uri:n,range:r}};return i&&(o.containerName=i),o}}(X||(X={})),function(e){e.create=function(e,t,r,n,i,o){var s={name:e,detail:t,kind:r,range:n,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&ue.string(t.name)&&ue.number(t.kind)&&s.is(t.range)&&s.is(t.selectionRange)&&(void 0===t.detail||ue.string(t.detail))&&(void 0===t.deprecated||ue.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(Y||(Y={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Z||(Z={})),function(e){e.create=function(e,t){var r={diagnostics:e};return null!=t&&(r.only=t),r},e.is=function(e){var t=e;return ue.defined(t)&&ue.typedArray(t.diagnostics,y.is)&&(void 0===t.only||ue.typedArray(t.only,ue.string))}}(Q||(Q={})),function(e){e.create=function(e,t,r){var n={title:e},i=!0;return"string"==typeof t?(i=!1,n.kind=t):C.is(t)?n.command=t:n.edit=t,i&&void 0!==r&&(n.kind=r),n},e.is=function(e){var t=e;return t&&ue.string(t.title)&&(void 0===t.diagnostics||ue.typedArray(t.diagnostics,y.is))&&(void 0===t.kind||ue.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||C.is(t.command))&&(void 0===t.isPreferred||ue.boolean(t.isPreferred))&&(void 0===t.edit||k.is(t.edit))}}(ee||(ee={})),function(e){e.create=function(e,t){var r={range:e};return ue.defined(t)&&(r.data=t),r},e.is=function(e){var t=e;return ue.defined(t)&&s.is(t.range)&&(ue.undefined(t.command)||C.is(t.command))}}(te||(te={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return ue.defined(t)&&ue.uinteger(t.tabSize)&&ue.boolean(t.insertSpaces)}}(re||(re={})),function(e){e.create=function(e,t,r){return{range:e,target:t,data:r}},e.is=function(e){var t=e;return ue.defined(t)&&s.is(t.range)&&(ue.undefined(t.target)||ue.string(t.target))}}(ne||(ne={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var r=t;return void 0!==r&&s.is(r.range)&&(void 0===r.parent||e.is(r.parent))}}(ie||(ie={}));var le,ce=["\n","\r\n","\r"];!function(e){function t(e,r){if(e.length<=1)return e;var n=e.length/2|0,i=e.slice(0,n),o=e.slice(n);t(i,r),t(o,r);for(var s=0,a=0,l=0;s<i.length&&a<o.length;){var c=r(i[s],o[a]);e[l++]=c<=0?i[s++]:o[a++]}for(;s<i.length;)e[l++]=i[s++];for(;a<o.length;)e[l++]=o[a++];return e}e.create=function(e,t,r,n){return new de(e,t,r,n)},e.is=function(e){var t=e;return!!(ue.defined(t)&&ue.string(t.uri)&&(ue.undefined(t.languageId)||ue.string(t.languageId))&&ue.uinteger(t.lineCount)&&ue.func(t.getText)&&ue.func(t.positionAt)&&ue.func(t.offsetAt))},e.applyEdits=function(e,r){for(var n=e.getText(),i=t(r,(function(e,t){var r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),o=n.length,s=i.length-1;s>=0;s--){var a=i[s],l=e.offsetAt(a.range.start),c=e.offsetAt(a.range.end);if(!(c<=o))throw new Error("Overlapping edit");n=n.substring(0,l)+a.newText+n.substring(c,n.length),o=l}return n}}(le||(le={}));var ue,de=function(){function e(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,r=!0,n=0;n<t.length;n++){r&&(e.push(n),r=!1);var i=t.charAt(n);r="\r"===i||"\n"===i,"\r"===i&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return o.create(0,e);for(;r<n;){var i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}var s=r-1;return o.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,r,n){return"[object Number]"===t.call(e)&&r<=e&&e<=n},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(ue||(ue={}))},9070:(e,t,r)=>{"use strict";var n=r(674),i=r(7587),o=t.GradleService={getBuild:{path:"/gradle.Gradle/GetBuild",requestStream:!1,responseStream:!0,requestType:i.GetBuildRequest,responseType:i.GetBuildReply,requestSerialize:function(e){if(!(e instanceof i.GetBuildRequest))throw new Error("Expected argument of type gradle.GetBuildRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return i.GetBuildRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof i.GetBuildReply))throw new Error("Expected argument of type gradle.GetBuildReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return i.GetBuildReply.deserializeBinary(new Uint8Array(e))}},runBuild:{path:"/gradle.Gradle/RunBuild",requestStream:!1,responseStream:!0,requestType:i.RunBuildRequest,responseType:i.RunBuildReply,requestSerialize:function(e){if(!(e instanceof i.RunBuildRequest))throw new Error("Expected argument of type gradle.RunBuildRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return i.RunBuildRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof i.RunBuildReply))throw new Error("Expected argument of type gradle.RunBuildReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return i.RunBuildReply.deserializeBinary(new Uint8Array(e))}},cancelBuild:{path:"/gradle.Gradle/CancelBuild",requestStream:!1,responseStream:!1,requestType:i.CancelBuildRequest,responseType:i.CancelBuildReply,requestSerialize:function(e){if(!(e instanceof i.CancelBuildRequest))throw new Error("Expected argument of type gradle.CancelBuildRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return i.CancelBuildRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof i.CancelBuildReply))throw new Error("Expected argument of type gradle.CancelBuildReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return i.CancelBuildReply.deserializeBinary(new Uint8Array(e))}},cancelBuilds:{path:"/gradle.Gradle/CancelBuilds",requestStream:!1,responseStream:!1,requestType:i.CancelBuildsRequest,responseType:i.CancelBuildsReply,requestSerialize:function(e){if(!(e instanceof i.CancelBuildsRequest))throw new Error("Expected argument of type gradle.CancelBuildsRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return i.CancelBuildsRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof i.CancelBuildsReply))throw new Error("Expected argument of type gradle.CancelBuildsReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return i.CancelBuildsReply.deserializeBinary(new Uint8Array(e))}},executeCommand:{path:"/gradle.Gradle/executeCommand",requestStream:!1,responseStream:!1,requestType:i.ExecuteCommandRequest,responseType:i.ExecuteCommandReply,requestSerialize:function(e){if(!(e instanceof i.ExecuteCommandRequest))throw new Error("Expected argument of type gradle.ExecuteCommandRequest");return Buffer.from(e.serializeBinary())},requestDeserialize:function(e){return i.ExecuteCommandRequest.deserializeBinary(new Uint8Array(e))},responseSerialize:function(e){if(!(e instanceof i.ExecuteCommandReply))throw new Error("Expected argument of type gradle.ExecuteCommandReply");return Buffer.from(e.serializeBinary())},responseDeserialize:function(e){return i.ExecuteCommandReply.deserializeBinary(new Uint8Array(e))}}};t.GradleClient=n.makeGenericClientConstructor(o)},7587:(e,t,r)=>{var n=r(5339),i=n,o=Function("return this")();i.exportSymbol("proto.gradle.CancelBuildReply",null,o),i.exportSymbol("proto.gradle.CancelBuildRequest",null,o),i.exportSymbol("proto.gradle.CancelBuildsReply",null,o),i.exportSymbol("proto.gradle.CancelBuildsRequest",null,o),i.exportSymbol("proto.gradle.Cancelled",null,o),i.exportSymbol("proto.gradle.DependencyItem",null,o),i.exportSymbol("proto.gradle.Environment",null,o),i.exportSymbol("proto.gradle.ExecuteCommandReply",null,o),i.exportSymbol("proto.gradle.ExecuteCommandRequest",null,o),i.exportSymbol("proto.gradle.GetBuildReply",null,o),i.exportSymbol("proto.gradle.GetBuildReply.KindCase",null,o),i.exportSymbol("proto.gradle.GetBuildRequest",null,o),i.exportSymbol("proto.gradle.GetBuildResult",null,o),i.exportSymbol("proto.gradle.GradleBuild",null,o),i.exportSymbol("proto.gradle.GradleConfig",null,o),i.exportSymbol("proto.gradle.GradleDependencyType",null,o),i.exportSymbol("proto.gradle.GradleEnvironment",null,o),i.exportSymbol("proto.gradle.GradleProject",null,o),i.exportSymbol("proto.gradle.GradleTask",null,o),i.exportSymbol("proto.gradle.GrpcGradleClosure",null,o),i.exportSymbol("proto.gradle.GrpcGradleField",null,o),i.exportSymbol("proto.gradle.GrpcGradleMethod",null,o),i.exportSymbol("proto.gradle.JavaEnvironment",null,o),i.exportSymbol("proto.gradle.Output",null,o),i.exportSymbol("proto.gradle.Output.OutputType",null,o),i.exportSymbol("proto.gradle.Progress",null,o),i.exportSymbol("proto.gradle.RunBuildReply",null,o),i.exportSymbol("proto.gradle.RunBuildReply.KindCase",null,o),i.exportSymbol("proto.gradle.RunBuildRequest",null,o),i.exportSymbol("proto.gradle.RunBuildResult",null,o),proto.gradle.GetBuildRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.GetBuildRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GetBuildRequest.displayName="proto.gradle.GetBuildRequest"),proto.gradle.GetBuildReply=function(e){n.Message.initialize(this,e,0,-1,null,proto.gradle.GetBuildReply.oneofGroups_)},i.inherits(proto.gradle.GetBuildReply,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GetBuildReply.displayName="proto.gradle.GetBuildReply"),proto.gradle.GetBuildResult=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.GetBuildResult,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GetBuildResult.displayName="proto.gradle.GetBuildResult"),proto.gradle.DependencyItem=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.DependencyItem.repeatedFields_,null)},i.inherits(proto.gradle.DependencyItem,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.DependencyItem.displayName="proto.gradle.DependencyItem"),proto.gradle.GrpcGradleClosure=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.GrpcGradleClosure.repeatedFields_,null)},i.inherits(proto.gradle.GrpcGradleClosure,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GrpcGradleClosure.displayName="proto.gradle.GrpcGradleClosure"),proto.gradle.GrpcGradleMethod=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.GrpcGradleMethod.repeatedFields_,null)},i.inherits(proto.gradle.GrpcGradleMethod,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GrpcGradleMethod.displayName="proto.gradle.GrpcGradleMethod"),proto.gradle.GrpcGradleField=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.GrpcGradleField,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GrpcGradleField.displayName="proto.gradle.GrpcGradleField"),proto.gradle.RunBuildRequest=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.RunBuildRequest.repeatedFields_,null)},i.inherits(proto.gradle.RunBuildRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.RunBuildRequest.displayName="proto.gradle.RunBuildRequest"),proto.gradle.RunBuildResult=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.RunBuildResult,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.RunBuildResult.displayName="proto.gradle.RunBuildResult"),proto.gradle.RunBuildReply=function(e){n.Message.initialize(this,e,0,-1,null,proto.gradle.RunBuildReply.oneofGroups_)},i.inherits(proto.gradle.RunBuildReply,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.RunBuildReply.displayName="proto.gradle.RunBuildReply"),proto.gradle.CancelBuildRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.CancelBuildRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildRequest.displayName="proto.gradle.CancelBuildRequest"),proto.gradle.CancelBuildsRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.CancelBuildsRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildsRequest.displayName="proto.gradle.CancelBuildsRequest"),proto.gradle.CancelBuildReply=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.CancelBuildReply,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildReply.displayName="proto.gradle.CancelBuildReply"),proto.gradle.CancelBuildsReply=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.CancelBuildsReply,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.CancelBuildsReply.displayName="proto.gradle.CancelBuildsReply"),proto.gradle.GradleConfig=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.GradleConfig,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GradleConfig.displayName="proto.gradle.GradleConfig"),proto.gradle.GradleBuild=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.GradleBuild,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GradleBuild.displayName="proto.gradle.GradleBuild"),proto.gradle.GradleProject=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.GradleProject.repeatedFields_,null)},i.inherits(proto.gradle.GradleProject,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GradleProject.displayName="proto.gradle.GradleProject"),proto.gradle.GradleTask=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.GradleTask,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GradleTask.displayName="proto.gradle.GradleTask"),proto.gradle.Cancelled=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.Cancelled,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.Cancelled.displayName="proto.gradle.Cancelled"),proto.gradle.Progress=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.Progress,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.Progress.displayName="proto.gradle.Progress"),proto.gradle.Environment=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.Environment,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.Environment.displayName="proto.gradle.Environment"),proto.gradle.JavaEnvironment=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.JavaEnvironment.repeatedFields_,null)},i.inherits(proto.gradle.JavaEnvironment,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.JavaEnvironment.displayName="proto.gradle.JavaEnvironment"),proto.gradle.GradleEnvironment=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.GradleEnvironment,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.GradleEnvironment.displayName="proto.gradle.GradleEnvironment"),proto.gradle.Output=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.Output,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.Output.displayName="proto.gradle.Output"),proto.gradle.ExecuteCommandRequest=function(e){n.Message.initialize(this,e,0,-1,proto.gradle.ExecuteCommandRequest.repeatedFields_,null)},i.inherits(proto.gradle.ExecuteCommandRequest,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.ExecuteCommandRequest.displayName="proto.gradle.ExecuteCommandRequest"),proto.gradle.ExecuteCommandReply=function(e){n.Message.initialize(this,e,0,-1,null,null)},i.inherits(proto.gradle.ExecuteCommandReply,n.Message),i.DEBUG&&!COMPILED&&(proto.gradle.ExecuteCommandReply.displayName="proto.gradle.ExecuteCommandReply"),n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetBuildRequest.prototype.toObject=function(e){return proto.gradle.GetBuildRequest.toObject(e,this)},proto.gradle.GetBuildRequest.toObject=function(e,t){var r,i={projectDir:n.Message.getFieldWithDefault(t,1,""),cancellationKey:n.Message.getFieldWithDefault(t,2,""),gradleConfig:(r=t.getGradleConfig())&&proto.gradle.GradleConfig.toObject(e,r),showOutputColors:n.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(i.$jspbMessageInstance=t),i}),proto.gradle.GetBuildRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetBuildRequest;return proto.gradle.GetBuildRequest.deserializeBinaryFromReader(r,t)},proto.gradle.GetBuildRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;case 2:r=t.readString(),e.setCancellationKey(r);break;case 3:r=new proto.gradle.GradleConfig,t.readMessage(r,proto.gradle.GradleConfig.deserializeBinaryFromReader),e.setGradleConfig(r);break;case 4:r=t.readBool(),e.setShowOutputColors(r);break;default:t.skipField()}return e},proto.gradle.GetBuildRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetBuildRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetBuildRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getProjectDir()).length>0&&t.writeString(1,r),(r=e.getCancellationKey()).length>0&&t.writeString(2,r),null!=(r=e.getGradleConfig())&&t.writeMessage(3,r,proto.gradle.GradleConfig.serializeBinaryToWriter),(r=e.getShowOutputColors())&&t.writeBool(4,r)},proto.gradle.GetBuildRequest.prototype.getProjectDir=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GetBuildRequest.prototype.setProjectDir=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GetBuildRequest.prototype.getCancellationKey=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.GetBuildRequest.prototype.setCancellationKey=function(e){return n.Message.setProto3StringField(this,2,e)},proto.gradle.GetBuildRequest.prototype.getGradleConfig=function(){return n.Message.getWrapperField(this,proto.gradle.GradleConfig,3)},proto.gradle.GetBuildRequest.prototype.setGradleConfig=function(e){return n.Message.setWrapperField(this,3,e)},proto.gradle.GetBuildRequest.prototype.clearGradleConfig=function(){return this.setGradleConfig(void 0)},proto.gradle.GetBuildRequest.prototype.hasGradleConfig=function(){return null!=n.Message.getField(this,3)},proto.gradle.GetBuildRequest.prototype.getShowOutputColors=function(){return n.Message.getBooleanFieldWithDefault(this,4,!1)},proto.gradle.GetBuildRequest.prototype.setShowOutputColors=function(e){return n.Message.setProto3BooleanField(this,4,e)},proto.gradle.GetBuildReply.oneofGroups_=[[1,2,3,4,5,6]],proto.gradle.GetBuildReply.KindCase={KIND_NOT_SET:0,GET_BUILD_RESULT:1,PROGRESS:2,OUTPUT:3,CANCELLED:4,ENVIRONMENT:5,COMPATIBILITY_CHECK_ERROR:6},proto.gradle.GetBuildReply.prototype.getKindCase=function(){return n.Message.computeOneofCase(this,proto.gradle.GetBuildReply.oneofGroups_[0])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetBuildReply.prototype.toObject=function(e){return proto.gradle.GetBuildReply.toObject(e,this)},proto.gradle.GetBuildReply.toObject=function(e,t){var r,i={getBuildResult:(r=t.getGetBuildResult())&&proto.gradle.GetBuildResult.toObject(e,r),progress:(r=t.getProgress())&&proto.gradle.Progress.toObject(e,r),output:(r=t.getOutput())&&proto.gradle.Output.toObject(e,r),cancelled:(r=t.getCancelled())&&proto.gradle.Cancelled.toObject(e,r),environment:(r=t.getEnvironment())&&proto.gradle.Environment.toObject(e,r),compatibilityCheckError:n.Message.getFieldWithDefault(t,6,"")};return e&&(i.$jspbMessageInstance=t),i}),proto.gradle.GetBuildReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetBuildReply;return proto.gradle.GetBuildReply.deserializeBinaryFromReader(r,t)},proto.gradle.GetBuildReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.gradle.GetBuildResult;t.readMessage(r,proto.gradle.GetBuildResult.deserializeBinaryFromReader),e.setGetBuildResult(r);break;case 2:r=new proto.gradle.Progress,t.readMessage(r,proto.gradle.Progress.deserializeBinaryFromReader),e.setProgress(r);break;case 3:r=new proto.gradle.Output,t.readMessage(r,proto.gradle.Output.deserializeBinaryFromReader),e.setOutput(r);break;case 4:r=new proto.gradle.Cancelled,t.readMessage(r,proto.gradle.Cancelled.deserializeBinaryFromReader),e.setCancelled(r);break;case 5:r=new proto.gradle.Environment,t.readMessage(r,proto.gradle.Environment.deserializeBinaryFromReader),e.setEnvironment(r);break;case 6:r=t.readString(),e.setCompatibilityCheckError(r);break;default:t.skipField()}return e},proto.gradle.GetBuildReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetBuildReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetBuildReply.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getGetBuildResult())&&t.writeMessage(1,r,proto.gradle.GetBuildResult.serializeBinaryToWriter),null!=(r=e.getProgress())&&t.writeMessage(2,r,proto.gradle.Progress.serializeBinaryToWriter),null!=(r=e.getOutput())&&t.writeMessage(3,r,proto.gradle.Output.serializeBinaryToWriter),null!=(r=e.getCancelled())&&t.writeMessage(4,r,proto.gradle.Cancelled.serializeBinaryToWriter),null!=(r=e.getEnvironment())&&t.writeMessage(5,r,proto.gradle.Environment.serializeBinaryToWriter),null!=(r=n.Message.getField(e,6))&&t.writeString(6,r)},proto.gradle.GetBuildReply.prototype.getGetBuildResult=function(){return n.Message.getWrapperField(this,proto.gradle.GetBuildResult,1)},proto.gradle.GetBuildReply.prototype.setGetBuildResult=function(e){return n.Message.setOneofWrapperField(this,1,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearGetBuildResult=function(){return this.setGetBuildResult(void 0)},proto.gradle.GetBuildReply.prototype.hasGetBuildResult=function(){return null!=n.Message.getField(this,1)},proto.gradle.GetBuildReply.prototype.getProgress=function(){return n.Message.getWrapperField(this,proto.gradle.Progress,2)},proto.gradle.GetBuildReply.prototype.setProgress=function(e){return n.Message.setOneofWrapperField(this,2,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearProgress=function(){return this.setProgress(void 0)},proto.gradle.GetBuildReply.prototype.hasProgress=function(){return null!=n.Message.getField(this,2)},proto.gradle.GetBuildReply.prototype.getOutput=function(){return n.Message.getWrapperField(this,proto.gradle.Output,3)},proto.gradle.GetBuildReply.prototype.setOutput=function(e){return n.Message.setOneofWrapperField(this,3,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearOutput=function(){return this.setOutput(void 0)},proto.gradle.GetBuildReply.prototype.hasOutput=function(){return null!=n.Message.getField(this,3)},proto.gradle.GetBuildReply.prototype.getCancelled=function(){return n.Message.getWrapperField(this,proto.gradle.Cancelled,4)},proto.gradle.GetBuildReply.prototype.setCancelled=function(e){return n.Message.setOneofWrapperField(this,4,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearCancelled=function(){return this.setCancelled(void 0)},proto.gradle.GetBuildReply.prototype.hasCancelled=function(){return null!=n.Message.getField(this,4)},proto.gradle.GetBuildReply.prototype.getEnvironment=function(){return n.Message.getWrapperField(this,proto.gradle.Environment,5)},proto.gradle.GetBuildReply.prototype.setEnvironment=function(e){return n.Message.setOneofWrapperField(this,5,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearEnvironment=function(){return this.setEnvironment(void 0)},proto.gradle.GetBuildReply.prototype.hasEnvironment=function(){return null!=n.Message.getField(this,5)},proto.gradle.GetBuildReply.prototype.getCompatibilityCheckError=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.gradle.GetBuildReply.prototype.setCompatibilityCheckError=function(e){return n.Message.setOneofField(this,6,proto.gradle.GetBuildReply.oneofGroups_[0],e)},proto.gradle.GetBuildReply.prototype.clearCompatibilityCheckError=function(){return n.Message.setOneofField(this,6,proto.gradle.GetBuildReply.oneofGroups_[0],void 0)},proto.gradle.GetBuildReply.prototype.hasCompatibilityCheckError=function(){return null!=n.Message.getField(this,6)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GetBuildResult.prototype.toObject=function(e){return proto.gradle.GetBuildResult.toObject(e,this)},proto.gradle.GetBuildResult.toObject=function(e,t){var r,i={message:n.Message.getFieldWithDefault(t,1,""),build:(r=t.getBuild())&&proto.gradle.GradleBuild.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),proto.gradle.GetBuildResult.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GetBuildResult;return proto.gradle.GetBuildResult.deserializeBinaryFromReader(r,t)},proto.gradle.GetBuildResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;case 2:r=new proto.gradle.GradleBuild,t.readMessage(r,proto.gradle.GradleBuild.deserializeBinaryFromReader),e.setBuild(r);break;default:t.skipField()}return e},proto.gradle.GetBuildResult.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GetBuildResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GetBuildResult.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r),null!=(r=e.getBuild())&&t.writeMessage(2,r,proto.gradle.GradleBuild.serializeBinaryToWriter)},proto.gradle.GetBuildResult.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GetBuildResult.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GetBuildResult.prototype.getBuild=function(){return n.Message.getWrapperField(this,proto.gradle.GradleBuild,2)},proto.gradle.GetBuildResult.prototype.setBuild=function(e){return n.Message.setWrapperField(this,2,e)},proto.gradle.GetBuildResult.prototype.clearBuild=function(){return this.setBuild(void 0)},proto.gradle.GetBuildResult.prototype.hasBuild=function(){return null!=n.Message.getField(this,2)},proto.gradle.DependencyItem.repeatedFields_=[3],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.DependencyItem.prototype.toObject=function(e){return proto.gradle.DependencyItem.toObject(e,this)},proto.gradle.DependencyItem.toObject=function(e,t){var r={name:n.Message.getFieldWithDefault(t,1,""),type:n.Message.getFieldWithDefault(t,2,0),childrenList:n.Message.toObjectList(t.getChildrenList(),proto.gradle.DependencyItem.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.DependencyItem.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.DependencyItem;return proto.gradle.DependencyItem.deserializeBinaryFromReader(r,t)},proto.gradle.DependencyItem.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readEnum(),e.setType(r);break;case 3:r=new proto.gradle.DependencyItem,t.readMessage(r,proto.gradle.DependencyItem.deserializeBinaryFromReader),e.addChildren(r);break;default:t.skipField()}return e},proto.gradle.DependencyItem.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.DependencyItem.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.DependencyItem.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),0!==(r=e.getType())&&t.writeEnum(2,r),(r=e.getChildrenList()).length>0&&t.writeRepeatedMessage(3,r,proto.gradle.DependencyItem.serializeBinaryToWriter)},proto.gradle.DependencyItem.prototype.getName=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.DependencyItem.prototype.setName=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.DependencyItem.prototype.getType=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.gradle.DependencyItem.prototype.setType=function(e){return n.Message.setProto3EnumField(this,2,e)},proto.gradle.DependencyItem.prototype.getChildrenList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.DependencyItem,3)},proto.gradle.DependencyItem.prototype.setChildrenList=function(e){return n.Message.setRepeatedWrapperField(this,3,e)},proto.gradle.DependencyItem.prototype.addChildren=function(e,t){return n.Message.addToRepeatedWrapperField(this,3,e,proto.gradle.DependencyItem,t)},proto.gradle.DependencyItem.prototype.clearChildrenList=function(){return this.setChildrenList([])},proto.gradle.GrpcGradleClosure.repeatedFields_=[2,3],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GrpcGradleClosure.prototype.toObject=function(e){return proto.gradle.GrpcGradleClosure.toObject(e,this)},proto.gradle.GrpcGradleClosure.toObject=function(e,t){var r={name:n.Message.getFieldWithDefault(t,1,""),methodsList:n.Message.toObjectList(t.getMethodsList(),proto.gradle.GrpcGradleMethod.toObject,e),fieldsList:n.Message.toObjectList(t.getFieldsList(),proto.gradle.GrpcGradleField.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GrpcGradleClosure.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GrpcGradleClosure;return proto.gradle.GrpcGradleClosure.deserializeBinaryFromReader(r,t)},proto.gradle.GrpcGradleClosure.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=new proto.gradle.GrpcGradleMethod,t.readMessage(r,proto.gradle.GrpcGradleMethod.deserializeBinaryFromReader),e.addMethods(r);break;case 3:r=new proto.gradle.GrpcGradleField,t.readMessage(r,proto.gradle.GrpcGradleField.deserializeBinaryFromReader),e.addFields(r);break;default:t.skipField()}return e},proto.gradle.GrpcGradleClosure.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GrpcGradleClosure.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GrpcGradleClosure.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getMethodsList()).length>0&&t.writeRepeatedMessage(2,r,proto.gradle.GrpcGradleMethod.serializeBinaryToWriter),(r=e.getFieldsList()).length>0&&t.writeRepeatedMessage(3,r,proto.gradle.GrpcGradleField.serializeBinaryToWriter)},proto.gradle.GrpcGradleClosure.prototype.getName=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GrpcGradleClosure.prototype.setName=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GrpcGradleClosure.prototype.getMethodsList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.GrpcGradleMethod,2)},proto.gradle.GrpcGradleClosure.prototype.setMethodsList=function(e){return n.Message.setRepeatedWrapperField(this,2,e)},proto.gradle.GrpcGradleClosure.prototype.addMethods=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.gradle.GrpcGradleMethod,t)},proto.gradle.GrpcGradleClosure.prototype.clearMethodsList=function(){return this.setMethodsList([])},proto.gradle.GrpcGradleClosure.prototype.getFieldsList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.GrpcGradleField,3)},proto.gradle.GrpcGradleClosure.prototype.setFieldsList=function(e){return n.Message.setRepeatedWrapperField(this,3,e)},proto.gradle.GrpcGradleClosure.prototype.addFields=function(e,t){return n.Message.addToRepeatedWrapperField(this,3,e,proto.gradle.GrpcGradleField,t)},proto.gradle.GrpcGradleClosure.prototype.clearFieldsList=function(){return this.setFieldsList([])},proto.gradle.GrpcGradleMethod.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GrpcGradleMethod.prototype.toObject=function(e){return proto.gradle.GrpcGradleMethod.toObject(e,this)},proto.gradle.GrpcGradleMethod.toObject=function(e,t){var r,i={name:n.Message.getFieldWithDefault(t,1,""),parametertypesList:null==(r=n.Message.getRepeatedField(t,2))?void 0:r,deprecated:n.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(i.$jspbMessageInstance=t),i}),proto.gradle.GrpcGradleMethod.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GrpcGradleMethod;return proto.gradle.GrpcGradleMethod.deserializeBinaryFromReader(r,t)},proto.gradle.GrpcGradleMethod.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.addParametertypes(r);break;case 3:r=t.readBool(),e.setDeprecated(r);break;default:t.skipField()}return e},proto.gradle.GrpcGradleMethod.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GrpcGradleMethod.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GrpcGradleMethod.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getParametertypesList()).length>0&&t.writeRepeatedString(2,r),(r=e.getDeprecated())&&t.writeBool(3,r)},proto.gradle.GrpcGradleMethod.prototype.getName=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GrpcGradleMethod.prototype.setName=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GrpcGradleMethod.prototype.getParametertypesList=function(){return n.Message.getRepeatedField(this,2)},proto.gradle.GrpcGradleMethod.prototype.setParametertypesList=function(e){return n.Message.setField(this,2,e||[])},proto.gradle.GrpcGradleMethod.prototype.addParametertypes=function(e,t){return n.Message.addToRepeatedField(this,2,e,t)},proto.gradle.GrpcGradleMethod.prototype.clearParametertypesList=function(){return this.setParametertypesList([])},proto.gradle.GrpcGradleMethod.prototype.getDeprecated=function(){return n.Message.getBooleanFieldWithDefault(this,3,!1)},proto.gradle.GrpcGradleMethod.prototype.setDeprecated=function(e){return n.Message.setProto3BooleanField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GrpcGradleField.prototype.toObject=function(e){return proto.gradle.GrpcGradleField.toObject(e,this)},proto.gradle.GrpcGradleField.toObject=function(e,t){var r={name:n.Message.getFieldWithDefault(t,1,""),deprecated:n.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GrpcGradleField.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GrpcGradleField;return proto.gradle.GrpcGradleField.deserializeBinaryFromReader(r,t)},proto.gradle.GrpcGradleField.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readBool(),e.setDeprecated(r);break;default:t.skipField()}return e},proto.gradle.GrpcGradleField.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GrpcGradleField.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GrpcGradleField.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getDeprecated())&&t.writeBool(2,r)},proto.gradle.GrpcGradleField.prototype.getName=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GrpcGradleField.prototype.setName=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GrpcGradleField.prototype.getDeprecated=function(){return n.Message.getBooleanFieldWithDefault(this,2,!1)},proto.gradle.GrpcGradleField.prototype.setDeprecated=function(e){return n.Message.setProto3BooleanField(this,2,e)},proto.gradle.RunBuildRequest.repeatedFields_=[3],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.RunBuildRequest.prototype.toObject=function(e){return proto.gradle.RunBuildRequest.toObject(e,this)},proto.gradle.RunBuildRequest.toObject=function(e,t){var r,i={projectDir:n.Message.getFieldWithDefault(t,1,""),cancellationKey:n.Message.getFieldWithDefault(t,2,""),argsList:null==(r=n.Message.getRepeatedField(t,3))?void 0:r,javaDebugPort:n.Message.getFieldWithDefault(t,4,0),gradleConfig:(r=t.getGradleConfig())&&proto.gradle.GradleConfig.toObject(e,r),input:n.Message.getFieldWithDefault(t,6,""),showOutputColors:n.Message.getBooleanFieldWithDefault(t,7,!1),javaDebugCleanOutputCache:n.Message.getBooleanFieldWithDefault(t,8,!1),additionalToolOptions:n.Message.getFieldWithDefault(t,9,"")};return e&&(i.$jspbMessageInstance=t),i}),proto.gradle.RunBuildRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.RunBuildRequest;return proto.gradle.RunBuildRequest.deserializeBinaryFromReader(r,t)},proto.gradle.RunBuildRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProjectDir(r);break;case 2:r=t.readString(),e.setCancellationKey(r);break;case 3:r=t.readString(),e.addArgs(r);break;case 4:r=t.readInt32(),e.setJavaDebugPort(r);break;case 5:r=new proto.gradle.GradleConfig,t.readMessage(r,proto.gradle.GradleConfig.deserializeBinaryFromReader),e.setGradleConfig(r);break;case 6:r=t.readString(),e.setInput(r);break;case 7:r=t.readBool(),e.setShowOutputColors(r);break;case 8:r=t.readBool(),e.setJavaDebugCleanOutputCache(r);break;case 9:r=t.readString(),e.setAdditionalToolOptions(r);break;default:t.skipField()}return e},proto.gradle.RunBuildRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.RunBuildRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.RunBuildRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getProjectDir()).length>0&&t.writeString(1,r),(r=e.getCancellationKey()).length>0&&t.writeString(2,r),(r=e.getArgsList()).length>0&&t.writeRepeatedString(3,r),0!==(r=e.getJavaDebugPort())&&t.writeInt32(4,r),null!=(r=e.getGradleConfig())&&t.writeMessage(5,r,proto.gradle.GradleConfig.serializeBinaryToWriter),(r=e.getInput()).length>0&&t.writeString(6,r),(r=e.getShowOutputColors())&&t.writeBool(7,r),(r=e.getJavaDebugCleanOutputCache())&&t.writeBool(8,r),(r=e.getAdditionalToolOptions()).length>0&&t.writeString(9,r)},proto.gradle.RunBuildRequest.prototype.getProjectDir=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.RunBuildRequest.prototype.setProjectDir=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.RunBuildRequest.prototype.getCancellationKey=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.RunBuildRequest.prototype.setCancellationKey=function(e){return n.Message.setProto3StringField(this,2,e)},proto.gradle.RunBuildRequest.prototype.getArgsList=function(){return n.Message.getRepeatedField(this,3)},proto.gradle.RunBuildRequest.prototype.setArgsList=function(e){return n.Message.setField(this,3,e||[])},proto.gradle.RunBuildRequest.prototype.addArgs=function(e,t){return n.Message.addToRepeatedField(this,3,e,t)},proto.gradle.RunBuildRequest.prototype.clearArgsList=function(){return this.setArgsList([])},proto.gradle.RunBuildRequest.prototype.getJavaDebugPort=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.gradle.RunBuildRequest.prototype.setJavaDebugPort=function(e){return n.Message.setProto3IntField(this,4,e)},proto.gradle.RunBuildRequest.prototype.getGradleConfig=function(){return n.Message.getWrapperField(this,proto.gradle.GradleConfig,5)},proto.gradle.RunBuildRequest.prototype.setGradleConfig=function(e){return n.Message.setWrapperField(this,5,e)},proto.gradle.RunBuildRequest.prototype.clearGradleConfig=function(){return this.setGradleConfig(void 0)},proto.gradle.RunBuildRequest.prototype.hasGradleConfig=function(){return null!=n.Message.getField(this,5)},proto.gradle.RunBuildRequest.prototype.getInput=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.gradle.RunBuildRequest.prototype.setInput=function(e){return n.Message.setProto3StringField(this,6,e)},proto.gradle.RunBuildRequest.prototype.getShowOutputColors=function(){return n.Message.getBooleanFieldWithDefault(this,7,!1)},proto.gradle.RunBuildRequest.prototype.setShowOutputColors=function(e){return n.Message.setProto3BooleanField(this,7,e)},proto.gradle.RunBuildRequest.prototype.getJavaDebugCleanOutputCache=function(){return n.Message.getBooleanFieldWithDefault(this,8,!1)},proto.gradle.RunBuildRequest.prototype.setJavaDebugCleanOutputCache=function(e){return n.Message.setProto3BooleanField(this,8,e)},proto.gradle.RunBuildRequest.prototype.getAdditionalToolOptions=function(){return n.Message.getFieldWithDefault(this,9,"")},proto.gradle.RunBuildRequest.prototype.setAdditionalToolOptions=function(e){return n.Message.setProto3StringField(this,9,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.RunBuildResult.prototype.toObject=function(e){return proto.gradle.RunBuildResult.toObject(e,this)},proto.gradle.RunBuildResult.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.RunBuildResult.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.RunBuildResult;return proto.gradle.RunBuildResult.deserializeBinaryFromReader(r,t)},proto.gradle.RunBuildResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readString();e.setMessage(r)}else t.skipField();return e},proto.gradle.RunBuildResult.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.RunBuildResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.RunBuildResult.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.RunBuildResult.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.RunBuildResult.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.RunBuildReply.oneofGroups_=[[1,2,3,4]],proto.gradle.RunBuildReply.KindCase={KIND_NOT_SET:0,RUN_BUILD_RESULT:1,PROGRESS:2,OUTPUT:3,CANCELLED:4},proto.gradle.RunBuildReply.prototype.getKindCase=function(){return n.Message.computeOneofCase(this,proto.gradle.RunBuildReply.oneofGroups_[0])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.RunBuildReply.prototype.toObject=function(e){return proto.gradle.RunBuildReply.toObject(e,this)},proto.gradle.RunBuildReply.toObject=function(e,t){var r,n={runBuildResult:(r=t.getRunBuildResult())&&proto.gradle.RunBuildResult.toObject(e,r),progress:(r=t.getProgress())&&proto.gradle.Progress.toObject(e,r),output:(r=t.getOutput())&&proto.gradle.Output.toObject(e,r),cancelled:(r=t.getCancelled())&&proto.gradle.Cancelled.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.gradle.RunBuildReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.RunBuildReply;return proto.gradle.RunBuildReply.deserializeBinaryFromReader(r,t)},proto.gradle.RunBuildReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.gradle.RunBuildResult;t.readMessage(r,proto.gradle.RunBuildResult.deserializeBinaryFromReader),e.setRunBuildResult(r);break;case 2:r=new proto.gradle.Progress,t.readMessage(r,proto.gradle.Progress.deserializeBinaryFromReader),e.setProgress(r);break;case 3:r=new proto.gradle.Output,t.readMessage(r,proto.gradle.Output.deserializeBinaryFromReader),e.setOutput(r);break;case 4:r=new proto.gradle.Cancelled,t.readMessage(r,proto.gradle.Cancelled.deserializeBinaryFromReader),e.setCancelled(r);break;default:t.skipField()}return e},proto.gradle.RunBuildReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.RunBuildReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.RunBuildReply.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getRunBuildResult())&&t.writeMessage(1,r,proto.gradle.RunBuildResult.serializeBinaryToWriter),null!=(r=e.getProgress())&&t.writeMessage(2,r,proto.gradle.Progress.serializeBinaryToWriter),null!=(r=e.getOutput())&&t.writeMessage(3,r,proto.gradle.Output.serializeBinaryToWriter),null!=(r=e.getCancelled())&&t.writeMessage(4,r,proto.gradle.Cancelled.serializeBinaryToWriter)},proto.gradle.RunBuildReply.prototype.getRunBuildResult=function(){return n.Message.getWrapperField(this,proto.gradle.RunBuildResult,1)},proto.gradle.RunBuildReply.prototype.setRunBuildResult=function(e){return n.Message.setOneofWrapperField(this,1,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearRunBuildResult=function(){return this.setRunBuildResult(void 0)},proto.gradle.RunBuildReply.prototype.hasRunBuildResult=function(){return null!=n.Message.getField(this,1)},proto.gradle.RunBuildReply.prototype.getProgress=function(){return n.Message.getWrapperField(this,proto.gradle.Progress,2)},proto.gradle.RunBuildReply.prototype.setProgress=function(e){return n.Message.setOneofWrapperField(this,2,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearProgress=function(){return this.setProgress(void 0)},proto.gradle.RunBuildReply.prototype.hasProgress=function(){return null!=n.Message.getField(this,2)},proto.gradle.RunBuildReply.prototype.getOutput=function(){return n.Message.getWrapperField(this,proto.gradle.Output,3)},proto.gradle.RunBuildReply.prototype.setOutput=function(e){return n.Message.setOneofWrapperField(this,3,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearOutput=function(){return this.setOutput(void 0)},proto.gradle.RunBuildReply.prototype.hasOutput=function(){return null!=n.Message.getField(this,3)},proto.gradle.RunBuildReply.prototype.getCancelled=function(){return n.Message.getWrapperField(this,proto.gradle.Cancelled,4)},proto.gradle.RunBuildReply.prototype.setCancelled=function(e){return n.Message.setOneofWrapperField(this,4,proto.gradle.RunBuildReply.oneofGroups_[0],e)},proto.gradle.RunBuildReply.prototype.clearCancelled=function(){return this.setCancelled(void 0)},proto.gradle.RunBuildReply.prototype.hasCancelled=function(){return null!=n.Message.getField(this,4)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildRequest.prototype.toObject=function(e){return proto.gradle.CancelBuildRequest.toObject(e,this)},proto.gradle.CancelBuildRequest.toObject=function(e,t){var r={cancellationKey:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelBuildRequest;return proto.gradle.CancelBuildRequest.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readString();e.setCancellationKey(r)}else t.skipField();return e},proto.gradle.CancelBuildRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelBuildRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getCancellationKey()).length>0&&t.writeString(1,r)},proto.gradle.CancelBuildRequest.prototype.getCancellationKey=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelBuildRequest.prototype.setCancellationKey=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildsRequest.prototype.toObject=function(e){return proto.gradle.CancelBuildsRequest.toObject(e,this)},proto.gradle.CancelBuildsRequest.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildsRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelBuildsRequest;return proto.gradle.CancelBuildsRequest.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildsRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.gradle.CancelBuildsRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelBuildsRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildsRequest.serializeBinaryToWriter=function(e,t){},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildReply.prototype.toObject=function(e){return proto.gradle.CancelBuildReply.toObject(e,this)},proto.gradle.CancelBuildReply.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,""),buildRunning:n.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelBuildReply;return proto.gradle.CancelBuildReply.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;case 2:r=t.readBool(),e.setBuildRunning(r);break;default:t.skipField()}return e},proto.gradle.CancelBuildReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelBuildReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r),(r=e.getBuildRunning())&&t.writeBool(2,r)},proto.gradle.CancelBuildReply.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelBuildReply.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.CancelBuildReply.prototype.getBuildRunning=function(){return n.Message.getBooleanFieldWithDefault(this,2,!1)},proto.gradle.CancelBuildReply.prototype.setBuildRunning=function(e){return n.Message.setProto3BooleanField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.CancelBuildsReply.prototype.toObject=function(e){return proto.gradle.CancelBuildsReply.toObject(e,this)},proto.gradle.CancelBuildsReply.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.CancelBuildsReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.CancelBuildsReply;return proto.gradle.CancelBuildsReply.deserializeBinaryFromReader(r,t)},proto.gradle.CancelBuildsReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readString();e.setMessage(r)}else t.skipField();return e},proto.gradle.CancelBuildsReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.CancelBuildsReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.CancelBuildsReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.CancelBuildsReply.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.CancelBuildsReply.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleConfig.prototype.toObject=function(e){return proto.gradle.GradleConfig.toObject(e,this)},proto.gradle.GradleConfig.toObject=function(e,t){var r={gradleHome:n.Message.getFieldWithDefault(t,1,""),userHome:n.Message.getFieldWithDefault(t,2,""),jvmArguments:n.Message.getFieldWithDefault(t,3,""),wrapperEnabled:n.Message.getBooleanFieldWithDefault(t,4,!1),version:n.Message.getFieldWithDefault(t,5,""),javaExtensionVersion:n.Message.getFieldWithDefault(t,6,""),javaHome:n.Message.getFieldWithDefault(t,7,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleConfig.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleConfig;return proto.gradle.GradleConfig.deserializeBinaryFromReader(r,t)},proto.gradle.GradleConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setGradleHome(r);break;case 2:r=t.readString(),e.setUserHome(r);break;case 3:r=t.readString(),e.setJvmArguments(r);break;case 4:r=t.readBool(),e.setWrapperEnabled(r);break;case 5:r=t.readString(),e.setVersion(r);break;case 6:r=t.readString(),e.setJavaExtensionVersion(r);break;case 7:r=t.readString(),e.setJavaHome(r);break;default:t.skipField()}return e},proto.gradle.GradleConfig.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleConfig.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getGradleHome()).length>0&&t.writeString(1,r),(r=e.getUserHome()).length>0&&t.writeString(2,r),(r=e.getJvmArguments()).length>0&&t.writeString(3,r),(r=e.getWrapperEnabled())&&t.writeBool(4,r),(r=e.getVersion()).length>0&&t.writeString(5,r),(r=e.getJavaExtensionVersion()).length>0&&t.writeString(6,r),(r=e.getJavaHome()).length>0&&t.writeString(7,r)},proto.gradle.GradleConfig.prototype.getGradleHome=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GradleConfig.prototype.setGradleHome=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GradleConfig.prototype.getUserHome=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.GradleConfig.prototype.setUserHome=function(e){return n.Message.setProto3StringField(this,2,e)},proto.gradle.GradleConfig.prototype.getJvmArguments=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.gradle.GradleConfig.prototype.setJvmArguments=function(e){return n.Message.setProto3StringField(this,3,e)},proto.gradle.GradleConfig.prototype.getWrapperEnabled=function(){return n.Message.getBooleanFieldWithDefault(this,4,!1)},proto.gradle.GradleConfig.prototype.setWrapperEnabled=function(e){return n.Message.setProto3BooleanField(this,4,e)},proto.gradle.GradleConfig.prototype.getVersion=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.gradle.GradleConfig.prototype.setVersion=function(e){return n.Message.setProto3StringField(this,5,e)},proto.gradle.GradleConfig.prototype.getJavaExtensionVersion=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.gradle.GradleConfig.prototype.setJavaExtensionVersion=function(e){return n.Message.setProto3StringField(this,6,e)},proto.gradle.GradleConfig.prototype.getJavaHome=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.gradle.GradleConfig.prototype.setJavaHome=function(e){return n.Message.setProto3StringField(this,7,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleBuild.prototype.toObject=function(e){return proto.gradle.GradleBuild.toObject(e,this)},proto.gradle.GradleBuild.toObject=function(e,t){var r,n={project:(r=t.getProject())&&proto.gradle.GradleProject.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.gradle.GradleBuild.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleBuild;return proto.gradle.GradleBuild.deserializeBinaryFromReader(r,t)},proto.gradle.GradleBuild.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.gradle.GradleProject;t.readMessage(r,proto.gradle.GradleProject.deserializeBinaryFromReader),e.setProject(r)}else t.skipField();return e},proto.gradle.GradleBuild.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleBuild.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleBuild.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getProject())&&t.writeMessage(1,r,proto.gradle.GradleProject.serializeBinaryToWriter)},proto.gradle.GradleBuild.prototype.getProject=function(){return n.Message.getWrapperField(this,proto.gradle.GradleProject,1)},proto.gradle.GradleBuild.prototype.setProject=function(e){return n.Message.setWrapperField(this,1,e)},proto.gradle.GradleBuild.prototype.clearProject=function(){return this.setProject(void 0)},proto.gradle.GradleBuild.prototype.hasProject=function(){return null!=n.Message.getField(this,1)},proto.gradle.GradleProject.repeatedFields_=[2,3,6,7,8],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleProject.prototype.toObject=function(e){return proto.gradle.GradleProject.toObject(e,this)},proto.gradle.GradleProject.toObject=function(e,t){var r,i={isRoot:n.Message.getBooleanFieldWithDefault(t,1,!1),tasksList:n.Message.toObjectList(t.getTasksList(),proto.gradle.GradleTask.toObject,e),projectsList:n.Message.toObjectList(t.getProjectsList(),proto.gradle.GradleProject.toObject,e),projectpath:n.Message.getFieldWithDefault(t,4,""),dependencyitem:(r=t.getDependencyitem())&&proto.gradle.DependencyItem.toObject(e,r),pluginsList:null==(r=n.Message.getRepeatedField(t,6))?void 0:r,pluginclosuresList:n.Message.toObjectList(t.getPluginclosuresList(),proto.gradle.GrpcGradleClosure.toObject,e),scriptclasspathsList:null==(r=n.Message.getRepeatedField(t,8))?void 0:r};return e&&(i.$jspbMessageInstance=t),i}),proto.gradle.GradleProject.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleProject;return proto.gradle.GradleProject.deserializeBinaryFromReader(r,t)},proto.gradle.GradleProject.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setIsRoot(r);break;case 2:r=new proto.gradle.GradleTask,t.readMessage(r,proto.gradle.GradleTask.deserializeBinaryFromReader),e.addTasks(r);break;case 3:r=new proto.gradle.GradleProject,t.readMessage(r,proto.gradle.GradleProject.deserializeBinaryFromReader),e.addProjects(r);break;case 4:r=t.readString(),e.setProjectpath(r);break;case 5:r=new proto.gradle.DependencyItem,t.readMessage(r,proto.gradle.DependencyItem.deserializeBinaryFromReader),e.setDependencyitem(r);break;case 6:r=t.readString(),e.addPlugins(r);break;case 7:r=new proto.gradle.GrpcGradleClosure,t.readMessage(r,proto.gradle.GrpcGradleClosure.deserializeBinaryFromReader),e.addPluginclosures(r);break;case 8:r=t.readString(),e.addScriptclasspaths(r);break;default:t.skipField()}return e},proto.gradle.GradleProject.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleProject.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleProject.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getIsRoot())&&t.writeBool(1,r),(r=e.getTasksList()).length>0&&t.writeRepeatedMessage(2,r,proto.gradle.GradleTask.serializeBinaryToWriter),(r=e.getProjectsList()).length>0&&t.writeRepeatedMessage(3,r,proto.gradle.GradleProject.serializeBinaryToWriter),(r=e.getProjectpath()).length>0&&t.writeString(4,r),null!=(r=e.getDependencyitem())&&t.writeMessage(5,r,proto.gradle.DependencyItem.serializeBinaryToWriter),(r=e.getPluginsList()).length>0&&t.writeRepeatedString(6,r),(r=e.getPluginclosuresList()).length>0&&t.writeRepeatedMessage(7,r,proto.gradle.GrpcGradleClosure.serializeBinaryToWriter),(r=e.getScriptclasspathsList()).length>0&&t.writeRepeatedString(8,r)},proto.gradle.GradleProject.prototype.getIsRoot=function(){return n.Message.getBooleanFieldWithDefault(this,1,!1)},proto.gradle.GradleProject.prototype.setIsRoot=function(e){return n.Message.setProto3BooleanField(this,1,e)},proto.gradle.GradleProject.prototype.getTasksList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.GradleTask,2)},proto.gradle.GradleProject.prototype.setTasksList=function(e){return n.Message.setRepeatedWrapperField(this,2,e)},proto.gradle.GradleProject.prototype.addTasks=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.gradle.GradleTask,t)},proto.gradle.GradleProject.prototype.clearTasksList=function(){return this.setTasksList([])},proto.gradle.GradleProject.prototype.getProjectsList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.GradleProject,3)},proto.gradle.GradleProject.prototype.setProjectsList=function(e){return n.Message.setRepeatedWrapperField(this,3,e)},proto.gradle.GradleProject.prototype.addProjects=function(e,t){return n.Message.addToRepeatedWrapperField(this,3,e,proto.gradle.GradleProject,t)},proto.gradle.GradleProject.prototype.clearProjectsList=function(){return this.setProjectsList([])},proto.gradle.GradleProject.prototype.getProjectpath=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.gradle.GradleProject.prototype.setProjectpath=function(e){return n.Message.setProto3StringField(this,4,e)},proto.gradle.GradleProject.prototype.getDependencyitem=function(){return n.Message.getWrapperField(this,proto.gradle.DependencyItem,5)},proto.gradle.GradleProject.prototype.setDependencyitem=function(e){return n.Message.setWrapperField(this,5,e)},proto.gradle.GradleProject.prototype.clearDependencyitem=function(){return this.setDependencyitem(void 0)},proto.gradle.GradleProject.prototype.hasDependencyitem=function(){return null!=n.Message.getField(this,5)},proto.gradle.GradleProject.prototype.getPluginsList=function(){return n.Message.getRepeatedField(this,6)},proto.gradle.GradleProject.prototype.setPluginsList=function(e){return n.Message.setField(this,6,e||[])},proto.gradle.GradleProject.prototype.addPlugins=function(e,t){return n.Message.addToRepeatedField(this,6,e,t)},proto.gradle.GradleProject.prototype.clearPluginsList=function(){return this.setPluginsList([])},proto.gradle.GradleProject.prototype.getPluginclosuresList=function(){return n.Message.getRepeatedWrapperField(this,proto.gradle.GrpcGradleClosure,7)},proto.gradle.GradleProject.prototype.setPluginclosuresList=function(e){return n.Message.setRepeatedWrapperField(this,7,e)},proto.gradle.GradleProject.prototype.addPluginclosures=function(e,t){return n.Message.addToRepeatedWrapperField(this,7,e,proto.gradle.GrpcGradleClosure,t)},proto.gradle.GradleProject.prototype.clearPluginclosuresList=function(){return this.setPluginclosuresList([])},proto.gradle.GradleProject.prototype.getScriptclasspathsList=function(){return n.Message.getRepeatedField(this,8)},proto.gradle.GradleProject.prototype.setScriptclasspathsList=function(e){return n.Message.setField(this,8,e||[])},proto.gradle.GradleProject.prototype.addScriptclasspaths=function(e,t){return n.Message.addToRepeatedField(this,8,e,t)},proto.gradle.GradleProject.prototype.clearScriptclasspathsList=function(){return this.setScriptclasspathsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleTask.prototype.toObject=function(e){return proto.gradle.GradleTask.toObject(e,this)},proto.gradle.GradleTask.toObject=function(e,t){var r={name:n.Message.getFieldWithDefault(t,1,""),group:n.Message.getFieldWithDefault(t,2,""),path:n.Message.getFieldWithDefault(t,3,""),project:n.Message.getFieldWithDefault(t,4,""),buildfile:n.Message.getFieldWithDefault(t,5,""),rootproject:n.Message.getFieldWithDefault(t,6,""),description:n.Message.getFieldWithDefault(t,7,""),debuggable:n.Message.getBooleanFieldWithDefault(t,8,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleTask.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleTask;return proto.gradle.GradleTask.deserializeBinaryFromReader(r,t)},proto.gradle.GradleTask.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.setGroup(r);break;case 3:r=t.readString(),e.setPath(r);break;case 4:r=t.readString(),e.setProject(r);break;case 5:r=t.readString(),e.setBuildfile(r);break;case 6:r=t.readString(),e.setRootproject(r);break;case 7:r=t.readString(),e.setDescription(r);break;case 8:r=t.readBool(),e.setDebuggable(r);break;default:t.skipField()}return e},proto.gradle.GradleTask.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleTask.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleTask.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getGroup()).length>0&&t.writeString(2,r),(r=e.getPath()).length>0&&t.writeString(3,r),(r=e.getProject()).length>0&&t.writeString(4,r),(r=e.getBuildfile()).length>0&&t.writeString(5,r),(r=e.getRootproject()).length>0&&t.writeString(6,r),(r=e.getDescription()).length>0&&t.writeString(7,r),(r=e.getDebuggable())&&t.writeBool(8,r)},proto.gradle.GradleTask.prototype.getName=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GradleTask.prototype.setName=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GradleTask.prototype.getGroup=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.GradleTask.prototype.setGroup=function(e){return n.Message.setProto3StringField(this,2,e)},proto.gradle.GradleTask.prototype.getPath=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.gradle.GradleTask.prototype.setPath=function(e){return n.Message.setProto3StringField(this,3,e)},proto.gradle.GradleTask.prototype.getProject=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.gradle.GradleTask.prototype.setProject=function(e){return n.Message.setProto3StringField(this,4,e)},proto.gradle.GradleTask.prototype.getBuildfile=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.gradle.GradleTask.prototype.setBuildfile=function(e){return n.Message.setProto3StringField(this,5,e)},proto.gradle.GradleTask.prototype.getRootproject=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.gradle.GradleTask.prototype.setRootproject=function(e){return n.Message.setProto3StringField(this,6,e)},proto.gradle.GradleTask.prototype.getDescription=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.gradle.GradleTask.prototype.setDescription=function(e){return n.Message.setProto3StringField(this,7,e)},proto.gradle.GradleTask.prototype.getDebuggable=function(){return n.Message.getBooleanFieldWithDefault(this,8,!1)},proto.gradle.GradleTask.prototype.setDebuggable=function(e){return n.Message.setProto3BooleanField(this,8,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.Cancelled.prototype.toObject=function(e){return proto.gradle.Cancelled.toObject(e,this)},proto.gradle.Cancelled.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,""),projectDir:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.Cancelled.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.Cancelled;return proto.gradle.Cancelled.deserializeBinaryFromReader(r,t)},proto.gradle.Cancelled.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMessage(r);break;case 2:r=t.readString(),e.setProjectDir(r);break;default:t.skipField()}return e},proto.gradle.Cancelled.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.Cancelled.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Cancelled.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r),(r=e.getProjectDir()).length>0&&t.writeString(2,r)},proto.gradle.Cancelled.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.Cancelled.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.Cancelled.prototype.getProjectDir=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.Cancelled.prototype.setProjectDir=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.Progress.prototype.toObject=function(e){return proto.gradle.Progress.toObject(e,this)},proto.gradle.Progress.toObject=function(e,t){var r={message:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.Progress.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.Progress;return proto.gradle.Progress.deserializeBinaryFromReader(r,t)},proto.gradle.Progress.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readString();e.setMessage(r)}else t.skipField();return e},proto.gradle.Progress.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.Progress.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Progress.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.gradle.Progress.prototype.getMessage=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.Progress.prototype.setMessage=function(e){return n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.Environment.prototype.toObject=function(e){return proto.gradle.Environment.toObject(e,this)},proto.gradle.Environment.toObject=function(e,t){var r,n={javaEnvironment:(r=t.getJavaEnvironment())&&proto.gradle.JavaEnvironment.toObject(e,r),gradleEnvironment:(r=t.getGradleEnvironment())&&proto.gradle.GradleEnvironment.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.gradle.Environment.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.Environment;return proto.gradle.Environment.deserializeBinaryFromReader(r,t)},proto.gradle.Environment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.gradle.JavaEnvironment;t.readMessage(r,proto.gradle.JavaEnvironment.deserializeBinaryFromReader),e.setJavaEnvironment(r);break;case 2:r=new proto.gradle.GradleEnvironment,t.readMessage(r,proto.gradle.GradleEnvironment.deserializeBinaryFromReader),e.setGradleEnvironment(r);break;default:t.skipField()}return e},proto.gradle.Environment.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.Environment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Environment.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getJavaEnvironment())&&t.writeMessage(1,r,proto.gradle.JavaEnvironment.serializeBinaryToWriter),null!=(r=e.getGradleEnvironment())&&t.writeMessage(2,r,proto.gradle.GradleEnvironment.serializeBinaryToWriter)},proto.gradle.Environment.prototype.getJavaEnvironment=function(){return n.Message.getWrapperField(this,proto.gradle.JavaEnvironment,1)},proto.gradle.Environment.prototype.setJavaEnvironment=function(e){return n.Message.setWrapperField(this,1,e)},proto.gradle.Environment.prototype.clearJavaEnvironment=function(){return this.setJavaEnvironment(void 0)},proto.gradle.Environment.prototype.hasJavaEnvironment=function(){return null!=n.Message.getField(this,1)},proto.gradle.Environment.prototype.getGradleEnvironment=function(){return n.Message.getWrapperField(this,proto.gradle.GradleEnvironment,2)},proto.gradle.Environment.prototype.setGradleEnvironment=function(e){return n.Message.setWrapperField(this,2,e)},proto.gradle.Environment.prototype.clearGradleEnvironment=function(){return this.setGradleEnvironment(void 0)},proto.gradle.Environment.prototype.hasGradleEnvironment=function(){return null!=n.Message.getField(this,2)},proto.gradle.JavaEnvironment.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.JavaEnvironment.prototype.toObject=function(e){return proto.gradle.JavaEnvironment.toObject(e,this)},proto.gradle.JavaEnvironment.toObject=function(e,t){var r,i={javaHome:n.Message.getFieldWithDefault(t,1,""),jvmArgsList:null==(r=n.Message.getRepeatedField(t,2))?void 0:r};return e&&(i.$jspbMessageInstance=t),i}),proto.gradle.JavaEnvironment.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.JavaEnvironment;return proto.gradle.JavaEnvironment.deserializeBinaryFromReader(r,t)},proto.gradle.JavaEnvironment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setJavaHome(r);break;case 2:r=t.readString(),e.addJvmArgs(r);break;default:t.skipField()}return e},proto.gradle.JavaEnvironment.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.JavaEnvironment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.JavaEnvironment.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getJavaHome()).length>0&&t.writeString(1,r),(r=e.getJvmArgsList()).length>0&&t.writeRepeatedString(2,r)},proto.gradle.JavaEnvironment.prototype.getJavaHome=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.JavaEnvironment.prototype.setJavaHome=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.JavaEnvironment.prototype.getJvmArgsList=function(){return n.Message.getRepeatedField(this,2)},proto.gradle.JavaEnvironment.prototype.setJvmArgsList=function(e){return n.Message.setField(this,2,e||[])},proto.gradle.JavaEnvironment.prototype.addJvmArgs=function(e,t){return n.Message.addToRepeatedField(this,2,e,t)},proto.gradle.JavaEnvironment.prototype.clearJvmArgsList=function(){return this.setJvmArgsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.GradleEnvironment.prototype.toObject=function(e){return proto.gradle.GradleEnvironment.toObject(e,this)},proto.gradle.GradleEnvironment.toObject=function(e,t){var r={gradleUserHome:n.Message.getFieldWithDefault(t,1,""),gradleVersion:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.GradleEnvironment.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.GradleEnvironment;return proto.gradle.GradleEnvironment.deserializeBinaryFromReader(r,t)},proto.gradle.GradleEnvironment.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setGradleUserHome(r);break;case 2:r=t.readString(),e.setGradleVersion(r);break;default:t.skipField()}return e},proto.gradle.GradleEnvironment.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.GradleEnvironment.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.GradleEnvironment.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getGradleUserHome()).length>0&&t.writeString(1,r),(r=e.getGradleVersion()).length>0&&t.writeString(2,r)},proto.gradle.GradleEnvironment.prototype.getGradleUserHome=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.GradleEnvironment.prototype.setGradleUserHome=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GradleEnvironment.prototype.getGradleVersion=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.GradleEnvironment.prototype.setGradleVersion=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.Output.prototype.toObject=function(e){return proto.gradle.Output.toObject(e,this)},proto.gradle.Output.toObject=function(e,t){var r={outputType:n.Message.getFieldWithDefault(t,1,0),outputBytes:t.getOutputBytes_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.Output.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.Output;return proto.gradle.Output.deserializeBinaryFromReader(r,t)},proto.gradle.Output.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setOutputType(r);break;case 2:r=t.readBytes(),e.setOutputBytes(r);break;default:t.skipField()}return e},proto.gradle.Output.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.Output.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.Output.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getOutputType())&&t.writeEnum(1,r),(r=e.getOutputBytes_asU8()).length>0&&t.writeBytes(2,r)},proto.gradle.Output.OutputType={STDERR:0,STDOUT:1},proto.gradle.Output.prototype.getOutputType=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.gradle.Output.prototype.setOutputType=function(e){return n.Message.setProto3EnumField(this,1,e)},proto.gradle.Output.prototype.getOutputBytes=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.gradle.Output.prototype.getOutputBytes_asB64=function(){return n.Message.bytesAsB64(this.getOutputBytes())},proto.gradle.Output.prototype.getOutputBytes_asU8=function(){return n.Message.bytesAsU8(this.getOutputBytes())},proto.gradle.Output.prototype.setOutputBytes=function(e){return n.Message.setProto3BytesField(this,2,e)},proto.gradle.ExecuteCommandRequest.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.gradle.ExecuteCommandRequest.prototype.toObject=function(e){return proto.gradle.ExecuteCommandRequest.toObject(e,this)},proto.gradle.ExecuteCommandRequest.toObject=function(e,t){var r,i={command:n.Message.getFieldWithDefault(t,1,""),argumentsList:null==(r=n.Message.getRepeatedField(t,2))?void 0:r};return e&&(i.$jspbMessageInstance=t),i}),proto.gradle.ExecuteCommandRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.ExecuteCommandRequest;return proto.gradle.ExecuteCommandRequest.deserializeBinaryFromReader(r,t)},proto.gradle.ExecuteCommandRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCommand(r);break;case 2:r=t.readString(),e.addArguments(r);break;default:t.skipField()}return e},proto.gradle.ExecuteCommandRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.ExecuteCommandRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.ExecuteCommandRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getCommand()).length>0&&t.writeString(1,r),(r=e.getArgumentsList()).length>0&&t.writeRepeatedString(2,r)},proto.gradle.ExecuteCommandRequest.prototype.getCommand=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.ExecuteCommandRequest.prototype.setCommand=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.ExecuteCommandRequest.prototype.getArgumentsList=function(){return n.Message.getRepeatedField(this,2)},proto.gradle.ExecuteCommandRequest.prototype.setArgumentsList=function(e){return n.Message.setField(this,2,e||[])},proto.gradle.ExecuteCommandRequest.prototype.addArguments=function(e,t){return n.Message.addToRepeatedField(this,2,e,t)},proto.gradle.ExecuteCommandRequest.prototype.clearArgumentsList=function(){return this.setArgumentsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.gradle.ExecuteCommandReply.prototype.toObject=function(e){return proto.gradle.ExecuteCommandReply.toObject(e,this)},proto.gradle.ExecuteCommandReply.toObject=function(e,t){var r={result:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.gradle.ExecuteCommandReply.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.gradle.ExecuteCommandReply;return proto.gradle.ExecuteCommandReply.deserializeBinaryFromReader(r,t)},proto.gradle.ExecuteCommandReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readString();e.setResult(r)}else t.skipField();return e},proto.gradle.ExecuteCommandReply.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.gradle.ExecuteCommandReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.gradle.ExecuteCommandReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getResult()).length>0&&t.writeString(1,r)},proto.gradle.ExecuteCommandReply.prototype.getResult=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.gradle.ExecuteCommandReply.prototype.setResult=function(e){return n.Message.setProto3StringField(this,1,e)},proto.gradle.GradleDependencyType={PROJECT:0,CONFIGURATION:1,DEPENDENCY:2},i.object.extend(t,proto.gradle)},1398:e=>{"use strict";e.exports=require("vscode")},4237:e=>{"use strict";e.exports=require("@grpc/proto-loader")},2613:e=>{"use strict";e.exports=require("assert")},5317:e=>{"use strict";e.exports=require("child_process")},9140:e=>{"use strict";e.exports=require("constants")},6982:e=>{"use strict";e.exports=require("crypto")},2250:e=>{"use strict";e.exports=require("dns")},4434:e=>{"use strict";e.exports=require("events")},9896:e=>{"use strict";e.exports=require("fs")},8611:e=>{"use strict";e.exports=require("http")},5675:e=>{"use strict";e.exports=require("http2")},5692:e=>{"use strict";e.exports=require("https")},9278:e=>{"use strict";e.exports=require("net")},857:e=>{"use strict";e.exports=require("os")},6928:e=>{"use strict";e.exports=require("path")},932:e=>{"use strict";e.exports=require("process")},2203:e=>{"use strict";e.exports=require("stream")},4756:e=>{"use strict";e.exports=require("tls")},7016:e=>{"use strict";e.exports=require("url")},9023:e=>{"use strict";e.exports=require("util")},3106:e=>{"use strict";e.exports=require("zlib")},8487:(e,t)=>{"use strict";function r(e,t,r){var i,o=/([^\s'"]([^\s'"]*(['"])([^\3]*?)\3)+[^\s'"]*)|[^\s'"]+|(['"])([^\5]*?)\5/gi,s=e,a=[];t&&a.push(t),r&&a.push(r);do{null!==(i=o.exec(s))&&a.push(n(i[1],i[6],i[0]))}while(null!==i);return a}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++){var n=e[r];if("string"==typeof n)return n}}t.__esModule=!0,t.parseArgsStringToArgv=void 0,t.default=r,t.parseArgsStringToArgv=r},9943:e=>{"use strict";e.exports={rE:"1.11.1"}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=r(3130),i=r(1049),o=r(7932);let s;function a(e,t){return s=new i.Extension(t),s.getApi()}e.activate=async function(e){return await(0,t.initializeFromJsonFile)(e.asAbsolutePath("./package.json"),{replacementOptions:[o.TelemetryFilter.hideUrlOption]}),(0,t.instrumentOperation)("activation",a)(e)},e.deactivate=async function(){await(null==s?void 0:s.stop())}})(),module.exports=n})();
//# sourceMappingURL=index.js.map