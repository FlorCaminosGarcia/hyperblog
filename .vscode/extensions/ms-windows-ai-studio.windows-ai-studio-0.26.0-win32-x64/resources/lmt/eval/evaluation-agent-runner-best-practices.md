# Evaluation Agent Runner Best Practices

## Overview

Use agent runners to execute your AI applications with multiple queries from test datasets in batch mode to collect responses for evaluation. This approach captures actual application behavior and response patterns efficiently.

## Core Principles

- Generate a plan before writing code

## Run Agent to Collect Responses

**Description**: Execute your application or agent directly with queries from test datasets to collect responses for evaluation.

**Advantages**:
- Captures real application behavior and actual response patterns

**When to Use**:
- When you need realistic responses that reflect actual usage patterns for evaluation

### What Data to Collect

Your test dataset should include the following components:

**Required Data**:
- **Input**: The complete input context provided to your application/agent, including:
  - User query, prompt, or request (text)
  - Input files and their contents
  - Workspace state and folder structures
  - Configuration files or settings
  - Environment variables or context
  - Any other contextual information the agent uses
- **Final Response**: The complete response generated by your application/agent, including:
  - Text responses, answers, or explanations
  - Generated files and workspace changes (for agents that create, modify, or delete files and folders):
    - Created files and their contents
    - Modified files with before/after snapshots
    - Folder structures and organization
    - Configuration files, code files, documentation
    - Any workspace state changes

**Optional Data**:
- **Conversation Histories**: List of messages capturing the full interaction flow, including:
  - User messages
  - Assistant responses
  - Tool calls and results
  - System messages
  - Any intermediate reasoning steps

  *Note: Conversation histories are optional because some SDKs do not return conversation histories in their responses. In such cases, conversation histories can be obtained through tracing infrastructure.*

{{#sdk_specific_practices}}
{{{sdk_specific_practices}}}
{{/sdk_specific_practices}}