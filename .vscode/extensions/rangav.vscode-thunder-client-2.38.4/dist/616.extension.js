"use strict";exports.id=616,exports.ids=[616],exports.modules={1371:(t,e,s)=>{s.d(e,{GetRoleCredentialsCommand:()=>N,SSOClient:()=>de});var n=s(131),o=s(130),r=s(129);const i={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var a=s(120),c=s(119);class u extends c.T{constructor(t){super(t),Object.setPrototypeOf(this,u.prototype)}}class p extends u{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,p.prototype)}}class d extends u{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,d.prototype)}}class h extends u{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,h.prototype)}}class l extends u{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,l.prototype)}}const m=t=>({...t,...t.accessToken&&{accessToken:a.$}}),y=t=>({...t,...t.secretAccessKey&&{secretAccessKey:a.$},...t.sessionToken&&{sessionToken:a.$}}),g=t=>({...t,...t.roleCredentials&&{roleCredentials:y(t.roleCredentials)}});var f=s(122),S=s(1372),v=s(125);const w=t=>null!=t;var b=s(126),P=s(121),x=s(128);const E=async(t,e)=>{const s=(0,S.l)(t,e),n=(0,v.Tj)({},w,{[z]:t[$]});s.bp("/federation/credentials");const o=(0,v.Tj)({[T]:[,(0,b.Y0)(t[U],"roleName")],[j]:[,(0,b.Y0)(t[F],"accountId")]});return s.m("GET").h(n).q(o).b(undefined),s.build()},R=async(t,e)=>{if(200!==t.statusCode&&t.statusCode>=300)return I(t,e);const s=(0,v.Tj)({$metadata:D(t)}),n=(0,b.Y0)((0,b.Xk)(await(0,f.Y2)(t.body,e)),"body"),o=(0,v.s)(n,{roleCredentials:P.S});return Object.assign(s,o),s},I=async(t,e)=>{const s={...t,body:await(0,f.CG)(t.body,e)},n=(0,f.cJ)(t,s.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await A(s,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await C(s,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await q(s,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await O(s,e);default:const o=s.body;return k({output:t,parsedBody:o,errorCode:n})}},k=(0,x.j)(u),A=async(t,e)=>{const s=(0,v.Tj)({}),n=t.body,o=(0,v.s)(n,{message:b.lK});Object.assign(s,o);const r=new p({$metadata:D(t),...s});return(0,c.M)(r,t.body)},C=async(t,e)=>{const s=(0,v.Tj)({}),n=t.body,o=(0,v.s)(n,{message:b.lK});Object.assign(s,o);const r=new d({$metadata:D(t),...s});return(0,c.M)(r,t.body)},q=async(t,e)=>{const s=(0,v.Tj)({}),n=t.body,o=(0,v.s)(n,{message:b.lK});Object.assign(s,o);const r=new h({$metadata:D(t),...s});return(0,c.M)(r,t.body)},O=async(t,e)=>{const s=(0,v.Tj)({}),n=t.body,o=(0,v.s)(n,{message:b.lK});Object.assign(s,o);const r=new l({$metadata:D(t),...s});return(0,c.M)(r,t.body)},D=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),F="accountId",$="accessToken",j="account_id",U="roleName",T="role_name",z="x-amz-sso_bearer_token";class N extends(r.u.classBuilder().ep(i).m((function(t,e,s,r){return[(0,o.TM)(s,this.serialize,this.deserialize),(0,n.r)(s,t.getEndpointParameterInstructions())]})).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(m,g).ser(E).de(R).build()){}var M=s(36),H=s(112),G=s(113),L=s(99),_=s(109),B=s(105),V=s(116),K=s(117),W=s(118),J=s(38),Q=s(106),X=s(88),Y=s(110),Z=s(103),tt=s(42),et=s(39),st=s(41);const nt=async(t,e,s)=>({operation:(0,et.u)(e).operation,region:await(0,st.t)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const ot=t=>{const e=[];switch(t.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":e.push({schemeId:"smithy.api#noAuth"});break;default:e.push(function(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(t,e)=>({signingProperties:{config:t,context:e}})}}(t))}return e},rt="3.911.0";var it=s(82),at=s(83),ct=s(86),ut=s(98),pt=s(80),dt=s(94),ht=s(97),lt=s(51),mt=s(67),yt=s(92),gt=s(93),ft=s(84),St=s(89),vt=s(61),wt=s(1374),bt=s(63),Pt=s(52),xt=s(59),Et=s(60),Rt=s(47),It=s(64),kt=s(53),At=s(57),Ct=s(58),qt=s(56);const Ot="required",Dt="fn",Ft="argv",$t="ref",jt=!0,Ut="isSet",Tt="booleanEquals",zt="error",Nt="endpoint",Mt="tree",Ht="PartitionResult",Gt="getAttr",Lt={[Ot]:!1,type:"String"},_t={[Ot]:!0,default:!1,type:"Boolean"},Bt={[$t]:"Endpoint"},Vt={[Dt]:Tt,[Ft]:[{[$t]:"UseFIPS"},!0]},Kt={[Dt]:Tt,[Ft]:[{[$t]:"UseDualStack"},!0]},Wt={},Jt={[Dt]:Gt,[Ft]:[{[$t]:Ht},"supportsFIPS"]},Qt={[$t]:Ht},Xt={[Dt]:Tt,[Ft]:[!0,{[Dt]:Gt,[Ft]:[Qt,"supportsDualStack"]}]},Yt=[Vt],Zt=[Kt],te=[{[$t]:"Region"}],ee={version:"1.0",parameters:{Region:Lt,UseDualStack:_t,UseFIPS:_t,Endpoint:Lt},rules:[{conditions:[{[Dt]:Ut,[Ft]:[Bt]}],rules:[{conditions:Yt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:zt},{conditions:Zt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:zt},{endpoint:{url:Bt,properties:Wt,headers:Wt},type:Nt}],type:Mt},{conditions:[{[Dt]:Ut,[Ft]:te}],rules:[{conditions:[{[Dt]:"aws.partition",[Ft]:te,assign:Ht}],rules:[{conditions:[Vt,Kt],rules:[{conditions:[{[Dt]:Tt,[Ft]:[jt,Jt]},Xt],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wt,headers:Wt},type:Nt}],type:Mt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:zt}],type:Mt},{conditions:Yt,rules:[{conditions:[{[Dt]:Tt,[Ft]:[Jt,jt]}],rules:[{conditions:[{[Dt]:"stringEquals",[Ft]:[{[Dt]:Gt,[Ft]:[Qt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Wt,headers:Wt},type:Nt},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Wt,headers:Wt},type:Nt}],type:Mt},{error:"FIPS is enabled but this partition does not support FIPS",type:zt}],type:Mt},{conditions:Zt,rules:[{conditions:[Xt],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wt,headers:Wt},type:Nt}],type:Mt},{error:"DualStack is enabled but this partition does not support DualStack",type:zt}],type:Mt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Wt,headers:Wt},type:Nt}],type:Mt}],type:Mt},{error:"Invalid Configuration: Missing Region",type:zt}]},se=new At.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ne=(t,e={})=>se.get(t,(()=>(0,Ct.s)(ee,{endpointParams:t,logger:e.logger})));qt.m.aws=kt.UF;var oe=s(81),re=s(66),ie=s(65);const ae=t=>{(0,ie.I)(process.version);const e=(0,re.I)(t),s=()=>e().then(oe.l),n=(t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??xt.E,base64Encoder:t?.base64Encoder??Et.n,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??ne,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??ot,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new vt.f2},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new wt.m}],logger:t?.logger??new bt.N,serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??Pt.D,utf8Decoder:t?.utf8Decoder??Rt.a,utf8Encoder:t?.utf8Encoder??It.P}))(t);(0,it.I)(process.version);const o={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,mt.Z)(at.$,o),bodyLengthChecker:t?.bodyLengthChecker??ft.n,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,ct.pf)({serviceId:n.serviceId,clientVersion:rt}),maxAttempts:t?.maxAttempts??(0,mt.Z)(X.qs,t),region:t?.region??(0,mt.Z)(pt.GG,{...pt.zH,...o}),requestHandler:yt.$.create(t?.requestHandler??s),retryMode:t?.retryMode??(0,mt.Z)({...X.kN,default:async()=>(await s()).retryMode||St.L0},t),sha256:t?.sha256??lt.V.bind(null,"sha256"),streamCollector:t?.streamCollector??gt.k,useDualstackEndpoint:t?.useDualstackEndpoint??(0,mt.Z)(dt.e$,o),useFipsEndpoint:t?.useFipsEndpoint??(0,mt.Z)(ht.Ko,o),userAgentAppId:t?.userAgentAppId??(0,mt.Z)(ut.hV,o)}};var ce=s(100),ue=s(102),pe=s(101);class de extends Z.K{config;constructor(...[t]){const e=ae(t||{});super(e),this.initConfig=e;const s=(n=e,Object.assign(n,{useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}));var n;const o=(0,L.D)(s),r=(0,X.$z)(o),i=(0,B.T)(r),a=(0,M.OV)(i),c=((t,e)=>{const s=Object.assign((0,ce.R)(t),(0,pe.xA)(t),(0,ue.e)(t),(t=>{const e=t.httpAuthSchemes;let s=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(t){const s=e.findIndex((e=>e.schemeId===t.schemeId));-1===s?e.push(t):e.splice(s,1,t)},httpAuthSchemes:()=>e,setHttpAuthSchemeProvider(t){s=t},httpAuthSchemeProvider:()=>s,setCredentials(t){n=t},credentials:()=>n}})(t));return e.forEach((t=>t.configure(s))),Object.assign(t,(0,ce.$)(s),(0,pe.uv)(s),(0,ue.j)(s),{httpAuthSchemes:(n=s).httpAuthSchemes(),httpAuthSchemeProvider:n.httpAuthSchemeProvider(),credentials:n.credentials()});var n})((t=>{const e=(0,tt.h)(t);return Object.assign(e,{authSchemePreference:(0,st.t)(t.authSchemePreference??[])})})((0,Q.C)(a)),t?.extensions||[]);this.config=c,this.middlewareStack.use((0,_.sM)(this.config)),this.middlewareStack.use((0,Y.ey)(this.config)),this.middlewareStack.use((0,J.vK)(this.config)),this.middlewareStack.use((0,M.TC)(this.config)),this.middlewareStack.use((0,H.Y7)(this.config)),this.middlewareStack.use((0,G.n)(this.config)),this.middlewareStack.use((0,V.w)(this.config,{httpAuthSchemeParametersProvider:nt,identityProviderConfigProvider:async t=>new K.h({"aws.auth#sigv4":t.credentials})})),this.middlewareStack.use((0,W.l)(this.config))}destroy(){super.destroy()}}},1373:(t,e,s)=>{function n(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}s.d(e,{$:()=>n})},1372:(t,e,s)=>{s.d(e,{l:()=>r});var n=s(37),o=s(1373);function r(t,e){return new i(t,e)}class i{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,e){this.input=t,this.context=e}async build(){const{hostname:t,protocol:e="https",port:s,path:o}=await this.context.endpoint();this.path=o;for(const t of this.resolvePathStack)t(this.path);return new n.K({protocol:e,hostname:this.hostname||t,port:s,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push((e=>{this.path=`${e?.endsWith("/")?e.slice(0,-1):e||""}`+t})),this}p(t,e,s,n){return this.resolvePathStack.push((r=>{this.path=((t,e,s,n,r,i)=>{if(null==e||void 0===e[s])throw new Error("No value provided for input HTTP label: "+s+".");{const e=n();if(e.length<=0)throw new Error("Empty value provided for input HTTP label: "+s+".");t=t.replace(r,i?e.split("/").map((t=>(0,o.$)(t))).join("/"):(0,o.$)(e))}return t})(r,this.input,t,e,s,n)})),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}},1374:(t,e,s)=>{s.d(e,{m:()=>n});class n{async sign(t,e,s){return t}}}};