"use strict";exports.id=114,exports.ids=[114,733],exports.modules={1367:(e,r,t)=>{t.r(r),t.d(r,{fromProcess:()=>f});var o=t(1364),n=t(70),s=t(68),c=t(1368),i=t(34),a=t(13),d=t(43);const l=async(e,r,t)=>{const o=r[e];if(!r[e])throw new s.C(`Profile ${e} could not be found in shared credentials file.`,{logger:t});{const n=o.credential_process;if(void 0===n)throw new s.C(`Profile ${e} did not contain credential_process.`,{logger:t});{const o=(0,a.promisify)(c.Z?.getTokenRecord?.().exec??i.exec);try{const{stdout:t}=await o(n);let s;try{s=JSON.parse(t.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return((e,r,t)=>{if(1!==r.Version)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(void 0===r.AccessKeyId||void 0===r.SecretAccessKey)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(r.Expiration){const t=new Date;if(new Date(r.Expiration)<t)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let o=r.AccountId;!o&&t?.[e]?.aws_account_id&&(o=t[e].aws_account_id);const n={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,...r.SessionToken&&{sessionToken:r.SessionToken},...r.Expiration&&{expiration:new Date(r.Expiration)},...r.CredentialScope&&{credentialScope:r.CredentialScope},...o&&{accountId:o}};return(0,d.g)(n,"CREDENTIALS_PROCESS","w"),n})(e,s,r)}catch(e){throw new s.C(e.message,{logger:t})}}}},f=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");const t=await(0,o.Y)(e);return l((0,n.Bz)({profile:e.profile??r?.profile}),t,e.logger)}},1368:(e,r,t)=>{t.d(r,{Z:()=>s});var o=t(1365),n=t(77);const s={getFileRecord:()=>n.Jj,interceptFile(e,r){n.Jj[e]=Promise.resolve(r)},getTokenRecord:()=>o.a,interceptToken(e,r){o.a[e]=r}}},1363:(e,r,t)=>{t.d(r,{C:()=>c});var o=t(9),n=t(5),s=t(75);const c=e=>{const r=(0,o.createHash)("sha1").update(e).digest("hex");return(0,n.join)((0,s.R)(),".aws","sso","cache",`${r}.json`)}},1365:(e,r,t)=>{t.d(r,{a:()=>c,v:()=>i});var o=t(10),n=t(1363);const{readFile:s}=o.promises,c={},i=async e=>{if(c[e])return c[e];const r=(0,n.C)(e),t=await s(r,"utf8");return JSON.parse(t)}},1364:(e,r,t)=>{t.d(r,{Y:()=>n});var o=t(71);const n=async e=>{const r=await(0,o.p)(e);return((...e)=>{const r={};for(const t of e)for(const[e,o]of Object.entries(t))void 0!==r[e]?Object.assign(r[e],o):r[e]=o;return r})(r.configFile,r.credentialsFile)}}};