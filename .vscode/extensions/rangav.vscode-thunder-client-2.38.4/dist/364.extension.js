"use strict";exports.id=364,exports.ids=[364],exports.modules={1375:(e,t,n)=>{n.d(t,{CreateTokenCommand:()=>ft,SSOOIDCClient:()=>Ce});var r=n(36),s=n(112),o=n(113),i=n(99),a=n(109),c=n(105),p=n(116),d=n(117),u=n(118),h=n(38),l=n(106),m=n(88),w=n(110),x=n(103),f=n(42),y=n(39),E=n(41);const S=async(e,t,n)=>({operation:(0,y.u)(t).operation,region:await(0,E.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const v=e=>{const t=[];if("CreateToken"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t},g={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var b=n(1376),I=n(82),P=n(83),O=n(86),$=n(98),k=n(80),C=n(94),j=n(97),D=n(51),T=n(67),A=n(92),_=n(93),z=n(84),R=n(89),U=n(61),q=n(1374),F=n(63),G=n(52),H=n(59),V=n(60),M=n(47),N=n(64),B=n(53),J=n(57),L=n(58),W=n(56);const K="required",Q="fn",X="argv",Y="ref",Z=!0,ee="isSet",te="booleanEquals",ne="error",re="endpoint",se="tree",oe="PartitionResult",ie="getAttr",ae={[K]:!1,type:"String"},ce={[K]:!0,default:!1,type:"Boolean"},pe={[Y]:"Endpoint"},de={[Q]:te,[X]:[{[Y]:"UseFIPS"},!0]},ue={[Q]:te,[X]:[{[Y]:"UseDualStack"},!0]},he={},le={[Q]:ie,[X]:[{[Y]:oe},"supportsFIPS"]},me={[Y]:oe},we={[Q]:te,[X]:[!0,{[Q]:ie,[X]:[me,"supportsDualStack"]}]},xe=[de],fe=[ue],ye=[{[Y]:"Region"}],Ee={version:"1.0",parameters:{Region:ae,UseDualStack:ce,UseFIPS:ce,Endpoint:ae},rules:[{conditions:[{[Q]:ee,[X]:[pe]}],rules:[{conditions:xe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ne},{conditions:fe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ne},{endpoint:{url:pe,properties:he,headers:he},type:re}],type:se},{conditions:[{[Q]:ee,[X]:ye}],rules:[{conditions:[{[Q]:"aws.partition",[X]:ye,assign:oe}],rules:[{conditions:[de,ue],rules:[{conditions:[{[Q]:te,[X]:[Z,le]},we],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:he,headers:he},type:re}],type:se},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ne}],type:se},{conditions:xe,rules:[{conditions:[{[Q]:te,[X]:[le,Z]}],rules:[{conditions:[{[Q]:"stringEquals",[X]:[{[Q]:ie,[X]:[me,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:he,headers:he},type:re},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:he,headers:he},type:re}],type:se},{error:"FIPS is enabled but this partition does not support FIPS",type:ne}],type:se},{conditions:fe,rules:[{conditions:[we],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:he,headers:he},type:re}],type:se},{error:"DualStack is enabled but this partition does not support DualStack",type:ne}],type:se},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:he,headers:he},type:re}],type:se}],type:se},{error:"Invalid Configuration: Missing Region",type:ne}]},Se=new J.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ve=(e,t={})=>Se.get(e,(()=>(0,L.s)(Ee,{endpointParams:e,logger:t.logger})));W.m.aws=B.UF;var ge=n(81),be=n(66),Ie=n(65);const Pe=e=>{(0,Ie.I)(process.version);const t=(0,be.I)(e),n=()=>t().then(ge.l),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??H.E,base64Encoder:e?.base64Encoder??V.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ve,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??v,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new U.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new q.m}],logger:e?.logger??new F.N,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??G.D,utf8Decoder:e?.utf8Decoder??M.a,utf8Encoder:e?.utf8Encoder??N.P}))(e);(0,I.I)(process.version);const s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,T.Z)(P.$,s),bodyLengthChecker:e?.bodyLengthChecker??z.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,O.pf)({serviceId:r.serviceId,clientVersion:b.rE}),maxAttempts:e?.maxAttempts??(0,T.Z)(m.qs,e),region:e?.region??(0,T.Z)(k.GG,{...k.zH,...s}),requestHandler:A.$.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,T.Z)({...m.kN,default:async()=>(await n()).retryMode||R.L0},e),sha256:e?.sha256??D.V.bind(null,"sha256"),streamCollector:e?.streamCollector??_.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,T.Z)(C.e$,s),useFipsEndpoint:e?.useFipsEndpoint??(0,T.Z)(j.Ko,s),userAgentAppId:e?.userAgentAppId??(0,T.Z)($.hV,s)}};var Oe=n(100),$e=n(102),ke=n(101);class Ce extends x.K{config;constructor(...[e]){const t=Pe(e||{});super(t),this.initConfig=t;const n=(x=t,Object.assign(x,{useDualstackEndpoint:x.useDualstackEndpoint??!1,useFipsEndpoint:x.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}));var x;const y=(0,i.D)(n),v=(0,m.$z)(y),g=(0,c.T)(v),b=(0,r.OV)(g),I=((e,t)=>{const n=Object.assign((0,Oe.R)(e),(0,ke.xA)(e),(0,$e.e)(e),(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex((t=>t.schemeId===e.schemeId));-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}})(e));return t.forEach((e=>e.configure(n))),Object.assign(e,(0,Oe.$)(n),(0,ke.uv)(n),(0,$e.j)(n),{httpAuthSchemes:(r=n).httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()});var r})((e=>{const t=(0,f.h)(e);return Object.assign(t,{authSchemePreference:(0,E.t)(e.authSchemePreference??[])})})((0,l.C)(b)),e?.extensions||[]);this.config=I,this.middlewareStack.use((0,a.sM)(this.config)),this.middlewareStack.use((0,w.ey)(this.config)),this.middlewareStack.use((0,h.vK)(this.config)),this.middlewareStack.use((0,r.TC)(this.config)),this.middlewareStack.use((0,s.Y7)(this.config)),this.middlewareStack.use((0,o.n)(this.config)),this.middlewareStack.use((0,p.w)(this.config,{httpAuthSchemeParametersProvider:S,identityProviderConfigProvider:async e=>new d.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,u.l)(this.config))}destroy(){super.destroy()}}var je=n(131),De=n(130),Te=n(129),Ae=n(120),_e=n(119);class ze extends _e.T{constructor(e){super(e),Object.setPrototypeOf(this,ze.prototype)}}class Re extends ze{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,Re.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}}class Ue extends ze{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,Ue.prototype),this.error=e.error,this.error_description=e.error_description}}const qe=e=>({...e,...e.clientSecret&&{clientSecret:Ae.$},...e.refreshToken&&{refreshToken:Ae.$},...e.codeVerifier&&{codeVerifier:Ae.$}}),Fe=e=>({...e,...e.accessToken&&{accessToken:Ae.$},...e.refreshToken&&{refreshToken:Ae.$},...e.idToken&&{idToken:Ae.$}});class Ge extends ze{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,Ge.prototype),this.error=e.error,this.error_description=e.error_description}}class He extends ze{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,He.prototype),this.error=e.error,this.error_description=e.error_description}}class Ve extends ze{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,Ve.prototype),this.error=e.error,this.error_description=e.error_description}}class Me extends ze{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,Me.prototype),this.error=e.error,this.error_description=e.error_description}}class Ne extends ze{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,Ne.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}}class Be extends ze{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,Be.prototype),this.error=e.error,this.error_description=e.error_description}}class Je extends ze{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,Je.prototype),this.error=e.error,this.error_description=e.error_description}}class Le extends ze{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,Le.prototype),this.error=e.error,this.error_description=e.error_description}}class We extends ze{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,We.prototype),this.error=e.error,this.error_description=e.error_description}}var Ke=n(122),Qe=n(1372),Xe=n(125),Ye=n(121),Ze=n(126),et=n(128);const tt=async(e,t)=>{const n=(0,Qe.l)(e,t);let r;return n.bp("/token"),r=JSON.stringify((0,Xe.s)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:e=>(0,Ye.S)(e)})),n.m("POST").h({"content-type":"application/json"}).b(r),n.build()},nt=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return rt(e,t);const n=(0,Xe.Tj)({$metadata:xt(e)}),r=(0,Ze.Y0)((0,Ze.Xk)(await(0,Ke.Y2)(e.body,t)),"body"),s=(0,Xe.s)(r,{accessToken:Ze.lK,expiresIn:Ze.ET,idToken:Ze.lK,refreshToken:Ze.lK,tokenType:Ze.lK});return Object.assign(n,s),n},rt=async(e,t)=>{const n={...e,body:await(0,Ke.CG)(e.body,t)},r=(0,Ke.cJ)(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await ot(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await it(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await at(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ct(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await pt(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await dt(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await ut(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await ht(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await lt(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await mt(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await wt(n,t);default:const s=n.body;return st({output:e,parsedBody:s,errorCode:r})}},st=(0,et.j)(ze),ot=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK,reason:Ze.lK});Object.assign(n,s);const o=new Re({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},it=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK});Object.assign(n,s);const o=new Ue({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},at=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK});Object.assign(n,s);const o=new Ge({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},ct=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK});Object.assign(n,s);const o=new He({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},pt=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK});Object.assign(n,s);const o=new Ve({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},dt=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK});Object.assign(n,s);const o=new Me({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},ut=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK,reason:Ze.lK});Object.assign(n,s);const o=new Ne({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},ht=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK});Object.assign(n,s);const o=new Be({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},lt=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK});Object.assign(n,s);const o=new Je({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},mt=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK});Object.assign(n,s);const o=new Le({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},wt=async(e,t)=>{const n=(0,Xe.Tj)({}),r=e.body,s=(0,Xe.s)(r,{error:Ze.lK,error_description:Ze.lK});Object.assign(n,s);const o=new We({$metadata:xt(e),...n});return(0,_e.M)(o,e.body)},xt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});class ft extends(Te.u.classBuilder().ep(g).m((function(e,t,n,r){return[(0,De.TM)(n,this.serialize,this.deserialize),(0,je.r)(n,e.getEndpointParameterInstructions())]})).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(qe,Fe).ser(tt).de(nt).build()){}},1373:(e,t,n)=>{function r(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}n.d(t,{$:()=>r})},1372:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(37),s=n(1373);function o(e,t){return new i(e,t)}class i{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(e,t){this.input=e,this.context=t}async build(){const{hostname:e,protocol:t="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(const e of this.resolvePathStack)e(this.path);return new r.K({protocol:t,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push((t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e})),this}p(e,t,n,r){return this.resolvePathStack.push((o=>{this.path=((e,t,n,r,o,i)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(o,i?t.split("/").map((e=>(0,s.$)(e))).join("/"):(0,s.$)(t))}return e})(o,this.input,e,t,n,r)})),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}},1374:(e,t,n)=>{n.d(t,{m:()=>r});class r{async sign(e,t,n){return e}}},1376:e=>{e.exports={rE:"3.911.0"}}};