"use strict";var E7e=Object.create;var Vw=Object.defineProperty;var I7e=Object.getOwnPropertyDescriptor;var x7e=Object.getOwnPropertyNames;var v7e=Object.getPrototypeOf,b7e=Object.prototype.hasOwnProperty;var vte=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),bte=t=>{throw TypeError(t)};var s=(t,e)=>Vw(t,"name",{value:e,configurable:!0});var h0=(t,e)=>()=>(t&&(e=t(t=0)),e);var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ei=(t,e)=>{for(var r in e)Vw(t,r,{get:e[r],enumerable:!0})},_7e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of x7e(e))!b7e.call(t,o)&&o!==r&&Vw(t,o,{get:()=>e[o],enumerable:!(n=I7e(e,o))||n.enumerable});return t};var We=(t,e,r)=>(r=t!=null?E7e(v7e(t)):{},_7e(e||!t||!t.__esModule?Vw(r,"default",{value:t,enumerable:!0}):r,t));var _te=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&bte("Object expected");var n,o;r&&(n=e[vte("asyncDispose")]),n===void 0&&(n=e[vte("dispose")],r&&(o=n)),typeof n!="function"&&bte("Object not disposable"),o&&(n=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.push([r,n,e])}else r&&t.push([r]);return e},Tte=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(c,l,u,f){return f=Error(u),f.name="SuppressedError",f.error=c,f.suppressed=l,f},o=c=>e=r?new n(c,e,"An error was suppressed during disposal"):(r=!0,c),a=c=>{for(;c=t.pop();)try{var l=c[1]&&c[1].call(c[2]);if(c[0])return Promise.resolve(l).then(a,u=>(o(u),a()))}catch(u){o(u)}if(r)throw e};return a()};var importMetaUrlShim,d=h0(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var Br=T((jw,Rte)=>{d();(function(t,e){typeof jw=="object"?Rte.exports=jw=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})(jw,function(){var t=t||function(e,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var o=s(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),a=Object.create||function(){function I(){}return s(I,"F"),function(x){var v;return I.prototype=x,v=new I,I.prototype=null,v}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:s(function(I){var x=a(this);return I&&x.mixIn(I),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},"extend"),create:s(function(){var I=this.extend();return I.init.apply(I,arguments),I},"create"),init:s(function(){},"init"),mixIn:s(function(I){for(var x in I)I.hasOwnProperty(x)&&(this[x]=I[x]);I.hasOwnProperty("toString")&&(this.toString=I.toString)},"mixIn"),clone:s(function(){return this.init.prototype.extend(this)},"clone")}}(),f=l.WordArray=u.extend({init:s(function(I,x){I=this.words=I||[],x!=r?this.sigBytes=x:this.sigBytes=I.length*4},"init"),toString:s(function(I){return(I||A).stringify(this)},"toString"),concat:s(function(I){var x=this.words,v=I.words,b=this.sigBytes,_=I.sigBytes;if(this.clamp(),b%4)for(var S=0;S<_;S++){var w=v[S>>>2]>>>24-S%4*8&255;x[b+S>>>2]|=w<<24-(b+S)%4*8}else for(var L=0;L<_;L+=4)x[b+L>>>2]=v[L>>>2];return this.sigBytes+=_,this},"concat"),clamp:s(function(){var I=this.words,x=this.sigBytes;I[x>>>2]&=4294967295<<32-x%4*8,I.length=e.ceil(x/4)},"clamp"),clone:s(function(){var I=u.clone.call(this);return I.words=this.words.slice(0),I},"clone"),random:s(function(I){for(var x=[],v=0;v<I;v+=4)x.push(o());return new f.init(x,I)},"random")}),h=c.enc={},A=h.Hex={stringify:s(function(I){for(var x=I.words,v=I.sigBytes,b=[],_=0;_<v;_++){var S=x[_>>>2]>>>24-_%4*8&255;b.push((S>>>4).toString(16)),b.push((S&15).toString(16))}return b.join("")},"stringify"),parse:s(function(I){for(var x=I.length,v=[],b=0;b<x;b+=2)v[b>>>3]|=parseInt(I.substr(b,2),16)<<24-b%8*4;return new f.init(v,x/2)},"parse")},p=h.Latin1={stringify:s(function(I){for(var x=I.words,v=I.sigBytes,b=[],_=0;_<v;_++){var S=x[_>>>2]>>>24-_%4*8&255;b.push(String.fromCharCode(S))}return b.join("")},"stringify"),parse:s(function(I){for(var x=I.length,v=[],b=0;b<x;b++)v[b>>>2]|=(I.charCodeAt(b)&255)<<24-b%4*8;return new f.init(v,x)},"parse")},m=h.Utf8={stringify:s(function(I){try{return decodeURIComponent(escape(p.stringify(I)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:s(function(I){return p.parse(unescape(encodeURIComponent(I)))},"parse")},g=l.BufferedBlockAlgorithm=u.extend({reset:s(function(){this._data=new f.init,this._nDataBytes=0},"reset"),_append:s(function(I){typeof I=="string"&&(I=m.parse(I)),this._data.concat(I),this._nDataBytes+=I.sigBytes},"_append"),_process:s(function(I){var x,v=this._data,b=v.words,_=v.sigBytes,S=this.blockSize,w=S*4,L=_/w;I?L=e.ceil(L):L=e.max((L|0)-this._minBufferSize,0);var M=L*S,Y=e.min(M*4,_);if(M){for(var D=0;D<M;D+=S)this._doProcessBlock(b,D);x=b.splice(0,M),v.sigBytes-=Y}return new f.init(x,Y)},"_process"),clone:s(function(){var I=u.clone.call(this);return I._data=this._data.clone(),I},"clone"),_minBufferSize:0}),y=l.Hasher=g.extend({cfg:u.extend(),init:s(function(I){this.cfg=this.cfg.extend(I),this.reset()},"init"),reset:s(function(){g.reset.call(this),this._doReset()},"reset"),update:s(function(I){return this._append(I),this._process(),this},"update"),finalize:s(function(I){I&&this._append(I);var x=this._doFinalize();return x},"finalize"),blockSize:512/32,_createHelper:s(function(I){return function(x,v){return new I.init(v).finalize(x)}},"_createHelper"),_createHmacHelper:s(function(I){return function(x,v){return new E.HMAC.init(I,v).finalize(x)}},"_createHmacHelper")}),E=c.algo={};return c}(Math);return t})});var Iv=T(($w,kte)=>{d();(function(t,e){typeof $w=="object"?kte.exports=$w=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})($w,function(t){return function(e){var r=t,n=r.lib,o=n.Base,a=n.WordArray,c=r.x64={},l=c.Word=o.extend({init:s(function(f,h){this.high=f,this.low=h},"init")}),u=c.WordArray=o.extend({init:s(function(f,h){f=this.words=f||[],h!=e?this.sigBytes=h:this.sigBytes=f.length*8},"init"),toX32:s(function(){for(var f=this.words,h=f.length,A=[],p=0;p<h;p++){var m=f[p];A.push(m.high),A.push(m.low)}return a.create(A,this.sigBytes)},"toX32"),clone:s(function(){for(var f=o.clone.call(this),h=f.words=this.words.slice(0),A=h.length,p=0;p<A;p++)h[p]=h[p].clone();return f},"clone")})}(),t})});var Nte=T((zw,Dte)=>{d();(function(t,e){typeof zw=="object"?Dte.exports=zw=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(zw,function(t){return function(){if(typeof ArrayBuffer=="function"){var e=t,r=e.lib,n=r.WordArray,o=n.init,a=n.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};a.prototype=n}}(),t.lib.WordArray})});var Pte=T((Kw,Qte)=>{d();(function(t,e){typeof Kw=="object"?Qte.exports=Kw=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Kw,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,a=o.Utf16=o.Utf16BE={stringify:s(function(l){for(var u=l.words,f=l.sigBytes,h=[],A=0;A<f;A+=2){var p=u[A>>>2]>>>16-A%4*8&65535;h.push(String.fromCharCode(p))}return h.join("")},"stringify"),parse:s(function(l){for(var u=l.length,f=[],h=0;h<u;h++)f[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return n.create(f,u*2)},"parse")};o.Utf16LE={stringify:s(function(l){for(var u=l.words,f=l.sigBytes,h=[],A=0;A<f;A+=2){var p=c(u[A>>>2]>>>16-A%4*8&65535);h.push(String.fromCharCode(p))}return h.join("")},"stringify"),parse:s(function(l){for(var u=l.length,f=[],h=0;h<u;h++)f[h>>>1]|=c(l.charCodeAt(h)<<16-h%2*16);return n.create(f,u*2)},"parse")};function c(l){return l<<8&4278255360|l>>>8&16711935}s(c,"swapEndian")}(),t.enc.Utf16})});var Vh=T((Jw,Fte)=>{d();(function(t,e){typeof Jw=="object"?Fte.exports=Jw=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Jw,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,a=o.Base64={stringify:s(function(l){var u=l.words,f=l.sigBytes,h=this._map;l.clamp();for(var A=[],p=0;p<f;p+=3)for(var m=u[p>>>2]>>>24-p%4*8&255,g=u[p+1>>>2]>>>24-(p+1)%4*8&255,y=u[p+2>>>2]>>>24-(p+2)%4*8&255,E=m<<16|g<<8|y,I=0;I<4&&p+I*.75<f;I++)A.push(h.charAt(E>>>6*(3-I)&63));var x=h.charAt(64);if(x)for(;A.length%4;)A.push(x);return A.join("")},"stringify"),parse:s(function(l){var u=l.length,f=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var A=0;A<f.length;A++)h[f.charCodeAt(A)]=A}var p=f.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(u=m)}return c(l,u,h)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(l,u,f){for(var h=[],A=0,p=0;p<u;p++)if(p%4){var m=f[l.charCodeAt(p-1)]<<p%4*2,g=f[l.charCodeAt(p)]>>>6-p%4*2,y=m|g;h[A>>>2]|=y<<24-A%4*8,A++}return n.create(h,A)}s(c,"parseLoop")}(),t.enc.Base64})});var Mte=T((Xw,Lte)=>{d();(function(t,e){typeof Xw=="object"?Lte.exports=Xw=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Xw,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,a=o.Base64url={stringify:s(function(l,u){u===void 0&&(u=!0);var f=l.words,h=l.sigBytes,A=u?this._safe_map:this._map;l.clamp();for(var p=[],m=0;m<h;m+=3)for(var g=f[m>>>2]>>>24-m%4*8&255,y=f[m+1>>>2]>>>24-(m+1)%4*8&255,E=f[m+2>>>2]>>>24-(m+2)%4*8&255,I=g<<16|y<<8|E,x=0;x<4&&m+x*.75<h;x++)p.push(A.charAt(I>>>6*(3-x)&63));var v=A.charAt(64);if(v)for(;p.length%4;)p.push(v);return p.join("")},"stringify"),parse:s(function(l,u){u===void 0&&(u=!0);var f=l.length,h=u?this._safe_map:this._map,A=this._reverseMap;if(!A){A=this._reverseMap=[];for(var p=0;p<h.length;p++)A[h.charCodeAt(p)]=p}var m=h.charAt(64);if(m){var g=l.indexOf(m);g!==-1&&(f=g)}return c(l,f,A)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(l,u,f){for(var h=[],A=0,p=0;p<u;p++)if(p%4){var m=f[l.charCodeAt(p-1)]<<p%4*2,g=f[l.charCodeAt(p)]>>>6-p%4*2,y=m|g;h[A>>>2]|=y<<24-A%4*8,A++}return n.create(h,A)}s(c,"parseLoop")}(),t.enc.Base64url})});var Wh=T((Zw,Ote)=>{d();(function(t,e){typeof Zw=="object"?Ote.exports=Zw=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Zw,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=e.abs(e.sin(m+1))*4294967296|0})();var u=c.MD5=a.extend({_doReset:s(function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:s(function(m,g){for(var y=0;y<16;y++){var E=g+y,I=m[E];m[E]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var x=this._hash.words,v=m[g+0],b=m[g+1],_=m[g+2],S=m[g+3],w=m[g+4],L=m[g+5],M=m[g+6],Y=m[g+7],D=m[g+8],O=m[g+9],W=m[g+10],R=m[g+11],Q=m[g+12],q=m[g+13],U=m[g+14],V=m[g+15],z=x[0],$=x[1],j=x[2],Z=x[3];z=f(z,$,j,Z,v,7,l[0]),Z=f(Z,z,$,j,b,12,l[1]),j=f(j,Z,z,$,_,17,l[2]),$=f($,j,Z,z,S,22,l[3]),z=f(z,$,j,Z,w,7,l[4]),Z=f(Z,z,$,j,L,12,l[5]),j=f(j,Z,z,$,M,17,l[6]),$=f($,j,Z,z,Y,22,l[7]),z=f(z,$,j,Z,D,7,l[8]),Z=f(Z,z,$,j,O,12,l[9]),j=f(j,Z,z,$,W,17,l[10]),$=f($,j,Z,z,R,22,l[11]),z=f(z,$,j,Z,Q,7,l[12]),Z=f(Z,z,$,j,q,12,l[13]),j=f(j,Z,z,$,U,17,l[14]),$=f($,j,Z,z,V,22,l[15]),z=h(z,$,j,Z,b,5,l[16]),Z=h(Z,z,$,j,M,9,l[17]),j=h(j,Z,z,$,R,14,l[18]),$=h($,j,Z,z,v,20,l[19]),z=h(z,$,j,Z,L,5,l[20]),Z=h(Z,z,$,j,W,9,l[21]),j=h(j,Z,z,$,V,14,l[22]),$=h($,j,Z,z,w,20,l[23]),z=h(z,$,j,Z,O,5,l[24]),Z=h(Z,z,$,j,U,9,l[25]),j=h(j,Z,z,$,S,14,l[26]),$=h($,j,Z,z,D,20,l[27]),z=h(z,$,j,Z,q,5,l[28]),Z=h(Z,z,$,j,_,9,l[29]),j=h(j,Z,z,$,Y,14,l[30]),$=h($,j,Z,z,Q,20,l[31]),z=A(z,$,j,Z,L,4,l[32]),Z=A(Z,z,$,j,D,11,l[33]),j=A(j,Z,z,$,R,16,l[34]),$=A($,j,Z,z,U,23,l[35]),z=A(z,$,j,Z,b,4,l[36]),Z=A(Z,z,$,j,w,11,l[37]),j=A(j,Z,z,$,Y,16,l[38]),$=A($,j,Z,z,W,23,l[39]),z=A(z,$,j,Z,q,4,l[40]),Z=A(Z,z,$,j,v,11,l[41]),j=A(j,Z,z,$,S,16,l[42]),$=A($,j,Z,z,M,23,l[43]),z=A(z,$,j,Z,O,4,l[44]),Z=A(Z,z,$,j,Q,11,l[45]),j=A(j,Z,z,$,V,16,l[46]),$=A($,j,Z,z,_,23,l[47]),z=p(z,$,j,Z,v,6,l[48]),Z=p(Z,z,$,j,Y,10,l[49]),j=p(j,Z,z,$,U,15,l[50]),$=p($,j,Z,z,L,21,l[51]),z=p(z,$,j,Z,Q,6,l[52]),Z=p(Z,z,$,j,S,10,l[53]),j=p(j,Z,z,$,W,15,l[54]),$=p($,j,Z,z,b,21,l[55]),z=p(z,$,j,Z,D,6,l[56]),Z=p(Z,z,$,j,V,10,l[57]),j=p(j,Z,z,$,M,15,l[58]),$=p($,j,Z,z,q,21,l[59]),z=p(z,$,j,Z,w,6,l[60]),Z=p(Z,z,$,j,R,10,l[61]),j=p(j,Z,z,$,_,15,l[62]),$=p($,j,Z,z,O,21,l[63]),x[0]=x[0]+z|0,x[1]=x[1]+$|0,x[2]=x[2]+j|0,x[3]=x[3]+Z|0},"_doProcessBlock"),_doFinalize:s(function(){var m=this._data,g=m.words,y=this._nDataBytes*8,E=m.sigBytes*8;g[E>>>5]|=128<<24-E%32;var I=e.floor(y/4294967296),x=y;g[(E+64>>>9<<4)+15]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,g[(E+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var v=this._hash,b=v.words,_=0;_<4;_++){var S=b[_];b[_]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return v},"_doFinalize"),clone:s(function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});function f(m,g,y,E,I,x,v){var b=m+(g&y|~g&E)+I+v;return(b<<x|b>>>32-x)+g}s(f,"FF");function h(m,g,y,E,I,x,v){var b=m+(g&E|y&~E)+I+v;return(b<<x|b>>>32-x)+g}s(h,"GG");function A(m,g,y,E,I,x,v){var b=m+(g^y^E)+I+v;return(b<<x|b>>>32-x)+g}s(A,"HH");function p(m,g,y,E,I,x,v){var b=m+(y^(g|~E))+I+v;return(b<<x|b>>>32-x)+g}s(p,"II"),r.MD5=a._createHelper(u),r.HmacMD5=a._createHmacHelper(u)}(Math),t.MD5})});var uF=T((eS,Ute)=>{d();(function(t,e){typeof eS=="object"?Ute.exports=eS=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(eS,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=r.Hasher,a=e.algo,c=[],l=a.SHA1=o.extend({_doReset:s(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(u,f){for(var h=this._hash.words,A=h[0],p=h[1],m=h[2],g=h[3],y=h[4],E=0;E<80;E++){if(E<16)c[E]=u[f+E]|0;else{var I=c[E-3]^c[E-8]^c[E-14]^c[E-16];c[E]=I<<1|I>>>31}var x=(A<<5|A>>>27)+y+c[E];E<20?x+=(p&m|~p&g)+1518500249:E<40?x+=(p^m^g)+1859775393:E<60?x+=(p&m|p&g|m&g)-1894007588:x+=(p^m^g)-899497514,y=g,g=m,m=p<<30|p>>>2,p=A,A=x}h[0]=h[0]+A|0,h[1]=h[1]+p|0,h[2]=h[2]+m|0,h[3]=h[3]+g|0,h[4]=h[4]+y|0},"_doProcessBlock"),_doFinalize:s(function(){var u=this._data,f=u.words,h=this._nDataBytes*8,A=u.sigBytes*8;return f[A>>>5]|=128<<24-A%32,f[(A+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(A+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u},"clone")});e.SHA1=o._createHelper(l),e.HmacSHA1=o._createHmacHelper(l)}(),t.SHA1})});var rS=T((tS,qte)=>{d();(function(t,e){typeof tS=="object"?qte.exports=tS=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(tS,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.algo,l=[],u=[];(function(){function A(y){for(var E=e.sqrt(y),I=2;I<=E;I++)if(!(y%I))return!1;return!0}s(A,"isPrime");function p(y){return(y-(y|0))*4294967296|0}s(p,"getFractionalBits");for(var m=2,g=0;g<64;)A(m)&&(g<8&&(l[g]=p(e.pow(m,1/2))),u[g]=p(e.pow(m,1/3)),g++),m++})();var f=[],h=c.SHA256=a.extend({_doReset:s(function(){this._hash=new o.init(l.slice(0))},"_doReset"),_doProcessBlock:s(function(A,p){for(var m=this._hash.words,g=m[0],y=m[1],E=m[2],I=m[3],x=m[4],v=m[5],b=m[6],_=m[7],S=0;S<64;S++){if(S<16)f[S]=A[p+S]|0;else{var w=f[S-15],L=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,M=f[S-2],Y=(M<<15|M>>>17)^(M<<13|M>>>19)^M>>>10;f[S]=L+f[S-7]+Y+f[S-16]}var D=x&v^~x&b,O=g&y^g&E^y&E,W=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),R=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),Q=_+R+D+u[S]+f[S],q=W+O;_=b,b=v,v=x,x=I+Q|0,I=E,E=y,y=g,g=Q+q|0}m[0]=m[0]+g|0,m[1]=m[1]+y|0,m[2]=m[2]+E|0,m[3]=m[3]+I|0,m[4]=m[4]+x|0,m[5]=m[5]+v|0,m[6]=m[6]+b|0,m[7]=m[7]+_|0},"_doProcessBlock"),_doFinalize:s(function(){var A=this._data,p=A.words,m=this._nDataBytes*8,g=A.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=e.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,A.sigBytes=p.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var A=a.clone.call(this);return A._hash=this._hash.clone(),A},"clone")});r.SHA256=a._createHelper(h),r.HmacSHA256=a._createHmacHelper(h)}(Math),t.SHA256})});var Gte=T((nS,Hte)=>{d();(function(t,e,r){typeof nS=="object"?Hte.exports=nS=e(Br(),rS()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(t.CryptoJS)})(nS,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:s(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:s(function(){var l=a._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});e.SHA224=a._createHelper(c),e.HmacSHA224=a._createHmacHelper(c)}(),t.SHA224})});var fF=T((iS,Vte)=>{d();(function(t,e,r){typeof iS=="object"?Vte.exports=iS=e(Br(),Iv()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(iS,function(t){return function(){var e=t,r=e.lib,n=r.Hasher,o=e.x64,a=o.Word,c=o.WordArray,l=e.algo;function u(){return a.create.apply(a,arguments)}s(u,"X64Word_create");var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var p=0;p<80;p++)h[p]=u()})();var A=l.SHA512=n.extend({_doReset:s(function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:s(function(p,m){for(var g=this._hash.words,y=g[0],E=g[1],I=g[2],x=g[3],v=g[4],b=g[5],_=g[6],S=g[7],w=y.high,L=y.low,M=E.high,Y=E.low,D=I.high,O=I.low,W=x.high,R=x.low,Q=v.high,q=v.low,U=b.high,V=b.low,z=_.high,$=_.low,j=S.high,Z=S.low,le=w,Se=L,et=M,qe=Y,Tt=D,ur=O,nr=W,Er=R,J=Q,xe=q,te=U,Le=V,we=z,oe=$,Re=j,rt=Z,Fe=0;Fe<80;Fe++){var Ye,yt,Gt=h[Fe];if(Fe<16)yt=Gt.high=p[m+Fe*2]|0,Ye=Gt.low=p[m+Fe*2+1]|0;else{var ir=h[Fe-15],an=ir.high,Qn=ir.low,Zi=(an>>>1|Qn<<31)^(an>>>8|Qn<<24)^an>>>7,eo=(Qn>>>1|an<<31)^(Qn>>>8|an<<24)^(Qn>>>7|an<<25),Co=h[Fe-2],X=Co.high,ve=Co.low,Oe=(X>>>19|ve<<13)^(X<<3|ve>>>29)^X>>>6,Ke=(ve>>>19|X<<13)^(ve<<3|X>>>29)^(ve>>>6|X<<26),fr=h[Fe-7],Ir=fr.high,sn=fr.low,dn=h[Fe-16],tr=dn.high,se=dn.low;Ye=eo+sn,yt=Zi+Ir+(Ye>>>0<eo>>>0?1:0),Ye=Ye+Ke,yt=yt+Oe+(Ye>>>0<Ke>>>0?1:0),Ye=Ye+se,yt=yt+tr+(Ye>>>0<se>>>0?1:0),Gt.high=yt,Gt.low=Ye}var pe=J&te^~J&we,Ne=xe&Le^~xe&oe,je=le&et^le&Tt^et&Tt,lt=Se&qe^Se&ur^qe&ur,At=(le>>>28|Se<<4)^(le<<30|Se>>>2)^(le<<25|Se>>>7),dr=(Se>>>28|le<<4)^(Se<<30|le>>>2)^(Se<<25|le>>>7),Pn=(J>>>14|xe<<18)^(J>>>18|xe<<14)^(J<<23|xe>>>9),Ro=(xe>>>14|J<<18)^(xe>>>18|J<<14)^(xe<<23|J>>>9),qt=f[Fe],ry=qt.high,ue=qt.low,k=rt+Ro,ee=Re+Pn+(k>>>0<rt>>>0?1:0),k=k+Ne,ee=ee+pe+(k>>>0<Ne>>>0?1:0),k=k+ue,ee=ee+ry+(k>>>0<ue>>>0?1:0),k=k+Ye,ee=ee+yt+(k>>>0<Ye>>>0?1:0),ne=dr+lt,G=At+je+(ne>>>0<dr>>>0?1:0);Re=we,rt=oe,we=te,oe=Le,te=J,Le=xe,xe=Er+k|0,J=nr+ee+(xe>>>0<Er>>>0?1:0)|0,nr=Tt,Er=ur,Tt=et,ur=qe,et=le,qe=Se,Se=k+ne|0,le=ee+G+(Se>>>0<k>>>0?1:0)|0}L=y.low=L+Se,y.high=w+le+(L>>>0<Se>>>0?1:0),Y=E.low=Y+qe,E.high=M+et+(Y>>>0<qe>>>0?1:0),O=I.low=O+ur,I.high=D+Tt+(O>>>0<ur>>>0?1:0),R=x.low=R+Er,x.high=W+nr+(R>>>0<Er>>>0?1:0),q=v.low=q+xe,v.high=Q+J+(q>>>0<xe>>>0?1:0),V=b.low=V+Le,b.high=U+te+(V>>>0<Le>>>0?1:0),$=_.low=$+oe,_.high=z+we+($>>>0<oe>>>0?1:0),Z=S.low=Z+rt,S.high=j+Re+(Z>>>0<rt>>>0?1:0)},"_doProcessBlock"),_doFinalize:s(function(){var p=this._data,m=p.words,g=this._nDataBytes*8,y=p.sigBytes*8;m[y>>>5]|=128<<24-y%32,m[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(y+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var E=this._hash.toX32();return E},"_doFinalize"),clone:s(function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},"clone"),blockSize:1024/32});e.SHA512=n._createHelper(A),e.HmacSHA512=n._createHmacHelper(A)}(),t.SHA512})});var Yte=T((oS,Wte)=>{d();(function(t,e,r){typeof oS=="object"?Wte.exports=oS=e(Br(),Iv(),fF()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(t.CryptoJS)})(oS,function(t){return function(){var e=t,r=e.x64,n=r.Word,o=r.WordArray,a=e.algo,c=a.SHA512,l=a.SHA384=c.extend({_doReset:s(function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:s(function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u},"_doFinalize")});e.SHA384=c._createHelper(l),e.HmacSHA384=c._createHmacHelper(l)}(),t.SHA384})});var $te=T((sS,jte)=>{d();(function(t,e,r){typeof sS=="object"?jte.exports=sS=e(Br(),Iv()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(sS,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.x64,l=c.Word,u=r.algo,f=[],h=[],A=[];(function(){for(var g=1,y=0,E=0;E<24;E++){f[g+5*y]=(E+1)*(E+2)/2%64;var I=y%5,x=(2*g+3*y)%5;g=I,y=x}for(var g=0;g<5;g++)for(var y=0;y<5;y++)h[g+5*y]=y+(2*g+3*y)%5*5;for(var v=1,b=0;b<24;b++){for(var _=0,S=0,w=0;w<7;w++){if(v&1){var L=(1<<w)-1;L<32?S^=1<<L:_^=1<<L-32}v&128?v=v<<1^113:v<<=1}A[b]=l.create(_,S)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=l.create()})();var m=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:s(function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:s(function(g,y){for(var E=this._state,I=this.blockSize/2,x=0;x<I;x++){var v=g[y+2*x],b=g[y+2*x+1];v=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360;var _=E[x];_.high^=b,_.low^=v}for(var S=0;S<24;S++){for(var w=0;w<5;w++){for(var L=0,M=0,Y=0;Y<5;Y++){var _=E[w+5*Y];L^=_.high,M^=_.low}var D=p[w];D.high=L,D.low=M}for(var w=0;w<5;w++)for(var O=p[(w+4)%5],W=p[(w+1)%5],R=W.high,Q=W.low,L=O.high^(R<<1|Q>>>31),M=O.low^(Q<<1|R>>>31),Y=0;Y<5;Y++){var _=E[w+5*Y];_.high^=L,_.low^=M}for(var q=1;q<25;q++){var L,M,_=E[q],U=_.high,V=_.low,z=f[q];z<32?(L=U<<z|V>>>32-z,M=V<<z|U>>>32-z):(L=V<<z-32|U>>>64-z,M=U<<z-32|V>>>64-z);var $=p[h[q]];$.high=L,$.low=M}var j=p[0],Z=E[0];j.high=Z.high,j.low=Z.low;for(var w=0;w<5;w++)for(var Y=0;Y<5;Y++){var q=w+5*Y,_=E[q],le=p[q],Se=p[(w+1)%5+5*Y],et=p[(w+2)%5+5*Y];_.high=le.high^~Se.high&et.high,_.low=le.low^~Se.low&et.low}var _=E[0],qe=A[S];_.high^=qe.high,_.low^=qe.low}},"_doProcessBlock"),_doFinalize:s(function(){var g=this._data,y=g.words,E=this._nDataBytes*8,I=g.sigBytes*8,x=this.blockSize*32;y[I>>>5]|=1<<24-I%32,y[(e.ceil((I+1)/x)*x>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var v=this._state,b=this.cfg.outputLength/8,_=b/8,S=[],w=0;w<_;w++){var L=v[w],M=L.high,Y=L.low;M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,Y=(Y<<8|Y>>>24)&16711935|(Y<<24|Y>>>8)&4278255360,S.push(Y),S.push(M)}return new o.init(S,b)},"_doFinalize"),clone:s(function(){for(var g=a.clone.call(this),y=g._state=this._state.slice(0),E=0;E<25;E++)y[E]=y[E].clone();return g},"clone")});r.SHA3=a._createHelper(m),r.HmacSHA3=a._createHmacHelper(m)}(Math),t.SHA3})});var Kte=T((aS,zte)=>{d();(function(t,e){typeof aS=="object"?zte.exports=aS=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(aS,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),A=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=c.RIPEMD160=a.extend({_doReset:s(function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(b,_){for(var S=0;S<16;S++){var w=_+S,L=b[w];b[w]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}var M=this._hash.words,Y=A.words,D=p.words,O=l.words,W=u.words,R=f.words,Q=h.words,q,U,V,z,$,j,Z,le,Se,et;j=q=M[0],Z=U=M[1],le=V=M[2],Se=z=M[3],et=$=M[4];for(var qe,S=0;S<80;S+=1)qe=q+b[_+O[S]]|0,S<16?qe+=g(U,V,z)+Y[0]:S<32?qe+=y(U,V,z)+Y[1]:S<48?qe+=E(U,V,z)+Y[2]:S<64?qe+=I(U,V,z)+Y[3]:qe+=x(U,V,z)+Y[4],qe=qe|0,qe=v(qe,R[S]),qe=qe+$|0,q=$,$=z,z=v(V,10),V=U,U=qe,qe=j+b[_+W[S]]|0,S<16?qe+=x(Z,le,Se)+D[0]:S<32?qe+=I(Z,le,Se)+D[1]:S<48?qe+=E(Z,le,Se)+D[2]:S<64?qe+=y(Z,le,Se)+D[3]:qe+=g(Z,le,Se)+D[4],qe=qe|0,qe=v(qe,Q[S]),qe=qe+et|0,j=et,et=Se,Se=v(le,10),le=Z,Z=qe;qe=M[1]+V+Se|0,M[1]=M[2]+z+et|0,M[2]=M[3]+$+j|0,M[3]=M[4]+q+Z|0,M[4]=M[0]+U+le|0,M[0]=qe},"_doProcessBlock"),_doFinalize:s(function(){var b=this._data,_=b.words,S=this._nDataBytes*8,w=b.sigBytes*8;_[w>>>5]|=128<<24-w%32,_[(w+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,b.sigBytes=(_.length+1)*4,this._process();for(var L=this._hash,M=L.words,Y=0;Y<5;Y++){var D=M[Y];M[Y]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return L},"_doFinalize"),clone:s(function(){var b=a.clone.call(this);return b._hash=this._hash.clone(),b},"clone")});function g(b,_,S){return b^_^S}s(g,"f1");function y(b,_,S){return b&_|~b&S}s(y,"f2");function E(b,_,S){return(b|~_)^S}s(E,"f3");function I(b,_,S){return b&S|_&~S}s(I,"f4");function x(b,_,S){return b^(_|~S)}s(x,"f5");function v(b,_){return b<<_|b>>>32-_}s(v,"rotl"),r.RIPEMD160=a._createHelper(m),r.HmacRIPEMD160=a._createHmacHelper(m)}(Math),t.RIPEMD160})});var lS=T((cS,Jte)=>{d();(function(t,e){typeof cS=="object"?Jte.exports=cS=e(Br()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(cS,function(t){(function(){var e=t,r=e.lib,n=r.Base,o=e.enc,a=o.Utf8,c=e.algo,l=c.HMAC=n.extend({init:s(function(u,f){u=this._hasher=new u.init,typeof f=="string"&&(f=a.parse(f));var h=u.blockSize,A=h*4;f.sigBytes>A&&(f=u.finalize(f)),f.clamp();for(var p=this._oKey=f.clone(),m=this._iKey=f.clone(),g=p.words,y=m.words,E=0;E<h;E++)g[E]^=1549556828,y[E]^=909522486;p.sigBytes=m.sigBytes=A,this.reset()},"init"),reset:s(function(){var u=this._hasher;u.reset(),u.update(this._iKey)},"reset"),update:s(function(u){return this._hasher.update(u),this},"update"),finalize:s(function(u){var f=this._hasher,h=f.finalize(u);f.reset();var A=f.finalize(this._oKey.clone().concat(h));return A},"finalize")})})()})});var Zte=T((uS,Xte)=>{d();(function(t,e,r){typeof uS=="object"?Xte.exports=uS=e(Br(),rS(),lS()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(t.CryptoJS)})(uS,function(t){return function(){var e=t,r=e.lib,n=r.Base,o=r.WordArray,a=e.algo,c=a.SHA256,l=a.HMAC,u=a.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:c,iterations:25e4}),init:s(function(f){this.cfg=this.cfg.extend(f)},"init"),compute:s(function(f,h){for(var A=this.cfg,p=l.create(A.hasher,f),m=o.create(),g=o.create([1]),y=m.words,E=g.words,I=A.keySize,x=A.iterations;y.length<I;){var v=p.update(h).finalize(g);p.reset();for(var b=v.words,_=b.length,S=v,w=1;w<x;w++){S=p.finalize(S),p.reset();for(var L=S.words,M=0;M<_;M++)b[M]^=L[M]}m.concat(v),E[0]++}return m.sigBytes=I*4,m},"compute")});e.PBKDF2=function(f,h,A){return u.create(A).compute(f,h)}}(),t.PBKDF2})});var ed=T((fS,ere)=>{d();(function(t,e,r){typeof fS=="object"?ere.exports=fS=e(Br(),uF(),lS()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(t.CryptoJS)})(fS,function(t){return function(){var e=t,r=e.lib,n=r.Base,o=r.WordArray,a=e.algo,c=a.MD5,l=a.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:c,iterations:1}),init:s(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:s(function(u,f){for(var h,A=this.cfg,p=A.hasher.create(),m=o.create(),g=m.words,y=A.keySize,E=A.iterations;g.length<y;){h&&p.update(h),h=p.update(u).finalize(f),p.reset();for(var I=1;I<E;I++)h=p.finalize(h),p.reset();m.concat(h)}return m.sigBytes=y*4,m},"compute")});e.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),t.EvpKDF})});var yo=T((dS,tre)=>{d();(function(t,e,r){typeof dS=="object"?tre.exports=dS=e(Br(),ed()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(t.CryptoJS)})(dS,function(t){t.lib.Cipher||function(e){var r=t,n=r.lib,o=n.Base,a=n.WordArray,c=n.BufferedBlockAlgorithm,l=r.enc,u=l.Utf8,f=l.Base64,h=r.algo,A=h.EvpKDF,p=n.Cipher=c.extend({cfg:o.extend(),createEncryptor:s(function(D,O){return this.create(this._ENC_XFORM_MODE,D,O)},"createEncryptor"),createDecryptor:s(function(D,O){return this.create(this._DEC_XFORM_MODE,D,O)},"createDecryptor"),init:s(function(D,O,W){this.cfg=this.cfg.extend(W),this._xformMode=D,this._key=O,this.reset()},"init"),reset:s(function(){c.reset.call(this),this._doReset()},"reset"),process:s(function(D){return this._append(D),this._process()},"process"),finalize:s(function(D){D&&this._append(D);var O=this._doFinalize();return O},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function D(O){return typeof O=="string"?Y:w}return s(D,"selectCipherStrategy"),function(O){return{encrypt:s(function(W,R,Q){return D(R).encrypt(O,W,R,Q)},"encrypt"),decrypt:s(function(W,R,Q){return D(R).decrypt(O,W,R,Q)},"decrypt")}}}()}),m=n.StreamCipher=p.extend({_doFinalize:s(function(){var D=this._process(!0);return D},"_doFinalize"),blockSize:1}),g=r.mode={},y=n.BlockCipherMode=o.extend({createEncryptor:s(function(D,O){return this.Encryptor.create(D,O)},"createEncryptor"),createDecryptor:s(function(D,O){return this.Decryptor.create(D,O)},"createDecryptor"),init:s(function(D,O){this._cipher=D,this._iv=O},"init")}),E=g.CBC=function(){var D=y.extend();D.Encryptor=D.extend({processBlock:s(function(W,R){var Q=this._cipher,q=Q.blockSize;O.call(this,W,R,q),Q.encryptBlock(W,R),this._prevBlock=W.slice(R,R+q)},"processBlock")}),D.Decryptor=D.extend({processBlock:s(function(W,R){var Q=this._cipher,q=Q.blockSize,U=W.slice(R,R+q);Q.decryptBlock(W,R),O.call(this,W,R,q),this._prevBlock=U},"processBlock")});function O(W,R,Q){var q,U=this._iv;U?(q=U,this._iv=e):q=this._prevBlock;for(var V=0;V<Q;V++)W[R+V]^=q[V]}return s(O,"xorBlock"),D}(),I=r.pad={},x=I.Pkcs7={pad:s(function(D,O){for(var W=O*4,R=W-D.sigBytes%W,Q=R<<24|R<<16|R<<8|R,q=[],U=0;U<R;U+=4)q.push(Q);var V=a.create(q,R);D.concat(V)},"pad"),unpad:s(function(D){var O=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=O},"unpad")},v=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:E,padding:x}),reset:s(function(){var D;p.reset.call(this);var O=this.cfg,W=O.iv,R=O.mode;this._xformMode==this._ENC_XFORM_MODE?D=R.createEncryptor:(D=R.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,W&&W.words):(this._mode=D.call(R,this,W&&W.words),this._mode.__creator=D)},"reset"),_doProcessBlock:s(function(D,O){this._mode.processBlock(D,O)},"_doProcessBlock"),_doFinalize:s(function(){var D,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),O.unpad(D)),D},"_doFinalize"),blockSize:128/32}),b=n.CipherParams=o.extend({init:s(function(D){this.mixIn(D)},"init"),toString:s(function(D){return(D||this.formatter).stringify(this)},"toString")}),_=r.format={},S=_.OpenSSL={stringify:s(function(D){var O,W=D.ciphertext,R=D.salt;return R?O=a.create([1398893684,1701076831]).concat(R).concat(W):O=W,O.toString(f)},"stringify"),parse:s(function(D){var O,W=f.parse(D),R=W.words;return R[0]==1398893684&&R[1]==1701076831&&(O=a.create(R.slice(2,4)),R.splice(0,4),W.sigBytes-=16),b.create({ciphertext:W,salt:O})},"parse")},w=n.SerializableCipher=o.extend({cfg:o.extend({format:S}),encrypt:s(function(D,O,W,R){R=this.cfg.extend(R);var Q=D.createEncryptor(W,R),q=Q.finalize(O),U=Q.cfg;return b.create({ciphertext:q,key:W,iv:U.iv,algorithm:D,mode:U.mode,padding:U.padding,blockSize:D.blockSize,formatter:R.format})},"encrypt"),decrypt:s(function(D,O,W,R){R=this.cfg.extend(R),O=this._parse(O,R.format);var Q=D.createDecryptor(W,R).finalize(O.ciphertext);return Q},"decrypt"),_parse:s(function(D,O){return typeof D=="string"?O.parse(D,this):D},"_parse")}),L=r.kdf={},M=L.OpenSSL={execute:s(function(D,O,W,R,Q){if(R||(R=a.random(64/8)),Q)var q=A.create({keySize:O+W,hasher:Q}).compute(D,R);else var q=A.create({keySize:O+W}).compute(D,R);var U=a.create(q.words.slice(O),W*4);return q.sigBytes=O*4,b.create({key:q,iv:U,salt:R})},"execute")},Y=n.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:M}),encrypt:s(function(D,O,W,R){R=this.cfg.extend(R);var Q=R.kdf.execute(W,D.keySize,D.ivSize,R.salt,R.hasher);R.iv=Q.iv;var q=w.encrypt.call(this,D,O,Q.key,R);return q.mixIn(Q),q},"encrypt"),decrypt:s(function(D,O,W,R){R=this.cfg.extend(R),O=this._parse(O,R.format);var Q=R.kdf.execute(W,D.keySize,D.ivSize,O.salt,R.hasher);R.iv=Q.iv;var q=w.decrypt.call(this,D,O,Q.key,R);return q},"decrypt")})}()})});var nre=T((hS,rre)=>{d();(function(t,e,r){typeof hS=="object"?rre.exports=hS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(hS,function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize;r.call(this,n,o,c,a),this._prevBlock=n.slice(o,o+c)},"processBlock")}),e.Decryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize,l=n.slice(o,o+c);r.call(this,n,o,c,a),this._prevBlock=l},"processBlock")});function r(n,o,a,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<a;f++)n[o+f]^=l[f]}return s(r,"generateKeystreamAndEncrypt"),e}(),t.mode.CFB})});var ore=T((AS,ire)=>{d();(function(t,e,r){typeof AS=="object"?ire.exports=AS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(AS,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);a.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)n[o+h]^=f[h]},"processBlock")});return e.Decryptor=r,e}(),t.mode.CTR})});var are=T((pS,sre)=>{d();(function(t,e,r){typeof pS=="object"?sre.exports=pS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(pS,function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function r(a){if((a>>24&255)===255){var c=a>>16&255,l=a>>8&255,u=a&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,a=0,a+=c<<16,a+=l<<8,a+=u}else a+=1<<24;return a}s(r,"incWord");function n(a){return(a[0]=r(a[0]))===0&&(a[1]=r(a[1])),a}s(n,"incCounter");var o=e.Encryptor=e.extend({processBlock:s(function(a,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),n(h);var A=h.slice(0);l.encryptBlock(A,0);for(var p=0;p<u;p++)a[c+p]^=A[p]},"processBlock")});return e.Decryptor=o,e}(),t.mode.CTRGladman})});var lre=T((mS,cre)=>{d();(function(t,e,r){typeof mS=="object"?cre.exports=mS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(mS,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var f=0;f<c;f++)n[o+f]^=u[f]},"processBlock")});return e.Decryptor=r,e}(),t.mode.OFB})});var fre=T((gS,ure)=>{d();(function(t,e,r){typeof gS=="object"?ure.exports=gS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(gS,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:s(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),e.Decryptor=e.extend({processBlock:s(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),e}(),t.mode.ECB})});var hre=T((CS,dre)=>{d();(function(t,e,r){typeof CS=="object"?dre.exports=CS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(CS,function(t){return t.pad.AnsiX923={pad:s(function(e,r){var n=e.sigBytes,o=r*4,a=o-n%o,c=n+a-1;e.clamp(),e.words[c>>>2]|=a<<24-c%4*8,e.sigBytes+=a},"pad"),unpad:s(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Ansix923})});var pre=T((yS,Are)=>{d();(function(t,e,r){typeof yS=="object"?Are.exports=yS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(yS,function(t){return t.pad.Iso10126={pad:s(function(e,r){var n=r*4,o=n-e.sigBytes%n;e.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},"pad"),unpad:s(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Iso10126})});var gre=T((ES,mre)=>{d();(function(t,e,r){typeof ES=="object"?mre.exports=ES=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(ES,function(t){return t.pad.Iso97971={pad:s(function(e,r){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,r)},"pad"),unpad:s(function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--},"unpad")},t.pad.Iso97971})});var yre=T((IS,Cre)=>{d();(function(t,e,r){typeof IS=="object"?Cre.exports=IS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(IS,function(t){return t.pad.ZeroPadding={pad:s(function(e,r){var n=r*4;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},"pad"),unpad:s(function(e){for(var r=e.words,n=e.sigBytes-1,n=e.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}},"unpad")},t.pad.ZeroPadding})});var Ire=T((xS,Ere)=>{d();(function(t,e,r){typeof xS=="object"?Ere.exports=xS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(xS,function(t){return t.pad.NoPadding={pad:s(function(){},"pad"),unpad:s(function(){},"unpad")},t.pad.NoPadding})});var vre=T((vS,xre)=>{d();(function(t,e,r){typeof vS=="object"?xre.exports=vS=e(Br(),yo()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(vS,function(t){return function(e){var r=t,n=r.lib,o=n.CipherParams,a=r.enc,c=a.Hex,l=r.format,u=l.Hex={stringify:s(function(f){return f.ciphertext.toString(c)},"stringify"),parse:s(function(f){var h=c.parse(f);return o.create({ciphertext:h})},"parse")}}(),t.format.Hex})});var _re=T((bS,bre)=>{d();(function(t,e,r){typeof bS=="object"?bre.exports=bS=e(Br(),Vh(),Wh(),ed(),yo()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(bS,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,o=e.algo,a=[],c=[],l=[],u=[],f=[],h=[],A=[],p=[],m=[],g=[];(function(){for(var I=[],x=0;x<256;x++)x<128?I[x]=x<<1:I[x]=x<<1^283;for(var v=0,b=0,x=0;x<256;x++){var _=b^b<<1^b<<2^b<<3^b<<4;_=_>>>8^_&255^99,a[v]=_,c[_]=v;var S=I[v],w=I[S],L=I[w],M=I[_]*257^_*16843008;l[v]=M<<24|M>>>8,u[v]=M<<16|M>>>16,f[v]=M<<8|M>>>24,h[v]=M;var M=L*16843009^w*65537^S*257^v*16843008;A[_]=M<<24|M>>>8,p[_]=M<<16|M>>>16,m[_]=M<<8|M>>>24,g[_]=M,v?(v=S^I[I[I[L^S]]],b^=I[I[b]]):v=b=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],E=o.AES=n.extend({_doReset:s(function(){var I;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,v=x.words,b=x.sigBytes/4,_=this._nRounds=b+6,S=(_+1)*4,w=this._keySchedule=[],L=0;L<S;L++)L<b?w[L]=v[L]:(I=w[L-1],L%b?b>6&&L%b==4&&(I=a[I>>>24]<<24|a[I>>>16&255]<<16|a[I>>>8&255]<<8|a[I&255]):(I=I<<8|I>>>24,I=a[I>>>24]<<24|a[I>>>16&255]<<16|a[I>>>8&255]<<8|a[I&255],I^=y[L/b|0]<<24),w[L]=w[L-b]^I);for(var M=this._invKeySchedule=[],Y=0;Y<S;Y++){var L=S-Y;if(Y%4)var I=w[L];else var I=w[L-4];Y<4||L<=4?M[Y]=I:M[Y]=A[a[I>>>24]]^p[a[I>>>16&255]]^m[a[I>>>8&255]]^g[a[I&255]]}}},"_doReset"),encryptBlock:s(function(I,x){this._doCryptBlock(I,x,this._keySchedule,l,u,f,h,a)},"encryptBlock"),decryptBlock:s(function(I,x){var v=I[x+1];I[x+1]=I[x+3],I[x+3]=v,this._doCryptBlock(I,x,this._invKeySchedule,A,p,m,g,c);var v=I[x+1];I[x+1]=I[x+3],I[x+3]=v},"decryptBlock"),_doCryptBlock:s(function(I,x,v,b,_,S,w,L){for(var M=this._nRounds,Y=I[x]^v[0],D=I[x+1]^v[1],O=I[x+2]^v[2],W=I[x+3]^v[3],R=4,Q=1;Q<M;Q++){var q=b[Y>>>24]^_[D>>>16&255]^S[O>>>8&255]^w[W&255]^v[R++],U=b[D>>>24]^_[O>>>16&255]^S[W>>>8&255]^w[Y&255]^v[R++],V=b[O>>>24]^_[W>>>16&255]^S[Y>>>8&255]^w[D&255]^v[R++],z=b[W>>>24]^_[Y>>>16&255]^S[D>>>8&255]^w[O&255]^v[R++];Y=q,D=U,O=V,W=z}var q=(L[Y>>>24]<<24|L[D>>>16&255]<<16|L[O>>>8&255]<<8|L[W&255])^v[R++],U=(L[D>>>24]<<24|L[O>>>16&255]<<16|L[W>>>8&255]<<8|L[Y&255])^v[R++],V=(L[O>>>24]<<24|L[W>>>16&255]<<16|L[Y>>>8&255]<<8|L[D&255])^v[R++],z=(L[W>>>24]<<24|L[Y>>>16&255]<<16|L[D>>>8&255]<<8|L[O&255])^v[R++];I[x]=q,I[x+1]=U,I[x+2]=V,I[x+3]=z},"_doCryptBlock"),keySize:256/32});e.AES=n._createHelper(E)}(),t.AES})});var wre=T((_S,Tre)=>{d();(function(t,e,r){typeof _S=="object"?Tre.exports=_S=e(Br(),Vh(),Wh(),ed(),yo()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(_S,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=r.BlockCipher,a=e.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],A=a.DES=o.extend({_doReset:s(function(){for(var y=this._key,E=y.words,I=[],x=0;x<56;x++){var v=c[x]-1;I[x]=E[v>>>5]>>>31-v%32&1}for(var b=this._subKeys=[],_=0;_<16;_++){for(var S=b[_]=[],w=u[_],x=0;x<24;x++)S[x/6|0]|=I[(l[x]-1+w)%28]<<31-x%6,S[4+(x/6|0)]|=I[28+(l[x+24]-1+w)%28]<<31-x%6;S[0]=S[0]<<1|S[0]>>>31;for(var x=1;x<7;x++)S[x]=S[x]>>>(x-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var L=this._invSubKeys=[],x=0;x<16;x++)L[x]=b[15-x]},"_doReset"),encryptBlock:s(function(y,E){this._doCryptBlock(y,E,this._subKeys)},"encryptBlock"),decryptBlock:s(function(y,E){this._doCryptBlock(y,E,this._invSubKeys)},"decryptBlock"),_doCryptBlock:s(function(y,E,I){this._lBlock=y[E],this._rBlock=y[E+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var x=0;x<16;x++){for(var v=I[x],b=this._lBlock,_=this._rBlock,S=0,w=0;w<8;w++)S|=f[w][((_^v[w])&h[w])>>>0];this._lBlock=_,this._rBlock=b^S}var L=this._lBlock;this._lBlock=this._rBlock,this._rBlock=L,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[E]=this._lBlock,y[E+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,E){var I=(this._lBlock>>>y^this._rBlock)&E;this._rBlock^=I,this._lBlock^=I<<y}s(p,"exchangeLR");function m(y,E){var I=(this._rBlock>>>y^this._lBlock)&E;this._lBlock^=I,this._rBlock^=I<<y}s(m,"exchangeRL"),e.DES=o._createHelper(A);var g=a.TripleDES=o.extend({_doReset:s(function(){var y=this._key,E=y.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var I=E.slice(0,2),x=E.length<4?E.slice(0,2):E.slice(2,4),v=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=A.createEncryptor(n.create(I)),this._des2=A.createEncryptor(n.create(x)),this._des3=A.createEncryptor(n.create(v))},"_doReset"),encryptBlock:s(function(y,E){this._des1.encryptBlock(y,E),this._des2.decryptBlock(y,E),this._des3.encryptBlock(y,E)},"encryptBlock"),decryptBlock:s(function(y,E){this._des3.decryptBlock(y,E),this._des2.encryptBlock(y,E),this._des1.decryptBlock(y,E)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=o._createHelper(g)}(),t.TripleDES})});var Bre=T((TS,Sre)=>{d();(function(t,e,r){typeof TS=="object"?Sre.exports=TS=e(Br(),Vh(),Wh(),ed(),yo()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(TS,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,a=o.RC4=n.extend({_doReset:s(function(){for(var u=this._key,f=u.words,h=u.sigBytes,A=this._S=[],p=0;p<256;p++)A[p]=p;for(var p=0,m=0;p<256;p++){var g=p%h,y=f[g>>>2]>>>24-g%4*8&255;m=(m+A[p]+y)%256;var E=A[p];A[p]=A[m],A[m]=E}this._i=this._j=0},"_doReset"),_doProcessBlock:s(function(u,f){u[f]^=c.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,A=0,p=0;p<4;p++){f=(f+1)%256,h=(h+u[f])%256;var m=u[f];u[f]=u[h],u[h]=m,A|=u[(u[f]+u[h])%256]<<24-p*8}return this._i=f,this._j=h,A}s(c,"generateKeystreamWord"),e.RC4=n._createHelper(a);var l=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:s(function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)},"_doReset")});e.RC4Drop=n._createHelper(l)}(),t.RC4})});var kre=T((wS,Rre)=>{d();(function(t,e,r){typeof wS=="object"?Rre.exports=wS=e(Br(),Vh(),Wh(),ed(),yo()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(wS,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,a=[],c=[],l=[],u=o.Rabbit=n.extend({_doReset:s(function(){for(var h=this._key.words,A=this.cfg.iv,p=0;p<4;p++)h[p]=(h[p]<<8|h[p]>>>24)&16711935|(h[p]<<24|h[p]>>>8)&4278255360;var m=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(A){var y=A.words,E=y[0],I=y[1],x=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,v=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,b=x>>>16|v&4294901760,_=v<<16|x&65535;g[0]^=x,g[1]^=b,g[2]^=v,g[3]^=_,g[4]^=x,g[5]^=b,g[6]^=v,g[7]^=_;for(var p=0;p<4;p++)f.call(this)}},"_doReset"),_doProcessBlock:s(function(h,A){var p=this._X;f.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,h[A+m]^=a[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,A=this._C,p=0;p<8;p++)c[p]=A[p];A[0]=A[0]+1295307597+this._b|0,A[1]=A[1]+3545052371+(A[0]>>>0<c[0]>>>0?1:0)|0,A[2]=A[2]+886263092+(A[1]>>>0<c[1]>>>0?1:0)|0,A[3]=A[3]+1295307597+(A[2]>>>0<c[2]>>>0?1:0)|0,A[4]=A[4]+3545052371+(A[3]>>>0<c[3]>>>0?1:0)|0,A[5]=A[5]+886263092+(A[4]>>>0<c[4]>>>0?1:0)|0,A[6]=A[6]+1295307597+(A[5]>>>0<c[5]>>>0?1:0)|0,A[7]=A[7]+3545052371+(A[6]>>>0<c[6]>>>0?1:0)|0,this._b=A[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var m=h[p]+A[p],g=m&65535,y=m>>>16,E=((g*g>>>17)+g*y>>>15)+y*y,I=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=E^I}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(f,"nextState"),e.Rabbit=n._createHelper(u)}(),t.Rabbit})});var Nre=T((SS,Dre)=>{d();(function(t,e,r){typeof SS=="object"?Dre.exports=SS=e(Br(),Vh(),Wh(),ed(),yo()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(SS,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,a=[],c=[],l=[],u=o.RabbitLegacy=n.extend({_doReset:s(function(){var h=this._key.words,A=this.cfg.iv,p=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(A){var y=A.words,E=y[0],I=y[1],x=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,v=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,b=x>>>16|v&4294901760,_=v<<16|x&65535;m[0]^=x,m[1]^=b,m[2]^=v,m[3]^=_,m[4]^=x,m[5]^=b,m[6]^=v,m[7]^=_;for(var g=0;g<4;g++)f.call(this)}},"_doReset"),_doProcessBlock:s(function(h,A){var p=this._X;f.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,h[A+m]^=a[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,A=this._C,p=0;p<8;p++)c[p]=A[p];A[0]=A[0]+1295307597+this._b|0,A[1]=A[1]+3545052371+(A[0]>>>0<c[0]>>>0?1:0)|0,A[2]=A[2]+886263092+(A[1]>>>0<c[1]>>>0?1:0)|0,A[3]=A[3]+1295307597+(A[2]>>>0<c[2]>>>0?1:0)|0,A[4]=A[4]+3545052371+(A[3]>>>0<c[3]>>>0?1:0)|0,A[5]=A[5]+886263092+(A[4]>>>0<c[4]>>>0?1:0)|0,A[6]=A[6]+1295307597+(A[5]>>>0<c[5]>>>0?1:0)|0,A[7]=A[7]+3545052371+(A[6]>>>0<c[6]>>>0?1:0)|0,this._b=A[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var m=h[p]+A[p],g=m&65535,y=m>>>16,E=((g*g>>>17)+g*y>>>15)+y*y,I=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=E^I}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(f,"nextState"),e.RabbitLegacy=n._createHelper(u)}(),t.RabbitLegacy})});var Pre=T((BS,Qre)=>{d();(function(t,e,r){typeof BS=="object"?Qre.exports=BS=e(Br(),Vh(),Wh(),ed(),yo()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(BS,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,o=e.algo;let a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(g,y){let E=y>>24&255,I=y>>16&255,x=y>>8&255,v=y&255,b=g.sbox[0][E]+g.sbox[1][I];return b=b^g.sbox[2][x],b=b+g.sbox[3][v],b}s(f,"F");function h(g,y,E){let I=y,x=E,v;for(let b=0;b<a;++b)I=I^g.pbox[b],x=f(g,I)^x,v=I,I=x,x=v;return v=I,I=x,x=v,x=x^g.pbox[a],I=I^g.pbox[a+1],{left:I,right:x}}s(h,"BlowFish_Encrypt");function A(g,y,E){let I=y,x=E,v;for(let b=a+1;b>1;--b)I=I^g.pbox[b],x=f(g,I)^x,v=I,I=x,x=v;return v=I,I=x,x=v,x=x^g.pbox[1],I=I^g.pbox[0],{left:I,right:x}}s(A,"BlowFish_Decrypt");function p(g,y,E){for(let _=0;_<4;_++){g.sbox[_]=[];for(let S=0;S<256;S++)g.sbox[_][S]=l[_][S]}let I=0;for(let _=0;_<a+2;_++)g.pbox[_]=c[_]^y[I],I++,I>=E&&(I=0);let x=0,v=0,b=0;for(let _=0;_<a+2;_+=2)b=h(g,x,v),x=b.left,v=b.right,g.pbox[_]=x,g.pbox[_+1]=v;for(let _=0;_<4;_++)for(let S=0;S<256;S+=2)b=h(g,x,v),x=b.left,v=b.right,g.sbox[_][S]=x,g.sbox[_][S+1]=v;return!0}s(p,"BlowFishInit");var m=o.Blowfish=n.extend({_doReset:s(function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,E=g.sigBytes/4;p(u,y,E)}},"_doReset"),encryptBlock:s(function(g,y){var E=h(u,g[y],g[y+1]);g[y]=E.left,g[y+1]=E.right},"encryptBlock"),decryptBlock:s(function(g,y){var E=A(u,g[y],g[y+1]);g[y]=E.left,g[y+1]=E.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=n._createHelper(m)}(),t.Blowfish})});var xv=T((RS,Fre)=>{d();(function(t,e,r){typeof RS=="object"?Fre.exports=RS=e(Br(),Iv(),Nte(),Pte(),Vh(),Mte(),Wh(),uF(),rS(),Gte(),fF(),Yte(),$te(),Kte(),lS(),Zte(),ed(),yo(),nre(),ore(),are(),lre(),fre(),hre(),pre(),gre(),yre(),Ire(),vre(),_re(),wre(),Bre(),kre(),Nre(),Pre()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):t.CryptoJS=e(t.CryptoJS)})(RS,function(t){return t})});var tE=T(Ds=>{"use strict";d();Object.defineProperty(Ds,"__esModule",{value:!0});Ds.stringArray=Ds.array=Ds.func=Ds.error=Ds.number=Ds.string=Ds.boolean=void 0;function HNe(t){return t===!0||t===!1}s(HNe,"boolean");Ds.boolean=HNe;function Woe(t){return typeof t=="string"||t instanceof String}s(Woe,"string");Ds.string=Woe;function GNe(t){return typeof t=="number"||t instanceof Number}s(GNe,"number");Ds.number=GNe;function VNe(t){return t instanceof Error}s(VNe,"error");Ds.error=VNe;function WNe(t){return typeof t=="function"}s(WNe,"func");Ds.func=WNe;function Yoe(t){return Array.isArray(t)}s(Yoe,"array");Ds.array=Yoe;function YNe(t){return Yoe(t)&&t.every(e=>Woe(e))}s(YNe,"stringArray");Ds.stringArray=YNe});var nO=T(gt=>{"use strict";d();Object.defineProperty(gt,"__esModule",{value:!0});gt.Message=gt.NotificationType9=gt.NotificationType8=gt.NotificationType7=gt.NotificationType6=gt.NotificationType5=gt.NotificationType4=gt.NotificationType3=gt.NotificationType2=gt.NotificationType1=gt.NotificationType0=gt.NotificationType=gt.RequestType9=gt.RequestType8=gt.RequestType7=gt.RequestType6=gt.RequestType5=gt.RequestType4=gt.RequestType3=gt.RequestType2=gt.RequestType1=gt.RequestType=gt.RequestType0=gt.AbstractMessageSignature=gt.ParameterStructures=gt.ResponseError=gt.ErrorCodes=void 0;var Tg=tE(),NM;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(NM||(gt.ErrorCodes=NM={}));var QM=class t extends Error{static{s(this,"ResponseError")}constructor(e,r,n){super(r),this.code=Tg.number(e)?e:NM.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};gt.ResponseError=QM;var Qa=class t{static{s(this,"ParameterStructures")}constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};gt.ParameterStructures=Qa;Qa.auto=new Qa("auto");Qa.byPosition=new Qa("byPosition");Qa.byName=new Qa("byName");var Kn=class{static{s(this,"AbstractMessageSignature")}constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return Qa.auto}};gt.AbstractMessageSignature=Kn;var PM=class extends Kn{static{s(this,"RequestType0")}constructor(e){super(e,0)}};gt.RequestType0=PM;var FM=class extends Kn{static{s(this,"RequestType")}constructor(e,r=Qa.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};gt.RequestType=FM;var LM=class extends Kn{static{s(this,"RequestType1")}constructor(e,r=Qa.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};gt.RequestType1=LM;var MM=class extends Kn{static{s(this,"RequestType2")}constructor(e){super(e,2)}};gt.RequestType2=MM;var OM=class extends Kn{static{s(this,"RequestType3")}constructor(e){super(e,3)}};gt.RequestType3=OM;var UM=class extends Kn{static{s(this,"RequestType4")}constructor(e){super(e,4)}};gt.RequestType4=UM;var qM=class extends Kn{static{s(this,"RequestType5")}constructor(e){super(e,5)}};gt.RequestType5=qM;var HM=class extends Kn{static{s(this,"RequestType6")}constructor(e){super(e,6)}};gt.RequestType6=HM;var GM=class extends Kn{static{s(this,"RequestType7")}constructor(e){super(e,7)}};gt.RequestType7=GM;var VM=class extends Kn{static{s(this,"RequestType8")}constructor(e){super(e,8)}};gt.RequestType8=VM;var WM=class extends Kn{static{s(this,"RequestType9")}constructor(e){super(e,9)}};gt.RequestType9=WM;var YM=class extends Kn{static{s(this,"NotificationType")}constructor(e,r=Qa.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};gt.NotificationType=YM;var jM=class extends Kn{static{s(this,"NotificationType0")}constructor(e){super(e,0)}};gt.NotificationType0=jM;var $M=class extends Kn{static{s(this,"NotificationType1")}constructor(e,r=Qa.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};gt.NotificationType1=$M;var zM=class extends Kn{static{s(this,"NotificationType2")}constructor(e){super(e,2)}};gt.NotificationType2=zM;var KM=class extends Kn{static{s(this,"NotificationType3")}constructor(e){super(e,3)}};gt.NotificationType3=KM;var JM=class extends Kn{static{s(this,"NotificationType4")}constructor(e){super(e,4)}};gt.NotificationType4=JM;var XM=class extends Kn{static{s(this,"NotificationType5")}constructor(e){super(e,5)}};gt.NotificationType5=XM;var ZM=class extends Kn{static{s(this,"NotificationType6")}constructor(e){super(e,6)}};gt.NotificationType6=ZM;var eO=class extends Kn{static{s(this,"NotificationType7")}constructor(e){super(e,7)}};gt.NotificationType7=eO;var tO=class extends Kn{static{s(this,"NotificationType8")}constructor(e){super(e,8)}};gt.NotificationType8=tO;var rO=class extends Kn{static{s(this,"NotificationType9")}constructor(e){super(e,9)}};gt.NotificationType9=rO;var joe;(function(t){function e(o){let a=o;return a&&Tg.string(a.method)&&(Tg.string(a.id)||Tg.number(a.id))}s(e,"isRequest"),t.isRequest=e;function r(o){let a=o;return a&&Tg.string(a.method)&&o.id===void 0}s(r,"isNotification"),t.isNotification=r;function n(o){let a=o;return a&&(a.result!==void 0||!!a.error)&&(Tg.string(a.id)||Tg.number(a.id)||a.id===null)}s(n,"isResponse"),t.isResponse=n})(joe||(gt.Message=joe={}))});var oO=T(wA=>{"use strict";d();var $oe;Object.defineProperty(wA,"__esModule",{value:!0});wA.LRUCache=wA.LinkedMap=wA.Touch=void 0;var Ns;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Ns||(wA.Touch=Ns={}));var yB=class{static{s(this,"LinkedMap")}constructor(){this[$oe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=Ns.None){let n=this._map.get(e);if(n)return r!==Ns.None&&this.touch(n,r),n.value}set(e,r,n=Ns.None){let o=this._map.get(e);if(o)o.value=r,n!==Ns.None&&this.touch(o,n);else{switch(o={key:e,value:r,next:void 0,previous:void 0},n){case Ns.None:this.addItemLast(o);break;case Ns.First:this.addItemFirst(o);break;case Ns.Last:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,o=this._head;for(;o;){if(r?e.bind(r)(o.value,o.key,this):e(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.key,done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.value,done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:[r.key,r.value],done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}[($oe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Ns.First&&r!==Ns.Last)){if(r===Ns.First){if(e===this._head)return;let n=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===Ns.Last){if(e===this._tail)return;let n=e.next,o=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};wA.LinkedMap=yB;var iO=class extends yB{static{s(this,"LRUCache")}constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=Ns.AsNew){return super.get(e,r)}peek(e){return super.get(e,Ns.None)}set(e,r){return super.set(e,r,Ns.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};wA.LRUCache=iO});var Koe=T(EB=>{"use strict";d();Object.defineProperty(EB,"__esModule",{value:!0});EB.Disposable=void 0;var zoe;(function(t){function e(r){return{dispose:r}}s(e,"create"),t.create=e})(zoe||(EB.Disposable=zoe={}))});var SA=T(cO=>{"use strict";d();Object.defineProperty(cO,"__esModule",{value:!0});var sO;function aO(){if(sO===void 0)throw new Error("No runtime abstraction layer installed");return sO}s(aO,"RAL");(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");sO=r}s(e,"install"),t.install=e})(aO||(aO={}));cO.default=aO});var nE=T(rE=>{"use strict";d();Object.defineProperty(rE,"__esModule",{value:!0});rE.Emitter=rE.Event=void 0;var jNe=SA(),Joe;(function(t){let e={dispose(){}};t.None=function(){return e}})(Joe||(rE.Event=Joe={}));var lO=class{static{s(this,"CallbackList")}add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:s(()=>this.remove(e,r),"dispose")})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let o=0,a=this._callbacks.length;o<a;o++)if(this._callbacks[o]===e)if(this._contexts[o]===r){this._callbacks.splice(o,1),this._contexts.splice(o,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),o=this._contexts.slice(0);for(let a=0,c=n.length;a<c;a++)try{r.push(n[a].apply(o[a],e))}catch(l){(0,jNe.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},IB=class t{static{s(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new lO),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let o={dispose:s(()=>{this._callbacks&&(this._callbacks.remove(e,r),o.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};rE.Emitter=IB;IB._noop=function(){}});var bB=T(iE=>{"use strict";d();Object.defineProperty(iE,"__esModule",{value:!0});iE.CancellationTokenSource=iE.CancellationToken=void 0;var $Ne=SA(),zNe=tE(),uO=nE(),xB;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:uO.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:uO.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||zNe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}s(e,"is"),t.is=e})(xB||(iE.CancellationToken=xB={}));var KNe=Object.freeze(function(t,e){let r=(0,$Ne.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),vB=class{static{s(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?KNe:(this._emitter||(this._emitter=new uO.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},fO=class{static{s(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new vB),this._token}cancel(){this._token?this._token.cancel():this._token=xB.Cancelled}dispose(){this._token?this._token instanceof vB&&this._token.dispose():this._token=xB.None}};iE.CancellationTokenSource=fO});var Xoe=T(oE=>{"use strict";d();Object.defineProperty(oE,"__esModule",{value:!0});oE.SharedArrayReceiverStrategy=oE.SharedArraySenderStrategy=void 0;var JNe=bB(),wb;(function(t){t.Continue=0,t.Cancelled=1})(wb||(wb={}));var dO=class{static{s(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=wb.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let o=new Int32Array(n,0,1);Atomics.store(o,0,wb.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};oE.SharedArraySenderStrategy=dO;var hO=class{static{s(this,"SharedArrayBufferCancellationToken")}constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===wb.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},AO=class{static{s(this,"SharedArrayBufferCancellationTokenSource")}constructor(e){this.token=new hO(e)}cancel(){}dispose(){}},pO=class{static{s(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new JNe.CancellationTokenSource:new AO(r)}};oE.SharedArrayReceiverStrategy=pO});var gO=T(_B=>{"use strict";d();Object.defineProperty(_B,"__esModule",{value:!0});_B.Semaphore=void 0;var XNe=SA(),mO=class{static{s(this,"Semaphore")}constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,XNe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};_B.Semaphore=mO});var ese=T(BA=>{"use strict";d();Object.defineProperty(BA,"__esModule",{value:!0});BA.ReadableStreamMessageReader=BA.AbstractMessageReader=BA.MessageReader=void 0;var yO=SA(),sE=tE(),CO=nE(),ZNe=gO(),Zoe;(function(t){function e(r){let n=r;return n&&sE.func(n.listen)&&sE.func(n.dispose)&&sE.func(n.onError)&&sE.func(n.onClose)&&sE.func(n.onPartialMessage)}s(e,"is"),t.is=e})(Zoe||(BA.MessageReader=Zoe={}));var TB=class{static{s(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new CO.Emitter,this.closeEmitter=new CO.Emitter,this.partialMessageEmitter=new CO.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${sE.string(e.message)?e.message:"unknown"}`)}};BA.AbstractMessageReader=TB;var EO;(function(t){function e(r){let n,o,a,c=new Map,l,u=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(a=r.contentDecoder,c.set(a.name,a)),r.contentDecoders!==void 0)for(let f of r.contentDecoders)c.set(f.name,f);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,u.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let f of r.contentTypeDecoders)u.set(f.name,f)}return l===void 0&&(l=(0,yO.default)().applicationJson.decoder,u.set(l.name,l)),{charset:n,contentDecoder:a,contentDecoders:c,contentTypeDecoder:l,contentTypeDecoders:u}}s(e,"fromOptions"),t.fromOptions=e})(EO||(EO={}));var IO=class extends TB{static{s(this,"ReadableStreamMessageReader")}constructor(e,r){super(),this.readable=e,this.options=EO.fromOptions(r),this.buffer=(0,yO.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new ZNe.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let o=n.get("content-length");if(!o){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let a=parseInt(o);if(isNaN(a)){this.fireError(new Error(`Content-Length value must be a number. Got ${o}`));return}this.nextMessageLength=a}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,o=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(o)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,yO.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};BA.ReadableStreamMessageReader=IO});var ose=T(RA=>{"use strict";d();Object.defineProperty(RA,"__esModule",{value:!0});RA.WriteableStreamMessageWriter=RA.AbstractMessageWriter=RA.MessageWriter=void 0;var tse=SA(),Sb=tE(),eQe=gO(),rse=nE(),tQe="Content-Length: ",nse=`\r
`,ise;(function(t){function e(r){let n=r;return n&&Sb.func(n.dispose)&&Sb.func(n.onClose)&&Sb.func(n.onError)&&Sb.func(n.write)}s(e,"is"),t.is=e})(ise||(RA.MessageWriter=ise={}));var wB=class{static{s(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new rse.Emitter,this.closeEmitter=new rse.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Sb.string(e.message)?e.message:"unknown"}`)}};RA.AbstractMessageWriter=wB;var xO;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,tse.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,tse.default)().applicationJson.encoder}}s(e,"fromOptions"),t.fromOptions=e})(xO||(xO={}));var vO=class extends wB{static{s(this,"WriteableStreamMessageWriter")}constructor(e,r){super(),this.writable=e,this.options=xO.fromOptions(r),this.errorCount=0,this.writeSemaphore=new eQe.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let o=[];return o.push(tQe,n.byteLength.toString(),nse),o.push(nse),this.doWrite(e,o,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(o){return this.handleError(o,e),Promise.reject(o)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};RA.WriteableStreamMessageWriter=vO});var sse=T(SB=>{"use strict";d();Object.defineProperty(SB,"__esModule",{value:!0});SB.AbstractMessageBuffer=void 0;var rQe=13,nQe=10,iQe=`\r
`,bO=class{static{s(this,"AbstractMessageBuffer")}constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,o=0,a=0;e:for(;n<this._chunks.length;){let f=this._chunks[n];for(o=0;o<f.length;){switch(f[o]){case rQe:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case nQe:switch(r){case 1:r=2;break;case 3:r=4,o++;break e;default:r=0}break;default:r=0}o++}a+=f.byteLength,n++}if(r!==4)return;let c=this._read(a+o),l=new Map,u=this.toString(c,"ascii").split(iQe);if(u.length<2)return l;for(let f=0;f<u.length-2;f++){let h=u[f],A=h.indexOf(":");if(A===-1)throw new Error(`Message header must separate key and value using ':'
${h}`);let p=h.substr(0,A),m=h.substr(A+1).trim();l.set(e?p.toLowerCase():p,m)}return l}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(a)}if(this._chunks[0].byteLength>e){let a=this._chunks[0],c=this.asNative(a,e);return this._chunks[0]=a.slice(e),this._totalLength-=e,c}let r=this.allocNative(e),n=0,o=0;for(;e>0;){let a=this._chunks[o];if(a.byteLength>e){let c=a.slice(0,e);r.set(c,n),n+=e,this._chunks[o]=a.slice(e),this._totalLength-=e,e-=e}else r.set(a,n),n+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,e-=a.byteLength}return r}};SB.AbstractMessageBuffer=bO});var fse=T(Xt=>{"use strict";d();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.createMessageConnection=Xt.ConnectionOptions=Xt.MessageStrategy=Xt.CancellationStrategy=Xt.CancellationSenderStrategy=Xt.CancellationReceiverStrategy=Xt.RequestCancellationReceiverStrategy=Xt.IdCancellationReceiverStrategy=Xt.ConnectionStrategy=Xt.ConnectionError=Xt.ConnectionErrors=Xt.LogTraceNotification=Xt.SetTraceNotification=Xt.TraceFormat=Xt.TraceValues=Xt.Trace=Xt.NullLogger=Xt.ProgressType=Xt.ProgressToken=void 0;var ase=SA(),Ii=tE(),Qt=nO(),cse=oO(),Bb=nE(),_O=bB(),Db;(function(t){t.type=new Qt.NotificationType("$/cancelRequest")})(Db||(Db={}));var TO;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}s(e,"is"),t.is=e})(TO||(Xt.ProgressToken=TO={}));var Rb;(function(t){t.type=new Qt.NotificationType("$/progress")})(Rb||(Rb={}));var wO=class{static{s(this,"ProgressType")}constructor(){}};Xt.ProgressType=wO;var SO;(function(t){function e(r){return Ii.func(r)}s(e,"is"),t.is=e})(SO||(SO={}));Xt.NullLogger=Object.freeze({error:s(()=>{},"error"),warn:s(()=>{},"warn"),info:s(()=>{},"info"),log:s(()=>{},"log")});var cn;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(cn||(Xt.Trace=cn={}));var lse;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(lse||(Xt.TraceValues=lse={}));(function(t){function e(n){if(!Ii.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}s(e,"fromString"),t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}s(r,"toString"),t.toString=r})(cn||(Xt.Trace=cn={}));var Rc;(function(t){t.Text="text",t.JSON="json"})(Rc||(Xt.TraceFormat=Rc={}));(function(t){function e(r){return Ii.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}s(e,"fromString"),t.fromString=e})(Rc||(Xt.TraceFormat=Rc={}));var BO;(function(t){t.type=new Qt.NotificationType("$/setTrace")})(BO||(Xt.SetTraceNotification=BO={}));var BB;(function(t){t.type=new Qt.NotificationType("$/logTrace")})(BB||(Xt.LogTraceNotification=BB={}));var kb;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(kb||(Xt.ConnectionErrors=kb={}));var aE=class t extends Error{static{s(this,"ConnectionError")}constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Xt.ConnectionError=aE;var RO;(function(t){function e(r){let n=r;return n&&Ii.func(n.cancelUndispatched)}s(e,"is"),t.is=e})(RO||(Xt.ConnectionStrategy=RO={}));var RB;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Ii.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ii.func(n.dispose))}s(e,"is"),t.is=e})(RB||(Xt.IdCancellationReceiverStrategy=RB={}));var kO;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&Ii.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ii.func(n.dispose))}s(e,"is"),t.is=e})(kO||(Xt.RequestCancellationReceiverStrategy=kO={}));var kB;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new _O.CancellationTokenSource}});function e(r){return RB.is(r)||kO.is(r)}s(e,"is"),t.is=e})(kB||(Xt.CancellationReceiverStrategy=kB={}));var DB;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Db.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&Ii.func(n.sendCancellation)&&Ii.func(n.cleanup)}s(e,"is"),t.is=e})(DB||(Xt.CancellationSenderStrategy=DB={}));var NB;(function(t){t.Message=Object.freeze({receiver:kB.Message,sender:DB.Message});function e(r){let n=r;return n&&kB.is(n.receiver)&&DB.is(n.sender)}s(e,"is"),t.is=e})(NB||(Xt.CancellationStrategy=NB={}));var QB;(function(t){function e(r){let n=r;return n&&Ii.func(n.handleMessage)}s(e,"is"),t.is=e})(QB||(Xt.MessageStrategy=QB={}));var use;(function(t){function e(r){let n=r;return n&&(NB.is(n.cancellationStrategy)||RO.is(n.connectionStrategy)||QB.is(n.messageStrategy))}s(e,"is"),t.is=e})(use||(Xt.ConnectionOptions=use={}));var Tl;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Tl||(Tl={}));function oQe(t,e,r,n){let o=r!==void 0?r:Xt.NullLogger,a=0,c=0,l=0,u="2.0",f,h=new Map,A,p=new Map,m=new Map,g,y=new cse.LinkedMap,E=new Map,I=new Set,x=new Map,v=cn.Off,b=Rc.Text,_,S=Tl.New,w=new Bb.Emitter,L=new Bb.Emitter,M=new Bb.Emitter,Y=new Bb.Emitter,D=new Bb.Emitter,O=n&&n.cancellationStrategy?n.cancellationStrategy:NB.Message;function W(X){if(X===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+X.toString()}s(W,"createRequestQueueKey");function R(X){return X===null?"res-unknown-"+(++l).toString():"res-"+X.toString()}s(R,"createResponseQueueKey");function Q(){return"not-"+(++c).toString()}s(Q,"createNotificationQueueKey");function q(X,ve){Qt.Message.isRequest(ve)?X.set(W(ve.id),ve):Qt.Message.isResponse(ve)?X.set(R(ve.id),ve):X.set(Q(),ve)}s(q,"addMessageToQueue");function U(X){}s(U,"cancelUndispatched");function V(){return S===Tl.Listening}s(V,"isListening");function z(){return S===Tl.Closed}s(z,"isClosed");function $(){return S===Tl.Disposed}s($,"isDisposed");function j(){(S===Tl.New||S===Tl.Listening)&&(S=Tl.Closed,L.fire(void 0))}s(j,"closeHandler");function Z(X){w.fire([X,void 0,void 0])}s(Z,"readErrorHandler");function le(X){w.fire(X)}s(le,"writeErrorHandler"),t.onClose(j),t.onError(Z),e.onClose(j),e.onError(le);function Se(){g||y.size===0||(g=(0,ase.default)().timer.setImmediate(()=>{g=void 0,qe()}))}s(Se,"triggerMessageQueue");function et(X){Qt.Message.isRequest(X)?ur(X):Qt.Message.isNotification(X)?Er(X):Qt.Message.isResponse(X)?nr(X):J(X)}s(et,"handleMessage");function qe(){if(y.size===0)return;let X=y.shift();try{let ve=n?.messageStrategy;QB.is(ve)?ve.handleMessage(X,et):et(X)}finally{Se()}}s(qe,"processMessageQueue");let Tt=s(X=>{try{if(Qt.Message.isNotification(X)&&X.method===Db.type.method){let ve=X.params.id,Oe=W(ve),Ke=y.get(Oe);if(Qt.Message.isRequest(Ke)){let Ir=n?.connectionStrategy,sn=Ir&&Ir.cancelUndispatched?Ir.cancelUndispatched(Ke,U):void 0;if(sn&&(sn.error!==void 0||sn.result!==void 0)){y.delete(Oe),x.delete(ve),sn.id=Ke.id,we(sn,X.method,Date.now()),e.write(sn).catch(()=>o.error("Sending response for canceled message failed."));return}}let fr=x.get(ve);if(fr!==void 0){fr.cancel(),Re(X);return}else I.add(ve)}q(y,X)}finally{Se()}},"callback");function ur(X){if($())return;function ve(tr,se,pe){let Ne={jsonrpc:u,id:X.id};tr instanceof Qt.ResponseError?Ne.error=tr.toJson():Ne.result=tr===void 0?null:tr,we(Ne,se,pe),e.write(Ne).catch(()=>o.error("Sending response failed."))}s(ve,"reply");function Oe(tr,se,pe){let Ne={jsonrpc:u,id:X.id,error:tr.toJson()};we(Ne,se,pe),e.write(Ne).catch(()=>o.error("Sending response failed."))}s(Oe,"replyError");function Ke(tr,se,pe){tr===void 0&&(tr=null);let Ne={jsonrpc:u,id:X.id,result:tr};we(Ne,se,pe),e.write(Ne).catch(()=>o.error("Sending response failed."))}s(Ke,"replySuccess"),oe(X);let fr=h.get(X.method),Ir,sn;fr&&(Ir=fr.type,sn=fr.handler);let dn=Date.now();if(sn||f){let tr=X.id??String(Date.now()),se=RB.is(O.receiver)?O.receiver.createCancellationTokenSource(tr):O.receiver.createCancellationTokenSource(X);X.id!==null&&I.has(X.id)&&se.cancel(),X.id!==null&&x.set(tr,se);try{let pe;if(sn)if(X.params===void 0){if(Ir!==void 0&&Ir.numberOfParams!==0){Oe(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${X.method} defines ${Ir.numberOfParams} params but received none.`),X.method,dn);return}pe=sn(se.token)}else if(Array.isArray(X.params)){if(Ir!==void 0&&Ir.parameterStructures===Qt.ParameterStructures.byName){Oe(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${X.method} defines parameters by name but received parameters by position`),X.method,dn);return}pe=sn(...X.params,se.token)}else{if(Ir!==void 0&&Ir.parameterStructures===Qt.ParameterStructures.byPosition){Oe(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${X.method} defines parameters by position but received parameters by name`),X.method,dn);return}pe=sn(X.params,se.token)}else f&&(pe=f(X.method,X.params,se.token));let Ne=pe;pe?Ne.then?Ne.then(je=>{x.delete(tr),ve(je,X.method,dn)},je=>{x.delete(tr),je instanceof Qt.ResponseError?Oe(je,X.method,dn):je&&Ii.string(je.message)?Oe(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${X.method} failed with message: ${je.message}`),X.method,dn):Oe(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${X.method} failed unexpectedly without providing any details.`),X.method,dn)}):(x.delete(tr),ve(pe,X.method,dn)):(x.delete(tr),Ke(pe,X.method,dn))}catch(pe){x.delete(tr),pe instanceof Qt.ResponseError?ve(pe,X.method,dn):pe&&Ii.string(pe.message)?Oe(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${X.method} failed with message: ${pe.message}`),X.method,dn):Oe(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${X.method} failed unexpectedly without providing any details.`),X.method,dn)}}else Oe(new Qt.ResponseError(Qt.ErrorCodes.MethodNotFound,`Unhandled method ${X.method}`),X.method,dn)}s(ur,"handleRequest");function nr(X){if(!$())if(X.id===null)X.error?o.error(`Received response message without id: Error is: 
${JSON.stringify(X.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{let ve=X.id,Oe=E.get(ve);if(rt(X,Oe),Oe!==void 0){E.delete(ve);try{if(X.error){let Ke=X.error;Oe.reject(new Qt.ResponseError(Ke.code,Ke.message,Ke.data))}else if(X.result!==void 0)Oe.resolve(X.result);else throw new Error("Should never happen.")}catch(Ke){Ke.message?o.error(`Response handler '${Oe.method}' failed with message: ${Ke.message}`):o.error(`Response handler '${Oe.method}' failed unexpectedly.`)}}}}s(nr,"handleResponse");function Er(X){if($())return;let ve,Oe;if(X.method===Db.type.method){let Ke=X.params.id;I.delete(Ke),Re(X);return}else{let Ke=p.get(X.method);Ke&&(Oe=Ke.handler,ve=Ke.type)}if(Oe||A)try{if(Re(X),Oe)if(X.params===void 0)ve!==void 0&&ve.numberOfParams!==0&&ve.parameterStructures!==Qt.ParameterStructures.byName&&o.error(`Notification ${X.method} defines ${ve.numberOfParams} params but received none.`),Oe();else if(Array.isArray(X.params)){let Ke=X.params;X.method===Rb.type.method&&Ke.length===2&&TO.is(Ke[0])?Oe({token:Ke[0],value:Ke[1]}):(ve!==void 0&&(ve.parameterStructures===Qt.ParameterStructures.byName&&o.error(`Notification ${X.method} defines parameters by name but received parameters by position`),ve.numberOfParams!==X.params.length&&o.error(`Notification ${X.method} defines ${ve.numberOfParams} params but received ${Ke.length} arguments`)),Oe(...Ke))}else ve!==void 0&&ve.parameterStructures===Qt.ParameterStructures.byPosition&&o.error(`Notification ${X.method} defines parameters by position but received parameters by name`),Oe(X.params);else A&&A(X.method,X.params)}catch(Ke){Ke.message?o.error(`Notification handler '${X.method}' failed with message: ${Ke.message}`):o.error(`Notification handler '${X.method}' failed unexpectedly.`)}else M.fire(X)}s(Er,"handleNotification");function J(X){if(!X){o.error("Received empty message.");return}o.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(X,null,4)}`);let ve=X;if(Ii.string(ve.id)||Ii.number(ve.id)){let Oe=ve.id,Ke=E.get(Oe);Ke&&Ke.reject(new Error("The received response has neither a result nor an error property."))}}s(J,"handleInvalidMessage");function xe(X){if(X!=null)switch(v){case cn.Verbose:return JSON.stringify(X,null,4);case cn.Compact:return JSON.stringify(X);default:return}}s(xe,"stringifyTrace");function te(X){if(!(v===cn.Off||!_))if(b===Rc.Text){let ve;(v===cn.Verbose||v===cn.Compact)&&X.params&&(ve=`Params: ${xe(X.params)}

`),_.log(`Sending request '${X.method} - (${X.id})'.`,ve)}else Fe("send-request",X)}s(te,"traceSendingRequest");function Le(X){if(!(v===cn.Off||!_))if(b===Rc.Text){let ve;(v===cn.Verbose||v===cn.Compact)&&(X.params?ve=`Params: ${xe(X.params)}

`:ve=`No parameters provided.

`),_.log(`Sending notification '${X.method}'.`,ve)}else Fe("send-notification",X)}s(Le,"traceSendingNotification");function we(X,ve,Oe){if(!(v===cn.Off||!_))if(b===Rc.Text){let Ke;(v===cn.Verbose||v===cn.Compact)&&(X.error&&X.error.data?Ke=`Error data: ${xe(X.error.data)}

`:X.result?Ke=`Result: ${xe(X.result)}

`:X.error===void 0&&(Ke=`No result returned.

`)),_.log(`Sending response '${ve} - (${X.id})'. Processing request took ${Date.now()-Oe}ms`,Ke)}else Fe("send-response",X)}s(we,"traceSendingResponse");function oe(X){if(!(v===cn.Off||!_))if(b===Rc.Text){let ve;(v===cn.Verbose||v===cn.Compact)&&X.params&&(ve=`Params: ${xe(X.params)}

`),_.log(`Received request '${X.method} - (${X.id})'.`,ve)}else Fe("receive-request",X)}s(oe,"traceReceivedRequest");function Re(X){if(!(v===cn.Off||!_||X.method===BB.type.method))if(b===Rc.Text){let ve;(v===cn.Verbose||v===cn.Compact)&&(X.params?ve=`Params: ${xe(X.params)}

`:ve=`No parameters provided.

`),_.log(`Received notification '${X.method}'.`,ve)}else Fe("receive-notification",X)}s(Re,"traceReceivedNotification");function rt(X,ve){if(!(v===cn.Off||!_))if(b===Rc.Text){let Oe;if((v===cn.Verbose||v===cn.Compact)&&(X.error&&X.error.data?Oe=`Error data: ${xe(X.error.data)}

`:X.result?Oe=`Result: ${xe(X.result)}

`:X.error===void 0&&(Oe=`No result returned.

`)),ve){let Ke=X.error?` Request failed: ${X.error.message} (${X.error.code}).`:"";_.log(`Received response '${ve.method} - (${X.id})' in ${Date.now()-ve.timerStart}ms.${Ke}`,Oe)}else _.log(`Received response ${X.id} without active response promise.`,Oe)}else Fe("receive-response",X)}s(rt,"traceReceivedResponse");function Fe(X,ve){if(!_||v===cn.Off)return;let Oe={isLSPMessage:!0,type:X,message:ve,timestamp:Date.now()};_.log(Oe)}s(Fe,"logLSPMessage");function Ye(){if(z())throw new aE(kb.Closed,"Connection is closed.");if($())throw new aE(kb.Disposed,"Connection is disposed.")}s(Ye,"throwIfClosedOrDisposed");function yt(){if(V())throw new aE(kb.AlreadyListening,"Connection is already listening")}s(yt,"throwIfListening");function Gt(){if(!V())throw new Error("Call listen() first.")}s(Gt,"throwIfNotListening");function ir(X){return X===void 0?null:X}s(ir,"undefinedToNull");function an(X){if(X!==null)return X}s(an,"nullToUndefined");function Qn(X){return X!=null&&!Array.isArray(X)&&typeof X=="object"}s(Qn,"isNamedParam");function Zi(X,ve){switch(X){case Qt.ParameterStructures.auto:return Qn(ve)?an(ve):[ir(ve)];case Qt.ParameterStructures.byName:if(!Qn(ve))throw new Error("Received parameters by name but param is not an object literal.");return an(ve);case Qt.ParameterStructures.byPosition:return[ir(ve)];default:throw new Error(`Unknown parameter structure ${X.toString()}`)}}s(Zi,"computeSingleParam");function eo(X,ve){let Oe,Ke=X.numberOfParams;switch(Ke){case 0:Oe=void 0;break;case 1:Oe=Zi(X.parameterStructures,ve[0]);break;default:Oe=[];for(let fr=0;fr<ve.length&&fr<Ke;fr++)Oe.push(ir(ve[fr]));if(ve.length<Ke)for(let fr=ve.length;fr<Ke;fr++)Oe.push(null);break}return Oe}s(eo,"computeMessageParams");let Co={sendNotification:s((X,...ve)=>{Ye();let Oe,Ke;if(Ii.string(X)){Oe=X;let Ir=ve[0],sn=0,dn=Qt.ParameterStructures.auto;Qt.ParameterStructures.is(Ir)&&(sn=1,dn=Ir);let tr=ve.length,se=tr-sn;switch(se){case 0:Ke=void 0;break;case 1:Ke=Zi(dn,ve[sn]);break;default:if(dn===Qt.ParameterStructures.byName)throw new Error(`Received ${se} parameters for 'by Name' notification parameter structure.`);Ke=ve.slice(sn,tr).map(pe=>ir(pe));break}}else{let Ir=ve;Oe=X.method,Ke=eo(X,Ir)}let fr={jsonrpc:u,method:Oe,params:Ke};return Le(fr),e.write(fr).catch(Ir=>{throw o.error("Sending notification failed."),Ir})},"sendNotification"),onNotification:s((X,ve)=>{Ye();let Oe;return Ii.func(X)?A=X:ve&&(Ii.string(X)?(Oe=X,p.set(X,{type:void 0,handler:ve})):(Oe=X.method,p.set(X.method,{type:X,handler:ve}))),{dispose:s(()=>{Oe!==void 0?p.delete(Oe):A=void 0},"dispose")}},"onNotification"),onProgress:s((X,ve,Oe)=>{if(m.has(ve))throw new Error(`Progress handler for token ${ve} already registered`);return m.set(ve,Oe),{dispose:s(()=>{m.delete(ve)},"dispose")}},"onProgress"),sendProgress:s((X,ve,Oe)=>Co.sendNotification(Rb.type,{token:ve,value:Oe}),"sendProgress"),onUnhandledProgress:Y.event,sendRequest:s((X,...ve)=>{Ye(),Gt();let Oe,Ke,fr;if(Ii.string(X)){Oe=X;let tr=ve[0],se=ve[ve.length-1],pe=0,Ne=Qt.ParameterStructures.auto;Qt.ParameterStructures.is(tr)&&(pe=1,Ne=tr);let je=ve.length;_O.CancellationToken.is(se)&&(je=je-1,fr=se);let lt=je-pe;switch(lt){case 0:Ke=void 0;break;case 1:Ke=Zi(Ne,ve[pe]);break;default:if(Ne===Qt.ParameterStructures.byName)throw new Error(`Received ${lt} parameters for 'by Name' request parameter structure.`);Ke=ve.slice(pe,je).map(At=>ir(At));break}}else{let tr=ve;Oe=X.method,Ke=eo(X,tr);let se=X.numberOfParams;fr=_O.CancellationToken.is(tr[se])?tr[se]:void 0}let Ir=a++,sn;fr&&(sn=fr.onCancellationRequested(()=>{let tr=O.sender.sendCancellation(Co,Ir);return tr===void 0?(o.log(`Received no promise from cancellation strategy when cancelling id ${Ir}`),Promise.resolve()):tr.catch(()=>{o.log(`Sending cancellation messages for id ${Ir} failed`)})}));let dn={jsonrpc:u,id:Ir,method:Oe,params:Ke};return te(dn),typeof O.sender.enableCancellation=="function"&&O.sender.enableCancellation(dn),new Promise(async(tr,se)=>{let pe=s(lt=>{tr(lt),O.sender.cleanup(Ir),sn?.dispose()},"resolveWithCleanup"),Ne=s(lt=>{se(lt),O.sender.cleanup(Ir),sn?.dispose()},"rejectWithCleanup"),je={method:Oe,timerStart:Date.now(),resolve:pe,reject:Ne};try{await e.write(dn),E.set(Ir,je)}catch(lt){throw o.error("Sending request failed."),je.reject(new Qt.ResponseError(Qt.ErrorCodes.MessageWriteError,lt.message?lt.message:"Unknown reason")),lt}})},"sendRequest"),onRequest:s((X,ve)=>{Ye();let Oe=null;return SO.is(X)?(Oe=void 0,f=X):Ii.string(X)?(Oe=null,ve!==void 0&&(Oe=X,h.set(X,{handler:ve,type:void 0}))):ve!==void 0&&(Oe=X.method,h.set(X.method,{type:X,handler:ve})),{dispose:s(()=>{Oe!==null&&(Oe!==void 0?h.delete(Oe):f=void 0)},"dispose")}},"onRequest"),hasPendingResponse:s(()=>E.size>0,"hasPendingResponse"),trace:s(async(X,ve,Oe)=>{let Ke=!1,fr=Rc.Text;Oe!==void 0&&(Ii.boolean(Oe)?Ke=Oe:(Ke=Oe.sendNotification||!1,fr=Oe.traceFormat||Rc.Text)),v=X,b=fr,v===cn.Off?_=void 0:_=ve,Ke&&!z()&&!$()&&await Co.sendNotification(BO.type,{value:cn.toString(X)})},"trace"),onError:w.event,onClose:L.event,onUnhandledNotification:M.event,onDispose:D.event,end:s(()=>{e.end()},"end"),dispose:s(()=>{if($())return;S=Tl.Disposed,D.fire(void 0);let X=new Qt.ResponseError(Qt.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let ve of E.values())ve.reject(X);E=new Map,x=new Map,I=new Set,y=new cse.LinkedMap,Ii.func(e.dispose)&&e.dispose(),Ii.func(t.dispose)&&t.dispose()},"dispose"),listen:s(()=>{Ye(),yt(),S=Tl.Listening,t.listen(Tt)},"listen"),inspect:s(()=>{(0,ase.default)().console.log("inspect")},"inspect")};return Co.onNotification(BB.type,X=>{if(v===cn.Off||!_)return;let ve=v===cn.Verbose||v===cn.Compact;_.log(X.message,ve?X.verbose:void 0)}),Co.onNotification(Rb.type,X=>{let ve=m.get(X.token);ve?ve(X.value):Y.fire(X)}),Co}s(oQe,"createMessageConnection");Xt.createMessageConnection=oQe});var PB=T(be=>{"use strict";d();Object.defineProperty(be,"__esModule",{value:!0});be.ProgressType=be.ProgressToken=be.createMessageConnection=be.NullLogger=be.ConnectionOptions=be.ConnectionStrategy=be.AbstractMessageBuffer=be.WriteableStreamMessageWriter=be.AbstractMessageWriter=be.MessageWriter=be.ReadableStreamMessageReader=be.AbstractMessageReader=be.MessageReader=be.SharedArrayReceiverStrategy=be.SharedArraySenderStrategy=be.CancellationToken=be.CancellationTokenSource=be.Emitter=be.Event=be.Disposable=be.LRUCache=be.Touch=be.LinkedMap=be.ParameterStructures=be.NotificationType9=be.NotificationType8=be.NotificationType7=be.NotificationType6=be.NotificationType5=be.NotificationType4=be.NotificationType3=be.NotificationType2=be.NotificationType1=be.NotificationType0=be.NotificationType=be.ErrorCodes=be.ResponseError=be.RequestType9=be.RequestType8=be.RequestType7=be.RequestType6=be.RequestType5=be.RequestType4=be.RequestType3=be.RequestType2=be.RequestType1=be.RequestType0=be.RequestType=be.Message=be.RAL=void 0;be.MessageStrategy=be.CancellationStrategy=be.CancellationSenderStrategy=be.CancellationReceiverStrategy=be.ConnectionError=be.ConnectionErrors=be.LogTraceNotification=be.SetTraceNotification=be.TraceFormat=be.TraceValues=be.Trace=void 0;var Ln=nO();Object.defineProperty(be,"Message",{enumerable:!0,get:s(function(){return Ln.Message},"get")});Object.defineProperty(be,"RequestType",{enumerable:!0,get:s(function(){return Ln.RequestType},"get")});Object.defineProperty(be,"RequestType0",{enumerable:!0,get:s(function(){return Ln.RequestType0},"get")});Object.defineProperty(be,"RequestType1",{enumerable:!0,get:s(function(){return Ln.RequestType1},"get")});Object.defineProperty(be,"RequestType2",{enumerable:!0,get:s(function(){return Ln.RequestType2},"get")});Object.defineProperty(be,"RequestType3",{enumerable:!0,get:s(function(){return Ln.RequestType3},"get")});Object.defineProperty(be,"RequestType4",{enumerable:!0,get:s(function(){return Ln.RequestType4},"get")});Object.defineProperty(be,"RequestType5",{enumerable:!0,get:s(function(){return Ln.RequestType5},"get")});Object.defineProperty(be,"RequestType6",{enumerable:!0,get:s(function(){return Ln.RequestType6},"get")});Object.defineProperty(be,"RequestType7",{enumerable:!0,get:s(function(){return Ln.RequestType7},"get")});Object.defineProperty(be,"RequestType8",{enumerable:!0,get:s(function(){return Ln.RequestType8},"get")});Object.defineProperty(be,"RequestType9",{enumerable:!0,get:s(function(){return Ln.RequestType9},"get")});Object.defineProperty(be,"ResponseError",{enumerable:!0,get:s(function(){return Ln.ResponseError},"get")});Object.defineProperty(be,"ErrorCodes",{enumerable:!0,get:s(function(){return Ln.ErrorCodes},"get")});Object.defineProperty(be,"NotificationType",{enumerable:!0,get:s(function(){return Ln.NotificationType},"get")});Object.defineProperty(be,"NotificationType0",{enumerable:!0,get:s(function(){return Ln.NotificationType0},"get")});Object.defineProperty(be,"NotificationType1",{enumerable:!0,get:s(function(){return Ln.NotificationType1},"get")});Object.defineProperty(be,"NotificationType2",{enumerable:!0,get:s(function(){return Ln.NotificationType2},"get")});Object.defineProperty(be,"NotificationType3",{enumerable:!0,get:s(function(){return Ln.NotificationType3},"get")});Object.defineProperty(be,"NotificationType4",{enumerable:!0,get:s(function(){return Ln.NotificationType4},"get")});Object.defineProperty(be,"NotificationType5",{enumerable:!0,get:s(function(){return Ln.NotificationType5},"get")});Object.defineProperty(be,"NotificationType6",{enumerable:!0,get:s(function(){return Ln.NotificationType6},"get")});Object.defineProperty(be,"NotificationType7",{enumerable:!0,get:s(function(){return Ln.NotificationType7},"get")});Object.defineProperty(be,"NotificationType8",{enumerable:!0,get:s(function(){return Ln.NotificationType8},"get")});Object.defineProperty(be,"NotificationType9",{enumerable:!0,get:s(function(){return Ln.NotificationType9},"get")});Object.defineProperty(be,"ParameterStructures",{enumerable:!0,get:s(function(){return Ln.ParameterStructures},"get")});var DO=oO();Object.defineProperty(be,"LinkedMap",{enumerable:!0,get:s(function(){return DO.LinkedMap},"get")});Object.defineProperty(be,"LRUCache",{enumerable:!0,get:s(function(){return DO.LRUCache},"get")});Object.defineProperty(be,"Touch",{enumerable:!0,get:s(function(){return DO.Touch},"get")});var sQe=Koe();Object.defineProperty(be,"Disposable",{enumerable:!0,get:s(function(){return sQe.Disposable},"get")});var dse=nE();Object.defineProperty(be,"Event",{enumerable:!0,get:s(function(){return dse.Event},"get")});Object.defineProperty(be,"Emitter",{enumerable:!0,get:s(function(){return dse.Emitter},"get")});var hse=bB();Object.defineProperty(be,"CancellationTokenSource",{enumerable:!0,get:s(function(){return hse.CancellationTokenSource},"get")});Object.defineProperty(be,"CancellationToken",{enumerable:!0,get:s(function(){return hse.CancellationToken},"get")});var Ase=Xoe();Object.defineProperty(be,"SharedArraySenderStrategy",{enumerable:!0,get:s(function(){return Ase.SharedArraySenderStrategy},"get")});Object.defineProperty(be,"SharedArrayReceiverStrategy",{enumerable:!0,get:s(function(){return Ase.SharedArrayReceiverStrategy},"get")});var NO=ese();Object.defineProperty(be,"MessageReader",{enumerable:!0,get:s(function(){return NO.MessageReader},"get")});Object.defineProperty(be,"AbstractMessageReader",{enumerable:!0,get:s(function(){return NO.AbstractMessageReader},"get")});Object.defineProperty(be,"ReadableStreamMessageReader",{enumerable:!0,get:s(function(){return NO.ReadableStreamMessageReader},"get")});var QO=ose();Object.defineProperty(be,"MessageWriter",{enumerable:!0,get:s(function(){return QO.MessageWriter},"get")});Object.defineProperty(be,"AbstractMessageWriter",{enumerable:!0,get:s(function(){return QO.AbstractMessageWriter},"get")});Object.defineProperty(be,"WriteableStreamMessageWriter",{enumerable:!0,get:s(function(){return QO.WriteableStreamMessageWriter},"get")});var aQe=sse();Object.defineProperty(be,"AbstractMessageBuffer",{enumerable:!0,get:s(function(){return aQe.AbstractMessageBuffer},"get")});var ns=fse();Object.defineProperty(be,"ConnectionStrategy",{enumerable:!0,get:s(function(){return ns.ConnectionStrategy},"get")});Object.defineProperty(be,"ConnectionOptions",{enumerable:!0,get:s(function(){return ns.ConnectionOptions},"get")});Object.defineProperty(be,"NullLogger",{enumerable:!0,get:s(function(){return ns.NullLogger},"get")});Object.defineProperty(be,"createMessageConnection",{enumerable:!0,get:s(function(){return ns.createMessageConnection},"get")});Object.defineProperty(be,"ProgressToken",{enumerable:!0,get:s(function(){return ns.ProgressToken},"get")});Object.defineProperty(be,"ProgressType",{enumerable:!0,get:s(function(){return ns.ProgressType},"get")});Object.defineProperty(be,"Trace",{enumerable:!0,get:s(function(){return ns.Trace},"get")});Object.defineProperty(be,"TraceValues",{enumerable:!0,get:s(function(){return ns.TraceValues},"get")});Object.defineProperty(be,"TraceFormat",{enumerable:!0,get:s(function(){return ns.TraceFormat},"get")});Object.defineProperty(be,"SetTraceNotification",{enumerable:!0,get:s(function(){return ns.SetTraceNotification},"get")});Object.defineProperty(be,"LogTraceNotification",{enumerable:!0,get:s(function(){return ns.LogTraceNotification},"get")});Object.defineProperty(be,"ConnectionErrors",{enumerable:!0,get:s(function(){return ns.ConnectionErrors},"get")});Object.defineProperty(be,"ConnectionError",{enumerable:!0,get:s(function(){return ns.ConnectionError},"get")});Object.defineProperty(be,"CancellationReceiverStrategy",{enumerable:!0,get:s(function(){return ns.CancellationReceiverStrategy},"get")});Object.defineProperty(be,"CancellationSenderStrategy",{enumerable:!0,get:s(function(){return ns.CancellationSenderStrategy},"get")});Object.defineProperty(be,"CancellationStrategy",{enumerable:!0,get:s(function(){return ns.CancellationStrategy},"get")});Object.defineProperty(be,"MessageStrategy",{enumerable:!0,get:s(function(){return ns.MessageStrategy},"get")});var cQe=SA();be.RAL=cQe.default});var gse=T(MO=>{"use strict";d();Object.defineProperty(MO,"__esModule",{value:!0});var pse=require("util"),Td=PB(),FB=class t extends Td.AbstractMessageBuffer{static{s(this,"MessageBuffer")}constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new pse.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};FB.emptyBuffer=Buffer.allocUnsafe(0);var PO=class{static{s(this,"ReadableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Td.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Td.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Td.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Td.Disposable.create(()=>this.stream.off("data",e))}},FO=class{static{s(this,"WritableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Td.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Td.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Td.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,o)=>{let a=s(c=>{c==null?n():o(c)},"callback");typeof e=="string"?this.stream.write(e,r,a):this.stream.write(e,a)})}end(){this.stream.end()}},mse=Object.freeze({messageBuffer:Object.freeze({create:s(t=>new FB(t),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:s((t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:s((t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new pse.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:s(t=>new PO(t),"asReadableStream"),asWritableStream:s(t=>new FO(t),"asWritableStream")}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:s(()=>clearTimeout(n),"dispose")}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:s(()=>clearImmediate(r),"dispose")}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:s(()=>clearInterval(n),"dispose")}}})});function LO(){return mse}s(LO,"RIL");(function(t){function e(){Td.RAL.install(mse)}s(e,"install"),t.install=e})(LO||(LO={}));MO.default=LO});var Bg=T(Ur=>{"use strict";d();var lQe=Ur&&Ur.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uQe=Ur&&Ur.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lQe(e,t,r)};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.createMessageConnection=Ur.createServerSocketTransport=Ur.createClientSocketTransport=Ur.createServerPipeTransport=Ur.createClientPipeTransport=Ur.generateRandomPipeName=Ur.StreamMessageWriter=Ur.StreamMessageReader=Ur.SocketMessageWriter=Ur.SocketMessageReader=Ur.PortMessageWriter=Ur.PortMessageReader=Ur.IPCMessageWriter=Ur.IPCMessageReader=void 0;var cE=gse();cE.default.install();var Cse=require("path"),fQe=require("os"),dQe=require("crypto"),OB=require("net"),kc=PB();uQe(PB(),Ur);var OO=class extends kc.AbstractMessageReader{static{s(this,"IPCMessageReader")}constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),kc.Disposable.create(()=>this.process.off("message",e))}};Ur.IPCMessageReader=OO;var UO=class extends kc.AbstractMessageWriter{static{s(this,"IPCMessageWriter")}constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Ur.IPCMessageWriter=UO;var qO=class extends kc.AbstractMessageReader{static{s(this,"PortMessageReader")}constructor(e){super(),this.onData=new kc.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};Ur.PortMessageReader=qO;var HO=class extends kc.AbstractMessageWriter{static{s(this,"PortMessageWriter")}constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Ur.PortMessageWriter=HO;var wg=class extends kc.ReadableStreamMessageReader{static{s(this,"SocketMessageReader")}constructor(e,r="utf-8"){super((0,cE.default)().stream.asReadableStream(e),r)}};Ur.SocketMessageReader=wg;var Sg=class extends kc.WriteableStreamMessageWriter{static{s(this,"SocketMessageWriter")}constructor(e,r){super((0,cE.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ur.SocketMessageWriter=Sg;var LB=class extends kc.ReadableStreamMessageReader{static{s(this,"StreamMessageReader")}constructor(e,r){super((0,cE.default)().stream.asReadableStream(e),r)}};Ur.StreamMessageReader=LB;var MB=class extends kc.WriteableStreamMessageWriter{static{s(this,"StreamMessageWriter")}constructor(e,r){super((0,cE.default)().stream.asWritableStream(e),r)}};Ur.StreamMessageWriter=MB;var yse=process.env.XDG_RUNTIME_DIR,hQe=new Map([["linux",107],["darwin",103]]);function AQe(){let t=(0,dQe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;yse?e=Cse.join(yse,`vscode-ipc-${t}.sock`):e=Cse.join(fQe.tmpdir(),`vscode-${t}.sock`);let r=hQe.get(process.platform);return r!==void 0&&e.length>r&&(0,cE.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}s(AQe,"generateRandomPipeName");Ur.generateRandomPipeName=AQe;function pQe(t,e="utf-8"){let r,n=new Promise((o,a)=>{r=o});return new Promise((o,a)=>{let c=(0,OB.createServer)(l=>{c.close(),r([new wg(l,e),new Sg(l,e)])});c.on("error",a),c.listen(t,()=>{c.removeListener("error",a),o({onConnected:s(()=>n,"onConnected")})})})}s(pQe,"createClientPipeTransport");Ur.createClientPipeTransport=pQe;function mQe(t,e="utf-8"){let r=(0,OB.createConnection)(t);return[new wg(r,e),new Sg(r,e)]}s(mQe,"createServerPipeTransport");Ur.createServerPipeTransport=mQe;function gQe(t,e="utf-8"){let r,n=new Promise((o,a)=>{r=o});return new Promise((o,a)=>{let c=(0,OB.createServer)(l=>{c.close(),r([new wg(l,e),new Sg(l,e)])});c.on("error",a),c.listen(t,"127.0.0.1",()=>{c.removeListener("error",a),o({onConnected:s(()=>n,"onConnected")})})})}s(gQe,"createClientSocketTransport");Ur.createClientSocketTransport=gQe;function CQe(t,e="utf-8"){let r=(0,OB.createConnection)(t,"127.0.0.1");return[new wg(r,e),new Sg(r,e)]}s(CQe,"createServerSocketTransport");Ur.createServerSocketTransport=CQe;function yQe(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}s(yQe,"isReadableStream");function EQe(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}s(EQe,"isWritableStream");function IQe(t,e,r,n){r||(r=kc.NullLogger);let o=yQe(t)?new LB(t):t,a=EQe(e)?new MB(e):e;return kc.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,kc.createMessageConnection)(o,a,r,n)}s(IQe,"createMessageConnection");Ur.createMessageConnection=IQe});var GO=T((LOt,Ese)=>{"use strict";d();Ese.exports=Bg()});var qB=T((Ise,UB)=>{d();(function(t){if(typeof UB=="object"&&typeof UB.exports=="object"){var e=t(require,Ise);e!==void 0&&(UB.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(k){function ee(ne){return typeof ne=="string"}s(ee,"is"),k.is=ee})(r||(e.DocumentUri=r={}));var n;(function(k){function ee(ne){return typeof ne=="string"}s(ee,"is"),k.is=ee})(n||(e.URI=n={}));var o;(function(k){k.MIN_VALUE=-2147483648,k.MAX_VALUE=2147483647;function ee(ne){return typeof ne=="number"&&k.MIN_VALUE<=ne&&ne<=k.MAX_VALUE}s(ee,"is"),k.is=ee})(o||(e.integer=o={}));var a;(function(k){k.MIN_VALUE=0,k.MAX_VALUE=2147483647;function ee(ne){return typeof ne=="number"&&k.MIN_VALUE<=ne&&ne<=k.MAX_VALUE}s(ee,"is"),k.is=ee})(a||(e.uinteger=a={}));var c;(function(k){function ee(G,B){return G===Number.MAX_VALUE&&(G=a.MAX_VALUE),B===Number.MAX_VALUE&&(B=a.MAX_VALUE),{line:G,character:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&ue.uinteger(B.line)&&ue.uinteger(B.character)}s(ne,"is"),k.is=ne})(c||(e.Position=c={}));var l;(function(k){function ee(G,B,fe,Te){if(ue.uinteger(G)&&ue.uinteger(B)&&ue.uinteger(fe)&&ue.uinteger(Te))return{start:c.create(G,B),end:c.create(fe,Te)};if(c.is(G)&&c.is(B))return{start:G,end:B};throw new Error("Range#create called with invalid arguments[".concat(G,", ").concat(B,", ").concat(fe,", ").concat(Te,"]"))}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&c.is(B.start)&&c.is(B.end)}s(ne,"is"),k.is=ne})(l||(e.Range=l={}));var u;(function(k){function ee(G,B){return{uri:G,range:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&l.is(B.range)&&(ue.string(B.uri)||ue.undefined(B.uri))}s(ne,"is"),k.is=ne})(u||(e.Location=u={}));var f;(function(k){function ee(G,B,fe,Te){return{targetUri:G,targetRange:B,targetSelectionRange:fe,originSelectionRange:Te}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&l.is(B.targetRange)&&ue.string(B.targetUri)&&l.is(B.targetSelectionRange)&&(l.is(B.originSelectionRange)||ue.undefined(B.originSelectionRange))}s(ne,"is"),k.is=ne})(f||(e.LocationLink=f={}));var h;(function(k){function ee(G,B,fe,Te){return{red:G,green:B,blue:fe,alpha:Te}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&ue.numberRange(B.red,0,1)&&ue.numberRange(B.green,0,1)&&ue.numberRange(B.blue,0,1)&&ue.numberRange(B.alpha,0,1)}s(ne,"is"),k.is=ne})(h||(e.Color=h={}));var A;(function(k){function ee(G,B){return{range:G,color:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&l.is(B.range)&&h.is(B.color)}s(ne,"is"),k.is=ne})(A||(e.ColorInformation=A={}));var p;(function(k){function ee(G,B,fe){return{label:G,textEdit:B,additionalTextEdits:fe}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&ue.string(B.label)&&(ue.undefined(B.textEdit)||_.is(B))&&(ue.undefined(B.additionalTextEdits)||ue.typedArray(B.additionalTextEdits,_.is))}s(ne,"is"),k.is=ne})(p||(e.ColorPresentation=p={}));var m;(function(k){k.Comment="comment",k.Imports="imports",k.Region="region"})(m||(e.FoldingRangeKind=m={}));var g;(function(k){function ee(G,B,fe,Te,Nt,li){var hn={startLine:G,endLine:B};return ue.defined(fe)&&(hn.startCharacter=fe),ue.defined(Te)&&(hn.endCharacter=Te),ue.defined(Nt)&&(hn.kind=Nt),ue.defined(li)&&(hn.collapsedText=li),hn}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&ue.uinteger(B.startLine)&&ue.uinteger(B.startLine)&&(ue.undefined(B.startCharacter)||ue.uinteger(B.startCharacter))&&(ue.undefined(B.endCharacter)||ue.uinteger(B.endCharacter))&&(ue.undefined(B.kind)||ue.string(B.kind))}s(ne,"is"),k.is=ne})(g||(e.FoldingRange=g={}));var y;(function(k){function ee(G,B){return{location:G,message:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&u.is(B.location)&&ue.string(B.message)}s(ne,"is"),k.is=ne})(y||(e.DiagnosticRelatedInformation=y={}));var E;(function(k){k.Error=1,k.Warning=2,k.Information=3,k.Hint=4})(E||(e.DiagnosticSeverity=E={}));var I;(function(k){k.Unnecessary=1,k.Deprecated=2})(I||(e.DiagnosticTag=I={}));var x;(function(k){function ee(ne){var G=ne;return ue.objectLiteral(G)&&ue.string(G.href)}s(ee,"is"),k.is=ee})(x||(e.CodeDescription=x={}));var v;(function(k){function ee(G,B,fe,Te,Nt,li){var hn={range:G,message:B};return ue.defined(fe)&&(hn.severity=fe),ue.defined(Te)&&(hn.code=Te),ue.defined(Nt)&&(hn.source=Nt),ue.defined(li)&&(hn.relatedInformation=li),hn}s(ee,"create"),k.create=ee;function ne(G){var B,fe=G;return ue.defined(fe)&&l.is(fe.range)&&ue.string(fe.message)&&(ue.number(fe.severity)||ue.undefined(fe.severity))&&(ue.integer(fe.code)||ue.string(fe.code)||ue.undefined(fe.code))&&(ue.undefined(fe.codeDescription)||ue.string((B=fe.codeDescription)===null||B===void 0?void 0:B.href))&&(ue.string(fe.source)||ue.undefined(fe.source))&&(ue.undefined(fe.relatedInformation)||ue.typedArray(fe.relatedInformation,y.is))}s(ne,"is"),k.is=ne})(v||(e.Diagnostic=v={}));var b;(function(k){function ee(G,B){for(var fe=[],Te=2;Te<arguments.length;Te++)fe[Te-2]=arguments[Te];var Nt={title:G,command:B};return ue.defined(fe)&&fe.length>0&&(Nt.arguments=fe),Nt}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&ue.string(B.title)&&ue.string(B.command)}s(ne,"is"),k.is=ne})(b||(e.Command=b={}));var _;(function(k){function ee(fe,Te){return{range:fe,newText:Te}}s(ee,"replace"),k.replace=ee;function ne(fe,Te){return{range:{start:fe,end:fe},newText:Te}}s(ne,"insert"),k.insert=ne;function G(fe){return{range:fe,newText:""}}s(G,"del"),k.del=G;function B(fe){var Te=fe;return ue.objectLiteral(Te)&&ue.string(Te.newText)&&l.is(Te.range)}s(B,"is"),k.is=B})(_||(e.TextEdit=_={}));var S;(function(k){function ee(G,B,fe){var Te={label:G};return B!==void 0&&(Te.needsConfirmation=B),fe!==void 0&&(Te.description=fe),Te}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&ue.string(B.label)&&(ue.boolean(B.needsConfirmation)||B.needsConfirmation===void 0)&&(ue.string(B.description)||B.description===void 0)}s(ne,"is"),k.is=ne})(S||(e.ChangeAnnotation=S={}));var w;(function(k){function ee(ne){var G=ne;return ue.string(G)}s(ee,"is"),k.is=ee})(w||(e.ChangeAnnotationIdentifier=w={}));var L;(function(k){function ee(fe,Te,Nt){return{range:fe,newText:Te,annotationId:Nt}}s(ee,"replace"),k.replace=ee;function ne(fe,Te,Nt){return{range:{start:fe,end:fe},newText:Te,annotationId:Nt}}s(ne,"insert"),k.insert=ne;function G(fe,Te){return{range:fe,newText:"",annotationId:Te}}s(G,"del"),k.del=G;function B(fe){var Te=fe;return _.is(Te)&&(S.is(Te.annotationId)||w.is(Te.annotationId))}s(B,"is"),k.is=B})(L||(e.AnnotatedTextEdit=L={}));var M;(function(k){function ee(G,B){return{textDocument:G,edits:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&z.is(B.textDocument)&&Array.isArray(B.edits)}s(ne,"is"),k.is=ne})(M||(e.TextDocumentEdit=M={}));var Y;(function(k){function ee(G,B,fe){var Te={kind:"create",uri:G};return B!==void 0&&(B.overwrite!==void 0||B.ignoreIfExists!==void 0)&&(Te.options=B),fe!==void 0&&(Te.annotationId=fe),Te}s(ee,"create"),k.create=ee;function ne(G){var B=G;return B&&B.kind==="create"&&ue.string(B.uri)&&(B.options===void 0||(B.options.overwrite===void 0||ue.boolean(B.options.overwrite))&&(B.options.ignoreIfExists===void 0||ue.boolean(B.options.ignoreIfExists)))&&(B.annotationId===void 0||w.is(B.annotationId))}s(ne,"is"),k.is=ne})(Y||(e.CreateFile=Y={}));var D;(function(k){function ee(G,B,fe,Te){var Nt={kind:"rename",oldUri:G,newUri:B};return fe!==void 0&&(fe.overwrite!==void 0||fe.ignoreIfExists!==void 0)&&(Nt.options=fe),Te!==void 0&&(Nt.annotationId=Te),Nt}s(ee,"create"),k.create=ee;function ne(G){var B=G;return B&&B.kind==="rename"&&ue.string(B.oldUri)&&ue.string(B.newUri)&&(B.options===void 0||(B.options.overwrite===void 0||ue.boolean(B.options.overwrite))&&(B.options.ignoreIfExists===void 0||ue.boolean(B.options.ignoreIfExists)))&&(B.annotationId===void 0||w.is(B.annotationId))}s(ne,"is"),k.is=ne})(D||(e.RenameFile=D={}));var O;(function(k){function ee(G,B,fe){var Te={kind:"delete",uri:G};return B!==void 0&&(B.recursive!==void 0||B.ignoreIfNotExists!==void 0)&&(Te.options=B),fe!==void 0&&(Te.annotationId=fe),Te}s(ee,"create"),k.create=ee;function ne(G){var B=G;return B&&B.kind==="delete"&&ue.string(B.uri)&&(B.options===void 0||(B.options.recursive===void 0||ue.boolean(B.options.recursive))&&(B.options.ignoreIfNotExists===void 0||ue.boolean(B.options.ignoreIfNotExists)))&&(B.annotationId===void 0||w.is(B.annotationId))}s(ne,"is"),k.is=ne})(O||(e.DeleteFile=O={}));var W;(function(k){function ee(ne){var G=ne;return G&&(G.changes!==void 0||G.documentChanges!==void 0)&&(G.documentChanges===void 0||G.documentChanges.every(function(B){return ue.string(B.kind)?Y.is(B)||D.is(B)||O.is(B):M.is(B)}))}s(ee,"is"),k.is=ee})(W||(e.WorkspaceEdit=W={}));var R=function(){function k(ee,ne){this.edits=ee,this.changeAnnotations=ne}return s(k,"TextEditChangeImpl"),k.prototype.insert=function(ee,ne,G){var B,fe;if(G===void 0?B=_.insert(ee,ne):w.is(G)?(fe=G,B=L.insert(ee,ne,G)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(G),B=L.insert(ee,ne,fe)),this.edits.push(B),fe!==void 0)return fe},k.prototype.replace=function(ee,ne,G){var B,fe;if(G===void 0?B=_.replace(ee,ne):w.is(G)?(fe=G,B=L.replace(ee,ne,G)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(G),B=L.replace(ee,ne,fe)),this.edits.push(B),fe!==void 0)return fe},k.prototype.delete=function(ee,ne){var G,B;if(ne===void 0?G=_.del(ee):w.is(ne)?(B=ne,G=L.del(ee,ne)):(this.assertChangeAnnotations(this.changeAnnotations),B=this.changeAnnotations.manage(ne),G=L.del(ee,B)),this.edits.push(G),B!==void 0)return B},k.prototype.add=function(ee){this.edits.push(ee)},k.prototype.all=function(){return this.edits},k.prototype.clear=function(){this.edits.splice(0,this.edits.length)},k.prototype.assertChangeAnnotations=function(ee){if(ee===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},k}(),Q=function(){function k(ee){this._annotations=ee===void 0?Object.create(null):ee,this._counter=0,this._size=0}return s(k,"ChangeAnnotations"),k.prototype.all=function(){return this._annotations},Object.defineProperty(k.prototype,"size",{get:s(function(){return this._size},"get"),enumerable:!1,configurable:!0}),k.prototype.manage=function(ee,ne){var G;if(w.is(ee)?G=ee:(G=this.nextId(),ne=ee),this._annotations[G]!==void 0)throw new Error("Id ".concat(G," is already in use."));if(ne===void 0)throw new Error("No annotation provided for id ".concat(G));return this._annotations[G]=ne,this._size++,G},k.prototype.nextId=function(){return this._counter++,this._counter.toString()},k}(),q=function(){function k(ee){var ne=this;this._textEditChanges=Object.create(null),ee!==void 0?(this._workspaceEdit=ee,ee.documentChanges?(this._changeAnnotations=new Q(ee.changeAnnotations),ee.changeAnnotations=this._changeAnnotations.all(),ee.documentChanges.forEach(function(G){if(M.is(G)){var B=new R(G.edits,ne._changeAnnotations);ne._textEditChanges[G.textDocument.uri]=B}})):ee.changes&&Object.keys(ee.changes).forEach(function(G){var B=new R(ee.changes[G]);ne._textEditChanges[G]=B})):this._workspaceEdit={}}return s(k,"WorkspaceChange"),Object.defineProperty(k.prototype,"edit",{get:s(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),k.prototype.getTextEditChange=function(ee){if(z.is(ee)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ne={uri:ee.uri,version:ee.version},G=this._textEditChanges[ne.uri];if(!G){var B=[],fe={textDocument:ne,edits:B};this._workspaceEdit.documentChanges.push(fe),G=new R(B,this._changeAnnotations),this._textEditChanges[ne.uri]=G}return G}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var G=this._textEditChanges[ee];if(!G){var B=[];this._workspaceEdit.changes[ee]=B,G=new R(B),this._textEditChanges[ee]=G}return G}},k.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Q,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},k.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},k.prototype.createFile=function(ee,ne,G){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var B;S.is(ne)||w.is(ne)?B=ne:G=ne;var fe,Te;if(B===void 0?fe=Y.create(ee,G):(Te=w.is(B)?B:this._changeAnnotations.manage(B),fe=Y.create(ee,G,Te)),this._workspaceEdit.documentChanges.push(fe),Te!==void 0)return Te},k.prototype.renameFile=function(ee,ne,G,B){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var fe;S.is(G)||w.is(G)?fe=G:B=G;var Te,Nt;if(fe===void 0?Te=D.create(ee,ne,B):(Nt=w.is(fe)?fe:this._changeAnnotations.manage(fe),Te=D.create(ee,ne,B,Nt)),this._workspaceEdit.documentChanges.push(Te),Nt!==void 0)return Nt},k.prototype.deleteFile=function(ee,ne,G){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var B;S.is(ne)||w.is(ne)?B=ne:G=ne;var fe,Te;if(B===void 0?fe=O.create(ee,G):(Te=w.is(B)?B:this._changeAnnotations.manage(B),fe=O.create(ee,G,Te)),this._workspaceEdit.documentChanges.push(fe),Te!==void 0)return Te},k}();e.WorkspaceChange=q;var U;(function(k){function ee(G){return{uri:G}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&ue.string(B.uri)}s(ne,"is"),k.is=ne})(U||(e.TextDocumentIdentifier=U={}));var V;(function(k){function ee(G,B){return{uri:G,version:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&ue.string(B.uri)&&ue.integer(B.version)}s(ne,"is"),k.is=ne})(V||(e.VersionedTextDocumentIdentifier=V={}));var z;(function(k){function ee(G,B){return{uri:G,version:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&ue.string(B.uri)&&(B.version===null||ue.integer(B.version))}s(ne,"is"),k.is=ne})(z||(e.OptionalVersionedTextDocumentIdentifier=z={}));var $;(function(k){function ee(G,B,fe,Te){return{uri:G,languageId:B,version:fe,text:Te}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&ue.string(B.uri)&&ue.string(B.languageId)&&ue.integer(B.version)&&ue.string(B.text)}s(ne,"is"),k.is=ne})($||(e.TextDocumentItem=$={}));var j;(function(k){k.PlainText="plaintext",k.Markdown="markdown";function ee(ne){var G=ne;return G===k.PlainText||G===k.Markdown}s(ee,"is"),k.is=ee})(j||(e.MarkupKind=j={}));var Z;(function(k){function ee(ne){var G=ne;return ue.objectLiteral(ne)&&j.is(G.kind)&&ue.string(G.value)}s(ee,"is"),k.is=ee})(Z||(e.MarkupContent=Z={}));var le;(function(k){k.Text=1,k.Method=2,k.Function=3,k.Constructor=4,k.Field=5,k.Variable=6,k.Class=7,k.Interface=8,k.Module=9,k.Property=10,k.Unit=11,k.Value=12,k.Enum=13,k.Keyword=14,k.Snippet=15,k.Color=16,k.File=17,k.Reference=18,k.Folder=19,k.EnumMember=20,k.Constant=21,k.Struct=22,k.Event=23,k.Operator=24,k.TypeParameter=25})(le||(e.CompletionItemKind=le={}));var Se;(function(k){k.PlainText=1,k.Snippet=2})(Se||(e.InsertTextFormat=Se={}));var et;(function(k){k.Deprecated=1})(et||(e.CompletionItemTag=et={}));var qe;(function(k){function ee(G,B,fe){return{newText:G,insert:B,replace:fe}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return B&&ue.string(B.newText)&&l.is(B.insert)&&l.is(B.replace)}s(ne,"is"),k.is=ne})(qe||(e.InsertReplaceEdit=qe={}));var Tt;(function(k){k.asIs=1,k.adjustIndentation=2})(Tt||(e.InsertTextMode=Tt={}));var ur;(function(k){function ee(ne){var G=ne;return G&&(ue.string(G.detail)||G.detail===void 0)&&(ue.string(G.description)||G.description===void 0)}s(ee,"is"),k.is=ee})(ur||(e.CompletionItemLabelDetails=ur={}));var nr;(function(k){function ee(ne){return{label:ne}}s(ee,"create"),k.create=ee})(nr||(e.CompletionItem=nr={}));var Er;(function(k){function ee(ne,G){return{items:ne||[],isIncomplete:!!G}}s(ee,"create"),k.create=ee})(Er||(e.CompletionList=Er={}));var J;(function(k){function ee(G){return G.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(ee,"fromPlainText"),k.fromPlainText=ee;function ne(G){var B=G;return ue.string(B)||ue.objectLiteral(B)&&ue.string(B.language)&&ue.string(B.value)}s(ne,"is"),k.is=ne})(J||(e.MarkedString=J={}));var xe;(function(k){function ee(ne){var G=ne;return!!G&&ue.objectLiteral(G)&&(Z.is(G.contents)||J.is(G.contents)||ue.typedArray(G.contents,J.is))&&(ne.range===void 0||l.is(ne.range))}s(ee,"is"),k.is=ee})(xe||(e.Hover=xe={}));var te;(function(k){function ee(ne,G){return G?{label:ne,documentation:G}:{label:ne}}s(ee,"create"),k.create=ee})(te||(e.ParameterInformation=te={}));var Le;(function(k){function ee(ne,G){for(var B=[],fe=2;fe<arguments.length;fe++)B[fe-2]=arguments[fe];var Te={label:ne};return ue.defined(G)&&(Te.documentation=G),ue.defined(B)?Te.parameters=B:Te.parameters=[],Te}s(ee,"create"),k.create=ee})(Le||(e.SignatureInformation=Le={}));var we;(function(k){k.Text=1,k.Read=2,k.Write=3})(we||(e.DocumentHighlightKind=we={}));var oe;(function(k){function ee(ne,G){var B={range:ne};return ue.number(G)&&(B.kind=G),B}s(ee,"create"),k.create=ee})(oe||(e.DocumentHighlight=oe={}));var Re;(function(k){k.File=1,k.Module=2,k.Namespace=3,k.Package=4,k.Class=5,k.Method=6,k.Property=7,k.Field=8,k.Constructor=9,k.Enum=10,k.Interface=11,k.Function=12,k.Variable=13,k.Constant=14,k.String=15,k.Number=16,k.Boolean=17,k.Array=18,k.Object=19,k.Key=20,k.Null=21,k.EnumMember=22,k.Struct=23,k.Event=24,k.Operator=25,k.TypeParameter=26})(Re||(e.SymbolKind=Re={}));var rt;(function(k){k.Deprecated=1})(rt||(e.SymbolTag=rt={}));var Fe;(function(k){function ee(ne,G,B,fe,Te){var Nt={name:ne,kind:G,location:{uri:fe,range:B}};return Te&&(Nt.containerName=Te),Nt}s(ee,"create"),k.create=ee})(Fe||(e.SymbolInformation=Fe={}));var Ye;(function(k){function ee(ne,G,B,fe){return fe!==void 0?{name:ne,kind:G,location:{uri:B,range:fe}}:{name:ne,kind:G,location:{uri:B}}}s(ee,"create"),k.create=ee})(Ye||(e.WorkspaceSymbol=Ye={}));var yt;(function(k){function ee(G,B,fe,Te,Nt,li){var hn={name:G,detail:B,kind:fe,range:Te,selectionRange:Nt};return li!==void 0&&(hn.children=li),hn}s(ee,"create"),k.create=ee;function ne(G){var B=G;return B&&ue.string(B.name)&&ue.number(B.kind)&&l.is(B.range)&&l.is(B.selectionRange)&&(B.detail===void 0||ue.string(B.detail))&&(B.deprecated===void 0||ue.boolean(B.deprecated))&&(B.children===void 0||Array.isArray(B.children))&&(B.tags===void 0||Array.isArray(B.tags))}s(ne,"is"),k.is=ne})(yt||(e.DocumentSymbol=yt={}));var Gt;(function(k){k.Empty="",k.QuickFix="quickfix",k.Refactor="refactor",k.RefactorExtract="refactor.extract",k.RefactorInline="refactor.inline",k.RefactorRewrite="refactor.rewrite",k.Source="source",k.SourceOrganizeImports="source.organizeImports",k.SourceFixAll="source.fixAll"})(Gt||(e.CodeActionKind=Gt={}));var ir;(function(k){k.Invoked=1,k.Automatic=2})(ir||(e.CodeActionTriggerKind=ir={}));var an;(function(k){function ee(G,B,fe){var Te={diagnostics:G};return B!=null&&(Te.only=B),fe!=null&&(Te.triggerKind=fe),Te}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&ue.typedArray(B.diagnostics,v.is)&&(B.only===void 0||ue.typedArray(B.only,ue.string))&&(B.triggerKind===void 0||B.triggerKind===ir.Invoked||B.triggerKind===ir.Automatic)}s(ne,"is"),k.is=ne})(an||(e.CodeActionContext=an={}));var Qn;(function(k){function ee(G,B,fe){var Te={title:G},Nt=!0;return typeof B=="string"?(Nt=!1,Te.kind=B):b.is(B)?Te.command=B:Te.edit=B,Nt&&fe!==void 0&&(Te.kind=fe),Te}s(ee,"create"),k.create=ee;function ne(G){var B=G;return B&&ue.string(B.title)&&(B.diagnostics===void 0||ue.typedArray(B.diagnostics,v.is))&&(B.kind===void 0||ue.string(B.kind))&&(B.edit!==void 0||B.command!==void 0)&&(B.command===void 0||b.is(B.command))&&(B.isPreferred===void 0||ue.boolean(B.isPreferred))&&(B.edit===void 0||W.is(B.edit))}s(ne,"is"),k.is=ne})(Qn||(e.CodeAction=Qn={}));var Zi;(function(k){function ee(G,B){var fe={range:G};return ue.defined(B)&&(fe.data=B),fe}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&l.is(B.range)&&(ue.undefined(B.command)||b.is(B.command))}s(ne,"is"),k.is=ne})(Zi||(e.CodeLens=Zi={}));var eo;(function(k){function ee(G,B){return{tabSize:G,insertSpaces:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&ue.uinteger(B.tabSize)&&ue.boolean(B.insertSpaces)}s(ne,"is"),k.is=ne})(eo||(e.FormattingOptions=eo={}));var Co;(function(k){function ee(G,B,fe){return{range:G,target:B,data:fe}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&l.is(B.range)&&(ue.undefined(B.target)||ue.string(B.target))}s(ne,"is"),k.is=ne})(Co||(e.DocumentLink=Co={}));var X;(function(k){function ee(G,B){return{range:G,parent:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&l.is(B.range)&&(B.parent===void 0||k.is(B.parent))}s(ne,"is"),k.is=ne})(X||(e.SelectionRange=X={}));var ve;(function(k){k.namespace="namespace",k.type="type",k.class="class",k.enum="enum",k.interface="interface",k.struct="struct",k.typeParameter="typeParameter",k.parameter="parameter",k.variable="variable",k.property="property",k.enumMember="enumMember",k.event="event",k.function="function",k.method="method",k.macro="macro",k.keyword="keyword",k.modifier="modifier",k.comment="comment",k.string="string",k.number="number",k.regexp="regexp",k.operator="operator",k.decorator="decorator"})(ve||(e.SemanticTokenTypes=ve={}));var Oe;(function(k){k.declaration="declaration",k.definition="definition",k.readonly="readonly",k.static="static",k.deprecated="deprecated",k.abstract="abstract",k.async="async",k.modification="modification",k.documentation="documentation",k.defaultLibrary="defaultLibrary"})(Oe||(e.SemanticTokenModifiers=Oe={}));var Ke;(function(k){function ee(ne){var G=ne;return ue.objectLiteral(G)&&(G.resultId===void 0||typeof G.resultId=="string")&&Array.isArray(G.data)&&(G.data.length===0||typeof G.data[0]=="number")}s(ee,"is"),k.is=ee})(Ke||(e.SemanticTokens=Ke={}));var fr;(function(k){function ee(G,B){return{range:G,text:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return B!=null&&l.is(B.range)&&ue.string(B.text)}s(ne,"is"),k.is=ne})(fr||(e.InlineValueText=fr={}));var Ir;(function(k){function ee(G,B,fe){return{range:G,variableName:B,caseSensitiveLookup:fe}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return B!=null&&l.is(B.range)&&ue.boolean(B.caseSensitiveLookup)&&(ue.string(B.variableName)||B.variableName===void 0)}s(ne,"is"),k.is=ne})(Ir||(e.InlineValueVariableLookup=Ir={}));var sn;(function(k){function ee(G,B){return{range:G,expression:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return B!=null&&l.is(B.range)&&(ue.string(B.expression)||B.expression===void 0)}s(ne,"is"),k.is=ne})(sn||(e.InlineValueEvaluatableExpression=sn={}));var dn;(function(k){function ee(G,B){return{frameId:G,stoppedLocation:B}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.defined(B)&&l.is(G.stoppedLocation)}s(ne,"is"),k.is=ne})(dn||(e.InlineValueContext=dn={}));var tr;(function(k){k.Type=1,k.Parameter=2;function ee(ne){return ne===1||ne===2}s(ee,"is"),k.is=ee})(tr||(e.InlayHintKind=tr={}));var se;(function(k){function ee(G){return{value:G}}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&(B.tooltip===void 0||ue.string(B.tooltip)||Z.is(B.tooltip))&&(B.location===void 0||u.is(B.location))&&(B.command===void 0||b.is(B.command))}s(ne,"is"),k.is=ne})(se||(e.InlayHintLabelPart=se={}));var pe;(function(k){function ee(G,B,fe){var Te={position:G,label:B};return fe!==void 0&&(Te.kind=fe),Te}s(ee,"create"),k.create=ee;function ne(G){var B=G;return ue.objectLiteral(B)&&c.is(B.position)&&(ue.string(B.label)||ue.typedArray(B.label,se.is))&&(B.kind===void 0||tr.is(B.kind))&&B.textEdits===void 0||ue.typedArray(B.textEdits,_.is)&&(B.tooltip===void 0||ue.string(B.tooltip)||Z.is(B.tooltip))&&(B.paddingLeft===void 0||ue.boolean(B.paddingLeft))&&(B.paddingRight===void 0||ue.boolean(B.paddingRight))}s(ne,"is"),k.is=ne})(pe||(e.InlayHint=pe={}));var Ne;(function(k){function ee(ne){return{kind:"snippet",value:ne}}s(ee,"createSnippet"),k.createSnippet=ee})(Ne||(e.StringValue=Ne={}));var je;(function(k){function ee(ne,G,B,fe){return{insertText:ne,filterText:G,range:B,command:fe}}s(ee,"create"),k.create=ee})(je||(e.InlineCompletionItem=je={}));var lt;(function(k){function ee(ne){return{items:ne}}s(ee,"create"),k.create=ee})(lt||(e.InlineCompletionList=lt={}));var At;(function(k){k.Invoked=0,k.Automatic=1})(At||(e.InlineCompletionTriggerKind=At={}));var dr;(function(k){function ee(ne,G){return{range:ne,text:G}}s(ee,"create"),k.create=ee})(dr||(e.SelectedCompletionInfo=dr={}));var Pn;(function(k){function ee(ne,G){return{triggerKind:ne,selectedCompletionInfo:G}}s(ee,"create"),k.create=ee})(Pn||(e.InlineCompletionContext=Pn={}));var Ro;(function(k){function ee(ne){var G=ne;return ue.objectLiteral(G)&&n.is(G.uri)&&ue.string(G.name)}s(ee,"is"),k.is=ee})(Ro||(e.WorkspaceFolder=Ro={})),e.EOL=[`
`,`\r
`,"\r"];var qt;(function(k){function ee(fe,Te,Nt,li){return new ry(fe,Te,Nt,li)}s(ee,"create"),k.create=ee;function ne(fe){var Te=fe;return!!(ue.defined(Te)&&ue.string(Te.uri)&&(ue.undefined(Te.languageId)||ue.string(Te.languageId))&&ue.uinteger(Te.lineCount)&&ue.func(Te.getText)&&ue.func(Te.positionAt)&&ue.func(Te.offsetAt))}s(ne,"is"),k.is=ne;function G(fe,Te){for(var Nt=fe.getText(),li=B(Te,function(ny,Gw){var xte=ny.range.start.line-Gw.range.start.line;return xte===0?ny.range.start.character-Gw.range.start.character:xte}),hn=Nt.length,Js=li.length-1;Js>=0;Js--){var Cn=li[Js],Zo=fe.offsetAt(Cn.range.start),Mr=fe.offsetAt(Cn.range.end);if(Mr<=hn)Nt=Nt.substring(0,Zo)+Cn.newText+Nt.substring(Mr,Nt.length);else throw new Error("Overlapping edit");hn=Zo}return Nt}s(G,"applyEdits"),k.applyEdits=G;function B(fe,Te){if(fe.length<=1)return fe;var Nt=fe.length/2|0,li=fe.slice(0,Nt),hn=fe.slice(Nt);B(li,Te),B(hn,Te);for(var Js=0,Cn=0,Zo=0;Js<li.length&&Cn<hn.length;){var Mr=Te(li[Js],hn[Cn]);Mr<=0?fe[Zo++]=li[Js++]:fe[Zo++]=hn[Cn++]}for(;Js<li.length;)fe[Zo++]=li[Js++];for(;Cn<hn.length;)fe[Zo++]=hn[Cn++];return fe}s(B,"mergeSort")})(qt||(e.TextDocument=qt={}));var ry=function(){function k(ee,ne,G,B){this._uri=ee,this._languageId=ne,this._version=G,this._content=B,this._lineOffsets=void 0}return s(k,"FullTextDocument"),Object.defineProperty(k.prototype,"uri",{get:s(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"languageId",{get:s(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"version",{get:s(function(){return this._version},"get"),enumerable:!1,configurable:!0}),k.prototype.getText=function(ee){if(ee){var ne=this.offsetAt(ee.start),G=this.offsetAt(ee.end);return this._content.substring(ne,G)}return this._content},k.prototype.update=function(ee,ne){this._content=ee.text,this._version=ne,this._lineOffsets=void 0},k.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var ee=[],ne=this._content,G=!0,B=0;B<ne.length;B++){G&&(ee.push(B),G=!1);var fe=ne.charAt(B);G=fe==="\r"||fe===`
`,fe==="\r"&&B+1<ne.length&&ne.charAt(B+1)===`
`&&B++}G&&ne.length>0&&ee.push(ne.length),this._lineOffsets=ee}return this._lineOffsets},k.prototype.positionAt=function(ee){ee=Math.max(Math.min(ee,this._content.length),0);var ne=this.getLineOffsets(),G=0,B=ne.length;if(B===0)return c.create(0,ee);for(;G<B;){var fe=Math.floor((G+B)/2);ne[fe]>ee?B=fe:G=fe+1}var Te=G-1;return c.create(Te,ee-ne[Te])},k.prototype.offsetAt=function(ee){var ne=this.getLineOffsets();if(ee.line>=ne.length)return this._content.length;if(ee.line<0)return 0;var G=ne[ee.line],B=ee.line+1<ne.length?ne[ee.line+1]:this._content.length;return Math.max(Math.min(G+ee.character,B),G)},Object.defineProperty(k.prototype,"lineCount",{get:s(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),k}(),ue;(function(k){var ee=Object.prototype.toString;function ne(Mr){return typeof Mr<"u"}s(ne,"defined"),k.defined=ne;function G(Mr){return typeof Mr>"u"}s(G,"undefined"),k.undefined=G;function B(Mr){return Mr===!0||Mr===!1}s(B,"boolean"),k.boolean=B;function fe(Mr){return ee.call(Mr)==="[object String]"}s(fe,"string"),k.string=fe;function Te(Mr){return ee.call(Mr)==="[object Number]"}s(Te,"number"),k.number=Te;function Nt(Mr,ny,Gw){return ee.call(Mr)==="[object Number]"&&ny<=Mr&&Mr<=Gw}s(Nt,"numberRange"),k.numberRange=Nt;function li(Mr){return ee.call(Mr)==="[object Number]"&&-2147483648<=Mr&&Mr<=2147483647}s(li,"integer"),k.integer=li;function hn(Mr){return ee.call(Mr)==="[object Number]"&&0<=Mr&&Mr<=2147483647}s(hn,"uinteger"),k.uinteger=hn;function Js(Mr){return ee.call(Mr)==="[object Function]"}s(Js,"func"),k.func=Js;function Cn(Mr){return Mr!==null&&typeof Mr=="object"}s(Cn,"objectLiteral"),k.objectLiteral=Cn;function Zo(Mr,ny){return Array.isArray(Mr)&&Mr.every(ny)}s(Zo,"typedArray"),k.typedArray=Zo})(ue||(ue={}))})});var fi=T(Pa=>{"use strict";d();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.ProtocolNotificationType=Pa.ProtocolNotificationType0=Pa.ProtocolRequestType=Pa.ProtocolRequestType0=Pa.RegistrationType=Pa.MessageDirection=void 0;var lE=Bg(),xse;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(xse||(Pa.MessageDirection=xse={}));var VO=class{static{s(this,"RegistrationType")}constructor(e){this.method=e}};Pa.RegistrationType=VO;var WO=class extends lE.RequestType0{static{s(this,"ProtocolRequestType0")}constructor(e){super(e)}};Pa.ProtocolRequestType0=WO;var YO=class extends lE.RequestType{static{s(this,"ProtocolRequestType")}constructor(e){super(e,lE.ParameterStructures.byName)}};Pa.ProtocolRequestType=YO;var jO=class extends lE.NotificationType0{static{s(this,"ProtocolNotificationType0")}constructor(e){super(e)}};Pa.ProtocolNotificationType0=jO;var $O=class extends lE.NotificationType{static{s(this,"ProtocolNotificationType")}constructor(e){super(e,lE.ParameterStructures.byName)}};Pa.ProtocolNotificationType=$O});var HB=T(ao=>{"use strict";d();Object.defineProperty(ao,"__esModule",{value:!0});ao.objectLiteral=ao.typedArray=ao.stringArray=ao.array=ao.func=ao.error=ao.number=ao.string=ao.boolean=void 0;function xQe(t){return t===!0||t===!1}s(xQe,"boolean");ao.boolean=xQe;function vse(t){return typeof t=="string"||t instanceof String}s(vse,"string");ao.string=vse;function vQe(t){return typeof t=="number"||t instanceof Number}s(vQe,"number");ao.number=vQe;function bQe(t){return t instanceof Error}s(bQe,"error");ao.error=bQe;function _Qe(t){return typeof t=="function"}s(_Qe,"func");ao.func=_Qe;function bse(t){return Array.isArray(t)}s(bse,"array");ao.array=bse;function TQe(t){return bse(t)&&t.every(e=>vse(e))}s(TQe,"stringArray");ao.stringArray=TQe;function wQe(t,e){return Array.isArray(t)&&t.every(e)}s(wQe,"typedArray");ao.typedArray=wQe;function SQe(t){return t!==null&&typeof t=="object"}s(SQe,"objectLiteral");ao.objectLiteral=SQe});var wse=T(GB=>{"use strict";d();Object.defineProperty(GB,"__esModule",{value:!0});GB.ImplementationRequest=void 0;var _se=fi(),Tse;(function(t){t.method="textDocument/implementation",t.messageDirection=_se.MessageDirection.clientToServer,t.type=new _se.ProtocolRequestType(t.method)})(Tse||(GB.ImplementationRequest=Tse={}))});var Rse=T(VB=>{"use strict";d();Object.defineProperty(VB,"__esModule",{value:!0});VB.TypeDefinitionRequest=void 0;var Sse=fi(),Bse;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Sse.MessageDirection.clientToServer,t.type=new Sse.ProtocolRequestType(t.method)})(Bse||(VB.TypeDefinitionRequest=Bse={}))});var Nse=T(uE=>{"use strict";d();Object.defineProperty(uE,"__esModule",{value:!0});uE.DidChangeWorkspaceFoldersNotification=uE.WorkspaceFoldersRequest=void 0;var WB=fi(),kse;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=WB.MessageDirection.serverToClient,t.type=new WB.ProtocolRequestType0(t.method)})(kse||(uE.WorkspaceFoldersRequest=kse={}));var Dse;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=WB.MessageDirection.clientToServer,t.type=new WB.ProtocolNotificationType(t.method)})(Dse||(uE.DidChangeWorkspaceFoldersNotification=Dse={}))});var Fse=T(YB=>{"use strict";d();Object.defineProperty(YB,"__esModule",{value:!0});YB.ConfigurationRequest=void 0;var Qse=fi(),Pse;(function(t){t.method="workspace/configuration",t.messageDirection=Qse.MessageDirection.serverToClient,t.type=new Qse.ProtocolRequestType(t.method)})(Pse||(YB.ConfigurationRequest=Pse={}))});var Ose=T(fE=>{"use strict";d();Object.defineProperty(fE,"__esModule",{value:!0});fE.ColorPresentationRequest=fE.DocumentColorRequest=void 0;var jB=fi(),Lse;(function(t){t.method="textDocument/documentColor",t.messageDirection=jB.MessageDirection.clientToServer,t.type=new jB.ProtocolRequestType(t.method)})(Lse||(fE.DocumentColorRequest=Lse={}));var Mse;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=jB.MessageDirection.clientToServer,t.type=new jB.ProtocolRequestType(t.method)})(Mse||(fE.ColorPresentationRequest=Mse={}))});var Hse=T(dE=>{"use strict";d();Object.defineProperty(dE,"__esModule",{value:!0});dE.FoldingRangeRefreshRequest=dE.FoldingRangeRequest=void 0;var $B=fi(),Use;(function(t){t.method="textDocument/foldingRange",t.messageDirection=$B.MessageDirection.clientToServer,t.type=new $B.ProtocolRequestType(t.method)})(Use||(dE.FoldingRangeRequest=Use={}));var qse;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=$B.MessageDirection.serverToClient,t.type=new $B.ProtocolRequestType0(t.method)})(qse||(dE.FoldingRangeRefreshRequest=qse={}))});var Wse=T(zB=>{"use strict";d();Object.defineProperty(zB,"__esModule",{value:!0});zB.DeclarationRequest=void 0;var Gse=fi(),Vse;(function(t){t.method="textDocument/declaration",t.messageDirection=Gse.MessageDirection.clientToServer,t.type=new Gse.ProtocolRequestType(t.method)})(Vse||(zB.DeclarationRequest=Vse={}))});var $se=T(KB=>{"use strict";d();Object.defineProperty(KB,"__esModule",{value:!0});KB.SelectionRangeRequest=void 0;var Yse=fi(),jse;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Yse.MessageDirection.clientToServer,t.type=new Yse.ProtocolRequestType(t.method)})(jse||(KB.SelectionRangeRequest=jse={}))});var Xse=T(kA=>{"use strict";d();Object.defineProperty(kA,"__esModule",{value:!0});kA.WorkDoneProgressCancelNotification=kA.WorkDoneProgressCreateRequest=kA.WorkDoneProgress=void 0;var BQe=Bg(),JB=fi(),zse;(function(t){t.type=new BQe.ProgressType;function e(r){return r===t.type}s(e,"is"),t.is=e})(zse||(kA.WorkDoneProgress=zse={}));var Kse;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=JB.MessageDirection.serverToClient,t.type=new JB.ProtocolRequestType(t.method)})(Kse||(kA.WorkDoneProgressCreateRequest=Kse={}));var Jse;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=JB.MessageDirection.clientToServer,t.type=new JB.ProtocolNotificationType(t.method)})(Jse||(kA.WorkDoneProgressCancelNotification=Jse={}))});var rae=T(DA=>{"use strict";d();Object.defineProperty(DA,"__esModule",{value:!0});DA.CallHierarchyOutgoingCallsRequest=DA.CallHierarchyIncomingCallsRequest=DA.CallHierarchyPrepareRequest=void 0;var hE=fi(),Zse;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=hE.MessageDirection.clientToServer,t.type=new hE.ProtocolRequestType(t.method)})(Zse||(DA.CallHierarchyPrepareRequest=Zse={}));var eae;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=hE.MessageDirection.clientToServer,t.type=new hE.ProtocolRequestType(t.method)})(eae||(DA.CallHierarchyIncomingCallsRequest=eae={}));var tae;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=hE.MessageDirection.clientToServer,t.type=new hE.ProtocolRequestType(t.method)})(tae||(DA.CallHierarchyOutgoingCallsRequest=tae={}))});var cae=T(Fa=>{"use strict";d();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.SemanticTokensRefreshRequest=Fa.SemanticTokensRangeRequest=Fa.SemanticTokensDeltaRequest=Fa.SemanticTokensRequest=Fa.SemanticTokensRegistrationType=Fa.TokenFormat=void 0;var wd=fi(),nae;(function(t){t.Relative="relative"})(nae||(Fa.TokenFormat=nae={}));var Nb;(function(t){t.method="textDocument/semanticTokens",t.type=new wd.RegistrationType(t.method)})(Nb||(Fa.SemanticTokensRegistrationType=Nb={}));var iae;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=wd.MessageDirection.clientToServer,t.type=new wd.ProtocolRequestType(t.method),t.registrationMethod=Nb.method})(iae||(Fa.SemanticTokensRequest=iae={}));var oae;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=wd.MessageDirection.clientToServer,t.type=new wd.ProtocolRequestType(t.method),t.registrationMethod=Nb.method})(oae||(Fa.SemanticTokensDeltaRequest=oae={}));var sae;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=wd.MessageDirection.clientToServer,t.type=new wd.ProtocolRequestType(t.method),t.registrationMethod=Nb.method})(sae||(Fa.SemanticTokensRangeRequest=sae={}));var aae;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=wd.MessageDirection.serverToClient,t.type=new wd.ProtocolRequestType0(t.method)})(aae||(Fa.SemanticTokensRefreshRequest=aae={}))});var fae=T(XB=>{"use strict";d();Object.defineProperty(XB,"__esModule",{value:!0});XB.ShowDocumentRequest=void 0;var lae=fi(),uae;(function(t){t.method="window/showDocument",t.messageDirection=lae.MessageDirection.serverToClient,t.type=new lae.ProtocolRequestType(t.method)})(uae||(XB.ShowDocumentRequest=uae={}))});var Aae=T(ZB=>{"use strict";d();Object.defineProperty(ZB,"__esModule",{value:!0});ZB.LinkedEditingRangeRequest=void 0;var dae=fi(),hae;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=dae.MessageDirection.clientToServer,t.type=new dae.ProtocolRequestType(t.method)})(hae||(ZB.LinkedEditingRangeRequest=hae={}))});var xae=T(Qs=>{"use strict";d();Object.defineProperty(Qs,"__esModule",{value:!0});Qs.WillDeleteFilesRequest=Qs.DidDeleteFilesNotification=Qs.DidRenameFilesNotification=Qs.WillRenameFilesRequest=Qs.DidCreateFilesNotification=Qs.WillCreateFilesRequest=Qs.FileOperationPatternKind=void 0;var T0=fi(),pae;(function(t){t.file="file",t.folder="folder"})(pae||(Qs.FileOperationPatternKind=pae={}));var mae;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=T0.MessageDirection.clientToServer,t.type=new T0.ProtocolRequestType(t.method)})(mae||(Qs.WillCreateFilesRequest=mae={}));var gae;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=T0.MessageDirection.clientToServer,t.type=new T0.ProtocolNotificationType(t.method)})(gae||(Qs.DidCreateFilesNotification=gae={}));var Cae;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=T0.MessageDirection.clientToServer,t.type=new T0.ProtocolRequestType(t.method)})(Cae||(Qs.WillRenameFilesRequest=Cae={}));var yae;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=T0.MessageDirection.clientToServer,t.type=new T0.ProtocolNotificationType(t.method)})(yae||(Qs.DidRenameFilesNotification=yae={}));var Eae;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=T0.MessageDirection.clientToServer,t.type=new T0.ProtocolNotificationType(t.method)})(Eae||(Qs.DidDeleteFilesNotification=Eae={}));var Iae;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=T0.MessageDirection.clientToServer,t.type=new T0.ProtocolRequestType(t.method)})(Iae||(Qs.WillDeleteFilesRequest=Iae={}))});var wae=T(NA=>{"use strict";d();Object.defineProperty(NA,"__esModule",{value:!0});NA.MonikerRequest=NA.MonikerKind=NA.UniquenessLevel=void 0;var vae=fi(),bae;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(bae||(NA.UniquenessLevel=bae={}));var _ae;(function(t){t.$import="import",t.$export="export",t.local="local"})(_ae||(NA.MonikerKind=_ae={}));var Tae;(function(t){t.method="textDocument/moniker",t.messageDirection=vae.MessageDirection.clientToServer,t.type=new vae.ProtocolRequestType(t.method)})(Tae||(NA.MonikerRequest=Tae={}))});var kae=T(QA=>{"use strict";d();Object.defineProperty(QA,"__esModule",{value:!0});QA.TypeHierarchySubtypesRequest=QA.TypeHierarchySupertypesRequest=QA.TypeHierarchyPrepareRequest=void 0;var AE=fi(),Sae;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=AE.MessageDirection.clientToServer,t.type=new AE.ProtocolRequestType(t.method)})(Sae||(QA.TypeHierarchyPrepareRequest=Sae={}));var Bae;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=AE.MessageDirection.clientToServer,t.type=new AE.ProtocolRequestType(t.method)})(Bae||(QA.TypeHierarchySupertypesRequest=Bae={}));var Rae;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=AE.MessageDirection.clientToServer,t.type=new AE.ProtocolRequestType(t.method)})(Rae||(QA.TypeHierarchySubtypesRequest=Rae={}))});var Qae=T(pE=>{"use strict";d();Object.defineProperty(pE,"__esModule",{value:!0});pE.InlineValueRefreshRequest=pE.InlineValueRequest=void 0;var e8=fi(),Dae;(function(t){t.method="textDocument/inlineValue",t.messageDirection=e8.MessageDirection.clientToServer,t.type=new e8.ProtocolRequestType(t.method)})(Dae||(pE.InlineValueRequest=Dae={}));var Nae;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=e8.MessageDirection.serverToClient,t.type=new e8.ProtocolRequestType0(t.method)})(Nae||(pE.InlineValueRefreshRequest=Nae={}))});var Mae=T(PA=>{"use strict";d();Object.defineProperty(PA,"__esModule",{value:!0});PA.InlayHintRefreshRequest=PA.InlayHintResolveRequest=PA.InlayHintRequest=void 0;var mE=fi(),Pae;(function(t){t.method="textDocument/inlayHint",t.messageDirection=mE.MessageDirection.clientToServer,t.type=new mE.ProtocolRequestType(t.method)})(Pae||(PA.InlayHintRequest=Pae={}));var Fae;(function(t){t.method="inlayHint/resolve",t.messageDirection=mE.MessageDirection.clientToServer,t.type=new mE.ProtocolRequestType(t.method)})(Fae||(PA.InlayHintResolveRequest=Fae={}));var Lae;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=mE.MessageDirection.serverToClient,t.type=new mE.ProtocolRequestType0(t.method)})(Lae||(PA.InlayHintRefreshRequest=Lae={}))});var Wae=T(w0=>{"use strict";d();Object.defineProperty(w0,"__esModule",{value:!0});w0.DiagnosticRefreshRequest=w0.WorkspaceDiagnosticRequest=w0.DocumentDiagnosticRequest=w0.DocumentDiagnosticReportKind=w0.DiagnosticServerCancellationData=void 0;var Vae=Bg(),RQe=HB(),gE=fi(),Oae;(function(t){function e(r){let n=r;return n&&RQe.boolean(n.retriggerRequest)}s(e,"is"),t.is=e})(Oae||(w0.DiagnosticServerCancellationData=Oae={}));var Uae;(function(t){t.Full="full",t.Unchanged="unchanged"})(Uae||(w0.DocumentDiagnosticReportKind=Uae={}));var qae;(function(t){t.method="textDocument/diagnostic",t.messageDirection=gE.MessageDirection.clientToServer,t.type=new gE.ProtocolRequestType(t.method),t.partialResult=new Vae.ProgressType})(qae||(w0.DocumentDiagnosticRequest=qae={}));var Hae;(function(t){t.method="workspace/diagnostic",t.messageDirection=gE.MessageDirection.clientToServer,t.type=new gE.ProtocolRequestType(t.method),t.partialResult=new Vae.ProgressType})(Hae||(w0.WorkspaceDiagnosticRequest=Hae={}));var Gae;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=gE.MessageDirection.serverToClient,t.type=new gE.ProtocolRequestType0(t.method)})(Gae||(w0.DiagnosticRefreshRequest=Gae={}))});var Xae=T(Di=>{"use strict";d();Object.defineProperty(Di,"__esModule",{value:!0});Di.DidCloseNotebookDocumentNotification=Di.DidSaveNotebookDocumentNotification=Di.DidChangeNotebookDocumentNotification=Di.NotebookCellArrayChange=Di.DidOpenNotebookDocumentNotification=Di.NotebookDocumentSyncRegistrationType=Di.NotebookDocument=Di.NotebookCell=Di.ExecutionSummary=Di.NotebookCellKind=void 0;var Qb=qB(),wl=HB(),Lu=fi(),zO;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}s(e,"is"),t.is=e})(zO||(Di.NotebookCellKind=zO={}));var KO;(function(t){function e(o,a){let c={executionOrder:o};return(a===!0||a===!1)&&(c.success=a),c}s(e,"create"),t.create=e;function r(o){let a=o;return wl.objectLiteral(a)&&Qb.uinteger.is(a.executionOrder)&&(a.success===void 0||wl.boolean(a.success))}s(r,"is"),t.is=r;function n(o,a){return o===a?!0:o==null||a===null||a===void 0?!1:o.executionOrder===a.executionOrder&&o.success===a.success}s(n,"equals"),t.equals=n})(KO||(Di.ExecutionSummary=KO={}));var t8;(function(t){function e(a,c){return{kind:a,document:c}}s(e,"create"),t.create=e;function r(a){let c=a;return wl.objectLiteral(c)&&zO.is(c.kind)&&Qb.DocumentUri.is(c.document)&&(c.metadata===void 0||wl.objectLiteral(c.metadata))}s(r,"is"),t.is=r;function n(a,c){let l=new Set;return a.document!==c.document&&l.add("document"),a.kind!==c.kind&&l.add("kind"),a.executionSummary!==c.executionSummary&&l.add("executionSummary"),(a.metadata!==void 0||c.metadata!==void 0)&&!o(a.metadata,c.metadata)&&l.add("metadata"),(a.executionSummary!==void 0||c.executionSummary!==void 0)&&!KO.equals(a.executionSummary,c.executionSummary)&&l.add("executionSummary"),l}s(n,"diff"),t.diff=n;function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let l=Array.isArray(a),u=Array.isArray(c);if(l!==u)return!1;if(l&&u){if(a.length!==c.length)return!1;for(let f=0;f<a.length;f++)if(!o(a[f],c[f]))return!1}if(wl.objectLiteral(a)&&wl.objectLiteral(c)){let f=Object.keys(a),h=Object.keys(c);if(f.length!==h.length||(f.sort(),h.sort(),!o(f,h)))return!1;for(let A=0;A<f.length;A++){let p=f[A];if(!o(a[p],c[p]))return!1}}return!0}s(o,"equalsMetadata")})(t8||(Di.NotebookCell=t8={}));var Yae;(function(t){function e(n,o,a,c){return{uri:n,notebookType:o,version:a,cells:c}}s(e,"create"),t.create=e;function r(n){let o=n;return wl.objectLiteral(o)&&wl.string(o.uri)&&Qb.integer.is(o.version)&&wl.typedArray(o.cells,t8.is)}s(r,"is"),t.is=r})(Yae||(Di.NotebookDocument=Yae={}));var CE;(function(t){t.method="notebookDocument/sync",t.messageDirection=Lu.MessageDirection.clientToServer,t.type=new Lu.RegistrationType(t.method)})(CE||(Di.NotebookDocumentSyncRegistrationType=CE={}));var jae;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Lu.MessageDirection.clientToServer,t.type=new Lu.ProtocolNotificationType(t.method),t.registrationMethod=CE.method})(jae||(Di.DidOpenNotebookDocumentNotification=jae={}));var $ae;(function(t){function e(n){let o=n;return wl.objectLiteral(o)&&Qb.uinteger.is(o.start)&&Qb.uinteger.is(o.deleteCount)&&(o.cells===void 0||wl.typedArray(o.cells,t8.is))}s(e,"is"),t.is=e;function r(n,o,a){let c={start:n,deleteCount:o};return a!==void 0&&(c.cells=a),c}s(r,"create"),t.create=r})($ae||(Di.NotebookCellArrayChange=$ae={}));var zae;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Lu.MessageDirection.clientToServer,t.type=new Lu.ProtocolNotificationType(t.method),t.registrationMethod=CE.method})(zae||(Di.DidChangeNotebookDocumentNotification=zae={}));var Kae;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Lu.MessageDirection.clientToServer,t.type=new Lu.ProtocolNotificationType(t.method),t.registrationMethod=CE.method})(Kae||(Di.DidSaveNotebookDocumentNotification=Kae={}));var Jae;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Lu.MessageDirection.clientToServer,t.type=new Lu.ProtocolNotificationType(t.method),t.registrationMethod=CE.method})(Jae||(Di.DidCloseNotebookDocumentNotification=Jae={}))});var tce=T(r8=>{"use strict";d();Object.defineProperty(r8,"__esModule",{value:!0});r8.InlineCompletionRequest=void 0;var Zae=fi(),ece;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=Zae.MessageDirection.clientToServer,t.type=new Zae.ProtocolRequestType(t.method)})(ece||(r8.InlineCompletionRequest=ece={}))});var A0e=T(K=>{"use strict";d();Object.defineProperty(K,"__esModule",{value:!0});K.WorkspaceSymbolRequest=K.CodeActionResolveRequest=K.CodeActionRequest=K.DocumentSymbolRequest=K.DocumentHighlightRequest=K.ReferencesRequest=K.DefinitionRequest=K.SignatureHelpRequest=K.SignatureHelpTriggerKind=K.HoverRequest=K.CompletionResolveRequest=K.CompletionRequest=K.CompletionTriggerKind=K.PublishDiagnosticsNotification=K.WatchKind=K.RelativePattern=K.FileChangeType=K.DidChangeWatchedFilesNotification=K.WillSaveTextDocumentWaitUntilRequest=K.WillSaveTextDocumentNotification=K.TextDocumentSaveReason=K.DidSaveTextDocumentNotification=K.DidCloseTextDocumentNotification=K.DidChangeTextDocumentNotification=K.TextDocumentContentChangeEvent=K.DidOpenTextDocumentNotification=K.TextDocumentSyncKind=K.TelemetryEventNotification=K.LogMessageNotification=K.ShowMessageRequest=K.ShowMessageNotification=K.MessageType=K.DidChangeConfigurationNotification=K.ExitNotification=K.ShutdownRequest=K.InitializedNotification=K.InitializeErrorCodes=K.InitializeRequest=K.WorkDoneProgressOptions=K.TextDocumentRegistrationOptions=K.StaticRegistrationOptions=K.PositionEncodingKind=K.FailureHandlingKind=K.ResourceOperationKind=K.UnregistrationRequest=K.RegistrationRequest=K.DocumentSelector=K.NotebookCellTextDocumentFilter=K.NotebookDocumentFilter=K.TextDocumentFilter=void 0;K.MonikerRequest=K.MonikerKind=K.UniquenessLevel=K.WillDeleteFilesRequest=K.DidDeleteFilesNotification=K.WillRenameFilesRequest=K.DidRenameFilesNotification=K.WillCreateFilesRequest=K.DidCreateFilesNotification=K.FileOperationPatternKind=K.LinkedEditingRangeRequest=K.ShowDocumentRequest=K.SemanticTokensRegistrationType=K.SemanticTokensRefreshRequest=K.SemanticTokensRangeRequest=K.SemanticTokensDeltaRequest=K.SemanticTokensRequest=K.TokenFormat=K.CallHierarchyPrepareRequest=K.CallHierarchyOutgoingCallsRequest=K.CallHierarchyIncomingCallsRequest=K.WorkDoneProgressCancelNotification=K.WorkDoneProgressCreateRequest=K.WorkDoneProgress=K.SelectionRangeRequest=K.DeclarationRequest=K.FoldingRangeRefreshRequest=K.FoldingRangeRequest=K.ColorPresentationRequest=K.DocumentColorRequest=K.ConfigurationRequest=K.DidChangeWorkspaceFoldersNotification=K.WorkspaceFoldersRequest=K.TypeDefinitionRequest=K.ImplementationRequest=K.ApplyWorkspaceEditRequest=K.ExecuteCommandRequest=K.PrepareRenameRequest=K.RenameRequest=K.PrepareSupportDefaultBehavior=K.DocumentOnTypeFormattingRequest=K.DocumentRangesFormattingRequest=K.DocumentRangeFormattingRequest=K.DocumentFormattingRequest=K.DocumentLinkResolveRequest=K.DocumentLinkRequest=K.CodeLensRefreshRequest=K.CodeLensResolveRequest=K.CodeLensRequest=K.WorkspaceSymbolResolveRequest=void 0;K.InlineCompletionRequest=K.DidCloseNotebookDocumentNotification=K.DidSaveNotebookDocumentNotification=K.DidChangeNotebookDocumentNotification=K.NotebookCellArrayChange=K.DidOpenNotebookDocumentNotification=K.NotebookDocumentSyncRegistrationType=K.NotebookDocument=K.NotebookCell=K.ExecutionSummary=K.NotebookCellKind=K.DiagnosticRefreshRequest=K.WorkspaceDiagnosticRequest=K.DocumentDiagnosticRequest=K.DocumentDiagnosticReportKind=K.DiagnosticServerCancellationData=K.InlayHintRefreshRequest=K.InlayHintResolveRequest=K.InlayHintRequest=K.InlineValueRefreshRequest=K.InlineValueRequest=K.TypeHierarchySupertypesRequest=K.TypeHierarchySubtypesRequest=K.TypeHierarchyPrepareRequest=void 0;var Ue=fi(),rce=qB(),Oo=HB(),kQe=wse();Object.defineProperty(K,"ImplementationRequest",{enumerable:!0,get:s(function(){return kQe.ImplementationRequest},"get")});var DQe=Rse();Object.defineProperty(K,"TypeDefinitionRequest",{enumerable:!0,get:s(function(){return DQe.TypeDefinitionRequest},"get")});var u0e=Nse();Object.defineProperty(K,"WorkspaceFoldersRequest",{enumerable:!0,get:s(function(){return u0e.WorkspaceFoldersRequest},"get")});Object.defineProperty(K,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:s(function(){return u0e.DidChangeWorkspaceFoldersNotification},"get")});var NQe=Fse();Object.defineProperty(K,"ConfigurationRequest",{enumerable:!0,get:s(function(){return NQe.ConfigurationRequest},"get")});var f0e=Ose();Object.defineProperty(K,"DocumentColorRequest",{enumerable:!0,get:s(function(){return f0e.DocumentColorRequest},"get")});Object.defineProperty(K,"ColorPresentationRequest",{enumerable:!0,get:s(function(){return f0e.ColorPresentationRequest},"get")});var d0e=Hse();Object.defineProperty(K,"FoldingRangeRequest",{enumerable:!0,get:s(function(){return d0e.FoldingRangeRequest},"get")});Object.defineProperty(K,"FoldingRangeRefreshRequest",{enumerable:!0,get:s(function(){return d0e.FoldingRangeRefreshRequest},"get")});var QQe=Wse();Object.defineProperty(K,"DeclarationRequest",{enumerable:!0,get:s(function(){return QQe.DeclarationRequest},"get")});var PQe=$se();Object.defineProperty(K,"SelectionRangeRequest",{enumerable:!0,get:s(function(){return PQe.SelectionRangeRequest},"get")});var tU=Xse();Object.defineProperty(K,"WorkDoneProgress",{enumerable:!0,get:s(function(){return tU.WorkDoneProgress},"get")});Object.defineProperty(K,"WorkDoneProgressCreateRequest",{enumerable:!0,get:s(function(){return tU.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(K,"WorkDoneProgressCancelNotification",{enumerable:!0,get:s(function(){return tU.WorkDoneProgressCancelNotification},"get")});var rU=rae();Object.defineProperty(K,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:s(function(){return rU.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(K,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:s(function(){return rU.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(K,"CallHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return rU.CallHierarchyPrepareRequest},"get")});var yE=cae();Object.defineProperty(K,"TokenFormat",{enumerable:!0,get:s(function(){return yE.TokenFormat},"get")});Object.defineProperty(K,"SemanticTokensRequest",{enumerable:!0,get:s(function(){return yE.SemanticTokensRequest},"get")});Object.defineProperty(K,"SemanticTokensDeltaRequest",{enumerable:!0,get:s(function(){return yE.SemanticTokensDeltaRequest},"get")});Object.defineProperty(K,"SemanticTokensRangeRequest",{enumerable:!0,get:s(function(){return yE.SemanticTokensRangeRequest},"get")});Object.defineProperty(K,"SemanticTokensRefreshRequest",{enumerable:!0,get:s(function(){return yE.SemanticTokensRefreshRequest},"get")});Object.defineProperty(K,"SemanticTokensRegistrationType",{enumerable:!0,get:s(function(){return yE.SemanticTokensRegistrationType},"get")});var FQe=fae();Object.defineProperty(K,"ShowDocumentRequest",{enumerable:!0,get:s(function(){return FQe.ShowDocumentRequest},"get")});var LQe=Aae();Object.defineProperty(K,"LinkedEditingRangeRequest",{enumerable:!0,get:s(function(){return LQe.LinkedEditingRangeRequest},"get")});var Rg=xae();Object.defineProperty(K,"FileOperationPatternKind",{enumerable:!0,get:s(function(){return Rg.FileOperationPatternKind},"get")});Object.defineProperty(K,"DidCreateFilesNotification",{enumerable:!0,get:s(function(){return Rg.DidCreateFilesNotification},"get")});Object.defineProperty(K,"WillCreateFilesRequest",{enumerable:!0,get:s(function(){return Rg.WillCreateFilesRequest},"get")});Object.defineProperty(K,"DidRenameFilesNotification",{enumerable:!0,get:s(function(){return Rg.DidRenameFilesNotification},"get")});Object.defineProperty(K,"WillRenameFilesRequest",{enumerable:!0,get:s(function(){return Rg.WillRenameFilesRequest},"get")});Object.defineProperty(K,"DidDeleteFilesNotification",{enumerable:!0,get:s(function(){return Rg.DidDeleteFilesNotification},"get")});Object.defineProperty(K,"WillDeleteFilesRequest",{enumerable:!0,get:s(function(){return Rg.WillDeleteFilesRequest},"get")});var nU=wae();Object.defineProperty(K,"UniquenessLevel",{enumerable:!0,get:s(function(){return nU.UniquenessLevel},"get")});Object.defineProperty(K,"MonikerKind",{enumerable:!0,get:s(function(){return nU.MonikerKind},"get")});Object.defineProperty(K,"MonikerRequest",{enumerable:!0,get:s(function(){return nU.MonikerRequest},"get")});var iU=kae();Object.defineProperty(K,"TypeHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return iU.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(K,"TypeHierarchySubtypesRequest",{enumerable:!0,get:s(function(){return iU.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(K,"TypeHierarchySupertypesRequest",{enumerable:!0,get:s(function(){return iU.TypeHierarchySupertypesRequest},"get")});var h0e=Qae();Object.defineProperty(K,"InlineValueRequest",{enumerable:!0,get:s(function(){return h0e.InlineValueRequest},"get")});Object.defineProperty(K,"InlineValueRefreshRequest",{enumerable:!0,get:s(function(){return h0e.InlineValueRefreshRequest},"get")});var oU=Mae();Object.defineProperty(K,"InlayHintRequest",{enumerable:!0,get:s(function(){return oU.InlayHintRequest},"get")});Object.defineProperty(K,"InlayHintResolveRequest",{enumerable:!0,get:s(function(){return oU.InlayHintResolveRequest},"get")});Object.defineProperty(K,"InlayHintRefreshRequest",{enumerable:!0,get:s(function(){return oU.InlayHintRefreshRequest},"get")});var Pb=Wae();Object.defineProperty(K,"DiagnosticServerCancellationData",{enumerable:!0,get:s(function(){return Pb.DiagnosticServerCancellationData},"get")});Object.defineProperty(K,"DocumentDiagnosticReportKind",{enumerable:!0,get:s(function(){return Pb.DocumentDiagnosticReportKind},"get")});Object.defineProperty(K,"DocumentDiagnosticRequest",{enumerable:!0,get:s(function(){return Pb.DocumentDiagnosticRequest},"get")});Object.defineProperty(K,"WorkspaceDiagnosticRequest",{enumerable:!0,get:s(function(){return Pb.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(K,"DiagnosticRefreshRequest",{enumerable:!0,get:s(function(){return Pb.DiagnosticRefreshRequest},"get")});var Mu=Xae();Object.defineProperty(K,"NotebookCellKind",{enumerable:!0,get:s(function(){return Mu.NotebookCellKind},"get")});Object.defineProperty(K,"ExecutionSummary",{enumerable:!0,get:s(function(){return Mu.ExecutionSummary},"get")});Object.defineProperty(K,"NotebookCell",{enumerable:!0,get:s(function(){return Mu.NotebookCell},"get")});Object.defineProperty(K,"NotebookDocument",{enumerable:!0,get:s(function(){return Mu.NotebookDocument},"get")});Object.defineProperty(K,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:s(function(){return Mu.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(K,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Mu.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(K,"NotebookCellArrayChange",{enumerable:!0,get:s(function(){return Mu.NotebookCellArrayChange},"get")});Object.defineProperty(K,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Mu.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(K,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Mu.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(K,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Mu.DidCloseNotebookDocumentNotification},"get")});var MQe=tce();Object.defineProperty(K,"InlineCompletionRequest",{enumerable:!0,get:s(function(){return MQe.InlineCompletionRequest},"get")});var JO;(function(t){function e(r){let n=r;return Oo.string(n)||Oo.string(n.language)||Oo.string(n.scheme)||Oo.string(n.pattern)}s(e,"is"),t.is=e})(JO||(K.TextDocumentFilter=JO={}));var XO;(function(t){function e(r){let n=r;return Oo.objectLiteral(n)&&(Oo.string(n.notebookType)||Oo.string(n.scheme)||Oo.string(n.pattern))}s(e,"is"),t.is=e})(XO||(K.NotebookDocumentFilter=XO={}));var ZO;(function(t){function e(r){let n=r;return Oo.objectLiteral(n)&&(Oo.string(n.notebook)||XO.is(n.notebook))&&(n.language===void 0||Oo.string(n.language))}s(e,"is"),t.is=e})(ZO||(K.NotebookCellTextDocumentFilter=ZO={}));var eU;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Oo.string(n)&&!JO.is(n)&&!ZO.is(n))return!1;return!0}s(e,"is"),t.is=e})(eU||(K.DocumentSelector=eU={}));var nce;(function(t){t.method="client/registerCapability",t.messageDirection=Ue.MessageDirection.serverToClient,t.type=new Ue.ProtocolRequestType(t.method)})(nce||(K.RegistrationRequest=nce={}));var ice;(function(t){t.method="client/unregisterCapability",t.messageDirection=Ue.MessageDirection.serverToClient,t.type=new Ue.ProtocolRequestType(t.method)})(ice||(K.UnregistrationRequest=ice={}));var oce;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(oce||(K.ResourceOperationKind=oce={}));var sce;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(sce||(K.FailureHandlingKind=sce={}));var ace;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(ace||(K.PositionEncodingKind=ace={}));var cce;(function(t){function e(r){let n=r;return n&&Oo.string(n.id)&&n.id.length>0}s(e,"hasId"),t.hasId=e})(cce||(K.StaticRegistrationOptions=cce={}));var lce;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||eU.is(n.documentSelector))}s(e,"is"),t.is=e})(lce||(K.TextDocumentRegistrationOptions=lce={}));var uce;(function(t){function e(n){let o=n;return Oo.objectLiteral(o)&&(o.workDoneProgress===void 0||Oo.boolean(o.workDoneProgress))}s(e,"is"),t.is=e;function r(n){let o=n;return o&&Oo.boolean(o.workDoneProgress)}s(r,"hasWorkDoneProgress"),t.hasWorkDoneProgress=r})(uce||(K.WorkDoneProgressOptions=uce={}));var fce;(function(t){t.method="initialize",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(fce||(K.InitializeRequest=fce={}));var dce;(function(t){t.unknownProtocolVersion=1})(dce||(K.InitializeErrorCodes=dce={}));var hce;(function(t){t.method="initialized",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolNotificationType(t.method)})(hce||(K.InitializedNotification=hce={}));var Ace;(function(t){t.method="shutdown",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType0(t.method)})(Ace||(K.ShutdownRequest=Ace={}));var pce;(function(t){t.method="exit",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolNotificationType0(t.method)})(pce||(K.ExitNotification=pce={}));var mce;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolNotificationType(t.method)})(mce||(K.DidChangeConfigurationNotification=mce={}));var gce;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(gce||(K.MessageType=gce={}));var Cce;(function(t){t.method="window/showMessage",t.messageDirection=Ue.MessageDirection.serverToClient,t.type=new Ue.ProtocolNotificationType(t.method)})(Cce||(K.ShowMessageNotification=Cce={}));var yce;(function(t){t.method="window/showMessageRequest",t.messageDirection=Ue.MessageDirection.serverToClient,t.type=new Ue.ProtocolRequestType(t.method)})(yce||(K.ShowMessageRequest=yce={}));var Ece;(function(t){t.method="window/logMessage",t.messageDirection=Ue.MessageDirection.serverToClient,t.type=new Ue.ProtocolNotificationType(t.method)})(Ece||(K.LogMessageNotification=Ece={}));var Ice;(function(t){t.method="telemetry/event",t.messageDirection=Ue.MessageDirection.serverToClient,t.type=new Ue.ProtocolNotificationType(t.method)})(Ice||(K.TelemetryEventNotification=Ice={}));var xce;(function(t){t.None=0,t.Full=1,t.Incremental=2})(xce||(K.TextDocumentSyncKind=xce={}));var vce;(function(t){t.method="textDocument/didOpen",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolNotificationType(t.method)})(vce||(K.DidOpenTextDocumentNotification=vce={}));var bce;(function(t){function e(n){let o=n;return o!=null&&typeof o.text=="string"&&o.range!==void 0&&(o.rangeLength===void 0||typeof o.rangeLength=="number")}s(e,"isIncremental"),t.isIncremental=e;function r(n){let o=n;return o!=null&&typeof o.text=="string"&&o.range===void 0&&o.rangeLength===void 0}s(r,"isFull"),t.isFull=r})(bce||(K.TextDocumentContentChangeEvent=bce={}));var _ce;(function(t){t.method="textDocument/didChange",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolNotificationType(t.method)})(_ce||(K.DidChangeTextDocumentNotification=_ce={}));var Tce;(function(t){t.method="textDocument/didClose",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolNotificationType(t.method)})(Tce||(K.DidCloseTextDocumentNotification=Tce={}));var wce;(function(t){t.method="textDocument/didSave",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolNotificationType(t.method)})(wce||(K.DidSaveTextDocumentNotification=wce={}));var Sce;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Sce||(K.TextDocumentSaveReason=Sce={}));var Bce;(function(t){t.method="textDocument/willSave",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolNotificationType(t.method)})(Bce||(K.WillSaveTextDocumentNotification=Bce={}));var Rce;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Rce||(K.WillSaveTextDocumentWaitUntilRequest=Rce={}));var kce;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolNotificationType(t.method)})(kce||(K.DidChangeWatchedFilesNotification=kce={}));var Dce;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Dce||(K.FileChangeType=Dce={}));var Nce;(function(t){function e(r){let n=r;return Oo.objectLiteral(n)&&(rce.URI.is(n.baseUri)||rce.WorkspaceFolder.is(n.baseUri))&&Oo.string(n.pattern)}s(e,"is"),t.is=e})(Nce||(K.RelativePattern=Nce={}));var Qce;(function(t){t.Create=1,t.Change=2,t.Delete=4})(Qce||(K.WatchKind=Qce={}));var Pce;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=Ue.MessageDirection.serverToClient,t.type=new Ue.ProtocolNotificationType(t.method)})(Pce||(K.PublishDiagnosticsNotification=Pce={}));var Fce;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Fce||(K.CompletionTriggerKind=Fce={}));var Lce;(function(t){t.method="textDocument/completion",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Lce||(K.CompletionRequest=Lce={}));var Mce;(function(t){t.method="completionItem/resolve",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Mce||(K.CompletionResolveRequest=Mce={}));var Oce;(function(t){t.method="textDocument/hover",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Oce||(K.HoverRequest=Oce={}));var Uce;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Uce||(K.SignatureHelpTriggerKind=Uce={}));var qce;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(qce||(K.SignatureHelpRequest=qce={}));var Hce;(function(t){t.method="textDocument/definition",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Hce||(K.DefinitionRequest=Hce={}));var Gce;(function(t){t.method="textDocument/references",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Gce||(K.ReferencesRequest=Gce={}));var Vce;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Vce||(K.DocumentHighlightRequest=Vce={}));var Wce;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Wce||(K.DocumentSymbolRequest=Wce={}));var Yce;(function(t){t.method="textDocument/codeAction",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Yce||(K.CodeActionRequest=Yce={}));var jce;(function(t){t.method="codeAction/resolve",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(jce||(K.CodeActionResolveRequest=jce={}));var $ce;(function(t){t.method="workspace/symbol",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})($ce||(K.WorkspaceSymbolRequest=$ce={}));var zce;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(zce||(K.WorkspaceSymbolResolveRequest=zce={}));var Kce;(function(t){t.method="textDocument/codeLens",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Kce||(K.CodeLensRequest=Kce={}));var Jce;(function(t){t.method="codeLens/resolve",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Jce||(K.CodeLensResolveRequest=Jce={}));var Xce;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=Ue.MessageDirection.serverToClient,t.type=new Ue.ProtocolRequestType0(t.method)})(Xce||(K.CodeLensRefreshRequest=Xce={}));var Zce;(function(t){t.method="textDocument/documentLink",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(Zce||(K.DocumentLinkRequest=Zce={}));var e0e;(function(t){t.method="documentLink/resolve",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(e0e||(K.DocumentLinkResolveRequest=e0e={}));var t0e;(function(t){t.method="textDocument/formatting",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(t0e||(K.DocumentFormattingRequest=t0e={}));var r0e;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(r0e||(K.DocumentRangeFormattingRequest=r0e={}));var n0e;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(n0e||(K.DocumentRangesFormattingRequest=n0e={}));var i0e;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(i0e||(K.DocumentOnTypeFormattingRequest=i0e={}));var o0e;(function(t){t.Identifier=1})(o0e||(K.PrepareSupportDefaultBehavior=o0e={}));var s0e;(function(t){t.method="textDocument/rename",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(s0e||(K.RenameRequest=s0e={}));var a0e;(function(t){t.method="textDocument/prepareRename",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(a0e||(K.PrepareRenameRequest=a0e={}));var c0e;(function(t){t.method="workspace/executeCommand",t.messageDirection=Ue.MessageDirection.clientToServer,t.type=new Ue.ProtocolRequestType(t.method)})(c0e||(K.ExecuteCommandRequest=c0e={}));var l0e;(function(t){t.method="workspace/applyEdit",t.messageDirection=Ue.MessageDirection.serverToClient,t.type=new Ue.ProtocolRequestType("workspace/applyEdit")})(l0e||(K.ApplyWorkspaceEditRequest=l0e={}))});var m0e=T(n8=>{"use strict";d();Object.defineProperty(n8,"__esModule",{value:!0});n8.createProtocolConnection=void 0;var p0e=Bg();function OQe(t,e,r,n){return p0e.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,p0e.createMessageConnection)(t,e,r,n)}s(OQe,"createProtocolConnection");n8.createProtocolConnection=OQe});var C0e=T(La=>{"use strict";d();var UQe=La&&La.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i8=La&&La.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UQe(e,t,r)};Object.defineProperty(La,"__esModule",{value:!0});La.LSPErrorCodes=La.createProtocolConnection=void 0;i8(Bg(),La);i8(qB(),La);i8(fi(),La);i8(A0e(),La);var qQe=m0e();Object.defineProperty(La,"createProtocolConnection",{enumerable:!0,get:s(function(){return qQe.createProtocolConnection},"get")});var g0e;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(g0e||(La.LSPErrorCodes=g0e={}))});var is=T(Ou=>{"use strict";d();var HQe=Ou&&Ou.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),y0e=Ou&&Ou.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HQe(e,t,r)};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.createProtocolConnection=void 0;var GQe=GO();y0e(GO(),Ou);y0e(C0e(),Ou);function VQe(t,e,r,n){return(0,GQe.createMessageConnection)(t,e,r,n)}s(VQe,"createProtocolConnection");Ou.createProtocolConnection=VQe});var ele=T(E8=>{"use strict";d();Object.defineProperty(E8,"__esModule",{value:!0});E8.state=void 0;E8.state={instrumenterImplementation:void 0}});var UE=T((Hq,Wle)=>{d();var hR=require("buffer"),$u=hR.Buffer;function Vle(t,e){for(var r in t)e[r]=t[r]}s(Vle,"copyProps");$u.from&&$u.alloc&&$u.allocUnsafe&&$u.allocUnsafeSlow?Wle.exports=hR:(Vle(hR,Hq),Hq.Buffer=x1);function x1(t,e,r){return $u(t,e,r)}s(x1,"SafeBuffer");x1.prototype=Object.create($u.prototype);Vle($u,x1);x1.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return $u(t,e,r)};x1.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=$u(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};x1.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return $u(t)};x1.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return hR.SlowBuffer(t)}});var Gq=T((kXt,Yle)=>{d();var AR=UE().Buffer,yFe=require("stream"),EFe=require("util");function pR(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=AR.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=AR.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}s(pR,"DataStream");EFe.inherits(pR,yFe);pR.prototype.write=s(function(e){this.buffer=AR.concat([this.buffer,AR.from(e)]),this.emit("data",e)},"write");pR.prototype.end=s(function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},"end");Yle.exports=pR});var $le=T((QXt,jle)=>{"use strict";d();function Vq(t){var e=(t/8|0)+(t%8===0?0:1);return e}s(Vq,"getParamSize");var IFe={ES256:Vq(256),ES384:Vq(384),ES512:Vq(521)};function xFe(t){var e=IFe[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}s(xFe,"getParamBytesForAlg");jle.exports=xFe});var tue=T((LXt,eue)=>{"use strict";d();var mR=UE().Buffer,Kle=$le(),gR=128,Jle=0,vFe=32,bFe=16,_Fe=2,Xle=bFe|vFe|Jle<<6,CR=_Fe|Jle<<6;function TFe(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}s(TFe,"base64Url");function Zle(t){if(mR.isBuffer(t))return t;if(typeof t=="string")return mR.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}s(Zle,"signatureAsBuffer");function wFe(t,e){t=Zle(t);var r=Kle(e),n=r+1,o=t.length,a=0;if(t[a++]!==Xle)throw new Error('Could not find expected "seq"');var c=t[a++];if(c===(gR|1)&&(c=t[a++]),o-a<c)throw new Error('"seq" specified length of "'+c+'", only "'+(o-a)+'" remaining');if(t[a++]!==CR)throw new Error('Could not find expected "int" for "r"');var l=t[a++];if(o-a-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(o-a-2)+'" available');if(n<l)throw new Error('"r" specified length of "'+l+'", max of "'+n+'" is acceptable');var u=a;if(a+=l,t[a++]!==CR)throw new Error('Could not find expected "int" for "s"');var f=t[a++];if(o-a!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(o-a)+'"');if(n<f)throw new Error('"s" specified length of "'+f+'", max of "'+n+'" is acceptable');var h=a;if(a+=f,a!==o)throw new Error('Expected to consume entire buffer, but "'+(o-a)+'" bytes remain');var A=r-l,p=r-f,m=mR.allocUnsafe(A+l+p+f);for(a=0;a<A;++a)m[a]=0;t.copy(m,a,u+Math.max(-A,0),u+l),a=r;for(var g=a;a<g+p;++a)m[a]=0;return t.copy(m,a,h+Math.max(-p,0),h+f),m=m.toString("base64"),m=TFe(m),m}s(wFe,"derToJose");function zle(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var o=t[e+n]>=gR;return o&&--n,n}s(zle,"countPadding");function SFe(t,e){t=Zle(t);var r=Kle(e),n=t.length;if(n!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var o=zle(t,0,r),a=zle(t,r,t.length),c=r-o,l=r-a,u=2+c+1+1+l,f=u<gR,h=mR.allocUnsafe((f?2:3)+u),A=0;return h[A++]=Xle,f?h[A++]=u:(h[A++]=gR|1,h[A++]=u&255),h[A++]=CR,h[A++]=c,o<0?(h[A++]=0,A+=t.copy(h,A,0,r)):A+=t.copy(h,A,o,r),h[A++]=CR,h[A++]=l,a<0?(h[A++]=0,t.copy(h,A,r)):t.copy(h,A,r+a),h}s(SFe,"joseToDer");eue.exports={derToJose:wFe,joseToDer:SFe}});var nue=T((UXt,rue)=>{"use strict";d();var W_=require("buffer").Buffer,Wq=require("buffer").SlowBuffer;rue.exports=yR;function yR(t,e){if(!W_.isBuffer(t)||!W_.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}s(yR,"bufferEq");yR.install=function(){W_.prototype.equal=Wq.prototype.equal=s(function(e){return yR(this,e)},"equal")};var BFe=W_.prototype.equal,RFe=Wq.prototype.equal;yR.restore=function(){W_.prototype.equal=BFe,Wq.prototype.equal=RFe}});var zq=T((GXt,due)=>{d();var HE=UE().Buffer,k0=require("crypto"),oue=tue(),iue=require("util"),kFe=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,Y_="secret must be a string or buffer",qE="key must be a string or a buffer",DFe="key must be a string, a buffer or an object",jq=typeof k0.createPublicKey=="function";jq&&(qE+=" or a KeyObject",Y_+="or a KeyObject");function sue(t){if(!HE.isBuffer(t)&&typeof t!="string"&&(!jq||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw kl(qE)}s(sue,"checkIsPublicKey");function aue(t){if(!HE.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw kl(DFe)}s(aue,"checkIsPrivateKey");function NFe(t){if(!HE.isBuffer(t)){if(typeof t=="string")return t;if(!jq||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw kl(Y_)}}s(NFe,"checkIsSecretKey");function $q(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}s($q,"fromBase64");function cue(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}s(cue,"toBase64");function kl(t){var e=[].slice.call(arguments,1),r=iue.format.bind(iue,t).apply(null,e);return new TypeError(r)}s(kl,"typeError");function QFe(t){return HE.isBuffer(t)||typeof t=="string"}s(QFe,"bufferOrString");function j_(t){return QFe(t)||(t=JSON.stringify(t)),t}s(j_,"normalizeInput");function lue(t){return s(function(r,n){NFe(n),r=j_(r);var o=k0.createHmac("sha"+t,n),a=(o.update(r),o.digest("base64"));return $q(a)},"sign")}s(lue,"createHmacSigner");var Yq,PFe="timingSafeEqual"in k0?s(function(e,r){return e.byteLength!==r.byteLength?!1:k0.timingSafeEqual(e,r)},"timingSafeEqual"):s(function(e,r){return Yq||(Yq=nue()),Yq(e,r)},"timingSafeEqual");function FFe(t){return s(function(r,n,o){var a=lue(t)(r,o);return PFe(HE.from(n),HE.from(a))},"verify")}s(FFe,"createHmacVerifier");function uue(t){return s(function(r,n){aue(n),r=j_(r);var o=k0.createSign("RSA-SHA"+t),a=(o.update(r),o.sign(n,"base64"));return $q(a)},"sign")}s(uue,"createKeySigner");function fue(t){return s(function(r,n,o){sue(o),r=j_(r),n=cue(n);var a=k0.createVerify("RSA-SHA"+t);return a.update(r),a.verify(o,n,"base64")},"verify")}s(fue,"createKeyVerifier");function LFe(t){return s(function(r,n){aue(n),r=j_(r);var o=k0.createSign("RSA-SHA"+t),a=(o.update(r),o.sign({key:n,padding:k0.constants.RSA_PKCS1_PSS_PADDING,saltLength:k0.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return $q(a)},"sign")}s(LFe,"createPSSKeySigner");function MFe(t){return s(function(r,n,o){sue(o),r=j_(r),n=cue(n);var a=k0.createVerify("RSA-SHA"+t);return a.update(r),a.verify({key:o,padding:k0.constants.RSA_PKCS1_PSS_PADDING,saltLength:k0.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")},"verify")}s(MFe,"createPSSKeyVerifier");function OFe(t){var e=uue(t);return s(function(){var n=e.apply(null,arguments);return n=oue.derToJose(n,"ES"+t),n},"sign")}s(OFe,"createECDSASigner");function UFe(t){var e=fue(t);return s(function(n,o,a){o=oue.joseToDer(o,"ES"+t).toString("base64");var c=e(n,o,a);return c},"verify")}s(UFe,"createECDSAVerifer");function qFe(){return s(function(){return""},"sign")}s(qFe,"createNoneSigner");function HFe(){return s(function(e,r){return r===""},"verify")}s(HFe,"createNoneVerifier");due.exports=s(function(e){var r={hs:lue,rs:uue,ps:LFe,es:OFe,none:qFe},n={hs:FFe,rs:fue,ps:MFe,es:UFe,none:HFe},o=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!o)throw kl(kFe,e);var a=(o[1]||o[3]).toLowerCase(),c=o[2];return{sign:r[a](c),verify:n[a](c)}},"jwa")});var Kq=T((YXt,hue)=>{d();var GFe=require("buffer").Buffer;hue.exports=s(function(e){return typeof e=="string"?e:typeof e=="number"||GFe.isBuffer(e)?e.toString():JSON.stringify(e)},"toString")});var yue=T((zXt,Cue)=>{d();var VFe=UE().Buffer,Aue=Gq(),WFe=zq(),YFe=require("stream"),pue=Kq(),Jq=require("util");function mue(t,e){return VFe.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}s(mue,"base64url");function jFe(t,e,r){r=r||"utf8";var n=mue(pue(t),"binary"),o=mue(pue(e),r);return Jq.format("%s.%s",n,o)}s(jFe,"jwsSecuredInput");function gue(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,o=t.encoding,a=WFe(e.alg),c=jFe(e,r,o),l=a.sign(c,n);return Jq.format("%s.%s",c,l)}s(gue,"jwsSign");function ER(t){var e=t.secret||t.privateKey||t.key,r=new Aue(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new Aue(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}s(ER,"SignStream");Jq.inherits(ER,YFe);ER.prototype.sign=s(function(){try{var e=gue({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},"sign");ER.sign=gue;Cue.exports=ER});var Bue=T((XXt,Sue)=>{d();var Iue=UE().Buffer,Eue=Gq(),$Fe=zq(),zFe=require("stream"),xue=Kq(),KFe=require("util"),JFe=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function XFe(t){return Object.prototype.toString.call(t)==="[object Object]"}s(XFe,"isObject");function ZFe(t){if(XFe(t))return t;try{return JSON.parse(t)}catch{return}}s(ZFe,"safeJsonParse");function vue(t){var e=t.split(".",1)[0];return ZFe(Iue.from(e,"base64").toString("binary"))}s(vue,"headerFromJWS");function eLe(t){return t.split(".",2).join(".")}s(eLe,"securedInputFromJWS");function bue(t){return t.split(".")[2]}s(bue,"signatureFromJWS");function tLe(t,e){e=e||"utf8";var r=t.split(".")[1];return Iue.from(r,"base64").toString(e)}s(tLe,"payloadFromJWS");function _ue(t){return JFe.test(t)&&!!vue(t)}s(_ue,"isValidJws");function Tue(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=xue(t);var o=bue(t),a=eLe(t),c=$Fe(e);return c.verify(a,o,r)}s(Tue,"jwsVerify");function wue(t,e){if(e=e||{},t=xue(t),!_ue(t))return null;var r=vue(t);if(!r)return null;var n=tLe(t);return(r.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:bue(t)}}s(wue,"jwsDecode");function GE(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new Eue(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new Eue(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}s(GE,"VerifyStream");KFe.inherits(GE,zFe);GE.prototype.verify=s(function(){try{var e=Tue(this.signature.buffer,this.algorithm,this.key.buffer),r=wue(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}},"verify");GE.decode=wue;GE.isValid=_ue;GE.verify=Tue;Sue.exports=GE});var xR=T(ip=>{d();var Rue=yue(),IR=Bue(),rLe=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];ip.ALGORITHMS=rLe;ip.sign=Rue.sign;ip.verify=IR.verify;ip.decode=IR.decode;ip.isValid=IR.isValid;ip.createSign=s(function(e){return new Rue(e)},"createSign");ip.createVerify=s(function(e){return new IR(e)},"createVerify")});var Xq=T((iZt,kue)=>{d();var nLe=xR();kue.exports=function(t,e){e=e||{};var r=nLe.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var o=JSON.parse(n);o!==null&&typeof o=="object"&&(n=o)}catch{}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var $_=T((sZt,Due)=>{d();var vR=s(function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)},"JsonWebTokenError");vR.prototype=Object.create(Error.prototype);vR.prototype.constructor=vR;Due.exports=vR});var Zq=T((lZt,Que)=>{d();var Nue=$_(),bR=s(function(t,e){Nue.call(this,t),this.name="NotBeforeError",this.date=e},"NotBeforeError");bR.prototype=Object.create(Nue.prototype);bR.prototype.constructor=bR;Que.exports=bR});var eH=T((dZt,Fue)=>{d();var Pue=$_(),_R=s(function(t,e){Pue.call(this,t),this.name="TokenExpiredError",this.expiredAt=e},"TokenExpiredError");_R.prototype=Object.create(Pue.prototype);_R.prototype.constructor=_R;Fue.exports=_R});var tH=T((pZt,Lue)=>{d();var VE=1e3,WE=VE*60,YE=WE*60,v1=YE*24,iLe=v1*7,oLe=v1*365.25;Lue.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return sLe(t);if(r==="number"&&isFinite(t))return e.long?cLe(t):aLe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function sLe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*oLe;case"weeks":case"week":case"w":return r*iLe;case"days":case"day":case"d":return r*v1;case"hours":case"hour":case"hrs":case"hr":case"h":return r*YE;case"minutes":case"minute":case"mins":case"min":case"m":return r*WE;case"seconds":case"second":case"secs":case"sec":case"s":return r*VE;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}s(sLe,"parse");function aLe(t){var e=Math.abs(t);return e>=v1?Math.round(t/v1)+"d":e>=YE?Math.round(t/YE)+"h":e>=WE?Math.round(t/WE)+"m":e>=VE?Math.round(t/VE)+"s":t+"ms"}s(aLe,"fmtShort");function cLe(t){var e=Math.abs(t);return e>=v1?TR(t,e,v1,"day"):e>=YE?TR(t,e,YE,"hour"):e>=WE?TR(t,e,WE,"minute"):e>=VE?TR(t,e,VE,"second"):t+" ms"}s(cLe,"fmtLong");function TR(t,e,r,n){var o=e>=r*1.5;return Math.round(t/r)+" "+n+(o?"s":"")}s(TR,"plural")});var rH=T((CZt,Mue)=>{d();var lLe=tH();Mue.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var n=lLe(t);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof t=="number"?r+t:void 0}});var z_=T((EZt,Oue)=>{"use strict";d();var uLe="2.0.0",fLe=Number.MAX_SAFE_INTEGER||9007199254740991,dLe=16,hLe=250,ALe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Oue.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:dLe,MAX_SAFE_BUILD_LENGTH:hLe,MAX_SAFE_INTEGER:fLe,RELEASE_TYPES:ALe,SEMVER_SPEC_VERSION:uLe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var K_=T((xZt,Uue)=>{"use strict";d();var pLe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Uue.exports=pLe});var jE=T((zu,que)=>{"use strict";d();var{MAX_SAFE_COMPONENT_LENGTH:nH,MAX_SAFE_BUILD_LENGTH:mLe,MAX_LENGTH:gLe}=z_(),CLe=K_();zu=que.exports={};var yLe=zu.re=[],ELe=zu.safeRe=[],at=zu.src=[],ILe=zu.safeSrc=[],ct=zu.t={},xLe=0,iH="[a-zA-Z0-9-]",vLe=[["\\s",1],["\\d",gLe],[iH,mLe]],bLe=s(t=>{for(let[e,r]of vLe)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},"makeSafeRegex"),Zt=s((t,e,r)=>{let n=bLe(e),o=xLe++;CLe(t,o,e),ct[t]=o,at[o]=e,ILe[o]=n,yLe[o]=new RegExp(e,r?"g":void 0),ELe[o]=new RegExp(n,r?"g":void 0)},"createToken");Zt("NUMERICIDENTIFIER","0|[1-9]\\d*");Zt("NUMERICIDENTIFIERLOOSE","\\d+");Zt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${iH}*`);Zt("MAINVERSION",`(${at[ct.NUMERICIDENTIFIER]})\\.(${at[ct.NUMERICIDENTIFIER]})\\.(${at[ct.NUMERICIDENTIFIER]})`);Zt("MAINVERSIONLOOSE",`(${at[ct.NUMERICIDENTIFIERLOOSE]})\\.(${at[ct.NUMERICIDENTIFIERLOOSE]})\\.(${at[ct.NUMERICIDENTIFIERLOOSE]})`);Zt("PRERELEASEIDENTIFIER",`(?:${at[ct.NONNUMERICIDENTIFIER]}|${at[ct.NUMERICIDENTIFIER]})`);Zt("PRERELEASEIDENTIFIERLOOSE",`(?:${at[ct.NONNUMERICIDENTIFIER]}|${at[ct.NUMERICIDENTIFIERLOOSE]})`);Zt("PRERELEASE",`(?:-(${at[ct.PRERELEASEIDENTIFIER]}(?:\\.${at[ct.PRERELEASEIDENTIFIER]})*))`);Zt("PRERELEASELOOSE",`(?:-?(${at[ct.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${at[ct.PRERELEASEIDENTIFIERLOOSE]})*))`);Zt("BUILDIDENTIFIER",`${iH}+`);Zt("BUILD",`(?:\\+(${at[ct.BUILDIDENTIFIER]}(?:\\.${at[ct.BUILDIDENTIFIER]})*))`);Zt("FULLPLAIN",`v?${at[ct.MAINVERSION]}${at[ct.PRERELEASE]}?${at[ct.BUILD]}?`);Zt("FULL",`^${at[ct.FULLPLAIN]}$`);Zt("LOOSEPLAIN",`[v=\\s]*${at[ct.MAINVERSIONLOOSE]}${at[ct.PRERELEASELOOSE]}?${at[ct.BUILD]}?`);Zt("LOOSE",`^${at[ct.LOOSEPLAIN]}$`);Zt("GTLT","((?:<|>)?=?)");Zt("XRANGEIDENTIFIERLOOSE",`${at[ct.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Zt("XRANGEIDENTIFIER",`${at[ct.NUMERICIDENTIFIER]}|x|X|\\*`);Zt("XRANGEPLAIN",`[v=\\s]*(${at[ct.XRANGEIDENTIFIER]})(?:\\.(${at[ct.XRANGEIDENTIFIER]})(?:\\.(${at[ct.XRANGEIDENTIFIER]})(?:${at[ct.PRERELEASE]})?${at[ct.BUILD]}?)?)?`);Zt("XRANGEPLAINLOOSE",`[v=\\s]*(${at[ct.XRANGEIDENTIFIERLOOSE]})(?:\\.(${at[ct.XRANGEIDENTIFIERLOOSE]})(?:\\.(${at[ct.XRANGEIDENTIFIERLOOSE]})(?:${at[ct.PRERELEASELOOSE]})?${at[ct.BUILD]}?)?)?`);Zt("XRANGE",`^${at[ct.GTLT]}\\s*${at[ct.XRANGEPLAIN]}$`);Zt("XRANGELOOSE",`^${at[ct.GTLT]}\\s*${at[ct.XRANGEPLAINLOOSE]}$`);Zt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${nH}})(?:\\.(\\d{1,${nH}}))?(?:\\.(\\d{1,${nH}}))?`);Zt("COERCE",`${at[ct.COERCEPLAIN]}(?:$|[^\\d])`);Zt("COERCEFULL",at[ct.COERCEPLAIN]+`(?:${at[ct.PRERELEASE]})?(?:${at[ct.BUILD]})?(?:$|[^\\d])`);Zt("COERCERTL",at[ct.COERCE],!0);Zt("COERCERTLFULL",at[ct.COERCEFULL],!0);Zt("LONETILDE","(?:~>?)");Zt("TILDETRIM",`(\\s*)${at[ct.LONETILDE]}\\s+`,!0);zu.tildeTrimReplace="$1~";Zt("TILDE",`^${at[ct.LONETILDE]}${at[ct.XRANGEPLAIN]}$`);Zt("TILDELOOSE",`^${at[ct.LONETILDE]}${at[ct.XRANGEPLAINLOOSE]}$`);Zt("LONECARET","(?:\\^)");Zt("CARETTRIM",`(\\s*)${at[ct.LONECARET]}\\s+`,!0);zu.caretTrimReplace="$1^";Zt("CARET",`^${at[ct.LONECARET]}${at[ct.XRANGEPLAIN]}$`);Zt("CARETLOOSE",`^${at[ct.LONECARET]}${at[ct.XRANGEPLAINLOOSE]}$`);Zt("COMPARATORLOOSE",`^${at[ct.GTLT]}\\s*(${at[ct.LOOSEPLAIN]})$|^$`);Zt("COMPARATOR",`^${at[ct.GTLT]}\\s*(${at[ct.FULLPLAIN]})$|^$`);Zt("COMPARATORTRIM",`(\\s*)${at[ct.GTLT]}\\s*(${at[ct.LOOSEPLAIN]}|${at[ct.XRANGEPLAIN]})`,!0);zu.comparatorTrimReplace="$1$2$3";Zt("HYPHENRANGE",`^\\s*(${at[ct.XRANGEPLAIN]})\\s+-\\s+(${at[ct.XRANGEPLAIN]})\\s*$`);Zt("HYPHENRANGELOOSE",`^\\s*(${at[ct.XRANGEPLAINLOOSE]})\\s+-\\s+(${at[ct.XRANGEPLAINLOOSE]})\\s*$`);Zt("STAR","(<|>)?=?\\s*\\*");Zt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Zt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var wR=T((TZt,Hue)=>{"use strict";d();var _Le=Object.freeze({loose:!0}),TLe=Object.freeze({}),wLe=s(t=>t?typeof t!="object"?_Le:t:TLe,"parseOptions");Hue.exports=wLe});var oH=T((BZt,Wue)=>{"use strict";d();var Gue=/^[0-9]+$/,Vue=s((t,e)=>{let r=Gue.test(t),n=Gue.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),SLe=s((t,e)=>Vue(e,t),"rcompareIdentifiers");Wue.exports={compareIdentifiers:Vue,rcompareIdentifiers:SLe}});var Fs=T((DZt,jue)=>{"use strict";d();var SR=K_(),{MAX_LENGTH:Yue,MAX_SAFE_INTEGER:BR}=z_(),{safeRe:RR,t:kR}=jE(),BLe=wR(),{compareIdentifiers:$E}=oH(),sH=class t{static{s(this,"SemVer")}constructor(e,r){if(r=BLe(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Yue)throw new TypeError(`version is longer than ${Yue} characters`);SR("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?RR[kR.LOOSE]:RR[kR.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>BR||this.major<0)throw new TypeError("Invalid major version");if(this.minor>BR||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>BR||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let a=+o;if(a>=0&&a<BR)return a}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(SR("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),$E(this.major,e.major)||$E(this.minor,e.minor)||$E(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=e.prerelease[r];if(SR("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return $E(n,o)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],o=e.build[r];if(SR("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return $E(n,o)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let o=`-${r}`.match(this.options.loose?RR[kR.PRERELEASELOOSE]:RR[kR.PRERELEASE]);if(!o||o[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[o];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let a=[r,o];n===!1&&(a=[r]),$E(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};jue.exports=sH});var b1=T((PZt,zue)=>{"use strict";d();var $ue=Fs(),RLe=s((t,e,r=!1)=>{if(t instanceof $ue)return t;try{return new $ue(t,e)}catch(n){if(!r)return null;throw n}},"parse");zue.exports=RLe});var Jue=T((MZt,Kue)=>{"use strict";d();var kLe=b1(),DLe=s((t,e)=>{let r=kLe(t,e);return r?r.version:null},"valid");Kue.exports=DLe});var Zue=T((qZt,Xue)=>{"use strict";d();var NLe=b1(),QLe=s((t,e)=>{let r=NLe(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");Xue.exports=QLe});var rfe=T((VZt,tfe)=>{"use strict";d();var efe=Fs(),PLe=s((t,e,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new efe(t instanceof efe?t.version:t,r).inc(e,n,o).version}catch{return null}},"inc");tfe.exports=PLe});var ofe=T((jZt,ife)=>{"use strict";d();var nfe=b1(),FLe=s((t,e)=>{let r=nfe(t,null,!0),n=nfe(e,null,!0),o=r.compare(n);if(o===0)return null;let a=o>0,c=a?r:n,l=a?n:r,u=!!c.prerelease.length;if(!!l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(l.compareMain(c)===0)return l.minor&&!l.patch?"minor":"patch"}let h=u?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"},"diff");ife.exports=FLe});var afe=T((KZt,sfe)=>{"use strict";d();var LLe=Fs(),MLe=s((t,e)=>new LLe(t,e).major,"major");sfe.exports=MLe});var lfe=T((ZZt,cfe)=>{"use strict";d();var OLe=Fs(),ULe=s((t,e)=>new OLe(t,e).minor,"minor");cfe.exports=ULe});var ffe=T((rer,ufe)=>{"use strict";d();var qLe=Fs(),HLe=s((t,e)=>new qLe(t,e).patch,"patch");ufe.exports=HLe});var hfe=T((oer,dfe)=>{"use strict";d();var GLe=b1(),VLe=s((t,e)=>{let r=GLe(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");dfe.exports=VLe});var D0=T((cer,pfe)=>{"use strict";d();var Afe=Fs(),WLe=s((t,e,r)=>new Afe(t,r).compare(new Afe(e,r)),"compare");pfe.exports=WLe});var gfe=T((fer,mfe)=>{"use strict";d();var YLe=D0(),jLe=s((t,e,r)=>YLe(e,t,r),"rcompare");mfe.exports=jLe});var yfe=T((Aer,Cfe)=>{"use strict";d();var $Le=D0(),zLe=s((t,e)=>$Le(t,e,!0),"compareLoose");Cfe.exports=zLe});var DR=T((ger,Ife)=>{"use strict";d();var Efe=Fs(),KLe=s((t,e,r)=>{let n=new Efe(t,r),o=new Efe(e,r);return n.compare(o)||n.compareBuild(o)},"compareBuild");Ife.exports=KLe});var vfe=T((Eer,xfe)=>{"use strict";d();var JLe=DR(),XLe=s((t,e)=>t.sort((r,n)=>JLe(r,n,e)),"sort");xfe.exports=XLe});var _fe=T((ver,bfe)=>{"use strict";d();var ZLe=DR(),eMe=s((t,e)=>t.sort((r,n)=>ZLe(n,r,e)),"rsort");bfe.exports=eMe});var J_=T((Ter,Tfe)=>{"use strict";d();var tMe=D0(),rMe=s((t,e,r)=>tMe(t,e,r)>0,"gt");Tfe.exports=rMe});var NR=T((Ber,wfe)=>{"use strict";d();var nMe=D0(),iMe=s((t,e,r)=>nMe(t,e,r)<0,"lt");wfe.exports=iMe});var aH=T((Der,Sfe)=>{"use strict";d();var oMe=D0(),sMe=s((t,e,r)=>oMe(t,e,r)===0,"eq");Sfe.exports=sMe});var cH=T((Per,Bfe)=>{"use strict";d();var aMe=D0(),cMe=s((t,e,r)=>aMe(t,e,r)!==0,"neq");Bfe.exports=cMe});var QR=T((Mer,Rfe)=>{"use strict";d();var lMe=D0(),uMe=s((t,e,r)=>lMe(t,e,r)>=0,"gte");Rfe.exports=uMe});var PR=T((qer,kfe)=>{"use strict";d();var fMe=D0(),dMe=s((t,e,r)=>fMe(t,e,r)<=0,"lte");kfe.exports=dMe});var lH=T((Ver,Dfe)=>{"use strict";d();var hMe=aH(),AMe=cH(),pMe=J_(),mMe=QR(),gMe=NR(),CMe=PR(),yMe=s((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return hMe(t,r,n);case"!=":return AMe(t,r,n);case">":return pMe(t,r,n);case">=":return mMe(t,r,n);case"<":return gMe(t,r,n);case"<=":return CMe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");Dfe.exports=yMe});var Qfe=T((jer,Nfe)=>{"use strict";d();var EMe=Fs(),IMe=b1(),{safeRe:FR,t:LR}=jE(),xMe=s((t,e)=>{if(t instanceof EMe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?FR[LR.COERCEFULL]:FR[LR.COERCE]);else{let u=e.includePrerelease?FR[LR.COERCERTLFULL]:FR[LR.COERCERTL],f;for(;(f=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||f.index+f[0].length!==r.index+r[0].length)&&(r=f),u.lastIndex=f.index+f[1].length+f[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],o=r[3]||"0",a=r[4]||"0",c=e.includePrerelease&&r[5]?`-${r[5]}`:"",l=e.includePrerelease&&r[6]?`+${r[6]}`:"";return IMe(`${n}.${o}.${a}${c}${l}`,e)},"coerce");Nfe.exports=xMe});var Ffe=T((Ker,Pfe)=>{"use strict";d();var uH=class{static{s(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(e,r)}return this}};Pfe.exports=uH});var N0=T((Zer,Ufe)=>{"use strict";d();var vMe=/\s+/g,fH=class t{static{s(this,"Range")}constructor(e,r){if(r=_Me(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof dH)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(vMe," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!Mfe(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&DMe(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&RMe)|(this.options.loose&&kMe))+":"+e,o=Lfe.get(n);if(o)return o;let a=this.options.loose,c=a?Ga[aa.HYPHENRANGELOOSE]:Ga[aa.HYPHENRANGE];e=e.replace(c,HMe(this.options.includePrerelease)),Zn("hyphen replace",e),e=e.replace(Ga[aa.COMPARATORTRIM],wMe),Zn("comparator trim",e),e=e.replace(Ga[aa.TILDETRIM],SMe),Zn("tilde trim",e),e=e.replace(Ga[aa.CARETTRIM],BMe),Zn("caret trim",e);let l=e.split(" ").map(A=>NMe(A,this.options)).join(" ").split(/\s+/).map(A=>qMe(A,this.options));a&&(l=l.filter(A=>(Zn("loose invalid filter",A,this.options),!!A.match(Ga[aa.COMPARATORLOOSE])))),Zn("range list",l);let u=new Map,f=l.map(A=>new dH(A,this.options));for(let A of f){if(Mfe(A))return[A];u.set(A.value,A)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return Lfe.set(n,h),h}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Ofe(n,r)&&e.set.some(o=>Ofe(o,r)&&n.every(a=>o.every(c=>a.intersects(c,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new TMe(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(GMe(this.set[r],e,this.options))return!0;return!1}};Ufe.exports=fH;var bMe=Ffe(),Lfe=new bMe,_Me=wR(),dH=X_(),Zn=K_(),TMe=Fs(),{safeRe:Ga,t:aa,comparatorTrimReplace:wMe,tildeTrimReplace:SMe,caretTrimReplace:BMe}=jE(),{FLAG_INCLUDE_PRERELEASE:RMe,FLAG_LOOSE:kMe}=z_(),Mfe=s(t=>t.value==="<0.0.0-0","isNullSet"),DMe=s(t=>t.value==="","isAny"),Ofe=s((t,e)=>{let r=!0,n=t.slice(),o=n.pop();for(;r&&n.length;)r=n.every(a=>o.intersects(a,e)),o=n.pop();return r},"isSatisfiable"),NMe=s((t,e)=>(Zn("comp",t,e),t=FMe(t,e),Zn("caret",t),t=QMe(t,e),Zn("tildes",t),t=MMe(t,e),Zn("xrange",t),t=UMe(t,e),Zn("stars",t),t),"parseComparator"),ca=s(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),QMe=s((t,e)=>t.trim().split(/\s+/).map(r=>PMe(r,e)).join(" "),"replaceTildes"),PMe=s((t,e)=>{let r=e.loose?Ga[aa.TILDELOOSE]:Ga[aa.TILDE];return t.replace(r,(n,o,a,c,l)=>{Zn("tilde",t,n,o,a,c,l);let u;return ca(o)?u="":ca(a)?u=`>=${o}.0.0 <${+o+1}.0.0-0`:ca(c)?u=`>=${o}.${a}.0 <${o}.${+a+1}.0-0`:l?(Zn("replaceTilde pr",l),u=`>=${o}.${a}.${c}-${l} <${o}.${+a+1}.0-0`):u=`>=${o}.${a}.${c} <${o}.${+a+1}.0-0`,Zn("tilde return",u),u})},"replaceTilde"),FMe=s((t,e)=>t.trim().split(/\s+/).map(r=>LMe(r,e)).join(" "),"replaceCarets"),LMe=s((t,e)=>{Zn("caret",t,e);let r=e.loose?Ga[aa.CARETLOOSE]:Ga[aa.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(o,a,c,l,u)=>{Zn("caret",t,o,a,c,l,u);let f;return ca(a)?f="":ca(c)?f=`>=${a}.0.0${n} <${+a+1}.0.0-0`:ca(l)?a==="0"?f=`>=${a}.${c}.0${n} <${a}.${+c+1}.0-0`:f=`>=${a}.${c}.0${n} <${+a+1}.0.0-0`:u?(Zn("replaceCaret pr",u),a==="0"?c==="0"?f=`>=${a}.${c}.${l}-${u} <${a}.${c}.${+l+1}-0`:f=`>=${a}.${c}.${l}-${u} <${a}.${+c+1}.0-0`:f=`>=${a}.${c}.${l}-${u} <${+a+1}.0.0-0`):(Zn("no pr"),a==="0"?c==="0"?f=`>=${a}.${c}.${l}${n} <${a}.${c}.${+l+1}-0`:f=`>=${a}.${c}.${l}${n} <${a}.${+c+1}.0-0`:f=`>=${a}.${c}.${l} <${+a+1}.0.0-0`),Zn("caret return",f),f})},"replaceCaret"),MMe=s((t,e)=>(Zn("replaceXRanges",t,e),t.split(/\s+/).map(r=>OMe(r,e)).join(" ")),"replaceXRanges"),OMe=s((t,e)=>{t=t.trim();let r=e.loose?Ga[aa.XRANGELOOSE]:Ga[aa.XRANGE];return t.replace(r,(n,o,a,c,l,u)=>{Zn("xRange",t,n,o,a,c,l,u);let f=ca(a),h=f||ca(c),A=h||ca(l),p=A;return o==="="&&p&&(o=""),u=e.includePrerelease?"-0":"",f?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&p?(h&&(c=0),l=0,o===">"?(o=">=",h?(a=+a+1,c=0,l=0):(c=+c+1,l=0)):o==="<="&&(o="<",h?a=+a+1:c=+c+1),o==="<"&&(u="-0"),n=`${o+a}.${c}.${l}${u}`):h?n=`>=${a}.0.0${u} <${+a+1}.0.0-0`:A&&(n=`>=${a}.${c}.0${u} <${a}.${+c+1}.0-0`),Zn("xRange return",n),n})},"replaceXRange"),UMe=s((t,e)=>(Zn("replaceStars",t,e),t.trim().replace(Ga[aa.STAR],"")),"replaceStars"),qMe=s((t,e)=>(Zn("replaceGTE0",t,e),t.trim().replace(Ga[e.includePrerelease?aa.GTE0PRE:aa.GTE0],"")),"replaceGTE0"),HMe=s(t=>(e,r,n,o,a,c,l,u,f,h,A,p)=>(ca(n)?r="":ca(o)?r=`>=${n}.0.0${t?"-0":""}`:ca(a)?r=`>=${n}.${o}.0${t?"-0":""}`:c?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,ca(f)?u="":ca(h)?u=`<${+f+1}.0.0-0`:ca(A)?u=`<${f}.${+h+1}.0-0`:p?u=`<=${f}.${h}.${A}-${p}`:t?u=`<${f}.${h}.${+A+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),"hyphenReplace"),GMe=s((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Zn(t[n].semver),t[n].semver!==dH.ANY&&t[n].semver.prerelease.length>0){let o=t[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0},"testSet")});var X_=T((rtr,Yfe)=>{"use strict";d();var Z_=Symbol("SemVer ANY"),pH=class t{static{s(this,"Comparator")}static get ANY(){return Z_}constructor(e,r){if(r=qfe(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),AH("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Z_?this.value="":this.value=this.operator+this.semver.version,AH("comp",this)}parse(e){let r=this.options.loose?Hfe[Gfe.COMPARATORLOOSE]:Hfe[Gfe.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Vfe(n[2],this.options.loose):this.semver=Z_}toString(){return this.value}test(e){if(AH("Comparator.test",e,this.options.loose),this.semver===Z_||e===Z_)return!0;if(typeof e=="string")try{e=new Vfe(e,this.options)}catch{return!1}return hH(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Wfe(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Wfe(this.value,r).test(e.semver):(r=qfe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||hH(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||hH(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Yfe.exports=pH;var qfe=wR(),{safeRe:Hfe,t:Gfe}=jE(),hH=lH(),AH=K_(),Vfe=Fs(),Wfe=N0()});var e5=T((otr,jfe)=>{"use strict";d();var VMe=N0(),WMe=s((t,e,r)=>{try{e=new VMe(e,r)}catch{return!1}return e.test(t)},"satisfies");jfe.exports=WMe});var zfe=T((ctr,$fe)=>{"use strict";d();var YMe=N0(),jMe=s((t,e)=>new YMe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");$fe.exports=jMe});var Jfe=T((ftr,Kfe)=>{"use strict";d();var $Me=Fs(),zMe=N0(),KMe=s((t,e,r)=>{let n=null,o=null,a=null;try{a=new zMe(e,r)}catch{return null}return t.forEach(c=>{a.test(c)&&(!n||o.compare(c)===-1)&&(n=c,o=new $Me(n,r))}),n},"maxSatisfying");Kfe.exports=KMe});var Zfe=T((Atr,Xfe)=>{"use strict";d();var JMe=Fs(),XMe=N0(),ZMe=s((t,e,r)=>{let n=null,o=null,a=null;try{a=new XMe(e,r)}catch{return null}return t.forEach(c=>{a.test(c)&&(!n||o.compare(c)===1)&&(n=c,o=new JMe(n,r))}),n},"minSatisfying");Xfe.exports=ZMe});var rde=T((gtr,tde)=>{"use strict";d();var mH=Fs(),eOe=N0(),ede=J_(),tOe=s((t,e)=>{t=new eOe(t,e);let r=new mH("0.0.0");if(t.test(r)||(r=new mH("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let o=t.set[n],a=null;o.forEach(c=>{let l=new mH(c.semver.version);switch(c.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!a||ede(l,a))&&(a=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),a&&(!r||ede(r,a))&&(r=a)}return r&&t.test(r)?r:null},"minVersion");tde.exports=tOe});var ide=T((Etr,nde)=>{"use strict";d();var rOe=N0(),nOe=s((t,e)=>{try{return new rOe(t,e).range||"*"}catch{return null}},"validRange");nde.exports=nOe});var MR=T((vtr,cde)=>{"use strict";d();var iOe=Fs(),ade=X_(),{ANY:oOe}=ade,sOe=N0(),aOe=e5(),ode=J_(),sde=NR(),cOe=PR(),lOe=QR(),uOe=s((t,e,r,n)=>{t=new iOe(t,n),e=new sOe(e,n);let o,a,c,l,u;switch(r){case">":o=ode,a=cOe,c=sde,l=">",u=">=";break;case"<":o=sde,a=lOe,c=ode,l="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(aOe(t,e,n))return!1;for(let f=0;f<e.set.length;++f){let h=e.set[f],A=null,p=null;if(h.forEach(m=>{m.semver===oOe&&(m=new ade(">=0.0.0")),A=A||m,p=p||m,o(m.semver,A.semver,n)?A=m:c(m.semver,p.semver,n)&&(p=m)}),A.operator===l||A.operator===u||(!p.operator||p.operator===l)&&a(t,p.semver))return!1;if(p.operator===u&&c(t,p.semver))return!1}return!0},"outside");cde.exports=uOe});var ude=T((Ttr,lde)=>{"use strict";d();var fOe=MR(),dOe=s((t,e,r)=>fOe(t,e,">",r),"gtr");lde.exports=dOe});var dde=T((Btr,fde)=>{"use strict";d();var hOe=MR(),AOe=s((t,e,r)=>hOe(t,e,"<",r),"ltr");fde.exports=AOe});var pde=T((Dtr,Ade)=>{"use strict";d();var hde=N0(),pOe=s((t,e,r)=>(t=new hde(t,r),e=new hde(e,r),t.intersects(e,r)),"intersects");Ade.exports=pOe});var gde=T((Ptr,mde)=>{"use strict";d();var mOe=e5(),gOe=D0();mde.exports=(t,e,r)=>{let n=[],o=null,a=null,c=t.sort((h,A)=>gOe(h,A,r));for(let h of c)mOe(h,e,r)?(a=h,o||(o=h)):(a&&n.push([o,a]),a=null,o=null);o&&n.push([o,null]);let l=[];for(let[h,A]of n)h===A?l.push(h):!A&&h===c[0]?l.push("*"):A?h===c[0]?l.push(`<=${A}`):l.push(`${h} - ${A}`):l.push(`>=${h}`);let u=l.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return u.length<f.length?u:e}});var vde=T((Ltr,xde)=>{"use strict";d();var Cde=N0(),CH=X_(),{ANY:gH}=CH,t5=e5(),yH=D0(),COe=s((t,e,r={})=>{if(t===e)return!0;t=new Cde(t,r),e=new Cde(e,r);let n=!1;e:for(let o of t.set){for(let a of e.set){let c=EOe(o,a,r);if(n=n||c!==null,c)continue e}if(n)return!1}return!0},"subset"),yOe=[new CH(">=0.0.0-0")],yde=[new CH(">=0.0.0")],EOe=s((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===gH){if(e.length===1&&e[0].semver===gH)return!0;r.includePrerelease?t=yOe:t=yde}if(e.length===1&&e[0].semver===gH){if(r.includePrerelease)return!0;e=yde}let n=new Set,o,a;for(let m of t)m.operator===">"||m.operator===">="?o=Ede(o,m,r):m.operator==="<"||m.operator==="<="?a=Ide(a,m,r):n.add(m.semver);if(n.size>1)return null;let c;if(o&&a){if(c=yH(o.semver,a.semver,r),c>0)return null;if(c===0&&(o.operator!==">="||a.operator!=="<="))return null}for(let m of n){if(o&&!t5(m,String(o),r)||a&&!t5(m,String(a),r))return null;for(let g of e)if(!t5(m,String(g),r))return!1;return!0}let l,u,f,h,A=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,p=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;A&&A.prerelease.length===1&&a.operator==="<"&&A.prerelease[0]===0&&(A=!1);for(let m of e){if(h=h||m.operator===">"||m.operator===">=",f=f||m.operator==="<"||m.operator==="<=",o){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(l=Ede(o,m,r),l===m&&l!==o)return!1}else if(o.operator===">="&&!t5(o.semver,String(m),r))return!1}if(a){if(A&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===A.major&&m.semver.minor===A.minor&&m.semver.patch===A.patch&&(A=!1),m.operator==="<"||m.operator==="<="){if(u=Ide(a,m,r),u===m&&u!==a)return!1}else if(a.operator==="<="&&!t5(a.semver,String(m),r))return!1}if(!m.operator&&(a||o)&&c!==0)return!1}return!(o&&f&&!a&&c!==0||a&&h&&!o&&c!==0||p||A)},"simpleSubset"),Ede=s((t,e,r)=>{if(!t)return e;let n=yH(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),Ide=s((t,e,r)=>{if(!t)return e;let n=yH(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");xde.exports=COe});var OR=T((Utr,Tde)=>{"use strict";d();var EH=jE(),bde=z_(),IOe=Fs(),_de=oH(),xOe=b1(),vOe=Jue(),bOe=Zue(),_Oe=rfe(),TOe=ofe(),wOe=afe(),SOe=lfe(),BOe=ffe(),ROe=hfe(),kOe=D0(),DOe=gfe(),NOe=yfe(),QOe=DR(),POe=vfe(),FOe=_fe(),LOe=J_(),MOe=NR(),OOe=aH(),UOe=cH(),qOe=QR(),HOe=PR(),GOe=lH(),VOe=Qfe(),WOe=X_(),YOe=N0(),jOe=e5(),$Oe=zfe(),zOe=Jfe(),KOe=Zfe(),JOe=rde(),XOe=ide(),ZOe=MR(),eUe=ude(),tUe=dde(),rUe=pde(),nUe=gde(),iUe=vde();Tde.exports={parse:xOe,valid:vOe,clean:bOe,inc:_Oe,diff:TOe,major:wOe,minor:SOe,patch:BOe,prerelease:ROe,compare:kOe,rcompare:DOe,compareLoose:NOe,compareBuild:QOe,sort:POe,rsort:FOe,gt:LOe,lt:MOe,eq:OOe,neq:UOe,gte:qOe,lte:HOe,cmp:GOe,coerce:VOe,Comparator:WOe,Range:YOe,satisfies:jOe,toComparators:$Oe,maxSatisfying:zOe,minSatisfying:KOe,minVersion:JOe,validRange:XOe,outside:ZOe,gtr:eUe,ltr:tUe,intersects:rUe,simplifyRange:nUe,subset:iUe,SemVer:IOe,re:EH.re,src:EH.src,tokens:EH.t,SEMVER_SPEC_VERSION:bde.SEMVER_SPEC_VERSION,RELEASE_TYPES:bde.RELEASE_TYPES,compareIdentifiers:_de.compareIdentifiers,rcompareIdentifiers:_de.rcompareIdentifiers}});var Sde=T((Htr,wde)=>{d();var oUe=OR();wde.exports=oUe.satisfies(process.version,">=15.7.0")});var Rde=T((Vtr,Bde)=>{d();var sUe=OR();Bde.exports=sUe.satisfies(process.version,">=16.9.0")});var IH=T((Ytr,kde)=>{d();var aUe=Sde(),cUe=Rde(),lUe={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},uUe={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};kde.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let n=lUe[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(aUe)switch(r){case"ec":let o=e.asymmetricKeyDetails.namedCurve,a=uUe[t];if(o!==a)throw new Error(`"alg" parameter "${t}" requires curve "${a}".`);break;case"rsa-pss":if(cUe){let c=parseInt(t.slice(-3),10),{hashAlgorithm:l,mgf1HashAlgorithm:u,saltLength:f}=e.asymmetricKeyDetails;if(l!==`sha${c}`||u!==l)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(f!==void 0&&f>c>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}}});var xH=T(($tr,Dde)=>{d();var fUe=OR();Dde.exports=fUe.satisfies(process.version,"^6.12.0 || >=8.0.0")});var Pde=T((Ktr,Qde)=>{d();var On=$_(),dUe=Zq(),Nde=eH(),hUe=Xq(),AUe=rH(),pUe=IH(),mUe=xH(),gUe=xR(),{KeyObject:CUe,createSecretKey:yUe,createPublicKey:EUe}=require("crypto"),vH=["RS256","RS384","RS512"],IUe=["ES256","ES384","ES512"],bH=["RS256","RS384","RS512"],xUe=["HS256","HS384","HS512"];mUe&&(vH.splice(vH.length,0,"PS256","PS384","PS512"),bH.splice(bH.length,0,"PS256","PS384","PS512"));Qde.exports=function(t,e,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let o;if(n?o=n:o=s(function(h,A){if(h)throw h;return A},"done"),r.clockTimestamp&&typeof r.clockTimestamp!="number")return o(new On("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return o(new On("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return o(new On("allowInvalidAsymmetricKeyTypes must be a boolean"));let a=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return o(new On("jwt must be provided"));if(typeof t!="string")return o(new On("jwt must be a string"));let c=t.split(".");if(c.length!==3)return o(new On("jwt malformed"));let l;try{l=hUe(t,{complete:!0})}catch(h){return o(h)}if(!l)return o(new On("invalid token"));let u=l.header,f;if(typeof e=="function"){if(!n)return o(new On("verify must be called asynchronous if secret or public key is provided as a callback"));f=e}else f=s(function(h,A){return A(null,e)},"getSecret");return f(u,function(h,A){if(h)return o(new On("error in secret or public key callback: "+h.message));let p=c[2].trim()!=="";if(!p&&A)return o(new On("jwt signature is required"));if(p&&!A)return o(new On("secret or public key must be provided"));if(!p&&!r.algorithms)return o(new On('please specify "none" in "algorithms" to verify unsigned tokens'));if(A!=null&&!(A instanceof CUe))try{A=EUe(A)}catch{try{A=yUe(typeof A=="string"?Buffer.from(A):A)}catch{return o(new On("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(A.type==="secret"?r.algorithms=xUe:["rsa","rsa-pss"].includes(A.asymmetricKeyType)?r.algorithms=bH:A.asymmetricKeyType==="ec"?r.algorithms=IUe:r.algorithms=vH),r.algorithms.indexOf(l.header.alg)===-1)return o(new On("invalid algorithm"));if(u.alg.startsWith("HS")&&A.type!=="secret")return o(new On(`secretOrPublicKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)&&A.type!=="public")return o(new On(`secretOrPublicKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{pUe(u.alg,A)}catch(y){return o(y)}let m;try{m=gUe.verify(t,l.header.alg,A)}catch(y){return o(y)}if(!m)return o(new On("invalid signature"));let g=l.payload;if(typeof g.nbf<"u"&&!r.ignoreNotBefore){if(typeof g.nbf!="number")return o(new On("invalid nbf value"));if(g.nbf>a+(r.clockTolerance||0))return o(new dUe("jwt not active",new Date(g.nbf*1e3)))}if(typeof g.exp<"u"&&!r.ignoreExpiration){if(typeof g.exp!="number")return o(new On("invalid exp value"));if(a>=g.exp+(r.clockTolerance||0))return o(new Nde("jwt expired",new Date(g.exp*1e3)))}if(r.audience){let y=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(g.aud)?g.aud:[g.aud]).some(function(x){return y.some(function(v){return v instanceof RegExp?v.test(x):v===x})}))return o(new On("jwt audience invalid. expected: "+y.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&g.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(g.iss)===-1))return o(new On("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&g.sub!==r.subject)return o(new On("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&g.jti!==r.jwtid)return o(new On("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&g.nonce!==r.nonce)return o(new On("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof g.iat!="number")return o(new On("iat required when maxAge is specified"));let y=AUe(r.maxAge,g.iat);if(typeof y>"u")return o(new On('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(a>=y+(r.clockTolerance||0))return o(new Nde("maxAge exceeded",new Date(y*1e3)))}if(r.complete===!0){let y=l.signature;return o(null,{header:u,payload:g,signature:y})}return o(null,g)})}});var qde=T((Ztr,Ude)=>{d();var Fde=1/0,Mde=9007199254740991,vUe=17976931348623157e292,Lde=NaN,bUe="[object Arguments]",_Ue="[object Function]",TUe="[object GeneratorFunction]",wUe="[object String]",SUe="[object Symbol]",BUe=/^\s+|\s+$/g,RUe=/^[-+]0x[0-9a-f]+$/i,kUe=/^0b[01]+$/i,DUe=/^0o[0-7]+$/i,NUe=/^(?:0|[1-9]\d*)$/,QUe=parseInt;function PUe(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}s(PUe,"arrayMap");function FUe(t,e,r,n){for(var o=t.length,a=r+(n?1:-1);n?a--:++a<o;)if(e(t[a],a,t))return a;return-1}s(FUe,"baseFindIndex");function LUe(t,e,r){if(e!==e)return FUe(t,MUe,r);for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}s(LUe,"baseIndexOf");function MUe(t){return t!==t}s(MUe,"baseIsNaN");function OUe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}s(OUe,"baseTimes");function UUe(t,e){return PUe(e,function(r){return t[r]})}s(UUe,"baseValues");function qUe(t,e){return function(r){return t(e(r))}}s(qUe,"overArg");var UR=Object.prototype,TH=UR.hasOwnProperty,qR=UR.toString,HUe=UR.propertyIsEnumerable,GUe=qUe(Object.keys,Object),VUe=Math.max;function WUe(t,e){var r=Ode(t)||KUe(t)?OUe(t.length,String):[],n=r.length,o=!!n;for(var a in t)(e||TH.call(t,a))&&!(o&&(a=="length"||jUe(a,n)))&&r.push(a);return r}s(WUe,"arrayLikeKeys");function YUe(t){if(!$Ue(t))return GUe(t);var e=[];for(var r in Object(t))TH.call(t,r)&&r!="constructor"&&e.push(r);return e}s(YUe,"baseKeys");function jUe(t,e){return e=e??Mde,!!e&&(typeof t=="number"||NUe.test(t))&&t>-1&&t%1==0&&t<e}s(jUe,"isIndex");function $Ue(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||UR;return t===r}s($Ue,"isPrototype");function zUe(t,e,r,n){t=wH(t)?t:sqe(t),r=r&&!n?nqe(r):0;var o=t.length;return r<0&&(r=VUe(o+r,0)),eqe(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&LUe(t,e,r)>-1}s(zUe,"includes");function KUe(t){return JUe(t)&&TH.call(t,"callee")&&(!HUe.call(t,"callee")||qR.call(t)==bUe)}s(KUe,"isArguments");var Ode=Array.isArray;function wH(t){return t!=null&&ZUe(t.length)&&!XUe(t)}s(wH,"isArrayLike");function JUe(t){return SH(t)&&wH(t)}s(JUe,"isArrayLikeObject");function XUe(t){var e=_H(t)?qR.call(t):"";return e==_Ue||e==TUe}s(XUe,"isFunction");function ZUe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Mde}s(ZUe,"isLength");function _H(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}s(_H,"isObject");function SH(t){return!!t&&typeof t=="object"}s(SH,"isObjectLike");function eqe(t){return typeof t=="string"||!Ode(t)&&SH(t)&&qR.call(t)==wUe}s(eqe,"isString");function tqe(t){return typeof t=="symbol"||SH(t)&&qR.call(t)==SUe}s(tqe,"isSymbol");function rqe(t){if(!t)return t===0?t:0;if(t=iqe(t),t===Fde||t===-Fde){var e=t<0?-1:1;return e*vUe}return t===t?t:0}s(rqe,"toFinite");function nqe(t){var e=rqe(t),r=e%1;return e===e?r?e-r:e:0}s(nqe,"toInteger");function iqe(t){if(typeof t=="number")return t;if(tqe(t))return Lde;if(_H(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_H(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(BUe,"");var r=kUe.test(t);return r||DUe.test(t)?QUe(t.slice(2),r?2:8):RUe.test(t)?Lde:+t}s(iqe,"toNumber");function oqe(t){return wH(t)?WUe(t):YUe(t)}s(oqe,"keys");function sqe(t){return t?UUe(t,oqe(t)):[]}s(sqe,"values");Ude.exports=zUe});var Gde=T((nrr,Hde)=>{d();var aqe="[object Boolean]",cqe=Object.prototype,lqe=cqe.toString;function uqe(t){return t===!0||t===!1||fqe(t)&&lqe.call(t)==aqe}s(uqe,"isBoolean");function fqe(t){return!!t&&typeof t=="object"}s(fqe,"isObjectLike");Hde.exports=uqe});var $de=T((srr,jde)=>{d();var Vde=1/0,dqe=17976931348623157e292,Wde=NaN,hqe="[object Symbol]",Aqe=/^\s+|\s+$/g,pqe=/^[-+]0x[0-9a-f]+$/i,mqe=/^0b[01]+$/i,gqe=/^0o[0-7]+$/i,Cqe=parseInt,yqe=Object.prototype,Eqe=yqe.toString;function Iqe(t){return typeof t=="number"&&t==_qe(t)}s(Iqe,"isInteger");function Yde(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}s(Yde,"isObject");function xqe(t){return!!t&&typeof t=="object"}s(xqe,"isObjectLike");function vqe(t){return typeof t=="symbol"||xqe(t)&&Eqe.call(t)==hqe}s(vqe,"isSymbol");function bqe(t){if(!t)return t===0?t:0;if(t=Tqe(t),t===Vde||t===-Vde){var e=t<0?-1:1;return e*dqe}return t===t?t:0}s(bqe,"toFinite");function _qe(t){var e=bqe(t),r=e%1;return e===e?r?e-r:e:0}s(_qe,"toInteger");function Tqe(t){if(typeof t=="number")return t;if(vqe(t))return Wde;if(Yde(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Yde(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Aqe,"");var r=mqe.test(t);return r||gqe.test(t)?Cqe(t.slice(2),r?2:8):pqe.test(t)?Wde:+t}s(Tqe,"toNumber");jde.exports=Iqe});var Kde=T((lrr,zde)=>{d();var wqe="[object Number]",Sqe=Object.prototype,Bqe=Sqe.toString;function Rqe(t){return!!t&&typeof t=="object"}s(Rqe,"isObjectLike");function kqe(t){return typeof t=="number"||Rqe(t)&&Bqe.call(t)==wqe}s(kqe,"isNumber");zde.exports=kqe});var ehe=T((drr,Zde)=>{d();var Dqe="[object Object]";function Nqe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}s(Nqe,"isHostObject");function Qqe(t,e){return function(r){return t(e(r))}}s(Qqe,"overArg");var Pqe=Function.prototype,Jde=Object.prototype,Xde=Pqe.toString,Fqe=Jde.hasOwnProperty,Lqe=Xde.call(Object),Mqe=Jde.toString,Oqe=Qqe(Object.getPrototypeOf,Object);function Uqe(t){return!!t&&typeof t=="object"}s(Uqe,"isObjectLike");function qqe(t){if(!Uqe(t)||Mqe.call(t)!=Dqe||Nqe(t))return!1;var e=Oqe(t);if(e===null)return!0;var r=Fqe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Xde.call(r)==Lqe}s(qqe,"isPlainObject");Zde.exports=qqe});var rhe=T((prr,the)=>{d();var Hqe="[object String]",Gqe=Object.prototype,Vqe=Gqe.toString,Wqe=Array.isArray;function Yqe(t){return!!t&&typeof t=="object"}s(Yqe,"isObjectLike");function jqe(t){return typeof t=="string"||!Wqe(t)&&Yqe(t)&&Vqe.call(t)==Hqe}s(jqe,"isString");the.exports=jqe});var ahe=T((Crr,she)=>{d();var $qe="Expected a function",nhe=1/0,zqe=17976931348623157e292,ihe=NaN,Kqe="[object Symbol]",Jqe=/^\s+|\s+$/g,Xqe=/^[-+]0x[0-9a-f]+$/i,Zqe=/^0b[01]+$/i,eHe=/^0o[0-7]+$/i,tHe=parseInt,rHe=Object.prototype,nHe=rHe.toString;function iHe(t,e){var r;if(typeof e!="function")throw new TypeError($qe);return t=lHe(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}s(iHe,"before");function oHe(t){return iHe(2,t)}s(oHe,"once");function ohe(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}s(ohe,"isObject");function sHe(t){return!!t&&typeof t=="object"}s(sHe,"isObjectLike");function aHe(t){return typeof t=="symbol"||sHe(t)&&nHe.call(t)==Kqe}s(aHe,"isSymbol");function cHe(t){if(!t)return t===0?t:0;if(t=uHe(t),t===nhe||t===-nhe){var e=t<0?-1:1;return e*zqe}return t===t?t:0}s(cHe,"toFinite");function lHe(t){var e=cHe(t),r=e%1;return e===e?r?e-r:e:0}s(lHe,"toInteger");function uHe(t){if(typeof t=="number")return t;if(aHe(t))return ihe;if(ohe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ohe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Jqe,"");var r=Zqe.test(t);return r||eHe.test(t)?tHe(t.slice(2),r?2:8):Xqe.test(t)?ihe:+t}s(uHe,"toNumber");she.exports=oHe});var mhe=T((Irr,phe)=>{d();var che=rH(),fHe=xH(),dHe=IH(),lhe=xR(),hHe=qde(),HR=Gde(),uhe=$de(),BH=Kde(),dhe=ehe(),op=rhe(),AHe=ahe(),{KeyObject:pHe,createSecretKey:mHe,createPrivateKey:gHe}=require("crypto"),hhe=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];fHe&&hhe.splice(3,0,"PS256","PS384","PS512");var CHe={expiresIn:{isValid:s(function(t){return uhe(t)||op(t)&&t},"isValid"),message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:s(function(t){return uhe(t)||op(t)&&t},"isValid"),message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:s(function(t){return op(t)||Array.isArray(t)},"isValid"),message:'"audience" must be a string or array'},algorithm:{isValid:hHe.bind(null,hhe),message:'"algorithm" must be a valid string enum value'},header:{isValid:dhe,message:'"header" must be an object'},encoding:{isValid:op,message:'"encoding" must be a string'},issuer:{isValid:op,message:'"issuer" must be a string'},subject:{isValid:op,message:'"subject" must be a string'},jwtid:{isValid:op,message:'"jwtid" must be a string'},noTimestamp:{isValid:HR,message:'"noTimestamp" must be a boolean'},keyid:{isValid:op,message:'"keyid" must be a string'},mutatePayload:{isValid:HR,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:HR,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:HR,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},yHe={iat:{isValid:BH,message:'"iat" should be a number of seconds'},exp:{isValid:BH,message:'"exp" should be a number of seconds'},nbf:{isValid:BH,message:'"nbf" should be a number of seconds'}};function Ahe(t,e,r,n){if(!dhe(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(o){let a=t[o];if(!a){if(!e)throw new Error('"'+o+'" is not allowed in "'+n+'"');return}if(!a.isValid(r[o]))throw new Error(a.message)})}s(Ahe,"validate");function EHe(t){return Ahe(CHe,!1,t,"options")}s(EHe,"validateOptions");function IHe(t){return Ahe(yHe,!0,t,"payload")}s(IHe,"validatePayload");var fhe={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},xHe=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];phe.exports=function(t,e,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let o=typeof t=="object"&&!Buffer.isBuffer(t),a=Object.assign({alg:r.algorithm||"HS256",typ:o?"JWT":void 0,kid:r.keyid},r.header);function c(f){if(n)return n(f);throw f}if(s(c,"failure"),!e&&r.algorithm!=="none")return c(new Error("secretOrPrivateKey must have a value"));if(e!=null&&!(e instanceof pHe))try{e=gHe(e)}catch{try{e=mHe(typeof e=="string"?Buffer.from(e):e)}catch{return c(new Error("secretOrPrivateKey is not valid key material"))}}if(a.alg.startsWith("HS")&&e.type!=="secret")return c(new Error(`secretOrPrivateKey must be a symmetric key when using ${a.alg}`));if(/^(?:RS|PS|ES)/.test(a.alg)){if(e.type!=="private")return c(new Error(`secretOrPrivateKey must be an asymmetric key when using ${a.alg}`));if(!r.allowInsecureKeySizes&&!a.alg.startsWith("ES")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return c(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`))}if(typeof t>"u")return c(new Error("payload is required"));if(o){try{IHe(t)}catch(f){return c(f)}r.mutatePayload||(t=Object.assign({},t))}else{let f=xHe.filter(function(h){return typeof r[h]<"u"});if(f.length>0)return c(new Error("invalid "+f.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp<"u"&&typeof r.expiresIn<"u")return c(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf<"u"&&typeof r.notBefore<"u")return c(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{EHe(r)}catch(f){return c(f)}if(!r.allowInvalidAsymmetricKeyTypes)try{dHe(a.alg,e)}catch(f){return c(f)}let l=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:o&&(t.iat=l),typeof r.notBefore<"u"){try{t.nbf=che(r.notBefore,l)}catch(f){return c(f)}if(typeof t.nbf>"u")return c(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof t=="object"){try{t.exp=che(r.expiresIn,l)}catch(f){return c(f)}if(typeof t.exp>"u")return c(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(fhe).forEach(function(f){let h=fhe[f];if(typeof r[f]<"u"){if(typeof t[h]<"u")return c(new Error('Bad "options.'+f+'" option. The payload already has an "'+h+'" property.'));t[h]=r[f]}});let u=r.encoding||"utf8";if(typeof n=="function")n=n&&AHe(n),lhe.createSign({header:a,privateKey:e,payload:t,encoding:u}).once("error",n).once("done",function(f){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(a.alg)&&f.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`));n(null,f)});else{let f=lhe.sign({header:a,payload:t,secret:e,encoding:u});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(a.alg)&&f.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`);return f}}});var Che=T((brr,ghe)=>{d();ghe.exports={decode:Xq(),verify:Pde(),sign:mhe(),JsonWebTokenError:$_(),NotBeforeError:Zq(),TokenExpiredError:eH()}});var oG=T((slr,dAe)=>{d();function xGe(t){r.debug=r,r.default=r,r.coerce=u,r.disable=a,r.enable=o,r.enabled=c,r.humanize=tH(),r.destroy=f,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let A=0;for(let p=0;p<h.length;p++)A=(A<<5)-A+h.charCodeAt(p),A|=0;return r.colors[Math.abs(A)%r.colors.length]}s(e,"selectColor"),r.selectColor=e;function r(h){let A,p=null,m,g;function y(...E){if(!y.enabled)return;let I=y,x=Number(new Date),v=x-(A||x);I.diff=v,I.prev=A,I.curr=x,A=x,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let b=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(S,w)=>{if(S==="%%")return"%";b++;let L=r.formatters[w];if(typeof L=="function"){let M=E[b];S=L.call(I,M),E.splice(b,1),b--}return S}),r.formatArgs.call(I,E),(I.log||r.log).apply(I,E)}return s(y,"debug"),y.namespace=h,y.useColors=r.useColors(),y.color=r.selectColor(h),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:s(()=>p!==null?p:(m!==r.namespaces&&(m=r.namespaces,g=r.enabled(h)),g),"get"),set:s(E=>{p=E},"set")}),typeof r.init=="function"&&r.init(y),y}s(r,"createDebug");function n(h,A){let p=r(this.namespace+(typeof A>"u"?":":A)+h);return p.log=this.log,p}s(n,"extend");function o(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let A,p=(typeof h=="string"?h:"").split(/[\s,]+/),m=p.length;for(A=0;A<m;A++)p[A]&&(h=p[A].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}s(o,"enable");function a(){let h=[...r.names.map(l),...r.skips.map(l).map(A=>"-"+A)].join(",");return r.enable(""),h}s(a,"disable");function c(h){if(h[h.length-1]==="*")return!0;let A,p;for(A=0,p=r.skips.length;A<p;A++)if(r.skips[A].test(h))return!1;for(A=0,p=r.names.length;A<p;A++)if(r.names[A].test(h))return!0;return!1}s(c,"enabled");function l(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}s(l,"toNamespace");function u(h){return h instanceof Error?h.stack||h.message:h}s(u,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(f,"destroy"),r.enable(r.load()),r}s(xGe,"setup");dAe.exports=xGe});var hAe=T((qc,g6)=>{d();qc.formatArgs=bGe;qc.save=_Ge;qc.load=TGe;qc.useColors=vGe;qc.storage=wGe();qc.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();qc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vGe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(vGe,"useColors");function bGe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+g6.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(r++,o==="%c"&&(n=r))}),t.splice(n,0,e)}s(bGe,"formatArgs");qc.log=console.debug||console.log||(()=>{});function _Ge(t){try{t?qc.storage.setItem("debug",t):qc.storage.removeItem("debug")}catch{}}s(_Ge,"save");function TGe(){let t;try{t=qc.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}s(TGe,"load");function wGe(){try{return localStorage}catch{}}s(wGe,"localstorage");g6.exports=oG()(qc);var{formatters:SGe}=g6.exports;SGe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var pAe=T((flr,AAe)=>{"use strict";d();AAe.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),o=e.indexOf("--");return n!==-1&&(o===-1||n<o)}});var CAe=T((hlr,gAe)=>{"use strict";d();var BGe=require("os"),mAe=require("tty"),P0=pAe(),{env:qo}=process,up;P0("no-color")||P0("no-colors")||P0("color=false")||P0("color=never")?up=0:(P0("color")||P0("colors")||P0("color=true")||P0("color=always"))&&(up=1);"FORCE_COLOR"in qo&&(qo.FORCE_COLOR==="true"?up=1:qo.FORCE_COLOR==="false"?up=0:up=qo.FORCE_COLOR.length===0?1:Math.min(parseInt(qo.FORCE_COLOR,10),3));function sG(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}s(sG,"translateLevel");function aG(t,e){if(up===0)return 0;if(P0("color=16m")||P0("color=full")||P0("color=truecolor"))return 3;if(P0("color=256"))return 2;if(t&&!e&&up===void 0)return 0;let r=up||0;if(qo.TERM==="dumb")return r;if(process.platform==="win32"){let n=BGe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in qo)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in qo)||qo.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in qo)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(qo.TEAMCITY_VERSION)?1:0;if(qo.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in qo){let n=parseInt((qo.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(qo.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(qo.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(qo.TERM)||"COLORTERM"in qo?1:r}s(aG,"supportsColor");function RGe(t){let e=aG(t,t&&t.isTTY);return sG(e)}s(RGe,"getSupportLevel");gAe.exports={supportsColor:RGe,stdout:sG(aG(!0,mAe.isatty(1))),stderr:sG(aG(!0,mAe.isatty(2)))}});var EAe=T((ds,y6)=>{d();var kGe=require("tty"),C6=require("util");ds.init=MGe;ds.log=PGe;ds.formatArgs=NGe;ds.save=FGe;ds.load=LGe;ds.useColors=DGe;ds.destroy=C6.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ds.colors=[6,2,3,4,5,1];try{let t=CAe();t&&(t.stderr||t).level>=2&&(ds.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ds.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,a)=>a.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function DGe(){return"colors"in ds.inspectOpts?!!ds.inspectOpts.colors:kGe.isatty(process.stderr.fd)}s(DGe,"useColors");function NGe(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,o="\x1B[3"+(n<8?n:"8;5;"+n),a=`  ${o};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(o+"m+"+y6.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=QGe()+e+" "+t[0]}s(NGe,"formatArgs");function QGe(){return ds.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(QGe,"getDate");function PGe(...t){return process.stderr.write(C6.format(...t)+`
`)}s(PGe,"log");function FGe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}s(FGe,"save");function LGe(){return process.env.DEBUG}s(LGe,"load");function MGe(t){t.inspectOpts={};let e=Object.keys(ds.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=ds.inspectOpts[e[r]]}s(MGe,"init");y6.exports=oG()(ds);var{formatters:yAe}=y6.exports;yAe.o=function(t){return this.inspectOpts.colors=this.useColors,C6.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};yAe.O=function(t){return this.inspectOpts.colors=this.useColors,C6.inspect(t,this.inspectOpts)}});var Xu=T((Clr,cG)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?cG.exports=hAe():cG.exports=EAe()});var vAe=T(Ya=>{"use strict";d();var OGe=Ya&&Ya.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UGe=Ya&&Ya.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IAe=Ya&&Ya.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OGe(e,t,r);return UGe(e,t),e};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.req=Ya.json=Ya.toBuffer=void 0;var qGe=IAe(require("http")),HGe=IAe(require("https"));async function xAe(t){let e=0,r=[];for await(let n of t)e+=n.length,r.push(n);return Buffer.concat(r,e)}s(xAe,"toBuffer");Ya.toBuffer=xAe;async function GGe(t){let r=(await xAe(t)).toString("utf8");try{return JSON.parse(r)}catch(n){let o=n;throw o.message+=` (input: ${r})`,o}}s(GGe,"json");Ya.json=GGe;function VGe(t,e={}){let n=((typeof t=="string"?t:t.href).startsWith("https:")?HGe:qGe).request(t,e),o=new Promise((a,c)=>{n.once("response",a).once("error",c).end()});return n.then=o.then.bind(o),n}s(VGe,"req");Ya.req=VGe});var uG=T(Hc=>{"use strict";d();var _Ae=Hc&&Hc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WGe=Hc&&Hc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TAe=Hc&&Hc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_Ae(e,t,r);return WGe(e,t),e},YGe=Hc&&Hc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_Ae(e,t,r)};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.Agent=void 0;var jGe=TAe(require("net")),bAe=TAe(require("http")),$Ge=require("https");YGe(vAe(),Hc);var Zu=Symbol("AgentBaseInternalState"),lG=class extends bAe.Agent{static{s(this,"Agent")}constructor(e){super(e),this[Zu]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?!1:r.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let r=new jGe.Socket({writable:!1});return this.sockets[e].push(r),this.totalSocketCount++,r}decrementSockets(e,r){if(!this.sockets[e]||r===null)return;let n=this.sockets[e],o=n.indexOf(r);o!==-1&&(n.splice(o,1),this.totalSocketCount--,n.length===0&&delete this.sockets[e])}getName(e){return(typeof e.secureEndpoint=="boolean"?e.secureEndpoint:this.isSecureEndpoint(e))?$Ge.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,r,n){let o={...r,secureEndpoint:this.isSecureEndpoint(r)},a=this.getName(o),c=this.incrementSockets(a);Promise.resolve().then(()=>this.connect(e,o)).then(l=>{if(this.decrementSockets(a,c),l instanceof bAe.Agent)return l.addRequest(e,o);this[Zu].currentSocket=l,super.createSocket(e,r,n)},l=>{this.decrementSockets(a,c),n(l)})}createConnection(){let e=this[Zu].currentSocket;if(this[Zu].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[Zu].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[Zu]&&(this[Zu].defaultPort=e)}get protocol(){return this[Zu].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[Zu]&&(this[Zu].protocol=e)}};Hc.Agent=lG});var wAe=T(cI=>{"use strict";d();var zGe=cI&&cI.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cI,"__esModule",{value:!0});cI.parseProxyResponse=void 0;var KGe=zGe(Xu()),E6=(0,KGe.default)("https-proxy-agent:parse-proxy-response");function JGe(t){return new Promise((e,r)=>{let n=0,o=[];function a(){let h=t.read();h?f(h):t.once("readable",a)}s(a,"read");function c(){t.removeListener("end",l),t.removeListener("error",u),t.removeListener("readable",a)}s(c,"cleanup");function l(){c(),E6("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}s(l,"onend");function u(h){c(),E6("onerror %o",h),r(h)}s(u,"onerror");function f(h){o.push(h),n+=h.length;let A=Buffer.concat(o,n),p=A.indexOf(`\r
\r
`);if(p===-1){E6("have not received end of HTTP headers yet..."),a();return}let m=A.slice(0,p).toString("ascii").split(`\r
`),g=m.shift();if(!g)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let y=g.split(" "),E=+y[1],I=y.slice(2).join(" "),x={};for(let v of m){if(!v)continue;let b=v.indexOf(":");if(b===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${v}"`));let _=v.slice(0,b).toLowerCase(),S=v.slice(b+1).trimStart(),w=x[_];typeof w=="string"?x[_]=[w,S]:Array.isArray(w)?w.push(S):x[_]=S}E6("got proxy server response: %o %o",g,x),c(),e({connect:{statusCode:E,statusText:I,headers:x},buffered:A})}s(f,"ondata"),t.on("error",u),t.on("end",l),a()})}s(JGe,"parseProxyResponse");cI.parseProxyResponse=JGe});var DAe=T(F0=>{"use strict";d();var XGe=F0&&F0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ZGe=F0&&F0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RAe=F0&&F0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&XGe(e,t,r);return ZGe(e,t),e},kAe=F0&&F0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(F0,"__esModule",{value:!0});F0.HttpsProxyAgent=void 0;var fG=RAe(require("net")),SAe=RAe(require("tls")),eVe=kAe(require("assert")),tVe=kAe(Xu()),rVe=uG(),nVe=require("url"),iVe=wAe(),A5=(0,tVe.default)("https-proxy-agent"),I6=class extends rVe.Agent{static{s(this,"HttpsProxyAgent")}constructor(e,r){super(r),this.options={path:void 0},this.proxy=typeof e=="string"?new nVe.URL(e):e,this.proxyHeaders=r?.headers??{},A5("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),o=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?BAe(r,"headers"):null,host:n,port:o}}async connect(e,r){let{proxy:n}=this;if(!r.host)throw new TypeError('No "host" provided');let o;if(n.protocol==="https:"){A5("Creating `tls.Socket`: %o",this.connectOpts);let p=this.connectOpts.servername||this.connectOpts.host;o=SAe.connect({...this.connectOpts,servername:p})}else A5("Creating `net.Socket`: %o",this.connectOpts),o=fG.connect(this.connectOpts);let a=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},c=fG.isIPv6(r.host)?`[${r.host}]`:r.host,l=`CONNECT ${c}:${r.port} HTTP/1.1\r
`;if(n.username||n.password){let p=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(p).toString("base64")}`}a.Host=`${c}:${r.port}`,a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let p of Object.keys(a))l+=`${p}: ${a[p]}\r
`;let u=(0,iVe.parseProxyResponse)(o);o.write(`${l}\r
`);let{connect:f,buffered:h}=await u;if(e.emit("proxyConnect",f),this.emit("proxyConnect",f,e),f.statusCode===200){if(e.once("socket",oVe),r.secureEndpoint){A5("Upgrading socket connection to TLS");let p=r.servername||r.host;return SAe.connect({...BAe(r,"host","path","port"),socket:o,servername:p})}return o}o.destroy();let A=new fG.Socket({writable:!1});return A.readable=!0,e.once("socket",p=>{A5("Replaying proxy buffer for failed request"),(0,eVe.default)(p.listenerCount("data")>0),p.push(h),p.push(null)}),A}};I6.protocols=["http","https"];F0.HttpsProxyAgent=I6;function oVe(t){t.resume()}s(oVe,"resume");function BAe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}s(BAe,"omit")});var PAe=T(L0=>{"use strict";d();var sVe=L0&&L0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aVe=L0&&L0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QAe=L0&&L0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sVe(e,t,r);return aVe(e,t),e},cVe=L0&&L0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(L0,"__esModule",{value:!0});L0.HttpProxyAgent=void 0;var lVe=QAe(require("net")),uVe=QAe(require("tls")),fVe=cVe(Xu()),dVe=require("events"),hVe=uG(),NAe=require("url"),lI=(0,fVe.default)("http-proxy-agent"),x6=class extends hVe.Agent{static{s(this,"HttpProxyAgent")}constructor(e,r){super(r),this.proxy=typeof e=="string"?new NAe.URL(e):e,this.proxyHeaders=r?.headers??{},lI("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),o=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...r?AVe(r,"headers"):null,host:n,port:o}}addRequest(e,r){e._header=null,this.setRequestProps(e,r),super.addRequest(e,r)}setRequestProps(e,r){let{proxy:n}=this,o=r.secureEndpoint?"https:":"http:",a=e.getHeader("host")||"localhost",c=`${o}//${a}`,l=new NAe.URL(e.path,c);r.port!==80&&(l.port=String(r.port)),e.path=String(l);let u=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let f=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;u["Proxy-Authorization"]=`Basic ${Buffer.from(f).toString("base64")}`}u["Proxy-Connection"]||(u["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let f of Object.keys(u)){let h=u[f];h&&e.setHeader(f,h)}}async connect(e,r){e._header=null,e.path.includes("://")||this.setRequestProps(e,r);let n,o;lI("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(lI("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,o=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(o),lI("Output buffer: %o",e.outputData[0].data));let a;return this.proxy.protocol==="https:"?(lI("Creating `tls.Socket`: %o",this.connectOpts),a=uVe.connect(this.connectOpts)):(lI("Creating `net.Socket`: %o",this.connectOpts),a=lVe.connect(this.connectOpts)),await(0,dVe.once)(a,"connect"),a}};x6.protocols=["http","https"];L0.HttpProxyAgent=x6;function AVe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}s(AVe,"omit")});var ape=T(M6=>{"use strict";d();Object.defineProperty(M6,"__esModule",{value:!0});M6.state=void 0;M6.state={operationRequestMap:new WeakMap}});function bWe(){try{return HG.default.statSync("/.dockerenv"),!0}catch{return!1}}function _We(){try{return HG.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}function GG(){return qG===void 0&&(qG=bWe()||_We()),qG}var HG,qG,xpe=h0(()=>{d();HG=We(require("node:fs"),1);s(bWe,"hasDockerEnv");s(_We,"hasDockerCGroup");s(GG,"isDocker")});function hI(){return VG===void 0&&(VG=TWe()||GG()),VG}var vpe,VG,TWe,WG=h0(()=>{d();vpe=We(require("node:fs"),1);xpe();TWe=s(()=>{try{return vpe.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");s(hI,"isInsideContainer")});var YG,_pe,Tpe,bpe,Ap,jG=h0(()=>{d();YG=We(require("node:process"),1),_pe=We(require("node:os"),1),Tpe=We(require("node:fs"),1);WG();bpe=s(()=>{if(YG.default.platform!=="linux")return!1;if(_pe.default.release().toLowerCase().includes("microsoft"))return!hI();try{return Tpe.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!hI():!1}catch{return!1}},"isWsl"),Ap=YG.default.env.__IS_WSL_TEST__?bpe:bpe()});var $G,E5,wWe,SWe,zG,wpe=h0(()=>{d();$G=We(require("node:process"),1),E5=We(require("node:fs/promises"),1);jG();jG();wWe=(()=>{let t="/mnt/",e;return async function(){if(e)return e;let r="/etc/wsl.conf",n=!1;try{await E5.default.access(r,E5.constants.F_OK),n=!0}catch{}if(!n)return t;let o=await E5.default.readFile(r,{encoding:"utf8"}),a=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return a?(e=a.groups.mountPoint.trim(),e=e.endsWith("/")?e:`${e}/`,e):t}})(),SWe=s(async()=>`${await wWe()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`,"powerShellPathFromWsl"),zG=s(async()=>Ap?SWe():`${$G.default.env.SYSTEMROOT||$G.default.env.windir||String.raw`C:\Windows`}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`,"powerShellPath")});function pp(t,e,r){let n=s(o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),"define");return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let o=r();return n(o),o},set(o){n(o)}}),t}var Spe=h0(()=>{d();s(pp,"defineLazyProperty")});async function KG(){if(Rpe.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await BWe("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(t)?.groups.id??"com.apple.Safari"}var Bpe,Rpe,kpe,BWe,Dpe=h0(()=>{d();Bpe=require("node:util"),Rpe=We(require("node:process"),1),kpe=require("node:child_process"),BWe=(0,Bpe.promisify)(kpe.execFile);s(KG,"defaultBrowserId")});async function Ppe(t,{humanReadableOutput:e=!0}={}){if(Npe.default.platform!=="darwin")throw new Error("macOS only");let r=e?[]:["-ss"],{stdout:n}=await RWe("osascript",["-e",t,r]);return n.trim()}var Npe,Qpe,JG,RWe,Fpe=h0(()=>{d();Npe=We(require("node:process"),1),Qpe=require("node:util"),JG=require("node:child_process"),RWe=(0,Qpe.promisify)(JG.execFile);s(Ppe,"runAppleScript")});async function XG(t){return Ppe(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}var Lpe=h0(()=>{d();Fpe();s(XG,"bundleName")});async function ZG(t=kWe){let{stdout:e}=await t("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(e);if(!r)throw new U6(`Cannot find Windows browser in stdout: ${JSON.stringify(e)}`);let{id:n}=r.groups,o=DWe[n];if(!o)throw new U6(`Unknown browser ID: ${n}`);return o}var Mpe,Ope,kWe,DWe,U6,Upe=h0(()=>{d();Mpe=require("node:util"),Ope=require("node:child_process"),kWe=(0,Mpe.promisify)(Ope.execFile),DWe={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},U6=class extends Error{static{s(this,"UnknownBrowserError")}};s(ZG,"defaultBrowser")});async function eV(){if(q6.default.platform==="darwin"){let t=await KG();return{name:await XG(t),id:t}}if(q6.default.platform==="linux"){let{stdout:t}=await NWe("xdg-mime",["query","default","x-scheme-handler/http"]),e=t.trim();return{name:QWe(e.replace(/.desktop$/,"").replace("-"," ")),id:e}}if(q6.default.platform==="win32")return ZG();throw new Error("Only macOS, Linux, and Windows are supported")}var qpe,q6,Hpe,NWe,QWe,Gpe=h0(()=>{d();qpe=require("node:util"),q6=We(require("node:process"),1),Hpe=require("node:child_process");Dpe();Lpe();Upe();NWe=(0,qpe.promisify)(Hpe.execFile),QWe=s(t=>t.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,e=>e.toUpperCase()),"titleize");s(eV,"defaultBrowser")});var Kpe={};Ei(Kpe,{apps:()=>mp,default:()=>OWe,openApp:()=>MWe});async function FWe(){let t=await zG(),e=String.raw`(Get-ItemProperty -Path "HKCU:\Software\Microsoft\Windows\Shell\Associations\UrlAssociations\http\UserChoice").ProgId`,r=nV.Buffer.from(e,"utf16le").toString("base64"),{stdout:n}=await PWe(t,["-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand",r],{encoding:"utf8"}),o=n.trim(),a={ChromeHTML:"com.google.chrome",BraveHTML:"com.brave.Browser",MSEdgeHTM:"com.microsoft.edge",FirefoxURL:"org.mozilla.firefox"};return a[o]?{id:a[o]}:{}}function jpe(t){if(typeof t=="string"||Array.isArray(t))return t;let{[Wpe]:e}=t;if(!e)throw new Error(`${Wpe} is not supported`);return e}function G6({[AI]:t},{wsl:e}){if(e&&Ap)return jpe(e);if(!t)throw new Error(`${AI} is not supported`);return jpe(t)}var rV,nV,iV,$pe,zpe,oV,H6,PWe,tV,Vpe,AI,Wpe,Ype,I5,LWe,MWe,mp,OWe,Jpe=h0(()=>{d();rV=We(require("node:process"),1),nV=require("node:buffer"),iV=We(require("node:path"),1),$pe=require("node:url"),zpe=require("node:util"),oV=We(require("node:child_process"),1),H6=We(require("node:fs/promises"),1);wpe();Spe();Gpe();WG();PWe=(0,zpe.promisify)(oV.default.execFile),tV=iV.default.dirname((0,$pe.fileURLToPath)(importMetaUrlShim)),Vpe=iV.default.join(tV,"xdg-open"),{platform:AI,arch:Wpe}=rV.default;s(FWe,"getWindowsDefaultBrowserFromWsl");Ype=s(async(t,e)=>{let r;for(let n of t)try{return await e(n)}catch(o){r=o}throw r},"pTryEach"),I5=s(async t=>{if(t={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return Ype(t.app,l=>I5({...t,app:l}));let{name:e,arguments:r=[]}=t.app??{};if(r=[...r],Array.isArray(e))return Ype(e,l=>I5({...t,app:{name:l,arguments:r}}));if(e==="browser"||e==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","com.brave.Browser":"brave","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},u={chrome:"--incognito",brave:"--incognito",firefox:"--private-window",edge:"--inPrivate"},f=Ap?await FWe():await eV();if(f.id in l){let h=l[f.id];return e==="browserPrivate"&&r.push(u[h]),I5({...t,app:{name:mp[h],arguments:r}})}throw new Error(`${f.name} is not supported as a default browser`)}let n,o=[],a={};if(AI==="darwin")n="open",t.wait&&o.push("--wait-apps"),t.background&&o.push("--background"),t.newInstance&&o.push("--new"),e&&o.push("-a",e);else if(AI==="win32"||Ap&&!hI()&&!e){n=await zG(),o.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),Ap||(a.windowsVerbatimArguments=!0);let l=["Start"];t.wait&&l.push("-Wait"),e?(l.push(`"\`"${e}\`""`),t.target&&r.push(t.target)):t.target&&l.push(`"${t.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),l.push("-ArgumentList",r.join(","))),t.target=nV.Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(e)n=e;else{let l=!tV||tV==="/",u=!1;try{await H6.default.access(Vpe,H6.constants.X_OK),u=!0}catch{}n=rV.default.versions.electron??(AI==="android"||l||!u)?"xdg-open":Vpe}r.length>0&&o.push(...r),t.wait||(a.stdio="ignore",a.detached=!0)}AI==="darwin"&&r.length>0&&o.push("--args",...r),t.target&&o.push(t.target);let c=oV.default.spawn(n,o,a);return t.wait?new Promise((l,u)=>{c.once("error",u),c.once("close",f=>{if(!t.allowNonzeroExitCode&&f>0){u(new Error(`Exited with code ${f}`));return}l(c)})}):(c.unref(),c)},"baseOpen"),LWe=s((t,e)=>{if(typeof t!="string")throw new TypeError("Expected a `target`");return I5({...e,target:t})},"open"),MWe=s((t,e)=>{if(typeof t!="string"&&!Array.isArray(t))throw new TypeError("Expected a valid `name`");let{arguments:r=[]}=e??{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return I5({...e,app:{name:t,arguments:r}})},"openApp");s(jpe,"detectArchBinary");s(G6,"detectPlatformBinary");mp={};pp(mp,"chrome",()=>G6({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));pp(mp,"brave",()=>G6({darwin:"brave browser",win32:"brave",linux:["brave-browser","brave"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe",x64:["/mnt/c/Program Files/BraveSoftware/Brave-Browser/Application/brave.exe","/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe"]}}));pp(mp,"firefox",()=>G6({darwin:"firefox",win32:String.raw`C:\Program Files\Mozilla Firefox\firefox.exe`,linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));pp(mp,"edge",()=>G6({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));pp(mp,"browser",()=>"browser");pp(mp,"browserPrivate",()=>"browserPrivate");OWe=LWe});var L1e=T(uf=>{"use strict";d();Object.defineProperty(uf,"__esModule",{value:!0});uf.bytePairEncode=uf.BinaryMap=uf.binaryMapKey=void 0;var iJe=s((t,e,r)=>{let n=r-e,o=16777215>>>Math.max(0,(3-n)*8),a=(t[e+0]|t[e+1]<<8|t[e+2]<<16)&o,c=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(t[e+3]|t[e+4]<<8|t[e+5]<<16)&c;return a+16777216*l},"binaryMapKey");uf.binaryMapKey=iJe;var aW=class t{static{s(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(e,r=0,n=e.length){let o=n<6+r,a=(0,uf.binaryMapKey)(e,r,n);return o?this.final.get(a):this.nested.get(a)?.get(e,6+r,n)}set(e,r){let n=(0,uf.binaryMapKey)(e,0,e.length);if(e.length<6){this.final.set(n,r);return}let a=this.nested.get(n);if(a instanceof t)a.set(e.subarray(6),r);else{let c=new t;c.set(e.subarray(6),r),this.nested.set(n,c)}}};uf.BinaryMap=aW;var lf=new Int32Array(128),Aa=new Int32Array(128);function oJe(t,e,r){if(r===1)return[e.get(t)];let n=2147483647,o=-1;for(;lf.length<r*2;)Aa=new Int32Array(Aa.length*2),lf=new Int32Array(lf.length*2);for(let u=0;u<r-1;u++){let f=e.get(t,u,u+2)??2147483647;f<n&&(n=f,o=u),Aa[u]=u,lf[u]=f}Aa[r-1]=r-1,lf[r-1]=2147483647,Aa[r]=r,lf[r]=2147483647;let a=r+1;function c(u,f=0){if(u+f+2<a){let h=e.get(t,Aa[u],Aa[u+f+2]);if(h!==void 0)return h}return 2147483647}for(s(c,"getRank");n!==2147483647;){lf[Aa[o]]=c(o,1),o>0&&(lf[Aa[o-1]]=c(o-1,1));for(let u=o+1;u<a-1;u++)Aa[u]=Aa[u+1];a--,o=-1,n=2147483647;for(let u=0;u<a-1;u++){let f=lf[Aa[u]];lf[Aa[u]]<n&&(n=f,o=u)}}let l=[];for(let u=0;u<a-1;u++)l.push(e.get(t,Aa[u],Aa[u+1]));return l}s(oJe,"bytePairEncode");uf.bytePairEncode=oJe});var M1e=T(b9=>{"use strict";d();Object.defineProperty(b9,"__esModule",{value:!0});b9.makeTextEncoder=void 0;var cW=class{static{s(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(e){let r=this.encoder.encode(e);return this.length=r.length,r}},lW=class{static{s(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(e){for(;;){if(this.length=this.buffer.write(e,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(e)}}},sJe=s(()=>typeof Buffer<"u"?new lW:new cW,"makeTextEncoder");b9.makeTextEncoder=sJe});var O1e=T(_9=>{"use strict";d();Object.defineProperty(_9,"__esModule",{value:!0});_9.LRUCache=void 0;var uW=class{static{s(this,"LRUCache")}constructor(e){this.size=e,this.nodes=new Map}get(e){let r=this.nodes.get(e);if(r)return this.moveToHead(r),r.value}set(e,r){let n=this.nodes.get(e);if(n)n.value=r,this.moveToHead(n);else{let o=new fW(e,r);this.nodes.set(e,o),this.addNode(o),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(e){this.removeNode(e),e.next=void 0,e.prev=void 0,this.addNode(e)}addNode(e){this.head&&(this.head.prev=e,e.next=this.head),this.tail||(this.tail=e),this.head=e}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}};_9.LRUCache=uW;var fW=class{static{s(this,"Node")}constructor(e,r){this.key=e,this.value=r}}});var hW=T(w9=>{"use strict";d();Object.defineProperty(w9,"__esModule",{value:!0});w9.TikTokenizer=void 0;var T9=L1e(),aJe=M1e(),cJe=O1e();function lJe(t){let e=new Map;try{let o=require("fs").readFileSync(t,"utf-8");return r(o),e}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let o of n.split(/[\r\n]+/)){if(o.trim()==="")continue;let a=o.split(" ");if(a.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let c=new Uint8Array(Buffer.from(a[0],"base64")),l=parseInt(a[1]);if(!isNaN(l))e.set(c,l);else throw new Error(`Can't parse ${a[1]} to integer`)}}s(r,"processBpeRanks")}s(lJe,"loadTikTokenBpe");function uJe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(uJe,"escapeRegExp");var dW=class{static{s(this,"TikTokenizer")}constructor(e,r,n,o=8192){this.textEncoder=(0,aJe.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new cJe.LRUCache(o);let a=typeof e=="string"?lJe(e):e;this.init(a,r,n)}init(e,r,n){this.encoder=new T9.BinaryMap;for(let[o,a]of e)this.encoder.set(o,a);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(o=>uJe(o)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[o,a]of e)this.decoder.set(a,o);if(e.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[o,a]of r)this.specialTokensDecoder.set(a,o)}findNextSpecialToken(e,r,n){let o=r,a=null;if(n&&this.specialTokensRegex)for(;a=e.slice(o).match(this.specialTokensRegex),!(!a||n&&n.includes(a[0]));)o+=a.index+1;let c=a?o+a.index:e.length;return[a,c]}encode(e,r){let n=[],o=0;for(;;){let a,c;if([a,c]=this.findNextSpecialToken(e,o,r),c>o&&this.encodeByIndex(e,n,o,c),a){if(o=o+this.encodeSpecialToken(n,a),o>=e.length)break}else break}return n}encodeSpecialToken(e,r){let n=this.specialTokensEncoder?.get(r[0]);return e.push(n),r.index+r[0].length}encodeByIndex(e,r,n,o){let a,c=e.substring(n,o);for(this.regex.lastIndex=0;a=this.regex.exec(c);){let l=this.cache.get(a[0]);if(l)for(let u of l)r.push(u);else{let u=this.textEncoder.encode(a[0]),f=this.encoder.get(u,0,this.textEncoder.length);if(f!==void 0)r.push(f),this.cache.set(a[0],[f]);else{let h=(0,T9.bytePairEncode)(u,this.encoder,this.textEncoder.length);for(let A of h)r.push(A);this.cache.set(a[0],h)}}}}encodeTrimSuffixByIndex(e,r,n,o,a,c,l){let u,f=e.substring(n,o);for(this.regex.lastIndex=0;u=this.regex.exec(f);){let h=u[0],A=this.cache.get(h);if(A)if(c+A.length<=a)c+=A.length,l+=h.length,r.push(...A);else{let p=a-c;c+=p,l+=h.length,r.push(...A.slice(0,p));break}else{let p=this.textEncoder.encode(h),m=this.encoder.get(p,0,p.length);if(m!==void 0)if(this.cache.set(h,[m]),c+1<=a)c++,l+=h.length,r.push(m);else break;else{let g=(0,T9.bytePairEncode)(p,this.encoder,this.textEncoder.length);if(this.cache.set(h,g),c+g.length<=a){c+=g.length,l+=h.length;for(let y of g)r.push(y)}else{let y=a-c;c+=y,l+=h.length;for(let E=0;E<y;E++)r.push(g[E]);break}}}if(c>=a)break}return{tokenCount:c,encodeLength:l}}encodeTrimSuffix(e,r,n){let o=[],a=0,c=0,l=0;for(;;){let f,h;if([f,h]=this.findNextSpecialToken(e,a,n),h>a){let{tokenCount:A,encodeLength:p}=this.encodeTrimSuffixByIndex(e,o,a,h,r,c,l);if(c=A,l=p,c>=r)break}if(f!==null){if(c++,c<=r&&(a=a+this.encodeSpecialToken(o,f),l+=f[0].length,a>=e.length)||c>=r)break}else break}let u=l===e.length?e:e.slice(0,l);return{tokenIds:o,text:u}}encodeTrimPrefix(e,r,n){let o=[],a=0,c=0,l=0,u=new Map;for(u.set(c,l);;){let p,m;if([p,m]=this.findNextSpecialToken(e,a,n),m>a){let g,y=e.substring(a,m);for(this.regex.lastIndex=0;g=this.regex.exec(y);){let E=g[0],I=this.cache.get(E);if(I)c+=I.length,l+=E.length,o.push(...I),u.set(c,l);else{let x=this.textEncoder.encode(E),v=this.encoder.get(x);if(v!==void 0)this.cache.set(E,[v]),c++,l+=E.length,o.push(v),u.set(c,l);else{let b=(0,T9.bytePairEncode)(x,this.encoder,this.textEncoder.length);this.cache.set(E,b),c+=b.length,l+=E.length;for(let _ of b)o.push(_);u.set(c,l)}}}}if(p!==null){if(a=a+this.encodeSpecialToken(o,p),c++,l+=p[0].length,u.set(c,l),a>=e.length)break}else break}if(c<=r)return{tokenIds:o,text:e};let f=c-r,h=0,A=0;for(let[p,m]of u)if(p>=f){h=p,A=m;break}if(h>r){let p=this.encode(e,n),m=p.slice(p.length-r);return{tokenIds:m,text:this.decode(m)}}return{tokenIds:o.slice(h),text:e.slice(A)}}decode(e){let r=[];for(let n of e){let o=[],a=this.decoder?.get(n);if(a!==void 0)o=Array.from(a);else{let c=this.specialTokensDecoder?.get(n);if(c!==void 0){let l=this.textEncoder.encode(c);o=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...o)}return this.textDecoder.decode(new Uint8Array(r))}};w9.TikTokenizer=dW});var z1e=T(ho=>{"use strict";d();Object.defineProperty(ho,"__esModule",{value:!0});ho.createTokenizer=ho.createByEncoderName=ho.createByModelName=ho.getRegexByModel=ho.getRegexByEncoder=ho.getSpecialTokensByModel=ho.getSpecialTokensByEncoder=ho.MODEL_TO_ENCODING=void 0;var fJe=hW(),dJe=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);ho.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var S9="<|endoftext|>",U1e="<|fim_prefix|>",q1e="<|fim_middle|>",H1e="<|fim_suffix|>",G1e="<|endofprompt|>",K5="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",V1e="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",hJe=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],W1e=hJe.join("|");function AW(t){let e="";if(ho.MODEL_TO_ENCODING.has(t))e=ho.MODEL_TO_ENCODING.get(t);else for(let[r,n]of dJe)if(t.startsWith(r)){e=n;break}return e}s(AW,"getEncoderFromModelName");async function AJe(t,e){let r=require("fs"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file from ${t}. Status code: ${n.status}`);let o=await n.text();r.writeFileSync(e,o)}s(AJe,"fetchAndSaveFile");function pW(t){let e=new Map([[S9,50256]]);switch(t){case"o200k_base":e=new Map([[S9,199999],[G1e,200018]]);break;case"cl100k_base":e=new Map([[S9,100257],[U1e,100258],[q1e,100259],[H1e,100260],[G1e,100276]]);break;case"p50k_edit":e=new Map([[S9,50256],[U1e,50281],[q1e,50282],[H1e,50283]]);break;default:break}return e}s(pW,"getSpecialTokensByEncoder");ho.getSpecialTokensByEncoder=pW;function pJe(t){let e=AW(t);return pW(e)}s(pJe,"getSpecialTokensByModel");ho.getSpecialTokensByModel=pJe;function Y1e(t){switch(t){case"o200k_base":return W1e;case"cl100k_base":return V1e;default:break}return K5}s(Y1e,"getRegexByEncoder");ho.getRegexByEncoder=Y1e;function mJe(t){let e=AW(t);return Y1e(e)}s(mJe,"getRegexByModel");ho.getRegexByModel=mJe;async function gJe(t,e=null){return j1e(AW(t),e)}s(gJe,"createByModelName");ho.createByModelName=gJe;async function j1e(t,e=null){let r,n,o=pW(t);switch(t){case"o200k_base":r=W1e,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=V1e,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=K5,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=K5,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=K5,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=K5,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${t}]`)}e!==null&&(o=new Map([...o,...e]));let a=require("fs"),c=require("path"),l=c.basename(n),u=c.resolve(__dirname,"..","model");a.existsSync(u)||a.mkdirSync(u,{recursive:!0});let f=c.resolve(u,l);return a.existsSync(f)||(console.log(`Downloading file from ${n}`),await AJe(n,f),console.log(`Saved file to ${f}`)),$1e(f,o,r)}s(j1e,"createByEncoderName");ho.createByEncoderName=j1e;function $1e(t,e,r,n=8192){return new fJe.TikTokenizer(t,e,r,n)}s($1e,"createTokenizer");ho.createTokenizer=$1e});var K1e=T(Ao=>{"use strict";d();Object.defineProperty(Ao,"__esModule",{value:!0});Ao.createTokenizer=Ao.createByEncoderName=Ao.createByModelName=Ao.getSpecialTokensByModel=Ao.getSpecialTokensByEncoder=Ao.getRegexByModel=Ao.getRegexByEncoder=Ao.MODEL_TO_ENCODING=Ao.TikTokenizer=void 0;var CJe=hW();Object.defineProperty(Ao,"TikTokenizer",{enumerable:!0,get:s(function(){return CJe.TikTokenizer},"get")});var Tp=z1e();Object.defineProperty(Ao,"MODEL_TO_ENCODING",{enumerable:!0,get:s(function(){return Tp.MODEL_TO_ENCODING},"get")});Object.defineProperty(Ao,"getRegexByEncoder",{enumerable:!0,get:s(function(){return Tp.getRegexByEncoder},"get")});Object.defineProperty(Ao,"getRegexByModel",{enumerable:!0,get:s(function(){return Tp.getRegexByModel},"get")});Object.defineProperty(Ao,"getSpecialTokensByEncoder",{enumerable:!0,get:s(function(){return Tp.getSpecialTokensByEncoder},"get")});Object.defineProperty(Ao,"getSpecialTokensByModel",{enumerable:!0,get:s(function(){return Tp.getSpecialTokensByModel},"get")});Object.defineProperty(Ao,"createByModelName",{enumerable:!0,get:s(function(){return Tp.createByModelName},"get")});Object.defineProperty(Ao,"createByEncoderName",{enumerable:!0,get:s(function(){return Tp.createByEncoderName},"get")});Object.defineProperty(Ao,"createTokenizer",{enumerable:!0,get:s(function(){return Tp.createTokenizer},"get")})});var kW=T((hFr,xCe)=>{"use strict";d();xCe.exports=s(function(e,r){r===!0&&(r=0);var n="";if(typeof e=="string")try{n=new URL(e).protocol}catch{}else e&&e.constructor===URL&&(n=e.protocol);var o=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?o[r]:o},"protocols")});var bCe=T((mFr,vCe)=>{"use strict";d();var hrt=kW();function Art(t){var e={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:t,query:{},parse_failed:!1};try{var r=new URL(t);e.protocols=hrt(r),e.protocol=e.protocols[0],e.port=r.port,e.resource=r.hostname,e.host=r.host,e.user=r.username||"",e.password=r.password||"",e.pathname=r.pathname,e.hash=r.hash.slice(1),e.search=r.search.slice(1),e.href=r.href,e.query=Object.fromEntries(r.searchParams)}catch{e.protocols=["file"],e.protocol=e.protocols[0],e.port="",e.resource="",e.user="",e.pathname="",e.hash="",e.search="",e.href=t,e.query={},e.parse_failed=!0}return e}s(Art,"parsePath");vCe.exports=Art});var RCe=T((yFr,BCe)=>{"use strict";d();var prt=bCe();function mrt(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}s(mrt,"_interopDefaultLegacy");var grt=mrt(prt);function Crt(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=s(function n(){if(this instanceof n){var o=[null];o.push.apply(o,arguments);var a=Function.bind.apply(e,o);return new a}return e.apply(this,arguments)},"a");r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:s(function(){return t[n]},"get")})}),r}s(Crt,"getAugmentedNamespace");var TCe={},yrt="text/plain",Ert="us-ascii",_Ce=s((t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),"testParameter"),Irt=s((t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:o,hash:a}=r.groups,c=n.split(";");a=e?"":a;let l=!1;c[c.length-1]==="base64"&&(c.pop(),l=!0);let u=(c.shift()||"").toLowerCase(),h=[...c.map(A=>{let[p,m=""]=A.split("=").map(g=>g.trim());return p==="charset"&&(m=m.toLowerCase(),m===Ert)?"":`${p}${m?`=${m}`:""}`}).filter(Boolean)];return l&&h.push("base64"),(h.length>0||u&&u!==yrt)&&h.unshift(u),`data:${h.join(";")},${l?o.trim():o}${a?`#${a}`:""}`},"normalizeDataURL");function xrt(t,e){if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return Irt(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let o=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&o.protocol==="https:"&&(o.protocol="http:"),e.forceHttps&&o.protocol==="http:"&&(o.protocol="https:"),e.stripAuthentication&&(o.username="",o.password=""),e.stripHash?o.hash="":e.stripTextFragment&&(o.hash=o.hash.replace(/#?:~:text.*?$/i,"")),o.pathname){let c=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,u="";for(;;){let h=c.exec(o.pathname);if(!h)break;let A=h[0],p=h.index,m=o.pathname.slice(l,p);u+=m.replace(/\/{2,}/g,"/"),u+=A,l=p+A.length}let f=o.pathname.slice(l,o.pathname.length);u+=f.replace(/\/{2,}/g,"/"),o.pathname=u}if(o.pathname)try{o.pathname=decodeURI(o.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let c=o.pathname.split("/"),l=c[c.length-1];_Ce(l,e.removeDirectoryIndex)&&(c=c.slice(0,-1),o.pathname=c.slice(1).join("/")+"/")}if(o.hostname&&(o.hostname=o.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(o.hostname)&&(o.hostname=o.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let c of[...o.searchParams.keys()])_Ce(c,e.removeQueryParameters)&&o.searchParams.delete(c);if(e.removeQueryParameters===!0&&(o.search=""),e.sortQueryParameters){o.searchParams.sort();try{o.search=decodeURIComponent(o.search)}catch{}}e.removeTrailingSlash&&(o.pathname=o.pathname.replace(/\/$/,""));let a=t;return t=o.toString(),!e.removeSingleSlash&&o.pathname==="/"&&!a.endsWith("/")&&o.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||o.pathname==="/")&&o.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t}s(xrt,"normalizeUrl");var vrt=Object.freeze({__proto__:null,default:xrt}),brt=Crt(vrt);Object.defineProperty(TCe,"__esModule",{value:!0});var _rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Trt=brt,wrt=wCe(Trt),Srt=grt.default,Brt=wCe(Srt);function wCe(t){return t&&t.__esModule?t:{default:t}}s(wCe,"_interopRequireDefault");var SCe=s(function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,o=s(function(u){var f=new Error(u);throw f.subject_url=e,f},"throwErr");(typeof e!="string"||!e.trim())&&o("Invalid url."),e.length>t.MAX_INPUT_LENGTH&&o("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":_rt(r))!=="object"&&(r={stripHash:!1}),e=(0,wrt.default)(e,r));var a=(0,Brt.default)(e);if(a.parse_failed){var c=a.href.match(n);c?(a.protocols=["ssh"],a.protocol="ssh",a.resource=c[2],a.host=c[2],a.user=c[1],a.pathname="/"+c[3],a.parse_failed=!1):o("URL parsing failed.")}return a},"parseUrl");SCe.MAX_INPUT_LENGTH=2048;var Rrt=TCe.default=SCe;BCe.exports=Rrt});var NCe=T((xFr,DCe)=>{"use strict";d();var krt=kW();function kCe(t){if(Array.isArray(t))return t.indexOf("ssh")!==-1||t.indexOf("rsync")!==-1;if(typeof t!="string")return!1;var e=krt(t);if(t=t.substring(t.indexOf("://")+3),kCe(e))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!t.match(r)&&t.indexOf("@")<t.indexOf(":")}s(kCe,"isSsh");DCe.exports=kCe});var FCe=T((_Fr,PCe)=>{"use strict";d();var Drt=RCe(),QCe=NCe();function Nrt(t){let e=Drt(t);return e.token="",e.password==="x-oauth-basic"?e.token=e.user:e.user==="x-token-auth"&&(e.token=e.password),QCe(e.protocols)||e.protocols.length===0&&QCe(t)?e.protocol="ssh":e.protocols.length?e.protocol=e.protocols[0]:(e.protocol="file",e.protocols=["file"]),e.href=e.href.replace(/\/$/,""),e}s(Nrt,"gitUp");PCe.exports=Nrt});var MCe=T((SFr,LCe)=>{"use strict";d();var Qrt=FCe();function DW(t,e){if(e=e||[],typeof t!="string")throw new Error("The url must be a string.");if(!e.every(function(x){return typeof x=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(t)&&(t="https://github.com/"+t);var n=Qrt(t),o=n.resource.split("."),a=null;switch(n.toString=function(x){return DW.stringify(this,x)},n.source=o.length>2?o.slice(1-o.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=o[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){a=n.name.split("/"),a.length===4&&(n.organization=a[1],n.owner=a[2],n.name=a[3],n.full_name=a[2]+"/"+a[3]);break}else{a=n.name.split("/"),a.length===2?(n.owner=a[1],n.name=a[1],n.full_name="_git/"+n.name):a.length===3?(n.name=a[2],a[0]==="DefaultCollection"?(n.owner=a[2],n.organization=a[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=a[0],n.full_name=n.owner+"/_git/"+n.name)):a.length===4&&(n.organization=a[0],n.owner=a[1],n.name=a[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){a=n.name.split("/"),a.length===4&&(n.organization=a[1],n.owner=a[2],n.name=a[3]);break}else{a=n.name.split("/"),a.length===5?(n.organization=a[0],n.owner=a[1],n.name=a[4],n.full_name="_git/"+n.name):a.length===3?(n.name=a[2],a[0]==="DefaultCollection"?(n.owner=a[2],n.organization=a[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=a[0],n.full_name=n.owner+"/_git/"+n.name)):a.length===4&&(n.organization=a[0],n.owner=a[1],n.name=a[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:a=n.name.split("/");var c=a.length-1;if(a.length>=2){var l=a.indexOf("-",2),u=a.indexOf("blob",2),f=a.indexOf("tree",2),h=a.indexOf("commit",2),A=a.indexOf("issues",2),p=a.indexOf("src",2),m=a.indexOf("raw",2),g=a.indexOf("edit",2);c=l>0?l-1:u>0&&f>0?Math.min(u-1,f-1):u>0?u-1:A>0?A-1:f>0?f-1:h>0?h-1:p>0?p-1:m>0?m-1:g>0?g-1:c,n.owner=a.slice(0,c).join("/"),n.name=a[c],h&&A<0&&(n.commit=a[c+2])}n.ref="",n.filepathtype="",n.filepath="";var y=a.length>c&&a[c+1]==="-"?c+1:c;a.length>y+2&&["raw","src","blob","tree","edit"].indexOf(a[y+1])>=0&&(n.filepathtype=a[y+1],n.ref=a[y+2],a.length>y+3&&(n.filepath=a.slice(y+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var E=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,I=E.exec(n.pathname);return I!=null&&(n.source="bitbucket-server",I[1]==="users"?n.owner="~"+I[2]:n.owner=I[2],n.organization=n.owner,n.name=I[3],a=I[4].split("/"),a.length>1&&(["raw","browse"].indexOf(a[1])>=0?(n.filepathtype=a[1],a.length>2&&(n.filepath=a.slice(2).join("/"))):a[1]==="commits"&&a.length>2&&(n.commit=a[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),e.length!==0&&n.ref&&(n.ref=Lrt(n.href,e)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}s(DW,"gitUrlParse");DW.stringify=function(t,e){e=e||(t.protocols&&t.protocols.length?t.protocols.join("+"):t.protocol);var r=t.port?":"+t.port:"",n=t.user||"git",o=t.git_suffix?".git":"";switch(e){case"ssh":return r?"ssh://"+n+"@"+t.resource+r+"/"+t.full_name+o:n+"@"+t.resource+":"+t.full_name+o;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return e+"://"+n+"@"+t.resource+r+"/"+t.full_name+o;case"http":case"https":var a=t.token?Prt(t):t.user&&(t.protocols.includes("http")||t.protocols.includes("https"))?t.user+"@":"";return e+"://"+a+t.resource+r+"/"+Frt(t)+o;default:return t.href}};function Prt(t){switch(t.source){case"bitbucket.org":return"x-token-auth:"+t.token+"@";default:return t.token+"@"}}s(Prt,"buildToken");function Frt(t){switch(t.source){case"bitbucket-server":return"scm/"+t.full_name;default:var e=t.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return e}}s(Frt,"buildPath");function Lrt(t,e){var r="";return e.forEach(function(n){t.includes(n)&&n.length>r.length&&(r=n)}),r}s(Lrt,"findLongestMatchingSubstring");LCe.exports=DW});var VCe=T((exports,module)=>{d();var Module=typeof Module<"u"?Module:{},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{s(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=s((t,e)=>{throw e},"quit_"),scriptDirectory="";function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}s(locateFile,"locateFile");var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=__dirname+"/",readBinary=s(t=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t);var e=fs.readFileSync(t);return e},"readBinary"),readAsync=s((t,e=!0)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),new Promise((r,n)=>{fs.readFile(t,e?void 0:"utf8",(o,a)=>{o?n(o):r(e?a.buffer:a)})})),"readAsync"),!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=s((t,e)=>{throw process.exitCode=t,e},"quit_")}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:typeof document<"u"&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory.startsWith("blob:")?scriptDirectory="":scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1),ENVIRONMENT_IS_WORKER&&(readBinary=s(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)},"readBinary")),readAsync=s(t=>isFileURI(t)?new Promise((e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{(n.status==200||n.status==0&&n.response)&&r(n.response),e(n.status)},n.onerror=e,n.send(null)}):fetch(t,{credentials:"same-origin"}).then(e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url))),"readAsync"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var wasmMemory,ABORT=!1,EXITSTATUS,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,HEAP_DATA_VIEW;function updateMemoryViews(){var t=wasmMemory.buffer;Module.HEAP_DATA_VIEW=HEAP_DATA_VIEW=new DataView(t),Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}if(s(updateMemoryViews,"updateMemoryViews"),Module.wasmMemory)wasmMemory=Module.wasmMemory;else{var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:2147483648/65536})}updateMemoryViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}s(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}s(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}s(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}s(postRun,"postRun");function addOnPreRun(t){__ATPRERUN__.unshift(t)}s(addOnPreRun,"addOnPreRun");function addOnInit(t){__ATINIT__.unshift(t)}s(addOnInit,"addOnInit");function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}s(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(t){return t}s(getUniqueRunDependency,"getUniqueRunDependency");function addRunDependency(t){runDependencies++,Module.monitorRunDependencies?.(runDependencies)}s(addRunDependency,"addRunDependency");function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies?.(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}s(removeRunDependency,"removeRunDependency");function abort(t){Module.onAbort?.(t),t="Aborted("+t+")",err(t),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw e}s(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",isDataURI=s(t=>t.startsWith(dataURIPrefix),"isDataURI"),isFileURI=s(t=>t.startsWith("file://"),"isFileURI");function findWasmBinary(){var t="tree-sitter.wasm";return isDataURI(t)?t:locateFile(t)}s(findWasmBinary,"findWasmBinary");var wasmBinaryFile;function getBinarySync(t){if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}s(getBinarySync,"getBinarySync");function getBinaryPromise(t){return wasmBinary?Promise.resolve().then(()=>getBinarySync(t)):readAsync(t).then(e=>new Uint8Array(e),()=>getBinarySync(t))}s(getBinaryPromise,"getBinaryPromise");function instantiateArrayBuffer(t,e,r){return getBinaryPromise(t).then(n=>WebAssembly.instantiate(n,e)).then(r,n=>{err(`failed to asynchronously prepare wasm: ${n}`),abort(n)})}s(instantiateArrayBuffer,"instantiateArrayBuffer");function instantiateAsync(t,e,r,n){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(e)&&!isFileURI(e)&&!ENVIRONMENT_IS_NODE&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(o=>{var a=WebAssembly.instantiateStreaming(o,r);return a.then(n,function(c){return err(`wasm streaming compile failed: ${c}`),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(e,r,n)})}):instantiateArrayBuffer(e,r,n)}s(instantiateAsync,"instantiateAsync");function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)}}s(getWasmImports,"getWasmImports");function createWasm(){var t=getWasmImports();function e(n,o){wasmExports=n.exports,wasmExports=relocateExports(wasmExports,1024);var a=getDylinkMetadata(o);return a.neededDynlibs&&(dynamicLibraries=a.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports,"main"),LDSO.init(),loadDylibs(),addOnInit(wasmExports.__wasm_call_ctors),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate"),wasmExports}s(e,"receiveInstance"),addRunDependency("wasm-instantiate");function r(n){e(n.instance,n.module)}if(s(r,"receiveInstantiationResult"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(n){return err(`Module.instantiateWasm callback failed with error: ${n}`),!1}return wasmBinaryFile||(wasmBinaryFile=findWasmBinary()),instantiateAsync(wasmBinary,wasmBinaryFile,t,r),{}}s(createWasm,"createWasm");var ASM_CONSTS={};function ExitStatus(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}s(ExitStatus,"ExitStatus");var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(t,e){var r=GOT[e];return r||(r=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),currentModuleWeakSymbols.has(e)||(r.required=!0),r}},LE_HEAP_LOAD_F32=s(t=>HEAP_DATA_VIEW.getFloat32(t,!0),"LE_HEAP_LOAD_F32"),LE_HEAP_LOAD_F64=s(t=>HEAP_DATA_VIEW.getFloat64(t,!0),"LE_HEAP_LOAD_F64"),LE_HEAP_LOAD_I16=s(t=>HEAP_DATA_VIEW.getInt16(t,!0),"LE_HEAP_LOAD_I16"),LE_HEAP_LOAD_I32=s(t=>HEAP_DATA_VIEW.getInt32(t,!0),"LE_HEAP_LOAD_I32"),LE_HEAP_LOAD_U32=s(t=>HEAP_DATA_VIEW.getUint32(t,!0),"LE_HEAP_LOAD_U32"),LE_HEAP_STORE_F32=s((t,e)=>HEAP_DATA_VIEW.setFloat32(t,e,!0),"LE_HEAP_STORE_F32"),LE_HEAP_STORE_F64=s((t,e)=>HEAP_DATA_VIEW.setFloat64(t,e,!0),"LE_HEAP_STORE_F64"),LE_HEAP_STORE_I16=s((t,e)=>HEAP_DATA_VIEW.setInt16(t,e,!0),"LE_HEAP_STORE_I16"),LE_HEAP_STORE_I32=s((t,e)=>HEAP_DATA_VIEW.setInt32(t,e,!0),"LE_HEAP_STORE_I32"),LE_HEAP_STORE_U32=s((t,e)=>HEAP_DATA_VIEW.setUint32(t,e,!0),"LE_HEAP_STORE_U32"),callRuntimeCallbacks=s(t=>{for(;t.length>0;)t.shift()(Module)},"callRuntimeCallbacks"),UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder:void 0,UTF8ArrayToString=s((t,e,r)=>{for(var n=e+r,o=e;t[o]&&!(o>=n);)++o;if(o-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,o));for(var a="";e<o;){var c=t[e++];if(!(c&128)){a+=String.fromCharCode(c);continue}var l=t[e++]&63;if((c&224)==192){a+=String.fromCharCode((c&31)<<6|l);continue}var u=t[e++]&63;if((c&240)==224?c=(c&15)<<12|l<<6|u:c=(c&7)<<18|l<<12|u<<6|t[e++]&63,c<65536)a+=String.fromCharCode(c);else{var f=c-65536;a+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return a},"UTF8ArrayToString"),getDylinkMetadata=s(t=>{var e=0,r=0;function n(){return t[e++]}s(n,"getU8");function o(){for(var W=0,R=1;;){var Q=t[e++];if(W+=(Q&127)*R,R*=128,!(Q&128))break}return W}s(o,"getLEB");function a(){var W=o();return e+=W,UTF8ArrayToString(t,e-W,W)}s(a,"getString");function c(W,R){if(W)throw new Error(R)}s(c,"failIf");var l="dylink.0";if(t instanceof WebAssembly.Module){var u=WebAssembly.Module.customSections(t,l);u.length===0&&(l="dylink",u=WebAssembly.Module.customSections(t,l)),c(u.length===0,"need dylink section"),t=new Uint8Array(u[0]),r=t.length}else{var f=new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer),h=f[0]==1836278016||f[0]==6386541;c(!h,"need to see wasm magic number"),c(t[8]!==0,"need the dylink section to be first"),e=9;var A=o();r=e+A,l=a()}var p={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(l=="dylink"){p.memorySize=o(),p.memoryAlign=o(),p.tableSize=o(),p.tableAlign=o();for(var m=o(),g=0;g<m;++g){var y=a();p.neededDynlibs.push(y)}}else{c(l!=="dylink.0");for(var E=1,I=2,x=3,v=4,b=256,_=3,S=1;e<r;){var w=n(),L=o();if(w===E)p.memorySize=o(),p.memoryAlign=o(),p.tableSize=o(),p.tableAlign=o();else if(w===I)for(var m=o(),g=0;g<m;++g)y=a(),p.neededDynlibs.push(y);else if(w===x)for(var M=o();M--;){var Y=a(),D=o();D&b&&p.tlsExports.add(Y)}else if(w===v)for(var M=o();M--;){var O=a(),Y=a(),D=o();(D&_)==S&&p.weakImports.add(Y)}else e+=L}}return p},"getDylinkMetadata");function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return HEAP8[t];case"i8":return HEAP8[t];case"i16":return LE_HEAP_LOAD_I16((t>>1)*2);case"i32":return LE_HEAP_LOAD_I32((t>>2)*4);case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return LE_HEAP_LOAD_F32((t>>2)*4);case"double":return LE_HEAP_LOAD_F64((t>>3)*8);case"*":return LE_HEAP_LOAD_U32((t>>2)*4);default:abort(`invalid type for getValue: ${e}`)}}s(getValue,"getValue");var newDSO=s((t,e,r)=>{var n={refcount:1/0,name:t,exports:r,global:!0};return LDSO.loadedLibsByName[t]=n,e!=null&&(LDSO.loadedLibsByHandle[e]=n),n},"newDSO"),LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO("__main__",0,wasmImports)}},___heap_base=78112,zeroMemory=s((t,e)=>(HEAPU8.fill(0,t,t+e),t),"zeroMemory"),alignMemory=s((t,e)=>Math.ceil(t/e)*e,"alignMemory"),getMemory=s(t=>{if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,r=e+alignMemory(t,16);return ___heap_base=r,GOT.__heap_base.value=r,e},"getMemory"),isInternalSym=s(t=>["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm","__start_em_js","__stop_em_js"].includes(t)||t.startsWith("__em_js__"),"isInternalSym"),uleb128Encode=s((t,e)=>{t<128?e.push(t):e.push(t%128|128,t>>7)},"uleb128Encode"),sigToWasmTypes=s(t=>{for(var e={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]);return r},"sigToWasmTypes"),generateFuncType=s((t,e)=>{var r=t.slice(0,1),n=t.slice(1),o={i:127,p:127,j:126,f:125,d:124,e:111};e.push(96),uleb128Encode(n.length,e);for(var a=0;a<n.length;++a)e.push(o[n[a]]);r=="v"?e.push(0):e.push(1,o[r])},"generateFuncType"),convertJsFunctionToWasm=s((t,e)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var r=[1];generateFuncType(e,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push(...r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(n)),a=new WebAssembly.Instance(o,{e:{f:t}}),c=a.exports.f;return c},"convertJsFunctionToWasm"),wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:28,element:"anyfunc"}),getWasmTableEntry=s(t=>{var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e},"getWasmTableEntry"),updateTableMap=s((t,e)=>{if(functionsInTableMap)for(var r=t;r<t+e;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}},"updateTableMap"),functionsInTableMap,getFunctionAddress=s(t=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(t)||0),"getFunctionAddress"),freeTableIndexes=[],getEmptyTableSlot=s(()=>{if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1},"getEmptyTableSlot"),setWasmTableEntry=s((t,e)=>{wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)},"setWasmTableEntry"),addFunction=s((t,e)=>{var r=getFunctionAddress(t);if(r)return r;var n=getEmptyTableSlot();try{setWasmTableEntry(n,t)}catch(a){if(!(a instanceof TypeError))throw a;var o=convertJsFunctionToWasm(t,e);setWasmTableEntry(n,o)}return functionsInTableMap.set(t,n),n},"addFunction"),updateGOT=s((t,e)=>{for(var r in t)if(!isInternalSym(r)){var n=t[r];r.startsWith("orig$")&&(r=r.split("$")[1],e=!0),GOT[r]||=new WebAssembly.Global({value:"i32",mutable:!0}),(e||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err(`unhandled export type for '${r}': ${typeof n}`))}},"updateGOT"),relocateExports=s((t,e,r)=>{var n={};for(var o in t){var a=t[o];typeof a=="object"&&(a=a.value),typeof a=="number"&&(a+=e),n[o]=a}return updateGOT(n,r),n},"relocateExports"),isSymbolDefined=s(t=>{var e=wasmImports[t];return!(!e||e.stub)},"isSymbolDefined"),dynCallLegacy=s((t,e,r)=>{t=t.replace(/p/g,"i");var n=Module["dynCall_"+t];return n(e,...r)},"dynCallLegacy"),dynCall=s((t,e,r=[])=>{if(t.includes("j"))return dynCallLegacy(t,e,r);var n=getWasmTableEntry(e)(...r);return n},"dynCall"),stackSave=s(()=>_emscripten_stack_get_current(),"stackSave"),stackRestore=s(t=>__emscripten_stack_restore(t),"stackRestore"),createInvokeFunction=s(t=>(e,...r)=>{var n=stackSave();try{return dynCall(t,e,r)}catch(o){if(stackRestore(n),o!==o+0)throw o;_setThrew(1,0)}},"createInvokeFunction"),resolveGlobalSymbol=s((t,e=!1)=>{var r;return e&&"orig$"+t in wasmImports&&(t="orig$"+t),isSymbolDefined(t)?r=wasmImports[t]:t.startsWith("invoke_")&&(r=wasmImports[t]=createInvokeFunction(t.split("_")[1])),{sym:r,name:t}},"resolveGlobalSymbol"),UTF8ToString=s((t,e)=>t?UTF8ArrayToString(HEAPU8,t,e):"","UTF8ToString"),loadWebAssemblyModule=s((binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);currentModuleWeakSymbols=metadata.weakImports;function loadModule(){var firstLoad=!handle||!HEAP8[handle+8];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign),memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+8]=1,LE_HEAP_STORE_U32((handle+12>>2)*4,memoryBase),LE_HEAP_STORE_I32((handle+16>>2)*4,metadata.memorySize),LE_HEAP_STORE_U32((handle+20>>2)*4,tableBase),LE_HEAP_STORE_I32((handle+24>>2)*4,metadata.tableSize))}else memoryBase=LE_HEAP_LOAD_U32((handle+12>>2)*4),tableBase=LE_HEAP_LOAD_U32((handle+20>>2)*4);var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length;tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t).sym;return!e&&localScope&&(e=localScope[t]),e||(e=moduleExports[t]),e}s(resolveSymbol,"resolveSymbol");var proxyHandler={get(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in wasmImports&&!wasmImports[e].stub)return wasmImports[e];if(!(e in t)){var r;t[e]=(...n)=>(r||=resolveSymbol(e),r(...n))}return t[e]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module,instance){updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols();function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func=`(${args}) => { ${body} };`;ASM_CONSTS[start]=eval(func)}if(s(addEmAsm,"addEmAsm"),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),cSig!="void"){cSig=cSig.split(",");for(var i in cSig){var jsArg=cSig[i].split(" ").pop();jsArgs.push(jsArg.replace("*",""))}}var func=`(${jsArgs}) => ${body};`;moduleExports[name]=eval(func)}s(addEmJs,"addEmJs");for(var name in moduleExports)if(name.startsWith("__em_js__")){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split("<::>");addEmJs(name.replace("__em_js__",""),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(s(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(binary,instance))}return WebAssembly.instantiate(binary,info).then(t=>postInstantiation(t.module,t.instance))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(module,instance)}return s(loadModule,"loadModule"),flags.loadAsync?metadata.neededDynlibs.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,flags,localScope)),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach(t=>loadDynamicLibrary(t,flags,localScope)),loadModule())},"loadWebAssemblyModule"),mergeLibSymbols=s((t,e)=>{for(var[r,n]of Object.entries(t)){let o=s(c=>{isSymbolDefined(c)||(wasmImports[c]=n)},"setImport");o(r);let a="__main_argc_argv";r=="main"&&o(a),r==a&&o("main"),r.startsWith("dynCall_")&&!Module.hasOwnProperty(r)&&(Module[r]=n)}},"mergeLibSymbols"),asyncLoad=s((t,e,r,n)=>{var o=n?"":`al ${t}`;readAsync(t).then(a=>{e(new Uint8Array(a)),o&&removeRunDependency(o)},a=>{if(r)r();else throw`Loading data file "${t}" failed.`}),o&&addRunDependency(o)},"asyncLoad");function loadDynamicLibrary(t,e={global:!0,nodelete:!0},r,n){var o=LDSO.loadedLibsByName[t];if(o)return e.global?o.global||(o.global=!0,mergeLibSymbols(o.exports,t)):r&&Object.assign(r,o.exports),e.nodelete&&o.refcount!==1/0&&(o.refcount=1/0),o.refcount++,n&&(LDSO.loadedLibsByHandle[n]=o),e.loadAsync?Promise.resolve(!0):!0;o=newDSO(t,n,"loading"),o.refcount=e.nodelete?1/0:1,o.global=e.global;function a(){if(n){var u=LE_HEAP_LOAD_U32((n+28>>2)*4),f=LE_HEAP_LOAD_U32((n+32>>2)*4);if(u&&f){var h=HEAP8.slice(u,u+f);return e.loadAsync?Promise.resolve(h):h}}var A=locateFile(t);if(e.loadAsync)return new Promise(function(p,m){asyncLoad(A,p,m)});if(!readBinary)throw new Error(`${A}: file not found, and synchronous loading of external files is not available`);return readBinary(A)}s(a,"loadLibData");function c(){return e.loadAsync?a().then(u=>loadWebAssemblyModule(u,e,t,r,n)):loadWebAssemblyModule(a(),e,t,r,n)}s(c,"getExports");function l(u){o.global?mergeLibSymbols(u,t):r&&Object.assign(r,u),o.exports=u}return s(l,"moduleLoaded"),e.loadAsync?c().then(u=>(l(u),!0)):(l(c()),!0)}s(loadDynamicLibrary,"loadDynamicLibrary");var reportUndefinedSymbols=s(()=>{for(var[t,e]of Object.entries(GOT))if(e.value==0){var r=resolveGlobalSymbol(t,!0).sym;if(!r&&!e.required)continue;if(typeof r=="function")e.value=addFunction(r,r.sig);else if(typeof r=="number")e.value=r;else throw new Error(`bad export type for '${t}': ${typeof r}`)}},"reportUndefinedSymbols"),loadDylibs=s(()=>{if(!dynamicLibraries.length){reportUndefinedSymbols();return}addRunDependency("loadDylibs"),dynamicLibraries.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})),Promise.resolve()).then(()=>{reportUndefinedSymbols(),removeRunDependency("loadDylibs")})},"loadDylibs"),noExitRuntime=Module.noExitRuntime||!0;function setValue(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":HEAP8[t]=e;break;case"i8":HEAP8[t]=e;break;case"i16":LE_HEAP_STORE_I16((t>>1)*2,e);break;case"i32":LE_HEAP_STORE_I32((t>>2)*4,e);break;case"i64":abort("to do setValue(i64) use WASM_BIGINT");case"float":LE_HEAP_STORE_F32((t>>2)*4,e);break;case"double":LE_HEAP_STORE_F64((t>>3)*8,e);break;case"*":LE_HEAP_STORE_U32((t>>2)*4,e);break;default:abort(`invalid type for setValue: ${r}`)}}s(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78112),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),__abort_js=s(()=>{abort("")},"__abort_js");__abort_js.sig="v";var nowIsMonotonic=1,__emscripten_get_now_is_monotonic=s(()=>nowIsMonotonic,"__emscripten_get_now_is_monotonic");__emscripten_get_now_is_monotonic.sig="i";var __emscripten_memcpy_js=s((t,e,r)=>HEAPU8.copyWithin(t,e,e+r),"__emscripten_memcpy_js");__emscripten_memcpy_js.sig="vppp";var _emscripten_date_now=s(()=>Date.now(),"_emscripten_date_now");_emscripten_date_now.sig="d";var _emscripten_get_now;_emscripten_get_now=s(()=>performance.now(),"_emscripten_get_now"),_emscripten_get_now.sig="d";var getHeapMax=s(()=>2147483648,"getHeapMax"),growMemory=s(t=>{var e=wasmMemory.buffer,r=(t-e.byteLength+65535)/65536;try{return wasmMemory.grow(r),updateMemoryViews(),1}catch{}},"growMemory"),_emscripten_resize_heap=s(t=>{var e=HEAPU8.length;t>>>=0;var r=getHeapMax();if(t>r)return!1;for(var n=s((u,f)=>u+(f-u%f)%f,"alignUp"),o=1;o<=4;o*=2){var a=e*(1+.2/o);a=Math.min(a,t+100663296);var c=Math.min(r,n(Math.max(t,a),65536)),l=growMemory(c);if(l)return!0}return!1},"_emscripten_resize_heap");_emscripten_resize_heap.sig="ip";var _fd_close=s(t=>52,"_fd_close");_fd_close.sig="ii";var convertI32PairToI53Checked=s((t,e)=>e+2097152>>>0<4194305-!!t?(t>>>0)+e*4294967296:NaN,"convertI32PairToI53Checked");function _fd_seek(t,e,r,n,o){var a=convertI32PairToI53Checked(e,r);return 70}s(_fd_seek,"_fd_seek"),_fd_seek.sig="iiiiip";var printCharBuffers=[null,[],[]],printChar=s((t,e)=>{var r=printCharBuffers[t];e===0||e===10?((t===1?out:err)(UTF8ArrayToString(r,0)),r.length=0):r.push(e)},"printChar"),_fd_write=s((t,e,r,n)=>{for(var o=0,a=0;a<r;a++){var c=LE_HEAP_LOAD_U32((e>>2)*4),l=LE_HEAP_LOAD_U32((e+4>>2)*4);e+=8;for(var u=0;u<l;u++)printChar(t,HEAPU8[c+u]);o+=l}return LE_HEAP_STORE_U32((n>>2)*4,o),0},"_fd_write");_fd_write.sig="iippp";function _tree_sitter_log_callback(t,e){if(currentLogCallback){let r=UTF8ToString(e);currentLogCallback(r,t!==0)}}s(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(t,e,r,n,o){let c=currentParseCallback(e,{row:r,column:n});typeof c=="string"?(setValue(o,c.length,"i32"),stringToUTF16(c,t,10240)):setValue(o,0,"i32")}s(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");var runtimeKeepaliveCounter=0,keepRuntimeAlive=s(()=>noExitRuntime||runtimeKeepaliveCounter>0,"keepRuntimeAlive"),_proc_exit=s(t=>{EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit?.(t),ABORT=!0),quit_(t,new ExitStatus(t))},"_proc_exit");_proc_exit.sig="vi";var exitJS=s((t,e)=>{EXITSTATUS=t,_proc_exit(t)},"exitJS"),handleException=s(t=>{if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)},"handleException"),lengthBytesUTF8=s(t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e},"lengthBytesUTF8"),stringToUTF8Array=s((t,e,r,n)=>{if(!(n>0))return 0;for(var o=r,a=r+n-1,c=0;c<t.length;++c){var l=t.charCodeAt(c);if(l>=55296&&l<=57343){var u=t.charCodeAt(++c);l=65536+((l&1023)<<10)|u&1023}if(l<=127){if(r>=a)break;e[r++]=l}else if(l<=2047){if(r+1>=a)break;e[r++]=192|l>>6,e[r++]=128|l&63}else if(l<=65535){if(r+2>=a)break;e[r++]=224|l>>12,e[r++]=128|l>>6&63,e[r++]=128|l&63}else{if(r+3>=a)break;e[r++]=240|l>>18,e[r++]=128|l>>12&63,e[r++]=128|l>>6&63,e[r++]=128|l&63}}return e[r]=0,r-o},"stringToUTF8Array"),stringToUTF8=s((t,e,r)=>stringToUTF8Array(t,HEAPU8,e,r),"stringToUTF8"),stackAlloc=s(t=>__emscripten_stack_alloc(t),"stackAlloc"),stringToUTF8OnStack=s(t=>{var e=lengthBytesUTF8(t)+1,r=stackAlloc(e);return stringToUTF8(t,r,e),r},"stringToUTF8OnStack"),stringToUTF16=s((t,e,r)=>{if(r??=2147483647,r<2)return 0;r-=2;for(var n=e,o=r<t.length*2?r/2:t.length,a=0;a<o;++a){var c=t.charCodeAt(a);LE_HEAP_STORE_I16((e>>1)*2,c),e+=2}return LE_HEAP_STORE_I16((e>>1)*2,0),e-n},"stringToUTF16"),AsciiToString=s(t=>{for(var e="";;){var r=HEAPU8[t++];if(!r)return e;e+=String.fromCharCode(r)}},"AsciiToString"),wasmImports={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_abort_js:__abort_js,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,_emscripten_memcpy_js:__emscripten_memcpy_js,emscripten_get_now:_emscripten_get_now,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},wasmExports=createWasm(),___wasm_call_ctors=s(()=>(___wasm_call_ctors=wasmExports.__wasm_call_ctors)(),"___wasm_call_ctors"),___wasm_apply_data_relocs=s(()=>(___wasm_apply_data_relocs=wasmExports.__wasm_apply_data_relocs)(),"___wasm_apply_data_relocs"),_malloc=Module._malloc=t=>(_malloc=Module._malloc=wasmExports.malloc)(t),_calloc=Module._calloc=(t,e)=>(_calloc=Module._calloc=wasmExports.calloc)(t,e),_realloc=Module._realloc=(t,e)=>(_realloc=Module._realloc=wasmExports.realloc)(t,e),_free=Module._free=t=>(_free=Module._free=wasmExports.free)(t),_ts_language_symbol_count=Module._ts_language_symbol_count=t=>(_ts_language_symbol_count=Module._ts_language_symbol_count=wasmExports.ts_language_symbol_count)(t),_ts_language_state_count=Module._ts_language_state_count=t=>(_ts_language_state_count=Module._ts_language_state_count=wasmExports.ts_language_state_count)(t),_ts_language_version=Module._ts_language_version=t=>(_ts_language_version=Module._ts_language_version=wasmExports.ts_language_version)(t),_ts_language_field_count=Module._ts_language_field_count=t=>(_ts_language_field_count=Module._ts_language_field_count=wasmExports.ts_language_field_count)(t),_ts_language_next_state=Module._ts_language_next_state=(t,e,r)=>(_ts_language_next_state=Module._ts_language_next_state=wasmExports.ts_language_next_state)(t,e,r),_ts_language_symbol_name=Module._ts_language_symbol_name=(t,e)=>(_ts_language_symbol_name=Module._ts_language_symbol_name=wasmExports.ts_language_symbol_name)(t,e),_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=(t,e,r,n)=>(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=wasmExports.ts_language_symbol_for_name)(t,e,r,n),_strncmp=Module._strncmp=(t,e,r)=>(_strncmp=Module._strncmp=wasmExports.strncmp)(t,e,r),_ts_language_symbol_type=Module._ts_language_symbol_type=(t,e)=>(_ts_language_symbol_type=Module._ts_language_symbol_type=wasmExports.ts_language_symbol_type)(t,e),_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=(t,e)=>(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=wasmExports.ts_language_field_name_for_id)(t,e),_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=(t,e)=>(_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=wasmExports.ts_lookahead_iterator_new)(t,e),_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=t=>(_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=wasmExports.ts_lookahead_iterator_delete)(t),_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=(t,e)=>(_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=wasmExports.ts_lookahead_iterator_reset_state)(t,e),_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=(t,e,r)=>(_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=wasmExports.ts_lookahead_iterator_reset)(t,e,r),_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=t=>(_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=wasmExports.ts_lookahead_iterator_next)(t),_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=t=>(_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=wasmExports.ts_lookahead_iterator_current_symbol)(t),_memset=Module._memset=(t,e,r)=>(_memset=Module._memset=wasmExports.memset)(t,e,r),_memcpy=Module._memcpy=(t,e,r)=>(_memcpy=Module._memcpy=wasmExports.memcpy)(t,e,r),_ts_parser_delete=Module._ts_parser_delete=t=>(_ts_parser_delete=Module._ts_parser_delete=wasmExports.ts_parser_delete)(t),_ts_parser_reset=Module._ts_parser_reset=t=>(_ts_parser_reset=Module._ts_parser_reset=wasmExports.ts_parser_reset)(t),_ts_parser_set_language=Module._ts_parser_set_language=(t,e)=>(_ts_parser_set_language=Module._ts_parser_set_language=wasmExports.ts_parser_set_language)(t,e),_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=t=>(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=wasmExports.ts_parser_timeout_micros)(t),_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=(t,e,r)=>(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=wasmExports.ts_parser_set_timeout_micros)(t,e,r),_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=(t,e,r)=>(_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=wasmExports.ts_parser_set_included_ranges)(t,e,r),_memmove=Module._memmove=(t,e,r)=>(_memmove=Module._memmove=wasmExports.memmove)(t,e,r),_memcmp=Module._memcmp=(t,e,r)=>(_memcmp=Module._memcmp=wasmExports.memcmp)(t,e,r),_ts_query_new=Module._ts_query_new=(t,e,r,n,o)=>(_ts_query_new=Module._ts_query_new=wasmExports.ts_query_new)(t,e,r,n,o),_ts_query_delete=Module._ts_query_delete=t=>(_ts_query_delete=Module._ts_query_delete=wasmExports.ts_query_delete)(t),_iswspace=Module._iswspace=t=>(_iswspace=Module._iswspace=wasmExports.iswspace)(t),_iswalnum=Module._iswalnum=t=>(_iswalnum=Module._iswalnum=wasmExports.iswalnum)(t),_ts_query_pattern_count=Module._ts_query_pattern_count=t=>(_ts_query_pattern_count=Module._ts_query_pattern_count=wasmExports.ts_query_pattern_count)(t),_ts_query_capture_count=Module._ts_query_capture_count=t=>(_ts_query_capture_count=Module._ts_query_capture_count=wasmExports.ts_query_capture_count)(t),_ts_query_string_count=Module._ts_query_string_count=t=>(_ts_query_string_count=Module._ts_query_string_count=wasmExports.ts_query_string_count)(t),_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=(t,e,r)=>(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=wasmExports.ts_query_capture_name_for_id)(t,e,r),_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=(t,e,r)=>(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=wasmExports.ts_query_string_value_for_id)(t,e,r),_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=(t,e,r)=>(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=wasmExports.ts_query_predicates_for_pattern)(t,e,r),_ts_query_disable_capture=Module._ts_query_disable_capture=(t,e,r)=>(_ts_query_disable_capture=Module._ts_query_disable_capture=wasmExports.ts_query_disable_capture)(t,e,r),_ts_tree_copy=Module._ts_tree_copy=t=>(_ts_tree_copy=Module._ts_tree_copy=wasmExports.ts_tree_copy)(t),_ts_tree_delete=Module._ts_tree_delete=t=>(_ts_tree_delete=Module._ts_tree_delete=wasmExports.ts_tree_delete)(t),_ts_init=Module._ts_init=()=>(_ts_init=Module._ts_init=wasmExports.ts_init)(),_ts_parser_new_wasm=Module._ts_parser_new_wasm=()=>(_ts_parser_new_wasm=Module._ts_parser_new_wasm=wasmExports.ts_parser_new_wasm)(),_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=(t,e)=>(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=wasmExports.ts_parser_enable_logger_wasm)(t,e),_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=(t,e,r,n,o)=>(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=wasmExports.ts_parser_parse_wasm)(t,e,r,n,o),_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=t=>(_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=wasmExports.ts_parser_included_ranges_wasm)(t),_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=(t,e)=>(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=wasmExports.ts_language_type_is_named_wasm)(t,e),_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=(t,e)=>(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=wasmExports.ts_language_type_is_visible_wasm)(t,e),_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=t=>(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=wasmExports.ts_tree_root_node_wasm)(t),_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=t=>(_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=wasmExports.ts_tree_root_node_with_offset_wasm)(t),_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=t=>(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=wasmExports.ts_tree_edit_wasm)(t),_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=t=>(_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=wasmExports.ts_tree_included_ranges_wasm)(t),_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=(t,e)=>(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=wasmExports.ts_tree_get_changed_ranges_wasm)(t,e),_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=t=>(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=wasmExports.ts_tree_cursor_new_wasm)(t),_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=t=>(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=wasmExports.ts_tree_cursor_delete_wasm)(t),_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=t=>(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=wasmExports.ts_tree_cursor_reset_wasm)(t),_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=(t,e)=>(_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=wasmExports.ts_tree_cursor_reset_to_wasm)(t,e),_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=t=>(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=wasmExports.ts_tree_cursor_goto_first_child_wasm)(t),_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=t=>(_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=wasmExports.ts_tree_cursor_goto_last_child_wasm)(t),_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=t=>(_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_index_wasm)(t),_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=t=>(_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_position_wasm)(t),_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=t=>(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=wasmExports.ts_tree_cursor_goto_next_sibling_wasm)(t),_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=t=>(_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=wasmExports.ts_tree_cursor_goto_previous_sibling_wasm)(t),_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=(t,e)=>(_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=wasmExports.ts_tree_cursor_goto_descendant_wasm)(t,e),_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=t=>(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=wasmExports.ts_tree_cursor_goto_parent_wasm)(t),_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=t=>(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=wasmExports.ts_tree_cursor_current_node_type_id_wasm)(t),_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=t=>(_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=wasmExports.ts_tree_cursor_current_node_state_id_wasm)(t),_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=t=>(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=wasmExports.ts_tree_cursor_current_node_is_named_wasm)(t),_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=t=>(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=wasmExports.ts_tree_cursor_current_node_is_missing_wasm)(t),_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=t=>(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=wasmExports.ts_tree_cursor_current_node_id_wasm)(t),_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=t=>(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=wasmExports.ts_tree_cursor_start_position_wasm)(t),_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=t=>(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=wasmExports.ts_tree_cursor_end_position_wasm)(t),_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=t=>(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=wasmExports.ts_tree_cursor_start_index_wasm)(t),_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=t=>(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=wasmExports.ts_tree_cursor_end_index_wasm)(t),_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=t=>(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=wasmExports.ts_tree_cursor_current_field_id_wasm)(t),_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=t=>(_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=wasmExports.ts_tree_cursor_current_depth_wasm)(t),_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=t=>(_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=wasmExports.ts_tree_cursor_current_descendant_index_wasm)(t),_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=t=>(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=wasmExports.ts_tree_cursor_current_node_wasm)(t),_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=t=>(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=wasmExports.ts_node_symbol_wasm)(t),_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=(t,e)=>(_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=wasmExports.ts_node_field_name_for_child_wasm)(t,e),_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=(t,e)=>(_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=wasmExports.ts_node_children_by_field_id_wasm)(t,e),_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=t=>(_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=wasmExports.ts_node_first_child_for_byte_wasm)(t),_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=t=>(_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=wasmExports.ts_node_first_named_child_for_byte_wasm)(t),_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=t=>(_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=wasmExports.ts_node_grammar_symbol_wasm)(t),_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=t=>(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=wasmExports.ts_node_child_count_wasm)(t),_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=t=>(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=wasmExports.ts_node_named_child_count_wasm)(t),_ts_node_child_wasm=Module._ts_node_child_wasm=(t,e)=>(_ts_node_child_wasm=Module._ts_node_child_wasm=wasmExports.ts_node_child_wasm)(t,e),_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=(t,e)=>(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=wasmExports.ts_node_named_child_wasm)(t,e),_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=(t,e)=>(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=wasmExports.ts_node_child_by_field_id_wasm)(t,e),_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=t=>(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=wasmExports.ts_node_next_sibling_wasm)(t),_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=t=>(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=wasmExports.ts_node_prev_sibling_wasm)(t),_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=t=>(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=wasmExports.ts_node_next_named_sibling_wasm)(t),_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=t=>(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=wasmExports.ts_node_prev_named_sibling_wasm)(t),_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=t=>(_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=wasmExports.ts_node_descendant_count_wasm)(t),_ts_node_parent_wasm=Module._ts_node_parent_wasm=t=>(_ts_node_parent_wasm=Module._ts_node_parent_wasm=wasmExports.ts_node_parent_wasm)(t),_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=t=>(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=wasmExports.ts_node_descendant_for_index_wasm)(t),_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=t=>(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=wasmExports.ts_node_named_descendant_for_index_wasm)(t),_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=t=>(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=wasmExports.ts_node_descendant_for_position_wasm)(t),_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=t=>(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=wasmExports.ts_node_named_descendant_for_position_wasm)(t),_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=t=>(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=wasmExports.ts_node_start_point_wasm)(t),_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=t=>(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=wasmExports.ts_node_end_point_wasm)(t),_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=t=>(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=wasmExports.ts_node_start_index_wasm)(t),_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=t=>(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=wasmExports.ts_node_end_index_wasm)(t),_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=t=>(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=wasmExports.ts_node_to_string_wasm)(t),_ts_node_children_wasm=Module._ts_node_children_wasm=t=>(_ts_node_children_wasm=Module._ts_node_children_wasm=wasmExports.ts_node_children_wasm)(t),_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=t=>(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=wasmExports.ts_node_named_children_wasm)(t),_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=(t,e,r,n,o,a,c)=>(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=wasmExports.ts_node_descendants_of_type_wasm)(t,e,r,n,o,a,c),_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=t=>(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=wasmExports.ts_node_is_named_wasm)(t),_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=t=>(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=wasmExports.ts_node_has_changes_wasm)(t),_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=t=>(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=wasmExports.ts_node_has_error_wasm)(t),_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=t=>(_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=wasmExports.ts_node_is_error_wasm)(t),_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=t=>(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=wasmExports.ts_node_is_missing_wasm)(t),_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=t=>(_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=wasmExports.ts_node_is_extra_wasm)(t),_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=t=>(_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=wasmExports.ts_node_parse_state_wasm)(t),_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=t=>(_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=wasmExports.ts_node_next_parse_state_wasm)(t),_ts_query_matches_wasm=Module._ts_query_matches_wasm=(t,e,r,n,o,a,c,l,u,f)=>(_ts_query_matches_wasm=Module._ts_query_matches_wasm=wasmExports.ts_query_matches_wasm)(t,e,r,n,o,a,c,l,u,f),_ts_query_captures_wasm=Module._ts_query_captures_wasm=(t,e,r,n,o,a,c,l,u,f)=>(_ts_query_captures_wasm=Module._ts_query_captures_wasm=wasmExports.ts_query_captures_wasm)(t,e,r,n,o,a,c,l,u,f),_iswalpha=Module._iswalpha=t=>(_iswalpha=Module._iswalpha=wasmExports.iswalpha)(t),_iswblank=Module._iswblank=t=>(_iswblank=Module._iswblank=wasmExports.iswblank)(t),_iswdigit=Module._iswdigit=t=>(_iswdigit=Module._iswdigit=wasmExports.iswdigit)(t),_iswlower=Module._iswlower=t=>(_iswlower=Module._iswlower=wasmExports.iswlower)(t),_iswupper=Module._iswupper=t=>(_iswupper=Module._iswupper=wasmExports.iswupper)(t),_iswxdigit=Module._iswxdigit=t=>(_iswxdigit=Module._iswxdigit=wasmExports.iswxdigit)(t),_memchr=Module._memchr=(t,e,r)=>(_memchr=Module._memchr=wasmExports.memchr)(t,e,r),_strlen=Module._strlen=t=>(_strlen=Module._strlen=wasmExports.strlen)(t),_strcmp=Module._strcmp=(t,e)=>(_strcmp=Module._strcmp=wasmExports.strcmp)(t,e),_strncat=Module._strncat=(t,e,r)=>(_strncat=Module._strncat=wasmExports.strncat)(t,e,r),_strncpy=Module._strncpy=(t,e,r)=>(_strncpy=Module._strncpy=wasmExports.strncpy)(t,e,r),_towlower=Module._towlower=t=>(_towlower=Module._towlower=wasmExports.towlower)(t),_towupper=Module._towupper=t=>(_towupper=Module._towupper=wasmExports.towupper)(t),_setThrew=s((t,e)=>(_setThrew=wasmExports.setThrew)(t,e),"_setThrew"),__emscripten_stack_restore=s(t=>(__emscripten_stack_restore=wasmExports._emscripten_stack_restore)(t),"__emscripten_stack_restore"),__emscripten_stack_alloc=s(t=>(__emscripten_stack_alloc=wasmExports._emscripten_stack_alloc)(t),"__emscripten_stack_alloc"),_emscripten_stack_get_current=s(()=>(_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current)(),"_emscripten_stack_get_current"),dynCall_jiji=Module.dynCall_jiji=(t,e,r,n,o)=>(dynCall_jiji=Module.dynCall_jiji=wasmExports.dynCall_jiji)(t,e,r,n,o),_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=t=>(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=wasmExports.orig$ts_parser_timeout_micros)(t),_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=(t,e)=>(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=wasmExports.orig$ts_parser_set_timeout_micros)(t,e);Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16;var calledRun;dependenciesFulfilled=s(function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)},"runCaller");function callMain(t=[]){var e=resolveGlobalSymbol("main").sym;if(e){t.unshift(thisProgram);var r=t.length,n=stackAlloc((r+1)*4),o=n;t.forEach(c=>{LE_HEAP_STORE_U32((o>>2)*4,stringToUTF8OnStack(c)),o+=4}),LE_HEAP_STORE_U32((o>>2)*4,0);try{var a=e(r,n);return exitJS(a,!0),a}catch(c){return handleException(c)}}}s(callMain,"callMain");function run(t=arguments_){if(runDependencies>0||(preRun(),runDependencies>0))return;function e(){calledRun||(calledRun=!0,Module.calledRun=!0,!ABORT&&(initRuntime(),preMain(),Module.onRuntimeInitialized?.(),shouldRunNow&&callMain(t),postRun()))}s(e,"doRun"),Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()}if(s(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_CURSOR=4*SIZE_OF_INT,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/,VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{s(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let r;if(!e)r=0,e=null;else if(e.constructor===Language){r=e[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}else throw new Error("Argument must be a Language");return this.language=e,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(e,r,n){if(typeof e=="string")currentParseCallback=s((u,f)=>e.slice(u),"currentParseCallback");else if(typeof e=="function")currentParseCallback=e;else throw new Error("Argument must be a string or a function");this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let o=0,a=0;if(n?.includedRanges){o=n.includedRanges.length,a=C._calloc(o,SIZE_OF_RANGE);let u=a;for(let f=0;f<o;f++)marshalRange(u,n.includedRanges[f]),u+=SIZE_OF_RANGE}let c=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,a,o);if(!c)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,c,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}getIncludedRanges(){C._ts_parser_included_ranges_wasm(this[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(e);if(e>0){let o=r;for(let a=0;a<e;a++)n[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(r)}return n}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}setLogger(e){if(!e)e=null;else if(typeof e!="function")throw new Error("Logger callback must be a function");return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{static{s(this,"Tree")}constructor(e,r,n,o){assertInternal(e),this[0]=r,this.language=n,this.textCallback=o}copy(){let e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}rootNodeWithOffset(e,r){let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),marshalPoint(n+SIZE_OF_INT,r),C._ts_tree_root_node_with_offset_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(r);if(r>0){let a=n;for(let c=0;c<r;c++)o[c]=unmarshalRange(a),a+=SIZE_OF_RANGE;C._free(n)}return o}getIncludedRanges(){C._ts_tree_included_ranges_wasm(this[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(e);if(e>0){let o=r;for(let a=0;a<e;a++)n[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(r)}return n}}class Node{static{s(this,"Node")}constructor(e,r){assertInternal(e),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get grammarId(){return marshalNode(this),C._ts_node_grammar_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get grammarType(){return this.tree.language.types[this.grammarId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}get parseState(){return marshalNode(this),C._ts_node_parse_state_wasm(this.tree[0])}get nextParseState(){return marshalNode(this),C._ts_node_next_parse_state_wasm(this.tree[0])}get isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}get hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}get hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}get isError(){return marshalNode(this),C._ts_node_is_error_wasm(this.tree[0])===1}get isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}get isExtra(){return marshalNode(this),C._ts_node_is_extra_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let r=this.tree.language.fields.indexOf(e);return r!==-1?this.childForFieldId(r):null}fieldNameForChild(e){marshalNode(this);let r=C._ts_node_field_name_for_child_wasm(this.tree[0],e);return r?AsciiToString(r):null}childrenForFieldName(e){let r=this.tree.language.fields.indexOf(e);return r!==-1&&r!==0?this.childrenForFieldId(r):[]}childrenForFieldId(e){marshalNode(this),C._ts_node_children_by_field_id_wasm(this.tree[0],e);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(r);if(r>0){let a=n;for(let c=0;c<r;c++)o[c]=unmarshalNode(this.tree,a),a+=SIZE_OF_NODE;C._free(n)}return o}firstChildForIndex(e){marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),C._ts_node_first_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}firstNamedChildForIndex(e){marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),C._ts_node_first_named_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=r;for(let o=0;o<e;o++)this._children[o]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=r;for(let o=0;o<e;o++)this._namedChildren[o]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(e,r,n){Array.isArray(e)||(e=[e]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let o=[],a=this.tree.language.types;for(let h=0,A=a.length;h<A;h++)e.includes(a[h])&&o.push(h);let c=C._malloc(SIZE_OF_INT*o.length);for(let h=0,A=o.length;h<A;h++)setValue(c+h*SIZE_OF_INT,o[h],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],c,o.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),f=new Array(l);if(l>0){let h=u;for(let A=0;A<l;A++)f[A]=unmarshalNode(this.tree,h),h+=SIZE_OF_NODE}return C._free(u),C._free(c),f}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get descendantCount(){return marshalNode(this),C._ts_node_descendant_count_wasm(this.tree[0])}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(e);return C._free(e),r}}class TreeCursor{static{s(this,"TreeCursor")}constructor(e,r){assertInternal(e),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}resetTo(e){marshalTreeCursor(this,TRANSFER_BUFFER),marshalTreeCursor(e,TRANSFER_BUFFER+SIZE_OF_CURSOR),C._ts_tree_cursor_reset_to_wasm(this.tree[0],e.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeStateId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_state_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}get currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}get currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}get currentFieldName(){return this.tree.language.fields[this.currentFieldId]}get currentDepth(){return marshalTreeCursor(this),C._ts_tree_cursor_current_depth_wasm(this.tree[0])}get currentDescendantIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_current_descendant_index_wasm(this.tree[0])}gotoFirstChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoLastChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_last_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoFirstChildForIndex(e){marshalTreeCursor(this),setValue(TRANSFER_BUFFER+SIZE_OF_CURSOR,e,"i32");let r=C._ts_tree_cursor_goto_first_child_for_index_wasm(this.tree[0]);return unmarshalTreeCursor(this),r===1}gotoFirstChildForPosition(e){marshalTreeCursor(this),marshalPoint(TRANSFER_BUFFER+SIZE_OF_CURSOR,e);let r=C._ts_tree_cursor_goto_first_child_for_position_wasm(this.tree[0]);return unmarshalTreeCursor(this),r===1}gotoNextSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoPreviousSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_previous_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoDescendant(e){marshalTreeCursor(this),C._ts_tree_cursor_goto_descendant_wasm(this.tree[0],e),unmarshalTreeCursor(this)}gotoParent(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{static{s(this,"Language")}constructor(e,r){assertInternal(e),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,o=this.types.length;n<o;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,o=this.fields.length;n<o;n++){let a=C._ts_language_field_name_for_id(this[0],n);a!==0?this.fields[n]=UTF8ToString(a):this.fields[n]=null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}get stateCount(){return C._ts_language_state_count(this[0])}fieldIdForName(e){let r=this.fields.indexOf(e);return r!==-1?r:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,r){let n=lengthBytesUTF8(e),o=C._malloc(n+1);stringToUTF8(e,o,n+1);let a=C._ts_language_symbol_for_name(this[0],o,n,r);return C._free(o),a||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){let r=C._ts_language_symbol_name(this[0],e);return r?UTF8ToString(r):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}nextState(e,r){return C._ts_language_next_state(this[0],e,r)}lookaheadIterator(e){let r=C._ts_lookahead_iterator_new(this[0],e);return r?new LookaheadIterable(INTERNAL,r,this):null}query(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);let o=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!o){let y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),E=getValue(TRANSFER_BUFFER,"i32"),I=UTF8ToString(n,E).length,x=e.substr(I,100).split(`
`)[0],v=x.match(QUERY_WORD_REGEX)[0],b;switch(y){case 2:b=new RangeError(`Bad node name '${v}'`);break;case 3:b=new RangeError(`Bad field name '${v}'`);break;case 4:b=new RangeError(`Bad capture name @${v}`);break;case 5:b=new TypeError(`Bad pattern structure at offset ${I}: '${x}'...`),v="";break;default:b=new SyntaxError(`Bad syntax at offset ${I}: '${x}'...`),v="";break}throw b.index=I,b.length=v.length,C._free(n),b}let a=C._ts_query_string_count(o),c=C._ts_query_capture_count(o),l=C._ts_query_pattern_count(o),u=new Array(c),f=new Array(a);for(let y=0;y<c;y++){let E=C._ts_query_capture_name_for_id(o,y,TRANSFER_BUFFER),I=getValue(TRANSFER_BUFFER,"i32");u[y]=UTF8ToString(E,I)}for(let y=0;y<a;y++){let E=C._ts_query_string_value_for_id(o,y,TRANSFER_BUFFER),I=getValue(TRANSFER_BUFFER,"i32");f[y]=UTF8ToString(E,I)}let h=new Array(l),A=new Array(l),p=new Array(l),m=new Array(l),g=new Array(l);for(let y=0;y<l;y++){let E=C._ts_query_predicates_for_pattern(o,y,TRANSFER_BUFFER),I=getValue(TRANSFER_BUFFER,"i32");m[y]=[],g[y]=[];let x=[],v=E;for(let b=0;b<I;b++){let _=getValue(v,"i32");v+=SIZE_OF_INT;let S=getValue(v,"i32");if(v+=SIZE_OF_INT,_===PREDICATE_STEP_TYPE_CAPTURE)x.push({type:"capture",name:u[S]});else if(_===PREDICATE_STEP_TYPE_STRING)x.push({type:"string",value:f[S]});else if(x.length>0){if(x[0].type!=="string")throw new Error("Predicates must begin with a literal value");let w=x[0].value,L=!0,M=!0,Y;switch(w){case"any-not-eq?":case"not-eq?":L=!1;case"any-eq?":case"eq?":if(x.length!==3)throw new Error(`Wrong number of arguments to \`#${w}\` predicate. Expected 2, got ${x.length-1}`);if(x[1].type!=="capture")throw new Error(`First argument of \`#${w}\` predicate must be a capture. Got "${x[1].value}"`);if(M=!w.startsWith("any-"),x[2].type==="capture"){let R=x[1].name,Q=x[2].name;g[y].push(q=>{let U=[],V=[];for(let $ of q)$.name===R&&U.push($.node),$.name===Q&&V.push($.node);let z=s(($,j,Z)=>Z?$.text===j.text:$.text!==j.text,"compare");return M?U.every($=>V.some(j=>z($,j,L))):U.some($=>V.some(j=>z($,j,L)))})}else{Y=x[1].name;let R=x[2].value,Q=s(U=>U.text===R,"matches"),q=s(U=>U.text!==R,"doesNotMatch");g[y].push(U=>{let V=[];for(let $ of U)$.name===Y&&V.push($.node);let z=L?Q:q;return M?V.every(z):V.some(z)})}break;case"any-not-match?":case"not-match?":L=!1;case"any-match?":case"match?":if(x.length!==3)throw new Error(`Wrong number of arguments to \`#${w}\` predicate. Expected 2, got ${x.length-1}.`);if(x[1].type!=="capture")throw new Error(`First argument of \`#${w}\` predicate must be a capture. Got "${x[1].value}".`);if(x[2].type!=="string")throw new Error(`Second argument of \`#${w}\` predicate must be a string. Got @${x[2].value}.`);Y=x[1].name;let D=new RegExp(x[2].value);M=!w.startsWith("any-"),g[y].push(R=>{let Q=[];for(let U of R)U.name===Y&&Q.push(U.node.text);let q=s((U,V)=>V?D.test(U):!D.test(U),"test");return Q.length===0?!L:M?Q.every(U=>q(U,L)):Q.some(U=>q(U,L))});break;case"set!":if(x.length<2||x.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${x.length-1}.`);if(x.some(R=>R.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');h[y]||(h[y]={}),h[y][x[1].value]=x[2]?x[2].value:null;break;case"is?":case"is-not?":if(x.length<2||x.length>3)throw new Error(`Wrong number of arguments to \`#${w}\` predicate. Expected 1 or 2. Got ${x.length-1}.`);if(x.some(R=>R.type!=="string"))throw new Error(`Arguments to \`#${w}\` predicate must be a strings.".`);let O=w==="is?"?A:p;O[y]||(O[y]={}),O[y][x[1].value]=x[2]?x[2].value:null;break;case"not-any-of?":L=!1;case"any-of?":if(x.length<2)throw new Error(`Wrong number of arguments to \`#${w}\` predicate. Expected at least 1. Got ${x.length-1}.`);if(x[1].type!=="capture")throw new Error(`First argument of \`#${w}\` predicate must be a capture. Got "${x[1].value}".`);for(let R=2;R<x.length;R++)if(x[R].type!=="string")throw new Error(`Arguments to \`#${w}\` predicate must be a strings.".`);Y=x[1].name;let W=x.slice(2).map(R=>R.value);g[y].push(R=>{let Q=[];for(let q of R)q.name===Y&&Q.push(q.node.text);return Q.length===0?!L:Q.every(q=>W.includes(q))===L});break;default:m[y].push({operator:w,operands:x.slice(1)})}x.length=0}}Object.freeze(h[y]),Object.freeze(A[y]),Object.freeze(p[y])}return C._free(n),new Query(INTERNAL,o,u,g,m,Object.freeze(h),Object.freeze(A),Object.freeze(p))}static load(e){let r;if(e instanceof Uint8Array)r=Promise.resolve(e);else{let n=e;if(typeof process<"u"&&process.versions&&process.versions.node){let o=require("fs");r=Promise.resolve(o.readFileSync(n))}else r=fetch(n).then(o=>o.arrayBuffer().then(a=>{if(o.ok)return new Uint8Array(a);{let c=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${o.status}.

${c}`)}}))}return r.then(n=>loadWebAssemblyModule(n,{loadAsync:!0})).then(n=>{let o=Object.keys(n),a=o.find(l=>LANGUAGE_FUNCTION_REGEX.test(l)&&!l.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(o,null,2)}`);let c=n[a]();return new Language(INTERNAL,c)})}}class LookaheadIterable{static{s(this,"LookaheadIterable")}constructor(e,r,n){assertInternal(e),this[0]=r,this.language=n}get currentTypeId(){return C._ts_lookahead_iterator_current_symbol(this[0])}get currentType(){return this.language.types[this.currentTypeId]||"ERROR"}delete(){C._ts_lookahead_iterator_delete(this[0]),this[0]=0}resetState(e){return C._ts_lookahead_iterator_reset_state(this[0],e)}reset(e,r){return C._ts_lookahead_iterator_reset(this[0],e[0],r)?(this.language=e,!0):!1}[Symbol.iterator](){let e=this;return{next(){return C._ts_lookahead_iterator_next(e[0])?{done:!1,value:e.currentType}:{done:!0,value:""}}}}}class Query{static{s(this,"Query")}constructor(e,r,n,o,a,c,l,u){assertInternal(e),this[0]=r,this.captureNames=n,this.textPredicates=o,this.predicates=a,this.setProperties=c,this.assertedProperties=l,this.refutedProperties=u,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,{startPosition:r=ZERO_POINT,endPosition:n=ZERO_POINT,startIndex:o=0,endIndex:a=0,matchLimit:c=4294967295,maxStartDepth:l=4294967295}={}){if(typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o,a,c,l);let u=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),A=new Array(u);this.exceededMatchLimit=!!h;let p=0,m=f;for(let g=0;g<u;g++){let y=getValue(m,"i32");m+=SIZE_OF_INT;let E=getValue(m,"i32");m+=SIZE_OF_INT;let I=new Array(E);if(m=unmarshalCaptures(this,e.tree,m,I),this.textPredicates[y].every(x=>x(I))){A[p]={pattern:y,captures:I};let x=this.setProperties[y];x&&(A[p].setProperties=x);let v=this.assertedProperties[y];v&&(A[p].assertedProperties=v);let b=this.refutedProperties[y];b&&(A[p].refutedProperties=b),p++}}return A.length=p,C._free(f),A}captures(e,{startPosition:r=ZERO_POINT,endPosition:n=ZERO_POINT,startIndex:o=0,endIndex:a=0,matchLimit:c=4294967295,maxStartDepth:l=4294967295}={}){if(typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o,a,c,l);let u=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),A=[];this.exceededMatchLimit=!!h;let p=[],m=f;for(let g=0;g<u;g++){let y=getValue(m,"i32");m+=SIZE_OF_INT;let E=getValue(m,"i32");m+=SIZE_OF_INT;let I=getValue(m,"i32");if(m+=SIZE_OF_INT,p.length=E,m=unmarshalCaptures(this,e.tree,m,p),this.textPredicates[y].every(x=>x(p))){let x=p[I],v=this.setProperties[y];v&&(x.setProperties=v);let b=this.assertedProperties[y];b&&(x.assertedProperties=b);let _=this.refutedProperties[y];_&&(x.refutedProperties=_),A.push(x)}}return C._free(f),A}predicatesForPattern(e){return this.predicates[e]}disableCapture(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1),C._ts_query_disable_capture(this[0],n,r),C._free(n)}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,r){let n=r-e,o=t.textCallback(e,null,r);for(e+=o.length;e<r;){let a=t.textCallback(e,null,r);if(a&&a.length>0)e+=a.length,o+=a;else break}return e>r&&(o=o.slice(0,n)),o}s(getText,"getText");function unmarshalCaptures(t,e,r,n){for(let o=0,a=n.length;o<a;o++){let c=getValue(r,"i32");r+=SIZE_OF_INT;let l=unmarshalNode(e,r);r+=SIZE_OF_NODE,n[o]={name:t.captureNames[c],node:l}}return r}s(unmarshalCaptures,"unmarshalCaptures");function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}s(assertInternal,"assertInternal");function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}s(isPoint,"isPoint");function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}s(marshalNode,"marshalNode");function unmarshalNode(t,e=TRANSFER_BUFFER){let r=getValue(e,"i32");if(e+=SIZE_OF_INT,r===0)return null;let n=getValue(e,"i32");e+=SIZE_OF_INT;let o=getValue(e,"i32");e+=SIZE_OF_INT;let a=getValue(e,"i32");e+=SIZE_OF_INT;let c=getValue(e,"i32"),l=new Node(INTERNAL,t);return l.id=r,l.startIndex=n,l.startPosition={row:o,column:a},l[0]=c,l}s(unmarshalNode,"unmarshalNode");function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32"),setValue(e+3*SIZE_OF_INT,t[3],"i32")}s(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),t[3]=getValue(TRANSFER_BUFFER+3*SIZE_OF_INT,"i32")}s(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}s(marshalPoint,"marshalPoint");function unmarshalPoint(t){return{row:getValue(t,"i32")>>>0,column:getValue(t+SIZE_OF_INT,"i32")>>>0}}s(unmarshalPoint,"unmarshalPoint");function marshalRange(t,e){marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.endPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.endIndex,"i32"),t+=SIZE_OF_INT}s(marshalRange,"marshalRange");function unmarshalRange(t){let e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32")>>>0,t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32")>>>0,e}s(unmarshalRange,"unmarshalRange");function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}s(marshalEdit,"marshalEdit");for(let t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var oIe=T((HHr,iIe)=>{"use strict";d();iIe.exports=rIe;function rIe(t,e,r){t instanceof RegExp&&(t=tIe(t,r)),e instanceof RegExp&&(e=tIe(e,r));var n=nIe(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}s(rIe,"balanced");function tIe(t,e){var r=e.match(t);return r?r[0]:null}s(tIe,"maybeMatch");rIe.range=nIe;function nIe(t,e,r){var n,o,a,c,l,u=r.indexOf(t),f=r.indexOf(e,u+1),h=u;if(u>=0&&f>0){if(t===e)return[u,f];for(n=[],a=r.length;h>=0&&!l;)h==u?(n.push(h),u=r.indexOf(t,h+1)):n.length==1?l=[n.pop(),f]:(o=n.pop(),o<a&&(a=o,c=f),f=r.indexOf(e,h+1)),h=u<f&&u>=0?u:f;n.length&&(l=[a,c])}return l}s(nIe,"range")});var hIe=T((WHr,dIe)=>{d();var sIe=oIe();dIe.exports=Bit;var aIe="\0SLASH"+Math.random()+"\0",cIe="\0OPEN"+Math.random()+"\0",OY="\0CLOSE"+Math.random()+"\0",lIe="\0COMMA"+Math.random()+"\0",uIe="\0PERIOD"+Math.random()+"\0";function MY(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}s(MY,"numeric");function wit(t){return t.split("\\\\").join(aIe).split("\\{").join(cIe).split("\\}").join(OY).split("\\,").join(lIe).split("\\.").join(uIe)}s(wit,"escapeBraces");function Sit(t){return t.split(aIe).join("\\").split(cIe).join("{").split(OY).join("}").split(lIe).join(",").split(uIe).join(".")}s(Sit,"unescapeBraces");function fIe(t){if(!t)return[""];var e=[],r=sIe("{","}",t);if(!r)return t.split(",");var n=r.pre,o=r.body,a=r.post,c=n.split(",");c[c.length-1]+="{"+o+"}";var l=fIe(a);return a.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l)),e.push.apply(e,c),e}s(fIe,"parseCommaParts");function Bit(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),_T(wit(t),!0).map(Sit)):[]}s(Bit,"expandTop");function Rit(t){return"{"+t+"}"}s(Rit,"embrace");function kit(t){return/^-?0\d/.test(t)}s(kit,"isPadded");function Dit(t,e){return t<=e}s(Dit,"lte");function Nit(t,e){return t>=e}s(Nit,"gte");function _T(t,e){var r=[],n=sIe("{","}",t);if(!n)return[t];var o=n.pre,a=n.post.length?_T(n.post,!1):[""];if(/\$$/.test(n.pre))for(var c=0;c<a.length;c++){var l=o+"{"+n.body+"}"+a[c];r.push(l)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),h=u||f,A=n.body.indexOf(",")>=0;if(!h&&!A)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+OY+n.post,_T(t)):[t];var p;if(h)p=n.body.split(/\.\./);else if(p=fIe(n.body),p.length===1&&(p=_T(p[0],!1).map(Rit),p.length===1))return a.map(function(Y){return n.pre+p[0]+Y});var m;if(h){var g=MY(p[0]),y=MY(p[1]),E=Math.max(p[0].length,p[1].length),I=p.length==3?Math.abs(MY(p[2])):1,x=Dit,v=y<g;v&&(I*=-1,x=Nit);var b=p.some(kit);m=[];for(var _=g;x(_,y);_+=I){var S;if(f)S=String.fromCharCode(_),S==="\\"&&(S="");else if(S=String(_),b){var w=E-S.length;if(w>0){var L=new Array(w+1).join("0");_<0?S="-"+L+S.slice(1):S=L+S}}m.push(S)}}else{m=[];for(var M=0;M<p.length;M++)m.push.apply(m,_T(p[M],!1))}for(var M=0;M<m.length;M++)for(var c=0;c<a.length;c++){var l=o+m[M]+a[c];(!e||h||l)&&r.push(l)}}return r}s(_T,"expand")});var eu=T(zt=>{"use strict";d();Object.defineProperty(zt,"__esModule",{value:!0});zt.BugIndicatingError=zt.ErrorNoTelemetry=zt.ExpectedError=zt.NotSupportedError=zt.NotImplementedError=zt.ReadonlyError=zt.PendingMigrationError=zt.CancellationError=zt.canceledName=zt.errorHandler=zt.ErrorHandler=void 0;zt.setUnexpectedErrorHandler=bst;zt.isSigPipeError=_st;zt.onBugIndicatingError=Tst;zt.onUnexpectedError=wst;zt.onUnexpectedExternalError=Sst;zt.transformErrorForSerialization=i2e;zt.transformErrorFromSerialization=o2e;zt.isCancellationError=wj;zt.canceled=Bst;zt.illegalArgument=Rst;zt.illegalState=kst;zt.getErrorMessage=Dst;var ck=class{static{s(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?X1.isErrorNoTelemetry(e)?new X1(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(r=>{r(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};zt.ErrorHandler=ck;zt.errorHandler=new ck;function bst(t){zt.errorHandler.setUnexpectedErrorHandler(t)}s(bst,"setUnexpectedErrorHandler");function _st(t){if(!t||typeof t!="object")return!1;let e=t;return e.code==="EPIPE"&&e.syscall?.toUpperCase()==="WRITE"}s(_st,"isSigPipeError");function Tst(t){zt.errorHandler.onUnexpectedError(t)}s(Tst,"onBugIndicatingError");function wst(t){wj(t)||zt.errorHandler.onUnexpectedError(t)}s(wst,"onUnexpectedError");function Sst(t){wj(t)||zt.errorHandler.onUnexpectedExternalError(t)}s(Sst,"onUnexpectedExternalError");function i2e(t){if(t instanceof Error){let{name:e,message:r,cause:n}=t,o=t.stacktrace||t.stack;return{$isError:!0,name:e,message:r,stack:o,noTelemetry:X1.isErrorNoTelemetry(t),cause:n?i2e(n):void 0,code:t.code}}return t}s(i2e,"transformErrorForSerialization");function o2e(t){let e;return t.noTelemetry?e=new X1:(e=new Error,e.name=t.name),e.message=t.message,e.stack=t.stack,t.code&&(e.code=t.code),t.cause&&(e.cause=o2e(t.cause)),e}s(o2e,"transformErrorFromSerialization");zt.canceledName="Canceled";function wj(t){return t instanceof lk?!0:t instanceof Error&&t.name===zt.canceledName&&t.message===zt.canceledName}s(wj,"isCancellationError");var lk=class extends Error{static{s(this,"CancellationError")}constructor(){super(zt.canceledName),this.name=this.message}};zt.CancellationError=lk;var Ij=class t extends Error{static{s(this,"PendingMigrationError")}static{this._name="PendingMigrationError"}static is(e){return e instanceof t||e instanceof Error&&e.name===t._name}constructor(e){super(e),this.name=t._name}};zt.PendingMigrationError=Ij;function Bst(){let t=new Error(zt.canceledName);return t.name=t.message,t}s(Bst,"canceled");function Rst(t){return t?new Error(`Illegal argument: ${t}`):new Error("Illegal argument")}s(Rst,"illegalArgument");function kst(t){return t?new Error(`Illegal state: ${t}`):new Error("Illegal state")}s(kst,"illegalState");var xj=class extends TypeError{static{s(this,"ReadonlyError")}constructor(e){super(e?`${e} is read-only and cannot be changed`:"Cannot change read-only property")}};zt.ReadonlyError=xj;function Dst(t){return t?t.message?t.message:t.stack?t.stack.split(`
`)[0]:String(t):"Error"}s(Dst,"getErrorMessage");var vj=class extends Error{static{s(this,"NotImplementedError")}constructor(e){super("NotImplemented"),e&&(this.message=e)}};zt.NotImplementedError=vj;var bj=class extends Error{static{s(this,"NotSupportedError")}constructor(e){super("NotSupported"),e&&(this.message=e)}};zt.NotSupportedError=bj;var _j=class extends Error{static{s(this,"ExpectedError")}constructor(){super(...arguments),this.isExpected=!0}};zt.ExpectedError=_j;var X1=class t extends Error{static{s(this,"ErrorNoTelemetry")}constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof t)return e;let r=new t;return r.message=e.message,r.stack=e.stack,r}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}};zt.ErrorNoTelemetry=X1;var Tj=class t extends Error{static{s(this,"BugIndicatingError")}constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}};zt.BugIndicatingError=Tj});var MT=T(Lp=>{"use strict";d();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.ok=Nst;Lp.assertNever=Qst;Lp.assert=Pst;Lp.softAssert=Fst;Lp.assertFn=Lst;Lp.checkAdjacentItems=Mst;var LT=eu();function Nst(t,e){if(!t)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}s(Nst,"ok");function Qst(t,e="Unreachable"){throw new Error(e)}s(Qst,"assertNever");function Pst(t,e="unexpected state"){if(!t)throw typeof e=="string"?new LT.BugIndicatingError(`Assertion Failed: ${e}`):e}s(Pst,"assert");function Fst(t,e="Soft Assertion Failed"){t||(0,LT.onUnexpectedError)(new LT.BugIndicatingError(e))}s(Fst,"softAssert");function Lst(t){if(!t()){debugger;t(),(0,LT.onUnexpectedError)(new LT.BugIndicatingError("Assertion Failed"))}}s(Lst,"assertFn");function Mst(t,e){let r=0;for(;r<t.length-1;){let n=t[r],o=t[r+1];if(!e(n,o))return!1;r++}return!0}s(Mst,"checkAdjacentItems")});var uk=T(Ys=>{"use strict";d();Object.defineProperty(Ys,"__esModule",{value:!0});Ys.MonotonousArray=void 0;Ys.findLast=Ost;Ys.findLastIdx=s2e;Ys.findLastMonotonous=Ust;Ys.findLastIdxMonotonous=Bj;Ys.findFirstMonotonous=qst;Ys.findFirstIdxMonotonousOrArrLen=Rj;Ys.findFirstIdxMonotonous=Hst;Ys.findFirstMax=a2e;Ys.findLastMax=Gst;Ys.findFirstMin=Vst;Ys.findMaxIdx=Wst;Ys.mapFindFirst=Yst;function Ost(t,e,r=t.length-1){let n=s2e(t,e,r);if(n!==-1)return t[n]}s(Ost,"findLast");function s2e(t,e,r=t.length-1){for(let n=r;n>=0;n--){let o=t[n];if(e(o))return n}return-1}s(s2e,"findLastIdx");function Ust(t,e){let r=Bj(t,e);return r===-1?void 0:t[r]}s(Ust,"findLastMonotonous");function Bj(t,e,r=0,n=t.length){let o=r,a=n;for(;o<a;){let c=Math.floor((o+a)/2);e(t[c])?o=c+1:a=c}return o-1}s(Bj,"findLastIdxMonotonous");function qst(t,e){let r=Rj(t,e);return r===t.length?void 0:t[r]}s(qst,"findFirstMonotonous");function Rj(t,e,r=0,n=t.length){let o=r,a=n;for(;o<a;){let c=Math.floor((o+a)/2);e(t[c])?a=c:o=c+1}return o}s(Rj,"findFirstIdxMonotonousOrArrLen");function Hst(t,e,r=0,n=t.length){let o=Rj(t,e,r,n);return o===t.length?-1:o}s(Hst,"findFirstIdxMonotonous");var Sj=class t{static{s(this,"MonotonousArray")}static{this.assertInvariants=!1}constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(t.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!e(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}let r=Bj(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};Ys.MonotonousArray=Sj;function a2e(t,e){if(t.length===0)return;let r=t[0];for(let n=1;n<t.length;n++){let o=t[n];e(o,r)>0&&(r=o)}return r}s(a2e,"findFirstMax");function Gst(t,e){if(t.length===0)return;let r=t[0];for(let n=1;n<t.length;n++){let o=t[n];e(o,r)>=0&&(r=o)}return r}s(Gst,"findLastMax");function Vst(t,e){return a2e(t,(r,n)=>-e(r,n))}s(Vst,"findFirstMin");function Wst(t,e){if(t.length===0)return-1;let r=0;for(let n=1;n<t.length;n++){let o=t[n];e(o,t[r])>0&&(r=n)}return r}s(Wst,"findMaxIdx");function Yst(t,e){for(let r of t){let n=e(r);if(n!==void 0)return n}}s(Yst,"mapFindFirst")});var OT=T(ht=>{"use strict";d();Object.defineProperty(ht,"__esModule",{value:!0});ht.Permutation=ht.CallbackIterable=ht.ArrayQueue=ht.booleanComparator=ht.numberComparator=ht.CompareResult=void 0;ht.tail=zst;ht.equals=Kst;ht.removeFastWithoutKeepingOrder=Jst;ht.binarySearch=Xst;ht.binarySearch2=c2e;ht.quickSelect=kj;ht.groupBy=Zst;ht.groupAdjacentBy=eat;ht.forEachAdjacent=tat;ht.forEachWithNeighbors=rat;ht.concatArrays=nat;ht.sortedDiff=l2e;ht.delta=iat;ht.top=oat;ht.topAsync=sat;ht.coalesce=aat;ht.coalesceInPlace=cat;ht.move=lat;ht.isFalsyOrEmpty=uat;ht.isNonEmptyArray=fat;ht.distinct=dat;ht.uniqueFilter=hat;ht.commonPrefixLength=Aat;ht.range=pat;ht.index=mat;ht.insert=gat;ht.remove=f2e;ht.arrayInsert=Cat;ht.shuffle=yat;ht.pushToStart=Eat;ht.pushToEnd=Iat;ht.pushMany=xat;ht.mapArrayOrNot=vat;ht.asArray=bat;ht.getRandomElement=_at;ht.insertInto=d2e;ht.splice=Tat;ht.compareBy=wat;ht.tieBreakComparators=Sat;ht.reverseOrder=kat;ht.compareUndefinedSmallest=Dat;ht.findAsync=Nat;ht.sum=Qat;ht.sumBy=Pat;var jst=uk(),$st=eu();function zst(t){if(t.length===0)throw new Error("Invalid tail call");return[t.slice(0,t.length-1),t[t.length-1]]}s(zst,"tail");function Kst(t,e,r=(n,o)=>n===o){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let n=0,o=t.length;n<o;n++)if(!r(t[n],e[n]))return!1;return!0}s(Kst,"equals");function Jst(t,e){let r=t.length-1;e<r&&(t[e]=t[r]),t.pop()}s(Jst,"removeFastWithoutKeepingOrder");function Xst(t,e,r){return c2e(t.length,n=>r(t[n],e))}s(Xst,"binarySearch");function c2e(t,e){let r=0,n=t-1;for(;r<=n;){let o=(r+n)/2|0,a=e(o);if(a<0)r=o+1;else if(a>0)n=o-1;else return o}return-(r+1)}s(c2e,"binarySearch2");function kj(t,e,r){if(t=t|0,t>=e.length)throw new TypeError("invalid index");let n=e[Math.floor(e.length*Math.random())],o=[],a=[],c=[];for(let l of e){let u=r(l,n);u<0?o.push(l):u>0?a.push(l):c.push(l)}return t<o.length?kj(t,o,r):t<o.length+c.length?c[0]:kj(t-(o.length+c.length),a,r)}s(kj,"quickSelect");function Zst(t,e){let r=[],n;for(let o of t.slice(0).sort(e))!n||e(n[0],o)!==0?(n=[o],r.push(n)):n.push(o);return r}s(Zst,"groupBy");function*eat(t,e){let r,n;for(let o of t)n!==void 0&&e(n,o)?r.push(o):(r&&(yield r),r=[o]),n=o;r&&(yield r)}s(eat,"groupAdjacentBy");function tat(t,e){for(let r=0;r<=t.length;r++)e(r===0?void 0:t[r-1],r===t.length?void 0:t[r])}s(tat,"forEachAdjacent");function rat(t,e){for(let r=0;r<t.length;r++)e(r===0?void 0:t[r-1],t[r],r+1===t.length?void 0:t[r+1])}s(rat,"forEachWithNeighbors");function nat(...t){return[].concat(...t)}s(nat,"concatArrays");function l2e(t,e,r){let n=[];function o(l,u,f){if(u===0&&f.length===0)return;let h=n[n.length-1];h&&h.start+h.deleteCount===l?(h.deleteCount+=u,h.toInsert.push(...f)):n.push({start:l,deleteCount:u,toInsert:f})}s(o,"pushSplice");let a=0,c=0;for(;;){if(a===t.length){o(a,0,e.slice(c));break}if(c===e.length){o(a,t.length-a,[]);break}let l=t[a],u=e[c],f=r(l,u);f===0?(a+=1,c+=1):f<0?(o(a,1,[]),a+=1):f>0&&(o(a,0,[u]),c+=1)}return n}s(l2e,"sortedDiff");function iat(t,e,r){let n=l2e(t,e,r),o=[],a=[];for(let c of n)o.push(...t.slice(c.start,c.start+c.deleteCount)),a.push(...c.toInsert);return{removed:o,added:a}}s(iat,"delta");function oat(t,e,r){if(r===0)return[];let n=t.slice(0,r).sort(e);return u2e(t,e,n,r,t.length),n}s(oat,"top");function sat(t,e,r,n,o){return r===0?Promise.resolve([]):new Promise((a,c)=>{(async()=>{let l=t.length,u=t.slice(0,r).sort(e);for(let f=r,h=Math.min(r+n,l);f<l;f=h,h=Math.min(h+n,l)){if(f>r&&await new Promise(A=>setTimeout(A)),o&&o.isCancellationRequested)throw new $st.CancellationError;u2e(t,e,u,f,h)}return u})().then(a,c)})}s(sat,"topAsync");function u2e(t,e,r,n,o){for(let a=r.length;n<o;n++){let c=t[n];if(e(c,r[a-1])<0){r.pop();let l=(0,jst.findFirstIdxMonotonousOrArrLen)(r,u=>e(c,u)<0);r.splice(l,0,c)}}}s(u2e,"topStep");function aat(t){return t.filter(e=>!!e)}s(aat,"coalesce");function cat(t){let e=0;for(let r=0;r<t.length;r++)t[r]&&(t[e]=t[r],e+=1);t.length=e}s(cat,"coalesceInPlace");function lat(t,e,r){t.splice(r,0,t.splice(e,1)[0])}s(lat,"move");function uat(t){return!Array.isArray(t)||t.length===0}s(uat,"isFalsyOrEmpty");function fat(t){return Array.isArray(t)&&t.length>0}s(fat,"isNonEmptyArray");function dat(t,e=r=>r){let r=new Set;return t.filter(n=>{let o=e(n);return r.has(o)?!1:(r.add(o),!0)})}s(dat,"distinct");function hat(t){let e=new Set;return r=>{let n=t(r);return e.has(n)?!1:(e.add(n),!0)}}s(hat,"uniqueFilter");function Aat(t,e,r=(n,o)=>n===o){let n=0;for(let o=0,a=Math.min(t.length,e.length);o<a&&r(t[o],e[o]);o++)n++;return n}s(Aat,"commonPrefixLength");function pat(t,e){let r=typeof e=="number"?t:0;typeof e=="number"?r=t:(r=0,e=t);let n=[];if(r<=e)for(let o=r;o<e;o++)n.push(o);else for(let o=r;o>e;o--)n.push(o);return n}s(pat,"range");function mat(t,e,r){return t.reduce((n,o)=>(n[e(o)]=r?r(o):o,n),Object.create(null))}s(mat,"index");function gat(t,e){return t.push(e),()=>f2e(t,e)}s(gat,"insert");function f2e(t,e){let r=t.indexOf(e);if(r>-1)return t.splice(r,1),e}s(f2e,"remove");function Cat(t,e,r){let n=t.slice(0,e),o=t.slice(e);return n.concat(r,o)}s(Cat,"arrayInsert");function yat(t,e){let r;if(typeof e=="number"){let n=e;r=s(()=>{let o=Math.sin(n++)*179426549;return o-Math.floor(o)},"rand")}else r=Math.random;for(let n=t.length-1;n>0;n-=1){let o=Math.floor(r()*(n+1)),a=t[n];t[n]=t[o],t[o]=a}}s(yat,"shuffle");function Eat(t,e){let r=t.indexOf(e);r>-1&&(t.splice(r,1),t.unshift(e))}s(Eat,"pushToStart");function Iat(t,e){let r=t.indexOf(e);r>-1&&(t.splice(r,1),t.push(e))}s(Iat,"pushToEnd");function xat(t,e){for(let r of e)t.push(r)}s(xat,"pushMany");function vat(t,e){return Array.isArray(t)?t.map(e):e(t)}s(vat,"mapArrayOrNot");function bat(t){return Array.isArray(t)?t:[t]}s(bat,"asArray");function _at(t){return t[Math.floor(Math.random()*t.length)]}s(_at,"getRandomElement");function d2e(t,e,r){let n=h2e(t,e),o=t.length,a=r.length;t.length=o+a;for(let c=o-1;c>=n;c--)t[c+a]=t[c];for(let c=0;c<a;c++)t[c+n]=r[c]}s(d2e,"insertInto");function Tat(t,e,r,n){let o=h2e(t,e),a=t.splice(o,r);return a===void 0&&(a=[]),d2e(t,o,n),a}s(Tat,"splice");function h2e(t,e){return e<0?Math.max(e+t.length,0):Math.min(e,t.length)}s(h2e,"getActualStartIndex");var Mp;(function(t){function e(a){return a<0}s(e,"isLessThan"),t.isLessThan=e;function r(a){return a<=0}s(r,"isLessThanOrEqual"),t.isLessThanOrEqual=r;function n(a){return a>0}s(n,"isGreaterThan"),t.isGreaterThan=n;function o(a){return a===0}s(o,"isNeitherLessOrGreaterThan"),t.isNeitherLessOrGreaterThan=o,t.greaterThan=1,t.lessThan=-1,t.neitherLessOrGreaterThan=0})(Mp||(ht.CompareResult=Mp={}));function wat(t,e){return(r,n)=>e(t(r),t(n))}s(wat,"compareBy");function Sat(...t){return(e,r)=>{for(let n of t){let o=n(e,r);if(!Mp.isNeitherLessOrGreaterThan(o))return o}return Mp.neitherLessOrGreaterThan}}s(Sat,"tieBreakComparators");var Bat=s((t,e)=>t-e,"numberComparator");ht.numberComparator=Bat;var Rat=s((t,e)=>(0,ht.numberComparator)(t?1:0,e?1:0),"booleanComparator");ht.booleanComparator=Rat;function kat(t){return(e,r)=>-t(e,r)}s(kat,"reverseOrder");function Dat(t){return(e,r)=>e===void 0?r===void 0?Mp.neitherLessOrGreaterThan:Mp.lessThan:r===void 0?Mp.greaterThan:t(e,r)}s(Dat,"compareUndefinedSmallest");var Dj=class{static{s(this,"ArrayQueue")}constructor(e){this.firstIdx=0,this.items=e,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let r=this.firstIdx;for(;r<this.items.length&&e(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(e){let r=this.lastIdx;for(;r>=0&&e(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let e=this.items[this.firstIdx];return this.firstIdx++,e}removeLast(){let e=this.items[this.lastIdx];return this.lastIdx--,e}takeCount(e){let r=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,r}};ht.ArrayQueue=Dj;var Nj=class t{static{s(this,"CallbackIterable")}static{this.empty=new t(e=>{})}constructor(e){this.iterate=e}forEach(e){this.iterate(r=>(e(r),!0))}toArray(){let e=[];return this.iterate(r=>(e.push(r),!0)),e}filter(e){return new t(r=>this.iterate(n=>e(n)?r(n):!0))}map(e){return new t(r=>this.iterate(n=>r(e(n))))}some(e){let r=!1;return this.iterate(n=>(r=e(n),!r)),r}findFirst(e){let r;return this.iterate(n=>e(n)?(r=n,!1):!0),r}findLast(e){let r;return this.iterate(n=>(e(n)&&(r=n),!0)),r}findLastMaxBy(e){let r,n=!0;return this.iterate(o=>((n||Mp.isGreaterThan(e(o,r)))&&(n=!1,r=o),!0)),r}};ht.CallbackIterable=Nj;var Qj=class t{static{s(this,"Permutation")}constructor(e){this._indexMap=e}static createSortPermutation(e,r){let n=Array.from(e.keys()).sort((o,a)=>r(e[o],e[a]));return new t(n)}apply(e){return e.map((r,n)=>e[this._indexMap[n]])}inverse(){let e=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)e[this._indexMap[r]]=r;return new t(e)}};ht.Permutation=Qj;async function Nat(t,e){return(await Promise.all(t.map(async(n,o)=>({element:n,ok:await e(n,o)})))).find(n=>n.ok)?.element}s(Nat,"findAsync");function Qat(t){return t.reduce((e,r)=>e+r,0)}s(Qat,"sum");function Pat(t,e){return t.reduce((r,n)=>r+e(n),0)}s(Pat,"sumBy")});var Fj=T(hh=>{"use strict";d();var A2e;Object.defineProperty(hh,"__esModule",{value:!0});hh.SetWithKey=void 0;hh.groupBy=Fat;hh.groupByMap=Lat;hh.diffSets=Mat;hh.diffMaps=Oat;hh.intersection=Uat;function Fat(t,e){let r=Object.create(null);for(let n of t){let o=e(n),a=r[o];a||(a=r[o]=[]),a.push(n)}return r}s(Fat,"groupBy");function Lat(t,e){let r=new Map;for(let n of t){let o=e(n),a=r.get(o);a||(a=[],r.set(o,a)),a.push(n)}return r}s(Lat,"groupByMap");function Mat(t,e){let r=[],n=[];for(let o of t)e.has(o)||r.push(o);for(let o of e)t.has(o)||n.push(o);return{removed:r,added:n}}s(Mat,"diffSets");function Oat(t,e){let r=[],n=[];for(let[o,a]of t)e.has(o)||r.push(a);for(let[o,a]of e)t.has(o)||n.push(a);return{removed:r,added:n}}s(Oat,"diffMaps");function Uat(t,e){let r=new Set;for(let n of e)t.has(n)&&r.add(n);return r}s(Uat,"intersection");var Pj=class{static{s(this,"SetWithKey")}static{A2e=Symbol.toStringTag}constructor(e,r){this.toKey=r,this._map=new Map,this[A2e]="SetWithKey";for(let n of e)this.add(n)}get size(){return this._map.size}add(e){let r=this.toKey(e);return this._map.set(r,e),this}delete(e){return this._map.delete(this.toKey(e))}has(e){return this._map.has(this.toKey(e))}*entries(){for(let e of this._map.values())yield[e,e]}keys(){return this.values()}*values(){for(let e of this._map.values())yield e}clear(){this._map.clear()}forEach(e,r){this._map.forEach(n=>e.call(r,n,n,this))}[Symbol.iterator](){return this.values()}};hh.SetWithKey=Pj});var C2e=T(mi=>{"use strict";d();var p2e,m2e,g2e;Object.defineProperty(mi,"__esModule",{value:!0});mi.NKeyMap=mi.SetMap=mi.BidirectionalMap=mi.CounterSet=mi.MRUCache=mi.LRUCache=mi.LinkedMap=mi.ResourceSet=mi.ResourceMap=void 0;mi.getOrSet=qat;mi.mapToString=Hat;mi.setToString=Gat;mi.mapsStrictEqualIgnoreOrder=Wat;function qat(t,e,r){let n=t.get(e);return n===void 0&&(n=r,t.set(e,n)),n}s(qat,"getOrSet");function Hat(t){let e=[];return t.forEach((r,n)=>{e.push(`${n} => ${r}`)}),`Map(${t.size}) {${e.join(", ")}}`}s(Hat,"mapToString");function Gat(t){let e=[];return t.forEach(r=>{e.push(r)}),`Set(${t.size}) {${e.join(", ")}}`}s(Gat,"setToString");var Lj=class{static{s(this,"ResourceMapEntry")}constructor(e,r){this.uri=e,this.value=r}};function Vat(t){return Array.isArray(t)}s(Vat,"isEntries");var UT=class t{static{s(this,"ResourceMap")}static{this.defaultToKey=e=>e.toString()}constructor(e,r){if(this[p2e]="ResourceMap",e instanceof t)this.map=new Map(e.map),this.toKey=r??t.defaultToKey;else if(Vat(e)){this.map=new Map,this.toKey=r??t.defaultToKey;for(let[n,o]of e)this.set(n,o)}else this.map=new Map,this.toKey=e??t.defaultToKey}set(e,r){return this.map.set(this.toKey(e),new Lj(e,r)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,r){typeof r<"u"&&(e=e.bind(r));for(let[n,o]of this.map)e(o.value,o.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(p2e=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}};mi.ResourceMap=UT;var Mj=class{static{s(this,"ResourceSet")}constructor(e,r){this[m2e]="ResourceSet",!e||typeof e=="function"?this._map=new UT(e):(this._map=new UT(r),e.forEach(this.add,this))}get size(){return this._map.size}add(e){return this._map.set(e,e),this}clear(){this._map.clear()}delete(e){return this._map.delete(e)}forEach(e,r){this._map.forEach((n,o)=>e.call(r,o,o,this))}has(e){return this._map.has(e)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(m2e=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};mi.ResourceSet=Mj;var fk=class{static{s(this,"LinkedMap")}constructor(){this[g2e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=0){let n=this._map.get(e);if(n)return r!==0&&this.touch(n,r),n.value}set(e,r,n=0){let o=this._map.get(e);if(o)o.value=r,n!==0&&this.touch(o,n);else{switch(o={key:e,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,o=this._head;for(;o;){if(r?e.bind(r)(o.value,o.key,this):e(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.key,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}values(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.value,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}entries(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:[n.key,n.value],done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}[(g2e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(e===this._head)return;let n=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===2){if(e===this._tail)return;let n=e.next,o=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};mi.LinkedMap=fk;var dk=class extends fk{static{s(this,"Cache")}constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=2){return super.get(e,r)}peek(e){return super.get(e,0)}set(e,r){return super.set(e,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},Oj=class extends dk{static{s(this,"LRUCache")}constructor(e,r=1){super(e,r)}trim(e){this.trimOld(e)}set(e,r){return super.set(e,r),this.checkTrim(),this}};mi.LRUCache=Oj;var Uj=class extends dk{static{s(this,"MRUCache")}constructor(e,r=1){super(e,r)}trim(e){this.trimNew(e)}set(e,r){return this._limit<=this.size&&!this.has(e)&&this.trim(Math.round(this._limit*this._ratio)-1),super.set(e,r),this}};mi.MRUCache=Uj;var qj=class{static{s(this,"CounterSet")}constructor(){this.map=new Map}add(e){return this.map.set(e,(this.map.get(e)||0)+1),this}delete(e){let r=this.map.get(e)||0;return r===0?!1:(r--,r===0?this.map.delete(e):this.map.set(e,r),!0)}has(e){return this.map.has(e)}};mi.CounterSet=qj;var Hj=class{static{s(this,"BidirectionalMap")}constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(let[r,n]of e)this.set(r,n)}clear(){this._m1.clear(),this._m2.clear()}set(e,r){this._m1.set(e,r),this._m2.set(r,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){let r=this._m1.get(e);return r===void 0?!1:(this._m1.delete(e),this._m2.delete(r),!0)}forEach(e,r){this._m1.forEach((n,o)=>{e.call(r,n,o,this)})}keys(){return this._m1.keys()}values(){return this._m1.values()}};mi.BidirectionalMap=Hj;var Gj=class{static{s(this,"SetMap")}constructor(){this.map=new Map}add(e,r){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(r)}delete(e,r){let n=this.map.get(e);n&&(n.delete(r),n.size===0&&this.map.delete(e))}forEach(e,r){let n=this.map.get(e);n&&n.forEach(r)}get(e){let r=this.map.get(e);return r||new Set}};mi.SetMap=Gj;function Wat(t,e){if(t===e)return!0;if(t.size!==e.size)return!1;for(let[r,n]of t)if(!e.has(r)||e.get(r)!==n)return!1;for(let[r]of e)if(!t.has(r))return!1;return!0}s(Wat,"mapsStrictEqualIgnoreOrder");var Vj=class{static{s(this,"NKeyMap")}constructor(){this._data=new Map}set(e,...r){let n=this._data;for(let o=0;o<r.length-1;o++)n.has(r[o])||n.set(r[o],new Map),n=n.get(r[o]);n.set(r[r.length-1],e)}get(...e){let r=this._data;for(let n=0;n<e.length-1;n++){if(!r.has(e[n]))return;r=r.get(e[n])}return r.get(e[e.length-1])}clear(){this._data.clear()}*values(){function*e(r){for(let n of r.values())n instanceof Map?yield*e(n):yield n}s(e,"iterate"),yield*e(this._data)}toString(){let e=s((r,n)=>{let o="";for(let[a,c]of r)o+=`${"  ".repeat(n)}${a}: `,c instanceof Map?o+=`
`+e(c,n+1):o+=`${c}
`;return o},"printMap");return e(this._data,0)}};mi.NKeyMap=Vj});var Yj=T(Wj=>{"use strict";d();Object.defineProperty(Wj,"__esModule",{value:!0});Wj.createSingleCallFunction=Yat;function Yat(t,e){let r=this,n=!1,o;return function(){if(n)return o;if(n=!0,e)try{o=t.apply(r,arguments)}finally{e()}else o=t.apply(r,arguments);return o}}s(Yat,"createSingleCallFunction")});var zj=T(Gn=>{"use strict";d();Object.defineProperty(Gn,"__esModule",{value:!0});Gn.isOneOf=void 0;Gn.isString=jj;Gn.isStringArray=$at;Gn.isObject=y2e;Gn.isTypedArray=zat;Gn.isNumber=Kat;Gn.isIterable=Jat;Gn.isAsyncIterable=Xat;Gn.isBoolean=Zat;Gn.isUndefined=E2e;Gn.isDefined=ect;Gn.isUndefinedOrNull=hk;Gn.assertType=tct;Gn.assertReturnsDefined=rct;Gn.assertDefined=nct;Gn.assertReturnsAllDefined=ict;Gn.typeCheck=sct;Gn.isEmptyObject=cct;Gn.isFunction=$j;Gn.areFunctions=lct;Gn.validateConstraints=uct;Gn.validateConstraint=I2e;Gn.upcast=fct;var jat=MT();function jj(t){return typeof t=="string"}s(jj,"isString");function $at(t){return Array.isArray(t)&&t.every(e=>jj(e))}s($at,"isStringArray");function y2e(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}s(y2e,"isObject");function zat(t){let e=Object.getPrototypeOf(Uint8Array);return typeof t=="object"&&t instanceof e}s(zat,"isTypedArray");function Kat(t){return typeof t=="number"&&!isNaN(t)}s(Kat,"isNumber");function Jat(t){return!!t&&typeof t[Symbol.iterator]=="function"}s(Jat,"isIterable");function Xat(t){return!!t&&typeof t[Symbol.asyncIterator]=="function"}s(Xat,"isAsyncIterable");function Zat(t){return t===!0||t===!1}s(Zat,"isBoolean");function E2e(t){return typeof t>"u"}s(E2e,"isUndefined");function ect(t){return!hk(t)}s(ect,"isDefined");function hk(t){return E2e(t)||t===null}s(hk,"isUndefinedOrNull");function tct(t,e){if(!t)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}s(tct,"assertType");function rct(t){return(0,jat.assert)(t!=null,"Argument is `undefined` or `null`."),t}s(rct,"assertReturnsDefined");function nct(t,e){if(t==null)throw typeof e=="string"?new Error(e):e}s(nct,"assertDefined");function ict(...t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];if(hk(n))throw new Error(`Assertion Failed: argument at index ${r} is undefined or null`);e.push(n)}return e}s(ict,"assertReturnsAllDefined");var oct=s((t,e)=>e.includes(t),"isOneOf");Gn.isOneOf=oct;function sct(t){}s(sct,"typeCheck");var act=Object.prototype.hasOwnProperty;function cct(t){if(!y2e(t))return!1;for(let e in t)if(act.call(t,e))return!1;return!0}s(cct,"isEmptyObject");function $j(t){return typeof t=="function"}s($j,"isFunction");function lct(...t){return t.length>0&&t.every($j)}s(lct,"areFunctions");function uct(t,e){let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)I2e(t[n],e[n])}s(uct,"validateConstraints");function I2e(t,e){if(jj(e)){if(typeof t!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if($j(e)){try{if(t instanceof e)return}catch{}if(!hk(t)&&t.constructor===e||e.length===1&&e.call(void 0,t)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}s(I2e,"validateConstraint");function fct(t){return t}s(fct,"upcast")});var v2e=T(Ak=>{"use strict";d();Object.defineProperty(Ak,"__esModule",{value:!0});Ak.Iterable=void 0;var dct=zj(),x2e;(function(t){function e(w){return!!w&&typeof w=="object"&&typeof w[Symbol.iterator]=="function"}s(e,"is"),t.is=e;let r=Object.freeze([]);function n(){return r}s(n,"empty"),t.empty=n;function*o(w){yield w}s(o,"single"),t.single=o;function a(w){return e(w)?w:o(w)}s(a,"wrap"),t.wrap=a;function c(w){return w||r}s(c,"from"),t.from=c;function*l(w){for(let L=w.length-1;L>=0;L--)yield w[L]}s(l,"reverse"),t.reverse=l;function u(w){return!w||w[Symbol.iterator]().next().done===!0}s(u,"isEmpty"),t.isEmpty=u;function f(w){return w[Symbol.iterator]().next().value}s(f,"first"),t.first=f;function h(w,L){let M=0;for(let Y of w)if(L(Y,M++))return!0;return!1}s(h,"some"),t.some=h;function A(w,L){let M=0;for(let Y of w)if(!L(Y,M++))return!1;return!0}s(A,"every"),t.every=A;function p(w,L){for(let M of w)if(L(M))return M}s(p,"find"),t.find=p;function*m(w,L){for(let M of w)L(M)&&(yield M)}s(m,"filter"),t.filter=m;function*g(w,L){let M=0;for(let Y of w)yield L(Y,M++)}s(g,"map"),t.map=g;function*y(w,L){let M=0;for(let Y of w)yield*L(Y,M++)}s(y,"flatMap"),t.flatMap=y;function*E(...w){for(let L of w)(0,dct.isIterable)(L)?yield*L:yield L}s(E,"concat"),t.concat=E;function I(w,L,M){let Y=M;for(let D of w)Y=L(Y,D);return Y}s(I,"reduce"),t.reduce=I;function x(w){let L=0;for(let M of w)L++;return L}s(x,"length"),t.length=x;function*v(w,L,M=w.length){for(L<-w.length&&(L=0),L<0&&(L+=w.length),M<0?M+=w.length:M>w.length&&(M=w.length);L<M;L++)yield w[L]}s(v,"slice"),t.slice=v;function b(w,L=Number.POSITIVE_INFINITY){let M=[];if(L===0)return[M,w];let Y=w[Symbol.iterator]();for(let D=0;D<L;D++){let O=Y.next();if(O.done)return[M,t.empty()];M.push(O.value)}return[M,{[Symbol.iterator](){return Y}}]}s(b,"consume"),t.consume=b;async function _(w){let L=[];for await(let M of w)L.push(M);return L}s(_,"asyncToArray"),t.asyncToArray=_;async function S(w){let L=[];for await(let M of w)L=L.concat(M);return L}s(S,"asyncToArrayFlat"),t.asyncToArrayFlat=S})(x2e||(Ak.Iterable=x2e={}))});var HT=T(Qr=>{"use strict";d();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.DisposableMap=Qr.ImmortalReference=Qr.AsyncReferenceCollection=Qr.ReferenceCollection=Qr.RefCountedDisposable=Qr.MandatoryMutableDisposable=Qr.MutableDisposable=Qr.Disposable=Qr.DisposableStore=Qr.DisposableTracker=Qr.GCBasedDisposableTracker=void 0;Qr.setDisposableTracker=w2e;Qr.trackDisposable=x2;Qr.markAsDisposed=v2;Qr.markAsSingleton=Cct;Qr.isDisposable=S2e;Qr.dispose=mk;Qr.disposeIfDisposable=yct;Qr.combinedDisposable=Ect;Qr.toDisposable=i$;Qr.disposeOnReturn=Ict;Qr.thenIfNotDisposed=xct;Qr.thenRegisterOrDispose=vct;var b2e=OT(),hct=Fj(),Act=C2e(),T2e=Yj(),pct=v2e(),_2e=eu(),mct=!1,Z1=null,Kj=class{static{s(this,"GCBasedDisposableTracker")}constructor(){this._registry=new FinalizationRegistry(e=>{console.warn(`[LEAKED DISPOSABLE] ${e}`)})}trackDisposable(e){let r=new Error("CREATED via:").stack;this._registry.register(e,r,e)}setParent(e,r){r?this._registry.unregister(e):this.trackDisposable(e)}markAsDisposed(e){this._registry.unregister(e)}markAsSingleton(e){this._registry.unregister(e)}};Qr.GCBasedDisposableTracker=Kj;var Jj=class t{static{s(this,"DisposableTracker")}constructor(){this.livingDisposables=new Map}static{this.idx=0}getDisposableData(e){let r=this.livingDisposables.get(e);return r||(r={parent:null,source:null,isSingleton:!1,value:e,idx:t.idx++},this.livingDisposables.set(e,r)),r}trackDisposable(e){let r=this.getDisposableData(e);r.source||(r.source=new Error().stack)}setParent(e,r){let n=this.getDisposableData(e);n.parent=r}markAsDisposed(e){this.livingDisposables.delete(e)}markAsSingleton(e){this.getDisposableData(e).isSingleton=!0}getRootParent(e,r){let n=r.get(e);if(n)return n;let o=e.parent?this.getRootParent(this.getDisposableData(e.parent),r):e;return r.set(e,o),o}getTrackedDisposables(){let e=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,e).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(e=10,r){let n;if(r)n=r;else{let u=new Map,f=[...this.livingDisposables.values()].filter(A=>A.source!==null&&!this.getRootParent(A,u).isSingleton);if(f.length===0)return;let h=new Set(f.map(A=>A.value));if(n=f.filter(A=>!(A.parent&&h.has(A.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function o(u){function f(A,p){for(;A.length>0&&p.some(m=>typeof m=="string"?m===A[0]:A[0].match(m));)A.shift()}s(f,"removePrefix");let h=u.source.split(`
`).map(A=>A.trim().replace("at ","")).filter(A=>A!=="");return f(h,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),h.reverse()}s(o,"getStackTracePath");let a=new Act.SetMap;for(let u of n){let f=o(u);for(let h=0;h<=f.length;h++)a.add(f.slice(0,h).join(`
`),u)}n.sort((0,b2e.compareBy)(u=>u.idx,b2e.numberComparator));let c="",l=0;for(let u of n.slice(0,e)){l++;let f=o(u),h=[];for(let A=0;A<f.length;A++){let p=f[A];p=`(shared with ${a.get(f.slice(0,A+1).join(`
`)).size}/${n.length} leaks) at ${p}`;let g=a.get(f.slice(0,A).join(`
`)),y=(0,hct.groupBy)([...g].map(E=>o(E)[A]),E=>E);delete y[f[A]];for(let[E,I]of Object.entries(y))h.unshift(`    - stacktraces of ${I.length} other leaks continue with ${E}`);h.unshift(p)}c+=`


==================== Leaking disposable ${l}/${n.length}: ${u.value.constructor.name} ====================
${h.join(`
`)}
============================================================

`}return n.length>e&&(c+=`


... and ${n.length-e} more leaking disposables

`),{leaks:n,details:c}}};Qr.DisposableTracker=Jj;function w2e(t){Z1=t}s(w2e,"setDisposableTracker");if(mct){let t="__is_disposable_tracked__";w2e(new class{trackDisposable(e){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[t]||console.log(r)},3e3)}setParent(e,r){if(e&&e!==I2.None)try{e[t]=!0}catch{}}markAsDisposed(e){if(e&&e!==I2.None)try{e[t]=!0}catch{}}markAsSingleton(e){}})}function x2(t){return Z1?.trackDisposable(t),t}s(x2,"trackDisposable");function v2(t){Z1?.markAsDisposed(t)}s(v2,"markAsDisposed");function eC(t,e){Z1?.setParent(t,e)}s(eC,"setParentOfDisposable");function gct(t,e){if(Z1)for(let r of t)Z1.setParent(r,e)}s(gct,"setParentOfDisposables");function Cct(t){return Z1?.markAsSingleton(t),t}s(Cct,"markAsSingleton");function S2e(t){return typeof t=="object"&&t!==null&&typeof t.dispose=="function"&&t.dispose.length===0}s(S2e,"isDisposable");function mk(t){if(pct.Iterable.is(t)){let e=[];for(let r of t)if(r)try{r.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}s(mk,"dispose");function yct(t){for(let e of t)S2e(e)&&e.dispose();return[]}s(yct,"disposeIfDisposable");function Ect(...t){let e=i$(()=>mk(t));return gct(t,e),e}s(Ect,"combinedDisposable");function i$(t){let e=x2({dispose:(0,T2e.createSingleCallFunction)(()=>{v2(e),t()})});return e}s(i$,"toDisposable");var qT=class t{static{s(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}constructor(){this._toDispose=new Set,this._isDisposed=!1,x2(this)}dispose(){this._isDisposed||(v2(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{mk(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e||e===I2.None)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return eC(e,this),this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),eC(e,null))}assertNotDisposed(){this._isDisposed&&(0,_2e.onUnexpectedError)(new _2e.BugIndicatingError("Object disposed"))}};Qr.DisposableStore=qT;var I2=class{static{s(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}constructor(){this._store=new qT,x2(this),eC(this._store,this)}dispose(){v2(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};Qr.Disposable=I2;var pk=class{static{s(this,"MutableDisposable")}constructor(){this._isDisposed=!1,x2(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),e&&eC(e,this),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,v2(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&eC(e,null),e}};Qr.MutableDisposable=pk;var Xj=class{static{s(this,"MandatoryMutableDisposable")}constructor(e){this._disposable=new pk,this._isDisposed=!1,this._disposable.value=e}get value(){return this._disposable.value}set value(e){this._isDisposed||e===this._disposable.value||(this._disposable.value=e)}dispose(){this._isDisposed=!0,this._disposable.dispose()}};Qr.MandatoryMutableDisposable=Xj;var Zj=class{static{s(this,"RefCountedDisposable")}constructor(e){this._disposable=e,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}};Qr.RefCountedDisposable=Zj;var e$=class{static{s(this,"ReferenceCollection")}constructor(){this.references=new Map}acquire(e,...r){let n=this.references.get(e);n||(n={counter:0,object:this.createReferencedObject(e,...r)},this.references.set(e,n));let{object:o}=n,a=(0,T2e.createSingleCallFunction)(()=>{--n.counter===0&&(this.destroyReferencedObject(e,n.object),this.references.delete(e))});return n.counter++,{object:o,dispose:a}}};Qr.ReferenceCollection=e$;var t$=class{static{s(this,"AsyncReferenceCollection")}constructor(e){this.referenceCollection=e}async acquire(e,...r){let n=this.referenceCollection.acquire(e,...r);try{return{object:await n.object,dispose:s(()=>n.dispose(),"dispose")}}catch(o){throw n.dispose(),o}}};Qr.AsyncReferenceCollection=t$;var r$=class{static{s(this,"ImmortalReference")}constructor(e){this.object=e}dispose(){}};Qr.ImmortalReference=r$;function Ict(t){let e=new qT;try{t(e)}finally{e.dispose()}}s(Ict,"disposeOnReturn");var n$=class{static{s(this,"DisposableMap")}constructor(){this._store=new Map,this._isDisposed=!1,x2(this)}dispose(){v2(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{mk(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,r,n=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),n||this._store.get(e)?.dispose(),this._store.set(e,r),eC(r,this)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){let r=this._store.get(e);return r&&eC(r,null),this._store.delete(e),r}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};Qr.DisposableMap=n$;function xct(t,e){let r=!1;return t.then(n=>{r||e(n)}),i$(()=>{r=!0})}s(xct,"thenIfNotDisposed");function vct(t,e){return t.then(r=>(e.isDisposed?r.dispose():e.add(r),r))}s(vct,"thenRegisterOrDispose")});var e0=T(tC=>{"use strict";d();Object.defineProperty(tC,"__esModule",{value:!0});tC.DebugNameData=void 0;tC.getDebugName=D2e;tC.getClassName=N2e;tC.getFunctionName=Q2e;var o$=class{static{s(this,"DebugNameData")}constructor(e,r,n){this.owner=e,this.debugNameSource=r,this.referenceFn=n}getDebugName(e){return D2e(e,this)}};tC.DebugNameData=o$;var B2e=new Map,s$=new WeakMap;function D2e(t,e){let r=s$.get(t);if(r)return r;let n=bct(t,e);if(n){let o=B2e.get(n)??0;o++,B2e.set(n,o);let a=o===1?n:`${n}#${o}`;return s$.set(t,a),a}}s(D2e,"getDebugName");function bct(t,e){let r=s$.get(t);if(r)return r;let n=e.owner?Tct(e.owner)+".":"",o,a=e.debugNameSource;if(a!==void 0)if(typeof a=="function"){if(o=a(),o!==void 0)return n+o}else return n+a;let c=e.referenceFn;if(c!==void 0&&(o=Q2e(c),o!==void 0))return n+o;if(e.owner!==void 0){let l=_ct(e.owner,t);if(l!==void 0)return n+l}}s(bct,"computeDebugName");function _ct(t,e){for(let r in t)if(t[r]===e)return r}s(_ct,"findKey");var R2e=new Map,k2e=new WeakMap;function Tct(t){let e=k2e.get(t);if(e)return e;let r=N2e(t)??"Object",n=R2e.get(r)??0;n++,R2e.set(r,n);let o=n===1?r:`${r}#${n}`;return k2e.set(t,o),o}s(Tct,"formatOwner");function N2e(t){let e=t.constructor;if(e)return e.name==="Object"?void 0:e.name}s(N2e,"getClassName");function Q2e(t){let e=t.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(n?n[1]:void 0)?.trim()}s(Q2e,"getFunctionName")});var F2e=T(ys=>{"use strict";d();var wct=ys&&ys.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sct=ys&&ys.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bct=ys&&ys.__importStar||function(){var t=s(function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},t(e)},"ownKeys");return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),o=0;o<n.length;o++)n[o]!=="default"&&wct(r,e,n[o]);return Sct(r,e),r}}();Object.defineProperty(ys,"__esModule",{value:!0});ys.strictEquals=void 0;ys.itemsEquals=Dct;ys.jsonStringifyEquals=Nct;ys.itemEquals=Qct;ys.equalsIfDefined=Pct;ys.structuralEquals=a$;ys.getStructuralKey=Fct;var Rct=Bct(OT()),kct=s((t,e)=>t===e,"strictEquals");ys.strictEquals=kct;function Dct(t=ys.strictEquals){return(e,r)=>Rct.equals(e,r,t)}s(Dct,"itemsEquals");function Nct(){return(t,e)=>JSON.stringify(t)===JSON.stringify(e)}s(Nct,"jsonStringifyEquals");function Qct(){return(t,e)=>t.equals(e)}s(Qct,"itemEquals");function Pct(t,e,r){if(r!==void 0){let n=t;return n==null||e===void 0||e===null?e===n:r(n,e)}else{let n=t;return(o,a)=>o==null||a===void 0||a===null?a===o:n(o,a)}}s(Pct,"equalsIfDefined");function a$(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!a$(t[r],e[r]))return!1;return!0}if(t&&typeof t=="object"&&e&&typeof e=="object"&&Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){let r=t,n=e,o=Object.keys(r),a=Object.keys(n),c=new Set(a);if(o.length!==a.length)return!1;for(let l of o)if(!c.has(l)||!a$(r[l],n[l]))return!1;return!0}return!1}s(a$,"structuralEquals");function Fct(t){return JSON.stringify(c$(t))}s(Fct,"getStructuralKey");var Lct=0,P2e=new WeakMap;function c$(t){if(Array.isArray(t))return t.map(c$);if(t&&typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){let e=t,r=Object.create(null);for(let n of Object.keys(e).sort())r[n]=c$(e[n]);return r}else{let e=P2e.get(t);return e===void 0&&(e=Lct++,P2e.set(t,e)),e+"----2b76a038c20c4bcc"}return t}s(c$,"toNormalizedJsonStructure")});var L2e=T(gk=>{"use strict";d();Object.defineProperty(gk,"__esModule",{value:!0});gk.LinkedList=void 0;var ii=class t{static{s(this,"Node")}static{this.Undefined=new t(void 0)}constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}},l$=class{static{s(this,"LinkedList")}constructor(){this._first=ii.Undefined,this._last=ii.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===ii.Undefined}clear(){let e=this._first;for(;e!==ii.Undefined;){let r=e.next;e.prev=ii.Undefined,e.next=ii.Undefined,e=r}this._first=ii.Undefined,this._last=ii.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,r){let n=new ii(e);if(this._first===ii.Undefined)this._first=n,this._last=n;else if(r){let a=this._last;this._last=n,n.prev=a,a.next=n}else{let a=this._first;this._first=n,n.next=a,a.prev=n}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(n))}}shift(){if(this._first!==ii.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==ii.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==ii.Undefined&&e.next!==ii.Undefined){let r=e.prev;r.next=e.next,e.next.prev=r}else e.prev===ii.Undefined&&e.next===ii.Undefined?(this._first=ii.Undefined,this._last=ii.Undefined):e.next===ii.Undefined?(this._last=this._last.prev,this._last.next=ii.Undefined):e.prev===ii.Undefined&&(this._first=this._first.next,this._first.prev=ii.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==ii.Undefined;)yield e.element,e=e.next}};gk.LinkedList=l$});var M2e=T(Ck=>{"use strict";d();Object.defineProperty(Ck,"__esModule",{value:!0});Ck.StopWatch=void 0;var Mct=globalThis.performance.now.bind(globalThis.performance),u$=class t{static{s(this,"StopWatch")}static create(e){return new t(e)}constructor(e){this._now=e===!1?Date.now:Mct,this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};Ck.StopWatch=u$});var E$=T(zr=>{"use strict";d();Object.defineProperty(zr,"__esModule",{value:!0});zr.ValueWithChangeEvent=zr.Relay=zr.EventBufferer=zr.DynamicListEventMultiplexer=zr.EventMultiplexer=zr.MicrotaskEmitter=zr.DebounceEmitter=zr.PauseableEmitter=zr.AsyncEmitter=zr.createEventDeliveryQueue=zr.Emitter=zr.ListenerRefusalError=zr.ListenerLeakError=zr.EventProfiling=zr.Event=void 0;zr.setGlobalLeakWarningThreshold=Gct;zr.trackSetChanges=jct;var Oct=Fj(),GT=eu(),Uct=Yj(),t0=HT(),U2e=L2e(),qct=M2e(),O2e=!1,Hct=!1,yk;(function(t){t.None=()=>t0.Disposable.None;function e(W){if(Hct){let{onDidAddListener:R}=W,Q=WT.create(),q=0;W.onDidAddListener=()=>{++q===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Q.print()),R?.()}}}s(e,"_addLeakageTraceLogic");function r(W,R){return m(W,()=>{},0,void 0,!0,void 0,R)}s(r,"defer"),t.defer=r;function n(W){return(R,Q=null,q)=>{let U=!1,V;return V=W(z=>{if(!U)return V?V.dispose():U=!0,R.call(Q,z)},null,q),U&&V.dispose(),V}}s(n,"once"),t.once=n;function o(W,R){return t.once(t.filter(W,R))}s(o,"onceIf"),t.onceIf=o;function a(W,R,Q){return A((q,U=null,V)=>W(z=>q.call(U,R(z)),null,V),Q)}s(a,"map"),t.map=a;function c(W,R,Q){return A((q,U=null,V)=>W(z=>{R(z),q.call(U,z)},null,V),Q)}s(c,"forEach"),t.forEach=c;function l(W,R,Q){return A((q,U=null,V)=>W(z=>R(z)&&q.call(U,z),null,V),Q)}s(l,"filter"),t.filter=l;function u(W){return W}s(u,"signal"),t.signal=u;function f(...W){return(R,Q=null,q)=>{let U=(0,t0.combinedDisposable)(...W.map(V=>V(z=>R.call(Q,z))));return p(U,q)}}s(f,"any"),t.any=f;function h(W,R,Q,q){let U=Q;return a(W,V=>(U=R(U,V),U),q)}s(h,"reduce"),t.reduce=h;function A(W,R){let Q,q={onWillAddFirstListener(){Q=W(U.fire,U)},onDidRemoveLastListener(){Q?.dispose()}};R||e(q);let U=new ma(q);return R?.add(U),U.event}s(A,"snapshot");function p(W,R){return R instanceof Array?R.push(W):R&&R.add(W),W}s(p,"addAndReturnDisposable");function m(W,R,Q=100,q=!1,U=!1,V,z){let $,j,Z,le=0,Se,et={leakWarningThreshold:V,onWillAddFirstListener(){$=W(Tt=>{le++,j=R(j,Tt),q&&!Z&&(qe.fire(j),j=void 0),Se=s(()=>{let ur=j;j=void 0,Z=void 0,(!q||le>1)&&qe.fire(ur),le=0},"doFire"),typeof Q=="number"?(Z&&clearTimeout(Z),Z=setTimeout(Se,Q)):Z===void 0&&(Z=null,queueMicrotask(Se))})},onWillRemoveListener(){U&&le>0&&Se?.()},onDidRemoveLastListener(){Se=void 0,$.dispose()}};z||e(et);let qe=new ma(et);return z?.add(qe),qe.event}s(m,"debounce"),t.debounce=m;function g(W,R=0,Q){return t.debounce(W,(q,U)=>q?(q.push(U),q):[U],R,void 0,!0,void 0,Q)}s(g,"accumulate"),t.accumulate=g;function y(W,R=(q,U)=>q===U,Q){let q=!0,U;return l(W,V=>{let z=q||!R(V,U);return q=!1,U=V,z},Q)}s(y,"latch"),t.latch=y;function E(W,R,Q){return[t.filter(W,R,Q),t.filter(W,q=>!R(q),Q)]}s(E,"split"),t.split=E;function I(W,R=!1,Q=[],q){let U=Q.slice(),V=W(j=>{U?U.push(j):$.fire(j)});q&&q.add(V);let z=s(()=>{U?.forEach(j=>$.fire(j)),U=null},"flush"),$=new ma({onWillAddFirstListener(){V||(V=W(j=>$.fire(j)),q&&q.add(V))},onDidAddFirstListener(){U&&(R?setTimeout(z):z())},onDidRemoveLastListener(){V&&V.dispose(),V=null}});return q&&q.add($),$.event}s(I,"buffer"),t.buffer=I;function x(W,R){return s((q,U,V)=>{let z=R(new b);return W(function($){let j=z.evaluate($);j!==v&&q.call(U,j)},void 0,V)},"fn")}s(x,"chain"),t.chain=x;let v=Symbol("HaltChainable");class b{static{s(this,"ChainableSynthesis")}constructor(){this.steps=[]}map(R){return this.steps.push(R),this}forEach(R){return this.steps.push(Q=>(R(Q),Q)),this}filter(R){return this.steps.push(Q=>R(Q)?Q:v),this}reduce(R,Q){let q=Q;return this.steps.push(U=>(q=R(q,U),q)),this}latch(R=(Q,q)=>Q===q){let Q=!0,q;return this.steps.push(U=>{let V=Q||!R(U,q);return Q=!1,q=U,V?U:v}),this}evaluate(R){for(let Q of this.steps)if(R=Q(R),R===v)break;return R}}function _(W,R,Q=q=>q){let q=s((...$)=>z.fire(Q(...$)),"fn"),U=s(()=>W.on(R,q),"onFirstListenerAdd"),V=s(()=>W.removeListener(R,q),"onLastListenerRemove"),z=new ma({onWillAddFirstListener:U,onDidRemoveLastListener:V});return z.event}s(_,"fromNodeEventEmitter"),t.fromNodeEventEmitter=_;function S(W,R,Q=q=>q){let q=s((...$)=>z.fire(Q(...$)),"fn"),U=s(()=>W.addEventListener(R,q),"onFirstListenerAdd"),V=s(()=>W.removeEventListener(R,q),"onLastListenerRemove"),z=new ma({onWillAddFirstListener:U,onDidRemoveLastListener:V});return z.event}s(S,"fromDOMEventEmitter"),t.fromDOMEventEmitter=S;function w(W,R){let Q,q=new Promise((U,V)=>{let z=n(W)(U,null,R);Q=s(()=>z.dispose(),"cancelRef")});return q.cancel=Q,q}s(w,"toPromise"),t.toPromise=w;function L(W,R){return W(Q=>R.fire(Q))}s(L,"forward"),t.forward=L;function M(W,R,Q){return R(Q),W(q=>R(q))}s(M,"runAndSubscribe"),t.runAndSubscribe=M;class Y{static{s(this,"EmitterObserver")}constructor(R,Q){this._observable=R,this._counter=0,this._hasChanged=!1;let q={onWillAddFirstListener:s(()=>{R.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:s(()=>{R.removeObserver(this)},"onDidRemoveLastListener")};Q||e(q),this.emitter=new ma(q),Q&&Q.add(this.emitter)}beginUpdate(R){this._counter++}handlePossibleChange(R){}handleChange(R,Q){this._hasChanged=!0}endUpdate(R){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function D(W,R){return new Y(W,R).emitter.event}s(D,"fromObservable"),t.fromObservable=D;function O(W){return(R,Q,q)=>{let U=0,V=!1,z={beginUpdate(){U++},endUpdate(){U--,U===0&&(W.reportChanges(),V&&(V=!1,R.call(Q)))},handlePossibleChange(){},handleChange(){V=!0}};W.addObserver(z),W.reportChanges();let $={dispose(){W.removeObserver(z)}};return q instanceof t0.DisposableStore?q.add($):Array.isArray(q)&&q.push($),$}}s(O,"fromObservableLight"),t.fromObservableLight=O})(yk||(zr.Event=yk={}));var Ek=class t{static{s(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${t._idPool++}`,t.all.add(this)}start(e){this._stopWatch=new qct.StopWatch,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}};zr.EventProfiling=Ek;var VT=-1;function Gct(t){let e=VT;return VT=t,{dispose(){VT=e}}}s(Gct,"setGlobalLeakWarningThreshold");var f$=class t{static{s(this,"LeakageMonitor")}static{this._idPool=1}constructor(e,r,n=(t._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=r,this.name=n,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(e,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[a,c]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${c}):`;console.warn(l),console.warn(a);let u=new Ik(l,a);this._errorHandler(u)}return()=>{let a=this._stacks.get(e.value)||0;this._stacks.set(e.value,a-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,r=0;for(let[n,o]of this._stacks)(!e||r<o)&&(e=[n,o],r=o);return e}},WT=class t{static{s(this,"Stacktrace")}static create(){let e=new Error;return new t(e.stack??"")}constructor(e){this.value=e}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Ik=class extends Error{static{s(this,"ListenerLeakError")}constructor(e,r){super(e),this.name="ListenerLeakError",this.stack=r}};zr.ListenerLeakError=Ik;var xk=class extends Error{static{s(this,"ListenerRefusalError")}constructor(e,r){super(e),this.name="ListenerRefusalError",this.stack=r}};zr.ListenerRefusalError=xk;var Vct=0,b2=class{static{s(this,"UniqueContainer")}constructor(e){this.value=e,this.id=Vct++}},Wct=2,q2e=s((t,e)=>{if(t instanceof b2)e(t);else for(let r=0;r<t.length;r++){let n=t[r];n&&e(n)}},"forEachListener"),ma=class{static{s(this,"Emitter")}constructor(e){this._size=0,this._options=e,this._leakageMon=VT>0||this._options?.leakWarningThreshold?new f$(e?.onListenerError??GT.onUnexpectedError,this._options?.leakWarningThreshold??VT):void 0,this._perfMon=this._options?._profName?new Ek(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(O2e){let e=this._listeners;queueMicrotask(()=>{q2e(e,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let u=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(u);let f=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],h=new xk(`${u}. HINT: Stack shows most frequent listener (${f[1]}-times)`,f[0]);return(this._options?.onListenerError||GT.onUnexpectedError)(h),t0.Disposable.None}if(this._disposed)return t0.Disposable.None;r&&(e=e.bind(r));let o=new b2(e),a,c;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(o.stack=WT.create(),a=this._leakageMon.check(o.stack,this._size+1)),O2e&&(o.stack=c??WT.create()),this._listeners?this._listeners instanceof b2?(this._deliveryQueue??=new vk,this._listeners=[this._listeners,o]):this._listeners.push(o):(this._options?.onWillAddFirstListener?.(this),this._listeners=o,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=(0,t0.toDisposable)(()=>{a?.(),this._removeListener(o)});return n instanceof t0.DisposableStore?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(e);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let o=this._deliveryQueue.current===this;if(this._size*Wct<=r.length){let a=0;for(let c=0;c<r.length;c++)r[c]?r[a++]=r[c]:o&&a<this._deliveryQueue.end&&(this._deliveryQueue.end--,a<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=a}}_deliver(e,r){if(!e)return;let n=this._options?.onListenerError||GT.onUnexpectedError;if(!n){e.value(r);return}try{e.value(r)}catch(o){n(o)}}_deliverQueue(e){let r=e.current._listeners;for(;e.i<e.end;)this._deliver(r[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof b2)this._deliver(this._listeners,e);else{let r=this._deliveryQueue;r.enqueue(this,e,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};zr.Emitter=ma;var Yct=s(()=>new vk,"createEventDeliveryQueue");zr.createEventDeliveryQueue=Yct;var vk=class{static{s(this,"EventDeliveryQueuePrivate")}constructor(){this.i=-1,this.end=0}enqueue(e,r,n){this.i=0,this.end=n,this.current=e,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},d$=class extends ma{static{s(this,"AsyncEmitter")}async fireAsync(e,r,n){if(this._listeners)for(this._asyncDeliveryQueue||(this._asyncDeliveryQueue=new U2e.LinkedList),q2e(this._listeners,o=>this._asyncDeliveryQueue.push([o.value,e]));this._asyncDeliveryQueue.size>0&&!r.isCancellationRequested;){let[o,a]=this._asyncDeliveryQueue.shift(),c=[],l={...a,token:r,waitUntil:s(u=>{if(Object.isFrozen(c))throw new Error("waitUntil can NOT be called asynchronous");n&&(u=n(u,o)),c.push(u)},"waitUntil")};try{o(l)}catch(u){(0,GT.onUnexpectedError)(u);continue}Object.freeze(c),await Promise.allSettled(c).then(u=>{for(let f of u)f.status==="rejected"&&(0,GT.onUnexpectedError)(f.reason)})}}};zr.AsyncEmitter=d$;var bk=class extends ma{static{s(this,"PauseableEmitter")}get isPaused(){return this._isPaused!==0}constructor(e){super(e),this._isPaused=0,this._eventQueue=new U2e.LinkedList,this._mergeFn=e?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){let e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}};zr.PauseableEmitter=bk;var h$=class extends bk{static{s(this,"DebounceEmitter")}constructor(e){super(e),this._delay=e.delay??100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}};zr.DebounceEmitter=h$;var A$=class extends ma{static{s(this,"MicrotaskEmitter")}constructor(e){super(e),this._queuedEvents=[],this._mergeFn=e?.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(r=>super.fire(r)),this._queuedEvents=[]}))}};zr.MicrotaskEmitter=A$;var _k=class{static{s(this,"EventMultiplexer")}constructor(){this.hasListeners=!1,this.events=[],this.emitter=new ma({onWillAddFirstListener:s(()=>this.onFirstListenerAdd(),"onWillAddFirstListener"),onDidRemoveLastListener:s(()=>this.onLastListenerRemove(),"onDidRemoveLastListener")})}get event(){return this.emitter.event}add(e){let r={event:e,listener:null};this.events.push(r),this.hasListeners&&this.hook(r);let n=s(()=>{this.hasListeners&&this.unhook(r);let o=this.events.indexOf(r);this.events.splice(o,1)},"dispose");return(0,t0.toDisposable)((0,Uct.createSingleCallFunction)(n))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(r=>this.emitter.fire(r))}unhook(e){e.listener?.dispose(),e.listener=null}dispose(){this.emitter.dispose();for(let e of this.events)e.listener?.dispose();this.events=[]}};zr.EventMultiplexer=_k;var p$=class{static{s(this,"DynamicListEventMultiplexer")}constructor(e,r,n,o){this._store=new t0.DisposableStore;let a=this._store.add(new _k),c=this._store.add(new t0.DisposableMap);function l(u){c.set(u,a.add(o(u)))}s(l,"addItem");for(let u of e)l(u);this._store.add(r(u=>{l(u)})),this._store.add(n(u=>{c.deleteAndDispose(u)})),this.event=a.event}dispose(){this._store.dispose()}};zr.DynamicListEventMultiplexer=p$;var m$=class{static{s(this,"EventBufferer")}constructor(){this.data=[]}wrapEvent(e,r,n){return(o,a,c)=>e(l=>{let u=this.data[this.data.length-1];if(!r){u?u.buffers.push(()=>o.call(a,l)):o.call(a,l);return}let f=u;if(!f){o.call(a,r(n,l));return}f.items??=[],f.items.push(l),f.buffers.length===0&&u.buffers.push(()=>{f.reducedResult??=n?f.items.reduce(r,n):f.items.reduce(r),o.call(a,f.reducedResult)})},void 0,c)}bufferEvents(e){let r={buffers:new Array};this.data.push(r);let n=e();return this.data.pop(),r.buffers.forEach(o=>o()),n}};zr.EventBufferer=m$;var g$=class{static{s(this,"Relay")}constructor(){this.listening=!1,this.inputEvent=yk.None,this.inputEventListener=t0.Disposable.None,this.emitter=new ma({onDidAddFirstListener:s(()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},"onDidAddFirstListener"),onDidRemoveLastListener:s(()=>{this.listening=!1,this.inputEventListener.dispose()},"onDidRemoveLastListener")}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}};zr.Relay=g$;var C$=class{static{s(this,"ValueWithChangeEvent")}static const(e){return new y$(e)}constructor(e){this._value=e,this._onDidChange=new ma,this.onDidChange=this._onDidChange.event}get value(){return this._value}set value(e){e!==this._value&&(this._value=e,this._onDidChange.fire(void 0))}};zr.ValueWithChangeEvent=C$;var y$=class{static{s(this,"ConstValueWithChangeEvent")}constructor(e){this.value=e,this.onDidChange=yk.None}};function jct(t,e,r){let n=new t0.DisposableMap,o=new Set(t());for(let c of o)n.set(c,r(c));let a=new t0.DisposableStore;return a.add(e(()=>{let c=t(),l=(0,Oct.diffSets)(o,c);for(let u of l.removed)n.deleteAndDispose(u);for(let u of l.added)n.set(u,r(u));o=new Set(c)})),a.add(n),a}s(jct,"trackSetChanges")});var ga=T(Oi=>{"use strict";d();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.trackDisposable=Oi.toDisposable=Oi.markAsDisposed=Oi.DisposableStore=Oi.Event=Oi.onUnexpectedError=Oi.onBugIndicatingError=Oi.BugIndicatingError=Oi.strictEquals=Oi.assertFn=void 0;var $ct=MT();Object.defineProperty(Oi,"assertFn",{enumerable:!0,get:s(function(){return $ct.assertFn},"get")});var zct=F2e();Object.defineProperty(Oi,"strictEquals",{enumerable:!0,get:s(function(){return zct.strictEquals},"get")});var I$=eu();Object.defineProperty(Oi,"BugIndicatingError",{enumerable:!0,get:s(function(){return I$.BugIndicatingError},"get")});Object.defineProperty(Oi,"onBugIndicatingError",{enumerable:!0,get:s(function(){return I$.onBugIndicatingError},"get")});Object.defineProperty(Oi,"onUnexpectedError",{enumerable:!0,get:s(function(){return I$.onUnexpectedError},"get")});var Kct=E$();Object.defineProperty(Oi,"Event",{enumerable:!0,get:s(function(){return Kct.Event},"get")});var Tk=HT();Object.defineProperty(Oi,"DisposableStore",{enumerable:!0,get:s(function(){return Tk.DisposableStore},"get")});Object.defineProperty(Oi,"markAsDisposed",{enumerable:!0,get:s(function(){return Tk.markAsDisposed},"get")});Object.defineProperty(Oi,"toDisposable",{enumerable:!0,get:s(function(){return Tk.toDisposable},"get")});Object.defineProperty(Oi,"trackDisposable",{enumerable:!0,get:s(function(){return Tk.trackDisposable},"get")})});var H2e=T(x$=>{"use strict";d();Object.defineProperty(x$,"__esModule",{value:!0});x$.handleBugIndicatingErrorRecovery=Xct;var Jct=ga();function Xct(t){let e=new Error("BugIndicatingErrorRecovery: "+t);(0,Jct.onUnexpectedError)(e),console.error("recovered from an error that indicates a bug",e)}s(Xct,"handleBugIndicatingErrorRecovery")});var gf=T(_2=>{"use strict";d();Object.defineProperty(_2,"__esModule",{value:!0});_2.addLogger=Zct;_2.getLogger=e0t;_2.setLogObservableFn=t0t;_2.logObservable=r0t;var rC;function Zct(t){rC?rC instanceof wk?rC.loggers.push(t):rC=new wk([rC,t]):rC=t}s(Zct,"addLogger");function e0t(){return rC}s(e0t,"getLogger");var v$;function t0t(t){v$=t}s(t0t,"setLogObservableFn");function r0t(t){v$&&v$(t)}s(r0t,"logObservable");var wk=class{static{s(this,"ComposedLogger")}constructor(e){this.loggers=e}handleObservableCreated(e,r){for(let n of this.loggers)n.handleObservableCreated(e,r)}handleOnListenerCountChanged(e,r){for(let n of this.loggers)n.handleOnListenerCountChanged(e,r)}handleObservableUpdated(e,r){for(let n of this.loggers)n.handleObservableUpdated(e,r)}handleAutorunCreated(e,r){for(let n of this.loggers)n.handleAutorunCreated(e,r)}handleAutorunDisposed(e){for(let r of this.loggers)r.handleAutorunDisposed(e)}handleAutorunDependencyChanged(e,r,n){for(let o of this.loggers)o.handleAutorunDependencyChanged(e,r,n)}handleAutorunStarted(e){for(let r of this.loggers)r.handleAutorunStarted(e)}handleAutorunFinished(e){for(let r of this.loggers)r.handleAutorunFinished(e)}handleDerivedDependencyChanged(e,r,n){for(let o of this.loggers)o.handleDerivedDependencyChanged(e,r,n)}handleDerivedCleared(e){for(let r of this.loggers)r.handleDerivedCleared(e)}handleBeginTransaction(e){for(let r of this.loggers)r.handleBeginTransaction(e)}handleEndTransaction(e){for(let r of this.loggers)r.handleEndTransaction(e)}}});var Ah=T(Op=>{"use strict";d();Object.defineProperty(Op,"__esModule",{value:!0});Op.TransactionImpl=void 0;Op.transaction=b$;Op.globalTransaction=i0t;Op.asyncTransaction=o0t;Op.subtransaction=s0t;var G2e=H2e(),n0t=e0(),V2e=gf();function b$(t,e){let r=new T2(t,e);try{t(r)}finally{r.finish()}}s(b$,"transaction");var Sk;function i0t(t){if(Sk)t(Sk);else{let e=new T2(t,void 0);Sk=e;try{t(e)}finally{e.finish(),Sk=void 0}}}s(i0t,"globalTransaction");async function o0t(t,e){let r=new T2(t,e);try{await t(r)}finally{r.finish()}}s(o0t,"asyncTransaction");function s0t(t,e,r){t?e(t):b$(e,r)}s(s0t,"subtransaction");var T2=class{static{s(this,"TransactionImpl")}constructor(e,r){this._fn=e,this._getDebugName=r,this._updatingObservers=[],(0,V2e.getLogger)()?.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,n0t.getFunctionName)(this._fn)}updateObserver(e,r){if(!this._updatingObservers){(0,G2e.handleBugIndicatingErrorRecovery)("Transaction already finished!"),b$(n=>{n.updateObserver(e,r)});return}this._updatingObservers.push({observer:e,observable:r}),e.beginUpdate(r)}finish(){let e=this._updatingObservers;if(!e){(0,G2e.handleBugIndicatingErrorRecovery)("transaction.finish() has already been called!");return}for(let r=0;r<e.length;r++){let{observer:n,observable:o}=e[r];n.endUpdate(o)}this._updatingObservers=null,(0,V2e.getLogger)()?.handleEndTransaction(this)}debugGetUpdatingObservers(){return this._updatingObservers}};Op.TransactionImpl=T2});var Z0=T(Bk=>{"use strict";d();Object.defineProperty(Bk,"__esModule",{value:!0});Bk.DebugLocation=void 0;var W2e;(function(t){let e=!1;function r(){e=!0}s(r,"enable"),t.enable=r;function n(){if(!e)return;let o=Error,a=o.stackTraceLimit;o.stackTraceLimit=3;let c=new Error().stack;return o.stackTraceLimit=a,_$.fromStack(c,2)}s(n,"ofCaller"),t.ofCaller=n})(W2e||(Bk.DebugLocation=W2e={}));var _$=class t{static{s(this,"DebugLocationImpl")}static fromStack(e,r){let n=e.split(`
`),o=a0t(n[r+1]);if(o)return new t(o.fileName,o.line,o.column,o.id)}constructor(e,r,n,o){this.fileName=e,this.line=r,this.column=n,this.id=o}};function a0t(t){let e=t.match(/\((.*):(\d+):(\d+)\)/);if(e)return{fileName:e[1],line:parseInt(e[2]),column:parseInt(e[3]),id:t};let r=t.match(/at ([^\(\)]*):(\d+):(\d+)/);if(r)return{fileName:r[1],line:parseInt(r[2]),column:parseInt(r[3]),id:t}}s(a0t,"parseLine")});var Cf=T(ph=>{"use strict";d();Object.defineProperty(ph,"__esModule",{value:!0});ph.BaseObservable=ph.ConvenientObservable=void 0;ph._setDerivedOpts=l0t;ph._setRecomputeInitiallyAndOnChange=u0t;ph._setKeepObserved=f0t;var Y2e=Z0(),c0t=e0(),w2=gf(),T$;function l0t(t){T$=t}s(l0t,"_setDerivedOpts");var j2e;function u0t(t){j2e=t}s(u0t,"_setRecomputeInitiallyAndOnChange");var $2e;function f0t(t){$2e=t}s(f0t,"_setKeepObserved");var Rk=class{static{s(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,r,n=Y2e.DebugLocation.ofCaller()){let o=r===void 0?void 0:e,a=r===void 0?e:r;return T$({owner:o,debugName:s(()=>{let c=(0,c0t.getFunctionName)(a);if(c!==void 0)return c;let u=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(a.toString());if(u)return`${this.debugName}.${u[2]}`;if(!o)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:a},c=>a(this.read(c),c),n)}flatten(){return T$({owner:void 0,debugName:s(()=>`${this.debugName} (flattened)`,"debugName")},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,r){return e.add(j2e(this,r)),this}keepObserved(e){return e.add($2e(this)),this}get debugValue(){return this.get()}};ph.ConvenientObservable=Rk;var w$=class extends Rk{static{s(this,"BaseObservable")}constructor(e){super(),this._observers=new Set,(0,w2.getLogger)()?.handleObservableCreated(this,e)}addObserver(e){let r=this._observers.size;this._observers.add(e),r===0&&this.onFirstObserverAdded(),r!==this._observers.size&&(0,w2.getLogger)()?.handleOnListenerCountChanged(this,this._observers.size)}removeObserver(e){let r=this._observers.delete(e);r&&this._observers.size===0&&this.onLastObserverRemoved(),r&&(0,w2.getLogger)()?.handleOnListenerCountChanged(this,this._observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let e=!!(0,w2.getLogger)();return(0,w2.logObservable)(this),e||(0,w2.getLogger)()?.handleObservableCreated(this,Y2e.DebugLocation.ofCaller()),this}debugGetObservers(){return this._observers}};ph.BaseObservable=w$});var nC=T(Up=>{"use strict";d();Object.defineProperty(Up,"__esModule",{value:!0});Up.DisposableObservableValue=Up.ObservableValue=void 0;Up.observableValue=A0t;Up.disposableObservableValue=p0t;var d0t=Ah(),h0t=Cf(),K2e=ga(),kk=e0(),z2e=gf(),J2e=Z0();function A0t(t,e,r=J2e.DebugLocation.ofCaller()){let n;return typeof t=="string"?n=new kk.DebugNameData(void 0,t,void 0):n=new kk.DebugNameData(t,void 0,void 0),new YT(n,e,K2e.strictEquals,r)}s(A0t,"observableValue");var YT=class extends h0t.BaseObservable{static{s(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(e,r,n,o){super(o),this._debugNameData=e,this._equalityComparator=n,this._value=r,(0,z2e.getLogger)()?.handleObservableUpdated(this,{hadValue:!1,newValue:r,change:void 0,didChange:!0,oldValue:void 0})}get(){return this._value}set(e,r,n){if(n===void 0&&this._equalityComparator(this._value,e))return;let o;r||(r=o=new d0t.TransactionImpl(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(e),(0,z2e.getLogger)()?.handleObservableUpdated(this,{oldValue:a,newValue:e,change:n,didChange:!0,hadValue:!0});for(let c of this._observers)r.updateObserver(c,this),c.handleChange(this,n)}finally{o&&o.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}debugGetState(){return{value:this._value}}debugSetValue(e){this._value=e}};Up.ObservableValue=YT;function p0t(t,e,r=J2e.DebugLocation.ofCaller()){let n;return typeof t=="string"?n=new kk.DebugNameData(void 0,t,void 0):n=new kk.DebugNameData(t,void 0,void 0),new Dk(n,e,K2e.strictEquals,r)}s(p0t,"disposableObservableValue");var Dk=class extends YT{static{s(this,"DisposableObservableValue")}_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){this._value?.dispose()}};Up.DisposableObservableValue=Dk});var Z2e=T(Nk=>{"use strict";d();Object.defineProperty(Nk,"__esModule",{value:!0});Nk.LazyObservableValue=void 0;var m0t=Ah(),X2e=gf(),g0t=Cf(),S$=class extends g0t.BaseObservable{static{s(this,"LazyObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(e,r,n,o){super(o),this._debugNameData=e,this._equalityComparator=n,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=r}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(let e of this._deltas){(0,X2e.getLogger)()?.handleObservableUpdated(this,{change:e,didChange:!0,oldValue:"(unknown)",newValue:this._value,hadValue:!0});for(let r of this._observers)r.handleChange(this,e)}this._deltas.length=0}else{(0,X2e.getLogger)()?.handleObservableUpdated(this,{change:void 0,didChange:!0,oldValue:"(unknown)",newValue:this._value,hadValue:!0});for(let e of this._observers)e.handleChange(this,void 0)}}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(let e of this._observers)e.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();let e=[...this._observers];for(let r of e)r.endUpdate(this)}}addObserver(e){let r=!this._observers.has(e)&&this._updateCounter>0;super.addObserver(e),r&&e.beginUpdate(this)}removeObserver(e){let r=this._observers.has(e)&&this._updateCounter>0;super.removeObserver(e),r&&e.endUpdate(this)}set(e,r,n){if(n===void 0&&this._equalityComparator(this._value,e))return;let o;r||(r=o=new m0t.TransactionImpl(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(e),n!==void 0&&this._deltas.push(n),r.updateObserver({beginUpdate:s(()=>this._beginUpdate(),"beginUpdate"),endUpdate:s(()=>this._endUpdate(),"endUpdate"),handleChange:s((a,c)=>{},"handleChange"),handlePossibleChange:s(a=>{},"handlePossibleChange")},this),this._updateCounter>1)for(let a of this._observers)a.handlePossibleChange(this)}finally{o&&o.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}};Nk.LazyObservableValue=S$});var Qk=T(B$=>{"use strict";d();Object.defineProperty(B$,"__esModule",{value:!0});B$.observableValueOpts=I0t;var exe=e0(),txe=ga(),C0t=nC(),y0t=Z2e(),E0t=Z0();function I0t(t,e,r=E0t.DebugLocation.ofCaller()){return t.lazy?new y0t.LazyObservableValue(new exe.DebugNameData(t.owner,t.debugName,void 0),e,t.equalsFn??txe.strictEquals,r):new C0t.ObservableValue(new exe.DebugNameData(t.owner,t.debugName,void 0),e,t.equalsFn??txe.strictEquals,r)}s(I0t,"observableValueOpts")});var k$=T(Pk=>{"use strict";d();Object.defineProperty(Pk,"__esModule",{value:!0});Pk.AutorunObserver=void 0;var yf=ga(),jT=gf(),R$=class{static{s(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,r,n,o){this._debugNameData=e,this._runFn=r,this._changeTracker=n,this._state=2,this._updateCount=0,this._disposed=!1,this._dependencies=new Set,this._dependenciesToBeRemoved=new Set,this._isRunning=!1,this._store=void 0,this._delayedStore=void 0,this._changeSummary=this._changeTracker?.createChangeSummary(void 0),(0,jT.getLogger)()?.handleAutorunCreated(this,o),this._run(),(0,yf.trackDisposable)(this)}dispose(){if(!this._disposed){this._disposed=!0;for(let e of this._dependencies)e.removeObserver(this);this._dependencies.clear(),this._store!==void 0&&this._store.dispose(),this._delayedStore!==void 0&&this._delayedStore.dispose(),(0,jT.getLogger)()?.handleAutorunDisposed(this),(0,yf.markAsDisposed)(this)}}_run(){let e=this._dependenciesToBeRemoved;this._dependenciesToBeRemoved=this._dependencies,this._dependencies=e,this._state=3;try{if(!this._disposed){(0,jT.getLogger)()?.handleAutorunStarted(this);let r=this._changeSummary,n=this._delayedStore;n!==void 0&&(this._delayedStore=void 0);try{this._isRunning=!0,this._changeTracker&&(this._changeTracker.beforeUpdate?.(this,r),this._changeSummary=this._changeTracker.createChangeSummary(r)),this._store!==void 0&&(this._store.dispose(),this._store=void 0),this._runFn(this,r)}catch(o){(0,yf.onBugIndicatingError)(o)}finally{this._isRunning=!1,n!==void 0&&n.dispose()}}}finally{this._disposed||(0,jT.getLogger)()?.handleAutorunFinished(this);for(let r of this._dependenciesToBeRemoved)r.removeObserver(this);this._dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(e){this._state===3&&(this._state=1),this._updateCount++}endUpdate(e){try{if(this._updateCount===1)do{if(this._state===1){this._state=3;for(let r of this._dependencies)if(r.reportChanges(),this._state===2)break}this._state!==3&&this._run()}while(this._state!==3)}finally{this._updateCount--}(0,yf.assertFn)(()=>this._updateCount>=0)}handlePossibleChange(e){this._state===3&&this._isDependency(e)&&(this._state=1)}handleChange(e,r){if(this._isDependency(e)){(0,jT.getLogger)()?.handleAutorunDependencyChanged(this,e,r);try{(this._changeTracker?this._changeTracker.handleChange({changedObservable:e,change:r,didChange:s(o=>o===e,"didChange")},this._changeSummary):!0)&&(this._state=2)}catch(n){(0,yf.onBugIndicatingError)(n)}}}_isDependency(e){return this._dependencies.has(e)&&!this._dependenciesToBeRemoved.has(e)}_ensureNoRunning(){if(!this._isRunning)throw new yf.BugIndicatingError("The reader object cannot be used outside its compute function!")}readObservable(e){if(this._ensureNoRunning(),this._disposed)return e.get();e.addObserver(this);let r=e.get();return this._dependencies.add(e),this._dependenciesToBeRemoved.delete(e),r}get store(){if(this._ensureNoRunning(),this._disposed)throw new yf.BugIndicatingError("Cannot access store after dispose");return this._store===void 0&&(this._store=new yf.DisposableStore),this._store}get delayedStore(){if(this._ensureNoRunning(),this._disposed)throw new yf.BugIndicatingError("Cannot access store after dispose");return this._delayedStore===void 0&&(this._delayedStore=new yf.DisposableStore),this._delayedStore}debugGetState(){return{isRunning:this._isRunning,updateCount:this._updateCount,dependencies:this._dependencies,state:this._state}}debugRerun(){this._isRunning?this._state=2:this._run()}};Pk.AutorunObserver=R$});var S2=T(Ef=>{"use strict";d();Object.defineProperty(Ef,"__esModule",{value:!0});Ef.autorun=rxe;Ef.autorunOpts=Mk;Ef.autorunHandleChanges=nxe;Ef.autorunWithStoreHandleChanges=x0t;Ef.autorunWithStore=v0t;Ef.autorunDelta=b0t;Ef.autorunIterableDelta=_0t;Ef.autorunSelfDisposable=T0t;var Fk=ga(),D$=e0(),N$=k$(),Lk=Z0();function rxe(t,e=Lk.DebugLocation.ofCaller()){return new N$.AutorunObserver(new D$.DebugNameData(void 0,void 0,t),t,void 0,e)}s(rxe,"autorun");function Mk(t,e,r=Lk.DebugLocation.ofCaller()){return new N$.AutorunObserver(new D$.DebugNameData(t.owner,t.debugName,t.debugReferenceFn??e),e,void 0,r)}s(Mk,"autorunOpts");function nxe(t,e,r=Lk.DebugLocation.ofCaller()){return new N$.AutorunObserver(new D$.DebugNameData(t.owner,t.debugName,t.debugReferenceFn??e),e,t.changeTracker,r)}s(nxe,"autorunHandleChanges");function x0t(t,e){let r=new Fk.DisposableStore,n=nxe({owner:t.owner,debugName:t.debugName,debugReferenceFn:t.debugReferenceFn??e,changeTracker:t.changeTracker},(o,a)=>{r.clear(),e(o,a,r)});return(0,Fk.toDisposable)(()=>{n.dispose(),r.dispose()})}s(x0t,"autorunWithStoreHandleChanges");function v0t(t){let e=new Fk.DisposableStore,r=Mk({owner:void 0,debugName:void 0,debugReferenceFn:t},n=>{e.clear(),t(n,e)});return(0,Fk.toDisposable)(()=>{r.dispose(),e.dispose()})}s(v0t,"autorunWithStore");function b0t(t,e){let r;return Mk({debugReferenceFn:e},n=>{let o=t.read(n),a=r;r=o,e({lastValue:a,newValue:o})})}s(b0t,"autorunDelta");function _0t(t,e,r=n=>n){let n=new Map;return Mk({debugReferenceFn:t},o=>{let a=new Map,c=new Map(n);for(let l of t(o)){let u=r(l);n.has(u)?c.delete(u):(a.set(u,l),n.set(u,l))}for(let l of c.keys())n.delete(l);(a.size||c.size)&&e({addedValues:[...a.values()],removedValues:[...c.values()]})})}s(_0t,"autorunIterableDelta");function T0t(t,e=Lk.DebugLocation.ofCaller()){let r,n=!1;return r=rxe(o=>{t({delayedStore:o.delayedStore,store:o.store,readObservable:o.readObservable.bind(o),dispose:s(()=>{r?.dispose(),n=!0},"dispose")})},e),n&&r.dispose(),r}s(T0t,"autorunSelfDisposable")});var $T=T(B2=>{"use strict";d();Object.defineProperty(B2,"__esModule",{value:!0});B2.DerivedWithSetter=B2.Derived=void 0;var w0t=Cf(),iC=ga(),Q$=gf(),Ok=class extends w0t.BaseObservable{static{s(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,r,n,o=void 0,a,c){super(c),this._debugNameData=e,this._computeFn=r,this._changeTracker=n,this._handleLastObserverRemoved=o,this._equalityComparator=a,this._state=0,this._value=void 0,this._updateCount=0,this._dependencies=new Set,this._dependenciesToBeRemoved=new Set,this._changeSummary=void 0,this._isUpdating=!1,this._isComputing=!1,this._didReportChange=!1,this._isInBeforeUpdate=!1,this._isReaderValid=!1,this._store=void 0,this._delayedStore=void 0,this._removedObserverToCallEndUpdateOn=null,this._changeSummary=this._changeTracker?.createChangeSummary(void 0)}onLastObserverRemoved(){this._state=0,this._value=void 0,(0,Q$.getLogger)()?.handleDerivedCleared(this);for(let e of this._dependencies)e.removeObserver(this);this._dependencies.clear(),this._store!==void 0&&(this._store.dispose(),this._store=void 0),this._delayedStore!==void 0&&(this._delayedStore.dispose(),this._delayedStore=void 0),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this._observers.size===0){let r;try{this._isReaderValid=!0;let n;this._changeTracker&&(n=this._changeTracker.createChangeSummary(void 0),this._changeTracker.beforeUpdate?.(this,n)),r=this._computeFn(this,n)}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),r}else{do{if(this._state===1){for(let r of this._dependencies)if(r.reportChanges(),this._state===2)break}this._state===1&&(this._state=3),this._state!==3&&this._recompute()}while(this._state!==3);return this._value}}_recompute(){let e=!1;this._isComputing=!0,this._didReportChange=!1;let r=this._dependenciesToBeRemoved;this._dependenciesToBeRemoved=this._dependencies,this._dependencies=r;try{let n=this._changeSummary;this._isReaderValid=!0,this._changeTracker&&(this._isInBeforeUpdate=!0,this._changeTracker.beforeUpdate?.(this,n),this._isInBeforeUpdate=!1,this._changeSummary=this._changeTracker?.createChangeSummary(n));let o=this._state!==0,a=this._value;this._state=3;let c=this._delayedStore;c!==void 0&&(this._delayedStore=void 0);try{this._store!==void 0&&(this._store.dispose(),this._store=void 0),this._value=this._computeFn(this,n)}finally{this._isReaderValid=!1;for(let l of this._dependenciesToBeRemoved)l.removeObserver(this);this._dependenciesToBeRemoved.clear(),c!==void 0&&c.dispose()}e=this._didReportChange||o&&!this._equalityComparator(a,this._value),(0,Q$.getLogger)()?.handleObservableUpdated(this,{oldValue:a,newValue:this._value,change:void 0,didChange:e,hadValue:o})}catch(n){(0,iC.onBugIndicatingError)(n)}if(this._isComputing=!1,!this._didReportChange&&e)for(let n of this._observers)n.handleChange(this,void 0);else this._didReportChange=!1}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){if(this._isUpdating)throw new iC.BugIndicatingError("Cyclic deriveds are not supported yet!");this._updateCount++,this._isUpdating=!0;try{let r=this._updateCount===1;if(this._state===3&&(this._state=1,!r))for(let n of this._observers)n.handlePossibleChange(this);if(r)for(let n of this._observers)n.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(e){if(this._updateCount--,this._updateCount===0){let r=[...this._observers];for(let n of r)n.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let n=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let o of n)o.endUpdate(this)}}(0,iC.assertFn)(()=>this._updateCount>=0)}handlePossibleChange(e){if(this._state===3&&this._dependencies.has(e)&&!this._dependenciesToBeRemoved.has(e)){this._state=1;for(let r of this._observers)r.handlePossibleChange(this)}}handleChange(e,r){if(this._dependencies.has(e)&&!this._dependenciesToBeRemoved.has(e)||this._isInBeforeUpdate){(0,Q$.getLogger)()?.handleDerivedDependencyChanged(this,e,r);let n=!1;try{n=this._changeTracker?this._changeTracker.handleChange({changedObservable:e,change:r,didChange:s(a=>a===e,"didChange")},this._changeSummary):!0}catch(a){(0,iC.onBugIndicatingError)(a)}let o=this._state===3;if(n&&(this._state===1||o)&&(this._state=2,o))for(let a of this._observers)a.handlePossibleChange(this)}}_ensureReaderValid(){if(!this._isReaderValid)throw new iC.BugIndicatingError("The reader object cannot be used outside its compute function!")}readObservable(e){this._ensureReaderValid(),e.addObserver(this);let r=e.get();return this._dependencies.add(e),this._dependenciesToBeRemoved.delete(e),r}reportChange(e){this._ensureReaderValid(),this._didReportChange=!0;for(let r of this._observers)r.handleChange(this,e)}get store(){return this._ensureReaderValid(),this._store===void 0&&(this._store=new iC.DisposableStore),this._store}get delayedStore(){return this._ensureReaderValid(),this._delayedStore===void 0&&(this._delayedStore=new iC.DisposableStore),this._delayedStore}addObserver(e){let r=!this._observers.has(e)&&this._updateCount>0;super.addObserver(e),r&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(e)?this._removedObserverToCallEndUpdateOn.delete(e):e.beginUpdate(this))}removeObserver(e){this._observers.has(e)&&this._updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(e)),super.removeObserver(e)}debugGetState(){return{state:this._state,updateCount:this._updateCount,isComputing:this._isComputing,dependencies:this._dependencies,value:this._value}}debugSetValue(e){this._value=e}debugRecompute(){this._isComputing?this._state=2:this._recompute()}setValue(e,r,n){this._value=e;let o=this._observers;r.updateObserver(this,this);for(let a of o)a.handleChange(this,n)}};B2.Derived=Ok;var P$=class extends Ok{static{s(this,"DerivedWithSetter")}constructor(e,r,n,o=void 0,a,c,l){super(e,r,n,o,a,l),this.set=c}};B2.DerivedWithSetter=P$});var Uk=T(qp=>{"use strict";d();Object.defineProperty(qp,"__esModule",{value:!0});qp.derived=B0t;qp.derivedWithSetter=R0t;qp.derivedOpts=ixe;qp.derivedHandleChanges=k0t;qp.derivedWithStore=D0t;qp.derivedDisposable=N0t;var If=ga(),R2=Z0(),oC=e0(),S0t=Cf(),sC=$T();function B0t(t,e,r=R2.DebugLocation.ofCaller()){return e!==void 0?new sC.Derived(new oC.DebugNameData(t,void 0,e),e,void 0,void 0,If.strictEquals,r):new sC.Derived(new oC.DebugNameData(void 0,void 0,t),t,void 0,void 0,If.strictEquals,r)}s(B0t,"derived");function R0t(t,e,r,n=R2.DebugLocation.ofCaller()){return new sC.DerivedWithSetter(new oC.DebugNameData(t,void 0,e),e,void 0,void 0,If.strictEquals,r,n)}s(R0t,"derivedWithSetter");function ixe(t,e,r=R2.DebugLocation.ofCaller()){return new sC.Derived(new oC.DebugNameData(t.owner,t.debugName,t.debugReferenceFn),e,void 0,t.onLastObserverRemoved,t.equalsFn??If.strictEquals,r)}s(ixe,"derivedOpts");(0,S0t._setDerivedOpts)(ixe);function k0t(t,e,r=R2.DebugLocation.ofCaller()){return new sC.Derived(new oC.DebugNameData(t.owner,t.debugName,void 0),e,t.changeTracker,void 0,t.equalityComparer??If.strictEquals,r)}s(k0t,"derivedHandleChanges");function D0t(t,e,r=R2.DebugLocation.ofCaller()){let n,o;e===void 0?(n=t,o=void 0):(o=t,n=e);let a=new If.DisposableStore;return new sC.Derived(new oC.DebugNameData(o,void 0,n),c=>(a.isDisposed?a=new If.DisposableStore:a.clear(),n(c,a)),void 0,()=>a.dispose(),If.strictEquals,r)}s(D0t,"derivedWithStore");function N0t(t,e,r=R2.DebugLocation.ofCaller()){let n,o;e===void 0?(n=t,o=void 0):(o=t,n=e);let a;return new sC.Derived(new oC.DebugNameData(o,void 0,n),c=>{a?a.clear():a=new If.DisposableStore;let l=n(c);return l&&a.add(l),l},void 0,()=>{a&&(a.dispose(),a=void 0)},If.strictEquals,r)}s(N0t,"derivedDisposable")});var cxe=T(xf=>{"use strict";d();Object.defineProperty(xf,"__esModule",{value:!0});xf.ObservableLazyPromise=xf.PromiseResult=xf.ObservablePromise=xf.ObservableLazy=void 0;var oxe=Ah(),sxe=Uk(),axe=nC(),qk=class{static{s(this,"ObservableLazy")}get cachedValue(){return this._value}constructor(e){this._computeValue=e,this._value=(0,axe.observableValue)(this,void 0)}getValue(){let e=this._value.get();return e||(e=this._computeValue(),this._value.set(e,void 0)),e}};xf.ObservableLazy=qk;var Hk=class t{static{s(this,"ObservablePromise")}static fromFn(e){return new t(e())}constructor(e){this._value=(0,axe.observableValue)(this,void 0),this.promiseResult=this._value,this.resolvedValue=(0,sxe.derived)(this,r=>{let n=this.promiseResult.read(r);if(n)return n.getDataOrThrow()}),this.promise=e.then(r=>((0,oxe.transaction)(n=>{this._value.set(new zT(r,void 0),n)}),r),r=>{throw(0,oxe.transaction)(n=>{this._value.set(new zT(void 0,r),n)}),r})}};xf.ObservablePromise=Hk;var zT=class{static{s(this,"PromiseResult")}constructor(e,r){this.data=e,this.error=r}getDataOrThrow(){if(this.error)throw this.error;return this.data}};xf.PromiseResult=zT;var F$=class{static{s(this,"ObservableLazyPromise")}constructor(e){this._computePromise=e,this._lazyValue=new qk(()=>new Hk(this._computePromise())),this.cachedPromiseResult=(0,sxe.derived)(this,r=>this._lazyValue.cachedValue.read(r)?.promiseResult.read(r))}getPromise(){return this._lazyValue.getValue().promise}};xf.ObservableLazyPromise=F$});var L$=T(aC=>{"use strict";d();Object.defineProperty(aC,"__esModule",{value:!0});aC.CancellationTokenSource=aC.CancellationToken=void 0;aC.cancelOnDispose=Q0t;var lxe=E$(),uxe=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),Gk;(function(t){function e(r){return r===t.None||r===t.Cancelled||r instanceof k2?!0:!r||typeof r!="object"?!1:typeof r.isCancellationRequested=="boolean"&&typeof r.onCancellationRequested=="function"}s(e,"isCancellationToken"),t.isCancellationToken=e,t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:lxe.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:uxe})})(Gk||(aC.CancellationToken=Gk={}));var k2=class{static{s(this,"MutableToken")}constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?uxe:(this._emitter||(this._emitter=new lxe.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},Vk=class{static{s(this,"CancellationTokenSource")}constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new k2),this._token}cancel(){this._token?this._token instanceof k2&&this._token.cancel():this._token=Gk.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof k2&&this._token.dispose():this._token=Gk.None}};aC.CancellationTokenSource=Vk;function Q0t(t){let e=new Vk;return t.add({dispose(){e.cancel()}}),e.token}s(Q0t,"cancelOnDispose")});var O$=T(vf=>{"use strict";d();Object.defineProperty(vf,"__esModule",{value:!0});vf.cancelOnDispose=vf.CancellationTokenSource=vf.CancellationToken=vf.CancellationError=void 0;var P0t=eu();Object.defineProperty(vf,"CancellationError",{enumerable:!0,get:s(function(){return P0t.CancellationError},"get")});var M$=L$();Object.defineProperty(vf,"CancellationToken",{enumerable:!0,get:s(function(){return M$.CancellationToken},"get")});Object.defineProperty(vf,"CancellationTokenSource",{enumerable:!0,get:s(function(){return M$.CancellationTokenSource},"get")});Object.defineProperty(vf,"cancelOnDispose",{enumerable:!0,get:s(function(){return M$.cancelOnDispose},"get")})});var fxe=T(Wk=>{"use strict";d();Object.defineProperty(Wk,"__esModule",{value:!0});Wk.waitForState=q0t;Wk.derivedWithCancellationToken=H0t;var F0t=e0(),U$=O$(),L0t=ga(),M0t=S2(),O0t=$T(),U0t=Z0();function q0t(t,e,r,n){return e||(e=s(o=>o!=null,"predicate")),new Promise((o,a)=>{let c=!0,l=!1,u=t.map(h=>({isFinished:e(h),error:r?r(h):!1,state:h})),f=(0,M0t.autorun)(h=>{let{isFinished:A,error:p,state:m}=u.read(h);(A||p)&&(c?l=!0:f.dispose(),p?a(p===!0?m:p):o(m))});if(n){let h=n.onCancellationRequested(()=>{f.dispose(),h.dispose(),a(new U$.CancellationError)});if(n.isCancellationRequested){f.dispose(),h.dispose(),a(new U$.CancellationError);return}}c=!1,l&&f.dispose()})}s(q0t,"waitForState");function H0t(t,e){let r,n;e===void 0?(r=t,n=void 0):(n=t,r=e);let o;return new O0t.Derived(new F0t.DebugNameData(n,void 0,r),a=>(o&&o.dispose(!0),o=new U$.CancellationTokenSource,r(a,o.token)),void 0,()=>o?.dispose(),L0t.strictEquals,U0t.DebugLocation.ofCaller())}s(H0t,"derivedWithCancellationToken")});var lC=T(cC=>{"use strict";d();Object.defineProperty(cC,"__esModule",{value:!0});cC.FromEventObservable=void 0;cC.observableFromEvent=q$;cC.observableFromEventOpts=W0t;var G0t=Ah(),hxe=ga(),Axe=e0(),dxe=gf(),V0t=Cf(),pxe=Z0();function q$(...t){let e,r,n,o;return t.length===2?[r,n]=t:[e,r,n,o]=t,new tu(new Axe.DebugNameData(e,void 0,n),r,n,()=>tu.globalTransaction,hxe.strictEquals,o??pxe.DebugLocation.ofCaller())}s(q$,"observableFromEvent");function W0t(t,e,r,n=pxe.DebugLocation.ofCaller()){return new tu(new Axe.DebugNameData(t.owner,t.debugName,t.debugReferenceFn??r),e,r,()=>tu.globalTransaction,t.equalsFn??hxe.strictEquals,n)}s(W0t,"observableFromEventOpts");var tu=class extends V0t.BaseObservable{static{s(this,"FromEventObservable")}constructor(e,r,n,o,a,c){super(c),this._debugNameData=e,this.event=r,this._getValue=n,this._getTransaction=o,this._equalityComparator=a,this._hasValue=!1,this.handleEvent=l=>{let u=this._getValue(l),f=this._value,h=!this._hasValue||!this._equalityComparator(f,u),A=!1;h&&(this._value=u,this._hasValue&&(A=!0,(0,G0t.subtransaction)(this._getTransaction(),p=>{(0,dxe.getLogger)()?.handleObservableUpdated(this,{oldValue:f,newValue:u,change:void 0,didChange:h,hadValue:this._hasValue});for(let m of this._observers)p.updateObserver(m,this),m.handleChange(this,void 0)},()=>{let p=this.getDebugName();return"Event fired"+(p?`: ${p}`:"")})),this._hasValue=!0),A||(0,dxe.getLogger)()?.handleObservableUpdated(this,{oldValue:f,newValue:u,change:void 0,didChange:h,hadValue:this._hasValue})}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this._subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this._subscription.dispose(),this._subscription=void 0,this._hasValue=!1,this._value=void 0}get(){return this._subscription?(this._hasValue||this.handleEvent(void 0),this._value):this._getValue(void 0)}debugSetValue(e){this._value=e}};cC.FromEventObservable=tu;(function(t){t.Observer=tu;function e(r,n){let o=!1;tu.globalTransaction===void 0&&(tu.globalTransaction=r,o=!0);try{n()}finally{o&&(tu.globalTransaction=void 0)}}s(e,"batchEventsGlobally"),t.batchEventsGlobally=e})(q$||(cC.observableFromEvent=q$={}))});var G$=T(H$=>{"use strict";d();Object.defineProperty(H$,"__esModule",{value:!0});H$.observableSignal=K0t;var Y0t=Ah(),j0t=e0(),$0t=Cf(),z0t=Z0();function K0t(t,e=z0t.DebugLocation.ofCaller()){return typeof t=="string"?new Yk(t,void 0,e):new Yk(void 0,t,e)}s(K0t,"observableSignal");var Yk=class extends $0t.BaseObservable{static{s(this,"ObservableSignal")}get debugName(){return new j0t.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(e,r,n){super(n),this._debugName=e,this._owner=r}trigger(e,r){if(!e){(0,Y0t.transaction)(n=>{this.trigger(n,r)},()=>`Trigger signal ${this.debugName}`);return}for(let n of this._observers)e.updateObserver(n,this),n.handleChange(this,r)}get(){}}});var zk=T(tc=>{"use strict";d();Object.defineProperty(tc,"__esModule",{value:!0});tc.KeepAliveObserver=void 0;tc.observableFromPromise=elt;tc.signalFromObservable=tlt;tc.debouncedObservableDeprecated=rlt;tc.debouncedObservable=nlt;tc.wasEventTriggeredRecently=ilt;tc.keepObserved=Cxe;tc.recomputeInitiallyAndOnChange=yxe;tc.derivedObservableWithCache=olt;tc.derivedObservableWithWritableCache=slt;tc.mapObservableArrayCached=alt;var mxe=S2(),J0t=Ah(),V$=nC(),W$=ga(),$k=Uk(),X0t=lC(),Z0t=G$(),gxe=Cf();function elt(t){let e=(0,V$.observableValue)("promiseValue",{});return t.then(r=>{e.set({value:r},void 0)}),e}s(elt,"observableFromPromise");function tlt(t,e){return(0,$k.derivedOpts)({owner:t,equalsFn:s(()=>!1,"equalsFn")},r=>{e.read(r)})}s(tlt,"signalFromObservable");function rlt(t,e,r){let n=(0,V$.observableValue)("debounced",void 0),o;return r.add((0,mxe.autorun)(a=>{let c=t.read(a);o&&clearTimeout(o),o=setTimeout(()=>{(0,J0t.transaction)(l=>{n.set(c,l)})},e)})),n}s(rlt,"debouncedObservableDeprecated");function nlt(t,e){let r=!1,n,o;return(0,X0t.observableFromEvent)(a=>{let c=(0,mxe.autorun)(l=>{let u=t.read(l);r?(o&&clearTimeout(o),o=setTimeout(()=>{n=u,a()},e)):(r=!0,n=u)});return{dispose(){c.dispose(),r=!1,n=void 0}}},()=>r?n:t.get())}s(nlt,"debouncedObservable");function ilt(t,e,r){let n=(0,V$.observableValue)("triggeredRecently",!1),o;return r.add(t(()=>{n.set(!0,void 0),o&&clearTimeout(o),o=setTimeout(()=>{n.set(!1,void 0)},e)})),n}s(ilt,"wasEventTriggeredRecently");function Cxe(t){let e=new KT(!1,void 0);return t.addObserver(e),(0,W$.toDisposable)(()=>{t.removeObserver(e)})}s(Cxe,"keepObserved");(0,gxe._setKeepObserved)(Cxe);function yxe(t,e){let r=new KT(!0,e);t.addObserver(r);try{r.beginUpdate(t)}finally{r.endUpdate(t)}return(0,W$.toDisposable)(()=>{t.removeObserver(r)})}s(yxe,"recomputeInitiallyAndOnChange");(0,gxe._setRecomputeInitiallyAndOnChange)(yxe);var KT=class{static{s(this,"KeepAliveObserver")}constructor(e,r){this._forceRecompute=e,this._handleValue=r,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter===1&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges()),this._counter--}handlePossibleChange(e){}handleChange(e,r){}};tc.KeepAliveObserver=KT;function olt(t,e){let r;return(0,$k.derivedOpts)({owner:t,debugReferenceFn:e},o=>(r=e(o,r),r))}s(olt,"derivedObservableWithCache");function slt(t,e){let r,n=(0,Z0t.observableSignal)("derivedObservableWithWritableCache"),o=(0,$k.derived)(t,a=>(n.read(a),r=e(a,r),r));return Object.assign(o,{clearCache:s(a=>{r=void 0,n.trigger(a)},"clearCache"),setCache:s((a,c)=>{r=a,n.trigger(c)},"setCache")})}s(slt,"derivedObservableWithWritableCache");function alt(t,e,r,n){let o=new jk(r,n);return(0,$k.derivedOpts)({debugReferenceFn:r,owner:t,onLastObserverRemoved:s(()=>{o.dispose(),o=new jk(r)},"onLastObserverRemoved")},c=>(o.setItems(e.read(c)),o.getItems()))}s(alt,"mapObservableArrayCached");var jk=class{static{s(this,"ArrayMap")}constructor(e,r){this._map=e,this._keySelector=r,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(e=>e.store.dispose()),this._cache.clear()}setItems(e){let r=[],n=new Set(this._cache.keys());for(let o of e){let a=this._keySelector?this._keySelector(o):o,c=this._cache.get(a);if(c)n.delete(a);else{let l=new W$.DisposableStore;c={out:this._map(o,l),store:l},this._cache.set(a,c)}r.push(c.out)}for(let o of n)this._cache.get(o).store.dispose(),this._cache.delete(o);this._items=r}getItems(){return this._items}}});var Ixe=T(Kk=>{"use strict";d();Object.defineProperty(Kk,"__esModule",{value:!0});Kk.recordChanges=clt;Kk.recordChangesLazy=llt;var Exe=ga();function clt(t){return{createChangeSummary:s(e=>({changes:[]}),"createChangeSummary"),handleChange(e,r){for(let n in t)e.didChange(t[n])&&r.changes.push({key:n,change:e.change});return!0},beforeUpdate(e,r){for(let n in t){if(n==="changes")throw new Exe.BugIndicatingError('property name "changes" is reserved for change tracking');r[n]=t[n].read(e)}}}}s(clt,"recordChanges");function llt(t){let e;return{createChangeSummary:s(r=>({changes:[]}),"createChangeSummary"),handleChange(r,n){e||(e=t());for(let o in e)r.didChange(e[o])&&n.changes.push({key:o,change:r.change});return!0},beforeUpdate(r,n){e||(e=t());for(let o in e){if(o==="changes")throw new Exe.BugIndicatingError('property name "changes" is reserved for change tracking');n[o]=e[o].read(r)}}}}s(llt,"recordChangesLazy")});var xxe=T(j$=>{"use strict";d();Object.defineProperty(j$,"__esModule",{value:!0});j$.constObservable=flt;var ult=Cf();function flt(t){return new Y$(t)}s(flt,"constObservable");var Y$=class extends ult.ConvenientObservable{static{s(this,"ConstObservable")}constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}log(){return this}toString(){return`Const: ${this.value}`}}});var vxe=T(z$=>{"use strict";d();Object.defineProperty(z$,"__esModule",{value:!0});z$.observableSignalFromEvent=mlt;var dlt=Ah(),hlt=e0(),Alt=Cf(),plt=Z0();function mlt(t,e,r=plt.DebugLocation.ofCaller()){return new $$(typeof t=="string"?t:new hlt.DebugNameData(t,void 0,void 0),e,r)}s(mlt,"observableSignalFromEvent");var $$=class extends Alt.BaseObservable{static{s(this,"FromEventObservableSignal")}constructor(e,r,n){super(n),this.event=r,this.handleEvent=()=>{(0,dlt.transaction)(o=>{for(let a of this._observers)o.updateObserver(a,this),a.handleChange(this,void 0)},()=>this.debugName)},this.debugName=typeof e=="string"?e:e.getDebugName(this)??"Observable Signal From Event"}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}});var bxe=T(JT=>{"use strict";d();Object.defineProperty(JT,"__esModule",{value:!0});JT.ValueWithChangeEventFromObservable=void 0;JT.observableFromValueWithChangeEvent=ylt;var glt=ga(),Clt=lC(),Jk=class{static{s(this,"ValueWithChangeEventFromObservable")}constructor(e){this.observable=e}get onDidChange(){return glt.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}};JT.ValueWithChangeEventFromObservable=Jk;function ylt(t,e){return e instanceof Jk?e.observable:(0,Clt.observableFromEvent)(t,e.onDidChange,()=>e.value)}s(ylt,"observableFromValueWithChangeEvent")});var wxe=T(XT=>{"use strict";d();Object.defineProperty(XT,"__esModule",{value:!0});XT.runOnChange=_xe;XT.runOnChangeWithStore=Txe;XT.runOnChangeWithCancellationToken=vlt;var Elt=O$(),Ilt=ga(),xlt=S2();function _xe(t,e){let r,n=!0;return(0,xlt.autorunWithStoreHandleChanges)({changeTracker:{createChangeSummary:s(()=>({deltas:[],didChange:!1}),"createChangeSummary"),handleChange:s((o,a)=>{if(o.didChange(t)){let c=o.change;c!==void 0&&a.deltas.push(c),a.didChange=!0}return!0},"handleChange")}},(o,a)=>{let c=t.read(o),l=r;a.didChange&&(r=c,e(c,l,a.deltas)),n&&(n=!1,r=c)})}s(_xe,"runOnChange");function Txe(t,e){let r=new Ilt.DisposableStore,n=_xe(t,(o,a,c)=>{r.clear(),e(o,a,c,r)});return{dispose(){n.dispose(),r.dispose()}}}s(Txe,"runOnChangeWithStore");function vlt(t,e){return Txe(t,(r,n,o,a)=>{e(r,n,o,(0,Elt.cancelOnDispose)(a))})}s(vlt,"runOnChangeWithCancellationToken")});var Rxe=T(Xk=>{"use strict";d();Object.defineProperty(Xk,"__esModule",{value:!0});Xk.latestChangedValue=wlt;Xk.derivedConstOnceDefined=Slt;var Sxe=ga(),Bxe=e0(),blt=lC(),_lt=S2(),Tlt=zk();function wlt(t,e){if(e.length===0)throw new Sxe.BugIndicatingError;let r=!1,n,o=(0,blt.observableFromEvent)(t,a=>{let c=new Sxe.DisposableStore;for(let l of e)c.add((0,_lt.autorunOpts)({debugName:s(()=>(0,Bxe.getDebugName)(o,new Bxe.DebugNameData(t,void 0,void 0))+".updateLastChangedValue","debugName")},u=>{r=!0,n=l.read(u),a()}));return c.add({dispose(){r=!1,n=void 0}}),c},()=>r?n:e[e.length-1].get());return o}s(wlt,"latestChangedValue");function Slt(t,e){return(0,Tlt.derivedObservableWithCache)(t,(r,n)=>n??e(r))}s(Slt,"derivedConstOnceDefined")});var kxe=T(Zk=>{"use strict";d();Object.defineProperty(Zk,"__esModule",{value:!0});Zk.ObservableSet=void 0;var Blt=Qk(),K$=class{static{s(this,"ObservableSet")}constructor(){this._data=new Set,this._obs=(0,Blt.observableValueOpts)({equalsFn:s(()=>!1,"equalsFn")},this),this.observable=this._obs}get size(){return this._data.size}has(e){return this._data.has(e)}add(e,r){return this._data.has(e)||(this._data.add(e),this._obs.set(this,r)),this}delete(e,r){let n=this._data.delete(e);return n&&this._obs.set(this,r),n}clear(e){this._data.size>0&&(this._data.clear(),this._obs.set(this,e))}forEach(e,r){this._data.forEach((n,o,a)=>{e.call(r,n,o,this)})}*entries(){for(let e of this._data)yield[e,e]}*keys(){yield*this._data.keys()}*values(){yield*this._data.values()}[Symbol.iterator](){return this.values()}get[Symbol.toStringTag](){return"ObservableSet"}};Zk.ObservableSet=K$});var Dxe=T(eD=>{"use strict";d();Object.defineProperty(eD,"__esModule",{value:!0});eD.ObservableMap=void 0;var Rlt=Qk(),J$=class{static{s(this,"ObservableMap")}constructor(){this._data=new Map,this._obs=(0,Rlt.observableValueOpts)({equalsFn:s(()=>!1,"equalsFn")},this),this.observable=this._obs}get size(){return this._data.size}has(e){return this._data.has(e)}get(e){return this._data.get(e)}set(e,r,n){let o=this._data.has(e),a=this._data.get(e);return(!o||a!==r)&&(this._data.set(e,r),this._obs.set(this,n)),this}delete(e,r){let n=this._data.delete(e);return n&&this._obs.set(this,r),n}clear(e){this._data.size>0&&(this._data.clear(),this._obs.set(this,e))}forEach(e,r){this._data.forEach((n,o,a)=>{e.call(r,n,o,this)})}*entries(){yield*this._data.entries()}*keys(){yield*this._data.keys()}*values(){yield*this._data.values()}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return"ObservableMap"}};eD.ObservableMap=J$});var X$=T(P2=>{"use strict";d();Object.defineProperty(P2,"__esModule",{value:!0});P2.ConsoleObservableLogger=void 0;P2.logObservableToConsole=Nlt;P2.formatValue=Q2;var klt=gf(),Dlt=e0(),Nxe=$T(),tD;function Nlt(t){tD||(tD=new rD,(0,klt.addLogger)(tD)),tD.addFilteredObj(t)}s(Nlt,"logObservableToConsole");var rD=class{static{s(this,"ConsoleObservableLogger")}constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}addFilteredObj(e){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(e)}_isIncluded(e){return this._filteredObjects?.has(e)??!0}textToConsoleArgs(e){return Qlt([D2(Llt("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[D2(" "),el(Q2(e.oldValue,70),{color:"red",strikeThrough:!0}),D2(" "),el(Q2(e.newValue,60),{color:"green"})]:[D2(" (unchanged)")]:[D2(" "),el(Q2(e.newValue,60),{color:"green"}),D2(" (initial)")]}handleObservableCreated(e){if(e instanceof Nxe.Derived){let r=e;if(this.changedObservablesSets.set(r,new Set),!1){let o=[];r.__debugUpdating=o;let a=r.beginUpdate;r.beginUpdate=l=>(o.push(l),a.apply(r,[l]));let c=r.endUpdate;r.endUpdate=l=>{let u=o.indexOf(l);return u===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),o.splice(u,1),c.apply(r,[l])}}}}handleOnListenerCountChanged(e,r){}handleObservableUpdated(e,r){if(this._isIncluded(e)){if(e instanceof Nxe.Derived){this._handleDerivedRecomputed(e,r);return}console.log(...this.textToConsoleArgs([N2("observable value changed"),el(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(e){if(e.size!==0)return el(" (changed deps: "+[...e].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e)?.add(r)}_handleDerivedRecomputed(e,r){if(!this._isIncluded(e))return;let n=this.changedObservablesSets.get(e);n&&(console.log(...this.textToConsoleArgs([N2("derived recomputed"),el(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear())}handleDerivedCleared(e){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([N2("derived cleared"),el(e.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(e,r){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([N2("observable from event triggered"),el(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){this._isIncluded(e)&&this.changedObservablesSets.set(e,new Set)}handleAutorunDisposed(e){}handleAutorunDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e).add(r)}handleAutorunStarted(e){let r=this.changedObservablesSets.get(e);r&&(this._isIncluded(e)&&console.log(...this.textToConsoleArgs([N2("autorun"),el(e.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let r=e.getDebugName();r===void 0&&(r=""),this._isIncluded(e)&&console.log(...this.textToConsoleArgs([N2("transaction"),el(r,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};P2.ConsoleObservableLogger=rD;function Qlt(t){let e=new Array,r=[],n="";function o(c){if("length"in c)for(let l of c)l&&o(l);else"text"in c?(n+=`%c${c.text}`,e.push(c.style),c.data&&r.push(...c.data)):"data"in c&&r.push(...c.data)}s(o,"process"),o(t);let a=[n,...e];return a.push(...r),a}s(Qlt,"consoleTextToArgs");function D2(t){return el(t,{color:"black"})}s(D2,"normalText");function N2(t){return el(Mlt(`${t}: `,10),{color:"black",bold:!0})}s(N2,"formatKind");function el(t,e={color:"black"}){function r(o){return Object.entries(o).reduce((a,[c,l])=>`${a}${c}:${l};`,"")}s(r,"objToCss");let n={color:e.color};return e.strikeThrough&&(n["text-decoration"]="line-through"),e.bold&&(n["font-weight"]="bold"),{text:t,style:r(n)}}s(el,"styled");function Q2(t,e){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=e?`"${t}"`:`"${t.substr(0,e-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?Plt(t,e):Flt(t,e);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}s(Q2,"formatValue");function Plt(t,e){let r="[ ",n=!0;for(let o of t){if(n||(r+=", "),r.length-5>e){r+="...";break}n=!1,r+=`${Q2(o,e-r.length)}`}return r+=" ]",r}s(Plt,"formatArray");function Flt(t,e){if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString){let a=t.toString();return a.length<=e?a:a.substring(0,e-3)+"..."}let r=(0,Dlt.getClassName)(t),n=r?r+"(":"{ ",o=!0;for(let[a,c]of Object.entries(t)){if(o||(n+=", "),n.length-5>e){n+="...";break}o=!1,n+=`${a}: ${Q2(c,e-n.length)}`}return n+=r?")":" }",n}s(Flt,"formatObject");function Llt(t,e){let r="";for(let n=1;n<=e;n++)r+=t;return r}s(Llt,"repeat");function Mlt(t,e){for(;t.length<e;)t+=" ";return t}s(Mlt,"padStr")});var Qxe=T(nD=>{"use strict";d();Object.defineProperty(nD,"__esModule",{value:!0});nD.SimpleTypedRpcConnection=void 0;var Z$=class t{static{s(this,"SimpleTypedRpcConnection")}static createHost(e,r){return new t(e,r)}static createClient(e,r){return new t(e,r)}constructor(e,r){this._channelFactory=e,this._getHandler=r,this._channel=this._channelFactory({handleNotification:s(a=>{let c=a,l=this._getHandler().notifications[c[0]];if(!l)throw new Error(`Unknown notification "${c[0]}"!`);l(...c[1])},"handleNotification"),handleRequest:s(a=>{let c=a;try{return{type:"result",value:this._getHandler().requests[c[0]](...c[1])}}catch(l){return{type:"error",value:l}}},"handleRequest")});let n=new Proxy({},{get:s((a,c)=>async(...l)=>{let u=await this._channel.sendRequest([c,l]);if(u.type==="error")throw u.value;return u.value},"get")}),o=new Proxy({},{get:s((a,c)=>(...l)=>{this._channel.sendNotification([c,l])},"get")});this.api={notifications:o,requests:n}}};nD.SimpleTypedRpcConnection=Z$});var Pxe=T(ez=>{"use strict";d();Object.defineProperty(ez,"__esModule",{value:!0});ez.registerDebugChannel=Ult;var Olt=Qxe();function Ult(t,e){let r=globalThis,n=[],o,{channel:a,handler:c}=qlt({sendNotification:s(u=>{o?o.sendNotification(u):n.push(u)},"sendNotification")}),l;return(r.$$debugValueEditor_debugChannels??(r.$$debugValueEditor_debugChannels={}))[t]=u=>{l=e(),o=u;for(let f of n)u.sendNotification(f);return n=[],c},Olt.SimpleTypedRpcConnection.createClient(a,()=>{if(!l)throw new Error("Not supported");return l})}s(Ult,"registerDebugChannel");function qlt(t){let e;return{channel:s(n=>(e=n,{sendNotification:s(o=>{t.sendNotification(o)},"sendNotification"),sendRequest:s(o=>{throw new Error("not supported")},"sendRequest")}),"channel"),handler:{handleRequest:s(n=>n.type==="notification"?e?.handleNotification(n.data):e?.handleRequest(n.data),"handleRequest")}}}s(qlt,"createChannelFactoryFromDebugChannel")});var Mxe=T(Hp=>{"use strict";d();Object.defineProperty(Hp,"__esModule",{value:!0});Hp.Throttler=Hp.Debouncer=void 0;Hp.deepAssign=Fxe;Hp.deepAssignDeleteNulls=Lxe;var tz=class{static{s(this,"Debouncer")}constructor(){this._timeout=void 0}debounce(e,r){this._timeout!==void 0&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this._timeout=void 0,e()},r)}dispose(){this._timeout!==void 0&&clearTimeout(this._timeout)}};Hp.Debouncer=tz;var rz=class{static{s(this,"Throttler")}constructor(){this._timeout=void 0}throttle(e,r){this._timeout===void 0&&(this._timeout=setTimeout(()=>{this._timeout=void 0,e()},r))}dispose(){this._timeout!==void 0&&clearTimeout(this._timeout)}};Hp.Throttler=rz;function Fxe(t,e){for(let r in e)t[r]&&typeof t[r]=="object"&&e[r]&&typeof e[r]=="object"?Fxe(t[r],e[r]):t[r]=e[r]}s(Fxe,"deepAssign");function Lxe(t,e){for(let r in e)e[r]===null?delete t[r]:t[r]&&typeof t[r]=="object"&&e[r]&&typeof e[r]=="object"?Lxe(t[r],e[r]):t[r]=e[r]}s(Lxe,"deepAssignDeleteNulls")});var qxe=T(oD=>{"use strict";d();Object.defineProperty(oD,"__esModule",{value:!0});oD.DevToolsLogger=void 0;var Oxe=k$(),iD=X$(),Hlt=Pxe(),nz=Mxe(),ZT=zj(),Glt=lC(),uC=eu(),fC=$T(),Uxe=nC(),Vlt=Z0(),iz=class t{static{s(this,"DevToolsLogger")}static{this._instance=void 0}static getInstance(){return t._instance===void 0&&(t._instance=new t),t._instance}getTransactionState(){let e=[],r=[...this._activeTransactions];if(r.length===0)return;let n=r.flatMap(a=>a.debugGetUpdatingObservers()??[]).map(a=>a.observer),o=new Set;for(;n.length>0;){let a=n.shift();if(o.has(a))continue;o.add(a);let c=this._getInfo(a,l=>{o.has(l)||n.push(l)});c&&e.push(c)}return{names:r.map(a=>a.getDebugName()??"tx"),affected:e}}_getObservableInfo(e){let r=this._instanceInfos.get(e);if(!r){(0,uC.onUnexpectedError)(new uC.BugIndicatingError("No info found"));return}return r}_getAutorunInfo(e){let r=this._instanceInfos.get(e);if(!r){(0,uC.onUnexpectedError)(new uC.BugIndicatingError("No info found"));return}return r}_getInfo(e,r){if(e instanceof fC.Derived){let n=[...e.debugGetObservers()];for(let u of n)r(u);let o=this._getObservableInfo(e);if(!o)return;let a=e.debugGetState(),c={name:e.debugName,instanceId:o.instanceId,updateCount:a.updateCount},l=[...o.changedObservables].map(u=>this._instanceInfos.get(u)?.instanceId).filter(ZT.isDefined);if(a.isComputing)return{...c,type:"observable/derived",state:"updating",changedDependencies:l,initialComputation:!1};switch(a.state){case 0:return{...c,type:"observable/derived",state:"noValue"};case 3:return{...c,type:"observable/derived",state:"upToDate"};case 2:return{...c,type:"observable/derived",state:"stale",changedDependencies:l};case 1:return{...c,type:"observable/derived",state:"possiblyStale"}}}else if(e instanceof Oxe.AutorunObserver){let n=this._getAutorunInfo(e);if(!n)return;let o={name:e.debugName,instanceId:n.instanceId,updateCount:n.updateCount},a=[...n.changedObservables].map(c=>this._instanceInfos.get(c).instanceId);if(e.debugGetState().isRunning)return{...o,type:"autorun",state:"updating",changedDependencies:a};switch(e.debugGetState().state){case 3:return{...o,type:"autorun",state:"upToDate"};case 2:return{...o,type:"autorun",state:"stale",changedDependencies:a};case 1:return{...o,type:"autorun",state:"possiblyStale"}}}}_formatObservable(e){let r=this._getObservableInfo(e);if(r)return{name:e.debugName,instanceId:r.instanceId}}_formatObserver(e){if(e instanceof fC.Derived)return{name:e.toString(),instanceId:this._getObservableInfo(e)?.instanceId};let r=this._getAutorunInfo(e);if(r)return{name:e.toString(),instanceId:r.instanceId}}constructor(){this._declarationId=0,this._instanceId=0,this._declarations=new Map,this._instanceInfos=new WeakMap,this._aliveInstances=new Map,this._activeTransactions=new Set,this._channel=(0,Hlt.registerDebugChannel)("observableDevTools",()=>({notifications:{setDeclarationIdFilter:s(e=>{},"setDeclarationIdFilter"),logObservableValue:s(e=>{console.log("logObservableValue",e)},"logObservableValue"),flushUpdates:s(()=>{this._flushUpdates()},"flushUpdates"),resetUpdates:s(()=>{this._pendingChanges=null,this._channel.api.notifications.handleChange(this._fullState,!0)},"resetUpdates")},requests:{getDeclarations:s(()=>{let e={};for(let r of this._declarations.values())e[r.id]=r;return{decls:e}},"getDeclarations"),getSummarizedInstances:s(()=>null,"getSummarizedInstances"),getObservableValueInfo:s(e=>({observers:[...this._aliveInstances.get(e).debugGetObservers()].map(n=>this._formatObserver(n)).filter(ZT.isDefined)}),"getObservableValueInfo"),getDerivedInfo:s(e=>{let r=this._aliveInstances.get(e);return{dependencies:[...r.debugGetState().dependencies].map(n=>this._formatObservable(n)).filter(ZT.isDefined),observers:[...r.debugGetObservers()].map(n=>this._formatObserver(n)).filter(ZT.isDefined)}},"getDerivedInfo"),getAutorunInfo:s(e=>({dependencies:[...this._aliveInstances.get(e).debugGetState().dependencies].map(n=>this._formatObservable(n)).filter(ZT.isDefined)}),"getAutorunInfo"),getTransactionState:s(()=>this.getTransactionState(),"getTransactionState"),setValue:s((e,r)=>{let n=this._aliveInstances.get(e);if(n instanceof fC.Derived)n.debugSetValue(r);else if(n instanceof Uxe.ObservableValue)n.debugSetValue(r);else if(n instanceof Glt.FromEventObservable)n.debugSetValue(r);else throw new uC.BugIndicatingError("Observable is not supported");let o=[...n.debugGetObservers()];for(let a of o)a.beginUpdate(n);for(let a of o)a.handleChange(n,void 0);for(let a of o)a.endUpdate(n)},"setValue"),getValue:s(e=>{let r=this._aliveInstances.get(e);if(r instanceof fC.Derived)return(0,iD.formatValue)(r.debugGetState().value,200);if(r instanceof Uxe.ObservableValue)return(0,iD.formatValue)(r.debugGetState().value,200)},"getValue"),logValue:s(e=>{let r=this._aliveInstances.get(e);if(r&&"get"in r)console.log("Logged Value:",r.get());else throw new uC.BugIndicatingError("Observable is not supported")},"logValue"),rerun:s(e=>{let r=this._aliveInstances.get(e);if(r instanceof fC.Derived)r.debugRecompute();else if(r instanceof Oxe.AutorunObserver)r.debugRerun();else throw new uC.BugIndicatingError("Observable is not supported")},"rerun")}})),this._pendingChanges=null,this._changeThrottler=new nz.Throttler,this._fullState={},this._flushUpdates=()=>{this._pendingChanges!==null&&(this._channel.api.notifications.handleChange(this._pendingChanges,!1),this._pendingChanges=null)},Vlt.DebugLocation.enable()}_handleChange(e){(0,nz.deepAssignDeleteNulls)(this._fullState,e),this._pendingChanges===null?this._pendingChanges=e:(0,nz.deepAssign)(this._pendingChanges,e),this._changeThrottler.throttle(this._flushUpdates,10)}_getDeclarationId(e,r){if(!r)return-1;let n=this._declarations.get(r.id);return n===void 0&&(n={id:this._declarationId++,type:e,url:r.fileName,line:r.line,column:r.column},this._declarations.set(r.id,n),this._handleChange({decls:{[n.id]:n}})),n.id}handleObservableCreated(e,r){let o={declarationId:this._getDeclarationId("observable/value",r),instanceId:this._instanceId++,listenerCount:0,lastValue:void 0,updateCount:0,changedObservables:new Set};this._instanceInfos.set(e,o)}handleOnListenerCountChanged(e,r){let n=this._getObservableInfo(e);if(n){if(n.listenerCount===0&&r>0){let o=e instanceof fC.Derived?"observable/derived":"observable/value";this._aliveInstances.set(n.instanceId,e),this._handleChange({instances:{[n.instanceId]:{instanceId:n.instanceId,declarationId:n.declarationId,formattedValue:n.lastValue,type:o,name:e.debugName}}})}else n.listenerCount>0&&r===0&&(this._handleChange({instances:{[n.instanceId]:null}}),this._aliveInstances.delete(n.instanceId));n.listenerCount=r}}handleObservableUpdated(e,r){if(e instanceof fC.Derived){this._handleDerivedRecomputed(e,r);return}let n=this._getObservableInfo(e);n&&r.didChange&&(n.lastValue=(0,iD.formatValue)(r.newValue,30),n.listenerCount>0&&this._handleChange({instances:{[n.instanceId]:{formattedValue:n.lastValue}}}))}handleAutorunCreated(e,r){let o={declarationId:this._getDeclarationId("autorun",r),instanceId:this._instanceId++,updateCount:0,changedObservables:new Set};this._instanceInfos.set(e,o),this._aliveInstances.set(o.instanceId,e),o&&this._handleChange({instances:{[o.instanceId]:{instanceId:o.instanceId,declarationId:o.declarationId,runCount:0,type:"autorun",name:e.debugName}}})}handleAutorunDisposed(e){let r=this._getAutorunInfo(e);r&&(this._handleChange({instances:{[r.instanceId]:null}}),this._instanceInfos.delete(e),this._aliveInstances.delete(r.instanceId))}handleAutorunDependencyChanged(e,r,n){let o=this._getAutorunInfo(e);o&&o.changedObservables.add(r)}handleAutorunStarted(e){}handleAutorunFinished(e){let r=this._getAutorunInfo(e);r&&(r.changedObservables.clear(),r.updateCount++,this._handleChange({instances:{[r.instanceId]:{runCount:r.updateCount}}}))}handleDerivedDependencyChanged(e,r,n){let o=this._getObservableInfo(e);o&&o.changedObservables.add(r)}_handleDerivedRecomputed(e,r){let n=this._getObservableInfo(e);if(!n)return;let o=(0,iD.formatValue)(r.newValue,30);n.updateCount++,n.changedObservables.clear(),n.lastValue=o,n.listenerCount>0&&this._handleChange({instances:{[n.instanceId]:{formattedValue:o,recomputationCount:n.updateCount}}})}handleDerivedCleared(e){let r=this._getObservableInfo(e);r&&(r.lastValue=void 0,r.changedObservables.clear(),r.listenerCount>0&&this._handleChange({instances:{[r.instanceId]:{formattedValue:void 0}}}))}handleBeginTransaction(e){this._activeTransactions.add(e)}handleEndTransaction(e){this._activeTransactions.delete(e)}};oD.DevToolsLogger=iz});var oz=T(sD=>{"use strict";d();Object.defineProperty(sD,"__esModule",{value:!0});sD.getNLSMessages=Wlt;sD.getNLSLanguage=Ylt;function Wlt(){return globalThis._VSCODE_NLS_MESSAGES}s(Wlt,"getNLSMessages");function Ylt(){return globalThis._VSCODE_NLS_LANGUAGE}s(Ylt,"getNLSLanguage")});var Wxe=T(Gp=>{"use strict";d();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.getNLSMessages=Gp.getNLSLanguage=void 0;Gp.localize=$lt;Gp.localize2=zlt;var Hxe=oz(),Gxe=oz();Object.defineProperty(Gp,"getNLSLanguage",{enumerable:!0,get:s(function(){return Gxe.getNLSLanguage},"get")});Object.defineProperty(Gp,"getNLSMessages",{enumerable:!0,get:s(function(){return Gxe.getNLSMessages},"get")});var jlt=(0,Hxe.getNLSLanguage)()==="pseudo"||typeof document<"u"&&document.location&&typeof document.location.hash=="string"&&document.location.hash.indexOf("pseudo=true")>=0;function aD(t,e){let r;return e.length===0?r=t:r=t.replace(/\{(\d+)\}/g,(n,o)=>{let a=o[0],c=e[a],l=n;return typeof c=="string"?l=c:(typeof c=="number"||typeof c=="boolean"||c===void 0||c===null)&&(l=String(c)),l}),jlt&&(r="\uFF3B"+r.replace(/[aouei]/g,"$&$&")+"\uFF3D"),r}s(aD,"_format");function $lt(t,e,...r){return aD(typeof t=="number"?Vxe(t,e):e,r)}s($lt,"localize");function Vxe(t,e){let r=(0,Hxe.getNLSMessages)()?.[t];if(typeof r!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${t} !!!`)}return r}s(Vxe,"lookupMessage");function zlt(t,e,...r){let n;typeof t=="number"?n=Vxe(t,e):n=e;let o=aD(n,r);return{value:o,original:e===n?o:aD(e,r)}}s(zlt,"localize2")});var rve=T(Pe=>{"use strict";d();var Klt=Pe&&Pe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jlt=Pe&&Pe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xlt=Pe&&Pe.__importStar||function(){var t=s(function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},t(e)},"ownKeys");return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),o=0;o<n.length;o++)n[o]!=="default"&&Klt(r,e,n[o]);return Jlt(r,e),r}}();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.isAndroid=Pe.isEdge=Pe.isSafari=Pe.isFirefox=Pe.isChrome=Pe.OS=Pe.setTimeout0=Pe.setTimeout0IsFaster=Pe.translationsConfigFile=Pe.platformLocale=Pe.locale=Pe.Language=Pe.language=Pe.userAgent=Pe.platform=Pe.isCI=Pe.isMobile=Pe.isIOS=Pe.webWorkerOrigin=Pe.isWebWorker=Pe.isWeb=Pe.isElectron=Pe.isNative=Pe.isLinuxSnap=Pe.isLinux=Pe.isMacintosh=Pe.isWindows=Pe.LANGUAGE_DEFAULT=void 0;Pe.PlatformToString=tut;Pe.isLittleEndian=rut;Pe.isBigSurOrNewer=nut;var Zlt=Xlt(Wxe());Pe.LANGUAGE_DEFAULT="en";var r4=!1,n4=!1,t4=!1,zxe=!1,Kxe=!1,az=!1,Jxe=!1,cz=!1,Xxe=!1,Zxe=!1,e4,cD=Pe.LANGUAGE_DEFAULT,sz=Pe.LANGUAGE_DEFAULT,eve,mh,gh=globalThis,rc;typeof gh.vscode<"u"&&typeof gh.vscode.process<"u"?rc=gh.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(rc=process);var tve=typeof rc?.versions?.electron=="string",eut=tve&&rc?.type==="renderer";if(typeof rc=="object"){r4=rc.platform==="win32",n4=rc.platform==="darwin",t4=rc.platform==="linux",zxe=t4&&!!rc.env.SNAP&&!!rc.env.SNAP_REVISION,Jxe=tve,Xxe=!!rc.env.CI||!!rc.env.BUILD_ARTIFACTSTAGINGDIRECTORY||!!rc.env.GITHUB_WORKSPACE,e4=Pe.LANGUAGE_DEFAULT,cD=Pe.LANGUAGE_DEFAULT;let t=rc.env.VSCODE_NLS_CONFIG;if(t)try{let e=JSON.parse(t);e4=e.userLocale,sz=e.osLocale,cD=e.resolvedLanguage||Pe.LANGUAGE_DEFAULT,eve=e.languagePack?.translationsConfigFile}catch{}Kxe=!0}else typeof navigator=="object"&&!eut?(mh=navigator.userAgent,r4=mh.indexOf("Windows")>=0,n4=mh.indexOf("Macintosh")>=0,cz=(mh.indexOf("Macintosh")>=0||mh.indexOf("iPad")>=0||mh.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,t4=mh.indexOf("Linux")>=0,Zxe=mh?.indexOf("Mobi")>=0,az=!0,cD=Zlt.getNLSLanguage()||Pe.LANGUAGE_DEFAULT,e4=navigator.language.toLowerCase(),sz=e4):console.error("Unable to resolve platform.");function tut(t){switch(t){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}s(tut,"PlatformToString");var lD=0;n4?lD=1:r4?lD=3:t4&&(lD=2);Pe.isWindows=r4;Pe.isMacintosh=n4;Pe.isLinux=t4;Pe.isLinuxSnap=zxe;Pe.isNative=Kxe;Pe.isElectron=Jxe;Pe.isWeb=az;Pe.isWebWorker=az&&typeof gh.importScripts=="function";Pe.webWorkerOrigin=Pe.isWebWorker?gh.origin:void 0;Pe.isIOS=cz;Pe.isMobile=Zxe;Pe.isCI=Xxe;Pe.platform=lD;Pe.userAgent=mh;Pe.language=cD;var Yxe;(function(t){function e(){return Pe.language}s(e,"value"),t.value=e;function r(){return Pe.language.length===2?Pe.language==="en":Pe.language.length>=3?Pe.language[0]==="e"&&Pe.language[1]==="n"&&Pe.language[2]==="-":!1}s(r,"isDefaultVariant"),t.isDefaultVariant=r;function n(){return Pe.language==="en"}s(n,"isDefault"),t.isDefault=n})(Yxe||(Pe.Language=Yxe={}));Pe.locale=e4;Pe.platformLocale=sz;Pe.translationsConfigFile=eve;Pe.setTimeout0IsFaster=typeof gh.postMessage=="function"&&!gh.importScripts;Pe.setTimeout0=(()=>{if(Pe.setTimeout0IsFaster){let t=[];gh.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,o=t.length;n<o;n++){let a=t[n];if(a.id===r.data.vscodeScheduleAsyncWork){t.splice(n,1),a.callback();return}}});let e=0;return r=>{let n=++e;t.push({id:n,callback:r}),gh.postMessage({vscodeScheduleAsyncWork:n},"*")}}return t=>setTimeout(t)})();Pe.OS=n4||cz?2:r4?1:3;var jxe=!0,$xe=!1;function rut(){if(!$xe){$xe=!0;let t=new Uint8Array(2);t[0]=1,t[1]=2,jxe=new Uint16Array(t.buffer)[0]===513}return jxe}s(rut,"isLittleEndian");Pe.isChrome=!!(Pe.userAgent&&Pe.userAgent.indexOf("Chrome")>=0);Pe.isFirefox=!!(Pe.userAgent&&Pe.userAgent.indexOf("Firefox")>=0);Pe.isSafari=!!(!Pe.isChrome&&Pe.userAgent&&Pe.userAgent.indexOf("Safari")>=0);Pe.isEdge=!!(Pe.userAgent&&Pe.userAgent.indexOf("Edg/")>=0);Pe.isAndroid=!!(Pe.userAgent&&Pe.userAgent.indexOf("Android")>=0);function nut(t){return parseFloat(t)>=20}s(nut,"isBigSurOrNewer")});var ive=T(bf=>{"use strict";d();Object.defineProperty(bf,"__esModule",{value:!0});bf.arch=bf.platform=bf.env=bf.cwd=void 0;var nve=rve(),dC,lz=globalThis.vscode;if(typeof lz<"u"&&typeof lz.process<"u"){let t=lz.process;dC={get platform(){return t.platform},get arch(){return t.arch},get env(){return t.env},cwd(){return t.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?dC={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:dC={get platform(){return nve.isWindows?"win32":nve.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};bf.cwd=dC.cwd;bf.env=dC.env;bf.platform=dC.platform;bf.arch=dC.arch});var dz=T(Be=>{"use strict";d();Object.defineProperty(Be,"__esModule",{value:!0});Be.latestChangedValue=Be.derivedConstOnceDefined=Be.runOnChangeWithStore=Be.runOnChangeWithCancellationToken=Be.runOnChange=Be.ValueWithChangeEventFromObservable=Be.observableFromValueWithChangeEvent=Be.TransactionImpl=Be.transaction=Be.subtransaction=Be.globalTransaction=Be.asyncTransaction=Be.observableSignalFromEvent=Be.observableFromEventOpts=Be.observableSignal=Be.constObservable=Be.recordChangesLazy=Be.recordChanges=Be.wasEventTriggeredRecently=Be.signalFromObservable=Be.recomputeInitiallyAndOnChange=Be.observableFromPromise=Be.mapObservableArrayCached=Be.keepObserved=Be.derivedObservableWithWritableCache=Be.derivedObservableWithCache=Be.debouncedObservable=Be.debouncedObservableDeprecated=Be.waitForState=Be.derivedWithCancellationToken=Be.PromiseResult=Be.ObservablePromise=Be.ObservableLazyPromise=Be.ObservableLazy=Be.derivedWithStore=Be.derivedWithSetter=Be.derivedOpts=Be.derivedHandleChanges=Be.derivedDisposable=Be.derived=Be.disposableObservableValue=Be.autorunSelfDisposable=Be.autorunIterableDelta=Be.autorunWithStoreHandleChanges=Be.autorunWithStore=Be.autorunOpts=Be.autorunHandleChanges=Be.autorunDelta=Be.autorun=Be.observableValueOpts=void 0;Be.DebugLocation=Be.ObservableMap=Be.ObservableSet=Be.observableValue=Be.observableFromEvent=void 0;var iut=Qk();Object.defineProperty(Be,"observableValueOpts",{enumerable:!0,get:s(function(){return iut.observableValueOpts},"get")});var Vp=S2();Object.defineProperty(Be,"autorun",{enumerable:!0,get:s(function(){return Vp.autorun},"get")});Object.defineProperty(Be,"autorunDelta",{enumerable:!0,get:s(function(){return Vp.autorunDelta},"get")});Object.defineProperty(Be,"autorunHandleChanges",{enumerable:!0,get:s(function(){return Vp.autorunHandleChanges},"get")});Object.defineProperty(Be,"autorunOpts",{enumerable:!0,get:s(function(){return Vp.autorunOpts},"get")});Object.defineProperty(Be,"autorunWithStore",{enumerable:!0,get:s(function(){return Vp.autorunWithStore},"get")});Object.defineProperty(Be,"autorunWithStoreHandleChanges",{enumerable:!0,get:s(function(){return Vp.autorunWithStoreHandleChanges},"get")});Object.defineProperty(Be,"autorunIterableDelta",{enumerable:!0,get:s(function(){return Vp.autorunIterableDelta},"get")});Object.defineProperty(Be,"autorunSelfDisposable",{enumerable:!0,get:s(function(){return Vp.autorunSelfDisposable},"get")});var sut=nC();Object.defineProperty(Be,"disposableObservableValue",{enumerable:!0,get:s(function(){return sut.disposableObservableValue},"get")});var F2=Uk();Object.defineProperty(Be,"derived",{enumerable:!0,get:s(function(){return F2.derived},"get")});Object.defineProperty(Be,"derivedDisposable",{enumerable:!0,get:s(function(){return F2.derivedDisposable},"get")});Object.defineProperty(Be,"derivedHandleChanges",{enumerable:!0,get:s(function(){return F2.derivedHandleChanges},"get")});Object.defineProperty(Be,"derivedOpts",{enumerable:!0,get:s(function(){return F2.derivedOpts},"get")});Object.defineProperty(Be,"derivedWithSetter",{enumerable:!0,get:s(function(){return F2.derivedWithSetter},"get")});Object.defineProperty(Be,"derivedWithStore",{enumerable:!0,get:s(function(){return F2.derivedWithStore},"get")});var uD=cxe();Object.defineProperty(Be,"ObservableLazy",{enumerable:!0,get:s(function(){return uD.ObservableLazy},"get")});Object.defineProperty(Be,"ObservableLazyPromise",{enumerable:!0,get:s(function(){return uD.ObservableLazyPromise},"get")});Object.defineProperty(Be,"ObservablePromise",{enumerable:!0,get:s(function(){return uD.ObservablePromise},"get")});Object.defineProperty(Be,"PromiseResult",{enumerable:!0,get:s(function(){return uD.PromiseResult},"get")});var sve=fxe();Object.defineProperty(Be,"derivedWithCancellationToken",{enumerable:!0,get:s(function(){return sve.derivedWithCancellationToken},"get")});Object.defineProperty(Be,"waitForState",{enumerable:!0,get:s(function(){return sve.waitForState},"get")});var _f=zk();Object.defineProperty(Be,"debouncedObservableDeprecated",{enumerable:!0,get:s(function(){return _f.debouncedObservableDeprecated},"get")});Object.defineProperty(Be,"debouncedObservable",{enumerable:!0,get:s(function(){return _f.debouncedObservable},"get")});Object.defineProperty(Be,"derivedObservableWithCache",{enumerable:!0,get:s(function(){return _f.derivedObservableWithCache},"get")});Object.defineProperty(Be,"derivedObservableWithWritableCache",{enumerable:!0,get:s(function(){return _f.derivedObservableWithWritableCache},"get")});Object.defineProperty(Be,"keepObserved",{enumerable:!0,get:s(function(){return _f.keepObserved},"get")});Object.defineProperty(Be,"mapObservableArrayCached",{enumerable:!0,get:s(function(){return _f.mapObservableArrayCached},"get")});Object.defineProperty(Be,"observableFromPromise",{enumerable:!0,get:s(function(){return _f.observableFromPromise},"get")});Object.defineProperty(Be,"recomputeInitiallyAndOnChange",{enumerable:!0,get:s(function(){return _f.recomputeInitiallyAndOnChange},"get")});Object.defineProperty(Be,"signalFromObservable",{enumerable:!0,get:s(function(){return _f.signalFromObservable},"get")});Object.defineProperty(Be,"wasEventTriggeredRecently",{enumerable:!0,get:s(function(){return _f.wasEventTriggeredRecently},"get")});var ave=Ixe();Object.defineProperty(Be,"recordChanges",{enumerable:!0,get:s(function(){return ave.recordChanges},"get")});Object.defineProperty(Be,"recordChangesLazy",{enumerable:!0,get:s(function(){return ave.recordChangesLazy},"get")});var aut=xxe();Object.defineProperty(Be,"constObservable",{enumerable:!0,get:s(function(){return aut.constObservable},"get")});var cut=G$();Object.defineProperty(Be,"observableSignal",{enumerable:!0,get:s(function(){return cut.observableSignal},"get")});var lut=lC();Object.defineProperty(Be,"observableFromEventOpts",{enumerable:!0,get:s(function(){return lut.observableFromEventOpts},"get")});var uut=vxe();Object.defineProperty(Be,"observableSignalFromEvent",{enumerable:!0,get:s(function(){return uut.observableSignalFromEvent},"get")});var i4=Ah();Object.defineProperty(Be,"asyncTransaction",{enumerable:!0,get:s(function(){return i4.asyncTransaction},"get")});Object.defineProperty(Be,"globalTransaction",{enumerable:!0,get:s(function(){return i4.globalTransaction},"get")});Object.defineProperty(Be,"subtransaction",{enumerable:!0,get:s(function(){return i4.subtransaction},"get")});Object.defineProperty(Be,"transaction",{enumerable:!0,get:s(function(){return i4.transaction},"get")});Object.defineProperty(Be,"TransactionImpl",{enumerable:!0,get:s(function(){return i4.TransactionImpl},"get")});var cve=bxe();Object.defineProperty(Be,"observableFromValueWithChangeEvent",{enumerable:!0,get:s(function(){return cve.observableFromValueWithChangeEvent},"get")});Object.defineProperty(Be,"ValueWithChangeEventFromObservable",{enumerable:!0,get:s(function(){return cve.ValueWithChangeEventFromObservable},"get")});var uz=wxe();Object.defineProperty(Be,"runOnChange",{enumerable:!0,get:s(function(){return uz.runOnChange},"get")});Object.defineProperty(Be,"runOnChangeWithCancellationToken",{enumerable:!0,get:s(function(){return uz.runOnChangeWithCancellationToken},"get")});Object.defineProperty(Be,"runOnChangeWithStore",{enumerable:!0,get:s(function(){return uz.runOnChangeWithStore},"get")});var lve=Rxe();Object.defineProperty(Be,"derivedConstOnceDefined",{enumerable:!0,get:s(function(){return lve.derivedConstOnceDefined},"get")});Object.defineProperty(Be,"latestChangedValue",{enumerable:!0,get:s(function(){return lve.latestChangedValue},"get")});var fut=lC();Object.defineProperty(Be,"observableFromEvent",{enumerable:!0,get:s(function(){return fut.observableFromEvent},"get")});var dut=nC();Object.defineProperty(Be,"observableValue",{enumerable:!0,get:s(function(){return dut.observableValue},"get")});var hut=kxe();Object.defineProperty(Be,"ObservableSet",{enumerable:!0,get:s(function(){return hut.ObservableSet},"get")});var Aut=Dxe();Object.defineProperty(Be,"ObservableMap",{enumerable:!0,get:s(function(){return Aut.ObservableMap},"get")});var put=Z0();Object.defineProperty(Be,"DebugLocation",{enumerable:!0,get:s(function(){return put.DebugLocation},"get")});var fz=gf(),uve=X$(),mut=qxe(),ove=ive();(0,fz.setLogObservableFn)(uve.logObservableToConsole);var gut=!1;gut&&(0,fz.addLogger)(new uve.ConsoleObservableLogger);ove.env&&ove.env.VSCODE_DEV_DEBUG_OBSERVABLES&&(0,fz.addLogger)(mut.DevToolsLogger.getInstance())});var fve=T(Ch=>{"use strict";d();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.CachedFunction=Ch.LRUCachedFunction=Ch.Cache=void 0;Ch.identity=mz;var Cut=L$(),hz=class{static{s(this,"Cache")}constructor(e){this.task=e,this.result=null}get(){if(this.result)return this.result;let e=new Cut.CancellationTokenSource,r=this.task(e.token);return this.result={promise:r,dispose:s(()=>{this.result=null,e.cancel(),e.dispose()},"dispose")},this.result}};Ch.Cache=hz;function mz(t){return t}s(mz,"identity");var Az=class{static{s(this,"LRUCachedFunction")}constructor(e,r){this.lastCache=void 0,this.lastArgKey=void 0,typeof e=="function"?(this._fn=e,this._computeKey=mz):(this._fn=r,this._computeKey=e.getCacheKey)}get(e){let r=this._computeKey(e);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(e)),this.lastCache}};Ch.LRUCachedFunction=Az;var pz=class{static{s(this,"CachedFunction")}get cachedValues(){return this._map}constructor(e,r){this._map=new Map,this._map2=new Map,typeof e=="function"?(this._fn=e,this._computeKey=mz):(this._fn=r,this._computeKey=e.getCacheKey)}get(e){let r=this._computeKey(e);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(e);return this._map.set(e,n),this._map2.set(r,n),n}};Ch.CachedFunction=pz});var dve=T(fD=>{"use strict";d();Object.defineProperty(fD,"__esModule",{value:!0});fD.Lazy=void 0;var Wp;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Running=1]="Running",t[t.Completed=2]="Completed"})(Wp||(Wp={}));var gz=class{static{s(this,"Lazy")}constructor(e){this.executor=e,this._state=Wp.Uninitialized}get hasValue(){return this._state===Wp.Completed}get value(){if(this._state===Wp.Uninitialized){this._state=Wp.Running;try{this._value=this.executor()}catch(e){this._error=e}finally{this._state=Wp.Completed}}else if(this._state===Wp.Running)throw new Error("Cannot read the value of a lazy that is being initialized");if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};fD.Lazy=gz});var bz=T(Ge=>{"use strict";d();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Ellipsis=Ge.InvisibleCharacters=Ge.AmbiguousCharacters=Ge.noBreakWhitespace=Ge.UTF8_BOM_CHARACTER=Ge.UNUSUAL_LINE_TERMINATORS=Ge.GraphemeIterator=Ge.CodePointIterator=void 0;Ge.isFalsyOrWhitespace=Eut;Ge.format=xut;Ge.format2=but;Ge.htmlAttributeEncodeValue=_ut;Ge.escape=Tut;Ge.escapeRegExpCharacters=pve;Ge.count=wut;Ge.truncate=Sut;Ge.truncateMiddle=But;Ge.trim=Rut;Ge.ltrim=mve;Ge.rtrim=gve;Ge.convertSimple2RegExpPattern=kut;Ge.stripWildcards=Dut;Ge.createRegExp=Nut;Ge.regExpLeadsToEndlessLoop=Qut;Ge.joinStrings=Put;Ge.splitLines=Fut;Ge.splitLinesIncludeSeparators=Lut;Ge.indexOfPattern=Mut;Ge.firstNonWhitespaceIndex=Cve;Ge.getLeadingWhitespace=Out;Ge.lastNonWhitespaceIndex=Uut;Ge.getIndentationLength=qut;Ge.replaceAsync=Hut;Ge.compare=Gut;Ge.compareSubstring=yve;Ge.compareIgnoreCase=Vut;Ge.compareSubstringIgnoreCase=dD;Ge.isAsciiDigit=Wut;Ge.isLowerAsciiLetter=yz;Ge.isUpperAsciiLetter=Yut;Ge.equalsIgnoreCase=jut;Ge.startsWithIgnoreCase=$ut;Ge.commonPrefixLength=zut;Ge.commonSuffixLength=Kut;Ge.isHighSurrogate=xz;Ge.isLowSurrogate=hD;Ge.computeCodePoint=vz;Ge.getNextCodePoint=Eve;Ge.nextCharLength=Ive;Ge.prevCharLength=xve;Ge.getCharContainingOffset=Xut;Ge.charCount=Zut;Ge.containsRTL=tft;Ge.isBasicASCII=nft;Ge.containsUnusualLineTerminators=ift;Ge.isFullWidthCharacter=oft;Ge.isEmojiImprecise=vve;Ge.lcut=sft;Ge.forAnsiStringParts=uft;Ge.removeAnsiEscapeCodes=_ve;Ge.removeAnsiEscapeCodesFromPrompt=dft;Ge.startsWithUTF8BOM=Tve;Ge.stripUTF8BOM=hft;Ge.fuzzyContains=Aft;Ge.containsUppercaseCharacter=pft;Ge.uppercaseFirstLetter=mft;Ge.getNLines=gft;Ge.singleLetterHash=Cft;Ge.getGraphemeBreakType=yft;Ge.getLeftDeleteOffset=Ift;Ge.multibyteAwareBtoa=_ft;var yut=fve(),hve=dve();function Eut(t){return!t||typeof t!="string"?!0:t.trim().length===0}s(Eut,"isFalsyOrWhitespace");var Iut=/{(\d+)}/g;function xut(t,...e){return e.length===0?t:t.replace(Iut,function(r,n){let o=parseInt(n,10);return isNaN(o)||o<0||o>=e.length?r:e[o]})}s(xut,"format");var vut=/{([^}]+)}/g;function but(t,e){return Object.keys(e).length===0?t:t.replace(vut,(r,n)=>e[n]??r)}s(but,"format2");function _ut(t){return t.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}s(_ut,"htmlAttributeEncodeValue");function Tut(t){return t.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}s(Tut,"escape");function pve(t){return t.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}s(pve,"escapeRegExpCharacters");function wut(t,e){let r=0,n=t.indexOf(e);for(;n!==-1;)r++,n=t.indexOf(e,n+e.length);return r}s(wut,"count");function Sut(t,e,r=Ge.Ellipsis){return t.length<=e?t:`${t.substr(0,e)}${r}`}s(Sut,"truncate");function But(t,e,r=Ge.Ellipsis){if(t.length<=e)return t;let n=Math.ceil(e/2)-r.length/2,o=Math.floor(e/2)-r.length/2;return`${t.substr(0,n)}${r}${t.substr(t.length-o)}`}s(But,"truncateMiddle");function Rut(t,e=" "){let r=mve(t,e);return gve(r,e)}s(Rut,"trim");function mve(t,e){if(!t||!e)return t;let r=e.length;if(r===0||t.length===0)return t;let n=0;for(;t.indexOf(e,n)===n;)n=n+r;return t.substring(n)}s(mve,"ltrim");function gve(t,e){if(!t||!e)return t;let r=e.length,n=t.length;if(r===0||n===0)return t;let o=n,a=-1;for(;a=t.lastIndexOf(e,o-1),!(a===-1||a+r!==o);){if(a===0)return"";o=a}return t.substring(0,o)}s(gve,"rtrim");function kut(t){return t.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}s(kut,"convertSimple2RegExpPattern");function Dut(t){return t.replace(/\*/g,"")}s(Dut,"stripWildcards");function Nut(t,e,r={}){if(!t)throw new Error("Cannot create regex from empty string");e||(t=pve(t)),r.wholeWord&&(/\B/.test(t.charAt(0))||(t="\\b"+t),/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"));let n="";return r.global&&(n+="g"),r.matchCase||(n+="i"),r.multiline&&(n+="m"),r.unicode&&(n+="u"),new RegExp(t,n)}s(Nut,"createRegExp");function Qut(t){return t.source==="^"||t.source==="^$"||t.source==="$"||t.source==="^\\s*$"?!1:!!(t.exec("")&&t.lastIndex===0)}s(Qut,"regExpLeadsToEndlessLoop");function Put(t,e){return t.filter(r=>r!=null&&r!==!1).join(e)}s(Put,"joinStrings");function Fut(t){return t.split(/\r\n|\r|\n/)}s(Fut,"splitLines");function Lut(t){let e=[],r=t.split(/(\r\n|\r|\n)/);for(let n=0;n<Math.ceil(r.length/2);n++)e.push(r[2*n]+(r[2*n+1]??""));return e}s(Lut,"splitLinesIncludeSeparators");function Mut(t,e){let r=e.exec(t);return r?r.index:-1}s(Mut,"indexOfPattern");function Cve(t){for(let e=0,r=t.length;e<r;e++){let n=t.charCodeAt(e);if(n!==32&&n!==9)return e}return-1}s(Cve,"firstNonWhitespaceIndex");function Out(t,e=0,r=t.length){for(let n=e;n<r;n++){let o=t.charCodeAt(n);if(o!==32&&o!==9)return t.substring(e,n)}return t.substring(e,r)}s(Out,"getLeadingWhitespace");function Uut(t,e=t.length-1){for(let r=e;r>=0;r--){let n=t.charCodeAt(r);if(n!==32&&n!==9)return r}return-1}s(Uut,"lastNonWhitespaceIndex");function qut(t){let e=Cve(t);return e===-1?t.length:e}s(qut,"getIndentationLength");function Hut(t,e,r){let n=[],o=0;for(let a of t.matchAll(e)){if(n.push(t.slice(o,a.index)),a.index===void 0)throw new Error("match.index should be defined");o=a.index+a[0].length,n.push(r(a[0],...a.slice(1),a.index,t,a.groups))}return n.push(t.slice(o)),Promise.all(n).then(a=>a.join(""))}s(Hut,"replaceAsync");function Gut(t,e){return t<e?-1:t>e?1:0}s(Gut,"compare");function yve(t,e,r=0,n=t.length,o=0,a=e.length){for(;r<n&&o<a;r++,o++){let u=t.charCodeAt(r),f=e.charCodeAt(o);if(u<f)return-1;if(u>f)return 1}let c=n-r,l=a-o;return c<l?-1:c>l?1:0}s(yve,"compareSubstring");function Vut(t,e){return dD(t,e,0,t.length,0,e.length)}s(Vut,"compareIgnoreCase");function dD(t,e,r=0,n=t.length,o=0,a=e.length){for(;r<n&&o<a;r++,o++){let u=t.charCodeAt(r),f=e.charCodeAt(o);if(u===f)continue;if(u>=128||f>=128)return yve(t.toLowerCase(),e.toLowerCase(),r,n,o,a);yz(u)&&(u-=32),yz(f)&&(f-=32);let h=u-f;if(h!==0)return h}let c=n-r,l=a-o;return c<l?-1:c>l?1:0}s(dD,"compareSubstringIgnoreCase");function Wut(t){return t>=48&&t<=57}s(Wut,"isAsciiDigit");function yz(t){return t>=97&&t<=122}s(yz,"isLowerAsciiLetter");function Yut(t){return t>=65&&t<=90}s(Yut,"isUpperAsciiLetter");function jut(t,e){return t.length===e.length&&dD(t,e)===0}s(jut,"equalsIgnoreCase");function $ut(t,e){let r=e.length;return e.length>t.length?!1:dD(t,e,0,r)===0}s($ut,"startsWithIgnoreCase");function zut(t,e){let r=Math.min(t.length,e.length),n;for(n=0;n<r;n++)if(t.charCodeAt(n)!==e.charCodeAt(n))return n;return r}s(zut,"commonPrefixLength");function Kut(t,e){let r=Math.min(t.length,e.length),n,o=t.length-1,a=e.length-1;for(n=0;n<r;n++)if(t.charCodeAt(o-n)!==e.charCodeAt(a-n))return n;return r}s(Kut,"commonSuffixLength");function xz(t){return 55296<=t&&t<=56319}s(xz,"isHighSurrogate");function hD(t){return 56320<=t&&t<=57343}s(hD,"isLowSurrogate");function vz(t,e){return(t-55296<<10)+(e-56320)+65536}s(vz,"computeCodePoint");function Eve(t,e,r){let n=t.charCodeAt(r);if(xz(n)&&r+1<e){let o=t.charCodeAt(r+1);if(hD(o))return vz(n,o)}return n}s(Eve,"getNextCodePoint");function Jut(t,e){let r=t.charCodeAt(e-1);if(hD(r)&&e>1){let n=t.charCodeAt(e-2);if(xz(n))return vz(n,r)}return r}s(Jut,"getPrevCodePoint");var L2=class{static{s(this,"CodePointIterator")}get offset(){return this._offset}constructor(e,r=0){this._str=e,this._len=e.length,this._offset=r}setOffset(e){this._offset=e}prevCodePoint(){let e=Jut(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){let e=Eve(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}};Ge.CodePointIterator=L2;var M2=class{static{s(this,"GraphemeIterator")}get offset(){return this._iterator.offset}constructor(e,r=0){this._iterator=new L2(e,r)}nextGraphemeLength(){let e=o4.getInstance(),r=this._iterator,n=r.offset,o=e.getGraphemeBreakType(r.nextCodePoint());for(;!r.eol();){let a=r.offset,c=e.getGraphemeBreakType(r.nextCodePoint());if(Ave(o,c)){r.setOffset(a);break}o=c}return r.offset-n}prevGraphemeLength(){let e=o4.getInstance(),r=this._iterator,n=r.offset,o=e.getGraphemeBreakType(r.prevCodePoint());for(;r.offset>0;){let a=r.offset,c=e.getGraphemeBreakType(r.prevCodePoint());if(Ave(c,o)){r.setOffset(a);break}o=c}return n-r.offset}eol(){return this._iterator.eol()}};Ge.GraphemeIterator=M2;function Ive(t,e){return new M2(t,e).nextGraphemeLength()}s(Ive,"nextCharLength");function xve(t,e){return new M2(t,e).prevGraphemeLength()}s(xve,"prevCharLength");function Xut(t,e){e>0&&hD(t.charCodeAt(e))&&e--;let r=e+Ive(t,e);return[r-xve(t,r),r]}s(Xut,"getCharContainingOffset");function Zut(t){let e=new M2(t),r=0;for(;!e.eol();)r++,e.nextGraphemeLength();return r}s(Zut,"charCount");var Cz;function eft(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}s(eft,"makeContainsRtl");function tft(t){return Cz||(Cz=eft()),Cz.test(t)}s(tft,"containsRTL");var rft=/^[\t\n\r\x20-\x7E]*$/;function nft(t){return rft.test(t)}s(nft,"isBasicASCII");Ge.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function ift(t){return Ge.UNUSUAL_LINE_TERMINATORS.test(t)}s(ift,"containsUnusualLineTerminators");function oft(t){return t>=11904&&t<=55215||t>=63744&&t<=64255||t>=65281&&t<=65374}s(oft,"isFullWidthCharacter");function vve(t){return t>=127462&&t<=127487||t===8986||t===8987||t===9200||t===9203||t>=9728&&t<=10175||t===11088||t===11093||t>=127744&&t<=128591||t>=128640&&t<=128764||t>=128992&&t<=129008||t>=129280&&t<=129535||t>=129648&&t<=129782}s(vve,"isEmojiImprecise");function sft(t,e,r=""){let n=t.trimStart();if(n.length<e)return n;let o=/\b/g,a=0;for(;o.test(n)&&!(n.length-o.lastIndex<e);)a=o.lastIndex,o.lastIndex+=1;return a===0?n:r+n.substring(a).trimStart()}s(sft,"lcut");var aft=/(?:\x1b\[|\x9b)[=?>!]?[\d;:]*["$#'* ]?[a-zA-Z@^`{}|~]/,cft=/(?:\x1b\]|\x9d).*?(?:\x1b\\|\x07|\x9c)/,lft=/\x1b(?:[ #%\(\)\*\+\-\.\/]?[a-zA-Z0-9\|}~@])/,bve=new RegExp("(?:"+[aft.source,cft.source,lft.source].join("|")+")","g");function*uft(t){let e=0;for(let r of t.matchAll(bve))e!==r.index&&(yield{isCode:!1,str:t.substring(e,r.index)}),yield{isCode:!0,str:r[0]},e=r.index+r[0].length;e!==t.length&&(yield{isCode:!1,str:t.substring(e)})}s(uft,"forAnsiStringParts");function _ve(t){return t&&(t=t.replace(bve,"")),t}s(_ve,"removeAnsiEscapeCodes");var fft=/\\\[.*?\\\]/g;function dft(t){return _ve(t).replace(fft,"")}s(dft,"removeAnsiEscapeCodesFromPrompt");Ge.UTF8_BOM_CHARACTER="\uFEFF";function Tve(t){return!!(t&&t.length>0&&t.charCodeAt(0)===65279)}s(Tve,"startsWithUTF8BOM");function hft(t){return Tve(t)?t.substr(1):t}s(hft,"stripUTF8BOM");function Aft(t,e){if(!t||!e||t.length<e.length)return!1;let r=e.length,n=t.toLowerCase(),o=0,a=-1;for(;o<r;){let c=n.indexOf(e[o],a+1);if(c<0)return!1;a=c,o++}return!0}s(Aft,"fuzzyContains");function pft(t,e=!1){return t?(e&&(t=t.replace(/\\./g,"")),t.toLowerCase()!==t):!1}s(pft,"containsUppercaseCharacter");function mft(t){return t.charAt(0).toUpperCase()+t.slice(1)}s(mft,"uppercaseFirstLetter");function gft(t,e=1){if(e===0)return"";let r=-1;do r=t.indexOf(`
`,r+1),e--;while(e>0&&r>=0);return r===-1?t:(t[r-1]==="\r"&&r--,t.substr(0,r))}s(gft,"getNLines");function Cft(t){return t=t%52,t<26?String.fromCharCode(97+t):String.fromCharCode(65+t-26)}s(Cft,"singleLetterHash");function yft(t){return o4.getInstance().getGraphemeBreakType(t)}s(yft,"getGraphemeBreakType");function Ave(t,e){return t===0?e!==5&&e!==7:t===2&&e===3?!1:t===4||t===2||t===3||e===4||e===2||e===3?!0:!(t===8&&(e===8||e===9||e===11||e===12)||(t===11||t===9)&&(e===9||e===10)||(t===12||t===10)&&e===10||e===5||e===13||e===7||t===1||t===13&&e===14||t===6&&e===6)}s(Ave,"breakBetweenGraphemeBreakType");var o4=class t{static{s(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return t._INSTANCE||(t._INSTANCE=new t),t._INSTANCE}constructor(){this._data=Eft()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let r=this._data,n=r.length/3,o=1;for(;o<=n;)if(e<r[3*o])o=2*o;else if(e>r[3*o+1])o=2*o+1;else return r[3*o+2];return 0}};function Eft(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}s(Eft,"getGraphemeBreakRawData");function Ift(t,e){if(t===0)return 0;let r=xft(t,e);if(r!==void 0)return r;let n=new L2(e,t);return n.prevCodePoint(),n.offset}s(Ift,"getLeftDeleteOffset");function xft(t,e){let r=new L2(e,t),n=r.prevCodePoint();for(;vft(n)||n===65039||n===8419;){if(r.offset===0)return;n=r.prevCodePoint()}if(!vve(n))return;let o=r.offset;return o>0&&r.prevCodePoint()===8205&&(o=r.offset),o}s(xft,"getOffsetBeforeLastEmojiComponent");function vft(t){return 127995<=t&&t<=127999}s(vft,"isEmojiModifier");Ge.noBreakWhitespace="\xA0";var Ez=class t{static{s(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new hve.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,1523,96,8242,96,1370,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,118002,50,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,118003,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,118004,52,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,118005,53,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,118006,54,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,118007,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,118008,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,118009,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,117974,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,117975,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71913,67,71922,67,65315,67,8557,67,8450,67,8493,67,117976,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,117977,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,117978,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,117979,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,117980,71,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,117981,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,117983,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,117984,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,118001,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,117982,108,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,117985,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,117986,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,117987,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,118000,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,117988,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,117989,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,117990,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,117991,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,117992,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,117993,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,117994,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,117995,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71910,87,71919,87,117996,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,117997,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,117998,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,71909,90,66293,90,65338,90,8484,90,8488,90,117999,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65283,35,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,8218,44,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"cs":[65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"es":[8211,45,65374,126,8218,44,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"fr":[65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"it":[160,32,8211,45,65374,126,8218,44,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"ja":[8211,45,8218,44,65281,33,8216,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65292,44,65297,49,65307,59],"ko":[8211,45,65374,126,8218,44,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"pt-BR":[65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"ru":[65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,8218,44,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"zh-hans":[160,32,65374,126,8218,44,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65297,49],"zh-hant":[8211,45,65374,126,8218,44,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89]}'))}static{this.cache=new yut.LRUCachedFunction({getCacheKey:JSON.stringify},e=>{function r(h){let A=new Map;for(let p=0;p<h.length;p+=2)A.set(h[p],h[p+1]);return A}s(r,"arrayToMap");function n(h,A){let p=new Map(h);for(let[m,g]of A)p.set(m,g);return p}s(n,"mergeMaps");function o(h,A){if(!h)return A;let p=new Map;for(let[m,g]of h)A.has(m)&&p.set(m,g);return p}s(o,"intersectMaps");let a=this.ambiguousCharacterData.value,c=e.filter(h=>!h.startsWith("_")&&h in a);c.length===0&&(c=["_default"]);let l;for(let h of c){let A=r(a[h]);l=o(l,A)}let u=r(a._common),f=n(u,l);return new t(f)})}static getInstance(e){return t.cache.get(Array.from(e))}static{this._locales=new hve.Lazy(()=>Object.keys(t.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")))}static getLocales(){return t._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};Ge.AmbiguousCharacters=Ez;var Iz=class t{static{s(this,"InvisibleCharacters")}static getRawData(){return JSON.parse('{"_common":[11,12,13,127,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999],"cs":[173,8203,12288],"de":[173,8203,12288],"es":[8203,12288],"fr":[173,8203,12288],"it":[160,173,12288],"ja":[173],"ko":[173,12288],"pl":[173,8203,12288],"pt-BR":[173,8203,12288],"qps-ploc":[160,173,8203,12288],"ru":[173,12288],"tr":[160,173,8203,12288],"zh-hans":[160,173,8203,12288],"zh-hant":[173,12288]}')}static{this._data=void 0}static getData(){return this._data||(this._data=new Set([...Object.values(t.getRawData())].flat())),this._data}static isInvisibleCharacter(e){return t.getData().has(e)}static containsInvisibleCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&(t.isInvisibleCharacter(n)||n===32))return!0}return!1}static get codePoints(){return t.getData()}};Ge.InvisibleCharacters=Iz;Ge.Ellipsis="\u2026";function bft(t){let e=new Uint16Array(t.length);for(let o=0;o<e.length;o++)e[o]=t.charCodeAt(o);let r="",n=new Uint8Array(e.buffer);for(let o=0;o<n.length;o++)r+=String.fromCharCode(n[o]);return r}s(bft,"toBinary");function _ft(t){return btoa(bft(t))}s(_ft,"multibyteAwareBtoa")});var U2=T(O2=>{"use strict";d();Object.defineProperty(O2,"__esModule",{value:!0});O2.OffsetRangeSet=O2.OffsetRange=void 0;var AD=eu(),pD=class t{static{s(this,"OffsetRange")}static fromTo(e,r){return new t(e,r)}static addRange(e,r){let n=0;for(;n<r.length&&r[n].endExclusive<e.start;)n++;let o=n;for(;o<r.length&&r[o].start<=e.endExclusive;)o++;if(n===o)r.splice(n,0,e);else{let a=Math.min(e.start,r[n].start),c=Math.max(e.endExclusive,r[o-1].endExclusive);r.splice(n,o-n,new t(a,c))}}static tryCreate(e,r){if(!(e>r))return new t(e,r)}static ofLength(e){return new t(0,e)}static ofStartAndLength(e,r){return new t(e,e+r)}static emptyAt(e){return new t(e,e)}constructor(e,r){if(this.start=e,this.endExclusive=r,e>r)throw new AD.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new t(this.start+e,this.endExclusive+e)}deltaStart(e){return new t(this.start+e,this.endExclusive)}deltaEnd(e){return new t(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new t(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(r<=n)return new t(r,n)}intersectionLength(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return Math.max(0,n-r)}intersects(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<n}intersectsOrTouches(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<=n}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new AD.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new AD.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}map(e){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.start;r<this.endExclusive;r++)e(r)}joinRightTouching(e){if(this.endExclusive!==e.start)throw new AD.BugIndicatingError(`Invalid join: ${this.toString()} and ${e.toString()}`);return new t(this.start,e.endExclusive)}};O2.OffsetRange=pD;var _z=class t{static{s(this,"OffsetRangeSet")}constructor(){this._sortedRanges=[]}get ranges(){return[...this._sortedRanges]}addRange(e){let r=0;for(;r<this._sortedRanges.length&&this._sortedRanges[r].endExclusive<e.start;)r++;let n=r;for(;n<this._sortedRanges.length&&this._sortedRanges[n].start<=e.endExclusive;)n++;if(r===n)this._sortedRanges.splice(r,0,e);else{let o=Math.min(e.start,this._sortedRanges[r].start),a=Math.max(e.endExclusive,this._sortedRanges[n-1].endExclusive);this._sortedRanges.splice(r,n-r,new pD(o,a))}}toString(){return this._sortedRanges.map(e=>e.toString()).join(", ")}intersectsStrict(e){let r=0;for(;r<this._sortedRanges.length&&this._sortedRanges[r].endExclusive<=e.start;)r++;return r<this._sortedRanges.length&&this._sortedRanges[r].start<e.endExclusive}intersectWithRange(e){let r=new t;for(let n of this._sortedRanges){let o=n.intersect(e);o&&r.addRange(o)}return r}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce((e,r)=>e+r.length,0)}};O2.OffsetRangeSet=_z});var s4=T(mD=>{"use strict";d();Object.defineProperty(mD,"__esModule",{value:!0});mD.Position=void 0;var Tz=class t{static{s(this,"Position")}constructor(e,r){this.lineNumber=e,this.column=r}with(e=this.lineNumber,r=this.column){return e===this.lineNumber&&r===this.column?this:new t(e,r)}delta(e=0,r=0){return this.with(Math.max(1,this.lineNumber+e),Math.max(1,this.column+r))}equals(e){return t.equals(this,e)}static equals(e,r){return!e&&!r?!0:!!e&&!!r&&e.lineNumber===r.lineNumber&&e.column===r.column}isBefore(e){return t.isBefore(this,e)}static isBefore(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<r.column}isBeforeOrEqual(e){return t.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<=r.column}static compare(e,r){let n=e.lineNumber|0,o=r.lineNumber|0;if(n===o){let a=e.column|0,c=r.column|0;return a-c}return n-o}clone(){return new t(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new t(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};mD.Position=Tz});var a4=T(gD=>{"use strict";d();Object.defineProperty(gD,"__esModule",{value:!0});gD.Range=void 0;var wve=s4(),wz=class t{static{s(this,"Range")}constructor(e,r,n,o){e>n||e===n&&r>o?(this.startLineNumber=n,this.startColumn=o,this.endLineNumber=e,this.endColumn=r):(this.startLineNumber=e,this.startColumn=r,this.endLineNumber=n,this.endColumn=o)}isEmpty(){return t.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return t.containsPosition(this,e)}static containsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<e.startColumn||r.lineNumber===e.endLineNumber&&r.column>e.endColumn)}static strictContainsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<=e.startColumn||r.lineNumber===e.endLineNumber&&r.column>=e.endColumn)}containsRange(e){return t.containsRange(this,e)}static containsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>e.endColumn)}strictContainsRange(e){return t.strictContainsRange(this,e)}static strictContainsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<=e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>=e.endColumn)}plusRange(e){return t.plusRange(this,e)}static plusRange(e,r){let n,o,a,c;return r.startLineNumber<e.startLineNumber?(n=r.startLineNumber,o=r.startColumn):r.startLineNumber===e.startLineNumber?(n=r.startLineNumber,o=Math.min(r.startColumn,e.startColumn)):(n=e.startLineNumber,o=e.startColumn),r.endLineNumber>e.endLineNumber?(a=r.endLineNumber,c=r.endColumn):r.endLineNumber===e.endLineNumber?(a=r.endLineNumber,c=Math.max(r.endColumn,e.endColumn)):(a=e.endLineNumber,c=e.endColumn),new t(n,o,a,c)}intersectRanges(e){return t.intersectRanges(this,e)}static intersectRanges(e,r){let n=e.startLineNumber,o=e.startColumn,a=e.endLineNumber,c=e.endColumn,l=r.startLineNumber,u=r.startColumn,f=r.endLineNumber,h=r.endColumn;return n<l?(n=l,o=u):n===l&&(o=Math.max(o,u)),a>f?(a=f,c=h):a===f&&(c=Math.min(c,h)),n>a||n===a&&o>c?null:new t(n,o,a,c)}equalsRange(e){return t.equalsRange(this,e)}static equalsRange(e,r){return!e&&!r?!0:!!e&&!!r&&e.startLineNumber===r.startLineNumber&&e.startColumn===r.startColumn&&e.endLineNumber===r.endLineNumber&&e.endColumn===r.endColumn}getEndPosition(){return t.getEndPosition(this)}static getEndPosition(e){return new wve.Position(e.endLineNumber,e.endColumn)}getStartPosition(){return t.getStartPosition(this)}static getStartPosition(e){return new wve.Position(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,r){return new t(this.startLineNumber,this.startColumn,e,r)}setStartPosition(e,r){return new t(e,r,this.endLineNumber,this.endColumn)}collapseToStart(){return t.collapseToStart(this)}static collapseToStart(e){return new t(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return t.collapseToEnd(this)}static collapseToEnd(e){return new t(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new t(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(e,r=e){return new t(e.lineNumber,e.column,r.lineNumber,r.column)}static lift(e){return e?new t(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<e.startColumn)}static areIntersecting(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<=r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<=e.startColumn)}static areOnlyIntersecting(e,r){return!(e.endLineNumber<r.startLineNumber-1||e.endLineNumber===r.startLineNumber&&e.endColumn<r.startColumn-1||r.endLineNumber<e.startLineNumber-1||r.endLineNumber===e.startLineNumber&&r.endColumn<e.startColumn-1)}static compareRangesUsingStarts(e,r){if(e&&r){let a=e.startLineNumber|0,c=r.startLineNumber|0;if(a===c){let l=e.startColumn|0,u=r.startColumn|0;if(l===u){let f=e.endLineNumber|0,h=r.endLineNumber|0;if(f===h){let A=e.endColumn|0,p=r.endColumn|0;return A-p}return f-h}return l-u}return a-c}return(e?1:0)-(r?1:0)}static compareRangesUsingEnds(e,r){return e.endLineNumber===r.endLineNumber?e.endColumn===r.endColumn?e.startLineNumber===r.startLineNumber?e.startColumn-r.startColumn:e.startLineNumber-r.startLineNumber:e.endColumn-r.endColumn:e.endLineNumber-r.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};gD.Range=wz});var Sve=T(hC=>{"use strict";d();Object.defineProperty(hC,"__esModule",{value:!0});hC.PositionOffsetTransformer=hC.PositionOffsetTransformerBase=void 0;hC._setPositionOffsetTransformerDependencies=Bft;var Tft=uk(),wft=U2(),c4=s4(),Sft=a4(),CD=class{static{s(this,"PositionOffsetTransformerBase")}getOffsetRange(e){return new wft.OffsetRange(this.getOffset(e.getStartPosition()),this.getOffset(e.getEndPosition()))}getRange(e){return Sft.Range.fromPositions(this.getPosition(e.start),this.getPosition(e.endExclusive))}getStringEdit(e){let r=e.replacements.map(n=>this.getStringReplacement(n));return new yh.deps.StringEdit(r)}getStringReplacement(e){return new yh.deps.StringReplacement(this.getOffsetRange(e.range),e.text)}getTextReplacement(e){return new yh.deps.TextReplacement(this.getRange(e.replaceRange),e.newText)}getTextEdit(e){let r=e.replacements.map(n=>this.getTextReplacement(n));return new yh.deps.TextEdit(r)}};hC.PositionOffsetTransformerBase=CD;var yh=class{static{s(this,"Deps")}static{this._deps=void 0}static get deps(){if(!this._deps)throw new Error("Dependencies not set. Call _setDependencies first.");return this._deps}};function Bft(t){yh._deps=t}s(Bft,"_setPositionOffsetTransformerDependencies");var Sz=class extends CD{static{s(this,"PositionOffsetTransformer")}constructor(e){super(),this.text=e,this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<e.length;r++)e.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&e.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(e.length)}getOffset(e){let r=this._validatePosition(e);return this.lineStartOffsetByLineIdx[r.lineNumber-1]+r.column-1}_validatePosition(e){if(e.lineNumber<1)return new c4.Position(1,1);let r=this.textLength.lineCount+1;if(e.lineNumber>r){let o=this.getLineLength(r);return new c4.Position(r,o+1)}if(e.column<1)return new c4.Position(e.lineNumber,1);let n=this.getLineLength(e.lineNumber);return e.column-1>n?new c4.Position(e.lineNumber,n+1):e}getPosition(e){let r=(0,Tft.findLastIdxMonotonous)(this.lineStartOffsetByLineIdx,a=>a<=e),n=r+1,o=e-this.lineStartOffsetByLineIdx[r]+1;return new c4.Position(n,o)}getTextLength(e){return yh.deps.TextLength.ofRange(this.getRange(e))}get textLength(){let e=this.lineStartOffsetByLineIdx.length-1;return new yh.deps.TextLength(e,this.text.length-this.lineStartOffsetByLineIdx[e])}getLineLength(e){return this.lineEndOffsetByLineIdx[e-1]-this.lineStartOffsetByLineIdx[e-1]}};hC.PositionOffsetTransformer=Sz});var Dve=T(G2=>{"use strict";d();Object.defineProperty(G2,"__esModule",{value:!0});G2.LineRangeSet=G2.LineRange=void 0;var Bve=eu(),Rft=U2(),Rve=a4(),q2=uk(),kve=OT(),H2=class t{static{s(this,"LineRange")}static ofLength(e,r){return new t(e,e+r)}static fromRange(e){return new t(e.startLineNumber,e.endLineNumber)}static fromRangeInclusive(e){return new t(e.startLineNumber,e.endLineNumber+1)}static{this.compareByStart=(0,kve.compareBy)(e=>e.startLineNumber,kve.numberComparator)}static subtract(e,r){return r?e.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(e.startLineNumber,r.startLineNumber),new t(r.endLineNumberExclusive,e.endLineNumberExclusive)]:r.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(Math.max(r.endLineNumberExclusive,e.startLineNumber),e.endLineNumberExclusive)]:[new t(e.startLineNumber,Math.min(r.startLineNumber,e.endLineNumberExclusive))]:[e]}static joinMany(e){if(e.length===0)return[];let r=new l4(e[0].slice());for(let n=1;n<e.length;n++)r=r.getUnion(new l4(e[n].slice()));return r.ranges}static join(e){if(e.length===0)throw new Bve.BugIndicatingError("lineRanges cannot be empty");let r=e[0].startLineNumber,n=e[0].endLineNumberExclusive;for(let o=1;o<e.length;o++)r=Math.min(r,e[o].startLineNumber),n=Math.max(n,e[o].endLineNumberExclusive);return new t(r,n)}static deserialize(e){return new t(e[0],e[1])}constructor(e,r){if(e>r)throw new Bve.BugIndicatingError(`startLineNumber ${e} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=e,this.endLineNumberExclusive=r}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}containsRange(e){return this.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new t(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new t(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new t(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){let r=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(r<=n)return new t(r,n)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}intersectsOrTouches(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new Rve.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new Rve.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)e(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}toOffsetRange(){return new Rft.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(e){return this.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-this.endLineNumberExclusive:e.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-e.endLineNumberExclusive:0}distanceToLine(e){return this.contains(e)?0:e<this.startLineNumber?this.startLineNumber-e:e-this.endLineNumberExclusive}addMargin(e,r){return new t(this.startLineNumber-e,this.endLineNumberExclusive+r)}};G2.LineRange=H2;var l4=class t{static{s(this,"LineRangeSet")}constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;let r=(0,q2.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,o=>o.endLineNumberExclusive>=e.startLineNumber),n=(0,q2.findLastIdxMonotonous)(this._normalizedRanges,o=>o.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,e);else if(r===n-1){let o=this._normalizedRanges[r];this._normalizedRanges[r]=o.join(e)}else{let o=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(r,n-r,o)}}contains(e){let r=(0,q2.findLastMonotonous)(this._normalizedRanges,n=>n.startLineNumber<=e);return!!r&&r.endLineNumberExclusive>e}intersects(e){let r=(0,q2.findLastMonotonous)(this._normalizedRanges,n=>n.startLineNumber<e.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;let r=[],n=0,o=0,a=null;for(;n<this._normalizedRanges.length||o<e._normalizedRanges.length;){let c=null;if(n<this._normalizedRanges.length&&o<e._normalizedRanges.length){let l=this._normalizedRanges[n],u=e._normalizedRanges[o];l.startLineNumber<u.startLineNumber?(c=l,n++):(c=u,o++)}else n<this._normalizedRanges.length?(c=this._normalizedRanges[n],n++):(c=e._normalizedRanges[o],o++);a===null?a=c:a.endLineNumberExclusive>=c.startLineNumber?a=new H2(a.startLineNumber,Math.max(a.endLineNumberExclusive,c.endLineNumberExclusive)):(r.push(a),a=c)}return a!==null&&r.push(a),new t(r)}subtractFrom(e){let r=(0,q2.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,c=>c.endLineNumberExclusive>=e.startLineNumber),n=(0,q2.findLastIdxMonotonous)(this._normalizedRanges,c=>c.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)return new t([e]);let o=[],a=e.startLineNumber;for(let c=r;c<n;c++){let l=this._normalizedRanges[c];l.startLineNumber>a&&o.push(new H2(a,l.startLineNumber)),a=l.endLineNumberExclusive}return a<e.endLineNumberExclusive&&o.push(new H2(a,e.endLineNumberExclusive)),new t(o)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){let r=[],n=0,o=0;for(;n<this._normalizedRanges.length&&o<e._normalizedRanges.length;){let a=this._normalizedRanges[n],c=e._normalizedRanges[o],l=a.intersect(c);l&&!l.isEmpty&&r.push(l),a.endLineNumberExclusive<c.endLineNumberExclusive?n++:o++}return new t(r)}getWithDelta(e){return new t(this._normalizedRanges.map(r=>r.delta(e)))}};G2.LineRangeSet=l4});var Qve=T(ED=>{"use strict";d();Object.defineProperty(ED,"__esModule",{value:!0});ED.TextLength=void 0;var kft=Dve(),Nve=s4(),yD=a4(),Bz=class t{static{s(this,"TextLength")}static{this.zero=new t(0,0)}static lengthDiffNonNegative(e,r){return r.isLessThan(e)?t.zero:e.lineCount===r.lineCount?new t(0,r.columnCount-e.columnCount):new t(r.lineCount-e.lineCount,r.columnCount)}static betweenPositions(e,r){return e.lineNumber===r.lineNumber?new t(0,r.column-e.column):new t(r.lineNumber-e.lineNumber,r.column-1)}static fromPosition(e){return new t(e.lineNumber-1,e.column-1)}static ofRange(e){return t.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let r=0,n=0;for(let o of e)o===`
`?(r++,n=0):n++;return new t(r,n)}static ofSubstr(e,r){return t.ofText(r.substring(e))}static sum(e,r){return e.reduce((n,o)=>n.add(r(o)),t.zero)}constructor(e,r){this.lineCount=e,this.columnCount=r}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(e){return this.lineCount!==e.lineCount?this.lineCount<e.lineCount:this.columnCount<e.columnCount}isGreaterThan(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>e.columnCount}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}equals(e){return this.lineCount===e.lineCount&&this.columnCount===e.columnCount}compare(e){return this.lineCount!==e.lineCount?this.lineCount-e.lineCount:this.columnCount-e.columnCount}add(e){return e.lineCount===0?new t(this.lineCount,this.columnCount+e.columnCount):new t(this.lineCount+e.lineCount,e.columnCount)}createRange(e){return this.lineCount===0?new yD.Range(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new yD.Range(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new yD.Range(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return kft.LineRange.ofLength(1,this.lineCount+1)}addToPosition(e){return this.lineCount===0?new Nve.Position(e.lineNumber,e.column+this.columnCount):new Nve.Position(e.lineNumber+this.lineCount,this.columnCount+1)}addToRange(e){return yD.Range.fromPositions(this.addToPosition(e.getStartPosition()),this.addToPosition(e.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};ED.TextLength=Bz});var Dz=T(Tf=>{"use strict";d();Object.defineProperty(Tf,"__esModule",{value:!0});Tf.StringText=Tf.ArrayText=Tf.LineBasedText=Tf.AbstractText=void 0;var Dft=MT(),Nft=bz(),Qft=s4(),Fve=Sve(),Pve=a4(),Pft=Qve(),u4=class{static{s(this,"AbstractText")}constructor(){this._transformer=void 0}get endPositionExclusive(){return this.length.addToPosition(new Qft.Position(1,1))}get lineRange(){return this.length.toLineRange()}getValue(){return this.getValueOfRange(this.length.toRange())}getValueOfOffsetRange(e){return this.getValueOfRange(this.getTransformer().getRange(e))}getLineLength(e){return this.getValueOfRange(new Pve.Range(e,1,e,Number.MAX_SAFE_INTEGER)).length}getTransformer(){return this._transformer||(this._transformer=new Fve.PositionOffsetTransformer(this.getValue())),this._transformer}getLineAt(e){return this.getValueOfRange(new Pve.Range(e,1,e,Number.MAX_SAFE_INTEGER))}getLines(){let e=this.getValue();return(0,Nft.splitLines)(e)}getLinesOfRange(e){return e.mapToLineArray(r=>this.getLineAt(r))}equals(e){return this===e?!0:this.getValue()===e.getValue()}};Tf.AbstractText=u4;var ID=class extends u4{static{s(this,"LineBasedText")}constructor(e,r){(0,Dft.assert)(r>=1),super(),this._getLineContent=e,this._lineCount=r}getValueOfRange(e){if(e.startLineNumber===e.endLineNumber)return this._getLineContent(e.startLineNumber).substring(e.startColumn-1,e.endColumn-1);let r=this._getLineContent(e.startLineNumber).substring(e.startColumn-1);for(let n=e.startLineNumber+1;n<e.endLineNumber;n++)r+=`
`+this._getLineContent(n);return r+=`
`+this._getLineContent(e.endLineNumber).substring(0,e.endColumn-1),r}getLineLength(e){return this._getLineContent(e).length}get length(){let e=this._getLineContent(this._lineCount);return new Pft.TextLength(this._lineCount-1,e.length)}};Tf.LineBasedText=ID;var Rz=class extends ID{static{s(this,"ArrayText")}constructor(e){super(r=>e[r-1],e.length)}};Tf.ArrayText=Rz;var kz=class extends u4{static{s(this,"StringText")}constructor(e){super(),this.value=e,this._t=new Fve.PositionOffsetTransformer(this.value)}getValueOfRange(e){return this._t.getOffsetRange(e).substring(this.value)}get length(){return this._t.textLength}};Tf.StringText=kz});var Mve=T(wf=>{"use strict";d();Object.defineProperty(wf,"__esModule",{value:!0});wf.AnnotationReplacement=wf.Edit=wf.BaseReplacement=wf.BaseEdit=void 0;var Fft=OT(),Lve=eu(),tl=U2(),xD=class{static{s(this,"BaseEdit")}constructor(e){this.replacements=e;let r=-1;for(let n of e){if(!(n.replaceRange.start>=r))throw new Lve.BugIndicatingError(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}equals(e){if(this.replacements.length!==e.replacements.length)return!1;for(let r=0;r<this.replacements.length;r++)if(!this.replacements[r].equals(e.replacements[r]))return!1;return!0}toString(){return`[${this.replacements.map(r=>r.toString()).join(", ")}]`}normalize(){let e=[],r;for(let n of this.replacements)if(!(n.getNewLength()===0&&n.replaceRange.length===0)){if(r&&r.replaceRange.endExclusive===n.replaceRange.start){let o=r.tryJoinTouching(n);if(o){r=o;continue}}r&&e.push(r),r=n}return r&&e.push(r),this._createNew(e)}compose(e){let r=this.normalize(),n=e.normalize();if(r.isEmpty())return n;if(n.isEmpty())return r;let o=[...r.replacements],a=[],c=0;for(let l of n.replacements){for(;;){let A=o[0];if(!A||A.replaceRange.start+c+A.getNewLength()>=l.replaceRange.start)break;o.shift(),a.push(A),c+=A.getNewLength()-A.replaceRange.length}let u=c,f,h;for(;;){let A=o[0];if(!A||A.replaceRange.start+c>l.replaceRange.endExclusive)break;f||(f=A),h=A,o.shift(),c+=A.getNewLength()-A.replaceRange.length}if(!f)a.push(l.delta(-c));else{let A=Math.min(f.replaceRange.start,l.replaceRange.start-u),p=l.replaceRange.start-(f.replaceRange.start+u);if(p>0){let E=f.slice(tl.OffsetRange.emptyAt(A),new tl.OffsetRange(0,p));a.push(E)}if(!h)throw new Lve.BugIndicatingError("Invariant violation: lastIntersecting is undefined");let m=h.replaceRange.endExclusive+c-l.replaceRange.endExclusive;if(m>0){let E=h.slice(tl.OffsetRange.ofStartAndLength(h.replaceRange.endExclusive,0),new tl.OffsetRange(h.getNewLength()-m,h.getNewLength()));o.unshift(E),c-=E.getNewLength()-E.replaceRange.length}let g=new tl.OffsetRange(A,l.replaceRange.endExclusive-c),y=l.slice(g,new tl.OffsetRange(0,l.getNewLength()));a.push(y)}}for(;;){let l=o.shift();if(!l)break;a.push(l)}return this._createNew(a).normalize()}decomposeSplit(e){let r=[],n=[],o=0;for(let a of this.replacements)e(a)?(r.push(a),o+=a.getNewLength()-a.replaceRange.length):n.push(a.slice(a.replaceRange.delta(o),new tl.OffsetRange(0,a.getNewLength())));return{e1:this._createNew(r),e2:this._createNew(n)}}getNewRanges(){let e=[],r=0;for(let n of this.replacements)e.push(tl.OffsetRange.ofStartAndLength(n.replaceRange.start+r,n.getNewLength())),r+=n.getLengthDelta();return e}getJoinedReplaceRange(){if(this.replacements.length!==0)return this.replacements[0].replaceRange.join(this.replacements.at(-1).replaceRange)}isEmpty(){return this.replacements.length===0}getLengthDelta(){return(0,Fft.sumBy)(this.replacements,e=>e.getLengthDelta())}getNewDataLength(e){return e+this.getLengthDelta()}applyToOffset(e){let r=0;for(let n of this.replacements)if(n.replaceRange.start<=e){if(e<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.getNewLength()-n.replaceRange.length}else break;return e+r}applyToOffsetRange(e){return new tl.OffsetRange(this.applyToOffset(e.start),this.applyToOffset(e.endExclusive))}applyInverseToOffset(e){let r=0;for(let n of this.replacements){let o=n.getNewLength();if(n.replaceRange.start<=e-r){if(e-r<n.replaceRange.start+o)return n.replaceRange.start;r+=o-n.replaceRange.length}else break}return e-r}applyToOffsetOrUndefined(e){let r=0;for(let n of this.replacements)if(n.replaceRange.start<=e){if(e<n.replaceRange.endExclusive)return;r+=n.getNewLength()-n.replaceRange.length}else break;return e+r}applyToOffsetRangeOrUndefined(e){let r=this.applyToOffsetOrUndefined(e.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(e.endExclusive);if(n!==void 0)return new tl.OffsetRange(r,n)}};wf.BaseEdit=xD;var vD=class{static{s(this,"BaseReplacement")}constructor(e){this.replaceRange=e}delta(e){return this.slice(this.replaceRange.delta(e),new tl.OffsetRange(0,this.getNewLength()))}getLengthDelta(){return this.getNewLength()-this.replaceRange.length}toString(){return`{ ${this.replaceRange.toString()} -> ${this.getNewLength()} }`}get isEmpty(){return this.getNewLength()===0&&this.replaceRange.length===0}getRangeAfterReplace(){return new tl.OffsetRange(this.replaceRange.start,this.replaceRange.start+this.getNewLength())}};wf.BaseReplacement=vD;var Nz=class t extends xD{static{s(this,"Edit")}static{this.empty=new t([])}static create(e){return new t(e)}static single(e){return new t([e])}_createNew(e){return new t(e)}};wf.Edit=Nz;var Qz=class t extends vD{static{s(this,"AnnotationReplacement")}constructor(e,r,n){super(e),this.newLength=r,this.annotation=n}equals(e){return this.replaceRange.equals(e.replaceRange)&&this.newLength===e.newLength&&this.annotation===e.annotation}getNewLength(){return this.newLength}tryJoinTouching(e){if(this.annotation===e.annotation)return new t(this.replaceRange.joinRightTouching(e.replaceRange),this.newLength+e.newLength,this.annotation)}slice(e,r){return new t(e,r?r.length:this.newLength,this.annotation)}};wf.AnnotationReplacement=Qz});var Uve=T(Es=>{"use strict";d();Object.defineProperty(Es,"__esModule",{value:!0});Es.AnnotatedStringReplacement=Es.AnnotatedStringEdit=Es.VoidEditData=Es.StringReplacement=Es.StringEdit=Es.BaseStringReplacement=Es.BaseStringEdit=void 0;Es.applyEditsToRanges=Mft;var bD=bz(),Bf=U2(),Lft=Dz(),Ove=Mve(),f4=class extends Ove.BaseEdit{static{s(this,"BaseStringEdit")}get TReplacement(){throw new Error("TReplacement is not defined for BaseStringEdit")}static composeOrUndefined(e){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)r=r.compose(e[n]);return r}static trySwap(e,r){let n=e.inverseOnSlice((c,l)=>" ".repeat(l-c)),o=r.tryRebase(n);if(!o)return;let a=e.tryRebase(o);if(a)return{e1:o,e2:a}}apply(e){let r=[],n=0;for(let o of this.replacements)r.push(e.substring(n,o.replaceRange.start)),r.push(o.newText),n=o.replaceRange.endExclusive;return r.push(e.substring(n)),r.join("")}inverseOnSlice(e){let r=[],n=0;for(let o of this.replacements)r.push(nc.replace(Bf.OffsetRange.ofStartAndLength(o.replaceRange.start+n,o.newText.length),e(o.replaceRange.start,o.replaceRange.endExclusive))),n+=o.newText.length-o.replaceRange.length;return new Sf(r)}inverse(e){return this.inverseOnSlice((r,n)=>e.substring(r,n))}rebaseSkipConflicting(e){return this._tryRebase(e,!1)}tryRebase(e){return this._tryRebase(e,!0)}_tryRebase(e,r){let n=[],o=0,a=0,c=0;for(;a<this.replacements.length||o<e.replacements.length;){let l=e.replacements[o],u=this.replacements[a];if(u)if(!l)n.push(new nc(u.replaceRange.delta(c),u.newText)),a++;else if(u.replaceRange.intersectsOrTouches(l.replaceRange)){if(a++,r)return}else u.replaceRange.start<l.replaceRange.start?(n.push(new nc(u.replaceRange.delta(c),u.newText)),a++):(o++,c+=l.newText.length-l.replaceRange.length);else break}return new Sf(n)}toJson(){return this.replacements.map(e=>e.toJson())}isNeutralOn(e){return this.replacements.every(r=>r.isNeutralOn(e))}removeCommonSuffixPrefix(e){let r=[];for(let n of this.replacements){let o=n.removeCommonSuffixPrefix(e);o.isEmpty||r.push(o)}return new Sf(r)}normalizeEOL(e){return new Sf(this.replacements.map(r=>r.normalizeEOL(e)))}normalizeOnSource(e){let r=this.apply(e),o=nc.replace(Bf.OffsetRange.ofLength(e.length),r).removeCommonSuffixAndPrefix(e);return o.isEmpty?Sf.empty:o.toEdit()}removeCommonSuffixAndPrefix(e){return this._createNew(this.replacements.map(r=>r.removeCommonSuffixAndPrefix(e))).normalize()}applyOnText(e){return new Lft.StringText(this.apply(e.value))}mapData(e){return new _D(this.replacements.map(r=>new AC(r.replaceRange,r.newText,e(r))))}};Es.BaseStringEdit=f4;var d4=class extends Ove.BaseReplacement{static{s(this,"BaseStringReplacement")}constructor(e,r){super(e),this.newText=r}getNewLength(){return this.newText.length}toString(){return`${this.replaceRange} -> "${this.newText}"`}replace(e){return e.substring(0,this.replaceRange.start)+this.newText+e.substring(this.replaceRange.endExclusive)}isNeutralOn(e){return this.newText===e.substring(this.replaceRange.start,this.replaceRange.endExclusive)}removeCommonSuffixPrefix(e){let r=e.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=(0,bD.commonPrefixLength)(r,this.newText),o=Math.min(r.length-n,this.newText.length-n,(0,bD.commonSuffixLength)(r,this.newText)),a=new Bf.OffsetRange(this.replaceRange.start+n,this.replaceRange.endExclusive-o),c=this.newText.substring(n,this.newText.length-o);return new nc(a,c)}normalizeEOL(e){let r=this.newText.replace(/\r\n|\n/g,e);return new nc(this.replaceRange,r)}removeCommonSuffixAndPrefix(e){return this.removeCommonSuffix(e).removeCommonPrefix(e)}removeCommonPrefix(e){let r=this.replaceRange.substring(e),n=(0,bD.commonPrefixLength)(r,this.newText);return n===0?this:this.slice(this.replaceRange.deltaStart(n),new Bf.OffsetRange(n,this.newText.length))}removeCommonSuffix(e){let r=this.replaceRange.substring(e),n=(0,bD.commonSuffixLength)(r,this.newText);return n===0?this:this.slice(this.replaceRange.deltaEnd(-n),new Bf.OffsetRange(0,this.newText.length-n))}toEdit(){return new Sf([this])}toJson(){return{txt:this.newText,pos:this.replaceRange.start,len:this.replaceRange.length}}};Es.BaseStringReplacement=d4;var Sf=class t extends f4{static{s(this,"StringEdit")}static{this.empty=new t([])}static create(e){return new t(e)}static single(e){return new t([e])}static replace(e,r){return new t([new nc(e,r)])}static insert(e,r){return new t([new nc(Bf.OffsetRange.emptyAt(e),r)])}static delete(e){return new t([new nc(e,"")])}static fromJson(e){return new t(e.map(nc.fromJson))}static compose(e){if(e.length===0)return t.empty;let r=e[0];for(let n=1;n<e.length;n++)r=r.compose(e[n]);return r}static composeSequentialReplacements(e){let r=t.empty,n=[];for(let o of e){let a=n.at(-1);!a||o.replaceRange.isBefore(a.replaceRange)?n.push(o):(r=r.compose(t.create(n.reverse())),n=[o])}return r=r.compose(t.create(n.reverse())),r}constructor(e){super(e)}_createNew(e){return new t(e)}};Es.StringEdit=Sf;var nc=class t extends d4{static{s(this,"StringReplacement")}static insert(e,r){return new t(Bf.OffsetRange.emptyAt(e),r)}static replace(e,r){return new t(e,r)}static delete(e){return new t(e,"")}static fromJson(e){return new t(Bf.OffsetRange.ofStartAndLength(e.pos,e.len),e.txt)}equals(e){return this.replaceRange.equals(e.replaceRange)&&this.newText===e.newText}tryJoinTouching(e){return new t(this.replaceRange.joinRightTouching(e.replaceRange),this.newText+e.newText)}slice(e,r){return new t(e,r?r.substring(this.newText):this.newText)}};Es.StringReplacement=nc;function Mft(t,e){t=t.slice();let r=[],n=0;for(let o of e.replacements){for(;;){let c=t[0];if(!c||c.endExclusive>=o.replaceRange.start)break;t.shift(),r.push(c.delta(n))}let a=[];for(;;){let c=t[0];if(!c||!c.intersectsOrTouches(o.replaceRange))break;t.shift(),a.push(c)}for(let c=a.length-1;c>=0;c--){let l=a[c],u=l.intersect(o.replaceRange).length;l=l.deltaEnd(-u+(c===0?o.newText.length:0));let f=l.start-o.replaceRange.start;f>0&&(l=l.delta(-f)),c!==0&&(l=l.delta(o.newText.length)),l=l.delta(-(o.newText.length-o.replaceRange.length)),t.unshift(l)}n+=o.newText.length-o.replaceRange.length}for(;;){let o=t[0];if(!o)break;t.shift(),r.push(o.delta(n))}return r}s(Mft,"applyEditsToRanges");var Pz=class{static{s(this,"VoidEditData")}join(e){return this}};Es.VoidEditData=Pz;var _D=class t extends f4{static{s(this,"AnnotatedStringEdit")}static{this.empty=new t([])}static create(e){return new t(e)}static single(e){return new t([e])}static replace(e,r,n){return new t([new AC(e,r,n)])}static insert(e,r,n){return new t([new AC(Bf.OffsetRange.emptyAt(e),r,n)])}static delete(e,r){return new t([new AC(e,"",r)])}static compose(e){if(e.length===0)return t.empty;let r=e[0];for(let n=1;n<e.length;n++)r=r.compose(e[n]);return r}constructor(e){super(e)}_createNew(e){return new t(e)}toStringEdit(){return new Sf(this.replacements.map(e=>new nc(e.replaceRange,e.newText)))}};Es.AnnotatedStringEdit=_D;var AC=class t extends d4{static{s(this,"AnnotatedStringReplacement")}static insert(e,r,n){return new t(Bf.OffsetRange.emptyAt(e),r,n)}static replace(e,r,n){return new t(e,r,n)}static delete(e,r){return new t(e,"",r)}constructor(e,r,n){super(e,r),this.data=n}equals(e){return this.replaceRange.equals(e.replaceRange)&&this.newText===e.newText&&this.data===e.data}tryJoinTouching(e){let r=this.data.join(e.data);if(r!==void 0)return new t(this.replaceRange.joinRightTouching(e.replaceRange),this.newText+e.newText,r)}slice(e,r){return new t(e,r?r.substring(this.newText):this.newText,this.data)}};Es.AnnotatedStringReplacement=AC});var Hve=T(TD=>{"use strict";d();Object.defineProperty(TD,"__esModule",{value:!0});TD.LanguageId=void 0;var qve;(function(t){t.PlainText="plaintext";function e(r){return r}s(e,"create"),t.create=e})(qve||(TD.LanguageId=qve={}))});var Vve=T(Yp=>{"use strict";d();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.EditReasons=Yp.TextModelEditReason=Yp.EditReason=void 0;var Fz=class t{static{s(this,"EditReason")}static create(e){return e?new t(e):t.unknown}constructor(e){this.metadata=e}static{this.unknown=new t({source:"unknown",name:void 0})}toKey(e){return new h4(this.metadata,Gve).toKey(e)}};Yp.EditReason=Fz;var Gve=Symbol("TextModelEditReason"),h4=class{static{s(this,"TextModelEditReason")}constructor(e,r){this.metadata=e}toString(){return`${this.metadata.source}`}getType(){let e=this.metadata;switch(e.source){case"cursor":return e.kind;case"inlineCompletionAccept":return e.source+(e.$nes?":nes":"");case"unknown":return e.name||"unknown";default:return e.source}}toKey(e){let r=this.metadata;return Object.entries(r).filter(([o,a])=>(o.match(/\$/g)||[]).length<=e&&a!==void 0&&a!==null&&a!=="").map(([o,a])=>`${o}:${a}`).join("-")}};Yp.TextModelEditReason=h4;function rl(t){return new h4(t,Gve)}s(rl,"createEditReason");Yp.EditReasons={unknown(t){return rl({source:"unknown",name:t.name})},chatApplyEdits(t){return rl({source:"Chat.applyEdits",$modelId:t.modelId})},inlineCompletionAccept(t){return rl({source:"inlineCompletionAccept",$nes:t.nes,$extensionId:t.extensionId,$$requestUuid:t.requestUuid})},inlineCompletionPartialAccept(t){return rl({source:"inlineCompletionPartialAccept",type:t.type,$extensionId:t.extensionId,$$requestUuid:t.requestUuid})},inlineChatApplyEdit(t){return rl({source:"inlineChat.applyEdits",$modelId:t.modelId})},reloadFromDisk:s(()=>rl({source:"reloadFromDisk"}),"reloadFromDisk"),cursor(t){return rl({source:"cursor",kind:t.kind,detailedSource:t.detailedSource})},setValue:s(()=>rl({source:"setValue"}),"setValue"),eolChange:s(()=>rl({source:"eolChange"}),"eolChange"),applyEdits:s(()=>rl({source:"applyEdits"}),"applyEdits"),snippet:s(()=>rl({source:"snippet"}),"snippet"),suggest:s(t=>rl({source:"suggest",$extensionId:t.extensionId}),"suggest")}});var $ve=T(Rf=>{"use strict";d();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.MutableObservableDocument=Rf.MutableObservableWorkspace=Rf.StringEditWithReason=Rf.ObservableWorkspace=void 0;var Oft=MT(),Wve=HT(),ic=dz(),jve=Uve(),Uft=U2(),qft=Dz(),Hft=Hve(),Yve=Vve(),wD=class{static{s(this,"ObservableWorkspace")}constructor(){this._version=0,this.onDidOpenDocumentChange=(0,ic.derivedHandleChanges)({owner:this,changeTracker:{createChangeSummary:s(()=>({didChange:!1}),"createChangeSummary"),handleChange:s((e,r)=>(e.didChange(this.openDocuments)||(r.didChange=!0),!0),"handleChange")}},(e,r)=>{let n=this.openDocuments.read(e);for(let o of n)o.value.read(e);return r.didChange&&this._version++,this._version}),this.lastActiveDocument=(0,ic.derivedWithStore)((e,r)=>{let n=(0,ic.observableValue)("lastActiveDocument",void 0);return r.add((0,ic.autorunWithStore)((o,a)=>{let c=this.openDocuments.read(o);for(let l of c)a.add((0,ic.runOnChange)(l.value,()=>{n.set(l,void 0)}))})),n}).flatten()}getFirstOpenDocument(){return this.openDocuments.get()[0]}getDocument(e){return this.openDocuments.get().find(r=>r.id===e)}};Rf.ObservableWorkspace=wD;var V2=class extends jve.StringEdit{static{s(this,"StringEditWithReason")}constructor(e,r){super(e),this.reason=r}};Rf.StringEditWithReason=V2;var Lz=class extends wD{static{s(this,"MutableObservableWorkspace")}constructor(){super(),this._openDocuments=(0,ic.observableValue)(this,[]),this.openDocuments=this._openDocuments,this._documents=new Map}addDocument(e,r=void 0){(0,Oft.assert)(!this._documents.has(e.id));let n=new SD(e.id,new qft.StringText(e.initialValue??""),[],e.languageId??Hft.LanguageId.PlainText,()=>{this._documents.delete(e.id);let o=this._openDocuments.get(),a=o.filter(c=>c.id!==n.id);a.length!==o.length&&this._openDocuments.set(a,r,{added:[],removed:[n]})},e.initialVersionId??0,e.workspaceRoot);return this._documents.set(e.id,n),this._openDocuments.set([...this._openDocuments.get(),n],r,{added:[n],removed:[]}),n}getDocument(e){return this._documents.get(e)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let e of this._documents.values())e.dispose();this._documents.clear()}getWorkspaceRoot(e){return this._documents.get(e)?.workspaceRoot}};Rf.MutableObservableWorkspace=Lz;var SD=class extends Wve.Disposable{static{s(this,"MutableObservableDocument")}get value(){return this._value}get selection(){return this._selection}get visibleRanges(){return this._visibleRanges}get languageId(){return this._languageId}get version(){return this._version}get diagnostics(){return this._diagnostics}constructor(e,r,n,o,a,c,l){super(),this.id=e,this.workspaceRoot=l,this._value=(0,ic.observableValue)(this,r),this._selection=(0,ic.observableValue)(this,n),this._visibleRanges=(0,ic.observableValue)(this,[]),this._languageId=(0,ic.observableValue)(this,o),this._version=(0,ic.observableValue)(this,c),this._diagnostics=(0,ic.observableValue)(this,[]),this._register((0,Wve.toDisposable)(a))}setSelection(e,r=void 0){this._selection.set(e,r)}setVisibleRange(e,r=void 0){this._visibleRanges.set(e,r)}applyEdit(e,r=void 0,n=void 0){let o=e.applyOnText(this.value.get()),a=e instanceof V2?e:new V2(e.replacements,Yve.EditReason.unknown);(0,ic.subtransaction)(r,c=>{this._value.set(o,c,a),this._version.set(n??this._version.get()+1,c)})}updateSelection(e,r=void 0){this._selection.set(e,r)}setValue(e,r=void 0,n=void 0){let o=Yve.EditReason.unknown,a=new V2([jve.StringReplacement.replace(new Uft.OffsetRange(0,this.value.get().value.length),e.value)],o);(0,ic.subtransaction)(r,c=>{this._value.set(e,c,a),this._version.set(n??this._version.get()+1,c)})}updateDiagnostics(e,r=void 0){this._diagnostics.set(e,r)}};Rf.MutableObservableDocument=SD});var zve=T(pC=>{"use strict";d();var Gft=pC&&pC.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vft=pC&&pC.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Gft(e,t,r)};Object.defineProperty(pC,"__esModule",{value:!0});Vft(dz(),pC)});var Kve=T(Mz=>{"use strict";d();Object.defineProperty(Mz,"__esModule",{value:!0});Mz.autorunWithChanges=Yft;var Wft=zve();function Yft(t,e,r){let n=new Map(Object.entries(e).map(([a,c])=>[c,a])),o=new Map(Object.keys(e).map(a=>[a,void 0]));return(0,Wft.autorunHandleChanges)({owner:t,changeTracker:{createChangeSummary:s(()=>({}),"createChangeSummary"),handleChange:s((a,c)=>{let l=n.get(a.changedObservable);return c[l]===void 0&&(c[l]={value:void 0,changes:[]}),c[l].changes.push(a.change),!0},"handleChange")}},(a,c)=>{for(let[l,u]of Object.entries(e)){let f=u.read(a);c[l]===void 0&&(c[l]={value:f,changes:[],previous:o.get(l)}),c[l].value=f,c[l].previous=o.get(l)===void 0?void 0:o.get(l),o.set(l,f)}r(c)})}s(Yft,"autorunWithChanges")});var gi=T((Bfn,Lbe)=>{d();Lbe.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var un=T((kfn,a_e)=>{"use strict";d();var Mbe=Symbol.for("undici.error.UND_ERR"),Si=class extends Error{static{s(this,"UndiciError")}constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}static[Symbol.hasInstance](e){return e&&e[Mbe]===!0}[Mbe]=!0},Obe=Symbol.for("undici.error.UND_ERR_CONNECT_TIMEOUT"),aK=class extends Si{static{s(this,"ConnectTimeoutError")}constructor(e){super(e),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}static[Symbol.hasInstance](e){return e&&e[Obe]===!0}[Obe]=!0},Ube=Symbol.for("undici.error.UND_ERR_HEADERS_TIMEOUT"),cK=class extends Si{static{s(this,"HeadersTimeoutError")}constructor(e){super(e),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}static[Symbol.hasInstance](e){return e&&e[Ube]===!0}[Ube]=!0},qbe=Symbol.for("undici.error.UND_ERR_HEADERS_OVERFLOW"),lK=class extends Si{static{s(this,"HeadersOverflowError")}constructor(e){super(e),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}static[Symbol.hasInstance](e){return e&&e[qbe]===!0}[qbe]=!0},Hbe=Symbol.for("undici.error.UND_ERR_BODY_TIMEOUT"),uK=class extends Si{static{s(this,"BodyTimeoutError")}constructor(e){super(e),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}static[Symbol.hasInstance](e){return e&&e[Hbe]===!0}[Hbe]=!0},Gbe=Symbol.for("undici.error.UND_ERR_RESPONSE_STATUS_CODE"),fK=class extends Si{static{s(this,"ResponseStatusCodeError")}constructor(e,r,n,o){super(e),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=o,this.status=r,this.statusCode=r,this.headers=n}static[Symbol.hasInstance](e){return e&&e[Gbe]===!0}[Gbe]=!0},Vbe=Symbol.for("undici.error.UND_ERR_INVALID_ARG"),dK=class extends Si{static{s(this,"InvalidArgumentError")}constructor(e){super(e),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}static[Symbol.hasInstance](e){return e&&e[Vbe]===!0}[Vbe]=!0},Wbe=Symbol.for("undici.error.UND_ERR_INVALID_RETURN_VALUE"),hK=class extends Si{static{s(this,"InvalidReturnValueError")}constructor(e){super(e),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}static[Symbol.hasInstance](e){return e&&e[Wbe]===!0}[Wbe]=!0},Ybe=Symbol.for("undici.error.UND_ERR_ABORT"),aN=class extends Si{static{s(this,"AbortError")}constructor(e){super(e),this.name="AbortError",this.message=e||"The operation was aborted",this.code="UND_ERR_ABORT"}static[Symbol.hasInstance](e){return e&&e[Ybe]===!0}[Ybe]=!0},jbe=Symbol.for("undici.error.UND_ERR_ABORTED"),AK=class extends aN{static{s(this,"RequestAbortedError")}constructor(e){super(e),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}static[Symbol.hasInstance](e){return e&&e[jbe]===!0}[jbe]=!0},$be=Symbol.for("undici.error.UND_ERR_INFO"),pK=class extends Si{static{s(this,"InformationalError")}constructor(e){super(e),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}static[Symbol.hasInstance](e){return e&&e[$be]===!0}[$be]=!0},zbe=Symbol.for("undici.error.UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"),mK=class extends Si{static{s(this,"RequestContentLengthMismatchError")}constructor(e){super(e),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}static[Symbol.hasInstance](e){return e&&e[zbe]===!0}[zbe]=!0},Kbe=Symbol.for("undici.error.UND_ERR_RES_CONTENT_LENGTH_MISMATCH"),gK=class extends Si{static{s(this,"ResponseContentLengthMismatchError")}constructor(e){super(e),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}static[Symbol.hasInstance](e){return e&&e[Kbe]===!0}[Kbe]=!0},Jbe=Symbol.for("undici.error.UND_ERR_DESTROYED"),CK=class extends Si{static{s(this,"ClientDestroyedError")}constructor(e){super(e),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}static[Symbol.hasInstance](e){return e&&e[Jbe]===!0}[Jbe]=!0},Xbe=Symbol.for("undici.error.UND_ERR_CLOSED"),yK=class extends Si{static{s(this,"ClientClosedError")}constructor(e){super(e),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}static[Symbol.hasInstance](e){return e&&e[Xbe]===!0}[Xbe]=!0},Zbe=Symbol.for("undici.error.UND_ERR_SOCKET"),EK=class extends Si{static{s(this,"SocketError")}constructor(e,r){super(e),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}static[Symbol.hasInstance](e){return e&&e[Zbe]===!0}[Zbe]=!0},e_e=Symbol.for("undici.error.UND_ERR_NOT_SUPPORTED"),IK=class extends Si{static{s(this,"NotSupportedError")}constructor(e){super(e),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}static[Symbol.hasInstance](e){return e&&e[e_e]===!0}[e_e]=!0},t_e=Symbol.for("undici.error.UND_ERR_BPL_MISSING_UPSTREAM"),xK=class extends Si{static{s(this,"BalancedPoolMissingUpstreamError")}constructor(e){super(e),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}static[Symbol.hasInstance](e){return e&&e[t_e]===!0}[t_e]=!0},r_e=Symbol.for("undici.error.UND_ERR_HTTP_PARSER"),vK=class extends Error{static{s(this,"HTTPParserError")}constructor(e,r,n){super(e),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}static[Symbol.hasInstance](e){return e&&e[r_e]===!0}[r_e]=!0},n_e=Symbol.for("undici.error.UND_ERR_RES_EXCEEDED_MAX_SIZE"),bK=class extends Si{static{s(this,"ResponseExceededMaxSizeError")}constructor(e){super(e),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}static[Symbol.hasInstance](e){return e&&e[n_e]===!0}[n_e]=!0},i_e=Symbol.for("undici.error.UND_ERR_REQ_RETRY"),_K=class extends Si{static{s(this,"RequestRetryError")}constructor(e,r,{headers:n,data:o}){super(e),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=o,this.headers=n}static[Symbol.hasInstance](e){return e&&e[i_e]===!0}[i_e]=!0},o_e=Symbol.for("undici.error.UND_ERR_RESPONSE"),TK=class extends Si{static{s(this,"ResponseError")}constructor(e,r,{headers:n,data:o}){super(e),this.name="ResponseError",this.message=e||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=o,this.headers=n}static[Symbol.hasInstance](e){return e&&e[o_e]===!0}[o_e]=!0},s_e=Symbol.for("undici.error.UND_ERR_PRX_TLS"),wK=class extends Si{static{s(this,"SecureProxyConnectionError")}constructor(e,r,n){super(r,{cause:e,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=e}static[Symbol.hasInstance](e){return e&&e[s_e]===!0}[s_e]=!0};a_e.exports={AbortError:aN,HTTPParserError:vK,UndiciError:Si,HeadersTimeoutError:cK,HeadersOverflowError:lK,BodyTimeoutError:uK,RequestContentLengthMismatchError:mK,ConnectTimeoutError:aK,ResponseStatusCodeError:fK,InvalidArgumentError:dK,InvalidReturnValueError:hK,RequestAbortedError:AK,ClientDestroyedError:CK,ClientClosedError:yK,InformationalError:pK,SocketError:EK,NotSupportedError:IK,ResponseContentLengthMismatchError:gK,BalancedPoolMissingUpstreamError:xK,ResponseExceededMaxSizeError:bK,RequestRetryError:_K,ResponseError:TK,SecureProxyConnectionError:wK}});var lN=T((Qfn,c_e)=>{"use strict";d();var cN={},SK=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let t=0;t<SK.length;++t){let e=SK[t],r=e.toLowerCase();cN[e]=cN[r]=r}Object.setPrototypeOf(cN,null);c_e.exports={wellknownHeaderNames:SK,headerNameLowerCasedRecord:cN}});var d_e=T((Ffn,f_e)=>{"use strict";d();var{wellknownHeaderNames:l_e,headerNameLowerCasedRecord:$dt}=lN(),BK=class t{static{s(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(e,r,n){if(n===void 0||n>=e.length)throw new TypeError("Unreachable");if((this.code=e.charCodeAt(n))>127)throw new TypeError("key must be ascii string");e.length!==++n?this.middle=new t(e,r,n):this.value=r}add(e,r){let n=e.length;if(n===0)throw new TypeError("Unreachable");let o=0,a=this;for(;;){let c=e.charCodeAt(o);if(c>127)throw new TypeError("key must be ascii string");if(a.code===c)if(n===++o){a.value=r;break}else if(a.middle!==null)a=a.middle;else{a.middle=new t(e,r,o);break}else if(a.code<c)if(a.left!==null)a=a.left;else{a.left=new t(e,r,o);break}else if(a.right!==null)a=a.right;else{a.right=new t(e,r,o);break}}}search(e){let r=e.length,n=0,o=this;for(;o!==null&&n<r;){let a=e[n];for(a<=90&&a>=65&&(a|=32);o!==null;){if(a===o.code){if(r===++n)return o;o=o.middle;break}o=o.code<a?o.left:o.right}}return null}},uN=class{static{s(this,"TernarySearchTree")}node=null;insert(e,r){this.node===null?this.node=new BK(e,r,0):this.node.add(e,r)}lookup(e){return this.node?.search(e)?.value??null}},u_e=new uN;for(let t=0;t<l_e.length;++t){let e=$dt[l_e[t]];u_e.insert(e,e)}f_e.exports={TernarySearchTree:uN,tree:u_e}});var yr=T((Ofn,S_e)=>{"use strict";d();var E4=require("node:assert"),{kDestroyed:A_e,kBodyUsed:X2,kListeners:RK,kBody:h_e}=gi(),{IncomingMessage:zdt}=require("node:http"),hN=require("node:stream"),Kdt=require("node:net"),{Blob:Jdt}=require("node:buffer"),Xdt=require("node:util"),{stringify:Zdt}=require("node:querystring"),{EventEmitter:eht}=require("node:events"),{InvalidArgumentError:jo}=un(),{headerNameLowerCasedRecord:tht}=lN(),{tree:p_e}=d_e(),[rht,nht]=process.versions.node.split(".").map(t=>Number(t)),dN=class{static{s(this,"BodyAsyncIterable")}constructor(e){this[h_e]=e,this[X2]=!1}async*[Symbol.asyncIterator](){E4(!this[X2],"disturbed"),this[X2]=!0,yield*this[h_e]}};function iht(t){return AN(t)?(E_e(t)===0&&t.on("data",function(){E4(!1)}),typeof t.readableDidRead!="boolean"&&(t[X2]=!1,eht.prototype.on.call(t,"data",function(){this[X2]=!0})),t):t&&typeof t.pipeTo=="function"?new dN(t):t&&typeof t!="string"&&!ArrayBuffer.isView(t)&&y_e(t)?new dN(t):t}s(iht,"wrapRequestBody");function oht(){}s(oht,"nop");function AN(t){return t&&typeof t=="object"&&typeof t.pipe=="function"&&typeof t.on=="function"}s(AN,"isStream");function m_e(t){if(t===null)return!1;if(t instanceof Jdt)return!0;if(typeof t!="object")return!1;{let e=t[Symbol.toStringTag];return(e==="Blob"||e==="File")&&("stream"in t&&typeof t.stream=="function"||"arrayBuffer"in t&&typeof t.arrayBuffer=="function")}}s(m_e,"isBlobLike");function sht(t,e){if(t.includes("?")||t.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=Zdt(e);return r&&(t+="?"+r),t}s(sht,"buildURL");function g_e(t){let e=parseInt(t,10);return e===Number(t)&&e>=0&&e<=65535}s(g_e,"isValidPort");function fN(t){return t!=null&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&(t[4]===":"||t[4]==="s"&&t[5]===":")}s(fN,"isHttpOrHttpsPrefixed");function C_e(t){if(typeof t=="string"){if(t=new URL(t),!fN(t.origin||t.protocol))throw new jo("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}if(!t||typeof t!="object")throw new jo("Invalid URL: The URL argument must be a non-null object.");if(!(t instanceof URL)){if(t.port!=null&&t.port!==""&&g_e(t.port)===!1)throw new jo("Invalid URL: port must be a valid integer or a string representation of an integer.");if(t.path!=null&&typeof t.path!="string")throw new jo("Invalid URL path: the path must be a string or null/undefined.");if(t.pathname!=null&&typeof t.pathname!="string")throw new jo("Invalid URL pathname: the pathname must be a string or null/undefined.");if(t.hostname!=null&&typeof t.hostname!="string")throw new jo("Invalid URL hostname: the hostname must be a string or null/undefined.");if(t.origin!=null&&typeof t.origin!="string")throw new jo("Invalid URL origin: the origin must be a string or null/undefined.");if(!fN(t.origin||t.protocol))throw new jo("Invalid URL protocol: the URL must start with `http:` or `https:`.");let e=t.port!=null?t.port:t.protocol==="https:"?443:80,r=t.origin!=null?t.origin:`${t.protocol||""}//${t.hostname||""}:${e}`,n=t.path!=null?t.path:`${t.pathname||""}${t.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!fN(t.origin||t.protocol))throw new jo("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}s(C_e,"parseURL");function aht(t){if(t=C_e(t),t.pathname!=="/"||t.search||t.hash)throw new jo("invalid url");return t}s(aht,"parseOrigin");function cht(t){if(t[0]==="["){let r=t.indexOf("]");return E4(r!==-1),t.substring(1,r)}let e=t.indexOf(":");return e===-1?t:t.substring(0,e)}s(cht,"getHostname");function lht(t){if(!t)return null;E4(typeof t=="string");let e=cht(t);return Kdt.isIP(e)?"":e}s(lht,"getServerName");function uht(t){return JSON.parse(JSON.stringify(t))}s(uht,"deepClone");function fht(t){return t!=null&&typeof t[Symbol.asyncIterator]=="function"}s(fht,"isAsyncIterable");function y_e(t){return t!=null&&(typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function")}s(y_e,"isIterable");function E_e(t){if(t==null)return 0;if(AN(t)){let e=t._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(m_e(t))return t.size!=null?t.size:null;if(v_e(t))return t.byteLength}return null}s(E_e,"bodyLength");function I_e(t){return t&&!!(t.destroyed||t[A_e]||hN.isDestroyed?.(t))}s(I_e,"isDestroyed");function dht(t,e){t==null||!AN(t)||I_e(t)||(typeof t.destroy=="function"?(Object.getPrototypeOf(t).constructor===zdt&&(t.socket=null),t.destroy(e)):e&&queueMicrotask(()=>{t.emit("error",e)}),t.destroyed!==!0&&(t[A_e]=!0))}s(dht,"destroy");var hht=/timeout=(\d+)/;function Aht(t){let e=t.toString().match(hht);return e?parseInt(e[1],10)*1e3:null}s(Aht,"parseKeepAliveTimeout");function x_e(t){return typeof t=="string"?tht[t]??t.toLowerCase():p_e.lookup(t)??t.toString("latin1").toLowerCase()}s(x_e,"headerNameToString");function pht(t){return p_e.lookup(t)??t.toString("latin1").toLowerCase()}s(pht,"bufferToLowerCasedHeaderName");function mht(t,e){e===void 0&&(e={});for(let r=0;r<t.length;r+=2){let n=x_e(t[r]),o=e[n];if(o)typeof o=="string"&&(o=[o],e[n]=o),o.push(t[r+1].toString("utf8"));else{let a=t[r+1];typeof a=="string"?e[n]=a:e[n]=Array.isArray(a)?a.map(c=>c.toString("utf8")):a.toString("utf8")}}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}s(mht,"parseHeaders");function ght(t){let e=t.length,r=new Array(e),n=!1,o=-1,a,c,l=0;for(let u=0;u<t.length;u+=2)a=t[u],c=t[u+1],typeof a!="string"&&(a=a.toString()),typeof c!="string"&&(c=c.toString("utf8")),l=a.length,l===14&&a[7]==="-"&&(a==="content-length"||a.toLowerCase()==="content-length")?n=!0:l===19&&a[7]==="-"&&(a==="content-disposition"||a.toLowerCase()==="content-disposition")&&(o=u+1),r[u]=a,r[u+1]=c;return n&&o!==-1&&(r[o]=Buffer.from(r[o]).toString("latin1")),r}s(ght,"parseRawHeaders");function v_e(t){return t instanceof Uint8Array||Buffer.isBuffer(t)}s(v_e,"isBuffer");function Cht(t,e,r){if(!t||typeof t!="object")throw new jo("handler must be an object");if(typeof t.onConnect!="function")throw new jo("invalid onConnect method");if(typeof t.onError!="function")throw new jo("invalid onError method");if(typeof t.onBodySent!="function"&&t.onBodySent!==void 0)throw new jo("invalid onBodySent method");if(r||e==="CONNECT"){if(typeof t.onUpgrade!="function")throw new jo("invalid onUpgrade method")}else{if(typeof t.onHeaders!="function")throw new jo("invalid onHeaders method");if(typeof t.onData!="function")throw new jo("invalid onData method");if(typeof t.onComplete!="function")throw new jo("invalid onComplete method")}}s(Cht,"validateHandler");function yht(t){return!!(t&&(hN.isDisturbed(t)||t[X2]))}s(yht,"isDisturbed");function Eht(t){return!!(t&&hN.isErrored(t))}s(Eht,"isErrored");function Iht(t){return!!(t&&hN.isReadable(t))}s(Iht,"isReadable");function xht(t){return{localAddress:t.localAddress,localPort:t.localPort,remoteAddress:t.remoteAddress,remotePort:t.remotePort,remoteFamily:t.remoteFamily,timeout:t.timeout,bytesWritten:t.bytesWritten,bytesRead:t.bytesRead}}s(xht,"getSocketInfo");function vht(t){let e;return new ReadableStream({async start(){e=t[Symbol.asyncIterator]()},async pull(r){let{done:n,value:o}=await e.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let a=Buffer.isBuffer(o)?o:Buffer.from(o);a.byteLength&&r.enqueue(new Uint8Array(a))}return r.desiredSize>0},async cancel(r){await e.return()},type:"bytes"})}s(vht,"ReadableStreamFrom");function bht(t){return t&&typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&t[Symbol.toStringTag]==="FormData"}s(bht,"isFormDataLike");function _ht(t,e){return"addEventListener"in t?(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)):(t.addListener("abort",e),()=>t.removeListener("abort",e))}s(_ht,"addAbortListener");var Tht=typeof String.prototype.toWellFormed=="function",wht=typeof String.prototype.isWellFormed=="function";function b_e(t){return Tht?`${t}`.toWellFormed():Xdt.toUSVString(t)}s(b_e,"toUSVString");function Sht(t){return wht?`${t}`.isWellFormed():b_e(t)===`${t}`}s(Sht,"isUSVString");function __e(t){switch(t){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return t>=33&&t<=126}}s(__e,"isTokenCharCode");function Bht(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e)if(!__e(t.charCodeAt(e)))return!1;return!0}s(Bht,"isValidHTTPToken");var Rht=/[^\t\x20-\x7e\x80-\xff]/;function kht(t){return!Rht.test(t)}s(kht,"isValidHeaderValue");function Dht(t){if(t==null||t==="")return{start:0,end:null,size:null};let e=t?t.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}s(Dht,"parseRangeHeader");function Nht(t,e,r){return(t[RK]??=[]).push([e,r]),t.on(e,r),t}s(Nht,"addListener");function Qht(t){for(let[e,r]of t[RK]??[])t.removeListener(e,r);t[RK]=null}s(Qht,"removeAllListeners");function Pht(t,e,r){try{e.onError(r),E4(e.aborted)}catch(n){t.emit("error",n)}}s(Pht,"errorRequest");var T_e=Object.create(null);T_e.enumerable=!0;var kK={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},w_e={...kK,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(kK,null);Object.setPrototypeOf(w_e,null);S_e.exports={kEnumerableProperty:T_e,nop:oht,isDisturbed:yht,isErrored:Eht,isReadable:Iht,toUSVString:b_e,isUSVString:Sht,isBlobLike:m_e,parseOrigin:aht,parseURL:C_e,getServerName:lht,isStream:AN,isIterable:y_e,isAsyncIterable:fht,isDestroyed:I_e,headerNameToString:x_e,bufferToLowerCasedHeaderName:pht,addListener:Nht,removeAllListeners:Qht,errorRequest:Pht,parseRawHeaders:ght,parseHeaders:mht,parseKeepAliveTimeout:Aht,destroy:dht,bodyLength:E_e,deepClone:uht,ReadableStreamFrom:vht,isBuffer:v_e,validateHandler:Cht,getSocketInfo:xht,isFormDataLike:bht,buildURL:sht,addAbortListener:_ht,isValidHTTPToken:Bht,isValidHeaderValue:kht,isTokenCharCode:__e,parseRangeHeader:Dht,normalizedMethodRecordsBase:kK,normalizedMethodRecords:w_e,isValidPort:g_e,isHttpOrHttpsPrefixed:fN,nodeMajor:rht,nodeMinor:nht,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:iht}});var Z2=T((Hfn,R_e)=>{"use strict";d();var mn=require("node:diagnostics_channel"),NK=require("node:util"),pN=NK.debuglog("undici"),DK=NK.debuglog("fetch"),gC=NK.debuglog("websocket"),B_e=!1,Fht={beforeConnect:mn.channel("undici:client:beforeConnect"),connected:mn.channel("undici:client:connected"),connectError:mn.channel("undici:client:connectError"),sendHeaders:mn.channel("undici:client:sendHeaders"),create:mn.channel("undici:request:create"),bodySent:mn.channel("undici:request:bodySent"),headers:mn.channel("undici:request:headers"),trailers:mn.channel("undici:request:trailers"),error:mn.channel("undici:request:error"),open:mn.channel("undici:websocket:open"),close:mn.channel("undici:websocket:close"),socketError:mn.channel("undici:websocket:socket_error"),ping:mn.channel("undici:websocket:ping"),pong:mn.channel("undici:websocket:pong")};if(pN.enabled||DK.enabled){let t=DK.enabled?DK:pN;mn.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connecting to %s using %s%s",`${a}${o?`:${o}`:""}`,n,r)}),mn.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connected to %s using %s%s",`${a}${o?`:${o}`:""}`,n,r)}),mn.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a},error:c}=e;t("connection to %s using %s%s errored - %s",`${a}${o?`:${o}`:""}`,n,r,c.message)}),mn.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:o}}=e;t("sending request to %s %s/%s",r,o,n)}),mn.channel("undici:request:headers").subscribe(e=>{let{request:{method:r,path:n,origin:o},response:{statusCode:a}}=e;t("received response to %s %s/%s - HTTP %d",r,o,n,a)}),mn.channel("undici:request:trailers").subscribe(e=>{let{request:{method:r,path:n,origin:o}}=e;t("trailers received from %s %s/%s",r,o,n)}),mn.channel("undici:request:error").subscribe(e=>{let{request:{method:r,path:n,origin:o},error:a}=e;t("request to %s %s/%s errored - %s",r,o,n,a.message)}),B_e=!0}if(gC.enabled){if(!B_e){let t=pN.enabled?pN:gC;mn.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connecting to %s%s using %s%s",a,o?`:${o}`:"",n,r)}),mn.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connected to %s%s using %s%s",a,o?`:${o}`:"",n,r)}),mn.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a},error:c}=e;t("connection to %s%s using %s%s errored - %s",a,o?`:${o}`:"",n,r,c.message)}),mn.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:o}}=e;t("sending request to %s %s/%s",r,o,n)})}mn.channel("undici:websocket:open").subscribe(t=>{let{address:{address:e,port:r}}=t;gC("connection opened %s%s",e,r?`:${r}`:"")}),mn.channel("undici:websocket:close").subscribe(t=>{let{websocket:e,code:r,reason:n}=t;gC("closed connection to %s - %s %s",e.url,r,n)}),mn.channel("undici:websocket:socket_error").subscribe(t=>{gC("connection errored - %s",t.message)}),mn.channel("undici:websocket:ping").subscribe(t=>{gC("ping received")}),mn.channel("undici:websocket:pong").subscribe(t=>{gC("pong received")})}R_e.exports={channels:Fht}});var P_e=T((Vfn,Q_e)=>{"use strict";d();var{InvalidArgumentError:Bi,NotSupportedError:Lht}=un(),Ih=require("node:assert"),{isValidHTTPToken:N_e,isValidHeaderValue:k_e,isStream:Mht,destroy:Oht,isBuffer:Uht,isFormDataLike:qht,isIterable:Hht,isBlobLike:Ght,buildURL:Vht,validateHandler:Wht,getServerName:Yht,normalizedMethodRecords:jht}=yr(),{channels:Df}=Z2(),{headerNameLowerCasedRecord:D_e}=lN(),$ht=/[^\u0021-\u00ff]/,nl=Symbol("handler"),QK=class{static{s(this,"Request")}constructor(e,{path:r,method:n,body:o,headers:a,query:c,idempotent:l,blocking:u,upgrade:f,headersTimeout:h,bodyTimeout:A,reset:p,throwOnError:m,expectContinue:g,servername:y},E){if(typeof r!="string")throw new Bi("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Bi("path must be an absolute URL or start with a slash");if($ht.test(r))throw new Bi("invalid request path");if(typeof n!="string")throw new Bi("method must be a string");if(jht[n]===void 0&&!N_e(n))throw new Bi("invalid request method");if(f&&typeof f!="string")throw new Bi("upgrade must be a string");if(h!=null&&(!Number.isFinite(h)||h<0))throw new Bi("invalid headersTimeout");if(A!=null&&(!Number.isFinite(A)||A<0))throw new Bi("invalid bodyTimeout");if(p!=null&&typeof p!="boolean")throw new Bi("invalid reset");if(g!=null&&typeof g!="boolean")throw new Bi("invalid expectContinue");if(this.headersTimeout=h,this.bodyTimeout=A,this.throwOnError=m===!0,this.method=n,this.abort=null,o==null)this.body=null;else if(Mht(o)){this.body=o;let I=this.body._readableState;(!I||!I.autoDestroy)&&(this.endHandler=s(function(){Oht(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=x=>{this.abort?this.abort(x):this.error=x},this.body.on("error",this.errorHandler)}else if(Uht(o))this.body=o.byteLength?o:null;else if(ArrayBuffer.isView(o))this.body=o.buffer.byteLength?Buffer.from(o.buffer,o.byteOffset,o.byteLength):null;else if(o instanceof ArrayBuffer)this.body=o.byteLength?Buffer.from(o):null;else if(typeof o=="string")this.body=o.length?Buffer.from(o):null;else if(qht(o)||Hht(o)||Ght(o))this.body=o;else throw new Bi("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=f||null,this.path=c?Vht(r,c):r,this.origin=e,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=u??!1,this.reset=p??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=g??!1,Array.isArray(a)){if(a.length%2!==0)throw new Bi("headers array must be even");for(let I=0;I<a.length;I+=2)mN(this,a[I],a[I+1])}else if(a&&typeof a=="object")if(a[Symbol.iterator])for(let I of a){if(!Array.isArray(I)||I.length!==2)throw new Bi("headers must be in key-value pair format");mN(this,I[0],I[1])}else{let I=Object.keys(a);for(let x=0;x<I.length;++x)mN(this,I[x],a[I[x]])}else if(a!=null)throw new Bi("headers must be an object or an array");Wht(E,n,f),this.servername=y||Yht(this.host),this[nl]=E,Df.create.hasSubscribers&&Df.create.publish({request:this})}onBodySent(e){if(this[nl].onBodySent)try{return this[nl].onBodySent(e)}catch(r){this.abort(r)}}onRequestSent(){if(Df.bodySent.hasSubscribers&&Df.bodySent.publish({request:this}),this[nl].onRequestSent)try{return this[nl].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(Ih(!this.aborted),Ih(!this.completed),this.error)e(this.error);else return this.abort=e,this[nl].onConnect(e)}onResponseStarted(){return this[nl].onResponseStarted?.()}onHeaders(e,r,n,o){Ih(!this.aborted),Ih(!this.completed),Df.headers.hasSubscribers&&Df.headers.publish({request:this,response:{statusCode:e,headers:r,statusText:o}});try{return this[nl].onHeaders(e,r,n,o)}catch(a){this.abort(a)}}onData(e){Ih(!this.aborted),Ih(!this.completed);try{return this[nl].onData(e)}catch(r){return this.abort(r),!1}}onUpgrade(e,r,n){return Ih(!this.aborted),Ih(!this.completed),this[nl].onUpgrade(e,r,n)}onComplete(e){this.onFinally(),Ih(!this.aborted),this.completed=!0,Df.trailers.hasSubscribers&&Df.trailers.publish({request:this,trailers:e});try{return this[nl].onComplete(e)}catch(r){this.onError(r)}}onError(e){if(this.onFinally(),Df.error.hasSubscribers&&Df.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[nl].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,r){return mN(this,e,r),this}};function mN(t,e,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Bi(`invalid ${e} header`);if(r===void 0)return;let n=D_e[e];if(n===void 0&&(n=e.toLowerCase(),D_e[n]===void 0&&!N_e(n)))throw new Bi("invalid header key");if(Array.isArray(r)){let o=[];for(let a=0;a<r.length;a++)if(typeof r[a]=="string"){if(!k_e(r[a]))throw new Bi(`invalid ${e} header`);o.push(r[a])}else if(r[a]===null)o.push("");else{if(typeof r[a]=="object")throw new Bi(`invalid ${e} header`);o.push(`${r[a]}`)}r=o}else if(typeof r=="string"){if(!k_e(r))throw new Bi(`invalid ${e} header`)}else r===null?r="":r=`${r}`;if(t.host===null&&n==="host"){if(typeof r!="string")throw new Bi("invalid host header");t.host=r}else if(t.contentLength===null&&n==="content-length"){if(t.contentLength=parseInt(r,10),!Number.isFinite(t.contentLength))throw new Bi("invalid content-length header")}else if(t.contentType===null&&n==="content-type")t.contentType=r,t.headers.push(e,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Bi(`invalid ${n} header`);if(n==="connection"){let o=typeof r=="string"?r.toLowerCase():null;if(o!=="close"&&o!=="keep-alive")throw new Bi("invalid connection header");o==="close"&&(t.reset=!0)}else{if(n==="expect")throw new Lht("expect header not supported");t.headers.push(e,r)}}}s(mN,"processHeader");Q_e.exports=QK});var I4=T((jfn,F_e)=>{"use strict";d();var zht=require("node:events"),gN=class extends zht{static{s(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...e){let r=Array.isArray(e[0])?e[0]:e,n=this.dispatch.bind(this);for(let o of r)if(o!=null){if(typeof o!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof o}`);if(n=o(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new PK(this,n)}},PK=class extends gN{static{s(this,"ComposedDispatcher")}#e=null;#t=null;constructor(e,r){super(),this.#e=e,this.#t=r}dispatch(...e){this.#t(...e)}close(...e){return this.#e.close(...e)}destroy(...e){return this.#e.destroy(...e)}};F_e.exports=gN});var nx=T((Kfn,L_e)=>{"use strict";d();var Kht=I4(),{ClientDestroyedError:FK,ClientClosedError:Jht,InvalidArgumentError:ex}=un(),{kDestroy:Xht,kClose:Zht,kClosed:x4,kDestroyed:tx,kDispatch:LK,kInterceptors:CC}=gi(),xh=Symbol("onDestroyed"),rx=Symbol("onClosed"),CN=Symbol("Intercepted Dispatch"),MK=class extends Kht{static{s(this,"DispatcherBase")}constructor(){super(),this[tx]=!1,this[xh]=null,this[x4]=!1,this[rx]=[]}get destroyed(){return this[tx]}get closed(){return this[x4]}get interceptors(){return this[CC]}set interceptors(e){if(e){for(let r=e.length-1;r>=0;r--)if(typeof this[CC][r]!="function")throw new ex("interceptor must be an function")}this[CC]=e}close(e){if(e===void 0)return new Promise((n,o)=>{this.close((a,c)=>a?o(a):n(c))});if(typeof e!="function")throw new ex("invalid callback");if(this[tx]){queueMicrotask(()=>e(new FK,null));return}if(this[x4]){this[rx]?this[rx].push(e):queueMicrotask(()=>e(null,null));return}this[x4]=!0,this[rx].push(e);let r=s(()=>{let n=this[rx];this[rx]=null;for(let o=0;o<n.length;o++)n[o](null,null)},"onClosed");this[Zht]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(e,r){if(typeof e=="function"&&(r=e,e=null),r===void 0)return new Promise((o,a)=>{this.destroy(e,(c,l)=>c?a(c):o(l))});if(typeof r!="function")throw new ex("invalid callback");if(this[tx]){this[xh]?this[xh].push(r):queueMicrotask(()=>r(null,null));return}e||(e=new FK),this[tx]=!0,this[xh]=this[xh]||[],this[xh].push(r);let n=s(()=>{let o=this[xh];this[xh]=null;for(let a=0;a<o.length;a++)o[a](null,null)},"onDestroyed");this[Xht](e).then(()=>{queueMicrotask(n)})}[CN](e,r){if(!this[CC]||this[CC].length===0)return this[CN]=this[LK],this[LK](e,r);let n=this[LK].bind(this);for(let o=this[CC].length-1;o>=0;o--)n=this[CC][o](n);return this[CN]=n,n(e,r)}dispatch(e,r){if(!r||typeof r!="object")throw new ex("handler must be an object");try{if(!e||typeof e!="object")throw new ex("opts must be an object.");if(this[tx]||this[xh])throw new FK;if(this[x4])throw new Jht;return this[CN](e,r)}catch(n){if(typeof r.onError!="function")throw new ex("invalid onError method");return r.onError(n),!1}}};L_e.exports=MK});var WK=T((Zfn,q_e)=>{"use strict";d();var ix=0,OK=1e3,UK=(OK>>1)-1,vh,qK=Symbol("kFastTimer"),bh=[],HK=-2,GK=-1,O_e=0,M_e=1;function VK(){ix+=UK;let t=0,e=bh.length;for(;t<e;){let r=bh[t];r._state===O_e?(r._idleStart=ix-UK,r._state=M_e):r._state===M_e&&ix>=r._idleStart+r._idleTimeout&&(r._state=GK,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===GK?(r._state=HK,--e!==0&&(bh[t]=bh[e])):++t}bh.length=e,bh.length!==0&&U_e()}s(VK,"onTick");function U_e(){vh?vh.refresh():(clearTimeout(vh),vh=setTimeout(VK,UK),vh.unref&&vh.unref())}s(U_e,"refreshTimeout");var yN=class{static{s(this,"FastTimer")}[qK]=!0;_state=HK;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(e,r,n){this._onTimeout=e,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===HK&&bh.push(this),(!vh||bh.length===1)&&U_e(),this._state=O_e}clear(){this._state=GK,this._idleStart=-1}};q_e.exports={setTimeout(t,e,r){return e<=OK?setTimeout(t,e,r):new yN(t,e,r)},clearTimeout(t){t[qK]?t.clear():clearTimeout(t)},setFastTimeout(t,e,r){return new yN(t,e,r)},clearFastTimeout(t){t.clear()},now(){return ix},tick(t=0){ix+=t-OK+1,VK(),VK()},reset(){ix=0,bh.length=0,clearTimeout(vh),vh=null},kFastTimer:qK}});var v4=T((idn,Y_e)=>{"use strict";d();var eAt=require("node:net"),H_e=require("node:assert"),W_e=yr(),{InvalidArgumentError:tAt,ConnectTimeoutError:rAt}=un(),EN=WK();function G_e(){}s(G_e,"noop");var YK,jK;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?jK=class{static{s(this,"WeakSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(e){let r=this._sessionCache.get(e);return r?r.deref():null}set(e,r){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(r)),this._sessionRegistry.register(r,e))}}:jK=class{static{s(this,"SimpleSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(e,r)}}};function nAt({allowH2:t,maxCachedSessions:e,socketPath:r,timeout:n,session:o,...a}){if(e!=null&&(!Number.isInteger(e)||e<0))throw new tAt("maxCachedSessions must be a positive integer or zero");let c={path:r,...a},l=new jK(e??100);return n=n??1e4,t=t??!1,s(function({hostname:f,host:h,protocol:A,port:p,servername:m,localAddress:g,httpSocket:y},E){let I;if(A==="https:"){YK||(YK=require("node:tls")),m=m||c.servername||W_e.getServerName(h)||null;let v=m||f;H_e(v);let b=o||l.get(v)||null;p=p||443,I=YK.connect({highWaterMark:16384,...c,servername:m,session:b,localAddress:g,ALPNProtocols:t?["http/1.1","h2"]:["http/1.1"],socket:y,port:p,host:f}),I.on("session",function(_){l.set(v,_)})}else H_e(!y,"httpSocket can only be sent on TLS update"),p=p||80,I=eAt.connect({highWaterMark:64*1024,...c,localAddress:g,port:p,host:f});if(c.keepAlive==null||c.keepAlive){let v=c.keepAliveInitialDelay===void 0?6e4:c.keepAliveInitialDelay;I.setKeepAlive(!0,v)}let x=iAt(new WeakRef(I),{timeout:n,hostname:f,port:p});return I.setNoDelay(!0).once(A==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(x),E){let v=E;E=null,v(null,this)}}).on("error",function(v){if(queueMicrotask(x),E){let b=E;E=null,b(v)}}),I},"connect")}s(nAt,"buildConnector");var iAt=process.platform==="win32"?(t,e)=>{if(!e.timeout)return G_e;let r=null,n=null,o=EN.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>V_e(t.deref(),e))})},e.timeout);return()=>{EN.clearFastTimeout(o),clearImmediate(r),clearImmediate(n)}}:(t,e)=>{if(!e.timeout)return G_e;let r=null,n=EN.setFastTimeout(()=>{r=setImmediate(()=>{V_e(t.deref(),e)})},e.timeout);return()=>{EN.clearFastTimeout(n),clearImmediate(r)}};function V_e(t,e){if(t==null)return;let r="Connect Timeout Error";Array.isArray(t.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${t.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${e.hostname}:${e.port},`,r+=` timeout: ${e.timeout}ms)`,W_e.destroy(t,new rAt(r))}s(V_e,"onConnectTimeout");Y_e.exports=nAt});var j_e=T(IN=>{"use strict";d();Object.defineProperty(IN,"__esModule",{value:!0});IN.enumToMap=void 0;function oAt(t){let e={};return Object.keys(t).forEach(r=>{let n=t[r];typeof n=="number"&&(e[r]=n)}),e}s(oAt,"enumToMap");IN.enumToMap=oAt});var $_e=T(He=>{"use strict";d();Object.defineProperty(He,"__esModule",{value:!0});He.SPECIAL_HEADERS=He.HEADER_STATE=He.MINOR=He.MAJOR=He.CONNECTION_TOKEN_CHARS=He.HEADER_CHARS=He.TOKEN=He.STRICT_TOKEN=He.HEX=He.URL_CHAR=He.STRICT_URL_CHAR=He.USERINFO_CHARS=He.MARK=He.ALPHANUM=He.NUM=He.HEX_MAP=He.NUM_MAP=He.ALPHA=He.FINISH=He.H_METHOD_MAP=He.METHOD_MAP=He.METHODS_RTSP=He.METHODS_ICE=He.METHODS_HTTP=He.METHODS=He.LENIENT_FLAGS=He.FLAGS=He.TYPE=He.ERROR=void 0;var sAt=j_e(),aAt;(function(t){t[t.OK=0]="OK",t[t.INTERNAL=1]="INTERNAL",t[t.STRICT=2]="STRICT",t[t.LF_EXPECTED=3]="LF_EXPECTED",t[t.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",t[t.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",t[t.INVALID_METHOD=6]="INVALID_METHOD",t[t.INVALID_URL=7]="INVALID_URL",t[t.INVALID_CONSTANT=8]="INVALID_CONSTANT",t[t.INVALID_VERSION=9]="INVALID_VERSION",t[t.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",t[t.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",t[t.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",t[t.INVALID_STATUS=13]="INVALID_STATUS",t[t.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",t[t.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",t[t.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",t[t.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",t[t.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",t[t.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",t[t.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",t[t.PAUSED=21]="PAUSED",t[t.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",t[t.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",t[t.USER=24]="USER"})(aAt=He.ERROR||(He.ERROR={}));var cAt;(function(t){t[t.BOTH=0]="BOTH",t[t.REQUEST=1]="REQUEST",t[t.RESPONSE=2]="RESPONSE"})(cAt=He.TYPE||(He.TYPE={}));var lAt;(function(t){t[t.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",t[t.CHUNKED=8]="CHUNKED",t[t.UPGRADE=16]="UPGRADE",t[t.CONTENT_LENGTH=32]="CONTENT_LENGTH",t[t.SKIPBODY=64]="SKIPBODY",t[t.TRAILING=128]="TRAILING",t[t.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(lAt=He.FLAGS||(He.FLAGS={}));var uAt;(function(t){t[t.HEADERS=1]="HEADERS",t[t.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",t[t.KEEP_ALIVE=4]="KEEP_ALIVE"})(uAt=He.LENIENT_FLAGS||(He.LENIENT_FLAGS={}));var bt;(function(t){t[t.DELETE=0]="DELETE",t[t.GET=1]="GET",t[t.HEAD=2]="HEAD",t[t.POST=3]="POST",t[t.PUT=4]="PUT",t[t.CONNECT=5]="CONNECT",t[t.OPTIONS=6]="OPTIONS",t[t.TRACE=7]="TRACE",t[t.COPY=8]="COPY",t[t.LOCK=9]="LOCK",t[t.MKCOL=10]="MKCOL",t[t.MOVE=11]="MOVE",t[t.PROPFIND=12]="PROPFIND",t[t.PROPPATCH=13]="PROPPATCH",t[t.SEARCH=14]="SEARCH",t[t.UNLOCK=15]="UNLOCK",t[t.BIND=16]="BIND",t[t.REBIND=17]="REBIND",t[t.UNBIND=18]="UNBIND",t[t.ACL=19]="ACL",t[t.REPORT=20]="REPORT",t[t.MKACTIVITY=21]="MKACTIVITY",t[t.CHECKOUT=22]="CHECKOUT",t[t.MERGE=23]="MERGE",t[t["M-SEARCH"]=24]="M-SEARCH",t[t.NOTIFY=25]="NOTIFY",t[t.SUBSCRIBE=26]="SUBSCRIBE",t[t.UNSUBSCRIBE=27]="UNSUBSCRIBE",t[t.PATCH=28]="PATCH",t[t.PURGE=29]="PURGE",t[t.MKCALENDAR=30]="MKCALENDAR",t[t.LINK=31]="LINK",t[t.UNLINK=32]="UNLINK",t[t.SOURCE=33]="SOURCE",t[t.PRI=34]="PRI",t[t.DESCRIBE=35]="DESCRIBE",t[t.ANNOUNCE=36]="ANNOUNCE",t[t.SETUP=37]="SETUP",t[t.PLAY=38]="PLAY",t[t.PAUSE=39]="PAUSE",t[t.TEARDOWN=40]="TEARDOWN",t[t.GET_PARAMETER=41]="GET_PARAMETER",t[t.SET_PARAMETER=42]="SET_PARAMETER",t[t.REDIRECT=43]="REDIRECT",t[t.RECORD=44]="RECORD",t[t.FLUSH=45]="FLUSH"})(bt=He.METHODS||(He.METHODS={}));He.METHODS_HTTP=[bt.DELETE,bt.GET,bt.HEAD,bt.POST,bt.PUT,bt.CONNECT,bt.OPTIONS,bt.TRACE,bt.COPY,bt.LOCK,bt.MKCOL,bt.MOVE,bt.PROPFIND,bt.PROPPATCH,bt.SEARCH,bt.UNLOCK,bt.BIND,bt.REBIND,bt.UNBIND,bt.ACL,bt.REPORT,bt.MKACTIVITY,bt.CHECKOUT,bt.MERGE,bt["M-SEARCH"],bt.NOTIFY,bt.SUBSCRIBE,bt.UNSUBSCRIBE,bt.PATCH,bt.PURGE,bt.MKCALENDAR,bt.LINK,bt.UNLINK,bt.PRI,bt.SOURCE];He.METHODS_ICE=[bt.SOURCE];He.METHODS_RTSP=[bt.OPTIONS,bt.DESCRIBE,bt.ANNOUNCE,bt.SETUP,bt.PLAY,bt.PAUSE,bt.TEARDOWN,bt.GET_PARAMETER,bt.SET_PARAMETER,bt.REDIRECT,bt.RECORD,bt.FLUSH,bt.GET,bt.POST];He.METHOD_MAP=sAt.enumToMap(bt);He.H_METHOD_MAP={};Object.keys(He.METHOD_MAP).forEach(t=>{/^H/.test(t)&&(He.H_METHOD_MAP[t]=He.METHOD_MAP[t])});var fAt;(function(t){t[t.SAFE=0]="SAFE",t[t.SAFE_WITH_CB=1]="SAFE_WITH_CB",t[t.UNSAFE=2]="UNSAFE"})(fAt=He.FINISH||(He.FINISH={}));He.ALPHA=[];for(let t=65;t<=90;t++)He.ALPHA.push(String.fromCharCode(t)),He.ALPHA.push(String.fromCharCode(t+32));He.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};He.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};He.NUM=["0","1","2","3","4","5","6","7","8","9"];He.ALPHANUM=He.ALPHA.concat(He.NUM);He.MARK=["-","_",".","!","~","*","'","(",")"];He.USERINFO_CHARS=He.ALPHANUM.concat(He.MARK).concat(["%",";",":","&","=","+","$",","]);He.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(He.ALPHANUM);He.URL_CHAR=He.STRICT_URL_CHAR.concat(["	","\f"]);for(let t=128;t<=255;t++)He.URL_CHAR.push(t);He.HEX=He.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);He.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(He.ALPHANUM);He.TOKEN=He.STRICT_TOKEN.concat([" "]);He.HEADER_CHARS=["	"];for(let t=32;t<=255;t++)t!==127&&He.HEADER_CHARS.push(t);He.CONNECTION_TOKEN_CHARS=He.HEADER_CHARS.filter(t=>t!==44);He.MAJOR=He.NUM_MAP;He.MINOR=He.MAJOR;var ox;(function(t){t[t.GENERAL=0]="GENERAL",t[t.CONNECTION=1]="CONNECTION",t[t.CONTENT_LENGTH=2]="CONTENT_LENGTH",t[t.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",t[t.UPGRADE=4]="UPGRADE",t[t.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",t[t.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(ox=He.HEADER_STATE||(He.HEADER_STATE={}));He.SPECIAL_HEADERS={connection:ox.CONNECTION,"content-length":ox.CONTENT_LENGTH,"proxy-connection":ox.CONNECTION,"transfer-encoding":ox.TRANSFER_ENCODING,upgrade:ox.UPGRADE}});var $K=T((ddn,z_e)=>{"use strict";d();var{Buffer:dAt}=require("node:buffer");z_e.exports=dAt.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var J_e=T((Adn,K_e)=>{"use strict";d();var{Buffer:hAt}=require("node:buffer");K_e.exports=hAt.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var b4=T((mdn,o5e)=>{"use strict";d();var X_e=["GET","HEAD","POST"],AAt=new Set(X_e),pAt=[101,204,205,304],Z_e=[301,302,303,307,308],mAt=new Set(Z_e),e5e=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],gAt=new Set(e5e),t5e=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],CAt=new Set(t5e),yAt=["follow","manual","error"],r5e=["GET","HEAD","OPTIONS","TRACE"],EAt=new Set(r5e),IAt=["navigate","same-origin","no-cors","cors"],xAt=["omit","same-origin","include"],vAt=["default","no-store","reload","no-cache","force-cache","only-if-cached"],bAt=["content-encoding","content-language","content-location","content-type","content-length"],_At=["half"],n5e=["CONNECT","TRACE","TRACK"],TAt=new Set(n5e),i5e=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],wAt=new Set(i5e);o5e.exports={subresource:i5e,forbiddenMethods:n5e,requestBodyHeader:bAt,referrerPolicy:t5e,requestRedirect:yAt,requestMode:IAt,requestCredentials:xAt,requestCache:vAt,redirectStatus:Z_e,corsSafeListedMethods:X_e,nullBodyStatus:pAt,safeMethods:r5e,badPorts:e5e,requestDuplex:_At,subresourceSet:wAt,badPortsSet:gAt,redirectStatusSet:mAt,corsSafeListedMethodsSet:AAt,safeMethodsSet:EAt,forbiddenMethodsSet:TAt,referrerPolicySet:CAt}});var KK=T((Cdn,s5e)=>{"use strict";d();var zK=Symbol.for("undici.globalOrigin.1");function SAt(){return globalThis[zK]}s(SAt,"getGlobalOrigin");function BAt(t){if(t===void 0){Object.defineProperty(globalThis,zK,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,zK,{value:e,writable:!0,enumerable:!1,configurable:!1})}s(BAt,"setGlobalOrigin");s5e.exports={getGlobalOrigin:SAt,setGlobalOrigin:BAt}});var oc=T((Idn,h5e)=>{"use strict";d();var vN=require("node:assert"),RAt=new TextEncoder,_4=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,kAt=/[\u000A\u000D\u0009\u0020]/,DAt=/[\u0009\u000A\u000C\u000D\u0020]/g,NAt=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function QAt(t){vN(t.protocol==="data:");let e=l5e(t,!0);e=e.slice(5);let r={position:0},n=sx(",",e,r),o=n.length;if(n=UAt(n,!0,!0),r.position>=e.length)return"failure";r.position++;let a=e.slice(o+1),c=u5e(a);if(/;(\u0020){0,}base64$/i.test(n)){let u=d5e(c);if(c=FAt(u),c==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=JK(n);return l==="failure"&&(l=JK("text/plain;charset=US-ASCII")),{mimeType:l,body:c}}s(QAt,"dataURLProcessor");function l5e(t,e=!1){if(!e)return t.href;let r=t.href,n=t.hash.length,o=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?o.slice(0,-1):o}s(l5e,"URLSerializer");function bN(t,e,r){let n="";for(;r.position<e.length&&t(e[r.position]);)n+=e[r.position],r.position++;return n}s(bN,"collectASequenceOfCodePoints");function sx(t,e,r){let n=e.indexOf(t,r.position),o=r.position;return n===-1?(r.position=e.length,e.slice(o)):(r.position=n,e.slice(o,r.position))}s(sx,"collectASequenceOfCodePointsFast");function u5e(t){let e=RAt.encode(t);return PAt(e)}s(u5e,"stringPercentDecode");function a5e(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}s(a5e,"isHexCharByte");function c5e(t){return t>=48&&t<=57?t-48:(t&223)-55}s(c5e,"hexByteToNumber");function PAt(t){let e=t.length,r=new Uint8Array(e),n=0;for(let o=0;o<e;++o){let a=t[o];a!==37?r[n++]=a:a===37&&!(a5e(t[o+1])&&a5e(t[o+2]))?r[n++]=37:(r[n++]=c5e(t[o+1])<<4|c5e(t[o+2]),o+=2)}return e===n?r:r.subarray(0,n)}s(PAt,"percentDecode");function JK(t){t=xN(t,!0,!0);let e={position:0},r=sx("/",t,e);if(r.length===0||!_4.test(r)||e.position>t.length)return"failure";e.position++;let n=sx(";",t,e);if(n=xN(n,!1,!0),n.length===0||!_4.test(n))return"failure";let o=r.toLowerCase(),a=n.toLowerCase(),c={type:o,subtype:a,parameters:new Map,essence:`${o}/${a}`};for(;e.position<t.length;){e.position++,bN(f=>kAt.test(f),t,e);let l=bN(f=>f!==";"&&f!=="=",t,e);if(l=l.toLowerCase(),e.position<t.length){if(t[e.position]===";")continue;e.position++}if(e.position>t.length)break;let u=null;if(t[e.position]==='"')u=f5e(t,e,!0),sx(";",t,e);else if(u=sx(";",t,e),u=xN(u,!1,!0),u.length===0)continue;l.length!==0&&_4.test(l)&&(u.length===0||NAt.test(u))&&!c.parameters.has(l)&&c.parameters.set(l,u)}return c}s(JK,"parseMIMEType");function FAt(t){t=t.replace(DAt,"");let e=t.length;if(e%4===0&&t.charCodeAt(e-1)===61&&(--e,t.charCodeAt(e-1)===61&&--e),e%4===1||/[^+/0-9A-Za-z]/.test(t.length===e?t:t.substring(0,e)))return"failure";let r=Buffer.from(t,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}s(FAt,"forgivingBase64");function f5e(t,e,r){let n=e.position,o="";for(vN(t[e.position]==='"'),e.position++;o+=bN(c=>c!=='"'&&c!=="\\",t,e),!(e.position>=t.length);){let a=t[e.position];if(e.position++,a==="\\"){if(e.position>=t.length){o+="\\";break}o+=t[e.position],e.position++}else{vN(a==='"');break}}return r?o:t.slice(n,e.position)}s(f5e,"collectAnHTTPQuotedString");function LAt(t){vN(t!=="failure");let{parameters:e,essence:r}=t,n=r;for(let[o,a]of e.entries())n+=";",n+=o,n+="=",_4.test(a)||(a=a.replace(/(\\|")/g,"\\$1"),a='"'+a,a+='"'),n+=a;return n}s(LAt,"serializeAMimeType");function MAt(t){return t===13||t===10||t===9||t===32}s(MAt,"isHTTPWhiteSpace");function xN(t,e=!0,r=!0){return XK(t,e,r,MAt)}s(xN,"removeHTTPWhitespace");function OAt(t){return t===13||t===10||t===9||t===12||t===32}s(OAt,"isASCIIWhitespace");function UAt(t,e=!0,r=!0){return XK(t,e,r,OAt)}s(UAt,"removeASCIIWhitespace");function XK(t,e,r,n){let o=0,a=t.length-1;if(e)for(;o<t.length&&n(t.charCodeAt(o));)o++;if(r)for(;a>0&&n(t.charCodeAt(a));)a--;return o===0&&a===t.length-1?t:t.slice(o,a+1)}s(XK,"removeChars");function d5e(t){let e=t.length;if(65535>e)return String.fromCharCode.apply(null,t);let r="",n=0,o=65535;for(;n<e;)n+o>e&&(o=e-n),r+=String.fromCharCode.apply(null,t.subarray(n,n+=o));return r}s(d5e,"isomorphicDecode");function qAt(t){switch(t.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return t.subtype.endsWith("+json")?"application/json":t.subtype.endsWith("+xml")?"application/xml":""}s(qAt,"minimizeSupportedMimeType");h5e.exports={dataURLProcessor:QAt,URLSerializer:l5e,collectASequenceOfCodePoints:bN,collectASequenceOfCodePointsFast:sx,stringPercentDecode:u5e,parseMIMEType:JK,collectAnHTTPQuotedString:f5e,serializeAMimeType:LAt,removeChars:XK,removeHTTPWhitespace:xN,minimizeSupportedMimeType:qAt,HTTP_TOKEN_CODEPOINTS:_4,isomorphicDecode:d5e}});var Is=T((bdn,A5e)=>{"use strict";d();var{types:Nf,inspect:HAt}=require("node:util"),{markAsUncloneable:GAt}=require("node:worker_threads"),{toUSVString:VAt}=yr(),Me={};Me.converters={};Me.util={};Me.errors={};Me.errors.exception=function(t){return new TypeError(`${t.header}: ${t.message}`)};Me.errors.conversionFailed=function(t){let e=t.types.length===1?"":" one of",r=`${t.argument} could not be converted to${e}: ${t.types.join(", ")}.`;return Me.errors.exception({header:t.prefix,message:r})};Me.errors.invalidArgument=function(t){return Me.errors.exception({header:t.prefix,message:`"${t.value}" is an invalid ${t.type}.`})};Me.brandCheck=function(t,e,r){if(r?.strict!==!1){if(!(t instanceof e)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(t?.[Symbol.toStringTag]!==e.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};Me.argumentLengthCheck=function({length:t},e,r){if(t<e)throw Me.errors.exception({message:`${e} argument${e!==1?"s":""} required, but${t?" only":""} ${t} found.`,header:r})};Me.illegalConstructor=function(){throw Me.errors.exception({header:"TypeError",message:"Illegal constructor"})};Me.util.Type=function(t){switch(typeof t){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return t===null?"Null":"Object"}};Me.util.markAsUncloneable=GAt||(()=>{});Me.util.ConvertToInt=function(t,e,r,n){let o,a;e===64?(o=Math.pow(2,53)-1,r==="unsigned"?a=0:a=Math.pow(-2,53)+1):r==="unsigned"?(a=0,o=Math.pow(2,e)-1):(a=Math.pow(-2,e)-1,o=Math.pow(2,e-1)-1);let c=Number(t);if(c===0&&(c=0),n?.enforceRange===!0){if(Number.isNaN(c)||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)throw Me.errors.exception({header:"Integer conversion",message:`Could not convert ${Me.util.Stringify(t)} to an integer.`});if(c=Me.util.IntegerPart(c),c<a||c>o)throw Me.errors.exception({header:"Integer conversion",message:`Value must be between ${a}-${o}, got ${c}.`});return c}return!Number.isNaN(c)&&n?.clamp===!0?(c=Math.min(Math.max(c,a),o),Math.floor(c)%2===0?c=Math.floor(c):c=Math.ceil(c),c):Number.isNaN(c)||c===0&&Object.is(0,c)||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY?0:(c=Me.util.IntegerPart(c),c=c%Math.pow(2,e),r==="signed"&&c>=Math.pow(2,e)-1?c-Math.pow(2,e):c)};Me.util.IntegerPart=function(t){let e=Math.floor(Math.abs(t));return t<0?-1*e:e};Me.util.Stringify=function(t){switch(Me.util.Type(t)){case"Symbol":return`Symbol(${t.description})`;case"Object":return HAt(t);case"String":return`"${t}"`;default:return`${t}`}};Me.sequenceConverter=function(t){return(e,r,n,o)=>{if(Me.util.Type(e)!=="Object")throw Me.errors.exception({header:r,message:`${n} (${Me.util.Stringify(e)}) is not iterable.`});let a=typeof o=="function"?o():e?.[Symbol.iterator]?.(),c=[],l=0;if(a===void 0||typeof a.next!="function")throw Me.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:u,value:f}=a.next();if(u)break;c.push(t(f,r,`${n}[${l++}]`))}return c}};Me.recordConverter=function(t,e){return(r,n,o)=>{if(Me.util.Type(r)!=="Object")throw Me.errors.exception({header:n,message:`${o} ("${Me.util.Type(r)}") is not an Object.`});let a={};if(!Nf.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let u of l){let f=t(u,n,o),h=e(r[u],n,o);a[f]=h}return a}let c=Reflect.ownKeys(r);for(let l of c)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let f=t(l,n,o),h=e(r[l],n,o);a[f]=h}return a}};Me.interfaceConverter=function(t){return(e,r,n,o)=>{if(o?.strict!==!1&&!(e instanceof t))throw Me.errors.exception({header:r,message:`Expected ${n} ("${Me.util.Stringify(e)}") to be an instance of ${t.name}.`});return e}};Me.dictionaryConverter=function(t){return(e,r,n)=>{let o=Me.util.Type(e),a={};if(o==="Null"||o==="Undefined")return a;if(o!=="Object")throw Me.errors.exception({header:r,message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let c of t){let{key:l,defaultValue:u,required:f,converter:h}=c;if(f===!0&&!Object.hasOwn(e,l))throw Me.errors.exception({header:r,message:`Missing required key "${l}".`});let A=e[l],p=Object.hasOwn(c,"defaultValue");if(p&&A!==null&&(A??=u()),f||p||A!==void 0){if(A=h(A,r,`${n}.${l}`),c.allowedValues&&!c.allowedValues.includes(A))throw Me.errors.exception({header:r,message:`${A} is not an accepted type. Expected one of ${c.allowedValues.join(", ")}.`});a[l]=A}}return a}};Me.nullableConverter=function(t){return(e,r,n)=>e===null?e:t(e,r,n)};Me.converters.DOMString=function(t,e,r,n){if(t===null&&n?.legacyNullToEmptyString)return"";if(typeof t=="symbol")throw Me.errors.exception({header:e,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(t)};Me.converters.ByteString=function(t,e,r){let n=Me.converters.DOMString(t,e,r);for(let o=0;o<n.length;o++)if(n.charCodeAt(o)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${o} has a value of ${n.charCodeAt(o)} which is greater than 255.`);return n};Me.converters.USVString=VAt;Me.converters.boolean=function(t){return!!t};Me.converters.any=function(t){return t};Me.converters["long long"]=function(t,e,r){return Me.util.ConvertToInt(t,64,"signed",void 0,e,r)};Me.converters["unsigned long long"]=function(t,e,r){return Me.util.ConvertToInt(t,64,"unsigned",void 0,e,r)};Me.converters["unsigned long"]=function(t,e,r){return Me.util.ConvertToInt(t,32,"unsigned",void 0,e,r)};Me.converters["unsigned short"]=function(t,e,r,n){return Me.util.ConvertToInt(t,16,"unsigned",n,e,r)};Me.converters.ArrayBuffer=function(t,e,r,n){if(Me.util.Type(t)!=="Object"||!Nf.isAnyArrayBuffer(t))throw Me.errors.conversionFailed({prefix:e,argument:`${r} ("${Me.util.Stringify(t)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&Nf.isSharedArrayBuffer(t))throw Me.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.resizable||t.growable)throw Me.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};Me.converters.TypedArray=function(t,e,r,n,o){if(Me.util.Type(t)!=="Object"||!Nf.isTypedArray(t)||t.constructor.name!==e.name)throw Me.errors.conversionFailed({prefix:r,argument:`${n} ("${Me.util.Stringify(t)}")`,types:[e.name]});if(o?.allowShared===!1&&Nf.isSharedArrayBuffer(t.buffer))throw Me.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw Me.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};Me.converters.DataView=function(t,e,r,n){if(Me.util.Type(t)!=="Object"||!Nf.isDataView(t))throw Me.errors.exception({header:e,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&Nf.isSharedArrayBuffer(t.buffer))throw Me.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw Me.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};Me.converters.BufferSource=function(t,e,r,n){if(Nf.isAnyArrayBuffer(t))return Me.converters.ArrayBuffer(t,e,r,{...n,allowShared:!1});if(Nf.isTypedArray(t))return Me.converters.TypedArray(t,t.constructor,e,r,{...n,allowShared:!1});if(Nf.isDataView(t))return Me.converters.DataView(t,e,r,{...n,allowShared:!1});throw Me.errors.conversionFailed({prefix:e,argument:`${r} ("${Me.util.Stringify(t)}")`,types:["BufferSource"]})};Me.converters["sequence<ByteString>"]=Me.sequenceConverter(Me.converters.ByteString);Me.converters["sequence<sequence<ByteString>>"]=Me.sequenceConverter(Me.converters["sequence<ByteString>"]);Me.converters["record<ByteString, ByteString>"]=Me.recordConverter(Me.converters.ByteString,Me.converters.ByteString);A5e.exports={webidl:Me}});var n0=T((Tdn,S5e)=>{"use strict";d();var{Transform:WAt}=require("node:stream"),p5e=require("node:zlib"),{redirectStatusSet:YAt,referrerPolicySet:jAt,badPortsSet:$At}=b4(),{getGlobalOrigin:m5e}=KK(),{collectASequenceOfCodePoints:yC,collectAnHTTPQuotedString:zAt,removeChars:KAt,parseMIMEType:JAt}=oc(),{performance:XAt}=require("node:perf_hooks"),{isBlobLike:ZAt,ReadableStreamFrom:ept,isValidHTTPToken:g5e,normalizedMethodRecordsBase:tpt}=yr(),EC=require("node:assert"),{isUint8Array:rpt}=require("node:util/types"),{webidl:T4}=Is(),C5e=[],TN;try{TN=require("node:crypto");let t=["sha256","sha384","sha512"];C5e=TN.getHashes().filter(e=>t.includes(e))}catch{}function y5e(t){let e=t.urlList,r=e.length;return r===0?null:e[r-1].toString()}s(y5e,"responseURL");function npt(t,e){if(!YAt.has(t.status))return null;let r=t.headersList.get("location",!0);return r!==null&&I5e(r)&&(E5e(r)||(r=ipt(r)),r=new URL(r,y5e(t))),r&&!r.hash&&(r.hash=e),r}s(npt,"responseLocationURL");function E5e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>126||r<32)return!1}return!0}s(E5e,"isValidEncodedURL");function ipt(t){return Buffer.from(t,"binary").toString("utf8")}s(ipt,"normalizeBinaryStringToUtf8");function S4(t){return t.urlList[t.urlList.length-1]}s(S4,"requestCurrentURL");function opt(t){let e=S4(t);return T5e(e)&&$At.has(e.port)?"blocked":"allowed"}s(opt,"requestBadPort");function spt(t){return t instanceof Error||t?.constructor?.name==="Error"||t?.constructor?.name==="DOMException"}s(spt,"isErrorLike");function apt(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}s(apt,"isValidReasonPhrase");var cpt=g5e;function I5e(t){return(t[0]==="	"||t[0]===" "||t[t.length-1]==="	"||t[t.length-1]===" "||t.includes(`
`)||t.includes("\r")||t.includes("\0"))===!1}s(I5e,"isValidHeaderValue");function lpt(t,e){let{headersList:r}=e,n=(r.get("referrer-policy",!0)??"").split(","),o="";if(n.length>0)for(let a=n.length;a!==0;a--){let c=n[a-1].trim();if(jAt.has(c)){o=c;break}}o!==""&&(t.referrerPolicy=o)}s(lpt,"setRequestReferrerPolicyOnRedirect");function upt(){return"allowed"}s(upt,"crossOriginResourcePolicyCheck");function fpt(){return"success"}s(fpt,"corsCheck");function dpt(){return"success"}s(dpt,"TAOCheck");function hpt(t){let e=null;e=t.mode,t.headersList.set("sec-fetch-mode",e,!0)}s(hpt,"appendFetchMetadata");function Apt(t){let e=t.origin;if(!(e==="client"||e===void 0)){if(t.responseTainting==="cors"||t.mode==="websocket")t.headersList.append("origin",e,!0);else if(t.method!=="GET"&&t.method!=="HEAD"){switch(t.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":t.origin&&eJ(t.origin)&&!eJ(S4(t))&&(e=null);break;case"same-origin":wN(t,S4(t))||(e=null);break;default:}t.headersList.append("origin",e,!0)}}}s(Apt,"appendRequestOriginHeader");function ax(t,e){return t}s(ax,"coarsenTime");function ppt(t,e,r){return!t?.startTime||t.startTime<e?{domainLookupStartTime:e,domainLookupEndTime:e,connectionStartTime:e,connectionEndTime:e,secureConnectionStartTime:e,ALPNNegotiatedProtocol:t?.ALPNNegotiatedProtocol}:{domainLookupStartTime:ax(t.domainLookupStartTime,r),domainLookupEndTime:ax(t.domainLookupEndTime,r),connectionStartTime:ax(t.connectionStartTime,r),connectionEndTime:ax(t.connectionEndTime,r),secureConnectionStartTime:ax(t.secureConnectionStartTime,r),ALPNNegotiatedProtocol:t.ALPNNegotiatedProtocol}}s(ppt,"clampAndCoarsenConnectionTimingInfo");function mpt(t){return ax(XAt.now(),t)}s(mpt,"coarsenedSharedCurrentTime");function gpt(t){return{startTime:t.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:t.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}s(gpt,"createOpaqueTimingInfo");function x5e(){return{referrerPolicy:"strict-origin-when-cross-origin"}}s(x5e,"makePolicyContainer");function Cpt(t){return{referrerPolicy:t.referrerPolicy}}s(Cpt,"clonePolicyContainer");function ypt(t){let e=t.referrerPolicy;EC(e);let r=null;if(t.referrer==="client"){let l=m5e();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else t.referrer instanceof URL&&(r=t.referrer);let n=ZK(r),o=ZK(r,!0);n.toString().length>4096&&(n=o);let a=wN(t,n),c=w4(n)&&!w4(t.url);switch(e){case"origin":return o??ZK(r,!0);case"unsafe-url":return n;case"same-origin":return a?o:"no-referrer";case"origin-when-cross-origin":return a?n:o;case"strict-origin-when-cross-origin":{let l=S4(t);return wN(n,l)?n:w4(n)&&!w4(l)?"no-referrer":o}case"strict-origin":case"no-referrer-when-downgrade":default:return c?"no-referrer":o}}s(ypt,"determineRequestsReferrer");function ZK(t,e){return EC(t instanceof URL),t=new URL(t),t.protocol==="file:"||t.protocol==="about:"||t.protocol==="blank:"?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}s(ZK,"stripURLForReferrer");function w4(t){if(!(t instanceof URL))return!1;if(t.href==="about:blank"||t.href==="about:srcdoc"||t.protocol==="data:"||t.protocol==="file:")return!0;return e(t.origin);function e(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}s(w4,"isURLPotentiallyTrustworthy");function Ept(t,e){if(TN===void 0)return!0;let r=v5e(e);if(r==="no metadata"||r.length===0)return!0;let n=xpt(r),o=vpt(r,n);for(let a of o){let c=a.algo,l=a.hash,u=TN.createHash(c).update(t).digest("base64");if(u[u.length-1]==="="&&(u[u.length-2]==="="?u=u.slice(0,-2):u=u.slice(0,-1)),bpt(u,l))return!0}return!1}s(Ept,"bytesMatch");var Ipt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function v5e(t){let e=[],r=!0;for(let n of t.split(" ")){r=!1;let o=Ipt.exec(n);if(o===null||o.groups===void 0||o.groups.algo===void 0)continue;let a=o.groups.algo.toLowerCase();C5e.includes(a)&&e.push(o.groups)}return r===!0?"no metadata":e}s(v5e,"parseMetadata");function xpt(t){let e=t[0].algo;if(e[3]==="5")return e;for(let r=1;r<t.length;++r){let n=t[r];if(n.algo[3]==="5"){e="sha512";break}else{if(e[3]==="3")continue;n.algo[3]==="3"&&(e="sha384")}}return e}s(xpt,"getStrongestMetadata");function vpt(t,e){if(t.length===1)return t;let r=0;for(let n=0;n<t.length;++n)t[n].algo===e&&(t[r++]=t[n]);return t.length=r,t}s(vpt,"filterMetadataListByAlgorithm");function bpt(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r]){if(t[r]==="+"&&e[r]==="-"||t[r]==="/"&&e[r]==="_")continue;return!1}return!0}s(bpt,"compareBase64Mixed");function _pt(t){}s(_pt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function wN(t,e){return t.origin===e.origin&&t.origin==="null"||t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port}s(wN,"sameOrigin");function Tpt(){let t,e;return{promise:new Promise((n,o)=>{t=n,e=o}),resolve:t,reject:e}}s(Tpt,"createDeferredPromise");function wpt(t){return t.controller.state==="aborted"}s(wpt,"isAborted");function Spt(t){return t.controller.state==="aborted"||t.controller.state==="terminated"}s(Spt,"isCancelled");function Bpt(t){return tpt[t.toLowerCase()]??t}s(Bpt,"normalizeMethod");function Rpt(t){let e=JSON.stringify(t);if(e===void 0)throw new TypeError("Value is not JSON serializable");return EC(typeof e=="string"),e}s(Rpt,"serializeJavascriptValueToJSONString");var kpt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function b5e(t,e,r=0,n=1){class o{static{s(this,"FastIterableIterator")}#e;#t;#i;constructor(c,l){this.#e=c,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${t} Iterator.`);let c=this.#i,l=this.#e[e],u=l.length;if(c>=u)return{value:void 0,done:!0};let{[r]:f,[n]:h}=l[c];this.#i=c+1;let A;switch(this.#t){case"key":A=f;break;case"value":A=h;break;case"key+value":A=[f,h];break}return{value:A,done:!1}}}return delete o.prototype.constructor,Object.setPrototypeOf(o.prototype,kpt),Object.defineProperties(o.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${t} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(a,c){return new o(a,c)}}s(b5e,"createIterator");function Dpt(t,e,r,n=0,o=1){let a=b5e(t,r,n,o),c={keys:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return T4.brandCheck(this,e),a(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return T4.brandCheck(this,e),a(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return T4.brandCheck(this,e),a(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:s(function(u,f=globalThis){if(T4.brandCheck(this,e),T4.argumentLengthCheck(arguments,1,`${t}.forEach`),typeof u!="function")throw new TypeError(`Failed to execute 'forEach' on '${t}': parameter 1 is not of type 'Function'.`);for(let{0:h,1:A}of a(this,"key+value"))u.call(f,A,h,this)},"forEach")}};return Object.defineProperties(e.prototype,{...c,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:c.entries.value}})}s(Dpt,"iteratorMixin");async function Npt(t,e,r){let n=e,o=r,a;try{a=t.stream.getReader()}catch(c){o(c);return}try{n(await _5e(a))}catch(c){o(c)}}s(Npt,"fullyReadBody");function Qpt(t){return t instanceof ReadableStream||t[Symbol.toStringTag]==="ReadableStream"&&typeof t.tee=="function"}s(Qpt,"isReadableStreamLike");function Ppt(t){try{t.close(),t.byobRequest?.respond(0)}catch(e){if(!e.message.includes("Controller is already closed")&&!e.message.includes("ReadableStream is already closed"))throw e}}s(Ppt,"readableStreamClose");var Fpt=/[^\x00-\xFF]/;function _N(t){return EC(!Fpt.test(t)),t}s(_N,"isomorphicEncode");async function _5e(t){let e=[],r=0;for(;;){let{done:n,value:o}=await t.read();if(n)return Buffer.concat(e,r);if(!rpt(o))throw new TypeError("Received non-Uint8Array chunk");e.push(o),r+=o.length}}s(_5e,"readAllBytes");function Lpt(t){EC("protocol"in t);let e=t.protocol;return e==="about:"||e==="blob:"||e==="data:"}s(Lpt,"urlIsLocal");function eJ(t){return typeof t=="string"&&t[5]===":"&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&t[4]==="s"||t.protocol==="https:"}s(eJ,"urlHasHttpsScheme");function T5e(t){EC("protocol"in t);let e=t.protocol;return e==="http:"||e==="https:"}s(T5e,"urlIsHttpHttpsScheme");function Mpt(t,e){let r=t;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(e&&yC(u=>u==="	"||u===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,e&&yC(u=>u==="	"||u===" ",r,n);let o=yC(u=>{let f=u.charCodeAt(0);return f>=48&&f<=57},r,n),a=o.length?Number(o):null;if(e&&yC(u=>u==="	"||u===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,e&&yC(u=>u==="	"||u===" ",r,n);let c=yC(u=>{let f=u.charCodeAt(0);return f>=48&&f<=57},r,n),l=c.length?Number(c):null;return n.position<r.length||l===null&&a===null||a>l?"failure":{rangeStartValue:a,rangeEndValue:l}}s(Mpt,"simpleRangeHeaderValue");function Opt(t,e,r){let n="bytes ";return n+=_N(`${t}`),n+="-",n+=_N(`${e}`),n+="/",n+=_N(`${r}`),n}s(Opt,"buildContentRange");var tJ=class extends WAt{static{s(this,"InflateStream")}#e;constructor(e){super(),this.#e=e}_transform(e,r,n){if(!this._inflateStream){if(e.length===0){n();return}this._inflateStream=(e[0]&15)===8?p5e.createInflate(this.#e):p5e.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",o=>this.destroy(o))}this._inflateStream.write(e,r,n)}_final(e){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),e()}};function Upt(t){return new tJ(t)}s(Upt,"createInflate");function qpt(t){let e=null,r=null,n=null,o=w5e("content-type",t);if(o===null)return"failure";for(let a of o){let c=JAt(a);c==="failure"||c.essence==="*/*"||(n=c,n.essence!==r?(e=null,n.parameters.has("charset")&&(e=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&e!==null&&n.parameters.set("charset",e))}return n??"failure"}s(qpt,"extractMimeType");function Hpt(t){let e=t,r={position:0},n=[],o="";for(;r.position<e.length;){if(o+=yC(a=>a!=='"'&&a!==",",e,r),r.position<e.length)if(e.charCodeAt(r.position)===34){if(o+=zAt(e,r),r.position<e.length)continue}else EC(e.charCodeAt(r.position)===44),r.position++;o=KAt(o,!0,!0,a=>a===9||a===32),n.push(o),o=""}return n}s(Hpt,"gettingDecodingSplitting");function w5e(t,e){let r=e.get(t,!0);return r===null?null:Hpt(r)}s(w5e,"getDecodeSplit");var Gpt=new TextDecoder;function Vpt(t){return t.length===0?"":(t[0]===239&&t[1]===187&&t[2]===191&&(t=t.subarray(3)),Gpt.decode(t))}s(Vpt,"utf8DecodeBytes");var rJ=class{static{s(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return m5e()}get origin(){return this.baseUrl?.origin}policyContainer=x5e()},nJ=class{static{s(this,"EnvironmentSettingsObject")}settingsObject=new rJ},Wpt=new nJ;S5e.exports={isAborted:wpt,isCancelled:Spt,isValidEncodedURL:E5e,createDeferredPromise:Tpt,ReadableStreamFrom:ept,tryUpgradeRequestToAPotentiallyTrustworthyURL:_pt,clampAndCoarsenConnectionTimingInfo:ppt,coarsenedSharedCurrentTime:mpt,determineRequestsReferrer:ypt,makePolicyContainer:x5e,clonePolicyContainer:Cpt,appendFetchMetadata:hpt,appendRequestOriginHeader:Apt,TAOCheck:dpt,corsCheck:fpt,crossOriginResourcePolicyCheck:upt,createOpaqueTimingInfo:gpt,setRequestReferrerPolicyOnRedirect:lpt,isValidHTTPToken:g5e,requestBadPort:opt,requestCurrentURL:S4,responseURL:y5e,responseLocationURL:npt,isBlobLike:ZAt,isURLPotentiallyTrustworthy:w4,isValidReasonPhrase:apt,sameOrigin:wN,normalizeMethod:Bpt,serializeJavascriptValueToJSONString:Rpt,iteratorMixin:Dpt,createIterator:b5e,isValidHeaderName:cpt,isValidHeaderValue:I5e,isErrorLike:spt,fullyReadBody:Npt,bytesMatch:Ept,isReadableStreamLike:Qpt,readableStreamClose:Ppt,isomorphicEncode:_N,urlIsLocal:Lpt,urlHasHttpsScheme:eJ,urlIsHttpHttpsScheme:T5e,readAllBytes:_5e,simpleRangeHeaderValue:Mpt,buildContentRange:Opt,parseMetadata:v5e,createInflate:Upt,extractMimeType:qpt,getDecodeSplit:w5e,utf8DecodeBytes:Vpt,environmentSettingsObject:Wpt}});var zp=T((Bdn,B5e)=>{"use strict";d();B5e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var oJ=T((kdn,R5e)=>{"use strict";d();var{Blob:Ypt,File:jpt}=require("node:buffer"),{kState:_h}=zp(),{webidl:Qf}=Is(),iJ=class t{static{s(this,"FileLike")}constructor(e,r,n={}){let o=r,a=n.type,c=n.lastModified??Date.now();this[_h]={blobLike:e,name:o,type:a,lastModified:c}}stream(...e){return Qf.brandCheck(this,t),this[_h].blobLike.stream(...e)}arrayBuffer(...e){return Qf.brandCheck(this,t),this[_h].blobLike.arrayBuffer(...e)}slice(...e){return Qf.brandCheck(this,t),this[_h].blobLike.slice(...e)}text(...e){return Qf.brandCheck(this,t),this[_h].blobLike.text(...e)}get size(){return Qf.brandCheck(this,t),this[_h].blobLike.size}get type(){return Qf.brandCheck(this,t),this[_h].blobLike.type}get name(){return Qf.brandCheck(this,t),this[_h].name}get lastModified(){return Qf.brandCheck(this,t),this[_h].lastModified}get[Symbol.toStringTag](){return"File"}};Qf.converters.Blob=Qf.interfaceConverter(Ypt);function $pt(t){return t instanceof jpt||t&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&t[Symbol.toStringTag]==="File"}s($pt,"isFileLike");R5e.exports={FileLike:iJ,isFileLike:$pt}});var R4=T((Qdn,P5e)=>{"use strict";d();var{isBlobLike:SN,iteratorMixin:zpt}=n0(),{kState:Ca}=zp(),{kEnumerableProperty:cx}=yr(),{FileLike:k5e,isFileLike:Kpt}=oJ(),{webidl:Vn}=Is(),{File:Q5e}=require("node:buffer"),D5e=require("node:util"),N5e=globalThis.File??Q5e,B4=class t{static{s(this,"FormData")}constructor(e){if(Vn.util.markAsUncloneable(this),e!==void 0)throw Vn.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[Ca]=[]}append(e,r,n=void 0){Vn.brandCheck(this,t);let o="FormData.append";if(Vn.argumentLengthCheck(arguments,2,o),arguments.length===3&&!SN(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=Vn.converters.USVString(e,o,"name"),r=SN(r)?Vn.converters.Blob(r,o,"value",{strict:!1}):Vn.converters.USVString(r,o,"value"),n=arguments.length===3?Vn.converters.USVString(n,o,"filename"):void 0;let a=sJ(e,r,n);this[Ca].push(a)}delete(e){Vn.brandCheck(this,t);let r="FormData.delete";Vn.argumentLengthCheck(arguments,1,r),e=Vn.converters.USVString(e,r,"name"),this[Ca]=this[Ca].filter(n=>n.name!==e)}get(e){Vn.brandCheck(this,t);let r="FormData.get";Vn.argumentLengthCheck(arguments,1,r),e=Vn.converters.USVString(e,r,"name");let n=this[Ca].findIndex(o=>o.name===e);return n===-1?null:this[Ca][n].value}getAll(e){Vn.brandCheck(this,t);let r="FormData.getAll";return Vn.argumentLengthCheck(arguments,1,r),e=Vn.converters.USVString(e,r,"name"),this[Ca].filter(n=>n.name===e).map(n=>n.value)}has(e){Vn.brandCheck(this,t);let r="FormData.has";return Vn.argumentLengthCheck(arguments,1,r),e=Vn.converters.USVString(e,r,"name"),this[Ca].findIndex(n=>n.name===e)!==-1}set(e,r,n=void 0){Vn.brandCheck(this,t);let o="FormData.set";if(Vn.argumentLengthCheck(arguments,2,o),arguments.length===3&&!SN(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=Vn.converters.USVString(e,o,"name"),r=SN(r)?Vn.converters.Blob(r,o,"name",{strict:!1}):Vn.converters.USVString(r,o,"name"),n=arguments.length===3?Vn.converters.USVString(n,o,"name"):void 0;let a=sJ(e,r,n),c=this[Ca].findIndex(l=>l.name===e);c!==-1?this[Ca]=[...this[Ca].slice(0,c),a,...this[Ca].slice(c+1).filter(l=>l.name!==e)]:this[Ca].push(a)}[D5e.inspect.custom](e,r){let n=this[Ca].reduce((a,c)=>(a[c.name]?Array.isArray(a[c.name])?a[c.name].push(c.value):a[c.name]=[a[c.name],c.value]:a[c.name]=c.value,a),{__proto__:null});r.depth??=e,r.colors??=!0;let o=D5e.formatWithOptions(r,n);return`FormData ${o.slice(o.indexOf("]")+2)}`}};zpt("FormData",B4,Ca,"name","value");Object.defineProperties(B4.prototype,{append:cx,delete:cx,get:cx,getAll:cx,has:cx,set:cx,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function sJ(t,e,r){if(typeof e!="string"){if(Kpt(e)||(e=e instanceof Blob?new N5e([e],"blob",{type:e.type}):new k5e(e,"blob",{type:e.type})),r!==void 0){let n={type:e.type,lastModified:e.lastModified};e=e instanceof Q5e?new N5e([e],r,n):new k5e(e,r,n)}}return{name:t,value:e}}s(sJ,"makeEntry");P5e.exports={FormData:B4,makeEntry:sJ}});var q5e=T((Ldn,U5e)=>{"use strict";d();var{isUSVString:F5e,bufferToLowerCasedHeaderName:Jpt}=yr(),{utf8DecodeBytes:Xpt}=n0(),{HTTP_TOKEN_CODEPOINTS:Zpt,isomorphicDecode:L5e}=oc(),{isFileLike:emt}=oJ(),{makeEntry:tmt}=R4(),BN=require("node:assert"),{File:rmt}=require("node:buffer"),nmt=globalThis.File??rmt,imt=Buffer.from('form-data; name="'),M5e=Buffer.from("; filename"),omt=Buffer.from("--"),smt=Buffer.from(`--\r
`);function amt(t){for(let e=0;e<t.length;++e)if((t.charCodeAt(e)&-128)!==0)return!1;return!0}s(amt,"isAsciiString");function cmt(t){let e=t.length;if(e<27||e>70)return!1;for(let r=0;r<e;++r){let n=t.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}s(cmt,"validateBoundary");function lmt(t,e){BN(e!=="failure"&&e.essence==="multipart/form-data");let r=e.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),o=[],a={position:0};for(;t[a.position]===13&&t[a.position+1]===10;)a.position+=2;let c=t.length;for(;t[c-1]===10&&t[c-2]===13;)c-=2;for(c!==t.length&&(t=t.subarray(0,c));;){if(t.subarray(a.position,a.position+n.length).equals(n))a.position+=n.length;else return"failure";if(a.position===t.length-2&&RN(t,omt,a)||a.position===t.length-4&&RN(t,smt,a))return o;if(t[a.position]!==13||t[a.position+1]!==10)return"failure";a.position+=2;let l=umt(t,a);if(l==="failure")return"failure";let{name:u,filename:f,contentType:h,encoding:A}=l;a.position+=2;let p;{let g=t.indexOf(n.subarray(2),a.position);if(g===-1)return"failure";p=t.subarray(a.position,g-4),a.position+=p.length,A==="base64"&&(p=Buffer.from(p.toString(),"base64"))}if(t[a.position]!==13||t[a.position+1]!==10)return"failure";a.position+=2;let m;f!==null?(h??="text/plain",amt(h)||(h=""),m=new nmt([p],f,{type:h})):m=Xpt(Buffer.from(p)),BN(F5e(u)),BN(typeof m=="string"&&F5e(m)||emt(m)),o.push(tmt(u,m,f))}}s(lmt,"multipartFormDataParser");function umt(t,e){let r=null,n=null,o=null,a=null;for(;;){if(t[e.position]===13&&t[e.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:o,encoding:a};let c=lx(l=>l!==10&&l!==13&&l!==58,t,e);if(c=aJ(c,!0,!0,l=>l===9||l===32),!Zpt.test(c.toString())||t[e.position]!==58)return"failure";switch(e.position++,lx(l=>l===32||l===9,t,e),Jpt(c)){case"content-disposition":{if(r=n=null,!RN(t,imt,e)||(e.position+=17,r=O5e(t,e),r===null))return"failure";if(RN(t,M5e,e)){let l=e.position+M5e.length;if(t[l]===42&&(e.position+=1,l+=1),t[l]!==61||t[l+1]!==34||(e.position+=12,n=O5e(t,e),n===null))return"failure"}break}case"content-type":{let l=lx(u=>u!==10&&u!==13,t,e);l=aJ(l,!1,!0,u=>u===9||u===32),o=L5e(l);break}case"content-transfer-encoding":{let l=lx(u=>u!==10&&u!==13,t,e);l=aJ(l,!1,!0,u=>u===9||u===32),a=L5e(l);break}default:lx(l=>l!==10&&l!==13,t,e)}if(t[e.position]!==13&&t[e.position+1]!==10)return"failure";e.position+=2}}s(umt,"parseMultipartFormDataHeaders");function O5e(t,e){BN(t[e.position-1]===34);let r=lx(n=>n!==10&&n!==13&&n!==34,t,e);return t[e.position]!==34?null:(e.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}s(O5e,"parseMultipartFormDataName");function lx(t,e,r){let n=r.position;for(;n<e.length&&t(e[n]);)++n;return e.subarray(r.position,r.position=n)}s(lx,"collectASequenceOfBytes");function aJ(t,e,r,n){let o=0,a=t.length-1;if(e)for(;o<t.length&&n(t[o]);)o++;if(r)for(;a>0&&n(t[a]);)a--;return o===0&&a===t.length-1?t:t.subarray(o,a+1)}s(aJ,"removeChars");function RN(t,e,r){if(t.length<e.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[r.position+n])return!1;return!0}s(RN,"bufferStartsWith");U5e.exports={multipartFormDataParser:lmt,validateBoundary:cmt}});var dx=T((Udn,J5e)=>{"use strict";d();var k4=yr(),{ReadableStreamFrom:fmt,isBlobLike:H5e,isReadableStreamLike:dmt,readableStreamClose:hmt,createDeferredPromise:Amt,fullyReadBody:pmt,extractMimeType:mmt,utf8DecodeBytes:W5e}=n0(),{FormData:G5e}=R4(),{kState:fx}=zp(),{webidl:gmt}=Is(),{Blob:Cmt}=require("node:buffer"),cJ=require("node:assert"),{isErrored:Y5e,isDisturbed:ymt}=require("node:stream"),{isArrayBuffer:Emt}=require("node:util/types"),{serializeAMimeType:Imt}=oc(),{multipartFormDataParser:xmt}=q5e(),lJ;try{let t=require("node:crypto");lJ=s(e=>t.randomInt(0,e),"random")}catch{lJ=s(t=>Math.floor(Math.random(t)),"random")}var kN=new TextEncoder;function vmt(){}s(vmt,"noop");var j5e=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,$5e;j5e&&($5e=new FinalizationRegistry(t=>{let e=t.deref();e&&!e.locked&&!ymt(e)&&!Y5e(e)&&e.cancel("Response object has been garbage collected").catch(vmt)}));function z5e(t,e=!1){let r=null;t instanceof ReadableStream?r=t:H5e(t)?r=t.stream():r=new ReadableStream({async pull(u){let f=typeof o=="string"?kN.encode(o):o;f.byteLength&&u.enqueue(f),queueMicrotask(()=>hmt(u))},start(){},type:"bytes"}),cJ(dmt(r));let n=null,o=null,a=null,c=null;if(typeof t=="string")o=t,c="text/plain;charset=UTF-8";else if(t instanceof URLSearchParams)o=t.toString(),c="application/x-www-form-urlencoded;charset=UTF-8";else if(Emt(t))o=new Uint8Array(t.slice());else if(ArrayBuffer.isView(t))o=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));else if(k4.isFormDataLike(t)){let u=`----formdata-undici-0${`${lJ(1e11)}`.padStart(11,"0")}`,f=`--${u}\r
Content-Disposition: form-data`;let h=s(E=>E.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),A=s(E=>E.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),p=[],m=new Uint8Array([13,10]);a=0;let g=!1;for(let[E,I]of t)if(typeof I=="string"){let x=kN.encode(f+`; name="${h(A(E))}"\r
\r
${A(I)}\r
`);p.push(x),a+=x.byteLength}else{let x=kN.encode(`${f}; name="${h(A(E))}"`+(I.name?`; filename="${h(I.name)}"`:"")+`\r
Content-Type: ${I.type||"application/octet-stream"}\r
\r
`);p.push(x,I,m),typeof I.size=="number"?a+=x.byteLength+I.size+m.byteLength:g=!0}let y=kN.encode(`--${u}--\r
`);p.push(y),a+=y.byteLength,g&&(a=null),o=t,n=s(async function*(){for(let E of p)E.stream?yield*E.stream():yield E},"action"),c=`multipart/form-data; boundary=${u}`}else if(H5e(t))o=t,a=t.size,t.type&&(c=t.type);else if(typeof t[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(k4.isDisturbed(t)||t.locked)throw new TypeError("Response body object should not be disturbed or locked");r=t instanceof ReadableStream?t:fmt(t)}if((typeof o=="string"||k4.isBuffer(o))&&(a=Buffer.byteLength(o)),n!=null){let u;r=new ReadableStream({async start(){u=n(t)[Symbol.asyncIterator]()},async pull(f){let{value:h,done:A}=await u.next();if(A)queueMicrotask(()=>{f.close(),f.byobRequest?.respond(0)});else if(!Y5e(r)){let p=new Uint8Array(h);p.byteLength&&f.enqueue(p)}return f.desiredSize>0},async cancel(f){await u.return()},type:"bytes"})}return[{stream:r,source:o,length:a},c]}s(z5e,"extractBody");function bmt(t,e=!1){return t instanceof ReadableStream&&(cJ(!k4.isDisturbed(t),"The body has already been consumed."),cJ(!t.locked,"The stream is locked.")),z5e(t,e)}s(bmt,"safelyExtractBody");function _mt(t,e){let[r,n]=e.stream.tee();return e.stream=r,{stream:n,length:e.length,source:e.source}}s(_mt,"cloneBody");function Tmt(t){if(t.aborted)throw new DOMException("The operation was aborted.","AbortError")}s(Tmt,"throwIfAborted");function wmt(t){return{blob(){return ux(this,r=>{let n=V5e(this);return n===null?n="":n&&(n=Imt(n)),new Cmt([r],{type:n})},t)},arrayBuffer(){return ux(this,r=>new Uint8Array(r).buffer,t)},text(){return ux(this,W5e,t)},json(){return ux(this,Bmt,t)},formData(){return ux(this,r=>{let n=V5e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let o=xmt(r,n);if(o==="failure")throw new TypeError("Failed to parse body as FormData.");let a=new G5e;return a[fx]=o,a}case"application/x-www-form-urlencoded":{let o=new URLSearchParams(r.toString()),a=new G5e;for(let[c,l]of o)a.append(c,l);return a}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},t)},bytes(){return ux(this,r=>new Uint8Array(r),t)}}}s(wmt,"bodyMixinMethods");function Smt(t){Object.assign(t.prototype,wmt(t))}s(Smt,"mixinBody");async function ux(t,e,r){if(gmt.brandCheck(t,r),K5e(t))throw new TypeError("Body is unusable: Body has already been read");Tmt(t[fx]);let n=Amt(),o=s(c=>n.reject(c),"errorSteps"),a=s(c=>{try{n.resolve(e(c))}catch(l){o(l)}},"successSteps");return t[fx].body==null?(a(Buffer.allocUnsafe(0)),n.promise):(await pmt(t[fx].body,a,o),n.promise)}s(ux,"consumeBody");function K5e(t){let e=t[fx].body;return e!=null&&(e.stream.locked||k4.isDisturbed(e.stream))}s(K5e,"bodyUnusable");function Bmt(t){return JSON.parse(W5e(t))}s(Bmt,"parseJSONFromBytes");function V5e(t){let e=t[fx].headersList,r=mmt(e);return r==="failure"?null:r}s(V5e,"bodyMimeType");J5e.exports={extractBody:z5e,safelyExtractBody:bmt,cloneBody:_mt,mixinBody:Smt,streamRegistry:$5e,hasFinalizationRegistry:j5e,bodyUnusable:K5e}});var cTe=T((Gdn,aTe)=>{"use strict";d();var Rt=require("node:assert"),$t=yr(),{channels:X5e}=Z2(),uJ=WK(),{RequestContentLengthMismatchError:IC,ResponseContentLengthMismatchError:Rmt,RequestAbortedError:iTe,HeadersTimeoutError:kmt,HeadersOverflowError:Dmt,SocketError:LN,InformationalError:hx,BodyTimeoutError:Nmt,HTTPParserError:Qmt,ResponseExceededMaxSizeError:Pmt}=un(),{kUrl:oTe,kReset:sc,kClient:AJ,kParser:Ui,kBlocking:Q4,kRunning:$s,kPending:Fmt,kSize:Z5e,kWriting:Jp,kQueue:nu,kNoRef:D4,kKeepAliveDefaultTimeout:Lmt,kHostHeader:Mmt,kPendingIdx:Omt,kRunningIdx:il,kError:ol,kPipelining:PN,kSocket:Ax,kKeepAliveTimeoutValue:MN,kMaxHeadersSize:fJ,kKeepAliveMaxTimeout:Umt,kKeepAliveTimeoutThreshold:qmt,kHeadersTimeout:Hmt,kBodyTimeout:Gmt,kStrictContentLength:pJ,kMaxRequests:eTe,kCounter:Vmt,kMaxResponseSize:Wmt,kOnError:Ymt,kResume:Kp,kHTTPContext:sTe}=gi(),Pf=$_e(),jmt=Buffer.alloc(0),DN=Buffer[Symbol.species],NN=$t.addListener,$mt=$t.removeAllListeners,dJ;async function zmt(){let t=process.env.JEST_WORKER_ID?$K():void 0,e;try{e=await WebAssembly.compile(J_e())}catch{e=await WebAssembly.compile(t||$K())}return await WebAssembly.instantiate(e,{env:{wasm_on_url:s((r,n,o)=>0,"wasm_on_url"),wasm_on_status:s((r,n,o)=>{Rt(Bo.ptr===r);let a=n-Lf+Ff.byteOffset;return Bo.onStatus(new DN(Ff.buffer,a,o))||0},"wasm_on_status"),wasm_on_message_begin:s(r=>(Rt(Bo.ptr===r),Bo.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:s((r,n,o)=>{Rt(Bo.ptr===r);let a=n-Lf+Ff.byteOffset;return Bo.onHeaderField(new DN(Ff.buffer,a,o))||0},"wasm_on_header_field"),wasm_on_header_value:s((r,n,o)=>{Rt(Bo.ptr===r);let a=n-Lf+Ff.byteOffset;return Bo.onHeaderValue(new DN(Ff.buffer,a,o))||0},"wasm_on_header_value"),wasm_on_headers_complete:s((r,n,o,a)=>(Rt(Bo.ptr===r),Bo.onHeadersComplete(n,!!o,!!a)||0),"wasm_on_headers_complete"),wasm_on_body:s((r,n,o)=>{Rt(Bo.ptr===r);let a=n-Lf+Ff.byteOffset;return Bo.onBody(new DN(Ff.buffer,a,o))||0},"wasm_on_body"),wasm_on_message_complete:s(r=>(Rt(Bo.ptr===r),Bo.onMessageComplete()||0),"wasm_on_message_complete")}})}s(zmt,"lazyllhttp");var hJ=null,mJ=zmt();mJ.catch();var Bo=null,Ff=null,QN=0,Lf=null,Kmt=0,N4=1,px=2|N4,FN=4|N4,gJ=8|Kmt,CJ=class{static{s(this,"Parser")}constructor(e,r,{exports:n}){Rt(Number.isFinite(e[fJ])&&e[fJ]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(Pf.TYPE.RESPONSE),this.client=e,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[fJ],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[Wmt]}setTimeout(e,r){e!==this.timeoutValue||r&N4^this.timeoutType&N4?(this.timeout&&(uJ.clearTimeout(this.timeout),this.timeout=null),e&&(r&N4?this.timeout=uJ.setFastTimeout(tTe,e,new WeakRef(this)):(this.timeout=setTimeout(tTe,e,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(Rt(this.ptr!=null),Rt(Bo==null),this.llhttp.llhttp_resume(this.ptr),Rt(this.timeoutType===FN),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||jmt),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){Rt(this.ptr!=null),Rt(Bo==null),Rt(!this.paused);let{socket:r,llhttp:n}=this;e.length>QN&&(Lf&&n.free(Lf),QN=Math.ceil(e.length/4096)*4096,Lf=n.malloc(QN)),new Uint8Array(n.memory.buffer,Lf,QN).set(e);try{let o;try{Ff=e,Bo=this,o=n.llhttp_execute(this.ptr,Lf,e.length)}catch(c){throw c}finally{Bo=null,Ff=null}let a=n.llhttp_get_error_pos(this.ptr)-Lf;if(o===Pf.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(a));else if(o===Pf.ERROR.PAUSED)this.paused=!0,r.unshift(e.slice(a));else if(o!==Pf.ERROR.OK){let c=n.llhttp_get_error_reason(this.ptr),l="";if(c){let u=new Uint8Array(n.memory.buffer,c).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,c,u).toString()+")"}throw new Qmt(l,Pf.ERROR[o],e.slice(a))}}catch(o){$t.destroy(r,o)}}destroy(){Rt(this.ptr!=null),Rt(Bo==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&uJ.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:r}=this;if(e.destroyed)return-1;let n=r[nu][r[il]];if(!n)return-1;n.onResponseStarted()}onHeaderField(e){let r=this.headers.length;(r&1)===0?this.headers.push(e):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]),this.trackHeader(e.length)}onHeaderValue(e){let r=this.headers.length;(r&1)===1?(this.headers.push(e),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]);let n=this.headers[r-2];if(n.length===10){let o=$t.bufferToLowerCasedHeaderName(n);o==="keep-alive"?this.keepAlive+=e.toString():o==="connection"&&(this.connection+=e.toString())}else n.length===14&&$t.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=e.toString());this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&$t.destroy(this.socket,new Dmt)}onUpgrade(e){let{upgrade:r,client:n,socket:o,headers:a,statusCode:c}=this;Rt(r),Rt(n[Ax]===o),Rt(!o.destroyed),Rt(!this.paused),Rt((a.length&1)===0);let l=n[nu][n[il]];Rt(l),Rt(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,o.unshift(e),o[Ui].destroy(),o[Ui]=null,o[AJ]=null,o[ol]=null,$mt(o),n[Ax]=null,n[sTe]=null,n[nu][n[il]++]=null,n.emit("disconnect",n[oTe],[n],new hx("upgrade"));try{l.onUpgrade(c,a,o)}catch(u){$t.destroy(o,u)}n[Kp]()}onHeadersComplete(e,r,n){let{client:o,socket:a,headers:c,statusText:l}=this;if(a.destroyed)return-1;let u=o[nu][o[il]];if(!u)return-1;if(Rt(!this.upgrade),Rt(this.statusCode<200),e===100)return $t.destroy(a,new LN("bad response",$t.getSocketInfo(a))),-1;if(r&&!u.upgrade)return $t.destroy(a,new LN("bad upgrade",$t.getSocketInfo(a))),-1;if(Rt(this.timeoutType===px),this.statusCode=e,this.shouldKeepAlive=n||u.method==="HEAD"&&!a[sc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let h=u.bodyTimeout!=null?u.bodyTimeout:o[Gmt];this.setTimeout(h,FN)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(u.method==="CONNECT")return Rt(o[$s]===1),this.upgrade=!0,2;if(r)return Rt(o[$s]===1),this.upgrade=!0,2;if(Rt((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&o[PN]){let h=this.keepAlive?$t.parseKeepAliveTimeout(this.keepAlive):null;if(h!=null){let A=Math.min(h-o[qmt],o[Umt]);A<=0?a[sc]=!0:o[MN]=A}else o[MN]=o[Lmt]}else a[sc]=!0;let f=u.onHeaders(e,c,this.resume,l)===!1;return u.aborted?-1:u.method==="HEAD"||e<200?1:(a[Q4]&&(a[Q4]=!1,o[Kp]()),f?Pf.ERROR.PAUSED:0)}onBody(e){let{client:r,socket:n,statusCode:o,maxResponseSize:a}=this;if(n.destroyed)return-1;let c=r[nu][r[il]];if(Rt(c),Rt(this.timeoutType===FN),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),Rt(o>=200),a>-1&&this.bytesRead+e.length>a)return $t.destroy(n,new Pmt),-1;if(this.bytesRead+=e.length,c.onData(e)===!1)return Pf.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:r,statusCode:n,upgrade:o,headers:a,contentLength:c,bytesRead:l,shouldKeepAlive:u}=this;if(r.destroyed&&(!n||u))return-1;if(o)return;Rt(n>=100),Rt((this.headers.length&1)===0);let f=e[nu][e[il]];if(Rt(f),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(f.method!=="HEAD"&&c&&l!==parseInt(c,10))return $t.destroy(r,new Rmt),-1;if(f.onComplete(a),e[nu][e[il]++]=null,r[Jp])return Rt(e[$s]===0),$t.destroy(r,new hx("reset")),Pf.ERROR.PAUSED;if(u){if(r[sc]&&e[$s]===0)return $t.destroy(r,new hx("reset")),Pf.ERROR.PAUSED;e[PN]==null||e[PN]===1?setImmediate(()=>e[Kp]()):e[Kp]()}else return $t.destroy(r,new hx("reset")),Pf.ERROR.PAUSED}}};function tTe(t){let{socket:e,timeoutType:r,client:n,paused:o}=t.deref();r===px?(!e[Jp]||e.writableNeedDrain||n[$s]>1)&&(Rt(!o,"cannot be paused while waiting for headers"),$t.destroy(e,new kmt)):r===FN?o||$t.destroy(e,new Nmt):r===gJ&&(Rt(n[$s]===0&&n[MN]),$t.destroy(e,new hx("socket idle timeout")))}s(tTe,"onParserTimeout");async function Jmt(t,e){t[Ax]=e,hJ||(hJ=await mJ,mJ=null),e[D4]=!1,e[Jp]=!1,e[sc]=!1,e[Q4]=!1,e[Ui]=new CJ(t,e,hJ),NN(e,"error",function(n){Rt(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let o=this[Ui];if(n.code==="ECONNRESET"&&o.statusCode&&!o.shouldKeepAlive){o.onMessageComplete();return}this[ol]=n,this[AJ][Ymt](n)}),NN(e,"readable",function(){let n=this[Ui];n&&n.readMore()}),NN(e,"end",function(){let n=this[Ui];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}$t.destroy(this,new LN("other side closed",$t.getSocketInfo(this)))}),NN(e,"close",function(){let n=this[AJ],o=this[Ui];o&&(!this[ol]&&o.statusCode&&!o.shouldKeepAlive&&o.onMessageComplete(),this[Ui].destroy(),this[Ui]=null);let a=this[ol]||new LN("closed",$t.getSocketInfo(this));if(n[Ax]=null,n[sTe]=null,n.destroyed){Rt(n[Fmt]===0);let c=n[nu].splice(n[il]);for(let l=0;l<c.length;l++){let u=c[l];$t.errorRequest(n,u,a)}}else if(n[$s]>0&&a.code!=="UND_ERR_INFO"){let c=n[nu][n[il]];n[nu][n[il]++]=null,$t.errorRequest(n,c,a)}n[Omt]=n[il],Rt(n[$s]===0),n.emit("disconnect",n[oTe],[n],a),n[Kp]()});let r=!1;return e.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return egt(t,...n)},resume(){Xmt(t)},destroy(n,o){r?queueMicrotask(o):e.destroy(n).on("close",o)},get destroyed(){return e.destroyed},busy(n){return!!(e[Jp]||e[sc]||e[Q4]||n&&(t[$s]>0&&!n.idempotent||t[$s]>0&&(n.upgrade||n.method==="CONNECT")||t[$s]>0&&$t.bodyLength(n.body)!==0&&($t.isStream(n.body)||$t.isAsyncIterable(n.body)||$t.isFormDataLike(n.body))))}}}s(Jmt,"connectH1");function Xmt(t){let e=t[Ax];if(e&&!e.destroyed){if(t[Z5e]===0?!e[D4]&&e.unref&&(e.unref(),e[D4]=!0):e[D4]&&e.ref&&(e.ref(),e[D4]=!1),t[Z5e]===0)e[Ui].timeoutType!==gJ&&e[Ui].setTimeout(t[MN],gJ);else if(t[$s]>0&&e[Ui].statusCode<200&&e[Ui].timeoutType!==px){let r=t[nu][t[il]],n=r.headersTimeout!=null?r.headersTimeout:t[Hmt];e[Ui].setTimeout(n,px)}}}s(Xmt,"resumeH1");function Zmt(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}s(Zmt,"shouldSendContentLength");function egt(t,e){let{method:r,path:n,host:o,upgrade:a,blocking:c,reset:l}=e,{body:u,headers:f,contentLength:h}=e,A=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if($t.isFormDataLike(u)){dJ||(dJ=dx().extractBody);let[E,I]=dJ(u);e.contentType==null&&f.push("content-type",I),u=E.stream,h=E.length}else $t.isBlobLike(u)&&e.contentType==null&&u.type&&f.push("content-type",u.type);u&&typeof u.read=="function"&&u.read(0);let p=$t.bodyLength(u);if(h=p??h,h===null&&(h=e.contentLength),h===0&&!A&&(h=null),Zmt(r)&&h>0&&e.contentLength!==null&&e.contentLength!==h){if(t[pJ])return $t.errorRequest(t,e,new IC),!1;process.emitWarning(new IC)}let m=t[Ax],g=s(E=>{e.aborted||e.completed||($t.errorRequest(t,e,E||new iTe),$t.destroy(u),$t.destroy(m,new hx("aborted")))},"abort");try{e.onConnect(g)}catch(E){$t.errorRequest(t,e,E)}if(e.aborted)return!1;r==="HEAD"&&(m[sc]=!0),(a||r==="CONNECT")&&(m[sc]=!0),l!=null&&(m[sc]=l),t[eTe]&&m[Vmt]++>=t[eTe]&&(m[sc]=!0),c&&(m[Q4]=!0);let y=`${r} ${n} HTTP/1.1\r
`;if(typeof o=="string"?y+=`host: ${o}\r
`:y+=t[Mmt],a?y+=`connection: upgrade\r
upgrade: ${a}\r
`:t[PN]&&!m[sc]?y+=`connection: keep-alive\r
`:y+=`connection: close\r
`,Array.isArray(f))for(let E=0;E<f.length;E+=2){let I=f[E+0],x=f[E+1];if(Array.isArray(x))for(let v=0;v<x.length;v++)y+=`${I}: ${x[v]}\r
`;else y+=`${I}: ${x}\r
`}return X5e.sendHeaders.hasSubscribers&&X5e.sendHeaders.publish({request:e,headers:y,socket:m}),!u||p===0?rTe(g,null,t,e,m,h,y,A):$t.isBuffer(u)?rTe(g,u,t,e,m,h,y,A):$t.isBlobLike(u)?typeof u.stream=="function"?nTe(g,u.stream(),t,e,m,h,y,A):rgt(g,u,t,e,m,h,y,A):$t.isStream(u)?tgt(g,u,t,e,m,h,y,A):$t.isIterable(u)?nTe(g,u,t,e,m,h,y,A):Rt(!1),!0}s(egt,"writeH1");function tgt(t,e,r,n,o,a,c,l){Rt(a!==0||r[$s]===0,"stream body cannot be pipelined");let u=!1,f=new ON({abort:t,socket:o,request:n,contentLength:a,client:r,expectsPayload:l,header:c}),h=s(function(g){if(!u)try{!f.write(g)&&this.pause&&this.pause()}catch(y){$t.destroy(this,y)}},"onData"),A=s(function(){u||e.resume&&e.resume()},"onDrain"),p=s(function(){if(queueMicrotask(()=>{e.removeListener("error",m)}),!u){let g=new iTe;queueMicrotask(()=>m(g))}},"onClose"),m=s(function(g){if(!u){if(u=!0,Rt(o.destroyed||o[Jp]&&r[$s]<=1),o.off("drain",A).off("error",m),e.removeListener("data",h).removeListener("end",m).removeListener("close",p),!g)try{f.end()}catch(y){g=y}f.destroy(g),g&&(g.code!=="UND_ERR_INFO"||g.message!=="reset")?$t.destroy(e,g):$t.destroy(e)}},"onFinished");e.on("data",h).on("end",m).on("error",m).on("close",p),e.resume&&e.resume(),o.on("drain",A).on("error",m),e.errorEmitted??e.errored?setImmediate(()=>m(e.errored)):(e.endEmitted??e.readableEnded)&&setImmediate(()=>m(null)),(e.closeEmitted??e.closed)&&setImmediate(p)}s(tgt,"writeStream");function rTe(t,e,r,n,o,a,c,l){try{e?$t.isBuffer(e)&&(Rt(a===e.byteLength,"buffer body must have content length"),o.cork(),o.write(`${c}content-length: ${a}\r
\r
`,"latin1"),o.write(e),o.uncork(),n.onBodySent(e),!l&&n.reset!==!1&&(o[sc]=!0)):a===0?o.write(`${c}content-length: 0\r
\r
`,"latin1"):(Rt(a===null,"no body must not have content length"),o.write(`${c}\r
`,"latin1")),n.onRequestSent(),r[Kp]()}catch(u){t(u)}}s(rTe,"writeBuffer");async function rgt(t,e,r,n,o,a,c,l){Rt(a===e.size,"blob body must have content length");try{if(a!=null&&a!==e.size)throw new IC;let u=Buffer.from(await e.arrayBuffer());o.cork(),o.write(`${c}content-length: ${a}\r
\r
`,"latin1"),o.write(u),o.uncork(),n.onBodySent(u),n.onRequestSent(),!l&&n.reset!==!1&&(o[sc]=!0),r[Kp]()}catch(u){t(u)}}s(rgt,"writeBlob");async function nTe(t,e,r,n,o,a,c,l){Rt(a!==0||r[$s]===0,"iterator body cannot be pipelined");let u=null;function f(){if(u){let p=u;u=null,p()}}s(f,"onDrain");let h=s(()=>new Promise((p,m)=>{Rt(u===null),o[ol]?m(o[ol]):u=p}),"waitForDrain");o.on("close",f).on("drain",f);let A=new ON({abort:t,socket:o,request:n,contentLength:a,client:r,expectsPayload:l,header:c});try{for await(let p of e){if(o[ol])throw o[ol];A.write(p)||await h()}A.end()}catch(p){A.destroy(p)}finally{o.off("close",f).off("drain",f)}}s(nTe,"writeIterable");var ON=class{static{s(this,"AsyncWriter")}constructor({abort:e,socket:r,request:n,contentLength:o,client:a,expectsPayload:c,header:l}){this.socket=r,this.request=n,this.contentLength=o,this.client=a,this.bytesWritten=0,this.expectsPayload=c,this.header=l,this.abort=e,r[Jp]=!0}write(e){let{socket:r,request:n,contentLength:o,client:a,bytesWritten:c,expectsPayload:l,header:u}=this;if(r[ol])throw r[ol];if(r.destroyed)return!1;let f=Buffer.byteLength(e);if(!f)return!0;if(o!==null&&c+f>o){if(a[pJ])throw new IC;process.emitWarning(new IC)}r.cork(),c===0&&(!l&&n.reset!==!1&&(r[sc]=!0),o===null?r.write(`${u}transfer-encoding: chunked\r
`,"latin1"):r.write(`${u}content-length: ${o}\r
\r
`,"latin1")),o===null&&r.write(`\r
${f.toString(16)}\r
`,"latin1"),this.bytesWritten+=f;let h=r.write(e);return r.uncork(),n.onBodySent(e),h||r[Ui].timeout&&r[Ui].timeoutType===px&&r[Ui].timeout.refresh&&r[Ui].timeout.refresh(),h}end(){let{socket:e,contentLength:r,client:n,bytesWritten:o,expectsPayload:a,header:c,request:l}=this;if(l.onRequestSent(),e[Jp]=!1,e[ol])throw e[ol];if(!e.destroyed){if(o===0?a?e.write(`${c}content-length: 0\r
\r
`,"latin1"):e.write(`${c}\r
`,"latin1"):r===null&&e.write(`\r
0\r
\r
`,"latin1"),r!==null&&o!==r){if(n[pJ])throw new IC;process.emitWarning(new IC)}e[Ui].timeout&&e[Ui].timeoutType===px&&e[Ui].timeout.refresh&&e[Ui].timeout.refresh(),n[Kp]()}}destroy(e){let{socket:r,client:n,abort:o}=this;r[Jp]=!1,e&&(Rt(n[$s]<=1,"pipeline should only contain this request"),o(e))}};aTe.exports=Jmt});var mTe=T((Ydn,pTe)=>{"use strict";d();var sl=require("node:assert"),{pipeline:ngt}=require("node:stream"),Pr=yr(),{RequestContentLengthMismatchError:yJ,RequestAbortedError:lTe,SocketError:P4,InformationalError:EJ}=un(),{kUrl:UN,kReset:HN,kClient:mx,kRunning:GN,kPending:igt,kQueue:Xp,kPendingIdx:IJ,kRunningIdx:iu,kError:su,kSocket:$o,kStrictContentLength:ogt,kOnError:xJ,kMaxConcurrentStreams:ATe,kHTTP2Session:ou,kResume:Zp,kSize:sgt,kHTTPContext:agt}=gi(),Th=Symbol("open streams"),uTe,fTe=!1,qN;try{qN=require("node:http2")}catch{qN={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:cgt,HTTP2_HEADER_METHOD:lgt,HTTP2_HEADER_PATH:ugt,HTTP2_HEADER_SCHEME:fgt,HTTP2_HEADER_CONTENT_LENGTH:dgt,HTTP2_HEADER_EXPECT:hgt,HTTP2_HEADER_STATUS:Agt}}=qN;function pgt(t){let e=[];for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let o of n)e.push(Buffer.from(r),Buffer.from(o));else e.push(Buffer.from(r),Buffer.from(n));return e}s(pgt,"parseH2Headers");async function mgt(t,e){t[$o]=e,fTe||(fTe=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=qN.connect(t[UN],{createConnection:s(()=>e,"createConnection"),peerMaxConcurrentStreams:t[ATe]});r[Th]=0,r[mx]=t,r[$o]=e,Pr.addListener(r,"error",Cgt),Pr.addListener(r,"frameError",ygt),Pr.addListener(r,"end",Egt),Pr.addListener(r,"goaway",Igt),Pr.addListener(r,"close",function(){let{[mx]:o}=this,{[$o]:a}=o,c=this[$o][su]||this[su]||new P4("closed",Pr.getSocketInfo(a));if(o[ou]=null,o.destroyed){sl(o[igt]===0);let l=o[Xp].splice(o[iu]);for(let u=0;u<l.length;u++){let f=l[u];Pr.errorRequest(o,f,c)}}}),r.unref(),t[ou]=r,e[ou]=r,Pr.addListener(e,"error",function(o){sl(o.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[su]=o,this[mx][xJ](o)}),Pr.addListener(e,"end",function(){Pr.destroy(this,new P4("other side closed",Pr.getSocketInfo(this)))}),Pr.addListener(e,"close",function(){let o=this[su]||new P4("closed",Pr.getSocketInfo(this));t[$o]=null,this[ou]!=null&&this[ou].destroy(o),t[IJ]=t[iu],sl(t[GN]===0),t.emit("disconnect",t[UN],[t],o),t[Zp]()});let n=!1;return e.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...o){return vgt(t,...o)},resume(){ggt(t)},destroy(o,a){n?queueMicrotask(a):e.destroy(o).on("close",a)},get destroyed(){return e.destroyed},busy(){return!1}}}s(mgt,"connectH2");function ggt(t){let e=t[$o];e?.destroyed===!1&&(t[sgt]===0&&t[ATe]===0?(e.unref(),t[ou].unref()):(e.ref(),t[ou].ref()))}s(ggt,"resumeH2");function Cgt(t){sl(t.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[$o][su]=t,this[mx][xJ](t)}s(Cgt,"onHttp2SessionError");function ygt(t,e,r){if(r===0){let n=new EJ(`HTTP/2: "frameError" received - type ${t}, code ${e}`);this[$o][su]=n,this[mx][xJ](n)}}s(ygt,"onHttp2FrameError");function Egt(){let t=new P4("other side closed",Pr.getSocketInfo(this[$o]));this.destroy(t),Pr.destroy(this[$o],t)}s(Egt,"onHttp2SessionEnd");function Igt(t){let e=this[su]||new P4(`HTTP/2: "GOAWAY" frame received with code ${t}`,Pr.getSocketInfo(this)),r=this[mx];if(r[$o]=null,r[agt]=null,this[ou]!=null&&(this[ou].destroy(e),this[ou]=null),Pr.destroy(this[$o],e),r[iu]<r[Xp].length){let n=r[Xp][r[iu]];r[Xp][r[iu]++]=null,Pr.errorRequest(r,n,e),r[IJ]=r[iu]}sl(r[GN]===0),r.emit("disconnect",r[UN],[r],e),r[Zp]()}s(Igt,"onHTTP2GoAway");function xgt(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}s(xgt,"shouldSendContentLength");function vgt(t,e){let r=t[ou],{method:n,path:o,host:a,upgrade:c,expectContinue:l,signal:u,headers:f}=e,{body:h}=e;if(c)return Pr.errorRequest(t,e,new Error("Upgrade not supported for H2")),!1;let A={};for(let b=0;b<f.length;b+=2){let _=f[b+0],S=f[b+1];if(Array.isArray(S))for(let w=0;w<S.length;w++)A[_]?A[_]+=`,${S[w]}`:A[_]=S[w];else A[_]=S}let p,{hostname:m,port:g}=t[UN];A[cgt]=a||`${m}${g?`:${g}`:""}`,A[lgt]=n;let y=s(b=>{e.aborted||e.completed||(b=b||new lTe,Pr.errorRequest(t,e,b),p!=null&&Pr.destroy(p,b),Pr.destroy(h,b),t[Xp][t[iu]++]=null,t[Zp]())},"abort");try{e.onConnect(y)}catch(b){Pr.errorRequest(t,e,b)}if(e.aborted)return!1;if(n==="CONNECT")return r.ref(),p=r.request(A,{endStream:!1,signal:u}),p.id&&!p.pending?(e.onUpgrade(null,null,p),++r[Th],t[Xp][t[iu]++]=null):p.once("ready",()=>{e.onUpgrade(null,null,p),++r[Th],t[Xp][t[iu]++]=null}),p.once("close",()=>{r[Th]-=1,r[Th]===0&&r.unref()}),!0;A[ugt]=o,A[fgt]="https";let E=n==="PUT"||n==="POST"||n==="PATCH";h&&typeof h.read=="function"&&h.read(0);let I=Pr.bodyLength(h);if(Pr.isFormDataLike(h)){uTe??=dx().extractBody;let[b,_]=uTe(h);A["content-type"]=_,h=b.stream,I=b.length}if(I==null&&(I=e.contentLength),(I===0||!E)&&(I=null),xgt(n)&&I>0&&e.contentLength!=null&&e.contentLength!==I){if(t[ogt])return Pr.errorRequest(t,e,new yJ),!1;process.emitWarning(new yJ)}I!=null&&(sl(h,"no body must not have content length"),A[dgt]=`${I}`),r.ref();let x=n==="GET"||n==="HEAD"||h===null;return l?(A[hgt]="100-continue",p=r.request(A,{endStream:x,signal:u}),p.once("continue",v)):(p=r.request(A,{endStream:x,signal:u}),v()),++r[Th],p.once("response",b=>{let{[Agt]:_,...S}=b;if(e.onResponseStarted(),e.aborted){let w=new lTe;Pr.errorRequest(t,e,w),Pr.destroy(p,w);return}e.onHeaders(Number(_),pgt(S),p.resume.bind(p),"")===!1&&p.pause(),p.on("data",w=>{e.onData(w)===!1&&p.pause()})}),p.once("end",()=>{(p.state?.state==null||p.state.state<6)&&e.onComplete([]),r[Th]===0&&r.unref(),y(new EJ("HTTP/2: stream half-closed (remote)")),t[Xp][t[iu]++]=null,t[IJ]=t[iu],t[Zp]()}),p.once("close",()=>{r[Th]-=1,r[Th]===0&&r.unref()}),p.once("error",function(b){y(b)}),p.once("frameError",(b,_)=>{y(new EJ(`HTTP/2: "frameError" received - type ${b}, code ${_}`))}),!0;function v(){!h||I===0?dTe(y,p,null,t,e,t[$o],I,E):Pr.isBuffer(h)?dTe(y,p,h,t,e,t[$o],I,E):Pr.isBlobLike(h)?typeof h.stream=="function"?hTe(y,p,h.stream(),t,e,t[$o],I,E):_gt(y,p,h,t,e,t[$o],I,E):Pr.isStream(h)?bgt(y,t[$o],E,p,h,t,e,I):Pr.isIterable(h)?hTe(y,p,h,t,e,t[$o],I,E):sl(!1)}s(v,"writeBodyH2")}s(vgt,"writeH2");function dTe(t,e,r,n,o,a,c,l){try{r!=null&&Pr.isBuffer(r)&&(sl(c===r.byteLength,"buffer body must have content length"),e.cork(),e.write(r),e.uncork(),e.end(),o.onBodySent(r)),l||(a[HN]=!0),o.onRequestSent(),n[Zp]()}catch(u){t(u)}}s(dTe,"writeBuffer");function bgt(t,e,r,n,o,a,c,l){sl(l!==0||a[GN]===0,"stream body cannot be pipelined");let u=ngt(o,n,h=>{h?(Pr.destroy(u,h),t(h)):(Pr.removeAllListeners(u),c.onRequestSent(),r||(e[HN]=!0),a[Zp]())});Pr.addListener(u,"data",f);function f(h){c.onBodySent(h)}s(f,"onPipeData")}s(bgt,"writeStream");async function _gt(t,e,r,n,o,a,c,l){sl(c===r.size,"blob body must have content length");try{if(c!=null&&c!==r.size)throw new yJ;let u=Buffer.from(await r.arrayBuffer());e.cork(),e.write(u),e.uncork(),e.end(),o.onBodySent(u),o.onRequestSent(),l||(a[HN]=!0),n[Zp]()}catch(u){t(u)}}s(_gt,"writeBlob");async function hTe(t,e,r,n,o,a,c,l){sl(c!==0||n[GN]===0,"iterator body cannot be pipelined");let u=null;function f(){if(u){let A=u;u=null,A()}}s(f,"onDrain");let h=s(()=>new Promise((A,p)=>{sl(u===null),a[su]?p(a[su]):u=A}),"waitForDrain");e.on("close",f).on("drain",f);try{for await(let A of r){if(a[su])throw a[su];let p=e.write(A);o.onBodySent(A),p||await h()}e.end(),o.onRequestSent(),l||(a[HN]=!0),n[Zp]()}catch(A){t(A)}finally{e.off("close",f).off("drain",f)}}s(hTe,"writeIterable");pTe.exports=mgt});var WN=T((zdn,yTe)=>{"use strict";d();var Mf=yr(),{kBodyUsed:F4}=gi(),bJ=require("node:assert"),{InvalidArgumentError:Tgt}=un(),wgt=require("node:events"),Sgt=[300,301,302,303,307,308],gTe=Symbol("body"),VN=class{static{s(this,"BodyAsyncIterable")}constructor(e){this[gTe]=e,this[F4]=!1}async*[Symbol.asyncIterator](){bJ(!this[F4],"disturbed"),this[F4]=!0,yield*this[gTe]}},vJ=class{static{s(this,"RedirectHandler")}constructor(e,r,n,o){if(r!=null&&(!Number.isInteger(r)||r<0))throw new Tgt("maxRedirections must be a positive number");Mf.validateHandler(o,n.method,n.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=o,this.history=[],this.redirectionLimitReached=!1,Mf.isStream(this.opts.body)?(Mf.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){bJ(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[F4]=!1,wgt.prototype.on.call(this.opts.body,"data",function(){this[F4]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new VN(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&Mf.isIterable(this.opts.body)&&(this.opts.body=new VN(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,r,n){this.handler.onUpgrade(e,r,n)}onError(e){this.handler.onError(e)}onHeaders(e,r,n,o){if(this.location=this.history.length>=this.maxRedirections||Mf.isDisturbed(this.opts.body)?null:Bgt(e,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,r,n,o);let{origin:a,pathname:c,search:l}=Mf.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),u=l?`${c}${l}`:c;this.opts.headers=Rgt(this.opts.headers,e===303,this.opts.origin!==a),this.opts.path=u,this.opts.origin=a,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function Bgt(t,e){if(Sgt.indexOf(t)===-1)return null;for(let r=0;r<e.length;r+=2)if(e[r].length===8&&Mf.headerNameToString(e[r])==="location")return e[r+1]}s(Bgt,"parseLocation");function CTe(t,e,r){if(t.length===4)return Mf.headerNameToString(t)==="host";if(e&&Mf.headerNameToString(t).startsWith("content-"))return!0;if(r&&(t.length===13||t.length===6||t.length===19)){let n=Mf.headerNameToString(t);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}s(CTe,"shouldRemoveHeader");function Rgt(t,e,r){let n=[];if(Array.isArray(t))for(let o=0;o<t.length;o+=2)CTe(t[o],e,r)||n.push(t[o],t[o+1]);else if(t&&typeof t=="object")for(let o of Object.keys(t))CTe(o,e,r)||n.push(o,t[o]);else bJ(t==null,"headers must be an object or an array");return n}s(Rgt,"cleanRequestHeaders");yTe.exports=vJ});var YN=T((Xdn,ETe)=>{"use strict";d();var kgt=WN();function Dgt({maxRedirections:t}){return e=>s(function(n,o){let{maxRedirections:a=t}=n;if(!a)return e(n,o);let c=new kgt(e,a,n,o);return n={...n,maxRedirections:0},e(n,c)},"Intercept")}s(Dgt,"createRedirectInterceptor");ETe.exports=Dgt});var yx=T((thn,RTe)=>{"use strict";d();var wh=require("node:assert"),TTe=require("node:net"),Ngt=require("node:http"),xC=yr(),{channels:gx}=Z2(),Qgt=P_e(),Pgt=nx(),{InvalidArgumentError:Ji,InformationalError:Fgt,ClientDestroyedError:Lgt}=un(),Mgt=v4(),{kUrl:Of,kServerName:em,kClient:Ogt,kBusy:_J,kConnect:Ugt,kResuming:vC,kRunning:q4,kPending:H4,kSize:U4,kQueue:au,kConnected:qgt,kConnecting:Cx,kNeedDrain:rm,kKeepAliveDefaultTimeout:ITe,kHostHeader:Hgt,kPendingIdx:cu,kRunningIdx:Sh,kError:Ggt,kPipelining:jN,kKeepAliveTimeoutValue:Vgt,kMaxHeadersSize:Wgt,kKeepAliveMaxTimeout:Ygt,kKeepAliveTimeoutThreshold:jgt,kHeadersTimeout:$gt,kBodyTimeout:zgt,kStrictContentLength:Kgt,kConnector:L4,kMaxRedirections:Jgt,kMaxRequests:TJ,kCounter:Xgt,kClose:Zgt,kDestroy:e1t,kDispatch:t1t,kInterceptors:xTe,kLocalAddress:M4,kMaxResponseSize:r1t,kOnError:n1t,kHTTPContext:Xi,kMaxConcurrentStreams:i1t,kResume:O4}=gi(),o1t=cTe(),s1t=mTe(),vTe=!1,tm=Symbol("kClosedResolve"),bTe=s(()=>{},"noop");function wTe(t){return t[jN]??t[Xi]?.defaultPipelining??1}s(wTe,"getPipelining");var wJ=class extends Pgt{static{s(this,"Client")}constructor(e,{interceptors:r,maxHeaderSize:n,headersTimeout:o,socketTimeout:a,requestTimeout:c,connectTimeout:l,bodyTimeout:u,idleTimeout:f,keepAlive:h,keepAliveTimeout:A,maxKeepAliveTimeout:p,keepAliveMaxTimeout:m,keepAliveTimeoutThreshold:g,socketPath:y,pipelining:E,tls:I,strictContentLength:x,maxCachedSessions:v,maxRedirections:b,connect:_,maxRequestsPerClient:S,localAddress:w,maxResponseSize:L,autoSelectFamily:M,autoSelectFamilyAttemptTimeout:Y,maxConcurrentStreams:D,allowH2:O}={}){if(super(),h!==void 0)throw new Ji("unsupported keepAlive, use pipelining=0 instead");if(a!==void 0)throw new Ji("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(c!==void 0)throw new Ji("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(f!==void 0)throw new Ji("unsupported idleTimeout, use keepAliveTimeout instead");if(p!==void 0)throw new Ji("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new Ji("invalid maxHeaderSize");if(y!=null&&typeof y!="string")throw new Ji("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new Ji("invalid connectTimeout");if(A!=null&&(!Number.isFinite(A)||A<=0))throw new Ji("invalid keepAliveTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new Ji("invalid keepAliveMaxTimeout");if(g!=null&&!Number.isFinite(g))throw new Ji("invalid keepAliveTimeoutThreshold");if(o!=null&&(!Number.isInteger(o)||o<0))throw new Ji("headersTimeout must be a positive integer or zero");if(u!=null&&(!Number.isInteger(u)||u<0))throw new Ji("bodyTimeout must be a positive integer or zero");if(_!=null&&typeof _!="function"&&typeof _!="object")throw new Ji("connect must be a function or an object");if(b!=null&&(!Number.isInteger(b)||b<0))throw new Ji("maxRedirections must be a positive number");if(S!=null&&(!Number.isInteger(S)||S<0))throw new Ji("maxRequestsPerClient must be a positive number");if(w!=null&&(typeof w!="string"||TTe.isIP(w)===0))throw new Ji("localAddress must be valid string IP address");if(L!=null&&(!Number.isInteger(L)||L<-1))throw new Ji("maxResponseSize must be a positive number");if(Y!=null&&(!Number.isInteger(Y)||Y<-1))throw new Ji("autoSelectFamilyAttemptTimeout must be a positive number");if(O!=null&&typeof O!="boolean")throw new Ji("allowH2 must be a valid boolean value");if(D!=null&&(typeof D!="number"||D<1))throw new Ji("maxConcurrentStreams must be a positive integer, greater than 0");typeof _!="function"&&(_=Mgt({...I,maxCachedSessions:v,allowH2:O,socketPath:y,timeout:l,...M?{autoSelectFamily:M,autoSelectFamilyAttemptTimeout:Y}:void 0,..._})),r?.Client&&Array.isArray(r.Client)?(this[xTe]=r.Client,vTe||(vTe=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[xTe]=[a1t({maxRedirections:b})],this[Of]=xC.parseOrigin(e),this[L4]=_,this[jN]=E??1,this[Wgt]=n||Ngt.maxHeaderSize,this[ITe]=A??4e3,this[Ygt]=m??6e5,this[jgt]=g??2e3,this[Vgt]=this[ITe],this[em]=null,this[M4]=w??null,this[vC]=0,this[rm]=0,this[Hgt]=`host: ${this[Of].hostname}${this[Of].port?`:${this[Of].port}`:""}\r
`,this[zgt]=u??3e5,this[$gt]=o??3e5,this[Kgt]=x??!0,this[Jgt]=b,this[TJ]=S,this[tm]=null,this[r1t]=L>-1?L:-1,this[i1t]=D??100,this[Xi]=null,this[au]=[],this[Sh]=0,this[cu]=0,this[O4]=W=>SJ(this,W),this[n1t]=W=>STe(this,W)}get pipelining(){return this[jN]}set pipelining(e){this[jN]=e,this[O4](!0)}get[H4](){return this[au].length-this[cu]}get[q4](){return this[cu]-this[Sh]}get[U4](){return this[au].length-this[Sh]}get[qgt](){return!!this[Xi]&&!this[Cx]&&!this[Xi].destroyed}get[_J](){return!!(this[Xi]?.busy(null)||this[U4]>=(wTe(this)||1)||this[H4]>0)}[Ugt](e){BTe(this),this.once("connect",e)}[t1t](e,r){let n=e.origin||this[Of].origin,o=new Qgt(n,e,r);return this[au].push(o),this[vC]||(xC.bodyLength(o.body)==null&&xC.isIterable(o.body)?(this[vC]=1,queueMicrotask(()=>SJ(this))):this[O4](!0)),this[vC]&&this[rm]!==2&&this[_J]&&(this[rm]=2),this[rm]<2}async[Zgt](){return new Promise(e=>{this[U4]?this[tm]=e:e(null)})}async[e1t](e){return new Promise(r=>{let n=this[au].splice(this[cu]);for(let a=0;a<n.length;a++){let c=n[a];xC.errorRequest(this,c,e)}let o=s(()=>{this[tm]&&(this[tm](),this[tm]=null),r(null)},"callback");this[Xi]?(this[Xi].destroy(e,o),this[Xi]=null):queueMicrotask(o),this[O4]()})}},a1t=YN();function STe(t,e){if(t[q4]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){wh(t[cu]===t[Sh]);let r=t[au].splice(t[Sh]);for(let n=0;n<r.length;n++){let o=r[n];xC.errorRequest(t,o,e)}wh(t[U4]===0)}}s(STe,"onError");async function BTe(t){wh(!t[Cx]),wh(!t[Xi]);let{host:e,hostname:r,protocol:n,port:o}=t[Of];if(r[0]==="["){let a=r.indexOf("]");wh(a!==-1);let c=r.substring(1,a);wh(TTe.isIP(c)),r=c}t[Cx]=!0,gx.beforeConnect.hasSubscribers&&gx.beforeConnect.publish({connectParams:{host:e,hostname:r,protocol:n,port:o,version:t[Xi]?.version,servername:t[em],localAddress:t[M4]},connector:t[L4]});try{let a=await new Promise((c,l)=>{t[L4]({host:e,hostname:r,protocol:n,port:o,servername:t[em],localAddress:t[M4]},(u,f)=>{u?l(u):c(f)})});if(t.destroyed){xC.destroy(a.on("error",bTe),new Lgt);return}wh(a);try{t[Xi]=a.alpnProtocol==="h2"?await s1t(t,a):await o1t(t,a)}catch(c){throw a.destroy().on("error",bTe),c}t[Cx]=!1,a[Xgt]=0,a[TJ]=t[TJ],a[Ogt]=t,a[Ggt]=null,gx.connected.hasSubscribers&&gx.connected.publish({connectParams:{host:e,hostname:r,protocol:n,port:o,version:t[Xi]?.version,servername:t[em],localAddress:t[M4]},connector:t[L4],socket:a}),t.emit("connect",t[Of],[t])}catch(a){if(t.destroyed)return;if(t[Cx]=!1,gx.connectError.hasSubscribers&&gx.connectError.publish({connectParams:{host:e,hostname:r,protocol:n,port:o,version:t[Xi]?.version,servername:t[em],localAddress:t[M4]},connector:t[L4],error:a}),a.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(wh(t[q4]===0);t[H4]>0&&t[au][t[cu]].servername===t[em];){let c=t[au][t[cu]++];xC.errorRequest(t,c,a)}else STe(t,a);t.emit("connectionError",t[Of],[t],a)}t[O4]()}s(BTe,"connect");function _Te(t){t[rm]=0,t.emit("drain",t[Of],[t])}s(_Te,"emitDrain");function SJ(t,e){t[vC]!==2&&(t[vC]=2,c1t(t,e),t[vC]=0,t[Sh]>256&&(t[au].splice(0,t[Sh]),t[cu]-=t[Sh],t[Sh]=0))}s(SJ,"resume");function c1t(t,e){for(;;){if(t.destroyed){wh(t[H4]===0);return}if(t[tm]&&!t[U4]){t[tm](),t[tm]=null;return}if(t[Xi]&&t[Xi].resume(),t[_J])t[rm]=2;else if(t[rm]===2){e?(t[rm]=1,queueMicrotask(()=>_Te(t))):_Te(t);continue}if(t[H4]===0||t[q4]>=(wTe(t)||1))return;let r=t[au][t[cu]];if(t[Of].protocol==="https:"&&t[em]!==r.servername){if(t[q4]>0)return;t[em]=r.servername,t[Xi]?.destroy(new Fgt("servername changed"),()=>{t[Xi]=null,SJ(t)})}if(t[Cx])return;if(!t[Xi]){BTe(t);return}if(t[Xi].destroyed||t[Xi].busy(r))return;!r.aborted&&t[Xi].write(r)?t[cu]++:t[au].splice(t[cu],1)}}s(c1t,"_resume");RTe.exports=wJ});var BJ=T((ohn,kTe)=>{"use strict";d();var $N=class{static{s(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};kTe.exports=class{static{s(this,"FixedQueue")}constructor(){this.head=this.tail=new $N}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new $N),this.head.push(e)}shift(){let e=this.tail,r=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),r}}});var NTe=T((chn,DTe)=>{d();var{kFree:l1t,kConnected:u1t,kPending:f1t,kQueued:d1t,kRunning:h1t,kSize:A1t}=gi(),bC=Symbol("pool"),RJ=class{static{s(this,"PoolStats")}constructor(e){this[bC]=e}get connected(){return this[bC][u1t]}get free(){return this[bC][l1t]}get pending(){return this[bC][f1t]}get queued(){return this[bC][d1t]}get running(){return this[bC][h1t]}get size(){return this[bC][A1t]}};DTe.exports=RJ});var FJ=T((fhn,GTe)=>{"use strict";d();var p1t=nx(),m1t=BJ(),{kConnected:kJ,kSize:QTe,kRunning:PTe,kPending:FTe,kQueued:G4,kBusy:g1t,kFree:C1t,kUrl:y1t,kClose:E1t,kDestroy:I1t,kDispatch:x1t}=gi(),v1t=NTe(),ac=Symbol("clients"),ya=Symbol("needDrain"),V4=Symbol("queue"),DJ=Symbol("closed resolve"),NJ=Symbol("onDrain"),LTe=Symbol("onConnect"),MTe=Symbol("onDisconnect"),OTe=Symbol("onConnectionError"),QJ=Symbol("get dispatcher"),qTe=Symbol("add client"),HTe=Symbol("remove client"),UTe=Symbol("stats"),PJ=class extends p1t{static{s(this,"PoolBase")}constructor(){super(),this[V4]=new m1t,this[ac]=[],this[G4]=0;let e=this;this[NJ]=s(function(n,o){let a=e[V4],c=!1;for(;!c;){let l=a.shift();if(!l)break;e[G4]--,c=!this.dispatch(l.opts,l.handler)}this[ya]=c,!this[ya]&&e[ya]&&(e[ya]=!1,e.emit("drain",n,[e,...o])),e[DJ]&&a.isEmpty()&&Promise.all(e[ac].map(l=>l.close())).then(e[DJ])},"onDrain"),this[LTe]=(r,n)=>{e.emit("connect",r,[e,...n])},this[MTe]=(r,n,o)=>{e.emit("disconnect",r,[e,...n],o)},this[OTe]=(r,n,o)=>{e.emit("connectionError",r,[e,...n],o)},this[UTe]=new v1t(this)}get[g1t](){return this[ya]}get[kJ](){return this[ac].filter(e=>e[kJ]).length}get[C1t](){return this[ac].filter(e=>e[kJ]&&!e[ya]).length}get[FTe](){let e=this[G4];for(let{[FTe]:r}of this[ac])e+=r;return e}get[PTe](){let e=0;for(let{[PTe]:r}of this[ac])e+=r;return e}get[QTe](){let e=this[G4];for(let{[QTe]:r}of this[ac])e+=r;return e}get stats(){return this[UTe]}async[E1t](){this[V4].isEmpty()?await Promise.all(this[ac].map(e=>e.close())):await new Promise(e=>{this[DJ]=e})}async[I1t](e){for(;;){let r=this[V4].shift();if(!r)break;r.handler.onError(e)}await Promise.all(this[ac].map(r=>r.destroy(e)))}[x1t](e,r){let n=this[QJ]();return n?n.dispatch(e,r)||(n[ya]=!0,this[ya]=!this[QJ]()):(this[ya]=!0,this[V4].push({opts:e,handler:r}),this[G4]++),!this[ya]}[qTe](e){return e.on("drain",this[NJ]).on("connect",this[LTe]).on("disconnect",this[MTe]).on("connectionError",this[OTe]),this[ac].push(e),this[ya]&&queueMicrotask(()=>{this[ya]&&this[NJ](e[y1t],[this,e])}),this}[HTe](e){e.close(()=>{let r=this[ac].indexOf(e);r!==-1&&this[ac].splice(r,1)}),this[ya]=this[ac].some(r=>!r[ya]&&r.closed!==!0&&r.destroyed!==!0)}};GTe.exports={PoolBase:PJ,kClients:ac,kNeedDrain:ya,kAddClient:qTe,kRemoveClient:HTe,kGetDispatcher:QJ}});var Ex=T((Ahn,jTe)=>{"use strict";d();var{PoolBase:b1t,kClients:zN,kNeedDrain:_1t,kAddClient:T1t,kGetDispatcher:w1t}=FJ(),S1t=yx(),{InvalidArgumentError:LJ}=un(),VTe=yr(),{kUrl:WTe,kInterceptors:B1t}=gi(),R1t=v4(),MJ=Symbol("options"),OJ=Symbol("connections"),YTe=Symbol("factory");function k1t(t,e){return new S1t(t,e)}s(k1t,"defaultFactory");var UJ=class extends b1t{static{s(this,"Pool")}constructor(e,{connections:r,factory:n=k1t,connect:o,connectTimeout:a,tls:c,maxCachedSessions:l,socketPath:u,autoSelectFamily:f,autoSelectFamilyAttemptTimeout:h,allowH2:A,...p}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new LJ("invalid connections");if(typeof n!="function")throw new LJ("factory must be a function.");if(o!=null&&typeof o!="function"&&typeof o!="object")throw new LJ("connect must be a function or an object");typeof o!="function"&&(o=R1t({...c,maxCachedSessions:l,allowH2:A,socketPath:u,timeout:a,...f?{autoSelectFamily:f,autoSelectFamilyAttemptTimeout:h}:void 0,...o})),this[B1t]=p.interceptors?.Pool&&Array.isArray(p.interceptors.Pool)?p.interceptors.Pool:[],this[OJ]=r||null,this[WTe]=VTe.parseOrigin(e),this[MJ]={...VTe.deepClone(p),connect:o,allowH2:A},this[MJ].interceptors=p.interceptors?{...p.interceptors}:void 0,this[YTe]=n,this.on("connectionError",(m,g,y)=>{for(let E of g){let I=this[zN].indexOf(E);I!==-1&&this[zN].splice(I,1)}})}[w1t](){for(let e of this[zN])if(!e[_1t])return e;if(!this[OJ]||this[zN].length<this[OJ]){let e=this[YTe](this[WTe],this[MJ]);return this[T1t](e),e}}};jTe.exports=UJ});var XTe=T((ghn,JTe)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:D1t,InvalidArgumentError:N1t}=un(),{PoolBase:Q1t,kClients:zs,kNeedDrain:W4,kAddClient:P1t,kRemoveClient:F1t,kGetDispatcher:L1t}=FJ(),M1t=Ex(),{kUrl:qJ,kInterceptors:O1t}=gi(),{parseOrigin:$Te}=yr(),zTe=Symbol("factory"),KN=Symbol("options"),KTe=Symbol("kGreatestCommonDivisor"),_C=Symbol("kCurrentWeight"),TC=Symbol("kIndex"),al=Symbol("kWeight"),JN=Symbol("kMaxWeightPerServer"),XN=Symbol("kErrorPenalty");function U1t(t,e){if(t===0)return e;for(;e!==0;){let r=e;e=t%e,t=r}return t}s(U1t,"getGreatestCommonDivisor");function q1t(t,e){return new M1t(t,e)}s(q1t,"defaultFactory");var HJ=class extends Q1t{static{s(this,"BalancedPool")}constructor(e=[],{factory:r=q1t,...n}={}){if(super(),this[KN]=n,this[TC]=-1,this[_C]=0,this[JN]=this[KN].maxWeightPerServer||100,this[XN]=this[KN].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof r!="function")throw new N1t("factory must be a function.");this[O1t]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[zTe]=r;for(let o of e)this.addUpstream(o);this._updateBalancedPoolStats()}addUpstream(e){let r=$Te(e).origin;if(this[zs].find(o=>o[qJ].origin===r&&o.closed!==!0&&o.destroyed!==!0))return this;let n=this[zTe](r,Object.assign({},this[KN]));this[P1t](n),n.on("connect",()=>{n[al]=Math.min(this[JN],n[al]+this[XN])}),n.on("connectionError",()=>{n[al]=Math.max(1,n[al]-this[XN]),this._updateBalancedPoolStats()}),n.on("disconnect",(...o)=>{let a=o[2];a&&a.code==="UND_ERR_SOCKET"&&(n[al]=Math.max(1,n[al]-this[XN]),this._updateBalancedPoolStats())});for(let o of this[zs])o[al]=this[JN];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let e=0;for(let r=0;r<this[zs].length;r++)e=U1t(this[zs][r][al],e);this[KTe]=e}removeUpstream(e){let r=$Te(e).origin,n=this[zs].find(o=>o[qJ].origin===r&&o.closed!==!0&&o.destroyed!==!0);return n&&this[F1t](n),this}get upstreams(){return this[zs].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[qJ].origin)}[L1t](){if(this[zs].length===0)throw new D1t;if(!this[zs].find(a=>!a[W4]&&a.closed!==!0&&a.destroyed!==!0)||this[zs].map(a=>a[W4]).reduce((a,c)=>a&&c,!0))return;let n=0,o=this[zs].findIndex(a=>!a[W4]);for(;n++<this[zs].length;){this[TC]=(this[TC]+1)%this[zs].length;let a=this[zs][this[TC]];if(a[al]>this[zs][o][al]&&!a[W4]&&(o=this[TC]),this[TC]===0&&(this[_C]=this[_C]-this[KTe],this[_C]<=0&&(this[_C]=this[JN])),a[al]>=this[_C]&&!a[W4])return a}return this[_C]=this[zs][o][al],this[TC]=o,this[zs][o]}};JTe.exports=HJ});var Ix=T((Ehn,o4e)=>{"use strict";d();var{InvalidArgumentError:ZN}=un(),{kClients:nm,kRunning:ZTe,kClose:H1t,kDestroy:G1t,kDispatch:V1t,kInterceptors:W1t}=gi(),Y1t=nx(),j1t=Ex(),$1t=yx(),z1t=yr(),K1t=YN(),e4e=Symbol("onConnect"),t4e=Symbol("onDisconnect"),r4e=Symbol("onConnectionError"),J1t=Symbol("maxRedirections"),n4e=Symbol("onDrain"),i4e=Symbol("factory"),GJ=Symbol("options");function X1t(t,e){return e&&e.connections===1?new $1t(t,e):new j1t(t,e)}s(X1t,"defaultFactory");var VJ=class extends Y1t{static{s(this,"Agent")}constructor({factory:e=X1t,maxRedirections:r=0,connect:n,...o}={}){if(super(),typeof e!="function")throw new ZN("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new ZN("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new ZN("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[W1t]=o.interceptors?.Agent&&Array.isArray(o.interceptors.Agent)?o.interceptors.Agent:[K1t({maxRedirections:r})],this[GJ]={...z1t.deepClone(o),connect:n},this[GJ].interceptors=o.interceptors?{...o.interceptors}:void 0,this[J1t]=r,this[i4e]=e,this[nm]=new Map,this[n4e]=(a,c)=>{this.emit("drain",a,[this,...c])},this[e4e]=(a,c)=>{this.emit("connect",a,[this,...c])},this[t4e]=(a,c,l)=>{this.emit("disconnect",a,[this,...c],l)},this[r4e]=(a,c,l)=>{this.emit("connectionError",a,[this,...c],l)}}get[ZTe](){let e=0;for(let r of this[nm].values())e+=r[ZTe];return e}[V1t](e,r){let n;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))n=String(e.origin);else throw new ZN("opts.origin must be a non-empty string or URL.");let o=this[nm].get(n);return o||(o=this[i4e](e.origin,this[GJ]).on("drain",this[n4e]).on("connect",this[e4e]).on("disconnect",this[t4e]).on("connectionError",this[r4e]),this[nm].set(n,o)),o.dispatch(e,r)}async[H1t](){let e=[];for(let r of this[nm].values())e.push(r.close());this[nm].clear(),await Promise.all(e)}async[G1t](e){let r=[];for(let n of this[nm].values())r.push(n.destroy(e));this[nm].clear(),await Promise.all(r)}};o4e.exports=VJ});var zJ=T((vhn,m4e)=>{"use strict";d();var{kProxy:WJ,kClose:f4e,kDestroy:d4e,kDispatch:s4e,kInterceptors:Z1t}=gi(),{URL:wC}=require("node:url"),eCt=Ix(),h4e=Ex(),A4e=nx(),{InvalidArgumentError:xx,RequestAbortedError:tCt,SecureProxyConnectionError:rCt}=un(),a4e=v4(),p4e=yx(),eQ=Symbol("proxy agent"),tQ=Symbol("proxy client"),im=Symbol("proxy headers"),YJ=Symbol("request tls settings"),c4e=Symbol("proxy tls settings"),l4e=Symbol("connect endpoint function"),u4e=Symbol("tunnel proxy");function nCt(t){return t==="https:"?443:80}s(nCt,"defaultProtocolPort");function iCt(t,e){return new h4e(t,e)}s(iCt,"defaultFactory");var oCt=s(()=>{},"noop");function sCt(t,e){return e.connections===1?new p4e(t,e):new h4e(t,e)}s(sCt,"defaultAgentFactory");var jJ=class extends A4e{static{s(this,"Http1ProxyWrapper")}#e;constructor(e,{headers:r={},connect:n,factory:o}){if(super(),!e)throw new xx("Proxy URL is mandatory");this[im]=r,o?this.#e=o(e,{connect:n}):this.#e=new p4e(e,{connect:n})}[s4e](e,r){let n=r.onHeaders;r.onHeaders=function(l,u,f){if(l===407){typeof r.onError=="function"&&r.onError(new xx("Proxy Authentication Required (407)"));return}n&&n.call(this,l,u,f)};let{origin:o,path:a="/",headers:c={}}=e;if(e.path=o+a,!("host"in c)&&!("Host"in c)){let{host:l}=new wC(o);c.host=l}return e.headers={...this[im],...c},this.#e[s4e](e,r)}async[f4e](){return this.#e.close()}async[d4e](e){return this.#e.destroy(e)}},$J=class extends A4e{static{s(this,"ProxyAgent")}constructor(e){if(super(),!e||typeof e=="object"&&!(e instanceof wC)&&!e.uri)throw new xx("Proxy uri is mandatory");let{clientFactory:r=iCt}=e;if(typeof r!="function")throw new xx("Proxy opts.clientFactory must be a function.");let{proxyTunnel:n=!0}=e,o=this.#e(e),{href:a,origin:c,port:l,protocol:u,username:f,password:h,hostname:A}=o;if(this[WJ]={uri:a,protocol:u},this[Z1t]=e.interceptors?.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],this[YJ]=e.requestTls,this[c4e]=e.proxyTls,this[im]=e.headers||{},this[u4e]=n,e.auth&&e.token)throw new xx("opts.auth cannot be used in combination with opts.token");e.auth?this[im]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[im]["proxy-authorization"]=e.token:f&&h&&(this[im]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(f)}:${decodeURIComponent(h)}`).toString("base64")}`);let p=a4e({...e.proxyTls});this[l4e]=a4e({...e.requestTls});let m=e.factory||sCt,g=s((y,E)=>{let{protocol:I}=new wC(y);return!this[u4e]&&I==="http:"&&this[WJ].protocol==="http:"?new jJ(this[WJ].uri,{headers:this[im],connect:p,factory:m}):m(y,E)},"factory");this[tQ]=r(o,{connect:p}),this[eQ]=new eCt({...e,factory:g,connect:s(async(y,E)=>{let I=y.host;y.port||(I+=`:${nCt(y.protocol)}`);try{let{socket:x,statusCode:v}=await this[tQ].connect({origin:c,port:l,path:I,signal:y.signal,headers:{...this[im],host:y.host},servername:this[c4e]?.servername||A});if(v!==200&&(x.on("error",oCt).destroy(),E(new tCt(`Proxy response (${v}) !== 200 when HTTP Tunneling`))),y.protocol!=="https:"){E(null,x);return}let b;this[YJ]?b=this[YJ].servername:b=y.servername,this[l4e]({...y,servername:b,httpSocket:x},E)}catch(x){x.code==="ERR_TLS_CERT_ALTNAME_INVALID"?E(new rCt(x)):E(x)}},"connect")})}dispatch(e,r){let n=aCt(e.headers);if(cCt(n),n&&!("host"in n)&&!("Host"in n)){let{host:o}=new wC(e.origin);n.host=o}return this[eQ].dispatch({...e,headers:n},r)}#e(e){return typeof e=="string"?new wC(e):e instanceof wC?e:new wC(e.uri)}async[f4e](){await this[eQ].close(),await this[tQ].close()}async[d4e](){await this[eQ].destroy(),await this[tQ].destroy()}};function aCt(t){if(Array.isArray(t)){let e={};for(let r=0;r<t.length;r+=2)e[t[r]]=t[r+1];return e}return t}s(aCt,"buildHeaders");function cCt(t){if(t&&Object.keys(t).find(r=>r.toLowerCase()==="proxy-authorization"))throw new xx("Proxy-Authorization should be sent in ProxyAgent constructor")}s(cCt,"throwIfProxyAuthIsSent");m4e.exports=$J});var x4e=T((Thn,I4e)=>{"use strict";d();var lCt=nx(),{kClose:uCt,kDestroy:fCt,kClosed:g4e,kDestroyed:C4e,kDispatch:dCt,kNoProxyAgent:Y4,kHttpProxyAgent:om,kHttpsProxyAgent:SC}=gi(),y4e=zJ(),hCt=Ix(),ACt={"http:":80,"https:":443},E4e=!1,KJ=class extends lCt{static{s(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(e={}){super(),this.#i=e,E4e||(E4e=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:o,...a}=e;this[Y4]=new hCt(a);let c=r??process.env.http_proxy??process.env.HTTP_PROXY;c?this[om]=new y4e({...a,uri:c}):this[om]=this[Y4];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[SC]=new y4e({...a,uri:l}):this[SC]=this[om],this.#o()}[dCt](e,r){let n=new URL(e.origin);return this.#n(n).dispatch(e,r)}async[uCt](){await this[Y4].close(),this[om][g4e]||await this[om].close(),this[SC][g4e]||await this[SC].close()}async[fCt](e){await this[Y4].destroy(e),this[om][C4e]||await this[om].destroy(e),this[SC][C4e]||await this[SC].destroy(e)}#n(e){let{protocol:r,host:n,port:o}=e;return n=n.replace(/:\d*$/,"").toLowerCase(),o=Number.parseInt(o,10)||ACt[r]||0,this.#r(n,o)?r==="https:"?this[SC]:this[om]:this[Y4]}#r(e,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let o=this.#t[n];if(!(o.port&&o.port!==r)){if(/^[.*]/.test(o.hostname)){if(e.endsWith(o.hostname.replace(/^\*/,"")))return!1}else if(e===o.hostname)return!1}}return!0}#o(){let e=this.#i.noProxy??this.#a,r=e.split(/[,\s]/),n=[];for(let o=0;o<r.length;o++){let a=r[o];if(!a)continue;let c=a.match(/^(.+):(\d+)$/);n.push({hostname:(c?c[1]:a).toLowerCase(),port:c?Number.parseInt(c[2],10):0})}this.#e=e,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};I4e.exports=KJ});var rQ=T((Bhn,T4e)=>{"use strict";d();var vx=require("node:assert"),{kRetryHandlerDefaultRetry:v4e}=gi(),{RequestRetryError:j4}=un(),{isDisturbed:b4e,parseHeaders:pCt,parseRangeHeader:_4e,wrapRequestBody:mCt}=yr();function gCt(t){let e=Date.now();return new Date(t).getTime()-e}s(gCt,"calculateRetryAfterHeader");var JJ=class t{static{s(this,"RetryHandler")}constructor(e,r){let{retryOptions:n,...o}=e,{retry:a,maxRetries:c,maxTimeout:l,minTimeout:u,timeoutFactor:f,methods:h,errorCodes:A,retryAfter:p,statusCodes:m}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...o,body:mCt(e.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:a??t[v4e],retryAfter:p??!0,maxTimeout:l??30*1e3,minTimeout:u??500,timeoutFactor:f??2,maxRetries:c??5,methods:h??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:m??[500,502,503,504,429],errorCodes:A??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(g=>{this.aborted=!0,this.abort?this.abort(g):this.reason=g})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(e,r,n)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[v4e](e,{state:r,opts:n},o){let{statusCode:a,code:c,headers:l}=e,{method:u,retryOptions:f}=n,{maxRetries:h,minTimeout:A,maxTimeout:p,timeoutFactor:m,statusCodes:g,errorCodes:y,methods:E}=f,{counter:I}=r;if(c&&c!=="UND_ERR_REQ_RETRY"&&!y.includes(c)){o(e);return}if(Array.isArray(E)&&!E.includes(u)){o(e);return}if(a!=null&&Array.isArray(g)&&!g.includes(a)){o(e);return}if(I>h){o(e);return}let x=l?.["retry-after"];x&&(x=Number(x),x=Number.isNaN(x)?gCt(x):x*1e3);let v=x>0?Math.min(x,p):Math.min(A*m**(I-1),p);setTimeout(()=>o(null),v)}onHeaders(e,r,n,o){let a=pCt(r);if(this.retryCount+=1,e>=300)return this.retryOpts.statusCodes.includes(e)===!1?this.handler.onHeaders(e,r,n,o):(this.abort(new j4("Request failed",e,{headers:a,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,e!==206&&(this.start>0||e!==200))return this.abort(new j4("server does not support the range header and the payload was partially consumed",e,{headers:a,data:{count:this.retryCount}})),!1;let l=_4e(a["content-range"]);if(!l)return this.abort(new j4("Content-Range mismatch",e,{headers:a,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==a.etag)return this.abort(new j4("ETag mismatch",e,{headers:a,data:{count:this.retryCount}})),!1;let{start:u,size:f,end:h=f-1}=l;return vx(this.start===u,"content-range mismatch"),vx(this.end==null||this.end===h,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(e===206){let l=_4e(a["content-range"]);if(l==null)return this.handler.onHeaders(e,r,n,o);let{start:u,size:f,end:h=f-1}=l;vx(u!=null&&Number.isFinite(u),"content-range mismatch"),vx(h!=null&&Number.isFinite(h),"invalid content-length"),this.start=u,this.end=h}if(this.end==null){let l=a["content-length"];this.end=l!=null?Number(l)-1:null}return vx(Number.isFinite(this.start)),vx(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=a.etag!=null?a.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(e,r,n,o)}let c=new j4("Request failed",e,{headers:a,data:{count:this.retryCount}});return this.abort(c),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||b4e(this.opts.body))return this.handler.onError(e);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(e,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||b4e(this.opts.body))return this.handler.onError(n);if(this.start!==0){let o={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(o["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...o}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(o){this.handler.onError(o)}}s(r,"onRetry")}};T4e.exports=JJ});var S4e=T((Dhn,w4e)=>{"use strict";d();var CCt=I4(),yCt=rQ(),XJ=class extends CCt{static{s(this,"RetryAgent")}#e=null;#t=null;constructor(e,r={}){super(r),this.#e=e,this.#t=r}dispatch(e,r){let n=new yCt({...e,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(e,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};w4e.exports=XJ});var iX=T((Phn,L4e)=>{"use strict";d();var N4e=require("node:assert"),{Readable:ECt}=require("node:stream"),{RequestAbortedError:Q4e,NotSupportedError:ICt,InvalidArgumentError:xCt,AbortError:ZJ}=un(),P4e=yr(),{ReadableStreamFrom:vCt}=yr(),i0=Symbol("kConsume"),$4=Symbol("kReading"),sm=Symbol("kBody"),B4e=Symbol("kAbort"),F4e=Symbol("kContentType"),R4e=Symbol("kContentLength"),bCt=s(()=>{},"noop"),eX=class extends ECt{static{s(this,"BodyReadable")}constructor({resume:e,abort:r,contentType:n="",contentLength:o,highWaterMark:a=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:a}),this._readableState.dataEmitted=!1,this[B4e]=r,this[i0]=null,this[sm]=null,this[F4e]=n,this[R4e]=o,this[$4]=!1}destroy(e){return!e&&!this._readableState.endEmitted&&(e=new Q4e),e&&this[B4e](),super.destroy(e)}_destroy(e,r){this[$4]?r(e):setImmediate(()=>{r(e)})}on(e,...r){return(e==="data"||e==="readable")&&(this[$4]=!0),super.on(e,...r)}addListener(e,...r){return this.on(e,...r)}off(e,...r){let n=super.off(e,...r);return(e==="data"||e==="readable")&&(this[$4]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(e,...r){return this.off(e,...r)}push(e){return this[i0]&&e!==null?(rX(this[i0],e),this[$4]?super.push(e):!0):super.push(e)}async text(){return z4(this,"text")}async json(){return z4(this,"json")}async blob(){return z4(this,"blob")}async bytes(){return z4(this,"bytes")}async arrayBuffer(){return z4(this,"arrayBuffer")}async formData(){throw new ICt}get bodyUsed(){return P4e.isDisturbed(this)}get body(){return this[sm]||(this[sm]=vCt(this),this[i0]&&(this[sm].getReader(),N4e(this[sm].locked))),this[sm]}async dump(e){let r=Number.isFinite(e?.limit)?e.limit:131072,n=e?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new xCt("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((o,a)=>{this[R4e]>r&&this.destroy(new ZJ);let c=s(()=>{this.destroy(n.reason??new ZJ)},"onAbort");n?.addEventListener("abort",c),this.on("close",function(){n?.removeEventListener("abort",c),n?.aborted?a(n.reason??new ZJ):o(null)}).on("error",bCt).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function _Ct(t){return t[sm]&&t[sm].locked===!0||t[i0]}s(_Ct,"isLocked");function TCt(t){return P4e.isDisturbed(t)||_Ct(t)}s(TCt,"isUnusable");async function z4(t,e){return N4e(!t[i0]),new Promise((r,n)=>{if(TCt(t)){let o=t._readableState;o.destroyed&&o.closeEmitted===!1?t.on("error",a=>{n(a)}).on("close",()=>{n(new TypeError("unusable"))}):n(o.errored??new TypeError("unusable"))}else queueMicrotask(()=>{t[i0]={type:e,stream:t,resolve:r,reject:n,length:0,body:[]},t.on("error",function(o){nX(this[i0],o)}).on("close",function(){this[i0].body!==null&&nX(this[i0],new Q4e)}),wCt(t[i0])})})}s(z4,"consume");function wCt(t){if(t.body===null)return;let{_readableState:e}=t.stream;if(e.bufferIndex){let r=e.bufferIndex,n=e.buffer.length;for(let o=r;o<n;o++)rX(t,e.buffer[o])}else for(let r of e.buffer)rX(t,r);for(e.endEmitted?D4e(this[i0]):t.stream.on("end",function(){D4e(this[i0])}),t.stream.resume();t.stream.read()!=null;);}s(wCt,"consumeStart");function tX(t,e){if(t.length===0||e===0)return"";let r=t.length===1?t[0]:Buffer.concat(t,e),n=r.length,o=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(o,n)}s(tX,"chunksDecode");function k4e(t,e){if(t.length===0||e===0)return new Uint8Array(0);if(t.length===1)return new Uint8Array(t[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(e).buffer),n=0;for(let o=0;o<t.length;++o){let a=t[o];r.set(a,n),n+=a.length}return r}s(k4e,"chunksConcat");function D4e(t){let{type:e,body:r,resolve:n,stream:o,length:a}=t;try{e==="text"?n(tX(r,a)):e==="json"?n(JSON.parse(tX(r,a))):e==="arrayBuffer"?n(k4e(r,a).buffer):e==="blob"?n(new Blob(r,{type:o[F4e]})):e==="bytes"&&n(k4e(r,a)),nX(t)}catch(c){o.destroy(c)}}s(D4e,"consumeEnd");function rX(t,e){t.length+=e.length,t.body.push(e)}s(rX,"consumePush");function nX(t,e){t.body!==null&&(e?t.reject(e):t.resolve(),t.type=null,t.stream=null,t.resolve=null,t.reject=null,t.length=0,t.body=null)}s(nX,"consumeFinish");L4e.exports={Readable:eX,chunksDecode:tX}});var oX=T((Mhn,H4e)=>{d();var SCt=require("node:assert"),{ResponseStatusCodeError:M4e}=un(),{chunksDecode:O4e}=iX(),BCt=128*1024;async function RCt({callback:t,body:e,contentType:r,statusCode:n,statusMessage:o,headers:a}){SCt(e);let c=[],l=0;try{for await(let A of e)if(c.push(A),l+=A.length,l>BCt){c=[],l=0;break}}catch{c=[],l=0}let u=`Response status code ${n}${o?`: ${o}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>t(new M4e(u,n,a)));return}let f=Error.stackTraceLimit;Error.stackTraceLimit=0;let h;try{U4e(r)?h=JSON.parse(O4e(c,l)):q4e(r)&&(h=O4e(c,l))}catch{}finally{Error.stackTraceLimit=f}queueMicrotask(()=>t(new M4e(u,n,a,h)))}s(RCt,"getResolveErrorBodyCallback");var U4e=s(t=>t.length>15&&t[11]==="/"&&t[0]==="a"&&t[1]==="p"&&t[2]==="p"&&t[3]==="l"&&t[4]==="i"&&t[5]==="c"&&t[6]==="a"&&t[7]==="t"&&t[8]==="i"&&t[9]==="o"&&t[10]==="n"&&t[12]==="j"&&t[13]==="s"&&t[14]==="o"&&t[15]==="n","isContentTypeApplicationJson"),q4e=s(t=>t.length>4&&t[4]==="/"&&t[0]==="t"&&t[1]==="e"&&t[2]==="x"&&t[3]==="t","isContentTypeText");H4e.exports={getResolveErrorBodyCallback:RCt,isContentTypeApplicationJson:U4e,isContentTypeText:q4e}});var W4e=T((qhn,sX)=>{"use strict";d();var kCt=require("node:assert"),{Readable:DCt}=iX(),{InvalidArgumentError:bx,RequestAbortedError:G4e}=un(),o0=yr(),{getResolveErrorBodyCallback:NCt}=oX(),{AsyncResource:QCt}=require("node:async_hooks"),nQ=class extends QCt{static{s(this,"RequestHandler")}constructor(e,r){if(!e||typeof e!="object")throw new bx("invalid opts");let{signal:n,method:o,opaque:a,body:c,onInfo:l,responseHeaders:u,throwOnError:f,highWaterMark:h}=e;try{if(typeof r!="function")throw new bx("invalid callback");if(h&&(typeof h!="number"||h<0))throw new bx("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new bx("signal must be an EventEmitter or EventTarget");if(o==="CONNECT")throw new bx("invalid method");if(l&&typeof l!="function")throw new bx("invalid onInfo callback");super("UNDICI_REQUEST")}catch(A){throw o0.isStream(c)&&o0.destroy(c.on("error",o0.nop),A),A}this.method=o,this.responseHeaders=u||null,this.opaque=a||null,this.callback=r,this.res=null,this.abort=null,this.body=c,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=f,this.highWaterMark=h,this.signal=n,this.reason=null,this.removeAbortListener=null,o0.isStream(c)&&c.on("error",A=>{this.onError(A)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new G4e:this.removeAbortListener=o0.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new G4e,this.res?o0.destroy(this.res.on("error",o0.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(e,r){if(this.reason){e(this.reason);return}kCt(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,o){let{callback:a,opaque:c,abort:l,context:u,responseHeaders:f,highWaterMark:h}=this,A=f==="raw"?o0.parseRawHeaders(r):o0.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:A});return}let p=f==="raw"?o0.parseHeaders(r):A,m=p["content-type"],g=p["content-length"],y=new DCt({resume:n,abort:l,contentType:m,contentLength:this.method!=="HEAD"&&g?Number(g):null,highWaterMark:h});this.removeAbortListener&&y.on("close",this.removeAbortListener),this.callback=null,this.res=y,a!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(NCt,null,{callback:a,body:y,contentType:m,statusCode:e,statusMessage:o,headers:A}):this.runInAsyncScope(a,null,null,{statusCode:e,headers:A,trailers:this.trailers,opaque:c,body:y,context:u}))}onData(e){return this.res.push(e)}onComplete(e){o0.parseHeaders(e,this.trailers),this.res.push(null)}onError(e){let{res:r,callback:n,body:o,opaque:a}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:a})})),r&&(this.res=null,queueMicrotask(()=>{o0.destroy(r,e)})),o&&(this.body=null,o0.destroy(o,e)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function V4e(t,e){if(e===void 0)return new Promise((r,n)=>{V4e.call(this,t,(o,a)=>o?n(o):r(a))});try{this.dispatch(t,new nQ(t,e))}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}s(V4e,"request");sX.exports=V4e;sX.exports.RequestHandler=nQ});var K4=T((Vhn,$4e)=>{d();var{addAbortListener:PCt}=yr(),{RequestAbortedError:FCt}=un(),_x=Symbol("kListener"),Uf=Symbol("kSignal");function Y4e(t){t.abort?t.abort(t[Uf]?.reason):t.reason=t[Uf]?.reason??new FCt,j4e(t)}s(Y4e,"abort");function LCt(t,e){if(t.reason=null,t[Uf]=null,t[_x]=null,!!e){if(e.aborted){Y4e(t);return}t[Uf]=e,t[_x]=()=>{Y4e(t)},PCt(t[Uf],t[_x])}}s(LCt,"addSignal");function j4e(t){t[Uf]&&("removeEventListener"in t[Uf]?t[Uf].removeEventListener("abort",t[_x]):t[Uf].removeListener("abort",t[_x]),t[Uf]=null,t[_x]=null)}s(j4e,"removeSignal");$4e.exports={addSignal:LCt,removeSignal:j4e}});var X4e=T((jhn,J4e)=>{"use strict";d();var MCt=require("node:assert"),{finished:OCt,PassThrough:UCt}=require("node:stream"),{InvalidArgumentError:Tx,InvalidReturnValueError:qCt}=un(),lu=yr(),{getResolveErrorBodyCallback:HCt}=oX(),{AsyncResource:GCt}=require("node:async_hooks"),{addSignal:VCt,removeSignal:z4e}=K4(),aX=class extends GCt{static{s(this,"StreamHandler")}constructor(e,r,n){if(!e||typeof e!="object")throw new Tx("invalid opts");let{signal:o,method:a,opaque:c,body:l,onInfo:u,responseHeaders:f,throwOnError:h}=e;try{if(typeof n!="function")throw new Tx("invalid callback");if(typeof r!="function")throw new Tx("invalid factory");if(o&&typeof o.on!="function"&&typeof o.addEventListener!="function")throw new Tx("signal must be an EventEmitter or EventTarget");if(a==="CONNECT")throw new Tx("invalid method");if(u&&typeof u!="function")throw new Tx("invalid onInfo callback");super("UNDICI_STREAM")}catch(A){throw lu.isStream(l)&&lu.destroy(l.on("error",lu.nop),A),A}this.responseHeaders=f||null,this.opaque=c||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=u||null,this.throwOnError=h||!1,lu.isStream(l)&&l.on("error",A=>{this.onError(A)}),VCt(this,o)}onConnect(e,r){if(this.reason){e(this.reason);return}MCt(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,o){let{factory:a,opaque:c,context:l,callback:u,responseHeaders:f}=this,h=f==="raw"?lu.parseRawHeaders(r):lu.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:h});return}this.factory=null;let A;if(this.throwOnError&&e>=400){let g=(f==="raw"?lu.parseHeaders(r):h)["content-type"];A=new UCt,this.callback=null,this.runInAsyncScope(HCt,null,{callback:u,body:A,contentType:g,statusCode:e,statusMessage:o,headers:h})}else{if(a===null)return;if(A=this.runInAsyncScope(a,null,{statusCode:e,headers:h,opaque:c,context:l}),!A||typeof A.write!="function"||typeof A.end!="function"||typeof A.on!="function")throw new qCt("expected Writable");OCt(A,{readable:!1},m=>{let{callback:g,res:y,opaque:E,trailers:I,abort:x}=this;this.res=null,(m||!y.readable)&&lu.destroy(y,m),this.callback=null,this.runInAsyncScope(g,null,m||null,{opaque:E,trailers:I}),m&&x()})}return A.on("drain",n),this.res=A,(A.writableNeedDrain!==void 0?A.writableNeedDrain:A._writableState?.needDrain)!==!0}onData(e){let{res:r}=this;return r?r.write(e):!0}onComplete(e){let{res:r}=this;z4e(this),r&&(this.trailers=lu.parseHeaders(e),r.end())}onError(e){let{res:r,callback:n,opaque:o,body:a}=this;z4e(this),this.factory=null,r?(this.res=null,lu.destroy(r,e)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:o})})),a&&(this.body=null,lu.destroy(a,e))}};function K4e(t,e,r){if(r===void 0)return new Promise((n,o)=>{K4e.call(this,t,e,(a,c)=>a?o(a):n(c))});try{this.dispatch(t,new aX(t,e,r))}catch(n){if(typeof r!="function")throw n;let o=t?.opaque;queueMicrotask(()=>r(n,{opaque:o}))}}s(K4e,"stream");J4e.exports=K4e});var rwe=T((Khn,twe)=>{"use strict";d();var{Readable:ewe,Duplex:WCt,PassThrough:YCt}=require("node:stream"),{InvalidArgumentError:J4,InvalidReturnValueError:jCt,RequestAbortedError:cX}=un(),cl=yr(),{AsyncResource:$Ct}=require("node:async_hooks"),{addSignal:zCt,removeSignal:KCt}=K4(),Z4e=require("node:assert"),wx=Symbol("resume"),lX=class extends ewe{static{s(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[wx]=null}_read(){let{[wx]:e}=this;e&&(this[wx]=null,e())}_destroy(e,r){this._read(),r(e)}},uX=class extends ewe{static{s(this,"PipelineResponse")}constructor(e){super({autoDestroy:!0}),this[wx]=e}_read(){this[wx]()}_destroy(e,r){!e&&!this._readableState.endEmitted&&(e=new cX),r(e)}},fX=class extends $Ct{static{s(this,"PipelineHandler")}constructor(e,r){if(!e||typeof e!="object")throw new J4("invalid opts");if(typeof r!="function")throw new J4("invalid handler");let{signal:n,method:o,opaque:a,onInfo:c,responseHeaders:l}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new J4("signal must be an EventEmitter or EventTarget");if(o==="CONNECT")throw new J4("invalid method");if(c&&typeof c!="function")throw new J4("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=a||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=c||null,this.req=new lX().on("error",cl.nop),this.ret=new WCt({readableObjectMode:e.objectMode,autoDestroy:!0,read:s(()=>{let{body:u}=this;u?.resume&&u.resume()},"read"),write:s((u,f,h)=>{let{req:A}=this;A.push(u,f)||A._readableState.destroyed?h():A[wx]=h},"write"),destroy:s((u,f)=>{let{body:h,req:A,res:p,ret:m,abort:g}=this;!u&&!m._readableState.endEmitted&&(u=new cX),g&&u&&g(),cl.destroy(h,u),cl.destroy(A,u),cl.destroy(p,u),KCt(this),f(u)},"destroy")}).on("prefinish",()=>{let{req:u}=this;u.push(null)}),this.res=null,zCt(this,n)}onConnect(e,r){let{ret:n,res:o}=this;if(this.reason){e(this.reason);return}Z4e(!o,"pipeline cannot be retried"),Z4e(!n.destroyed),this.abort=e,this.context=r}onHeaders(e,r,n){let{opaque:o,handler:a,context:c}=this;if(e<200){if(this.onInfo){let u=this.responseHeaders==="raw"?cl.parseRawHeaders(r):cl.parseHeaders(r);this.onInfo({statusCode:e,headers:u})}return}this.res=new uX(n);let l;try{this.handler=null;let u=this.responseHeaders==="raw"?cl.parseRawHeaders(r):cl.parseHeaders(r);l=this.runInAsyncScope(a,null,{statusCode:e,headers:u,opaque:o,body:this.res,context:c})}catch(u){throw this.res.on("error",cl.nop),u}if(!l||typeof l.on!="function")throw new jCt("expected Readable");l.on("data",u=>{let{ret:f,body:h}=this;!f.push(u)&&h.pause&&h.pause()}).on("error",u=>{let{ret:f}=this;cl.destroy(f,u)}).on("end",()=>{let{ret:u}=this;u.push(null)}).on("close",()=>{let{ret:u}=this;u._readableState.ended||cl.destroy(u,new cX)}),this.body=l}onData(e){let{res:r}=this;return r.push(e)}onComplete(e){let{res:r}=this;r.push(null)}onError(e){let{ret:r}=this;this.handler=null,cl.destroy(r,e)}};function JCt(t,e){try{let r=new fX(t,e);return this.dispatch({...t,body:r.req},r),r.ret}catch(r){return new YCt().destroy(r)}}s(JCt,"pipeline");twe.exports=JCt});var cwe=T((Zhn,awe)=>{"use strict";d();var{InvalidArgumentError:dX,SocketError:XCt}=un(),{AsyncResource:ZCt}=require("node:async_hooks"),nwe=yr(),{addSignal:eyt,removeSignal:iwe}=K4(),owe=require("node:assert"),hX=class extends ZCt{static{s(this,"UpgradeHandler")}constructor(e,r){if(!e||typeof e!="object")throw new dX("invalid opts");if(typeof r!="function")throw new dX("invalid callback");let{signal:n,opaque:o,responseHeaders:a}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new dX("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=a||null,this.opaque=o||null,this.callback=r,this.abort=null,this.context=null,eyt(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}owe(this.callback),this.abort=e,this.context=null}onHeaders(){throw new XCt("bad upgrade",null)}onUpgrade(e,r,n){owe(e===101);let{callback:o,opaque:a,context:c}=this;iwe(this),this.callback=null;let l=this.responseHeaders==="raw"?nwe.parseRawHeaders(r):nwe.parseHeaders(r);this.runInAsyncScope(o,null,null,{headers:l,socket:n,opaque:a,context:c})}onError(e){let{callback:r,opaque:n}=this;iwe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function swe(t,e){if(e===void 0)return new Promise((r,n)=>{swe.call(this,t,(o,a)=>o?n(o):r(a))});try{let r=new hX(t,e);this.dispatch({...t,method:t.method||"GET",upgrade:t.protocol||"Websocket"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}s(swe,"upgrade");awe.exports=swe});var hwe=T((rAn,dwe)=>{"use strict";d();var tyt=require("node:assert"),{AsyncResource:ryt}=require("node:async_hooks"),{InvalidArgumentError:AX,SocketError:nyt}=un(),lwe=yr(),{addSignal:iyt,removeSignal:uwe}=K4(),pX=class extends ryt{static{s(this,"ConnectHandler")}constructor(e,r){if(!e||typeof e!="object")throw new AX("invalid opts");if(typeof r!="function")throw new AX("invalid callback");let{signal:n,opaque:o,responseHeaders:a}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new AX("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=o||null,this.responseHeaders=a||null,this.callback=r,this.abort=null,iyt(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}tyt(this.callback),this.abort=e,this.context=r}onHeaders(){throw new nyt("bad connect",null)}onUpgrade(e,r,n){let{callback:o,opaque:a,context:c}=this;uwe(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?lwe.parseRawHeaders(r):lwe.parseHeaders(r)),this.runInAsyncScope(o,null,null,{statusCode:e,headers:l,socket:n,opaque:a,context:c})}onError(e){let{callback:r,opaque:n}=this;uwe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function fwe(t,e){if(e===void 0)return new Promise((r,n)=>{fwe.call(this,t,(o,a)=>o?n(o):r(a))});try{let r=new pX(t,e);this.dispatch({...t,method:"CONNECT"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}s(fwe,"connect");dwe.exports=fwe});var Awe=T((oAn,Sx)=>{"use strict";d();Sx.exports.request=W4e();Sx.exports.stream=X4e();Sx.exports.pipeline=rwe();Sx.exports.upgrade=cwe();Sx.exports.connect=hwe()});var gX=T((aAn,mwe)=>{"use strict";d();var{UndiciError:oyt}=un(),pwe=Symbol.for("undici.error.UND_MOCK_ERR_MOCK_NOT_MATCHED"),mX=class t extends oyt{static{s(this,"MockNotMatchedError")}constructor(e){super(e),Error.captureStackTrace(this,t),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}static[Symbol.hasInstance](e){return e&&e[pwe]===!0}[pwe]=!0};mwe.exports={MockNotMatchedError:mX}});var Bx=T((uAn,gwe)=>{"use strict";d();gwe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var X4=T((dAn,Swe)=>{"use strict";d();var{MockNotMatchedError:BC}=gX(),{kDispatches:iQ,kMockAgent:syt,kOriginalDispatch:ayt,kOrigin:cyt,kGetNetConnect:lyt}=Bx(),{buildURL:uyt}=yr(),{STATUS_CODES:fyt}=require("node:http"),{types:{isPromise:dyt}}=require("node:util");function Bh(t,e){return typeof t=="string"?t===e:t instanceof RegExp?t.test(e):typeof t=="function"?t(e)===!0:!1}s(Bh,"matchValue");function ywe(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLocaleLowerCase(),r]))}s(ywe,"lowerCaseEntries");function Ewe(t,e){if(Array.isArray(t)){for(let r=0;r<t.length;r+=2)if(t[r].toLocaleLowerCase()===e.toLocaleLowerCase())return t[r+1];return}else return typeof t.get=="function"?t.get(e):ywe(t)[e.toLocaleLowerCase()]}s(Ewe,"getHeaderByName");function EX(t){let e=t.slice(),r=[];for(let n=0;n<e.length;n+=2)r.push([e[n],e[n+1]]);return Object.fromEntries(r)}s(EX,"buildHeadersFromArray");function Iwe(t,e){if(typeof t.headers=="function")return Array.isArray(e)&&(e=EX(e)),t.headers(e?ywe(e):{});if(typeof t.headers>"u")return!0;if(typeof e!="object"||typeof t.headers!="object")return!1;for(let[r,n]of Object.entries(t.headers)){let o=Ewe(e,r);if(!Bh(n,o))return!1}return!0}s(Iwe,"matchHeaders");function Cwe(t){if(typeof t!="string")return t;let e=t.split("?");if(e.length!==2)return t;let r=new URLSearchParams(e.pop());return r.sort(),[...e,r.toString()].join("?")}s(Cwe,"safeUrl");function hyt(t,{path:e,method:r,body:n,headers:o}){let a=Bh(t.path,e),c=Bh(t.method,r),l=typeof t.body<"u"?Bh(t.body,n):!0,u=Iwe(t,o);return a&&c&&l&&u}s(hyt,"matchKey");function xwe(t){return Buffer.isBuffer(t)||t instanceof Uint8Array||t instanceof ArrayBuffer?t:typeof t=="object"?JSON.stringify(t):t.toString()}s(xwe,"getResponseData");function vwe(t,e){let r=e.query?uyt(e.path,e.query):e.path,n=typeof r=="string"?Cwe(r):r,o=t.filter(({consumed:a})=>!a).filter(({path:a})=>Bh(Cwe(a),n));if(o.length===0)throw new BC(`Mock dispatch not matched for path '${n}'`);if(o=o.filter(({method:a})=>Bh(a,e.method)),o.length===0)throw new BC(`Mock dispatch not matched for method '${e.method}' on path '${n}'`);if(o=o.filter(({body:a})=>typeof a<"u"?Bh(a,e.body):!0),o.length===0)throw new BC(`Mock dispatch not matched for body '${e.body}' on path '${n}'`);if(o=o.filter(a=>Iwe(a,e.headers)),o.length===0){let a=typeof e.headers=="object"?JSON.stringify(e.headers):e.headers;throw new BC(`Mock dispatch not matched for headers '${a}' on path '${n}'`)}return o[0]}s(vwe,"getMockDispatch");function Ayt(t,e,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},o=typeof r=="function"?{callback:r}:{...r},a={...n,...e,pending:!0,data:{error:null,...o}};return t.push(a),a}s(Ayt,"addMockDispatch");function CX(t,e){let r=t.findIndex(n=>n.consumed?hyt(n,e):!1);r!==-1&&t.splice(r,1)}s(CX,"deleteMockDispatch");function bwe(t){let{path:e,method:r,body:n,headers:o,query:a}=t;return{path:e,method:r,body:n,headers:o,query:a}}s(bwe,"buildKey");function yX(t){let e=Object.keys(t),r=[];for(let n=0;n<e.length;++n){let o=e[n],a=t[o],c=Buffer.from(`${o}`);if(Array.isArray(a))for(let l=0;l<a.length;++l)r.push(c,Buffer.from(`${a[l]}`));else r.push(c,Buffer.from(`${a}`))}return r}s(yX,"generateKeyValues");function _we(t){return fyt[t]||"unknown"}s(_we,"getStatusText");async function pyt(t){let e=[];for await(let r of t)e.push(r);return Buffer.concat(e).toString("utf8")}s(pyt,"getResponse");function Twe(t,e){let r=bwe(t),n=vwe(this[iQ],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(t)});let{data:{statusCode:o,data:a,headers:c,trailers:l,error:u},delay:f,persist:h}=n,{timesInvoked:A,times:p}=n;if(n.consumed=!h&&A>=p,n.pending=A<p,u!==null)return CX(this[iQ],r),e.onError(u),!0;typeof f=="number"&&f>0?setTimeout(()=>{m(this[iQ])},f):m(this[iQ]);function m(y,E=a){let I=Array.isArray(t.headers)?EX(t.headers):t.headers,x=typeof E=="function"?E({...t,headers:I}):E;if(dyt(x)){x.then(S=>m(y,S));return}let v=xwe(x),b=yX(c),_=yX(l);e.onConnect?.(S=>e.onError(S),null),e.onHeaders?.(o,b,g,_we(o)),e.onData?.(Buffer.from(v)),e.onComplete?.(_),CX(y,r)}s(m,"handleReply");function g(){}return s(g,"resume"),!0}s(Twe,"mockDispatch");function myt(){let t=this[syt],e=this[cyt],r=this[ayt];return s(function(o,a){if(t.isMockActive)try{Twe.call(this,o,a)}catch(c){if(c instanceof BC){let l=t[lyt]();if(l===!1)throw new BC(`${c.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(wwe(l,e))r.call(this,o,a);else throw new BC(`${c.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw c}else r.call(this,o,a)},"dispatch")}s(myt,"buildMockDispatch");function wwe(t,e){let r=new URL(e);return t===!0?!0:!!(Array.isArray(t)&&t.some(n=>Bh(n,r.host)))}s(wwe,"checkNetConnect");function gyt(t){if(t){let{agent:e,...r}=t;return r}}s(gyt,"buildMockOptions");Swe.exports={getResponseData:xwe,getMockDispatch:vwe,addMockDispatch:Ayt,deleteMockDispatch:CX,buildKey:bwe,generateKeyValues:yX,matchValue:Bh,getResponse:pyt,getStatusText:_we,mockDispatch:Twe,buildMockDispatch:myt,checkNetConnect:wwe,buildMockOptions:gyt,getHeaderByName:Ewe,buildHeadersFromArray:EX}});var wX=T((pAn,TX)=>{"use strict";d();var{getResponseData:Cyt,buildKey:yyt,addMockDispatch:IX}=X4(),{kDispatches:oQ,kDispatchKey:sQ,kDefaultHeaders:xX,kDefaultTrailers:vX,kContentLength:bX,kMockDispatch:aQ}=Bx(),{InvalidArgumentError:qf}=un(),{buildURL:Eyt}=yr(),Rx=class{static{s(this,"MockScope")}constructor(e){this[aQ]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new qf("waitInMs must be a valid integer > 0");return this[aQ].delay=e,this}persist(){return this[aQ].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new qf("repeatTimes must be a valid integer > 0");return this[aQ].times=e,this}},_X=class{static{s(this,"MockInterceptor")}constructor(e,r){if(typeof e!="object")throw new qf("opts must be an object");if(typeof e.path>"u")throw new qf("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=Eyt(e.path,e.query);else{let n=new URL(e.path,"data://");e.path=n.pathname+n.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[sQ]=yyt(e),this[oQ]=r,this[xX]={},this[vX]={},this[bX]=!1}createMockScopeDispatchData({statusCode:e,data:r,responseOptions:n}){let o=Cyt(r),a=this[bX]?{"content-length":o.length}:{},c={...this[xX],...a,...n.headers},l={...this[vX],...n.trailers};return{statusCode:e,data:r,headers:c,trailers:l}}validateReplyParameters(e){if(typeof e.statusCode>"u")throw new qf("statusCode must be defined");if(typeof e.responseOptions!="object"||e.responseOptions===null)throw new qf("responseOptions must be an object")}reply(e){if(typeof e=="function"){let a=s(l=>{let u=e(l);if(typeof u!="object"||u===null)throw new qf("reply options callback must return an object");let f={data:"",responseOptions:{},...u};return this.validateReplyParameters(f),{...this.createMockScopeDispatchData(f)}},"wrappedDefaultsCallback"),c=IX(this[oQ],this[sQ],a);return new Rx(c)}let r={statusCode:e,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),o=IX(this[oQ],this[sQ],n);return new Rx(o)}replyWithError(e){if(typeof e>"u")throw new qf("error must be defined");let r=IX(this[oQ],this[sQ],{error:e});return new Rx(r)}defaultReplyHeaders(e){if(typeof e>"u")throw new qf("headers must be defined");return this[xX]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new qf("trailers must be defined");return this[vX]=e,this}replyContentLength(){return this[bX]=!0,this}};TX.exports.MockInterceptor=_X;TX.exports.MockScope=Rx});var RX=T((CAn,Pwe)=>{"use strict";d();var{promisify:Iyt}=require("node:util"),xyt=yx(),{buildMockDispatch:vyt}=X4(),{kDispatches:Bwe,kMockAgent:Rwe,kClose:kwe,kOriginalClose:Dwe,kOrigin:Nwe,kOriginalDispatch:byt,kConnected:SX}=Bx(),{MockInterceptor:_yt}=wX(),Qwe=gi(),{InvalidArgumentError:Tyt}=un(),BX=class extends xyt{static{s(this,"MockClient")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new Tyt("Argument opts.agent must implement Agent");this[Rwe]=r.agent,this[Nwe]=e,this[Bwe]=[],this[SX]=1,this[byt]=this.dispatch,this[Dwe]=this.close.bind(this),this.dispatch=vyt.call(this),this.close=this[kwe]}get[Qwe.kConnected](){return this[SX]}intercept(e){return new _yt(e,this[Bwe])}async[kwe](){await Iyt(this[Dwe])(),this[SX]=0,this[Rwe][Qwe.kClients].delete(this[Nwe])}};Pwe.exports=BX});var NX=T((IAn,Hwe)=>{"use strict";d();var{promisify:wyt}=require("node:util"),Syt=Ex(),{buildMockDispatch:Byt}=X4(),{kDispatches:Fwe,kMockAgent:Lwe,kClose:Mwe,kOriginalClose:Owe,kOrigin:Uwe,kOriginalDispatch:Ryt,kConnected:kX}=Bx(),{MockInterceptor:kyt}=wX(),qwe=gi(),{InvalidArgumentError:Dyt}=un(),DX=class extends Syt{static{s(this,"MockPool")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new Dyt("Argument opts.agent must implement Agent");this[Lwe]=r.agent,this[Uwe]=e,this[Fwe]=[],this[kX]=1,this[Ryt]=this.dispatch,this[Owe]=this.close.bind(this),this.dispatch=Byt.call(this),this.close=this[Mwe]}get[qwe.kConnected](){return this[kX]}intercept(e){return new kyt(e,this[Fwe])}async[Mwe](){await wyt(this[Owe])(),this[kX]=0,this[Lwe][qwe.kClients].delete(this[Uwe])}};Hwe.exports=DX});var Vwe=T((_An,Gwe)=>{"use strict";d();var Nyt={pronoun:"it",is:"is",was:"was",this:"this"},Qyt={pronoun:"they",is:"are",was:"were",this:"these"};Gwe.exports=class{static{s(this,"Pluralizer")}constructor(e,r){this.singular=e,this.plural=r}pluralize(e){let r=e===1,n=r?Nyt:Qyt,o=r?this.singular:this.plural;return{...n,count:e,noun:o}}}});var Ywe=T((BAn,Wwe)=>{"use strict";d();var{Transform:Pyt}=require("node:stream"),{Console:Fyt}=require("node:console"),Lyt=process.versions.icu?"\u2705":"Y ",Myt=process.versions.icu?"\u274C":"N ";Wwe.exports=class{static{s(this,"PendingInterceptorsFormatter")}constructor({disableColors:e}={}){this.transform=new Pyt({transform(r,n,o){o(null,r)}}),this.logger=new Fyt({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let r=e.map(({method:n,path:o,data:{statusCode:a},persist:c,times:l,timesInvoked:u,origin:f})=>({Method:n,Origin:f,Path:o,"Status code":a,Persistent:c?Lyt:Myt,Invocations:u,Remaining:c?1/0:l-u}));return this.logger.table(r),this.transform.read().toString()}}});var Kwe=T((DAn,zwe)=>{"use strict";d();var{kClients:RC}=gi(),Oyt=Ix(),{kAgent:QX,kMockAgentSet:cQ,kMockAgentGet:jwe,kDispatches:PX,kIsMockActive:lQ,kNetConnect:kC,kGetNetConnect:Uyt,kOptions:uQ,kFactory:fQ}=Bx(),qyt=RX(),Hyt=NX(),{matchValue:Gyt,buildMockOptions:Vyt}=X4(),{InvalidArgumentError:$we,UndiciError:Wyt}=un(),Yyt=I4(),jyt=Vwe(),$yt=Ywe(),FX=class extends Yyt{static{s(this,"MockAgent")}constructor(e){if(super(e),this[kC]=!0,this[lQ]=!0,e?.agent&&typeof e.agent.dispatch!="function")throw new $we("Argument opts.agent must implement Agent");let r=e?.agent?e.agent:new Oyt(e);this[QX]=r,this[RC]=r[RC],this[uQ]=Vyt(e)}get(e){let r=this[jwe](e);return r||(r=this[fQ](e),this[cQ](e,r)),r}dispatch(e,r){return this.get(e.origin),this[QX].dispatch(e,r)}async close(){await this[QX].close(),this[RC].clear()}deactivate(){this[lQ]=!1}activate(){this[lQ]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[kC])?this[kC].push(e):this[kC]=[e];else if(typeof e>"u")this[kC]=!0;else throw new $we("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[kC]=!1}get isMockActive(){return this[lQ]}[cQ](e,r){this[RC].set(e,r)}[fQ](e){let r=Object.assign({agent:this},this[uQ]);return this[uQ]&&this[uQ].connections===1?new qyt(e,r):new Hyt(e,r)}[jwe](e){let r=this[RC].get(e);if(r)return r;if(typeof e!="string"){let n=this[fQ]("http://localhost:9999");return this[cQ](e,n),n}for(let[n,o]of Array.from(this[RC]))if(o&&typeof n!="string"&&Gyt(n,e)){let a=this[fQ](e);return this[cQ](e,a),a[PX]=o[PX],a}}[Uyt](){return this[kC]}pendingInterceptors(){let e=this[RC];return Array.from(e.entries()).flatMap(([r,n])=>n[PX].map(o=>({...o,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new $yt}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new jyt("interceptor","interceptors").pluralize(r.length);throw new Wyt(`
${n.count} ${n.noun} ${n.is} pending:

${e.format(r)}
`.trim())}};zwe.exports=FX});var dQ=T((PAn,eSe)=>{"use strict";d();var Jwe=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:zyt}=un(),Kyt=Ix();Zwe()===void 0&&Xwe(new Kyt);function Xwe(t){if(!t||typeof t.dispatch!="function")throw new zyt("Argument agent must implement Agent");Object.defineProperty(globalThis,Jwe,{value:t,writable:!0,enumerable:!1,configurable:!1})}s(Xwe,"setGlobalDispatcher");function Zwe(){return globalThis[Jwe]}s(Zwe,"getGlobalDispatcher");eSe.exports={setGlobalDispatcher:Xwe,getGlobalDispatcher:Zwe}});var hQ=T((OAn,tSe)=>{"use strict";d();tSe.exports=class{static{s(this,"DecoratorHandler")}#e;constructor(e){if(typeof e!="object"||e===null)throw new TypeError("handler must be an object");this.#e=e}onConnect(...e){return this.#e.onConnect?.(...e)}onError(...e){return this.#e.onError?.(...e)}onUpgrade(...e){return this.#e.onUpgrade?.(...e)}onResponseStarted(...e){return this.#e.onResponseStarted?.(...e)}onHeaders(...e){return this.#e.onHeaders?.(...e)}onData(...e){return this.#e.onData?.(...e)}onComplete(...e){return this.#e.onComplete?.(...e)}onBodySent(...e){return this.#e.onBodySent?.(...e)}}});var nSe=T((HAn,rSe)=>{"use strict";d();var Jyt=WN();rSe.exports=t=>{let e=t?.maxRedirections;return r=>s(function(o,a){let{maxRedirections:c=e,...l}=o;if(!c)return r(o,a);let u=new Jyt(r,c,o,a);return r(l,u)},"redirectInterceptor")}});var oSe=T((WAn,iSe)=>{"use strict";d();var Xyt=rQ();iSe.exports=t=>e=>s(function(n,o){return e(n,new Xyt({...n,retryOptions:{...t,...n.retryOptions}},{handler:o,dispatch:e}))},"retryInterceptor")});var aSe=T(($An,sSe)=>{"use strict";d();var Zyt=yr(),{InvalidArgumentError:eEt,RequestAbortedError:tEt}=un(),rEt=hQ(),LX=class extends rEt{static{s(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:e},r){if(super(r),e!=null&&(!Number.isFinite(e)||e<1))throw new eEt("maxSize must be a number greater than 0");this.#e=e??this.#e,this.#s=r}onConnect(e){this.#t=e,this.#s.onConnect(this.#a.bind(this))}#a(e){this.#n=!0,this.#o=e}onHeaders(e,r,n,o){let c=Zyt.parseHeaders(r)["content-length"];if(c!=null&&c>this.#e)throw new tEt(`Response size (${c}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(e,r,n,o)}onError(e){this.#i||(e=this.#o??e,this.#s.onError(e))}onData(e){return this.#r=this.#r+e.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(e){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(e)}}};function nEt({maxSize:t}={maxSize:1024*1024}){return e=>s(function(n,o){let{dumpMaxSize:a=t}=n,c=new LX({maxSize:a},o);return e(n,c)},"Intercept")}s(nEt,"createDumpInterceptor");sSe.exports=nEt});var uSe=T((JAn,lSe)=>{"use strict";d();var{isIP:iEt}=require("node:net"),{lookup:oEt}=require("node:dns"),sEt=hQ(),{InvalidArgumentError:kx,InformationalError:aEt}=un(),cSe=Math.pow(2,31)-1,MX=class{static{s(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(e){this.#e=e.maxTTL,this.#t=e.maxItems,this.dualStack=e.dualStack,this.affinity=e.affinity,this.lookup=e.lookup??this.#n,this.pick=e.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(e,r,n){let o=this.#i.get(e.hostname);if(o==null&&this.full){n(null,e.origin);return}let a={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(o==null)this.lookup(e,a,(c,l)=>{if(c||l==null||l.length===0){n(c??new aEt("No DNS entries found"));return}this.setRecords(e,l);let u=this.#i.get(e.hostname),f=this.pick(e,u,a.affinity),h;typeof f.port=="number"?h=`:${f.port}`:e.port!==""?h=`:${e.port}`:h="",n(null,`${e.protocol}//${f.family===6?`[${f.address}]`:f.address}${h}`)});else{let c=this.pick(e,o,a.affinity);if(c==null){this.#i.delete(e.hostname),this.runLookup(e,r,n);return}let l;typeof c.port=="number"?l=`:${c.port}`:e.port!==""?l=`:${e.port}`:l="",n(null,`${e.protocol}//${c.family===6?`[${c.address}]`:c.address}${l}`)}}#n(e,r,n){oEt(e.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(o,a)=>{if(o)return n(o);let c=new Map;for(let l of a)c.set(`${l.address}:${l.family}`,l);n(null,c.values())})}#r(e,r,n){let o=null,{records:a,offset:c}=r,l;if(this.dualStack?(n==null&&(c==null||c===cSe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),a[n]!=null&&a[n].ips.length>0?l=a[n]:l=a[n===4?6:4]):l=a[n],l==null||l.ips.length===0)return o;l.offset==null||l.offset===cSe?l.offset=0:l.offset++;let u=l.offset%l.ips.length;return o=l.ips[u]??null,o==null?o:Date.now()-o.timestamp>o.ttl?(l.ips.splice(u,1),this.pick(e,r,n)):o}setRecords(e,r){let n=Date.now(),o={records:{4:null,6:null}};for(let a of r){a.timestamp=n,typeof a.ttl=="number"?a.ttl=Math.min(a.ttl,this.#e):a.ttl=this.#e;let c=o.records[a.family]??{ips:[]};c.ips.push(a),o.records[a.family]=c}this.#i.set(e.hostname,o)}getHandler(e,r){return new OX(this,e,r)}},OX=class extends sEt{static{s(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(e,{origin:r,handler:n,dispatch:o},a){super(n),this.#r=r,this.#n=n,this.#t={...a},this.#e=e,this.#i=o}onError(e){switch(e.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let o={...this.#t,origin:n};this.#i(o,this)});return}this.#n.onError(e);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(e);break}}};lSe.exports=t=>{if(t?.maxTTL!=null&&(typeof t?.maxTTL!="number"||t?.maxTTL<0))throw new kx("Invalid maxTTL. Must be a positive number");if(t?.maxItems!=null&&(typeof t?.maxItems!="number"||t?.maxItems<1))throw new kx("Invalid maxItems. Must be a positive number and greater than zero");if(t?.affinity!=null&&t?.affinity!==4&&t?.affinity!==6)throw new kx("Invalid affinity. Must be either 4 or 6");if(t?.dualStack!=null&&typeof t?.dualStack!="boolean")throw new kx("Invalid dualStack. Must be a boolean");if(t?.lookup!=null&&typeof t?.lookup!="function")throw new kx("Invalid lookup. Must be a function");if(t?.pick!=null&&typeof t?.pick!="function")throw new kx("Invalid pick. Must be a function");let e=t?.dualStack??!0,r;e?r=t?.affinity??null:r=t?.affinity??4;let n={maxTTL:t?.maxTTL??1e4,lookup:t?.lookup??null,pick:t?.pick??null,dualStack:e,affinity:r,maxItems:t?.maxItems??1/0},o=new MX(n);return a=>s(function(l,u){let f=l.origin.constructor===URL?l.origin:new URL(l.origin);return iEt(f.hostname)!==0?a(l,u):(o.runLookup(f,l,(h,A)=>{if(h)return u.onError(h);let p=null;p={...l,servername:f.hostname,origin:A,headers:{host:f.hostname,...l.headers}},a(p,o.getHandler({origin:f,dispatch:a,handler:u},l))}),!0)},"dnsInterceptor")}});var DC=T((epn,gSe)=>{"use strict";d();var{kConstruct:cEt}=gi(),{kEnumerableProperty:Dx}=yr(),{iteratorMixin:lEt,isValidHeaderName:Z4,isValidHeaderValue:dSe}=n0(),{webidl:Kr}=Is(),UX=require("node:assert"),AQ=require("node:util"),po=Symbol("headers map"),s0=Symbol("headers map sorted");function fSe(t){return t===10||t===13||t===9||t===32}s(fSe,"isHTTPWhiteSpaceCharCode");function hSe(t){let e=0,r=t.length;for(;r>e&&fSe(t.charCodeAt(r-1));)--r;for(;r>e&&fSe(t.charCodeAt(e));)++e;return e===0&&r===t.length?t:t.substring(e,r)}s(hSe,"headerValueNormalize");function ASe(t,e){if(Array.isArray(e))for(let r=0;r<e.length;++r){let n=e[r];if(n.length!==2)throw Kr.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});qX(t,n[0],n[1])}else if(typeof e=="object"&&e!==null){let r=Object.keys(e);for(let n=0;n<r.length;++n)qX(t,r[n],e[r[n]])}else throw Kr.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}s(ASe,"fill");function qX(t,e,r){if(r=hSe(r),Z4(e)){if(!dSe(r))throw Kr.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Kr.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(mSe(t)==="immutable")throw new TypeError("immutable");return HX(t).append(e,r,!1)}s(qX,"appendHeader");function pSe(t,e){return t[0]<e[0]?-1:1}s(pSe,"compareHeaderName");var pQ=class t{static{s(this,"HeadersList")}cookies=null;constructor(e){e instanceof t?(this[po]=new Map(e[po]),this[s0]=e[s0],this.cookies=e.cookies===null?null:[...e.cookies]):(this[po]=new Map(e),this[s0]=null)}contains(e,r){return this[po].has(r?e:e.toLowerCase())}clear(){this[po].clear(),this[s0]=null,this.cookies=null}append(e,r,n){this[s0]=null;let o=n?e:e.toLowerCase(),a=this[po].get(o);if(a){let c=o==="cookie"?"; ":", ";this[po].set(o,{name:a.name,value:`${a.value}${c}${r}`})}else this[po].set(o,{name:e,value:r});o==="set-cookie"&&(this.cookies??=[]).push(r)}set(e,r,n){this[s0]=null;let o=n?e:e.toLowerCase();o==="set-cookie"&&(this.cookies=[r]),this[po].set(o,{name:e,value:r})}delete(e,r){this[s0]=null,r||(e=e.toLowerCase()),e==="set-cookie"&&(this.cookies=null),this[po].delete(e)}get(e,r){return this[po].get(r?e:e.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:e,1:{value:r}}of this[po])yield[e,r]}get entries(){let e={};if(this[po].size!==0)for(let{name:r,value:n}of this[po].values())e[r]=n;return e}rawValues(){return this[po].values()}get entriesList(){let e=[];if(this[po].size!==0)for(let{0:r,1:{name:n,value:o}}of this[po])if(r==="set-cookie")for(let a of this.cookies)e.push([n,a]);else e.push([n,o]);return e}toSortedArray(){let e=this[po].size,r=new Array(e);if(e<=32){if(e===0)return r;let n=this[po][Symbol.iterator](),o=n.next().value;r[0]=[o[0],o[1].value],UX(o[1].value!==null);for(let a=1,c=0,l=0,u=0,f=0,h,A;a<e;++a){for(A=n.next().value,h=r[a]=[A[0],A[1].value],UX(h[1]!==null),u=0,l=a;u<l;)f=u+(l-u>>1),r[f][0]<=h[0]?u=f+1:l=f;if(a!==f){for(c=a;c>u;)r[c]=r[--c];r[u]=h}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:o,1:{value:a}}of this[po])r[n++]=[o,a],UX(a!==null);return r.sort(pSe)}}},uu=class t{static{s(this,"Headers")}#e;#t;constructor(e=void 0){Kr.util.markAsUncloneable(this),e!==cEt&&(this.#t=new pQ,this.#e="none",e!==void 0&&(e=Kr.converters.HeadersInit(e,"Headers contructor","init"),ASe(this,e)))}append(e,r){Kr.brandCheck(this,t),Kr.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return e=Kr.converters.ByteString(e,n,"name"),r=Kr.converters.ByteString(r,n,"value"),qX(this,e,r)}delete(e){if(Kr.brandCheck(this,t),Kr.argumentLengthCheck(arguments,1,"Headers.delete"),e=Kr.converters.ByteString(e,"Headers.delete","name"),!Z4(e))throw Kr.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(e,!1)&&this.#t.delete(e,!1)}get(e){Kr.brandCheck(this,t),Kr.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(e=Kr.converters.ByteString(e,r,"name"),!Z4(e))throw Kr.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.get(e,!1)}has(e){Kr.brandCheck(this,t),Kr.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(e=Kr.converters.ByteString(e,r,"name"),!Z4(e))throw Kr.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.contains(e,!1)}set(e,r){Kr.brandCheck(this,t),Kr.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(e=Kr.converters.ByteString(e,n,"name"),r=Kr.converters.ByteString(r,n,"value"),r=hSe(r),Z4(e)){if(!dSe(r))throw Kr.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Kr.errors.invalidArgument({prefix:n,value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(e,r,!1)}getSetCookie(){Kr.brandCheck(this,t);let e=this.#t.cookies;return e?[...e]:[]}get[s0](){if(this.#t[s0])return this.#t[s0];let e=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[s0]=r;for(let o=0;o<r.length;++o){let{0:a,1:c}=r[o];if(a==="set-cookie")for(let l=0;l<n.length;++l)e.push([a,n[l]]);else e.push([a,c])}return this.#t[s0]=e}[AQ.inspect.custom](e,r){return r.depth??=e,`Headers ${AQ.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(e){return e.#e}static setHeadersGuard(e,r){e.#e=r}static getHeadersList(e){return e.#t}static setHeadersList(e,r){e.#t=r}},{getHeadersGuard:mSe,setHeadersGuard:uEt,getHeadersList:HX,setHeadersList:fEt}=uu;Reflect.deleteProperty(uu,"getHeadersGuard");Reflect.deleteProperty(uu,"setHeadersGuard");Reflect.deleteProperty(uu,"getHeadersList");Reflect.deleteProperty(uu,"setHeadersList");lEt("Headers",uu,s0,0,1);Object.defineProperties(uu.prototype,{append:Dx,delete:Dx,get:Dx,has:Dx,set:Dx,getSetCookie:Dx,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[AQ.inspect.custom]:{enumerable:!1}});Kr.converters.HeadersInit=function(t,e,r){if(Kr.util.Type(t)==="Object"){let n=Reflect.get(t,Symbol.iterator);if(!AQ.types.isProxy(t)&&n===uu.prototype.entries)try{return HX(t).entriesList}catch{}return typeof n=="function"?Kr.converters["sequence<sequence<ByteString>>"](t,e,r,n.bind(t)):Kr.converters["record<ByteString, ByteString>"](t,e,r)}throw Kr.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};gSe.exports={fill:ASe,compareHeaderName:pSe,Headers:uu,HeadersList:pQ,getHeadersGuard:mSe,setHeadersGuard:uEt,setHeadersList:fEt,getHeadersList:HX}});var tw=T((npn,BSe)=>{"use strict";d();var{Headers:vSe,HeadersList:CSe,fill:dEt,getHeadersGuard:hEt,setHeadersGuard:bSe,setHeadersList:_Se}=DC(),{extractBody:ySe,cloneBody:AEt,mixinBody:pEt,hasFinalizationRegistry:TSe,streamRegistry:wSe,bodyUnusable:mEt}=dx(),GX=yr(),ESe=require("node:util"),{kEnumerableProperty:a0}=GX,{isValidReasonPhrase:gEt,isCancelled:CEt,isAborted:yEt,isBlobLike:EEt,serializeJavascriptValueToJSONString:IEt,isErrorLike:xEt,isomorphicEncode:vEt,environmentSettingsObject:bEt}=n0(),{redirectStatusSet:_Et,nullBodyStatus:TEt}=b4(),{kState:Ci,kHeaders:Rh}=zp(),{webidl:cr}=Is(),{FormData:wEt}=R4(),{URLSerializer:ISe}=oc(),{kConstruct:gQ}=gi(),VX=require("node:assert"),{types:SEt}=require("node:util"),BEt=new TextEncoder("utf-8"),NC=class t{static{s(this,"Response")}static error(){return ew(CQ(),"immutable")}static json(e,r={}){cr.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=cr.converters.ResponseInit(r));let n=BEt.encode(IEt(e)),o=ySe(n),a=ew(Nx({}),"response");return xSe(a,r,{body:o[0],type:"application/json"}),a}static redirect(e,r=302){cr.argumentLengthCheck(arguments,1,"Response.redirect"),e=cr.converters.USVString(e),r=cr.converters["unsigned short"](r);let n;try{n=new URL(e,bEt.settingsObject.baseUrl)}catch(c){throw new TypeError(`Failed to parse URL from ${e}`,{cause:c})}if(!_Et.has(r))throw new RangeError(`Invalid status code ${r}`);let o=ew(Nx({}),"immutable");o[Ci].status=r;let a=vEt(ISe(n));return o[Ci].headersList.append("location",a,!0),o}constructor(e=null,r={}){if(cr.util.markAsUncloneable(this),e===gQ)return;e!==null&&(e=cr.converters.BodyInit(e)),r=cr.converters.ResponseInit(r),this[Ci]=Nx({}),this[Rh]=new vSe(gQ),bSe(this[Rh],"response"),_Se(this[Rh],this[Ci].headersList);let n=null;if(e!=null){let[o,a]=ySe(e);n={body:o,type:a}}xSe(this,r,n)}get type(){return cr.brandCheck(this,t),this[Ci].type}get url(){cr.brandCheck(this,t);let e=this[Ci].urlList,r=e[e.length-1]??null;return r===null?"":ISe(r,!0)}get redirected(){return cr.brandCheck(this,t),this[Ci].urlList.length>1}get status(){return cr.brandCheck(this,t),this[Ci].status}get ok(){return cr.brandCheck(this,t),this[Ci].status>=200&&this[Ci].status<=299}get statusText(){return cr.brandCheck(this,t),this[Ci].statusText}get headers(){return cr.brandCheck(this,t),this[Rh]}get body(){return cr.brandCheck(this,t),this[Ci].body?this[Ci].body.stream:null}get bodyUsed(){return cr.brandCheck(this,t),!!this[Ci].body&&GX.isDisturbed(this[Ci].body.stream)}clone(){if(cr.brandCheck(this,t),mEt(this))throw cr.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=WX(this[Ci]);return TSe&&this[Ci].body?.stream&&wSe.register(this,new WeakRef(this[Ci].body.stream)),ew(e,hEt(this[Rh]))}[ESe.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${ESe.formatWithOptions(r,n)}`}};pEt(NC);Object.defineProperties(NC.prototype,{type:a0,url:a0,status:a0,ok:a0,redirected:a0,statusText:a0,headers:a0,clone:a0,body:a0,bodyUsed:a0,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(NC,{json:a0,redirect:a0,error:a0});function WX(t){if(t.internalResponse)return SSe(WX(t.internalResponse),t.type);let e=Nx({...t,body:null});return t.body!=null&&(e.body=AEt(e,t.body)),e}s(WX,"cloneResponse");function Nx(t){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...t,headersList:t?.headersList?new CSe(t?.headersList):new CSe,urlList:t?.urlList?[...t.urlList]:[]}}s(Nx,"makeResponse");function CQ(t){let e=xEt(t);return Nx({type:"error",status:0,error:e?t:new Error(t&&String(t)),aborted:t&&t.name==="AbortError"})}s(CQ,"makeNetworkError");function REt(t){return t.type==="error"&&t.status===0}s(REt,"isNetworkError");function mQ(t,e){return e={internalResponse:t,...e},new Proxy(t,{get(r,n){return n in e?e[n]:r[n]},set(r,n,o){return VX(!(n in e)),r[n]=o,!0}})}s(mQ,"makeFilteredResponse");function SSe(t,e){if(e==="basic")return mQ(t,{type:"basic",headersList:t.headersList});if(e==="cors")return mQ(t,{type:"cors",headersList:t.headersList});if(e==="opaque")return mQ(t,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return mQ(t,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});VX(!1)}s(SSe,"filterResponse");function kEt(t,e=null){return VX(CEt(t)),yEt(t)?CQ(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:e})):CQ(Object.assign(new DOMException("Request was cancelled."),{cause:e}))}s(kEt,"makeAppropriateNetworkError");function xSe(t,e,r){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!gEt(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(t[Ci].status=e.status),"statusText"in e&&e.statusText!=null&&(t[Ci].statusText=e.statusText),"headers"in e&&e.headers!=null&&dEt(t[Rh],e.headers),r){if(TEt.includes(t.status))throw cr.errors.exception({header:"Response constructor",message:`Invalid response status code ${t.status}`});t[Ci].body=r.body,r.type!=null&&!t[Ci].headersList.contains("content-type",!0)&&t[Ci].headersList.append("content-type",r.type,!0)}}s(xSe,"initializeResponse");function ew(t,e){let r=new NC(gQ);return r[Ci]=t,r[Rh]=new vSe(gQ),_Se(r[Rh],t.headersList),bSe(r[Rh],e),TSe&&t.body?.stream&&wSe.register(r,new WeakRef(t.body.stream)),r}s(ew,"fromInnerResponse");cr.converters.ReadableStream=cr.interfaceConverter(ReadableStream);cr.converters.FormData=cr.interfaceConverter(wEt);cr.converters.URLSearchParams=cr.interfaceConverter(URLSearchParams);cr.converters.XMLHttpRequestBodyInit=function(t,e,r){return typeof t=="string"?cr.converters.USVString(t,e,r):EEt(t)?cr.converters.Blob(t,e,r,{strict:!1}):ArrayBuffer.isView(t)||SEt.isArrayBuffer(t)?cr.converters.BufferSource(t,e,r):GX.isFormDataLike(t)?cr.converters.FormData(t,e,r,{strict:!1}):t instanceof URLSearchParams?cr.converters.URLSearchParams(t,e,r):cr.converters.DOMString(t,e,r)};cr.converters.BodyInit=function(t,e,r){return t instanceof ReadableStream?cr.converters.ReadableStream(t,e,r):t?.[Symbol.asyncIterator]?t:cr.converters.XMLHttpRequestBodyInit(t,e,r)};cr.converters.ResponseInit=cr.dictionaryConverter([{key:"status",converter:cr.converters["unsigned short"],defaultValue:s(()=>200,"defaultValue")},{key:"statusText",converter:cr.converters.ByteString,defaultValue:s(()=>"","defaultValue")},{key:"headers",converter:cr.converters.HeadersInit}]);BSe.exports={isNetworkError:REt,makeNetworkError:CQ,makeResponse:Nx,makeAppropriateNetworkError:kEt,filterResponse:SSe,Response:NC,cloneResponse:WX,fromInnerResponse:ew}});var NSe=T((spn,DSe)=>{"use strict";d();var{kConnected:RSe,kSize:kSe}=gi(),YX=class{static{s(this,"CompatWeakRef")}constructor(e){this.value=e}deref(){return this.value[RSe]===0&&this.value[kSe]===0?void 0:this.value}},jX=class{static{s(this,"CompatFinalizer")}constructor(e){this.finalizer=e}register(e,r){e.on&&e.on("disconnect",()=>{e[RSe]===0&&e[kSe]===0&&this.finalizer(r)})}unregister(e){}};DSe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:YX,FinalizationRegistry:jX}):{WeakRef,FinalizationRegistry}}});var Qx=T((lpn,$Se)=>{"use strict";d();var{extractBody:DEt,mixinBody:NEt,cloneBody:QEt,bodyUnusable:QSe}=dx(),{Headers:GSe,fill:PEt,HeadersList:xQ,setHeadersGuard:zX,getHeadersGuard:FEt,setHeadersList:VSe,getHeadersList:PSe}=DC(),{FinalizationRegistry:LEt}=NSe()(),EQ=yr(),FSe=require("node:util"),{isValidHTTPToken:MEt,sameOrigin:LSe,environmentSettingsObject:yQ}=n0(),{forbiddenMethodsSet:OEt,corsSafeListedMethodsSet:UEt,referrerPolicy:qEt,requestRedirect:HEt,requestMode:GEt,requestCredentials:VEt,requestCache:WEt,requestDuplex:YEt}=b4(),{kEnumerableProperty:mo,normalizedMethodRecordsBase:jEt,normalizedMethodRecords:$Et}=EQ,{kHeaders:c0,kSignal:IQ,kState:oi,kDispatcher:$X}=zp(),{webidl:kt}=Is(),{URLSerializer:zEt}=oc(),{kConstruct:vQ}=gi(),KEt=require("node:assert"),{getMaxListeners:MSe,setMaxListeners:OSe,getEventListeners:JEt,defaultMaxListeners:USe}=require("node:events"),XEt=Symbol("abortController"),WSe=new LEt(({signal:t,abort:e})=>{t.removeEventListener("abort",e)}),bQ=new WeakMap;function qSe(t){return e;function e(){let r=t.deref();if(r!==void 0){WSe.unregister(e),this.removeEventListener("abort",e),r.abort(this.reason);let n=bQ.get(r.signal);if(n!==void 0){if(n.size!==0){for(let o of n){let a=o.deref();a!==void 0&&a.abort(this.reason)}n.clear()}bQ.delete(r.signal)}}}}s(qSe,"buildAbort");var HSe=!1,am=class t{static{s(this,"Request")}constructor(e,r={}){if(kt.util.markAsUncloneable(this),e===vQ)return;let n="Request constructor";kt.argumentLengthCheck(arguments,1,n),e=kt.converters.RequestInfo(e,n,"input"),r=kt.converters.RequestInit(r,n,"init");let o=null,a=null,c=yQ.settingsObject.baseUrl,l=null;if(typeof e=="string"){this[$X]=r.dispatcher;let I;try{I=new URL(e,c)}catch(x){throw new TypeError("Failed to parse URL from "+e,{cause:x})}if(I.username||I.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);o=_Q({urlList:[I]}),a="cors"}else this[$X]=r.dispatcher||e[$X],KEt(e instanceof t),o=e[oi],l=e[IQ];let u=yQ.settingsObject.origin,f="client";if(o.window?.constructor?.name==="EnvironmentSettingsObject"&&LSe(o.window,u)&&(f=o.window),r.window!=null)throw new TypeError(`'window' option '${f}' must be null`);"window"in r&&(f="no-window"),o=_Q({method:o.method,headersList:o.headersList,unsafeRequest:o.unsafeRequest,client:yQ.settingsObject,window:f,priority:o.priority,origin:o.origin,referrer:o.referrer,referrerPolicy:o.referrerPolicy,mode:o.mode,credentials:o.credentials,cache:o.cache,redirect:o.redirect,integrity:o.integrity,keepalive:o.keepalive,reloadNavigation:o.reloadNavigation,historyNavigation:o.historyNavigation,urlList:[...o.urlList]});let h=Object.keys(r).length!==0;if(h&&(o.mode==="navigate"&&(o.mode="same-origin"),o.reloadNavigation=!1,o.historyNavigation=!1,o.origin="client",o.referrer="client",o.referrerPolicy="",o.url=o.urlList[o.urlList.length-1],o.urlList=[o.url]),r.referrer!==void 0){let I=r.referrer;if(I==="")o.referrer="no-referrer";else{let x;try{x=new URL(I,c)}catch(v){throw new TypeError(`Referrer "${I}" is not a valid URL.`,{cause:v})}x.protocol==="about:"&&x.hostname==="client"||u&&!LSe(x,yQ.settingsObject.baseUrl)?o.referrer="client":o.referrer=x}}r.referrerPolicy!==void 0&&(o.referrerPolicy=r.referrerPolicy);let A;if(r.mode!==void 0?A=r.mode:A=a,A==="navigate")throw kt.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(A!=null&&(o.mode=A),r.credentials!==void 0&&(o.credentials=r.credentials),r.cache!==void 0&&(o.cache=r.cache),o.cache==="only-if-cached"&&o.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(o.redirect=r.redirect),r.integrity!=null&&(o.integrity=String(r.integrity)),r.keepalive!==void 0&&(o.keepalive=!!r.keepalive),r.method!==void 0){let I=r.method,x=$Et[I];if(x!==void 0)o.method=x;else{if(!MEt(I))throw new TypeError(`'${I}' is not a valid HTTP method.`);let v=I.toUpperCase();if(OEt.has(v))throw new TypeError(`'${I}' HTTP method is unsupported.`);I=jEt[v]??I,o.method=I}!HSe&&o.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),HSe=!0)}r.signal!==void 0&&(l=r.signal),this[oi]=o;let p=new AbortController;if(this[IQ]=p.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)p.abort(l.reason);else{this[XEt]=p;let I=new WeakRef(p),x=qSe(I);try{(typeof MSe=="function"&&MSe(l)===USe||JEt(l,"abort").length>=USe)&&OSe(1500,l)}catch{}EQ.addAbortListener(l,x),WSe.register(p,{signal:l,abort:x},x)}}if(this[c0]=new GSe(vQ),VSe(this[c0],o.headersList),zX(this[c0],"request"),A==="no-cors"){if(!UEt.has(o.method))throw new TypeError(`'${o.method} is unsupported in no-cors mode.`);zX(this[c0],"request-no-cors")}if(h){let I=PSe(this[c0]),x=r.headers!==void 0?r.headers:new xQ(I);if(I.clear(),x instanceof xQ){for(let{name:v,value:b}of x.rawValues())I.append(v,b,!1);I.cookies=x.cookies}else PEt(this[c0],x)}let m=e instanceof t?e[oi].body:null;if((r.body!=null||m!=null)&&(o.method==="GET"||o.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let g=null;if(r.body!=null){let[I,x]=DEt(r.body,o.keepalive);g=I,x&&!PSe(this[c0]).contains("content-type",!0)&&this[c0].append("content-type",x)}let y=g??m;if(y!=null&&y.source==null){if(g!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(o.mode!=="same-origin"&&o.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');o.useCORSPreflightFlag=!0}let E=y;if(g==null&&m!=null){if(QSe(e))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let I=new TransformStream;m.stream.pipeThrough(I),E={source:m.source,length:m.length,stream:I.readable}}this[oi].body=E}get method(){return kt.brandCheck(this,t),this[oi].method}get url(){return kt.brandCheck(this,t),zEt(this[oi].url)}get headers(){return kt.brandCheck(this,t),this[c0]}get destination(){return kt.brandCheck(this,t),this[oi].destination}get referrer(){return kt.brandCheck(this,t),this[oi].referrer==="no-referrer"?"":this[oi].referrer==="client"?"about:client":this[oi].referrer.toString()}get referrerPolicy(){return kt.brandCheck(this,t),this[oi].referrerPolicy}get mode(){return kt.brandCheck(this,t),this[oi].mode}get credentials(){return this[oi].credentials}get cache(){return kt.brandCheck(this,t),this[oi].cache}get redirect(){return kt.brandCheck(this,t),this[oi].redirect}get integrity(){return kt.brandCheck(this,t),this[oi].integrity}get keepalive(){return kt.brandCheck(this,t),this[oi].keepalive}get isReloadNavigation(){return kt.brandCheck(this,t),this[oi].reloadNavigation}get isHistoryNavigation(){return kt.brandCheck(this,t),this[oi].historyNavigation}get signal(){return kt.brandCheck(this,t),this[IQ]}get body(){return kt.brandCheck(this,t),this[oi].body?this[oi].body.stream:null}get bodyUsed(){return kt.brandCheck(this,t),!!this[oi].body&&EQ.isDisturbed(this[oi].body.stream)}get duplex(){return kt.brandCheck(this,t),"half"}clone(){if(kt.brandCheck(this,t),QSe(this))throw new TypeError("unusable");let e=YSe(this[oi]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=bQ.get(this.signal);n===void 0&&(n=new Set,bQ.set(this.signal,n));let o=new WeakRef(r);n.add(o),EQ.addAbortListener(r.signal,qSe(o))}return jSe(e,r.signal,FEt(this[c0]))}[FSe.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${FSe.formatWithOptions(r,n)}`}};NEt(am);function _Q(t){return{method:t.method??"GET",localURLsOnly:t.localURLsOnly??!1,unsafeRequest:t.unsafeRequest??!1,body:t.body??null,client:t.client??null,reservedClient:t.reservedClient??null,replacesClientId:t.replacesClientId??"",window:t.window??"client",keepalive:t.keepalive??!1,serviceWorkers:t.serviceWorkers??"all",initiator:t.initiator??"",destination:t.destination??"",priority:t.priority??null,origin:t.origin??"client",policyContainer:t.policyContainer??"client",referrer:t.referrer??"client",referrerPolicy:t.referrerPolicy??"",mode:t.mode??"no-cors",useCORSPreflightFlag:t.useCORSPreflightFlag??!1,credentials:t.credentials??"same-origin",useCredentials:t.useCredentials??!1,cache:t.cache??"default",redirect:t.redirect??"follow",integrity:t.integrity??"",cryptoGraphicsNonceMetadata:t.cryptoGraphicsNonceMetadata??"",parserMetadata:t.parserMetadata??"",reloadNavigation:t.reloadNavigation??!1,historyNavigation:t.historyNavigation??!1,userActivation:t.userActivation??!1,taintedOrigin:t.taintedOrigin??!1,redirectCount:t.redirectCount??0,responseTainting:t.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:t.preventNoCacheCacheControlHeaderModification??!1,done:t.done??!1,timingAllowFailed:t.timingAllowFailed??!1,urlList:t.urlList,url:t.urlList[0],headersList:t.headersList?new xQ(t.headersList):new xQ}}s(_Q,"makeRequest");function YSe(t){let e=_Q({...t,body:null});return t.body!=null&&(e.body=QEt(e,t.body)),e}s(YSe,"cloneRequest");function jSe(t,e,r){let n=new am(vQ);return n[oi]=t,n[IQ]=e,n[c0]=new GSe(vQ),VSe(n[c0],t.headersList),zX(n[c0],r),n}s(jSe,"fromInnerRequest");Object.defineProperties(am.prototype,{method:mo,url:mo,headers:mo,redirect:mo,clone:mo,signal:mo,duplex:mo,destination:mo,body:mo,bodyUsed:mo,isHistoryNavigation:mo,isReloadNavigation:mo,keepalive:mo,integrity:mo,cache:mo,credentials:mo,attribute:mo,referrerPolicy:mo,referrer:mo,mode:mo,[Symbol.toStringTag]:{value:"Request",configurable:!0}});kt.converters.Request=kt.interfaceConverter(am);kt.converters.RequestInfo=function(t,e,r){return typeof t=="string"?kt.converters.USVString(t,e,r):t instanceof am?kt.converters.Request(t,e,r):kt.converters.USVString(t,e,r)};kt.converters.AbortSignal=kt.interfaceConverter(AbortSignal);kt.converters.RequestInit=kt.dictionaryConverter([{key:"method",converter:kt.converters.ByteString},{key:"headers",converter:kt.converters.HeadersInit},{key:"body",converter:kt.nullableConverter(kt.converters.BodyInit)},{key:"referrer",converter:kt.converters.USVString},{key:"referrerPolicy",converter:kt.converters.DOMString,allowedValues:qEt},{key:"mode",converter:kt.converters.DOMString,allowedValues:GEt},{key:"credentials",converter:kt.converters.DOMString,allowedValues:VEt},{key:"cache",converter:kt.converters.DOMString,allowedValues:WEt},{key:"redirect",converter:kt.converters.DOMString,allowedValues:HEt},{key:"integrity",converter:kt.converters.DOMString},{key:"keepalive",converter:kt.converters.boolean},{key:"signal",converter:kt.nullableConverter(t=>kt.converters.AbortSignal(t,"RequestInit","signal",{strict:!1}))},{key:"window",converter:kt.converters.any},{key:"duplex",converter:kt.converters.DOMString,allowedValues:YEt},{key:"dispatcher",converter:kt.converters.any}]);$Se.exports={Request:am,makeRequest:_Q,fromInnerRequest:jSe,cloneRequest:YSe}});var nw=T((dpn,l3e)=>{"use strict";d();var{makeNetworkError:_n,makeAppropriateNetworkError:TQ,filterResponse:KX,makeResponse:wQ,fromInnerResponse:ZEt}=tw(),{HeadersList:zSe}=DC(),{Request:eIt,cloneRequest:tIt}=Qx(),cm=require("node:zlib"),{bytesMatch:rIt,makePolicyContainer:nIt,clonePolicyContainer:iIt,requestBadPort:oIt,TAOCheck:sIt,appendRequestOriginHeader:aIt,responseLocationURL:cIt,requestCurrentURL:Hf,setRequestReferrerPolicyOnRedirect:lIt,tryUpgradeRequestToAPotentiallyTrustworthyURL:uIt,createOpaqueTimingInfo:tZ,appendFetchMetadata:fIt,corsCheck:dIt,crossOriginResourcePolicyCheck:hIt,determineRequestsReferrer:AIt,coarsenedSharedCurrentTime:rw,createDeferredPromise:pIt,isBlobLike:mIt,sameOrigin:eZ,isCancelled:QC,isAborted:KSe,isErrorLike:gIt,fullyReadBody:CIt,readableStreamClose:yIt,isomorphicEncode:SQ,urlIsLocal:EIt,urlIsHttpHttpsScheme:rZ,urlHasHttpsScheme:IIt,clampAndCoarsenConnectionTimingInfo:xIt,simpleRangeHeaderValue:vIt,buildContentRange:bIt,createInflate:_It,extractMimeType:TIt}=n0(),{kState:e3e,kDispatcher:wIt}=zp(),PC=require("node:assert"),{safelyExtractBody:nZ,extractBody:JSe}=dx(),{redirectStatusSet:t3e,nullBodyStatus:r3e,safeMethodsSet:SIt,requestBodyHeader:BIt,subresourceSet:RIt}=b4(),kIt=require("node:events"),{Readable:DIt,pipeline:NIt,finished:QIt}=require("node:stream"),{addAbortListener:PIt,isErrored:FIt,isReadable:BQ,bufferToLowerCasedHeaderName:XSe}=yr(),{dataURLProcessor:LIt,serializeAMimeType:MIt,minimizeSupportedMimeType:OIt}=oc(),{getGlobalDispatcher:UIt}=dQ(),{webidl:qIt}=Is(),{STATUS_CODES:HIt}=require("node:http"),GIt=["GET","HEAD"],VIt=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",JX,RQ=class extends kIt{static{s(this,"Fetch")}constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function WIt(t){n3e(t,"fetch")}s(WIt,"handleFetchDone");function YIt(t,e=void 0){qIt.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=pIt(),n;try{n=new eIt(t,e)}catch(h){return r.reject(h),r.promise}let o=n[e3e];if(n.signal.aborted)return XX(r,o,null,n.signal.reason),r.promise;o.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(o.serviceWorkers="none");let c=null,l=!1,u=null;return PIt(n.signal,()=>{l=!0,PC(u!=null),u.abort(n.signal.reason);let h=c?.deref();XX(r,o,h,n.signal.reason)}),u=o3e({request:o,processResponseEndOfBody:WIt,processResponse:s(h=>{if(!l){if(h.aborted){XX(r,o,c,u.serializedAbortReason);return}if(h.type==="error"){r.reject(new TypeError("fetch failed",{cause:h.error}));return}c=new WeakRef(ZEt(h,"immutable")),r.resolve(c.deref()),r=null}},"processResponse"),dispatcher:n[wIt]}),r.promise}s(YIt,"fetch");function n3e(t,e="other"){if(t.type==="error"&&t.aborted||!t.urlList?.length)return;let r=t.urlList[0],n=t.timingInfo,o=t.cacheState;rZ(r)&&n!==null&&(t.timingAllowPassed||(n=tZ({startTime:n.startTime}),o=""),n.endTime=rw(),t.timingInfo=n,i3e(n,r.href,e,globalThis,o))}s(n3e,"finalizeAndReportTiming");var i3e=performance.markResourceTiming;function XX(t,e,r,n){if(t&&t.reject(n),e.body!=null&&BQ(e.body?.stream)&&e.body.stream.cancel(n).catch(a=>{if(a.code!=="ERR_INVALID_STATE")throw a}),r==null)return;let o=r[e3e];o.body!=null&&BQ(o.body?.stream)&&o.body.stream.cancel(n).catch(a=>{if(a.code!=="ERR_INVALID_STATE")throw a})}s(XX,"abortFetch");function o3e({request:t,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:o,processResponseConsumeBody:a,useParallelQueue:c=!1,dispatcher:l=UIt()}){PC(l);let u=null,f=!1;t.client!=null&&(u=t.client.globalObject,f=t.client.crossOriginIsolatedCapability);let h=rw(f),A=tZ({startTime:h}),p={controller:new RQ(l),request:t,timingInfo:A,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:a,processResponseEndOfBody:o,taskDestination:u,crossOriginIsolatedCapability:f};return PC(!t.body||t.body.stream),t.window==="client"&&(t.window=t.client?.globalObject?.constructor?.name==="Window"?t.client:"no-window"),t.origin==="client"&&(t.origin=t.client.origin),t.policyContainer==="client"&&(t.client!=null?t.policyContainer=iIt(t.client.policyContainer):t.policyContainer=nIt()),t.headersList.contains("accept",!0)||t.headersList.append("accept","*/*",!0),t.headersList.contains("accept-language",!0)||t.headersList.append("accept-language","*",!0),t.priority,RIt.has(t.destination),s3e(p).catch(m=>{p.controller.terminate(m)}),p.controller}s(o3e,"fetching");async function s3e(t,e=!1){let r=t.request,n=null;if(r.localURLsOnly&&!EIt(Hf(r))&&(n=_n("local URLs only")),uIt(r),oIt(r)==="blocked"&&(n=_n("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=AIt(r)),n===null&&(n=await(async()=>{let a=Hf(r);return eZ(a,r.url)&&r.responseTainting==="basic"||a.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await ZSe(t)):r.mode==="same-origin"?_n('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?_n('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await ZSe(t)):rZ(Hf(r))?(r.responseTainting="cors",await a3e(t)):_n("URL scheme must be a HTTP(S) scheme")})()),e)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=KX(n,"basic"):r.responseTainting==="cors"?n=KX(n,"cors"):r.responseTainting==="opaque"?n=KX(n,"opaque"):PC(!1));let o=n.status===0?n:n.internalResponse;if(o.urlList.length===0&&o.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&o.status===206&&o.rangeRequested&&!r.headers.contains("range",!0)&&(n=o=_n()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||r3e.includes(o.status))&&(o.body=null,t.controller.dump=!0),r.integrity){let a=s(l=>ZX(t,_n(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){a(n.error);return}let c=s(l=>{if(!rIt(l,r.integrity)){a("integrity mismatch");return}n.body=nZ(l)[0],ZX(t,n)},"processBody");await CIt(n.body,c,a)}else ZX(t,n)}s(s3e,"mainFetch");function ZSe(t){if(QC(t)&&t.request.redirectCount===0)return Promise.resolve(TQ(t));let{request:e}=t,{protocol:r}=Hf(e);switch(r){case"about:":return Promise.resolve(_n("about scheme is not supported"));case"blob:":{JX||(JX=require("node:buffer").resolveObjectURL);let n=Hf(e);if(n.search.length!==0)return Promise.resolve(_n("NetworkError when attempting to fetch resource."));let o=JX(n.toString());if(e.method!=="GET"||!mIt(o))return Promise.resolve(_n("invalid method"));let a=wQ(),c=o.size,l=SQ(`${c}`),u=o.type;if(e.headersList.contains("range",!0)){a.rangeRequested=!0;let f=e.headersList.get("range",!0),h=vIt(f,!0);if(h==="failure")return Promise.resolve(_n("failed to fetch the data URL"));let{rangeStartValue:A,rangeEndValue:p}=h;if(A===null)A=c-p,p=A+p-1;else{if(A>=c)return Promise.resolve(_n("Range start is greater than the blob's size."));(p===null||p>=c)&&(p=c-1)}let m=o.slice(A,p,u),g=JSe(m);a.body=g[0];let y=SQ(`${m.size}`),E=bIt(A,p,c);a.status=206,a.statusText="Partial Content",a.headersList.set("content-length",y,!0),a.headersList.set("content-type",u,!0),a.headersList.set("content-range",E,!0)}else{let f=JSe(o);a.statusText="OK",a.body=f[0],a.headersList.set("content-length",l,!0),a.headersList.set("content-type",u,!0)}return Promise.resolve(a)}case"data:":{let n=Hf(e),o=LIt(n);if(o==="failure")return Promise.resolve(_n("failed to fetch the data URL"));let a=MIt(o.mimeType);return Promise.resolve(wQ({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:a}]],body:nZ(o.body)[0]}))}case"file:":return Promise.resolve(_n("not implemented... yet..."));case"http:":case"https:":return a3e(t).catch(n=>_n(n));default:return Promise.resolve(_n("unknown scheme"))}}s(ZSe,"schemeFetch");function jIt(t,e){t.request.done=!0,t.processResponseDone!=null&&queueMicrotask(()=>t.processResponseDone(e))}s(jIt,"finalizeResponse");function ZX(t,e){let r=t.timingInfo,n=s(()=>{let a=Date.now();t.request.destination==="document"&&(t.controller.fullTimingInfo=r),t.controller.reportTimingSteps=()=>{if(t.request.url.protocol!=="https:")return;r.endTime=a;let l=e.cacheState,u=e.bodyInfo;e.timingAllowPassed||(r=tZ(r),l="");let f=0;if(t.request.mode!=="navigator"||!e.hasCrossOriginRedirects){f=e.status;let h=TIt(e.headersList);h!=="failure"&&(u.contentType=OIt(h))}t.request.initiatorType!=null&&i3e(r,t.request.url.href,t.request.initiatorType,globalThis,l,u,f)};let c=s(()=>{t.request.done=!0,t.processResponseEndOfBody!=null&&queueMicrotask(()=>t.processResponseEndOfBody(e)),t.request.initiatorType!=null&&t.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>c())},"processResponseEndOfBody");t.processResponse!=null&&queueMicrotask(()=>{t.processResponse(e),t.processResponse=null});let o=e.type==="error"?e:e.internalResponse??e;o.body==null?n():QIt(o.body.stream,()=>{n()})}s(ZX,"fetchFinale");async function a3e(t){let e=t.request,r=null,n=null,o=t.timingInfo;if(e.serviceWorkers,r===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),n=r=await c3e(t),e.responseTainting==="cors"&&dIt(e,r)==="failure")return _n("cors failure");sIt(e,r)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||r.type==="opaque")&&hIt(e.origin,e.client,e.destination,n)==="blocked"?_n("blocked"):(t3e.has(n.status)&&(e.redirect!=="manual"&&t.controller.connection.destroy(void 0,!1),e.redirect==="error"?r=_n("unexpected redirect"):e.redirect==="manual"?r=n:e.redirect==="follow"?r=await $It(t,r):PC(!1)),r.timingInfo=o,r)}s(a3e,"httpFetch");function $It(t,e){let r=t.request,n=e.internalResponse?e.internalResponse:e,o;try{if(o=cIt(n,Hf(r).hash),o==null)return e}catch(c){return Promise.resolve(_n(c))}if(!rZ(o))return Promise.resolve(_n("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(_n("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(o.username||o.password)&&!eZ(r,o))return Promise.resolve(_n('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(o.username||o.password))return Promise.resolve(_n('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(_n());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!GIt.includes(r.method)){r.method="GET",r.body=null;for(let c of BIt)r.headersList.delete(c)}eZ(Hf(r),o)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(PC(r.body.source!=null),r.body=nZ(r.body.source)[0]);let a=t.timingInfo;return a.redirectEndTime=a.postRedirectStartTime=rw(t.crossOriginIsolatedCapability),a.redirectStartTime===0&&(a.redirectStartTime=a.startTime),r.urlList.push(o),lIt(r,n),s3e(t,!0)}s($It,"httpRedirectFetch");async function c3e(t,e=!1,r=!1){let n=t.request,o=null,a=null,c=null,l=null,u=!1;n.window==="no-window"&&n.redirect==="error"?(o=t,a=n):(a=tIt(n),o={...t},o.request=a);let f=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",h=a.body?a.body.length:null,A=null;if(a.body==null&&["POST","PUT"].includes(a.method)&&(A="0"),h!=null&&(A=SQ(`${h}`)),A!=null&&a.headersList.append("content-length",A,!0),h!=null&&a.keepalive,a.referrer instanceof URL&&a.headersList.append("referer",SQ(a.referrer.href),!0),aIt(a),fIt(a),a.headersList.contains("user-agent",!0)||a.headersList.append("user-agent",VIt),a.cache==="default"&&(a.headersList.contains("if-modified-since",!0)||a.headersList.contains("if-none-match",!0)||a.headersList.contains("if-unmodified-since",!0)||a.headersList.contains("if-match",!0)||a.headersList.contains("if-range",!0))&&(a.cache="no-store"),a.cache==="no-cache"&&!a.preventNoCacheCacheControlHeaderModification&&!a.headersList.contains("cache-control",!0)&&a.headersList.append("cache-control","max-age=0",!0),(a.cache==="no-store"||a.cache==="reload")&&(a.headersList.contains("pragma",!0)||a.headersList.append("pragma","no-cache",!0),a.headersList.contains("cache-control",!0)||a.headersList.append("cache-control","no-cache",!0)),a.headersList.contains("range",!0)&&a.headersList.append("accept-encoding","identity",!0),a.headersList.contains("accept-encoding",!0)||(IIt(Hf(a))?a.headersList.append("accept-encoding","br, gzip, deflate",!0):a.headersList.append("accept-encoding","gzip, deflate",!0)),a.headersList.delete("host",!0),l==null&&(a.cache="no-store"),a.cache!=="no-store"&&a.cache,c==null){if(a.cache==="only-if-cached")return _n("only if cached");let p=await zIt(o,f,r);!SIt.has(a.method)&&p.status>=200&&p.status<=399,u&&p.status,c==null&&(c=p)}if(c.urlList=[...a.urlList],a.headersList.contains("range",!0)&&(c.rangeRequested=!0),c.requestIncludesCredentials=f,c.status===407)return n.window==="no-window"?_n():QC(t)?TQ(t):_n("proxy authentication required");if(c.status===421&&!r&&(n.body==null||n.body.source!=null)){if(QC(t))return TQ(t);t.controller.connection.destroy(),c=await c3e(t,e,!0)}return c}s(c3e,"httpNetworkOrCacheFetch");async function zIt(t,e=!1,r=!1){PC(!t.controller.connection||t.controller.connection.destroyed),t.controller.connection={abort:null,destroyed:!1,destroy(g,y=!0){this.destroyed||(this.destroyed=!0,y&&this.abort?.(g??new DOMException("The operation was aborted.","AbortError")))}};let n=t.request,o=null,a=t.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let u=null;if(n.body==null&&t.processRequestEndOfBody)queueMicrotask(()=>t.processRequestEndOfBody());else if(n.body!=null){let g=s(async function*(I){QC(t)||(yield I,t.processRequestBodyChunkLength?.(I.byteLength))},"processBodyChunk"),y=s(()=>{QC(t)||t.processRequestEndOfBody&&t.processRequestEndOfBody()},"processEndOfBody"),E=s(I=>{QC(t)||(I.name==="AbortError"?t.controller.abort():t.controller.terminate(I))},"processBodyError");u=async function*(){try{for await(let I of n.body.stream)yield*g(I);y()}catch(I){E(I)}}()}try{let{body:g,status:y,statusText:E,headersList:I,socket:x}=await m({body:u});if(x)o=wQ({status:y,statusText:E,headersList:I,socket:x});else{let v=g[Symbol.asyncIterator]();t.controller.next=()=>v.next(),o=wQ({status:y,statusText:E,headersList:I})}}catch(g){return g.name==="AbortError"?(t.controller.connection.destroy(),TQ(t,g)):_n(g)}let f=s(async()=>{await t.controller.resume()},"pullAlgorithm"),h=s(g=>{QC(t)||t.controller.abort(g)},"cancelAlgorithm"),A=new ReadableStream({async start(g){t.controller.controller=g},async pull(g){await f(g)},async cancel(g){await h(g)},type:"bytes"});o.body={stream:A,source:null,length:null},t.controller.onAborted=p,t.controller.on("terminated",p),t.controller.resume=async()=>{for(;;){let g,y;try{let{done:I,value:x}=await t.controller.next();if(KSe(t))break;g=I?void 0:x}catch(I){t.controller.ended&&!a.encodedBodySize?g=void 0:(g=I,y=!0)}if(g===void 0){yIt(t.controller.controller),jIt(t,o);return}if(a.decodedBodySize+=g?.byteLength??0,y){t.controller.terminate(g);return}let E=new Uint8Array(g);if(E.byteLength&&t.controller.controller.enqueue(E),FIt(A)){t.controller.terminate();return}if(t.controller.controller.desiredSize<=0)return}};function p(g){KSe(t)?(o.aborted=!0,BQ(A)&&t.controller.controller.error(t.controller.serializedAbortReason)):BQ(A)&&t.controller.controller.error(new TypeError("terminated",{cause:gIt(g)?g:void 0})),t.controller.connection.destroy()}return s(p,"onAborted"),o;function m({body:g}){let y=Hf(n),E=t.controller.dispatcher;return new Promise((I,x)=>E.dispatch({path:y.pathname+y.search,origin:y.origin,method:n.method,body:E.isMockActive?n.body&&(n.body.source||n.body.stream):g,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(v){let{connection:b}=t.controller;a.finalConnectionTimingInfo=xIt(void 0,a.postRedirectStartTime,t.crossOriginIsolatedCapability),b.destroyed?v(new DOMException("The operation was aborted.","AbortError")):(t.controller.on("terminated",v),this.abort=b.abort=v),a.finalNetworkRequestStartTime=rw(t.crossOriginIsolatedCapability)},onResponseStarted(){a.finalNetworkResponseStartTime=rw(t.crossOriginIsolatedCapability)},onHeaders(v,b,_,S){if(v<200)return;let w=[],L="",M=new zSe;for(let R=0;R<b.length;R+=2)M.append(XSe(b[R]),b[R+1].toString("latin1"),!0);let Y=M.get("content-encoding",!0);Y&&(w=Y.toLowerCase().split(",").map(R=>R.trim())),L=M.get("location",!0),this.body=new DIt({read:_});let D=[],O=L&&n.redirect==="follow"&&t3e.has(v);if(w.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!r3e.includes(v)&&!O)for(let R=w.length-1;R>=0;--R){let Q=w[R];if(Q==="x-gzip"||Q==="gzip")D.push(cm.createGunzip({flush:cm.constants.Z_SYNC_FLUSH,finishFlush:cm.constants.Z_SYNC_FLUSH}));else if(Q==="deflate")D.push(_It({flush:cm.constants.Z_SYNC_FLUSH,finishFlush:cm.constants.Z_SYNC_FLUSH}));else if(Q==="br")D.push(cm.createBrotliDecompress({flush:cm.constants.BROTLI_OPERATION_FLUSH,finishFlush:cm.constants.BROTLI_OPERATION_FLUSH}));else{D.length=0;break}}let W=this.onError.bind(this);return I({status:v,statusText:S,headersList:M,body:D.length?NIt(this.body,...D,R=>{R&&this.onError(R)}).on("error",W):this.body.on("error",W)}),!0},onData(v){if(t.controller.dump)return;let b=v;return a.encodedBodySize+=b.byteLength,this.body.push(b)},onComplete(){this.abort&&t.controller.off("terminated",this.abort),t.controller.onAborted&&t.controller.off("terminated",t.controller.onAborted),t.controller.ended=!0,this.body.push(null)},onError(v){this.abort&&t.controller.off("terminated",this.abort),this.body?.destroy(v),t.controller.terminate(v),x(v)},onUpgrade(v,b,_){if(v!==101)return;let S=new zSe;for(let w=0;w<b.length;w+=2)S.append(XSe(b[w]),b[w+1].toString("latin1"),!0);return I({status:v,statusText:HIt[v],headersList:S,socket:_}),!0}}))}s(m,"dispatch")}s(zIt,"httpNetworkFetch");l3e.exports={fetch:YIt,Fetch:RQ,fetching:o3e,finalizeAndReportTiming:n3e}});var iZ=T((ppn,u3e)=>{"use strict";d();u3e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var d3e=T((gpn,f3e)=>{"use strict";d();var{webidl:l0}=Is(),kQ=Symbol("ProgressEvent state"),oZ=class t extends Event{static{s(this,"ProgressEvent")}constructor(e,r={}){e=l0.converters.DOMString(e,"ProgressEvent constructor","type"),r=l0.converters.ProgressEventInit(r??{}),super(e,r),this[kQ]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return l0.brandCheck(this,t),this[kQ].lengthComputable}get loaded(){return l0.brandCheck(this,t),this[kQ].loaded}get total(){return l0.brandCheck(this,t),this[kQ].total}};l0.converters.ProgressEventInit=l0.dictionaryConverter([{key:"lengthComputable",converter:l0.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"loaded",converter:l0.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"total",converter:l0.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"bubbles",converter:l0.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:l0.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:l0.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}]);f3e.exports={ProgressEvent:oZ}});var A3e=T((Epn,h3e)=>{"use strict";d();function KIt(t){if(!t)return"failure";switch(t.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}s(KIt,"getEncoding");h3e.exports={getEncoding:KIt}});var x3e=T((vpn,I3e)=>{"use strict";d();var{kState:Px,kError:sZ,kResult:p3e,kAborted:iw,kLastProgressEventFired:aZ}=iZ(),{ProgressEvent:JIt}=d3e(),{getEncoding:m3e}=A3e(),{serializeAMimeType:XIt,parseMIMEType:g3e}=oc(),{types:ZIt}=require("node:util"),{StringDecoder:C3e}=require("string_decoder"),{btoa:y3e}=require("node:buffer"),e2t={enumerable:!0,writable:!1,configurable:!1};function t2t(t,e,r,n){if(t[Px]==="loading")throw new DOMException("Invalid state","InvalidStateError");t[Px]="loading",t[p3e]=null,t[sZ]=null;let a=e.stream().getReader(),c=[],l=a.read(),u=!0;(async()=>{for(;!t[iw];)try{let{done:f,value:h}=await l;if(u&&!t[iw]&&queueMicrotask(()=>{lm("loadstart",t)}),u=!1,!f&&ZIt.isUint8Array(h))c.push(h),(t[aZ]===void 0||Date.now()-t[aZ]>=50)&&!t[iw]&&(t[aZ]=Date.now(),queueMicrotask(()=>{lm("progress",t)})),l=a.read();else if(f){queueMicrotask(()=>{t[Px]="done";try{let A=r2t(c,r,e.type,n);if(t[iw])return;t[p3e]=A,lm("load",t)}catch(A){t[sZ]=A,lm("error",t)}t[Px]!=="loading"&&lm("loadend",t)});break}}catch(f){if(t[iw])return;queueMicrotask(()=>{t[Px]="done",t[sZ]=f,lm("error",t),t[Px]!=="loading"&&lm("loadend",t)});break}})()}s(t2t,"readOperation");function lm(t,e){let r=new JIt(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(r)}s(lm,"fireAProgressEvent");function r2t(t,e,r,n){switch(e){case"DataURL":{let o="data:",a=g3e(r||"application/octet-stream");a!=="failure"&&(o+=XIt(a)),o+=";base64,";let c=new C3e("latin1");for(let l of t)o+=y3e(c.write(l));return o+=y3e(c.end()),o}case"Text":{let o="failure";if(n&&(o=m3e(n)),o==="failure"&&r){let a=g3e(r);a!=="failure"&&(o=m3e(a.parameters.get("charset")))}return o==="failure"&&(o="UTF-8"),n2t(t,o)}case"ArrayBuffer":return E3e(t).buffer;case"BinaryString":{let o="",a=new C3e("latin1");for(let c of t)o+=a.write(c);return o+=a.end(),o}}}s(r2t,"packageData");function n2t(t,e){let r=E3e(t),n=i2t(r),o=0;n!==null&&(e=n,o=n==="UTF-8"?3:2);let a=r.slice(o);return new TextDecoder(e).decode(a)}s(n2t,"decode");function i2t(t){let[e,r,n]=t;return e===239&&r===187&&n===191?"UTF-8":e===254&&r===255?"UTF-16BE":e===255&&r===254?"UTF-16LE":null}s(i2t,"BOMSniffing");function E3e(t){let e=t.reduce((n,o)=>n+o.byteLength,0),r=0;return t.reduce((n,o)=>(n.set(o,r),r+=o.byteLength,n),new Uint8Array(e))}s(E3e,"combineByteSequences");I3e.exports={staticPropertyDescriptors:e2t,readOperation:t2t,fireAProgressEvent:lm}});var T3e=T((Tpn,_3e)=>{"use strict";d();var{staticPropertyDescriptors:Fx,readOperation:DQ,fireAProgressEvent:v3e}=x3e(),{kState:FC,kError:b3e,kResult:NQ,kEvents:fn,kAborted:o2t}=iZ(),{webidl:Sn}=Is(),{kEnumerableProperty:cc}=yr(),fu=class t extends EventTarget{static{s(this,"FileReader")}constructor(){super(),this[FC]="empty",this[NQ]=null,this[b3e]=null,this[fn]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Sn.brandCheck(this,t),Sn.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),e=Sn.converters.Blob(e,{strict:!1}),DQ(this,e,"ArrayBuffer")}readAsBinaryString(e){Sn.brandCheck(this,t),Sn.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),e=Sn.converters.Blob(e,{strict:!1}),DQ(this,e,"BinaryString")}readAsText(e,r=void 0){Sn.brandCheck(this,t),Sn.argumentLengthCheck(arguments,1,"FileReader.readAsText"),e=Sn.converters.Blob(e,{strict:!1}),r!==void 0&&(r=Sn.converters.DOMString(r,"FileReader.readAsText","encoding")),DQ(this,e,"Text",r)}readAsDataURL(e){Sn.brandCheck(this,t),Sn.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),e=Sn.converters.Blob(e,{strict:!1}),DQ(this,e,"DataURL")}abort(){if(this[FC]==="empty"||this[FC]==="done"){this[NQ]=null;return}this[FC]==="loading"&&(this[FC]="done",this[NQ]=null),this[o2t]=!0,v3e("abort",this),this[FC]!=="loading"&&v3e("loadend",this)}get readyState(){switch(Sn.brandCheck(this,t),this[FC]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Sn.brandCheck(this,t),this[NQ]}get error(){return Sn.brandCheck(this,t),this[b3e]}get onloadend(){return Sn.brandCheck(this,t),this[fn].loadend}set onloadend(e){Sn.brandCheck(this,t),this[fn].loadend&&this.removeEventListener("loadend",this[fn].loadend),typeof e=="function"?(this[fn].loadend=e,this.addEventListener("loadend",e)):this[fn].loadend=null}get onerror(){return Sn.brandCheck(this,t),this[fn].error}set onerror(e){Sn.brandCheck(this,t),this[fn].error&&this.removeEventListener("error",this[fn].error),typeof e=="function"?(this[fn].error=e,this.addEventListener("error",e)):this[fn].error=null}get onloadstart(){return Sn.brandCheck(this,t),this[fn].loadstart}set onloadstart(e){Sn.brandCheck(this,t),this[fn].loadstart&&this.removeEventListener("loadstart",this[fn].loadstart),typeof e=="function"?(this[fn].loadstart=e,this.addEventListener("loadstart",e)):this[fn].loadstart=null}get onprogress(){return Sn.brandCheck(this,t),this[fn].progress}set onprogress(e){Sn.brandCheck(this,t),this[fn].progress&&this.removeEventListener("progress",this[fn].progress),typeof e=="function"?(this[fn].progress=e,this.addEventListener("progress",e)):this[fn].progress=null}get onload(){return Sn.brandCheck(this,t),this[fn].load}set onload(e){Sn.brandCheck(this,t),this[fn].load&&this.removeEventListener("load",this[fn].load),typeof e=="function"?(this[fn].load=e,this.addEventListener("load",e)):this[fn].load=null}get onabort(){return Sn.brandCheck(this,t),this[fn].abort}set onabort(e){Sn.brandCheck(this,t),this[fn].abort&&this.removeEventListener("abort",this[fn].abort),typeof e=="function"?(this[fn].abort=e,this.addEventListener("abort",e)):this[fn].abort=null}};fu.EMPTY=fu.prototype.EMPTY=0;fu.LOADING=fu.prototype.LOADING=1;fu.DONE=fu.prototype.DONE=2;Object.defineProperties(fu.prototype,{EMPTY:Fx,LOADING:Fx,DONE:Fx,readAsArrayBuffer:cc,readAsBinaryString:cc,readAsText:cc,readAsDataURL:cc,abort:cc,readyState:cc,result:cc,error:cc,onloadstart:cc,onprogress:cc,onload:cc,onabort:cc,onerror:cc,onloadend:cc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(fu,{EMPTY:Fx,LOADING:Fx,DONE:Fx});_3e.exports={FileReader:fu}});var QQ=T((Bpn,w3e)=>{"use strict";d();w3e.exports={kConstruct:gi().kConstruct}});var R3e=T((kpn,B3e)=>{"use strict";d();var s2t=require("node:assert"),{URLSerializer:S3e}=oc(),{isValidHeaderName:a2t}=n0();function c2t(t,e,r=!1){let n=S3e(t,r),o=S3e(e,r);return n===o}s(c2t,"urlEquals");function l2t(t){s2t(t!==null);let e=[];for(let r of t.split(","))r=r.trim(),a2t(r)&&e.push(r);return e}s(l2t,"getFieldValues");B3e.exports={urlEquals:c2t,getFieldValues:l2t}});var N3e=T((Qpn,D3e)=>{"use strict";d();var{kConstruct:u2t}=QQ(),{urlEquals:f2t,getFieldValues:cZ}=R3e(),{kEnumerableProperty:LC,isDisturbed:d2t}=yr(),{webidl:Et}=Is(),{Response:h2t,cloneResponse:A2t,fromInnerResponse:p2t}=tw(),{Request:kh,fromInnerRequest:m2t}=Qx(),{kState:du}=zp(),{fetching:g2t}=nw(),{urlIsHttpHttpsScheme:PQ,createDeferredPromise:Lx,readAllBytes:C2t}=n0(),lZ=require("node:assert"),FQ=class t{static{s(this,"Cache")}#e;constructor(){arguments[0]!==u2t&&Et.illegalConstructor(),Et.util.markAsUncloneable(this),this.#e=arguments[1]}async match(e,r={}){Et.brandCheck(this,t);let n="Cache.match";Et.argumentLengthCheck(arguments,1,n),e=Et.converters.RequestInfo(e,n,"request"),r=Et.converters.CacheQueryOptions(r,n,"options");let o=this.#r(e,r,1);if(o.length!==0)return o[0]}async matchAll(e=void 0,r={}){Et.brandCheck(this,t);let n="Cache.matchAll";return e!==void 0&&(e=Et.converters.RequestInfo(e,n,"request")),r=Et.converters.CacheQueryOptions(r,n,"options"),this.#r(e,r)}async add(e){Et.brandCheck(this,t);let r="Cache.add";Et.argumentLengthCheck(arguments,1,r),e=Et.converters.RequestInfo(e,r,"request");let n=[e];return await this.addAll(n)}async addAll(e){Et.brandCheck(this,t);let r="Cache.addAll";Et.argumentLengthCheck(arguments,1,r);let n=[],o=[];for(let p of e){if(p===void 0)throw Et.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(p=Et.converters.RequestInfo(p),typeof p=="string")continue;let m=p[du];if(!PQ(m.url)||m.method!=="GET")throw Et.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let a=[];for(let p of e){let m=new kh(p)[du];if(!PQ(m.url))throw Et.errors.exception({header:r,message:"Expected http/s scheme."});m.initiator="fetch",m.destination="subresource",o.push(m);let g=Lx();a.push(g2t({request:m,processResponse(y){if(y.type==="error"||y.status===206||y.status<200||y.status>299)g.reject(Et.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(y.headersList.contains("vary")){let E=cZ(y.headersList.get("vary"));for(let I of E)if(I==="*"){g.reject(Et.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let x of a)x.abort();return}}},processResponseEndOfBody(y){if(y.aborted){g.reject(new DOMException("aborted","AbortError"));return}g.resolve(y)}})),n.push(g.promise)}let l=await Promise.all(n),u=[],f=0;for(let p of l){let m={type:"put",request:o[f],response:p};u.push(m),f++}let h=Lx(),A=null;try{this.#t(u)}catch(p){A=p}return queueMicrotask(()=>{A===null?h.resolve(void 0):h.reject(A)}),h.promise}async put(e,r){Et.brandCheck(this,t);let n="Cache.put";Et.argumentLengthCheck(arguments,2,n),e=Et.converters.RequestInfo(e,n,"request"),r=Et.converters.Response(r,n,"response");let o=null;if(e instanceof kh?o=e[du]:o=new kh(e)[du],!PQ(o.url)||o.method!=="GET")throw Et.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let a=r[du];if(a.status===206)throw Et.errors.exception({header:n,message:"Got 206 status"});if(a.headersList.contains("vary")){let m=cZ(a.headersList.get("vary"));for(let g of m)if(g==="*")throw Et.errors.exception({header:n,message:"Got * vary field value"})}if(a.body&&(d2t(a.body.stream)||a.body.stream.locked))throw Et.errors.exception({header:n,message:"Response body is locked or disturbed"});let c=A2t(a),l=Lx();if(a.body!=null){let g=a.body.stream.getReader();C2t(g).then(l.resolve,l.reject)}else l.resolve(void 0);let u=[],f={type:"put",request:o,response:c};u.push(f);let h=await l.promise;c.body!=null&&(c.body.source=h);let A=Lx(),p=null;try{this.#t(u)}catch(m){p=m}return queueMicrotask(()=>{p===null?A.resolve():A.reject(p)}),A.promise}async delete(e,r={}){Et.brandCheck(this,t);let n="Cache.delete";Et.argumentLengthCheck(arguments,1,n),e=Et.converters.RequestInfo(e,n,"request"),r=Et.converters.CacheQueryOptions(r,n,"options");let o=null;if(e instanceof kh){if(o=e[du],o.method!=="GET"&&!r.ignoreMethod)return!1}else lZ(typeof e=="string"),o=new kh(e)[du];let a=[],c={type:"delete",request:o,options:r};a.push(c);let l=Lx(),u=null,f;try{f=this.#t(a)}catch(h){u=h}return queueMicrotask(()=>{u===null?l.resolve(!!f?.length):l.reject(u)}),l.promise}async keys(e=void 0,r={}){Et.brandCheck(this,t);let n="Cache.keys";e!==void 0&&(e=Et.converters.RequestInfo(e,n,"request")),r=Et.converters.CacheQueryOptions(r,n,"options");let o=null;if(e!==void 0)if(e instanceof kh){if(o=e[du],o.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(o=new kh(e)[du]);let a=Lx(),c=[];if(e===void 0)for(let l of this.#e)c.push(l[0]);else{let l=this.#i(o,r);for(let u of l)c.push(u[0])}return queueMicrotask(()=>{let l=[];for(let u of c){let f=m2t(u,new AbortController().signal,"immutable");l.push(f)}a.resolve(Object.freeze(l))}),a.promise}#t(e){let r=this.#e,n=[...r],o=[],a=[];try{for(let c of e){if(c.type!=="delete"&&c.type!=="put")throw Et.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(c.type==="delete"&&c.response!=null)throw Et.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(c.request,c.options,o).length)throw new DOMException("???","InvalidStateError");let l;if(c.type==="delete"){if(l=this.#i(c.request,c.options),l.length===0)return[];for(let u of l){let f=r.indexOf(u);lZ(f!==-1),r.splice(f,1)}}else if(c.type==="put"){if(c.response==null)throw Et.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let u=c.request;if(!PQ(u.url))throw Et.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(u.method!=="GET")throw Et.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(c.options!=null)throw Et.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(c.request);for(let f of l){let h=r.indexOf(f);lZ(h!==-1),r.splice(h,1)}r.push([c.request,c.response]),o.push([c.request,c.response])}a.push([c.request,c.response])}return a}catch(c){throw this.#e.length=0,this.#e=n,c}}#i(e,r,n){let o=[],a=n??this.#e;for(let c of a){let[l,u]=c;this.#n(e,l,u,r)&&o.push(c)}return o}#n(e,r,n=null,o){let a=new URL(e.url),c=new URL(r.url);if(o?.ignoreSearch&&(c.search="",a.search=""),!f2t(a,c,!0))return!1;if(n==null||o?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=cZ(n.headersList.get("vary"));for(let u of l){if(u==="*")return!1;let f=r.headersList.get(u),h=e.headersList.get(u);if(f!==h)return!1}return!0}#r(e,r,n=1/0){let o=null;if(e!==void 0)if(e instanceof kh){if(o=e[du],o.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(o=new kh(e)[du]);let a=[];if(e===void 0)for(let l of this.#e)a.push(l[1]);else{let l=this.#i(o,r);for(let u of l)a.push(u[1])}let c=[];for(let l of a){let u=p2t(l,"immutable");if(c.push(u.clone()),c.length>=n)break}return Object.freeze(c)}};Object.defineProperties(FQ.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:LC,matchAll:LC,add:LC,addAll:LC,put:LC,delete:LC,keys:LC});var k3e=[{key:"ignoreSearch",converter:Et.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Et.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Et.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];Et.converters.CacheQueryOptions=Et.dictionaryConverter(k3e);Et.converters.MultiCacheQueryOptions=Et.dictionaryConverter([...k3e,{key:"cacheName",converter:Et.converters.DOMString}]);Et.converters.Response=Et.interfaceConverter(h2t);Et.converters["sequence<RequestInfo>"]=Et.sequenceConverter(Et.converters.RequestInfo);D3e.exports={Cache:FQ}});var P3e=T((Lpn,Q3e)=>{"use strict";d();var{kConstruct:ow}=QQ(),{Cache:LQ}=N3e(),{webidl:Ks}=Is(),{kEnumerableProperty:sw}=yr(),MQ=class t{static{s(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==ow&&Ks.illegalConstructor(),Ks.util.markAsUncloneable(this)}async match(e,r={}){if(Ks.brandCheck(this,t),Ks.argumentLengthCheck(arguments,1,"CacheStorage.match"),e=Ks.converters.RequestInfo(e),r=Ks.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new LQ(ow,n).match(e,r)}}else for(let n of this.#e.values()){let a=await new LQ(ow,n).match(e,r);if(a!==void 0)return a}}async has(e){Ks.brandCheck(this,t);let r="CacheStorage.has";return Ks.argumentLengthCheck(arguments,1,r),e=Ks.converters.DOMString(e,r,"cacheName"),this.#e.has(e)}async open(e){Ks.brandCheck(this,t);let r="CacheStorage.open";if(Ks.argumentLengthCheck(arguments,1,r),e=Ks.converters.DOMString(e,r,"cacheName"),this.#e.has(e)){let o=this.#e.get(e);return new LQ(ow,o)}let n=[];return this.#e.set(e,n),new LQ(ow,n)}async delete(e){Ks.brandCheck(this,t);let r="CacheStorage.delete";return Ks.argumentLengthCheck(arguments,1,r),e=Ks.converters.DOMString(e,r,"cacheName"),this.#e.delete(e)}async keys(){return Ks.brandCheck(this,t),[...this.#e.keys()]}};Object.defineProperties(MQ.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:sw,has:sw,open:sw,delete:sw,keys:sw});Q3e.exports={CacheStorage:MQ}});var L3e=T((Upn,F3e)=>{"use strict";d();F3e.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var uZ=T((Hpn,H3e)=>{"use strict";d();function y2t(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}s(y2t,"isCTLExcludingHtab");function M3e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}s(M3e,"validateCookieName");function O3e(t){let e=t.length,r=0;if(t[0]==='"'){if(e===1||t[e-1]!=='"')throw new Error("Invalid cookie value");--e,++r}for(;r<e;){let n=t.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}s(O3e,"validateCookieValue");function U3e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}s(U3e,"validateCookiePath");function E2t(t){if(t.startsWith("-")||t.endsWith(".")||t.endsWith("-"))throw new Error("Invalid cookie domain")}s(E2t,"validateCookieDomain");var I2t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],x2t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],OQ=Array(61).fill(0).map((t,e)=>e.toString().padStart(2,"0"));function q3e(t){return typeof t=="number"&&(t=new Date(t)),`${I2t[t.getUTCDay()]}, ${OQ[t.getUTCDate()]} ${x2t[t.getUTCMonth()]} ${t.getUTCFullYear()} ${OQ[t.getUTCHours()]}:${OQ[t.getUTCMinutes()]}:${OQ[t.getUTCSeconds()]} GMT`}s(q3e,"toIMFDate");function v2t(t){if(t<0)throw new Error("Invalid cookie max-age")}s(v2t,"validateCookieMaxAge");function b2t(t){if(t.name.length===0)return null;M3e(t.name),O3e(t.value);let e=[`${t.name}=${t.value}`];t.name.startsWith("__Secure-")&&(t.secure=!0),t.name.startsWith("__Host-")&&(t.secure=!0,t.domain=null,t.path="/"),t.secure&&e.push("Secure"),t.httpOnly&&e.push("HttpOnly"),typeof t.maxAge=="number"&&(v2t(t.maxAge),e.push(`Max-Age=${t.maxAge}`)),t.domain&&(E2t(t.domain),e.push(`Domain=${t.domain}`)),t.path&&(U3e(t.path),e.push(`Path=${t.path}`)),t.expires&&t.expires.toString()!=="Invalid Date"&&e.push(`Expires=${q3e(t.expires)}`),t.sameSite&&e.push(`SameSite=${t.sameSite}`);for(let r of t.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...o]=r.split("=");e.push(`${n.trim()}=${o.join("=")}`)}return e.join("; ")}s(b2t,"stringify");H3e.exports={isCTLExcludingHtab:y2t,validateCookieName:M3e,validateCookiePath:U3e,validateCookieValue:O3e,toIMFDate:q3e,stringify:b2t}});var V3e=T((Wpn,G3e)=>{"use strict";d();var{maxNameValuePairSize:_2t,maxAttributeValueSize:T2t}=L3e(),{isCTLExcludingHtab:w2t}=uZ(),{collectASequenceOfCodePointsFast:UQ}=oc(),S2t=require("node:assert");function B2t(t){if(w2t(t))return null;let e="",r="",n="",o="";if(t.includes(";")){let a={position:0};e=UQ(";",t,a),r=t.slice(a.position)}else e=t;if(!e.includes("="))o=e;else{let a={position:0};n=UQ("=",e,a),o=e.slice(a.position+1)}return n=n.trim(),o=o.trim(),n.length+o.length>_2t?null:{name:n,value:o,...Mx(r)}}s(B2t,"parseSetCookie");function Mx(t,e={}){if(t.length===0)return e;S2t(t[0]===";"),t=t.slice(1);let r="";t.includes(";")?(r=UQ(";",t,{position:0}),t=t.slice(r.length)):(r=t,t="");let n="",o="";if(r.includes("=")){let c={position:0};n=UQ("=",r,c),o=r.slice(c.position+1)}else n=r;if(n=n.trim(),o=o.trim(),o.length>T2t)return Mx(t,e);let a=n.toLowerCase();if(a==="expires"){let c=new Date(o);e.expires=c}else if(a==="max-age"){let c=o.charCodeAt(0);if((c<48||c>57)&&o[0]!=="-"||!/^\d+$/.test(o))return Mx(t,e);let l=Number(o);e.maxAge=l}else if(a==="domain"){let c=o;c[0]==="."&&(c=c.slice(1)),c=c.toLowerCase(),e.domain=c}else if(a==="path"){let c="";o.length===0||o[0]!=="/"?c="/":c=o,e.path=c}else if(a==="secure")e.secure=!0;else if(a==="httponly")e.httpOnly=!0;else if(a==="samesite"){let c="Default",l=o.toLowerCase();l.includes("none")&&(c="None"),l.includes("strict")&&(c="Strict"),l.includes("lax")&&(c="Lax"),e.sameSite=c}else e.unparsed??=[],e.unparsed.push(`${n}=${o}`);return Mx(t,e)}s(Mx,"parseUnparsedAttributes");G3e.exports={parseSetCookie:B2t,parseUnparsedAttributes:Mx}});var j3e=T(($pn,Y3e)=>{"use strict";d();var{parseSetCookie:R2t}=V3e(),{stringify:k2t}=uZ(),{webidl:Fr}=Is(),{Headers:qQ}=DC();function D2t(t){Fr.argumentLengthCheck(arguments,1,"getCookies"),Fr.brandCheck(t,qQ,{strict:!1});let e=t.get("cookie"),r={};if(!e)return r;for(let n of e.split(";")){let[o,...a]=n.split("=");r[o.trim()]=a.join("=")}return r}s(D2t,"getCookies");function N2t(t,e,r){Fr.brandCheck(t,qQ,{strict:!1});let n="deleteCookie";Fr.argumentLengthCheck(arguments,2,n),e=Fr.converters.DOMString(e,n,"name"),r=Fr.converters.DeleteCookieAttributes(r),W3e(t,{name:e,value:"",expires:new Date(0),...r})}s(N2t,"deleteCookie");function Q2t(t){Fr.argumentLengthCheck(arguments,1,"getSetCookies"),Fr.brandCheck(t,qQ,{strict:!1});let e=t.getSetCookie();return e?e.map(r=>R2t(r)):[]}s(Q2t,"getSetCookies");function W3e(t,e){Fr.argumentLengthCheck(arguments,2,"setCookie"),Fr.brandCheck(t,qQ,{strict:!1}),e=Fr.converters.Cookie(e);let r=k2t(e);r&&t.append("Set-Cookie",r)}s(W3e,"setCookie");Fr.converters.DeleteCookieAttributes=Fr.dictionaryConverter([{converter:Fr.nullableConverter(Fr.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Fr.nullableConverter(Fr.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")}]);Fr.converters.Cookie=Fr.dictionaryConverter([{converter:Fr.converters.DOMString,key:"name"},{converter:Fr.converters.DOMString,key:"value"},{converter:Fr.nullableConverter(t=>typeof t=="number"?Fr.converters["unsigned long long"](t):new Date(t)),key:"expires",defaultValue:s(()=>null,"defaultValue")},{converter:Fr.nullableConverter(Fr.converters["long long"]),key:"maxAge",defaultValue:s(()=>null,"defaultValue")},{converter:Fr.nullableConverter(Fr.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")},{converter:Fr.nullableConverter(Fr.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Fr.nullableConverter(Fr.converters.boolean),key:"secure",defaultValue:s(()=>null,"defaultValue")},{converter:Fr.nullableConverter(Fr.converters.boolean),key:"httpOnly",defaultValue:s(()=>null,"defaultValue")},{converter:Fr.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Fr.sequenceConverter(Fr.converters.DOMString),key:"unparsed",defaultValue:s(()=>new Array(0),"defaultValue")}]);Y3e.exports={getCookies:D2t,deleteCookie:N2t,getSetCookies:Q2t,setCookie:W3e}});var Ux=T((Jpn,z3e)=>{"use strict";d();var{webidl:Ct}=Is(),{kEnumerableProperty:lc}=yr(),{kConstruct:$3e}=gi(),{MessagePort:P2t}=require("node:worker_threads"),Ox=class t extends Event{static{s(this,"MessageEvent")}#e;constructor(e,r={}){if(e===$3e){super(arguments[1],arguments[2]),Ct.util.markAsUncloneable(this);return}let n="MessageEvent constructor";Ct.argumentLengthCheck(arguments,1,n),e=Ct.converters.DOMString(e,n,"type"),r=Ct.converters.MessageEventInit(r,n,"eventInitDict"),super(e,r),this.#e=r,Ct.util.markAsUncloneable(this)}get data(){return Ct.brandCheck(this,t),this.#e.data}get origin(){return Ct.brandCheck(this,t),this.#e.origin}get lastEventId(){return Ct.brandCheck(this,t),this.#e.lastEventId}get source(){return Ct.brandCheck(this,t),this.#e.source}get ports(){return Ct.brandCheck(this,t),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,r=!1,n=!1,o=null,a="",c="",l=null,u=[]){return Ct.brandCheck(this,t),Ct.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new t(e,{bubbles:r,cancelable:n,data:o,origin:a,lastEventId:c,source:l,ports:u})}static createFastMessageEvent(e,r){let n=new t($3e,e,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:F2t}=Ox;delete Ox.createFastMessageEvent;var HQ=class t extends Event{static{s(this,"CloseEvent")}#e;constructor(e,r={}){let n="CloseEvent constructor";Ct.argumentLengthCheck(arguments,1,n),e=Ct.converters.DOMString(e,n,"type"),r=Ct.converters.CloseEventInit(r),super(e,r),this.#e=r,Ct.util.markAsUncloneable(this)}get wasClean(){return Ct.brandCheck(this,t),this.#e.wasClean}get code(){return Ct.brandCheck(this,t),this.#e.code}get reason(){return Ct.brandCheck(this,t),this.#e.reason}},GQ=class t extends Event{static{s(this,"ErrorEvent")}#e;constructor(e,r){let n="ErrorEvent constructor";Ct.argumentLengthCheck(arguments,1,n),super(e,r),Ct.util.markAsUncloneable(this),e=Ct.converters.DOMString(e,n,"type"),r=Ct.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return Ct.brandCheck(this,t),this.#e.message}get filename(){return Ct.brandCheck(this,t),this.#e.filename}get lineno(){return Ct.brandCheck(this,t),this.#e.lineno}get colno(){return Ct.brandCheck(this,t),this.#e.colno}get error(){return Ct.brandCheck(this,t),this.#e.error}};Object.defineProperties(Ox.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:lc,origin:lc,lastEventId:lc,source:lc,ports:lc,initMessageEvent:lc});Object.defineProperties(HQ.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:lc,code:lc,wasClean:lc});Object.defineProperties(GQ.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:lc,filename:lc,lineno:lc,colno:lc,error:lc});Ct.converters.MessagePort=Ct.interfaceConverter(P2t);Ct.converters["sequence<MessagePort>"]=Ct.sequenceConverter(Ct.converters.MessagePort);var fZ=[{key:"bubbles",converter:Ct.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:Ct.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:Ct.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];Ct.converters.MessageEventInit=Ct.dictionaryConverter([...fZ,{key:"data",converter:Ct.converters.any,defaultValue:s(()=>null,"defaultValue")},{key:"origin",converter:Ct.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lastEventId",converter:Ct.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"source",converter:Ct.nullableConverter(Ct.converters.MessagePort),defaultValue:s(()=>null,"defaultValue")},{key:"ports",converter:Ct.converters["sequence<MessagePort>"],defaultValue:s(()=>new Array(0),"defaultValue")}]);Ct.converters.CloseEventInit=Ct.dictionaryConverter([...fZ,{key:"wasClean",converter:Ct.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"code",converter:Ct.converters["unsigned short"],defaultValue:s(()=>0,"defaultValue")},{key:"reason",converter:Ct.converters.USVString,defaultValue:s(()=>"","defaultValue")}]);Ct.converters.ErrorEventInit=Ct.dictionaryConverter([...fZ,{key:"message",converter:Ct.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"filename",converter:Ct.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lineno",converter:Ct.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"colno",converter:Ct.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"error",converter:Ct.converters.any}]);z3e.exports={MessageEvent:Ox,CloseEvent:HQ,ErrorEvent:GQ,createFastMessageEvent:F2t}});var MC=T((emn,K3e)=>{"use strict";d();var L2t="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",M2t={enumerable:!0,writable:!1,configurable:!1},O2t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},U2t={NOT_SENT:0,PROCESSING:1,SENT:2},q2t={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},H2t=2**16-1,G2t={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},V2t=Buffer.allocUnsafe(0),W2t={string:1,typedArray:2,arrayBuffer:3,blob:4};K3e.exports={uid:L2t,sentCloseFrameState:U2t,staticPropertyDescriptors:M2t,states:O2t,opcodes:q2t,maxUnsigned16Bit:H2t,parserStates:G2t,emptyBuffer:V2t,sendHints:W2t}});var aw=T((rmn,J3e)=>{"use strict";d();J3e.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var uw=T((imn,sBe)=>{"use strict";d();var{kReadyState:cw,kController:Y2t,kResponse:j2t,kBinaryType:$2t,kWebSocketURL:z2t}=aw(),{states:lw,opcodes:um}=MC(),{ErrorEvent:K2t,createFastMessageEvent:J2t}=Ux(),{isUtf8:X2t}=require("node:buffer"),{collectASequenceOfCodePointsFast:Z2t,removeHTTPWhitespace:X3e}=oc();function ext(t){return t[cw]===lw.CONNECTING}s(ext,"isConnecting");function txt(t){return t[cw]===lw.OPEN}s(txt,"isEstablished");function rxt(t){return t[cw]===lw.CLOSING}s(rxt,"isClosing");function nxt(t){return t[cw]===lw.CLOSED}s(nxt,"isClosed");function dZ(t,e,r=(o,a)=>new Event(o,a),n={}){let o=r(t,n);e.dispatchEvent(o)}s(dZ,"fireEvent");function ixt(t,e,r){if(t[cw]!==lw.OPEN)return;let n;if(e===um.TEXT)try{n=oBe(r)}catch{eBe(t,"Received invalid UTF-8 in text frame.");return}else e===um.BINARY&&(t[$2t]==="blob"?n=new Blob([r]):n=oxt(r));dZ("message",t,J2t,{origin:t[z2t].origin,data:n})}s(ixt,"websocketMessageReceived");function oxt(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}s(oxt,"toArrayBuffer");function sxt(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}s(sxt,"isValidSubprotocol");function axt(t){return t>=1e3&&t<1015?t!==1004&&t!==1005&&t!==1006:t>=3e3&&t<=4999}s(axt,"isValidStatusCode");function eBe(t,e){let{[Y2t]:r,[j2t]:n}=t;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),e&&dZ("error",t,(o,a)=>new K2t(o,a),{error:new Error(e),message:e})}s(eBe,"failWebsocketConnection");function tBe(t){return t===um.CLOSE||t===um.PING||t===um.PONG}s(tBe,"isControlFrame");function rBe(t){return t===um.CONTINUATION}s(rBe,"isContinuationFrame");function nBe(t){return t===um.TEXT||t===um.BINARY}s(nBe,"isTextBinaryFrame");function cxt(t){return nBe(t)||rBe(t)||tBe(t)}s(cxt,"isValidOpcode");function lxt(t){let e={position:0},r=new Map;for(;e.position<t.length;){let n=Z2t(";",t,e),[o,a=""]=n.split("=");r.set(X3e(o,!0,!1),X3e(a,!1,!0)),e.position++}return r}s(lxt,"parseExtensions");function uxt(t){for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r<48||r>57)return!1}return!0}s(uxt,"isValidClientWindowBits");var iBe=typeof process.versions.icu=="string",Z3e=iBe?new TextDecoder("utf-8",{fatal:!0}):void 0,oBe=iBe?Z3e.decode.bind(Z3e):function(t){if(X2t(t))return t.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};sBe.exports={isConnecting:ext,isEstablished:txt,isClosing:rxt,isClosed:nxt,fireEvent:dZ,isValidSubprotocol:sxt,isValidStatusCode:axt,failWebsocketConnection:eBe,websocketMessageReceived:ixt,utf8Decode:oBe,isControlFrame:tBe,isContinuationFrame:rBe,isTextBinaryFrame:nBe,isValidOpcode:cxt,parseExtensions:lxt,isValidClientWindowBits:uxt}});var WQ=T((amn,aBe)=>{"use strict";d();var{maxUnsigned16Bit:fxt}=MC(),VQ=16386,hZ,fw=null,qx=VQ;try{hZ=require("node:crypto")}catch{hZ={randomFillSync:s(function(e,r,n){for(let o=0;o<e.length;++o)e[o]=Math.random()*255|0;return e},"randomFillSync")}}function dxt(){return qx===VQ&&(qx=0,hZ.randomFillSync(fw??=Buffer.allocUnsafe(VQ),0,VQ)),[fw[qx++],fw[qx++],fw[qx++],fw[qx++]]}s(dxt,"generateMask");var AZ=class{static{s(this,"WebsocketFrameSend")}constructor(e){this.frameData=e}createFrame(e){let r=this.frameData,n=dxt(),o=r?.byteLength??0,a=o,c=6;o>fxt?(c+=8,a=127):o>125&&(c+=2,a=126);let l=Buffer.allocUnsafe(o+c);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+e;l[c-4]=n[0],l[c-3]=n[1],l[c-2]=n[2],l[c-1]=n[3],l[1]=a,a===126?l.writeUInt16BE(o,2):a===127&&(l[2]=l[3]=0,l.writeUIntBE(o,4,6)),l[1]|=128;for(let u=0;u<o;++u)l[c+u]=r[u]^n[u&3];return l}};aBe.exports={WebsocketFrameSend:AZ}});var mZ=T((umn,ABe)=>{"use strict";d();var{uid:hxt,states:dw,sentCloseFrameState:YQ,emptyBuffer:Axt,opcodes:pxt}=MC(),{kReadyState:hw,kSentClose:jQ,kByteParser:lBe,kReceivedClose:cBe,kResponse:uBe}=aw(),{fireEvent:mxt,failWebsocketConnection:fm,isClosing:gxt,isClosed:Cxt,isEstablished:yxt,parseExtensions:Ext}=uw(),{channels:Hx}=Z2(),{CloseEvent:Ixt}=Ux(),{makeRequest:xxt}=Qx(),{fetching:vxt}=nw(),{Headers:bxt,getHeadersList:_xt}=DC(),{getDecodeSplit:Txt}=n0(),{WebsocketFrameSend:wxt}=WQ(),pZ;try{pZ=require("node:crypto")}catch{}function Sxt(t,e,r,n,o,a){let c=t;c.protocol=t.protocol==="ws:"?"http:":"https:";let l=xxt({urlList:[c],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(a.headers){let A=_xt(new bxt(a.headers));l.headersList=A}let u=pZ.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",u),l.headersList.append("sec-websocket-version","13");for(let A of e)l.headersList.append("sec-websocket-protocol",A);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),vxt({request:l,useParallelQueue:!0,dispatcher:a.dispatcher,processResponse(A){if(A.type==="error"||A.status!==101){fm(n,"Received network error or non-101 status code.");return}if(e.length!==0&&!A.headersList.get("Sec-WebSocket-Protocol")){fm(n,"Server did not respond with sent protocols.");return}if(A.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){fm(n,'Server did not set Upgrade header to "websocket".');return}if(A.headersList.get("Connection")?.toLowerCase()!=="upgrade"){fm(n,'Server did not set Connection header to "upgrade".');return}let p=A.headersList.get("Sec-WebSocket-Accept"),m=pZ.createHash("sha1").update(u+hxt).digest("base64");if(p!==m){fm(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let g=A.headersList.get("Sec-WebSocket-Extensions"),y;if(g!==null&&(y=Ext(g),!y.has("permessage-deflate"))){fm(n,"Sec-WebSocket-Extensions header does not match.");return}let E=A.headersList.get("Sec-WebSocket-Protocol");if(E!==null&&!Txt("sec-websocket-protocol",l.headersList).includes(E)){fm(n,"Protocol was not set in the opening handshake.");return}A.socket.on("data",fBe),A.socket.on("close",dBe),A.socket.on("error",hBe),Hx.open.hasSubscribers&&Hx.open.publish({address:A.socket.address(),protocol:E,extensions:g}),o(A,y)}})}s(Sxt,"establishWebSocketConnection");function Bxt(t,e,r,n){if(!(gxt(t)||Cxt(t)))if(!yxt(t))fm(t,"Connection was closed before it was established."),t[hw]=dw.CLOSING;else if(t[jQ]===YQ.NOT_SENT){t[jQ]=YQ.PROCESSING;let o=new wxt;e!==void 0&&r===void 0?(o.frameData=Buffer.allocUnsafe(2),o.frameData.writeUInt16BE(e,0)):e!==void 0&&r!==void 0?(o.frameData=Buffer.allocUnsafe(2+n),o.frameData.writeUInt16BE(e,0),o.frameData.write(r,2,"utf-8")):o.frameData=Axt,t[uBe].socket.write(o.createFrame(pxt.CLOSE)),t[jQ]=YQ.SENT,t[hw]=dw.CLOSING}else t[hw]=dw.CLOSING}s(Bxt,"closeWebSocketConnection");function fBe(t){this.ws[lBe].write(t)||this.pause()}s(fBe,"onSocketData");function dBe(){let{ws:t}=this,{[uBe]:e}=t;e.socket.off("data",fBe),e.socket.off("close",dBe),e.socket.off("error",hBe);let r=t[jQ]===YQ.SENT&&t[cBe],n=1005,o="",a=t[lBe].closingInfo;a&&!a.error?(n=a.code??1005,o=a.reason):t[cBe]||(n=1006),t[hw]=dw.CLOSED,mxt("close",t,(c,l)=>new Ixt(c,l),{wasClean:r,code:n,reason:o}),Hx.close.hasSubscribers&&Hx.close.publish({websocket:t,code:n,reason:o})}s(dBe,"onSocketClose");function hBe(t){let{ws:e}=this;e[hw]=dw.CLOSING,Hx.socketError.hasSubscribers&&Hx.socketError.publish(t),this.destroy()}s(hBe,"onSocketError");ABe.exports={establishWebSocketConnection:Sxt,closeWebSocketConnection:Bxt}});var mBe=T((hmn,pBe)=>{"use strict";d();var{createInflateRaw:Rxt,Z_DEFAULT_WINDOWBITS:kxt}=require("node:zlib"),{isValidClientWindowBits:Dxt}=uw(),Nxt=Buffer.from([0,0,255,255]),$Q=Symbol("kBuffer"),zQ=Symbol("kLength"),gZ=class{static{s(this,"PerMessageDeflate")}#e;#t={};constructor(e){this.#t.serverNoContextTakeover=e.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=e.get("server_max_window_bits")}decompress(e,r,n){if(!this.#e){let o=kxt;if(this.#t.serverMaxWindowBits){if(!Dxt(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}o=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=Rxt({windowBits:o}),this.#e[$Q]=[],this.#e[zQ]=0,this.#e.on("data",a=>{this.#e[$Q].push(a),this.#e[zQ]+=a.length}),this.#e.on("error",a=>{this.#e=null,n(a)})}this.#e.write(e),r&&this.#e.write(Nxt),this.#e.flush(()=>{let o=Buffer.concat(this.#e[$Q],this.#e[zQ]);this.#e[$Q].length=0,this.#e[zQ]=0,n(null,o)})}};pBe.exports={PerMessageDeflate:gZ}});var wBe=T((mmn,TBe)=>{"use strict";d();var{Writable:Qxt}=require("node:stream"),Pxt=require("node:assert"),{parserStates:uc,opcodes:Gx,states:Fxt,emptyBuffer:gBe,sentCloseFrameState:CBe}=MC(),{kReadyState:Lxt,kSentClose:yBe,kResponse:EBe,kReceivedClose:IBe}=aw(),{channels:KQ}=Z2(),{isValidStatusCode:Mxt,isValidOpcode:Oxt,failWebsocketConnection:ll,websocketMessageReceived:xBe,utf8Decode:Uxt,isControlFrame:vBe,isTextBinaryFrame:CZ,isContinuationFrame:qxt}=uw(),{WebsocketFrameSend:bBe}=WQ(),{closeWebSocketConnection:_Be}=mZ(),{PerMessageDeflate:Hxt}=mBe(),yZ=class extends Qxt{static{s(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=uc.INFO;#r={};#o=[];#s;constructor(e,r){super(),this.ws=e,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new Hxt(r))}_write(e,r,n){this.#e.push(e),this.#t+=e.length,this.#i=!0,this.run(n)}run(e){for(;this.#i;)if(this.#n===uc.INFO){if(this.#t<2)return e();let r=this.consume(2),n=(r[0]&128)!==0,o=r[0]&15,a=(r[1]&128)===128,c=!n&&o!==Gx.CONTINUATION,l=r[1]&127,u=r[0]&64,f=r[0]&32,h=r[0]&16;if(!Oxt(o))return ll(this.ws,"Invalid opcode received"),e();if(a)return ll(this.ws,"Frame cannot be masked"),e();if(u!==0&&!this.#s.has("permessage-deflate")){ll(this.ws,"Expected RSV1 to be clear.");return}if(f!==0||h!==0){ll(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(c&&!CZ(o)){ll(this.ws,"Invalid frame type was fragmented.");return}if(CZ(o)&&this.#o.length>0){ll(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&c){ll(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||c)&&vBe(o)){ll(this.ws,"Control frame either too large or fragmented");return}if(qxt(o)&&this.#o.length===0&&!this.#r.compressed){ll(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=uc.READ_DATA):l===126?this.#n=uc.PAYLOADLENGTH_16:l===127&&(this.#n=uc.PAYLOADLENGTH_64),CZ(o)&&(this.#r.binaryType=o,this.#r.compressed=u!==0),this.#r.opcode=o,this.#r.masked=a,this.#r.fin=n,this.#r.fragmented=c}else if(this.#n===uc.PAYLOADLENGTH_16){if(this.#t<2)return e();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=uc.READ_DATA}else if(this.#n===uc.PAYLOADLENGTH_64){if(this.#t<8)return e();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){ll(this.ws,"Received payload length > 2^31 bytes.");return}let o=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+o,this.#n=uc.READ_DATA}else if(this.#n===uc.READ_DATA){if(this.#t<this.#r.payloadLength)return e();let r=this.consume(this.#r.payloadLength);if(vBe(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=uc.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,o)=>{if(n){_Be(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(o),!this.#r.fin){this.#n=uc.INFO,this.#i=!0,this.run(e);return}xBe(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=uc.INFO,this.#o.length=0,this.run(e)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);xBe(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=uc.INFO}}}consume(e){if(e>this.#t)throw new Error("Called consume() before buffers satiated.");if(e===0)return gBe;if(this.#e[0].length===e)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(e),n=0;for(;n!==e;){let o=this.#e[0],{length:a}=o;if(a+n===e){r.set(this.#e.shift(),n);break}else if(a+n>e){r.set(o.subarray(0,e-n),n),this.#e[0]=o.subarray(e-n);break}else r.set(this.#e.shift(),n),n+=o.length}return this.#t-=e,r}parseCloseBody(e){Pxt(e.length!==1);let r;if(e.length>=2&&(r=e.readUInt16BE(0)),r!==void 0&&!Mxt(r))return{code:1002,reason:"Invalid status code",error:!0};let n=e.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=Uxt(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(e){let{opcode:r,payloadLength:n}=this.#r;if(r===Gx.CLOSE){if(n===1)return ll(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(e),this.#r.closeInfo.error){let{code:o,reason:a}=this.#r.closeInfo;return _Be(this.ws,o,a,a.length),ll(this.ws,a),!1}if(this.ws[yBe]!==CBe.SENT){let o=gBe;this.#r.closeInfo.code&&(o=Buffer.allocUnsafe(2),o.writeUInt16BE(this.#r.closeInfo.code,0));let a=new bBe(o);this.ws[EBe].socket.write(a.createFrame(Gx.CLOSE),c=>{c||(this.ws[yBe]=CBe.SENT)})}return this.ws[Lxt]=Fxt.CLOSING,this.ws[IBe]=!0,!1}else if(r===Gx.PING){if(!this.ws[IBe]){let o=new bBe(e);this.ws[EBe].socket.write(o.createFrame(Gx.PONG)),KQ.ping.hasSubscribers&&KQ.ping.publish({payload:e})}}else r===Gx.PONG&&KQ.pong.hasSubscribers&&KQ.pong.publish({payload:e});return!0}get closingInfo(){return this.#r.closeInfo}};TBe.exports={ByteParser:yZ}});var DBe=T((ymn,kBe)=>{"use strict";d();var{WebsocketFrameSend:Gxt}=WQ(),{opcodes:SBe,sendHints:Vx}=MC(),Vxt=BJ(),BBe=Buffer[Symbol.species],EZ=class{static{s(this,"SendQueue")}#e=new Vxt;#t=!1;#i;constructor(e){this.#i=e}add(e,r,n){if(n!==Vx.blob){let a=RBe(e,n);if(!this.#t)this.#i.write(a,r);else{let c={promise:null,callback:r,frame:a};this.#e.push(c)}return}let o={promise:e.arrayBuffer().then(a=>{o.promise=null,o.frame=RBe(a,n)}),callback:r,frame:null};this.#e.push(o),this.#t||this.#n()}async#n(){this.#t=!0;let e=this.#e;for(;!e.isEmpty();){let r=e.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function RBe(t,e){return new Gxt(Wxt(t,e)).createFrame(e===Vx.string?SBe.TEXT:SBe.BINARY)}s(RBe,"createFrame");function Wxt(t,e){switch(e){case Vx.string:return Buffer.from(t);case Vx.arrayBuffer:case Vx.blob:return new BBe(t);case Vx.typedArray:return new BBe(t.buffer,t.byteOffset,t.byteLength)}}s(Wxt,"toBuffer");kBe.exports={SendQueue:EZ}});var qBe=T((xmn,UBe)=>{"use strict";d();var{webidl:Ut}=Is(),{URLSerializer:Yxt}=oc(),{environmentSettingsObject:NBe}=n0(),{staticPropertyDescriptors:dm,states:Aw,sentCloseFrameState:jxt,sendHints:JQ}=MC(),{kWebSocketURL:QBe,kReadyState:IZ,kController:$xt,kBinaryType:XQ,kResponse:PBe,kSentClose:zxt,kByteParser:Kxt}=aw(),{isConnecting:Jxt,isEstablished:Xxt,isClosing:Zxt,isValidSubprotocol:evt,fireEvent:FBe}=uw(),{establishWebSocketConnection:tvt,closeWebSocketConnection:LBe}=mZ(),{ByteParser:rvt}=wBe(),{kEnumerableProperty:ul,isBlobLike:MBe}=yr(),{getGlobalDispatcher:nvt}=dQ(),{types:OBe}=require("node:util"),{ErrorEvent:ivt,CloseEvent:ovt}=Ux(),{SendQueue:svt}=DBe(),u0=class t extends EventTarget{static{s(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(e,r=[]){super(),Ut.util.markAsUncloneable(this);let n="WebSocket constructor";Ut.argumentLengthCheck(arguments,1,n);let o=Ut.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");e=Ut.converters.USVString(e,n,"url"),r=o.protocols;let a=NBe.settingsObject.baseUrl,c;try{c=new URL(e,a)}catch(u){throw new DOMException(u,"SyntaxError")}if(c.protocol==="http:"?c.protocol="ws:":c.protocol==="https:"&&(c.protocol="wss:"),c.protocol!=="ws:"&&c.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${c.protocol}`,"SyntaxError");if(c.hash||c.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(u=>u.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(u=>evt(u)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[QBe]=new URL(c.href);let l=NBe.settingsObject;this[$xt]=tvt(c,r,l,this,(u,f)=>this.#o(u,f),o),this[IZ]=t.CONNECTING,this[zxt]=jxt.NOT_SENT,this[XQ]="blob"}close(e=void 0,r=void 0){Ut.brandCheck(this,t);let n="WebSocket.close";if(e!==void 0&&(e=Ut.converters["unsigned short"](e,n,"code",{clamp:!0})),r!==void 0&&(r=Ut.converters.USVString(r,n,"reason")),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new DOMException("invalid code","InvalidAccessError");let o=0;if(r!==void 0&&(o=Buffer.byteLength(r),o>123))throw new DOMException(`Reason must be less than 123 bytes; received ${o}`,"SyntaxError");LBe(this,e,r,o)}send(e){Ut.brandCheck(this,t);let r="WebSocket.send";if(Ut.argumentLengthCheck(arguments,1,r),e=Ut.converters.WebSocketSendData(e,r,"data"),Jxt(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!Xxt(this)||Zxt(this)))if(typeof e=="string"){let n=Buffer.byteLength(e);this.#t+=n,this.#r.add(e,()=>{this.#t-=n},JQ.string)}else OBe.isArrayBuffer(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},JQ.arrayBuffer)):ArrayBuffer.isView(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},JQ.typedArray)):MBe(e)&&(this.#t+=e.size,this.#r.add(e,()=>{this.#t-=e.size},JQ.blob))}get readyState(){return Ut.brandCheck(this,t),this[IZ]}get bufferedAmount(){return Ut.brandCheck(this,t),this.#t}get url(){return Ut.brandCheck(this,t),Yxt(this[QBe])}get extensions(){return Ut.brandCheck(this,t),this.#n}get protocol(){return Ut.brandCheck(this,t),this.#i}get onopen(){return Ut.brandCheck(this,t),this.#e.open}set onopen(e){Ut.brandCheck(this,t),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return Ut.brandCheck(this,t),this.#e.error}set onerror(e){Ut.brandCheck(this,t),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return Ut.brandCheck(this,t),this.#e.close}set onclose(e){Ut.brandCheck(this,t),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return Ut.brandCheck(this,t),this.#e.message}set onmessage(e){Ut.brandCheck(this,t),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return Ut.brandCheck(this,t),this[XQ]}set binaryType(e){Ut.brandCheck(this,t),e!=="blob"&&e!=="arraybuffer"?this[XQ]="blob":this[XQ]=e}#o(e,r){this[PBe]=e;let n=new rvt(this,r);n.on("drain",avt),n.on("error",cvt.bind(this)),e.socket.ws=this,this[Kxt]=n,this.#r=new svt(e.socket),this[IZ]=Aw.OPEN;let o=e.headersList.get("sec-websocket-extensions");o!==null&&(this.#n=o);let a=e.headersList.get("sec-websocket-protocol");a!==null&&(this.#i=a),FBe("open",this)}};u0.CONNECTING=u0.prototype.CONNECTING=Aw.CONNECTING;u0.OPEN=u0.prototype.OPEN=Aw.OPEN;u0.CLOSING=u0.prototype.CLOSING=Aw.CLOSING;u0.CLOSED=u0.prototype.CLOSED=Aw.CLOSED;Object.defineProperties(u0.prototype,{CONNECTING:dm,OPEN:dm,CLOSING:dm,CLOSED:dm,url:ul,readyState:ul,bufferedAmount:ul,onopen:ul,onerror:ul,onclose:ul,close:ul,onmessage:ul,binaryType:ul,send:ul,extensions:ul,protocol:ul,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(u0,{CONNECTING:dm,OPEN:dm,CLOSING:dm,CLOSED:dm});Ut.converters["sequence<DOMString>"]=Ut.sequenceConverter(Ut.converters.DOMString);Ut.converters["DOMString or sequence<DOMString>"]=function(t,e,r){return Ut.util.Type(t)==="Object"&&Symbol.iterator in t?Ut.converters["sequence<DOMString>"](t):Ut.converters.DOMString(t,e,r)};Ut.converters.WebSocketInit=Ut.dictionaryConverter([{key:"protocols",converter:Ut.converters["DOMString or sequence<DOMString>"],defaultValue:s(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Ut.converters.any,defaultValue:s(()=>nvt(),"defaultValue")},{key:"headers",converter:Ut.nullableConverter(Ut.converters.HeadersInit)}]);Ut.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(t){return Ut.util.Type(t)==="Object"&&!(Symbol.iterator in t)?Ut.converters.WebSocketInit(t):{protocols:Ut.converters["DOMString or sequence<DOMString>"](t)}};Ut.converters.WebSocketSendData=function(t){if(Ut.util.Type(t)==="Object"){if(MBe(t))return Ut.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||OBe.isArrayBuffer(t))return Ut.converters.BufferSource(t)}return Ut.converters.USVString(t)};function avt(){this.ws[PBe].socket.resume()}s(avt,"onParserDrain");function cvt(t){let e,r;t instanceof ovt?(e=t.reason,r=t.code):e=t.message,FBe("error",this,()=>new ivt("error",{error:t,message:e})),LBe(this,r)}s(cvt,"onParserError");UBe.exports={WebSocket:u0}});var xZ=T((_mn,HBe)=>{"use strict";d();function lvt(t){return t.indexOf("\0")===-1}s(lvt,"isValidLastEventId");function uvt(t){if(t.length===0)return!1;for(let e=0;e<t.length;e++)if(t.charCodeAt(e)<48||t.charCodeAt(e)>57)return!1;return!0}s(uvt,"isASCIINumber");function fvt(t){return new Promise(e=>{setTimeout(e,t).unref()})}s(fvt,"delay");HBe.exports={isValidLastEventId:lvt,isASCIINumber:uvt,delay:fvt}});var YBe=T((Smn,WBe)=>{"use strict";d();var{Transform:dvt}=require("node:stream"),{isASCIINumber:GBe,isValidLastEventId:VBe}=xZ(),Dh=[239,187,191],vZ=10,ZQ=13,hvt=58,Avt=32,bZ=class extends dvt{static{s(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(e={}){e.readableObjectMode=!0,super(e),this.state=e.eventSourceSettings||{},e.push&&(this.push=e.push)}_transform(e,r,n){if(e.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,e]):this.buffer=e,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===Dh[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===Dh[0]&&this.buffer[1]===Dh[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===Dh[0]&&this.buffer[1]===Dh[1]&&this.buffer[2]===Dh[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===Dh[0]&&this.buffer[1]===Dh[1]&&this.buffer[2]===Dh[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===vZ){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===vZ||this.buffer[this.pos]===ZQ){this.buffer[this.pos]===ZQ&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===vZ||this.buffer[this.pos]===ZQ){this.buffer[this.pos]===ZQ&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(e,r){if(e.length===0)return;let n=e.indexOf(hvt);if(n===0)return;let o="",a="";if(n!==-1){o=e.subarray(0,n).toString("utf8");let c=n+1;e[c]===Avt&&++c,a=e.subarray(c).toString("utf8")}else o=e.toString("utf8"),a="";switch(o){case"data":r[o]===void 0?r[o]=a:r[o]+=`
${a}`;break;case"retry":GBe(a)&&(r[o]=a);break;case"id":VBe(a)&&(r[o]=a);break;case"event":a.length>0&&(r[o]=a);break}}processEvent(e){e.retry&&GBe(e.retry)&&(this.state.reconnectionTime=parseInt(e.retry,10)),e.id&&VBe(e.id)&&(this.state.lastEventId=e.id),e.data!==void 0&&this.push({type:e.event||"message",options:{data:e.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};WBe.exports={EventSourceStream:bZ}});var e8e=T((kmn,ZBe)=>{"use strict";d();var{pipeline:pvt}=require("node:stream"),{fetching:mvt}=nw(),{makeRequest:gvt}=Qx(),{webidl:Nh}=Is(),{EventSourceStream:Cvt}=YBe(),{parseMIMEType:yvt}=oc(),{createFastMessageEvent:Evt}=Ux(),{isNetworkError:jBe}=tw(),{delay:Ivt}=xZ(),{kEnumerableProperty:OC}=yr(),{environmentSettingsObject:$Be}=n0(),zBe=!1,KBe=3e3,pw=0,JBe=1,mw=2,xvt="anonymous",vvt="use-credentials",Wx=class t extends EventTarget{static{s(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=pw;#r=null;#o=null;#s;#a;constructor(e,r={}){super(),Nh.util.markAsUncloneable(this);let n="EventSource constructor";Nh.argumentLengthCheck(arguments,1,n),zBe||(zBe=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),e=Nh.converters.USVString(e,n,"url"),r=Nh.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:KBe};let o=$Be,a;try{a=new URL(e,o.settingsObject.baseUrl),this.#a.origin=a.origin}catch(u){throw new DOMException(u,"SyntaxError")}this.#t=a.href;let c=xvt;r.withCredentials&&(c=vvt,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:c==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=$Be.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=gvt(l),this.#c()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#c(){if(this.#n===mw)return;this.#n=pw;let e={request:this.#r,dispatcher:this.#s},r=s(n=>{jBe(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#l()},"processEventSourceEndOfBody");e.processResponseEndOfBody=r,e.processResponse=n=>{if(jBe(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#l();return}let o=n.headersList.get("content-type",!0),a=o!==null?yvt(o):"failure",c=a!=="failure"&&a.essence==="text/event-stream";if(n.status!==200||c===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=JBe,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new Cvt({eventSourceSettings:this.#a,push:s(u=>{this.dispatchEvent(Evt(u.type,u.options))},"push")});pvt(n.body.stream,l,u=>{u?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=mvt(e)}async#l(){this.#n!==mw&&(this.#n=pw,this.dispatchEvent(new Event("error")),await Ivt(this.#a.reconnectionTime),this.#n===pw&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#c()))}close(){Nh.brandCheck(this,t),this.#n!==mw&&(this.#n=mw,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(e){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(e){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(e){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}},XBe={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:pw,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:JBe,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:mw,writable:!1}};Object.defineProperties(Wx,XBe);Object.defineProperties(Wx.prototype,XBe);Object.defineProperties(Wx.prototype,{close:OC,onerror:OC,onmessage:OC,onopen:OC,readyState:OC,url:OC,withCredentials:OC});Nh.converters.EventSourceInitDict=Nh.dictionaryConverter([{key:"withCredentials",converter:Nh.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"dispatcher",converter:Nh.converters.any}]);ZBe.exports={EventSource:Wx,defaultReconnectionTime:KBe}});var i8e=T((Qmn,Ft)=>{"use strict";d();var bvt=yx(),t8e=I4(),_vt=Ex(),Tvt=XTe(),wvt=Ix(),Svt=zJ(),Bvt=x4e(),Rvt=S4e(),r8e=un(),tP=yr(),{InvalidArgumentError:eP}=r8e,Yx=Awe(),kvt=v4(),Dvt=RX(),Nvt=Kwe(),Qvt=NX(),Pvt=gX(),Fvt=rQ(),{getGlobalDispatcher:n8e,setGlobalDispatcher:Lvt}=dQ(),Mvt=hQ(),Ovt=WN(),Uvt=YN();Object.assign(t8e.prototype,Yx);Ft.exports.Dispatcher=t8e;Ft.exports.Client=bvt;Ft.exports.Pool=_vt;Ft.exports.BalancedPool=Tvt;Ft.exports.Agent=wvt;Ft.exports.ProxyAgent=Svt;Ft.exports.EnvHttpProxyAgent=Bvt;Ft.exports.RetryAgent=Rvt;Ft.exports.RetryHandler=Fvt;Ft.exports.DecoratorHandler=Mvt;Ft.exports.RedirectHandler=Ovt;Ft.exports.createRedirectInterceptor=Uvt;Ft.exports.interceptors={redirect:nSe(),retry:oSe(),dump:aSe(),dns:uSe()};Ft.exports.buildConnector=kvt;Ft.exports.errors=r8e;Ft.exports.util={parseHeaders:tP.parseHeaders,headerNameToString:tP.headerNameToString};function gw(t){return(e,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new eP("invalid url");if(r!=null&&typeof r!="object")throw new eP("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new eP("invalid opts.path");let c=r.path;r.path.startsWith("/")||(c=`/${c}`),e=new URL(tP.parseOrigin(e).origin+c)}else r||(r=typeof e=="object"?e:{}),e=tP.parseURL(e);let{agent:o,dispatcher:a=n8e()}=r;if(o)throw new eP("unsupported opts.agent. Did you mean opts.client?");return t.call(a,{...r,origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}s(gw,"makeDispatcher");Ft.exports.setGlobalDispatcher=Lvt;Ft.exports.getGlobalDispatcher=n8e;var qvt=nw().fetch;Ft.exports.fetch=s(async function(e,r=void 0){try{return await qvt(e,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");Ft.exports.Headers=DC().Headers;Ft.exports.Response=tw().Response;Ft.exports.Request=Qx().Request;Ft.exports.FormData=R4().FormData;Ft.exports.File=globalThis.File??require("node:buffer").File;Ft.exports.FileReader=T3e().FileReader;var{setGlobalOrigin:Hvt,getGlobalOrigin:Gvt}=KK();Ft.exports.setGlobalOrigin=Hvt;Ft.exports.getGlobalOrigin=Gvt;var{CacheStorage:Vvt}=P3e(),{kConstruct:Wvt}=QQ();Ft.exports.caches=new Vvt(Wvt);var{deleteCookie:Yvt,getCookies:jvt,getSetCookies:$vt,setCookie:zvt}=j3e();Ft.exports.deleteCookie=Yvt;Ft.exports.getCookies=jvt;Ft.exports.getSetCookies=$vt;Ft.exports.setCookie=zvt;var{parseMIMEType:Kvt,serializeAMimeType:Jvt}=oc();Ft.exports.parseMIMEType=Kvt;Ft.exports.serializeAMimeType=Jvt;var{CloseEvent:Xvt,ErrorEvent:Zvt,MessageEvent:ebt}=Ux();Ft.exports.WebSocket=qBe().WebSocket;Ft.exports.CloseEvent=Xvt;Ft.exports.ErrorEvent=Zvt;Ft.exports.MessageEvent=ebt;Ft.exports.request=gw(Yx.request);Ft.exports.stream=gw(Yx.stream);Ft.exports.pipeline=gw(Yx.pipeline);Ft.exports.connect=gw(Yx.connect);Ft.exports.upgrade=gw(Yx.upgrade);Ft.exports.MockClient=Dvt;Ft.exports.MockPool=Qvt;Ft.exports.MockAgent=Nvt;Ft.exports.mockErrors=Pvt;var{EventSource:tbt}=e8e();Ft.exports.EventSource=tbt});var Ar=T((Lmn,o8e)=>{d();o8e.exports={options:{usePureJavaScript:!1}}});var c8e=T((Omn,a8e)=>{d();var _Z={};a8e.exports=_Z;var s8e={};_Z.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=rbt(t,e);else{var o=0,a=e.length,c=e.charAt(0),l=[0];for(o=0;o<t.length;++o){for(var u=0,f=t[o];u<l.length;++u)f+=l[u]<<8,l[u]=f%a,f=f/a|0;for(;f>0;)l.push(f%a),f=f/a|0}for(o=0;t[o]===0&&o<t.length-1;++o)n+=c;for(o=l.length-1;o>=0;--o)n+=e[l[o]]}if(r){var h=new RegExp(".{1,"+r+"}","g");n=n.match(h).join(`\r
`)}return n};_Z.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=s8e[e];if(!r){r=s8e[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var o=e.length,a=e.charAt(0),c=[0],n=0;n<t.length;n++){var l=r[t.charCodeAt(n)];if(l===void 0)return;for(var u=0,f=l;u<c.length;++u)f+=c[u]*o,c[u]=f&255,f>>=8;for(;f>0;)c.push(f&255),f>>=8}for(var h=0;t[h]===a&&h<t.length-1;++h)c.push(0);return typeof Buffer<"u"?Buffer.from(c.reverse()):new Uint8Array(c.reverse())};function rbt(t,e){var r=0,n=e.length,o=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var c=0,l=t.at(r);c<a.length;++c)l+=a[c]<<8,a[c]=l%n,l=l/n|0;for(;l>0;)a.push(l%n),l=l/n|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=o;for(r=a.length-1;r>=0;--r)u+=e[a[r]];return u}s(rbt,"_encodeWithByteBuffer")});var nn=T((Hmn,d8e)=>{d();var l8e=Ar(),u8e=c8e(),ae=d8e.exports=l8e.util=l8e.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){ae.nextTick=process.nextTick,typeof setImmediate=="function"?ae.setImmediate=setImmediate:ae.setImmediate=ae.nextTick;return}if(typeof setImmediate=="function"){ae.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ae.nextTick=function(l){return setImmediate(l)};return}if(ae.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var f=e.slice();e.length=0,f.forEach(function(h){h()})}};var c=l;s(l,"handler");var t="forge.setImmediate",e=[];ae.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,o=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(f){f()})}).observe(o,{attributes:!0});var a=ae.setImmediate;ae.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),a(u)):(e.push(u),e.length===1&&o.setAttribute("a",n=!n))}}ae.nextTick=ae.setImmediate})();ae.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;ae.globalScope=function(){return ae.isNodejs?global:typeof self>"u"?window:self}();ae.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};ae.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};ae.isArrayBufferView=function(t){return t&&ae.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Cw(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}s(Cw,"_checkBitsParam");ae.ByteBuffer=TZ;function TZ(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(ae.isArrayBuffer(t)||ae.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof TZ||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}s(TZ,"ByteStringBuffer");ae.ByteStringBuffer=TZ;var nbt=4096;ae.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>nbt&&(this.data.substr(0,1),this._constructedStringLength=0)};ae.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ae.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ae.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};ae.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};ae.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};ae.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(ae.encodeUtf8(t))};ae.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ae.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ae.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ae.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};ae.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};ae.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};ae.ByteStringBuffer.prototype.putInt=function(t,e){Cw(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};ae.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};ae.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};ae.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ae.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};ae.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};ae.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};ae.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};ae.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};ae.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};ae.ByteStringBuffer.prototype.getInt=function(t){Cw(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};ae.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ae.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ae.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ae.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};ae.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};ae.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ae.ByteStringBuffer.prototype.copy=function(){var t=ae.createBuffer(this.data);return t.read=this.read,t};ae.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ae.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ae.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};ae.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ae.ByteStringBuffer.prototype.toString=function(){return ae.decodeUtf8(this.bytes())};function ibt(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=ae.isArrayBuffer(t),n=ae.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}s(ibt,"DataBuffer");ae.DataBuffer=ibt;ae.DataBuffer.prototype.length=function(){return this.write-this.read};ae.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ae.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};ae.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};ae.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};ae.DataBuffer.prototype.putBytes=function(t,e){if(ae.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var o=new Uint8Array(this.data.buffer,this.write);return o.set(r),this.write+=n,this}if(ae.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var o=new Uint8Array(this.data.buffer);return o.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof ae.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&ae.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var o=new Uint8Array(t.data.byteLength,this.write);return o.set(r),this.write+=r.byteLength,this}if(t instanceof ae.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=ae.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=ae.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=ae.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=ae.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=ae.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};ae.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};ae.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};ae.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};ae.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};ae.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};ae.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};ae.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};ae.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};ae.DataBuffer.prototype.putInt=function(t,e){Cw(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};ae.DataBuffer.prototype.putSignedInt=function(t,e){return Cw(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};ae.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ae.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};ae.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};ae.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};ae.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};ae.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};ae.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};ae.DataBuffer.prototype.getInt=function(t){Cw(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};ae.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ae.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ae.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ae.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};ae.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};ae.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ae.DataBuffer.prototype.copy=function(){return new ae.DataBuffer(this)};ae.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};ae.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ae.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};ae.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ae.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return ae.binary.raw.encode(e);if(t==="hex")return ae.binary.hex.encode(e);if(t==="base64")return ae.binary.base64.encode(e);if(t==="utf8")return ae.text.utf8.decode(e);if(t==="utf16")return ae.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};ae.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=ae.encodeUtf8(t)),new ae.ByteBuffer(t)};ae.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};ae.xorBytes=function(t,e,r){for(var n="",o="",a="",c=0,l=0;r>0;--r,++c)o=t.charCodeAt(c)^e.charCodeAt(c),l>=10&&(n+=a,a="",l=0),a+=String.fromCharCode(o),++l;return n+=a,n};ae.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};ae.bytesToHex=function(t){return ae.createBuffer(t).toHex()};ae.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Am=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f8e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ae.encode64=function(t,e){for(var r="",n="",o,a,c,l=0;l<t.length;)o=t.charCodeAt(l++),a=t.charCodeAt(l++),c=t.charCodeAt(l++),r+=hm.charAt(o>>2),r+=hm.charAt((o&3)<<4|a>>4),isNaN(a)?r+="==":(r+=hm.charAt((a&15)<<2|c>>6),r+=isNaN(c)?"=":hm.charAt(c&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ae.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,o,a,c=0;c<t.length;)r=Am[t.charCodeAt(c++)-43],n=Am[t.charCodeAt(c++)-43],o=Am[t.charCodeAt(c++)-43],a=Am[t.charCodeAt(c++)-43],e+=String.fromCharCode(r<<2|n>>4),o!==64&&(e+=String.fromCharCode((n&15)<<4|o>>2),a!==64&&(e+=String.fromCharCode((o&3)<<6|a)));return e};ae.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};ae.decodeUtf8=function(t){return decodeURIComponent(escape(t))};ae.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:u8e.encode,decode:u8e.decode}};ae.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};ae.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var o=r,a=0;a<t.length;++a)n[o++]=t.charCodeAt(a);return e?o-r:n};ae.binary.hex.encode=ae.bytesToHex;ae.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var o=0,a=r;for(t.length&1&&(o=1,n[a++]=parseInt(t[0],16));o<t.length;o+=2)n[a++]=parseInt(t.substr(o,2),16);return e?a-r:n};ae.binary.base64.encode=function(t,e){for(var r="",n="",o,a,c,l=0;l<t.byteLength;)o=t[l++],a=t[l++],c=t[l++],r+=hm.charAt(o>>2),r+=hm.charAt((o&3)<<4|a>>4),isNaN(a)?r+="==":(r+=hm.charAt((a&15)<<2|c>>6),r+=isNaN(c)?"=":hm.charAt(c&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ae.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var o,a,c,l,u=0,f=r;u<t.length;)o=Am[t.charCodeAt(u++)-43],a=Am[t.charCodeAt(u++)-43],c=Am[t.charCodeAt(u++)-43],l=Am[t.charCodeAt(u++)-43],n[f++]=o<<2|a>>4,c!==64&&(n[f++]=(a&15)<<4|c>>2,l!==64&&(n[f++]=(c&3)<<6|l));return e?f-r:n.subarray(0,f)};ae.binary.base58.encode=function(t,e){return ae.binary.baseN.encode(t,f8e,e)};ae.binary.base58.decode=function(t,e){return ae.binary.baseN.decode(t,f8e,e)};ae.text={utf8:{},utf16:{}};ae.text.utf8.encode=function(t,e,r){t=ae.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var o=r,a=0;a<t.length;++a)n[o++]=t.charCodeAt(a);return e?o-r:n};ae.text.utf8.decode=function(t){return ae.decodeUtf8(String.fromCharCode.apply(null,t))};ae.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var o=new Uint16Array(n.buffer);r=r||0;for(var a=r,c=r,l=0;l<t.length;++l)o[c++]=t.charCodeAt(l),a+=2;return e?a-r:n};ae.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};ae.deflate=function(t,e,r){if(e=ae.decode64(t.deflate(ae.encode64(e)).rval),r){var n=2,o=e.charCodeAt(1);o&32&&(n=6),e=e.substring(n,e.length-4)}return e};ae.inflate=function(t,e,r){var n=t.inflate(ae.encode64(e)).rval;return n===null?null:ae.decode64(n)};var wZ=s(function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=ae.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var o=new Error(n.error.message);throw o.id=n.error.id,o.name=n.error.name,o}},"_setStorageObject"),SZ=s(function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(ae.decode64(r))),r},"_getStorageObject"),obt=s(function(t,e,r,n){var o=SZ(t,e);o===null&&(o={}),o[r]=n,wZ(t,e,o)},"_setItem"),sbt=s(function(t,e,r){var n=SZ(t,e);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),abt=s(function(t,e,r){var n=SZ(t,e);if(n!==null&&r in n){delete n[r];var o=!0;for(var a in n){o=!1;break}o&&(n=null),wZ(t,e,n)}},"_removeItem"),cbt=s(function(t,e){wZ(t,e,null)},"_clearItems"),rP=s(function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var o,a=!1,c=null;for(var l in r){o=r[l];try{if(o==="flash"||o==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),a=o==="flash"}(o==="web"||o==="both")&&(e[0]=localStorage,n=t.apply(this,e),a=!0)}catch(u){c=u}if(a)break}if(!a)throw c;return n},"_callStorageFunction");ae.setItem=function(t,e,r,n,o){rP(obt,arguments,o)};ae.getItem=function(t,e,r,n){return rP(sbt,arguments,n)};ae.removeItem=function(t,e,r,n){rP(abt,arguments,n)};ae.clearItems=function(t,e,r){rP(cbt,arguments,r)};ae.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};ae.format=function(t){for(var e=/%./g,r,n,o=0,a=[],c=0;r=e.exec(t);){n=t.substring(c,e.lastIndex-2),n.length>0&&a.push(n),c=e.lastIndex;var l=r[0][1];switch(l){case"s":case"o":o<arguments.length?a.push(arguments[o+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+l+"?>")}}return a.push(t.substring(c)),a.join("")};ae.formatNumber=function(t,e,r,n){var o=t,a=isNaN(e=Math.abs(e))?2:e,c=r===void 0?",":r,l=n===void 0?".":n,u=o<0?"-":"",f=parseInt(o=Math.abs(+o||0).toFixed(a),10)+"",h=f.length>3?f.length%3:0;return u+(h?f.substr(0,h)+l:"")+f.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+l)+(a?c+Math.abs(o-f).toFixed(a).slice(2):"")};ae.formatSize=function(t){return t>=1073741824?t=ae.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=ae.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=ae.formatNumber(t/1024,0)+" KiB":t=ae.formatNumber(t,0)+" bytes",t};ae.bytesFromIP=function(t){return t.indexOf(".")!==-1?ae.bytesFromIPv4(t):t.indexOf(":")!==-1?ae.bytesFromIPv6(t):null};ae.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=ae.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};ae.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(c){return c.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=ae.createBuffer(),o=0;o<8;++o){if(!t[o]||t[o].length===0){n.fillWithByte(0,r),r=0;continue}var a=ae.hexToBytes(t[o]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};ae.bytesToIP=function(t){return t.length===4?ae.bytesToIPv4(t):t.length===16?ae.bytesToIPv6(t):null};ae.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};ae.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,o=0;o<t.length;o+=2){for(var a=ae.bytesToHex(t[o]+t[o+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var c=r[r.length-1],l=e.length;!c||l!==c.end+1?r.push({start:l,end:l}):(c.end=l,c.end-c.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(a)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};ae.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in ae&&!t.update)return e(null,ae.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ae.cores=navigator.hardwareConcurrency,e(null,ae.cores);if(typeof Worker>"u")return ae.cores=1,e(null,ae.cores);if(typeof Blob>"u")return ae.cores=2,e(null,ae.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(c){for(var l=Date.now(),u=l+4;Date.now()<u;);self.postMessage({st:l,et:u})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(c,l,u){if(l===0){var f=Math.floor(c.reduce(function(h,A){return h+A},0)/c.length);return ae.cores=Math.max(1,f),URL.revokeObjectURL(r),e(null,ae.cores)}o(u,function(h,A){c.push(a(u,A)),n(c,l-1,u)})}s(n,"sample");function o(c,l){for(var u=[],f=[],h=0;h<c;++h){var A=new Worker(r);A.addEventListener("message",function(p){if(f.push(p.data),f.length===c){for(var m=0;m<c;++m)u[m].terminate();l(null,f)}}),u.push(A)}for(var h=0;h<c;++h)u[h].postMessage(h)}s(o,"map");function a(c,l){for(var u=[],f=0;f<c;++f)for(var h=l[f],A=u[f]=[],p=0;p<c;++p)if(f!==p){var m=l[p];(h.st>m.st&&h.st<m.et||m.st>h.st&&m.st<h.et)&&A.push(p)}return u.reduce(function(g,y){return Math.max(g,y.length)},0)}s(a,"reduce")}});var nP=T((Wmn,h8e)=>{d();var zo=Ar();nn();h8e.exports=zo.cipher=zo.cipher||{};zo.cipher.algorithms=zo.cipher.algorithms||{};zo.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=zo.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new zo.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};zo.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=zo.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new zo.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};zo.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),zo.cipher.algorithms[t]=e};zo.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in zo.cipher.algorithms?zo.cipher.algorithms[t]:null};var BZ=zo.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};BZ.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=zo.util.createBuffer(),this.output=t.output||zo.util.createBuffer(),this.mode.start(e)};BZ.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};BZ.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var kZ=T((jmn,A8e)=>{d();var Ko=Ar();nn();Ko.cipher=Ko.cipher||{};var Tr=A8e.exports=Ko.cipher.modes=Ko.cipher.modes||{};Tr.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Tr.ecb.prototype.start=function(t){};Tr.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Tr.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Tr.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Tr.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Tr.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Tr.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=iP(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Tr.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};Tr.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Tr.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Tr.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Tr.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ko.util.createBuffer(),this._partialBytes=0};Tr.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=iP(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Tr.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)this._inBlock[o]=t.getInt32()^this._outBlock[o],e.putInt32(this._inBlock[o]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialBlock[o]=t.getInt32()^this._outBlock[o],this._partialOutput.putInt32(this._partialBlock[o]);if(a>0)t.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Tr.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)this._inBlock[o]=t.getInt32(),e.putInt32(this._inBlock[o]^this._outBlock[o]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialBlock[o]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[o]^this._outBlock[o]);if(a>0)t.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Tr.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ko.util.createBuffer(),this._partialBytes=0};Tr.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=iP(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Tr.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)e.putInt32(t.getInt32()^this._outBlock[o]),this._inBlock[o]=this._outBlock[o];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a>0)t.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._outBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Tr.ofb.prototype.decrypt=Tr.ofb.prototype.encrypt;Tr.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ko.util.createBuffer(),this._partialBytes=0};Tr.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=iP(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Tr.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var o=0;o<this._ints;++o)e.putInt32(t.getInt32()^this._outBlock[o]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}oP(this._inBlock)};Tr.ctr.prototype.decrypt=Tr.ctr.prototype.encrypt;Tr.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ko.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Tr.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Ko.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Ko.util.createBuffer(t.additionalData):r=Ko.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Ko.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(RZ(n*8)))}this._inBlock=this._j0.slice(0),oP(this._inBlock),this._partialBytes=0,r=Ko.util.createBuffer(r),this._aDataLength=RZ(r.length()*8);var o=r.length()%this.blockSize;for(o&&r.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Tr.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a<=0||r){if(r){var c=n%this.blockSize;this._cipherLength+=c,this._partialOutput.truncate(this.blockSize-c)}else this._cipherLength+=this.blockSize;for(var o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),oP(this._inBlock)};Tr.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),oP(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^this._hashBlock[o]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Tr.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Ko.util.createBuffer();var n=this._aDataLength.concat(RZ(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Tr.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),o=0;o<128;++o){var a=t[o/32|0]&1<<31-o%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Tr.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};Tr.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,o=t[n]>>>(7-r%8)*4&15,a=this._m[r][o];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};Tr.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};Tr.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,o=16*r,a=new Array(o),c=0;c<o;++c){var l=[0,0,0,0],u=c/n|0,f=(n-1-c%n)*e;l[u]=1<<e-1<<f,a[c]=this.generateSubHashTable(this.multiply(l,t),e)}return a};Tr.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,o=new Array(r);o[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(o[2*a],o[a]=[]),a>>=1;for(a=2;a<n;){for(var c=1;c<a;++c){var l=o[a],u=o[c];o[a+c]=[l[0]^u[0],l[1]^u[1],l[2]^u[2],l[3]^u[3]]}a*=2}for(o[0]=[0,0,0,0],a=n+1;a<r;++a){var f=o[a^n];o[a]=[t[0]^f[0],t[1]^f[1],t[2]^f[2],t[3]^f[3]]}return o};function iP(t,e){if(typeof t=="string"&&(t=Ko.util.createBuffer(t)),Ko.util.isArray(t)&&t.length>4){var r=t;t=Ko.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Ko.util.isArray(t)){for(var o=[],a=e/4,n=0;n<a;++n)o.push(t.getInt32());t=o}return t}s(iP,"transformIV");function oP(t){t[t.length-1]=t[t.length-1]+1&4294967295}s(oP,"inc32");function RZ(t){return[t/4294967296|0,t&4294967295]}s(RZ,"from64To32")});var pm=T((Kmn,C8e)=>{d();var Wn=Ar();nP();kZ();nn();C8e.exports=Wn.aes=Wn.aes||{};Wn.aes.startEncrypting=function(t,e,r,n){var o=sP({key:t,output:r,decrypt:!1,mode:n});return o.start(e),o};Wn.aes.createEncryptionCipher=function(t,e){return sP({key:t,output:null,decrypt:!1,mode:e})};Wn.aes.startDecrypting=function(t,e,r,n){var o=sP({key:t,output:r,decrypt:!0,mode:n});return o.start(e),o};Wn.aes.createDecryptionCipher=function(t,e){return sP({key:t,output:null,decrypt:!0,mode:e})};Wn.aes.Algorithm=function(t,e){QZ||m8e();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:s(function(n,o){return NZ(r._w,n,o,!1)},"encrypt"),decrypt:s(function(n,o){return NZ(r._w,n,o,!0)},"decrypt")}}),r._init=!1};Wn.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Wn.util.createBuffer(e);else if(Wn.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Wn.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!Wn.util.isArray(e)){r=e,e=[];var o=r.length();if(o===16||o===24||o===32){o=o>>>2;for(var n=0;n<o;++n)e.push(r.getInt32())}}if(!Wn.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,c=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=g8e(e,t.decrypt&&!c),this._init=!0}};Wn.aes._expandKey=function(t,e){return QZ||m8e(),g8e(t,e)};Wn.aes._updateBlock=NZ;$x("AES-ECB",Wn.cipher.modes.ecb);$x("AES-CBC",Wn.cipher.modes.cbc);$x("AES-CFB",Wn.cipher.modes.cfb);$x("AES-OFB",Wn.cipher.modes.ofb);$x("AES-CTR",Wn.cipher.modes.ctr);$x("AES-GCM",Wn.cipher.modes.gcm);function $x(t,e){var r=s(function(){return new Wn.aes.Algorithm(t,e)},"factory");Wn.cipher.registerAlgorithm(t,r)}s($x,"registerAlgorithm");var QZ=!1,jx=4,Ea,DZ,p8e,UC,hu;function m8e(){QZ=!0,p8e=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Ea=new Array(256),DZ=new Array(256),UC=new Array(4),hu=new Array(4);for(var e=0;e<4;++e)UC[e]=new Array(256),hu[e]=new Array(256);for(var r=0,n=0,o,a,c,l,u,f,h,e=0;e<256;++e){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,Ea[r]=l,DZ[l]=r,u=t[l],o=t[r],a=t[o],c=t[a],f=u<<24^l<<16^l<<8^(l^u),h=(o^a^c)<<24^(r^c)<<16^(r^a^c)<<8^(r^o^c);for(var A=0;A<4;++A)UC[A][r]=f,hu[A][l]=h,f=f<<24|f>>>8,h=h<<24|h>>>8;r===0?r=n=1:(r=o^t[t[t[o^c]]],n^=t[t[n]])}}s(m8e,"initialize");function g8e(t,e){for(var r=t.slice(0),n,o=1,a=r.length,c=a+6+1,l=jx*c,u=a;u<l;++u)n=r[u-1],u%a===0?(n=Ea[n>>>16&255]<<24^Ea[n>>>8&255]<<16^Ea[n&255]<<8^Ea[n>>>24]^p8e[o]<<24,o++):a>6&&u%a===4&&(n=Ea[n>>>24]<<24^Ea[n>>>16&255]<<16^Ea[n>>>8&255]<<8^Ea[n&255]),r[u]=r[u-a]^n;if(e){var f,h=hu[0],A=hu[1],p=hu[2],m=hu[3],g=r.slice(0);l=r.length;for(var u=0,y=l-jx;u<l;u+=jx,y-=jx)if(u===0||u===l-jx)g[u]=r[y],g[u+1]=r[y+3],g[u+2]=r[y+2],g[u+3]=r[y+1];else for(var E=0;E<jx;++E)f=r[y+E],g[u+(3&-E)]=h[Ea[f>>>24]]^A[Ea[f>>>16&255]]^p[Ea[f>>>8&255]]^m[Ea[f&255]];r=g}return r}s(g8e,"_expandKey");function NZ(t,e,r,n){var o=t.length/4-1,a,c,l,u,f;n?(a=hu[0],c=hu[1],l=hu[2],u=hu[3],f=DZ):(a=UC[0],c=UC[1],l=UC[2],u=UC[3],f=Ea);var h,A,p,m,g,y,E;h=e[0]^t[0],A=e[n?3:1]^t[1],p=e[2]^t[2],m=e[n?1:3]^t[3];for(var I=3,x=1;x<o;++x)g=a[h>>>24]^c[A>>>16&255]^l[p>>>8&255]^u[m&255]^t[++I],y=a[A>>>24]^c[p>>>16&255]^l[m>>>8&255]^u[h&255]^t[++I],E=a[p>>>24]^c[m>>>16&255]^l[h>>>8&255]^u[A&255]^t[++I],m=a[m>>>24]^c[h>>>16&255]^l[A>>>8&255]^u[p&255]^t[++I],h=g,A=y,p=E;r[0]=f[h>>>24]<<24^f[A>>>16&255]<<16^f[p>>>8&255]<<8^f[m&255]^t[++I],r[n?3:1]=f[A>>>24]<<24^f[p>>>16&255]<<16^f[m>>>8&255]<<8^f[h&255]^t[++I],r[2]=f[p>>>24]<<24^f[m>>>16&255]<<16^f[h>>>8&255]<<8^f[A&255]^t[++I],r[n?1:3]=f[m>>>24]<<24^f[h>>>16&255]<<16^f[A>>>8&255]<<8^f[p&255]^t[++I]}s(NZ,"_updateBlock");function sP(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=Wn.cipher.createDecipher(r,t.key):n=Wn.cipher.createCipher(r,t.key);var o=n.start;return n.start=function(a,c){var l=null;c instanceof Wn.util.ByteBuffer&&(l=c,c={}),c=c||{},c.output=l,c.iv=a,o.call(n,c)},n}s(sP,"_createCipher")});var mm=T((Zmn,y8e)=>{d();var yw=Ar();yw.pki=yw.pki||{};var PZ=y8e.exports=yw.pki.oids=yw.oids=yw.oids||{};function Qe(t,e){PZ[t]=e,PZ[e]=t}s(Qe,"_IN");function gn(t,e){PZ[t]=e}s(gn,"_I_");Qe("1.2.840.113549.1.1.1","rsaEncryption");Qe("1.2.840.113549.1.1.4","md5WithRSAEncryption");Qe("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Qe("1.2.840.113549.1.1.7","RSAES-OAEP");Qe("1.2.840.113549.1.1.8","mgf1");Qe("1.2.840.113549.1.1.9","pSpecified");Qe("1.2.840.113549.1.1.10","RSASSA-PSS");Qe("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Qe("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Qe("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Qe("1.3.101.112","EdDSA25519");Qe("1.2.840.10040.4.3","dsa-with-sha1");Qe("1.3.14.3.2.7","desCBC");Qe("1.3.14.3.2.26","sha1");Qe("1.3.14.3.2.29","sha1WithRSASignature");Qe("2.16.840.1.101.3.4.2.1","sha256");Qe("2.16.840.1.101.3.4.2.2","sha384");Qe("2.16.840.1.101.3.4.2.3","sha512");Qe("2.16.840.1.101.3.4.2.4","sha224");Qe("2.16.840.1.101.3.4.2.5","sha512-224");Qe("2.16.840.1.101.3.4.2.6","sha512-256");Qe("1.2.840.113549.2.2","md2");Qe("1.2.840.113549.2.5","md5");Qe("1.2.840.113549.1.7.1","data");Qe("1.2.840.113549.1.7.2","signedData");Qe("1.2.840.113549.1.7.3","envelopedData");Qe("1.2.840.113549.1.7.4","signedAndEnvelopedData");Qe("1.2.840.113549.1.7.5","digestedData");Qe("1.2.840.113549.1.7.6","encryptedData");Qe("1.2.840.113549.1.9.1","emailAddress");Qe("1.2.840.113549.1.9.2","unstructuredName");Qe("1.2.840.113549.1.9.3","contentType");Qe("1.2.840.113549.1.9.4","messageDigest");Qe("1.2.840.113549.1.9.5","signingTime");Qe("1.2.840.113549.1.9.6","counterSignature");Qe("1.2.840.113549.1.9.7","challengePassword");Qe("1.2.840.113549.1.9.8","unstructuredAddress");Qe("1.2.840.113549.1.9.14","extensionRequest");Qe("1.2.840.113549.1.9.20","friendlyName");Qe("1.2.840.113549.1.9.21","localKeyId");Qe("1.2.840.113549.1.9.22.1","x509Certificate");Qe("1.2.840.113549.1.12.10.1.1","keyBag");Qe("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Qe("1.2.840.113549.1.12.10.1.3","certBag");Qe("1.2.840.113549.1.12.10.1.4","crlBag");Qe("1.2.840.113549.1.12.10.1.5","secretBag");Qe("1.2.840.113549.1.12.10.1.6","safeContentsBag");Qe("1.2.840.113549.1.5.13","pkcs5PBES2");Qe("1.2.840.113549.1.5.12","pkcs5PBKDF2");Qe("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Qe("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Qe("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Qe("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Qe("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Qe("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Qe("1.2.840.113549.2.7","hmacWithSHA1");Qe("1.2.840.113549.2.8","hmacWithSHA224");Qe("1.2.840.113549.2.9","hmacWithSHA256");Qe("1.2.840.113549.2.10","hmacWithSHA384");Qe("1.2.840.113549.2.11","hmacWithSHA512");Qe("1.2.840.113549.3.7","des-EDE3-CBC");Qe("2.16.840.1.101.3.4.1.2","aes128-CBC");Qe("2.16.840.1.101.3.4.1.22","aes192-CBC");Qe("2.16.840.1.101.3.4.1.42","aes256-CBC");Qe("2.5.4.3","commonName");Qe("2.5.4.4","surname");Qe("2.5.4.5","serialNumber");Qe("2.5.4.6","countryName");Qe("2.5.4.7","localityName");Qe("2.5.4.8","stateOrProvinceName");Qe("2.5.4.9","streetAddress");Qe("2.5.4.10","organizationName");Qe("2.5.4.11","organizationalUnitName");Qe("2.5.4.12","title");Qe("2.5.4.13","description");Qe("2.5.4.15","businessCategory");Qe("2.5.4.17","postalCode");Qe("2.5.4.42","givenName");Qe("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Qe("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Qe("2.16.840.1.113730.1.1","nsCertType");Qe("2.16.840.1.113730.1.13","nsComment");gn("2.5.29.1","authorityKeyIdentifier");gn("2.5.29.2","keyAttributes");gn("2.5.29.3","certificatePolicies");gn("2.5.29.4","keyUsageRestriction");gn("2.5.29.5","policyMapping");gn("2.5.29.6","subtreesConstraint");gn("2.5.29.7","subjectAltName");gn("2.5.29.8","issuerAltName");gn("2.5.29.9","subjectDirectoryAttributes");gn("2.5.29.10","basicConstraints");gn("2.5.29.11","nameConstraints");gn("2.5.29.12","policyConstraints");gn("2.5.29.13","basicConstraints");Qe("2.5.29.14","subjectKeyIdentifier");Qe("2.5.29.15","keyUsage");gn("2.5.29.16","privateKeyUsagePeriod");Qe("2.5.29.17","subjectAltName");Qe("2.5.29.18","issuerAltName");Qe("2.5.29.19","basicConstraints");gn("2.5.29.20","cRLNumber");gn("2.5.29.21","cRLReason");gn("2.5.29.22","expirationDate");gn("2.5.29.23","instructionCode");gn("2.5.29.24","invalidityDate");gn("2.5.29.25","cRLDistributionPoints");gn("2.5.29.26","issuingDistributionPoint");gn("2.5.29.27","deltaCRLIndicator");gn("2.5.29.28","issuingDistributionPoint");gn("2.5.29.29","certificateIssuer");gn("2.5.29.30","nameConstraints");Qe("2.5.29.31","cRLDistributionPoints");Qe("2.5.29.32","certificatePolicies");gn("2.5.29.33","policyMappings");gn("2.5.29.34","policyConstraints");Qe("2.5.29.35","authorityKeyIdentifier");gn("2.5.29.36","policyConstraints");Qe("2.5.29.37","extKeyUsage");gn("2.5.29.46","freshestCRL");gn("2.5.29.54","inhibitAnyPolicy");Qe("1.3.6.1.4.1.11129.2.4.2","timestampList");Qe("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Qe("1.3.6.1.5.5.7.3.1","serverAuth");Qe("1.3.6.1.5.5.7.3.2","clientAuth");Qe("1.3.6.1.5.5.7.3.3","codeSigning");Qe("1.3.6.1.5.5.7.3.4","emailProtection");Qe("1.3.6.1.5.5.7.3.8","timeStamping")});var Au=T((rgn,I8e)=>{d();var si=Ar();nn();mm();var Ze=I8e.exports=si.asn1=si.asn1||{};Ze.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Ze.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Ze.create=function(t,e,r,n,o){if(si.util.isArray(n)){for(var a=[],c=0;c<n.length;++c)n[c]!==void 0&&a.push(n[c]);n=a}var l={tagClass:t,type:e,constructed:r,composed:r||si.util.isArray(n),value:n};return o&&"bitStringContents"in o&&(l.bitStringContents=o.bitStringContents,l.original=Ze.copy(l)),l};Ze.copy=function(t,e){var r;if(si.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(Ze.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:Ze.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};Ze.equals=function(t,e,r){if(si.util.isArray(t)){if(!si.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Ze.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var o=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&Ze.equals(t.value,e.value);return r&&r.includeBitStringContents&&(o=o&&t.bitStringContents===e.bitStringContents),o};Ze.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Ew(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}s(Ew,"_checkBufferLength");var lbt=s(function(t,e){var r=t.getByte();if(e--,r!==128){var n,o=r&128;if(!o)n=r;else{var a=r&127;Ew(t,e,a),n=t.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Ze.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=si.util.createBuffer(t));var r=t.length(),n=aP(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var o=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw o.byteCount=r,o.remaining=t.length(),o}return n};function aP(t,e,r,n){var o;Ew(t,e,2);var a=t.getByte();e--;var c=a&192,l=a&31;o=t.length();var u=lbt(t,e);if(e-=o-t.length(),u!==void 0&&u>e){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=t.length(),f.remaining=e,f.requested=u,f}u=e}var h,A,p=(a&32)===32;if(p)if(h=[],u===void 0)for(;;){if(Ew(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}o=t.length(),h.push(aP(t,e,r+1,n)),e-=o-t.length()}else for(;u>0;)o=t.length(),h.push(aP(t,u,r+1,n)),e-=o-t.length(),u-=o-t.length();if(h===void 0&&c===Ze.Class.UNIVERSAL&&l===Ze.Type.BITSTRING&&(A=t.bytes(u)),h===void 0&&n.decodeBitStrings&&c===Ze.Class.UNIVERSAL&&l===Ze.Type.BITSTRING&&u>1){var m=t.read,g=e,y=0;if(l===Ze.Type.BITSTRING&&(Ew(t,e,1),y=t.getByte(),e--),y===0)try{o=t.length();var E={strict:!0,decodeBitStrings:!0},I=aP(t,e,r+1,E),x=o-t.length();e-=x,l==Ze.Type.BITSTRING&&x++;var v=I.tagClass;x===u&&(v===Ze.Class.UNIVERSAL||v===Ze.Class.CONTEXT_SPECIFIC)&&(h=[I])}catch{}h===void 0&&(t.read=m,e=g)}if(h===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(l===Ze.Type.BMPSTRING)for(h="";u>0;u-=2)Ew(t,e,2),h+=String.fromCharCode(t.getInt16()),e-=2;else h=t.getBytes(u),e-=u}var b=A===void 0?null:{bitStringContents:A};return Ze.create(c,l,p,h,b)}s(aP,"_fromDer");Ze.toDer=function(t){var e=si.util.createBuffer(),r=t.tagClass|t.type,n=si.util.createBuffer(),o=!1;if("bitStringContents"in t&&(o=!0,t.original&&(o=Ze.equals(t,t.original))),o)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&n.putBuffer(Ze.toDer(t.value[a]))}else if(t.type===Ze.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)n.putInt16(t.value.charCodeAt(a));else t.type===Ze.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)===0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var c=n.length(),l="";do l+=String.fromCharCode(c&255),c=c>>>8;while(c>0);e.putByte(l.length|128);for(var a=l.length-1;a>=0;--a)e.putByte(l.charCodeAt(a))}return e.putBuffer(n),e};Ze.oidToDer=function(t){var e=t.split("."),r=si.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,o,a,c,l=2;l<e.length;++l){n=!0,o=[],a=parseInt(e[l],10);do c=a&127,a=a>>>7,n||(c|=128),o.push(c),n=!1;while(a>0);for(var u=o.length-1;u>=0;--u)r.putByte(o[u])}return r};Ze.derToOid=function(t){var e;typeof t=="string"&&(t=si.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};Ze.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,o=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),c=parseInt(t.substr(8,2),10),l=0;if(t.length>11){var u=t.charAt(10),f=10;u!=="+"&&u!=="-"&&(l=parseInt(t.substr(10,2),10),f+=2)}if(e.setUTCFullYear(r,n,o),e.setUTCHours(a,c,l,0),f&&(u=t.charAt(f),u==="+"||u==="-")){var h=parseInt(t.substr(f+1,2),10),A=parseInt(t.substr(f+4,2),10),p=h*60+A;p*=6e4,u==="+"?e.setTime(+e-p):e.setTime(+e+p)}return e};Ze.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,o=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),c=parseInt(t.substr(10,2),10),l=parseInt(t.substr(12,2),10),u=0,f=0,h=!1;t.charAt(t.length-1)==="Z"&&(h=!0);var A=t.length-5,p=t.charAt(A);if(p==="+"||p==="-"){var m=parseInt(t.substr(A+1,2),10),g=parseInt(t.substr(A+4,2),10);f=m*60+g,f*=6e4,p==="+"&&(f*=-1),h=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),h?(e.setUTCFullYear(r,n,o),e.setUTCHours(a,c,l,u),e.setTime(+e+f)):(e.setFullYear(r,n,o),e.setHours(a,c,l,u)),e};Ze.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Ze.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Ze.integerToDer=function(t){var e=si.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};Ze.derToInteger=function(t){typeof t=="string"&&(t=si.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};Ze.validate=function(t,e,r,n){var o=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(o=!0,e.value&&si.util.isArray(e.value))for(var a=0,c=0;o&&c<e.value.length;++c)o=e.value[c].optional||!1,t.value[a]&&(o=Ze.validate(t.value[a],e.value[c],r,n),o?++a:e.value[c].optional&&(o=!0)),!o&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(o&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var l;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return o};var E8e=/[^\\u0000-\\u00ff]/;Ze.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var o="",a=0;a<e*r;++a)o+=" ";switch(n+=o+"Tag: ",t.tagClass){case Ze.Class.UNIVERSAL:n+="Universal:";break;case Ze.Class.APPLICATION:n+="Application:";break;case Ze.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Ze.Class.PRIVATE:n+="Private:";break}if(t.tagClass===Ze.Class.UNIVERSAL)switch(n+=t.type,t.type){case Ze.Type.NONE:n+=" (None)";break;case Ze.Type.BOOLEAN:n+=" (Boolean)";break;case Ze.Type.INTEGER:n+=" (Integer)";break;case Ze.Type.BITSTRING:n+=" (Bit string)";break;case Ze.Type.OCTETSTRING:n+=" (Octet string)";break;case Ze.Type.NULL:n+=" (Null)";break;case Ze.Type.OID:n+=" (Object Identifier)";break;case Ze.Type.ODESC:n+=" (Object Descriptor)";break;case Ze.Type.EXTERNAL:n+=" (External or Instance of)";break;case Ze.Type.REAL:n+=" (Real)";break;case Ze.Type.ENUMERATED:n+=" (Enumerated)";break;case Ze.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Ze.Type.UTF8:n+=" (UTF8)";break;case Ze.Type.ROID:n+=" (Relative Object Identifier)";break;case Ze.Type.SEQUENCE:n+=" (Sequence)";break;case Ze.Type.SET:n+=" (Set)";break;case Ze.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Ze.Type.IA5String:n+=" (IA5String (ASCII))";break;case Ze.Type.UTCTIME:n+=" (UTC time)";break;case Ze.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Ze.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=o+"Constructed: "+t.constructed+`
`,t.composed){for(var c=0,l="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(c+=1,l+=Ze.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(l+=","));n+=o+"Sub values: "+c+l}else{if(n+=o+"Value: ",t.type===Ze.Type.OID){var u=Ze.derToOid(t.value);n+=u,si.pki&&si.pki.oids&&u in si.pki.oids&&(n+=" ("+si.pki.oids[u]+") ")}if(t.type===Ze.Type.INTEGER)try{n+=Ze.derToInteger(t.value)}catch{n+="0x"+si.util.bytesToHex(t.value)}else if(t.type===Ze.Type.BITSTRING){if(t.value.length>1?n+="0x"+si.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var f=t.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(t.type===Ze.Type.OCTETSTRING)E8e.test(t.value)||(n+="("+t.value+") "),n+="0x"+si.util.bytesToHex(t.value);else if(t.type===Ze.Type.UTF8)try{n+=si.util.decodeUtf8(t.value)}catch(h){if(h.message==="URI malformed")n+="0x"+si.util.bytesToHex(t.value)+" (malformed UTF8)";else throw h}else t.type===Ze.Type.PRINTABLESTRING||t.type===Ze.Type.IA5String?n+=t.value:E8e.test(t.value)?n+="0x"+si.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var Gf=T((ogn,x8e)=>{d();var cP=Ar();x8e.exports=cP.md=cP.md||{};cP.md.algorithms=cP.md.algorithms||{}});var zx=T((agn,v8e)=>{d();var Qh=Ar();Gf();nn();var ubt=v8e.exports=Qh.hmac=Qh.hmac||{};ubt.create=function(){var t=null,e=null,r=null,n=null,o={};return o.start=function(a,c){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in Qh.md.algorithms)e=Qh.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(c===null)c=t;else{if(typeof c=="string")c=Qh.util.createBuffer(c);else if(Qh.util.isArray(c)){var l=c;c=Qh.util.createBuffer();for(var u=0;u<l.length;++u)c.putByte(l[u])}var f=c.length();f>e.blockLength&&(e.start(),e.update(c.bytes()),c=e.digest()),r=Qh.util.createBuffer(),n=Qh.util.createBuffer(),f=c.length();for(var u=0;u<f;++u){var l=c.at(u);r.putByte(54^l),n.putByte(92^l)}if(f<e.blockLength)for(var l=e.blockLength-f,u=0;u<l;++u)r.putByte(54),n.putByte(92);t=c,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},o.update=function(a){e.update(a)},o.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(n),e.update(a),e.digest()},o.digest=o.getMac,o}});var uP=T((lgn,w8e)=>{d();var Vf=Ar();Gf();nn();var _8e=w8e.exports=Vf.md5=Vf.md5||{};Vf.md.md5=Vf.md.algorithms.md5=_8e;_8e.create=function(){T8e||fbt();var t=null,e=Vf.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var o=n.messageLengthSize/4,a=0;a<o;++a)n.fullMessageLength.push(0);return e=Vf.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(o,a){a==="utf8"&&(o=Vf.util.encodeUtf8(o));var c=o.length;n.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=c[1],c[1]=c[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(o),b8e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var o=Vf.util.createBuffer();o.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,c=a&n.blockLength-1;o.putBytes(FZ.substr(0,n.blockLength-c));for(var l,u=0,f=n.fullMessageLength.length-1;f>=0;--f)l=n.fullMessageLength[f]*8+u,u=l/4294967296>>>0,o.putInt32Le(l>>>0);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};b8e(h,r,o);var A=Vf.util.createBuffer();return A.putInt32Le(h.h0),A.putInt32Le(h.h1),A.putInt32Le(h.h2),A.putInt32Le(h.h3),A},n};var FZ=null,lP=null,Iw=null,Kx=null,T8e=!1;function fbt(){FZ="\x80",FZ+=Vf.util.fillString("\0",64),lP=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],Iw=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],Kx=new Array(64);for(var t=0;t<64;++t)Kx[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296);T8e=!0}s(fbt,"_init");function b8e(t,e,r){for(var n,o,a,c,l,u,f,h,A=r.length();A>=64;){for(o=t.h0,a=t.h1,c=t.h2,l=t.h3,h=0;h<16;++h)e[h]=r.getInt32Le(),u=l^a&(c^l),n=o+u+Kx[h]+e[h],f=Iw[h],o=l,l=c,c=a,a+=n<<f|n>>>32-f;for(;h<32;++h)u=c^l&(a^c),n=o+u+Kx[h]+e[lP[h]],f=Iw[h],o=l,l=c,c=a,a+=n<<f|n>>>32-f;for(;h<48;++h)u=a^c^l,n=o+u+Kx[h]+e[lP[h]],f=Iw[h],o=l,l=c,c=a,a+=n<<f|n>>>32-f;for(;h<64;++h)u=c^(a|~l),n=o+u+Kx[h]+e[lP[h]],f=Iw[h],o=l,l=c,c=a,a+=n<<f|n>>>32-f;t.h0=t.h0+o|0,t.h1=t.h1+a|0,t.h2=t.h2+c|0,t.h3=t.h3+l|0,A-=64}}s(b8e,"_update")});var qC=T((dgn,B8e)=>{d();var dP=Ar();nn();var S8e=B8e.exports=dP.pem=dP.pem||{};S8e.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=fP(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=fP(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=fP(n)),t.headers)for(var o=0;o<t.headers.length;++o)r+=fP(t.headers[o]);return t.procType&&(r+=`\r
`),r+=dP.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};S8e.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/,a;a=r.exec(t),!!a;){var c=a[1];c==="NEW CERTIFICATE REQUEST"&&(c="CERTIFICATE REQUEST");var l={type:c,procType:null,contentDomain:null,dekInfo:null,headers:[],body:dP.util.decode64(a[3])};if(e.push(l),!!a[2]){for(var u=a[2].split(o),f=0;a&&f<u.length;){for(var h=u[f].replace(/\s+$/,""),A=f+1;A<u.length;++A){var p=u[A];if(!/\s/.test(p[0]))break;h+=p,f=A}if(a=h.match(n),a){for(var m={name:a[1],values:[]},g=a[2].split(","),y=0;y<g.length;++y)m.values.push(dbt(g[y]));if(l.procType)if(!l.contentDomain&&m.name==="Content-Domain")l.contentDomain=g[0]||"";else if(!l.dekInfo&&m.name==="DEK-Info"){if(m.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:g[0],parameters:g[1]||null}}else l.headers.push(m);else{if(m.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(m.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:g[0],type:g[1]}}}++f}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function fP(t){for(var e=t.name+": ",r=[],n=s(function(u,f){return" "+f},"insertSpace"),o=0;o<t.values.length;++o)r.push(t.values[o].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var a=0,c=-1,o=0;o<e.length;++o,++a)if(a>65&&c!==-1){var l=e[c];l===","?(++c,e=e.substr(0,c)+`\r
 `+e.substr(c)):e=e.substr(0,c)+`\r
`+l+e.substr(c+1),a=o-c-1,c=-1,++o}else(e[o]===" "||e[o]==="	"||e[o]===",")&&(c=o);return e}s(fP,"foldHeader");function dbt(t){return t.replace(/^\s+/,"")}s(dbt,"ltrim")});var xw=T((pgn,k8e)=>{d();var yi=Ar();nP();kZ();nn();k8e.exports=yi.des=yi.des||{};yi.des.startEncrypting=function(t,e,r,n){var o=hP({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return o.start(e),o};yi.des.createEncryptionCipher=function(t,e){return hP({key:t,output:null,decrypt:!1,mode:e})};yi.des.startDecrypting=function(t,e,r,n){var o=hP({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return o.start(e),o};yi.des.createDecryptionCipher=function(t,e){return hP({key:t,output:null,decrypt:!0,mode:e})};yi.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:s(function(n,o){return R8e(r._keys,n,o,!1)},"encrypt"),decrypt:s(function(n,o){return R8e(r._keys,n,o,!0)},"decrypt")}}),r._init=!1};yi.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=yi.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=Ibt(e),this._init=!0}};Wf("DES-ECB",yi.cipher.modes.ecb);Wf("DES-CBC",yi.cipher.modes.cbc);Wf("DES-CFB",yi.cipher.modes.cfb);Wf("DES-OFB",yi.cipher.modes.ofb);Wf("DES-CTR",yi.cipher.modes.ctr);Wf("3DES-ECB",yi.cipher.modes.ecb);Wf("3DES-CBC",yi.cipher.modes.cbc);Wf("3DES-CFB",yi.cipher.modes.cfb);Wf("3DES-OFB",yi.cipher.modes.ofb);Wf("3DES-CTR",yi.cipher.modes.ctr);function Wf(t,e){var r=s(function(){return new yi.des.Algorithm(t,e)},"factory");yi.cipher.registerAlgorithm(t,r)}s(Wf,"registerAlgorithm");var hbt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Abt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],pbt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],mbt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],gbt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Cbt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],ybt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Ebt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Ibt(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],c=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],A=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],m=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=t.length()>8?3:1,E=[],I=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],x=0,v,b=0;b<y;b++){var _=t.getInt32(),S=t.getInt32();v=(_>>>4^S)&252645135,S^=v,_^=v<<4,v=(S>>>-16^_)&65535,_^=v,S^=v<<-16,v=(_>>>2^S)&858993459,S^=v,_^=v<<2,v=(S>>>-16^_)&65535,_^=v,S^=v<<-16,v=(_>>>1^S)&1431655765,S^=v,_^=v<<1,v=(S>>>8^_)&16711935,_^=v,S^=v<<8,v=(_>>>1^S)&1431655765,S^=v,_^=v<<1,v=_<<8|S>>>20&240,_=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=v;for(var w=0;w<I.length;++w){I[w]?(_=_<<2|_>>>26,S=S<<2|S>>>26):(_=_<<1|_>>>27,S=S<<1|S>>>27),_&=-15,S&=-15;var L=e[_>>>28]|r[_>>>24&15]|n[_>>>20&15]|o[_>>>16&15]|a[_>>>12&15]|c[_>>>8&15]|l[_>>>4&15],M=u[S>>>28]|f[S>>>24&15]|h[S>>>20&15]|A[S>>>16&15]|p[S>>>12&15]|m[S>>>8&15]|g[S>>>4&15];v=(M>>>16^L)&65535,E[x++]=L^v,E[x++]=M^v<<16}}return E}s(Ibt,"_createKeys");function R8e(t,e,r,n){var o=t.length===32?3:9,a;o===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var c,l=e[0],u=e[1];c=(l>>>4^u)&252645135,u^=c,l^=c<<4,c=(l>>>16^u)&65535,u^=c,l^=c<<16,c=(u>>>2^l)&858993459,l^=c,u^=c<<2,c=(u>>>8^l)&16711935,l^=c,u^=c<<8,c=(l>>>1^u)&1431655765,u^=c,l^=c<<1,l=l<<1|l>>>31,u=u<<1|u>>>31;for(var f=0;f<o;f+=3){for(var h=a[f+1],A=a[f+2],p=a[f];p!=h;p+=A){var m=u^t[p],g=(u>>>4|u<<28)^t[p+1];c=l,l=u,u=c^(Abt[m>>>24&63]|mbt[m>>>16&63]|Cbt[m>>>8&63]|Ebt[m&63]|hbt[g>>>24&63]|pbt[g>>>16&63]|gbt[g>>>8&63]|ybt[g&63])}c=l,l=u,u=c}l=l>>>1|l<<31,u=u>>>1|u<<31,c=(l>>>1^u)&1431655765,u^=c,l^=c<<1,c=(u>>>8^l)&16711935,l^=c,u^=c<<8,c=(u>>>2^l)&858993459,l^=c,u^=c<<2,c=(l>>>16^u)&65535,u^=c,l^=c<<16,c=(l>>>4^u)&252645135,u^=c,l^=c<<4,r[0]=l,r[1]=u}s(R8e,"_updateBlock");function hP(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=yi.cipher.createDecipher(r,t.key):n=yi.cipher.createCipher(r,t.key);var o=n.start;return n.start=function(a,c){var l=null;c instanceof yi.util.ByteBuffer&&(l=c,c={}),c=c||{},c.output=l,c.iv=a,o.call(n,c)},n}s(hP,"_createCipher")});var AP=T((Cgn,D8e)=>{d();var Ia=Ar();zx();Gf();nn();var xbt=Ia.pkcs5=Ia.pkcs5||{},Ph;Ia.util.isNodejs&&!Ia.options.usePureJavaScript&&(Ph=require("crypto"));D8e.exports=Ia.pbkdf2=xbt.pbkdf2=function(t,e,r,n,o,a){if(typeof o=="function"&&(a=o,o=null),Ia.util.isNodejs&&!Ia.options.usePureJavaScript&&Ph.pbkdf2&&(o===null||typeof o!="object")&&(Ph.pbkdf2Sync.length>4||!o||o==="sha1"))return typeof o!="string"&&(o="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?Ph.pbkdf2Sync.length===4?Ph.pbkdf2(t,e,r,n,function(v,b){if(v)return a(v);a(null,b.toString("binary"))}):Ph.pbkdf2(t,e,r,n,o,function(v,b){if(v)return a(v);a(null,b.toString("binary"))}):Ph.pbkdf2Sync.length===4?Ph.pbkdf2Sync(t,e,r,n).toString("binary"):Ph.pbkdf2Sync(t,e,r,n,o).toString("binary");if((typeof o>"u"||o===null)&&(o="sha1"),typeof o=="string"){if(!(o in Ia.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=Ia.md[o].create()}var c=o.digestLength;if(n>4294967295*c){var l=new Error("Derived key is too long.");if(a)return a(l);throw l}var u=Math.ceil(n/c),f=n-(u-1)*c,h=Ia.hmac.create();h.start(o,t);var A="",p,m,g;if(!a){for(var y=1;y<=u;++y){h.start(null,null),h.update(e),h.update(Ia.util.int32ToBytes(y)),p=g=h.digest().getBytes();for(var E=2;E<=r;++E)h.start(null,null),h.update(g),m=h.digest().getBytes(),p=Ia.util.xorBytes(p,m,c),g=m;A+=y<u?p:p.substr(0,f)}return A}var y=1,E;function I(){if(y>u)return a(null,A);h.start(null,null),h.update(e),h.update(Ia.util.int32ToBytes(y)),p=g=h.digest().getBytes(),E=2,x()}s(I,"outer");function x(){if(E<=r)return h.start(null,null),h.update(g),m=h.digest().getBytes(),p=Ia.util.xorBytes(p,m,c),g=m,++E,Ia.util.setImmediate(x);A+=y<u?p:p.substr(0,f),++y,I()}s(x,"inner"),I()}});var MZ=T((Ign,L8e)=>{d();var Yf=Ar();Gf();nn();var Q8e=L8e.exports=Yf.sha256=Yf.sha256||{};Yf.md.sha256=Yf.md.algorithms.sha256=Q8e;Q8e.create=function(){P8e||vbt();var t=null,e=Yf.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var o=n.messageLengthSize/4,a=0;a<o;++a)n.fullMessageLength.push(0);return e=Yf.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(o,a){a==="utf8"&&(o=Yf.util.encodeUtf8(o));var c=o.length;n.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=c[1],c[1]=c[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(o),N8e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var o=Yf.util.createBuffer();o.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,c=a&n.blockLength-1;o.putBytes(LZ.substr(0,n.blockLength-c));for(var l,u,f=n.fullMessageLength[0]*8,h=0;h<n.fullMessageLength.length-1;++h)l=n.fullMessageLength[h+1]*8,u=l/4294967296>>>0,f+=u,o.putInt32(f>>>0),f=l>>>0;o.putInt32(f);var A={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};N8e(A,r,o);var p=Yf.util.createBuffer();return p.putInt32(A.h0),p.putInt32(A.h1),p.putInt32(A.h2),p.putInt32(A.h3),p.putInt32(A.h4),p.putInt32(A.h5),p.putInt32(A.h6),p.putInt32(A.h7),p},n};var LZ=null,P8e=!1,F8e=null;function vbt(){LZ="\x80",LZ+=Yf.util.fillString("\0",64),F8e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],P8e=!0}s(vbt,"_init");function N8e(t,e,r){for(var n,o,a,c,l,u,f,h,A,p,m,g,y,E,I,x=r.length();x>=64;){for(f=0;f<16;++f)e[f]=r.getInt32();for(;f<64;++f)n=e[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,o=e[f-15],o=(o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,e[f]=n+e[f-7]+o+e[f-16]|0;for(h=t.h0,A=t.h1,p=t.h2,m=t.h3,g=t.h4,y=t.h5,E=t.h6,I=t.h7,f=0;f<64;++f)c=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),l=E^g&(y^E),a=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),u=h&A|p&(h^A),n=I+c+l+F8e[f]+e[f],o=a+u,I=E,E=y,y=g,g=m+n>>>0,m=p,p=A,A=h,h=n+o>>>0;t.h0=t.h0+h|0,t.h1=t.h1+A|0,t.h2=t.h2+p|0,t.h3=t.h3+m|0,t.h4=t.h4+g|0,t.h5=t.h5+y|0,t.h6=t.h6+E|0,t.h7=t.h7+I|0,x-=64}}s(N8e,"_update")});var OZ=T((bgn,M8e)=>{d();var jf=Ar();nn();var pP=null;jf.util.isNodejs&&!jf.options.usePureJavaScript&&!process.versions["node-webkit"]&&(pP=require("crypto"));var bbt=M8e.exports=jf.prng=jf.prng||{};bbt.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),o=0;o<32;++o)n[o]=r.create();e.pools=n,e.pool=0,e.generate=function(f,h){if(!h)return e.generateSync(f);var A=e.plugin.cipher,p=e.plugin.increment,m=e.plugin.formatKey,g=e.plugin.formatSeed,y=jf.util.createBuffer();e.key=null,E();function E(I){if(I)return h(I);if(y.length()>=f)return h(null,y.getBytes(f));if(e.generated>1048575&&(e.key=null),e.key===null)return jf.util.nextTick(function(){a(E)});var x=A(e.key,e.seed);e.generated+=x.length,y.putBytes(x),e.key=m(A(e.key,p(e.seed))),e.seed=g(A(e.key,e.seed)),jf.util.setImmediate(E)}s(E,"generate")},e.generateSync=function(f){var h=e.plugin.cipher,A=e.plugin.increment,p=e.plugin.formatKey,m=e.plugin.formatSeed;e.key=null;for(var g=jf.util.createBuffer();g.length()<f;){e.generated>1048575&&(e.key=null),e.key===null&&c();var y=h(e.key,e.seed);e.generated+=y.length,g.putBytes(y),e.key=p(h(e.key,A(e.seed))),e.seed=m(h(e.key,e.seed))}return g.getBytes(f)};function a(f){if(e.pools[0].messageLength>=32)return l(),f();var h=32-e.pools[0].messageLength<<5;e.seedFile(h,function(A,p){if(A)return f(A);e.collect(p),l(),f()})}s(a,"_reseed");function c(){if(e.pools[0].messageLength>=32)return l();var f=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(f)),l()}s(c,"_reseedSync");function l(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var f=e.plugin.md.create();f.update(e.keyBytes);for(var h=1,A=0;A<32;++A)e.reseeds%h===0&&(f.update(e.pools[A].digest().getBytes()),e.pools[A].start()),h=h<<1;e.keyBytes=f.digest().getBytes(),f.start(),f.update(e.keyBytes);var p=f.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(p),e.generated=0}s(l,"_seed");function u(f){var h=null,A=jf.util.globalScope,p=A.crypto||A.msCrypto;p&&p.getRandomValues&&(h=s(function(_){return p.getRandomValues(_)},"getRandomValues"));var m=jf.util.createBuffer();if(h)for(;m.length()<f;){var g=Math.max(1,Math.min(f-m.length(),65536)/4),y=new Uint32Array(Math.floor(g));try{h(y);for(var E=0;E<y.length;++E)m.putInt32(y[E])}catch(_){if(!(typeof QuotaExceededError<"u"&&_ instanceof QuotaExceededError))throw _}}if(m.length()<f)for(var I,x,v,b=Math.floor(Math.random()*65536);m.length()<f;){x=16807*(b&65535),I=16807*(b>>16),x+=(I&32767)<<16,x+=I>>15,x=(x&2147483647)+(x>>31),b=x&4294967295;for(var E=0;E<3;++E)v=b>>>(E<<3),v^=Math.floor(Math.random()*256),m.putByte(v&255)}return m.getBytes(f)}return s(u,"defaultSeedFile"),pP?(e.seedFile=function(f,h){pP.randomBytes(f,function(A,p){if(A)return h(A);h(null,p.toString())})},e.seedFileSync=function(f){return pP.randomBytes(f).toString()}):(e.seedFile=function(f,h){try{h(null,u(f))}catch(A){h(A)}},e.seedFileSync=u),e.collect=function(f){for(var h=f.length,A=0;A<h;++A)e.pools[e.pool].update(f.substr(A,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(f,h){for(var A="",p=0;p<h;p+=8)A+=String.fromCharCode(f>>p&255);e.collect(A)},e.registerWorker=function(f){if(f===self)e.seedFile=function(A,p){function m(g){var y=g.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",m),p(y.forge.prng.err,y.forge.prng.bytes))}s(m,"listener"),self.addEventListener("message",m),self.postMessage({forge:{prng:{needed:A}}})};else{var h=s(function(A){var p=A.data;p.forge&&p.forge.prng&&e.seedFile(p.forge.prng.needed,function(m,g){f.postMessage({forge:{prng:{err:m,bytes:g}}})})},"listener");f.addEventListener("message",h)}},e}});var fl=T((wgn,UZ)=>{d();var Jo=Ar();pm();MZ();OZ();nn();(function(){if(Jo.random&&Jo.random.getBytes){UZ.exports=Jo.random;return}(function(t){var e={},r=new Array(4),n=Jo.util.createBuffer();e.formatKey=function(A){var p=Jo.util.createBuffer(A);return A=new Array(4),A[0]=p.getInt32(),A[1]=p.getInt32(),A[2]=p.getInt32(),A[3]=p.getInt32(),Jo.aes._expandKey(A,!1)},e.formatSeed=function(A){var p=Jo.util.createBuffer(A);return A=new Array(4),A[0]=p.getInt32(),A[1]=p.getInt32(),A[2]=p.getInt32(),A[3]=p.getInt32(),A},e.cipher=function(A,p){return Jo.aes._updateBlock(A,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(A){return++A[3],A},e.md=Jo.md.sha256;function o(){var A=Jo.prng.create(e);return A.getBytes=function(p,m){return A.generate(p,m)},A.getBytesSync=function(p){return A.generate(p)},A}s(o,"spawnPrng");var a=o(),c=null,l=Jo.util.globalScope,u=l.crypto||l.msCrypto;if(u&&u.getRandomValues&&(c=s(function(A){return u.getRandomValues(A)},"getRandomValues")),Jo.options.usePureJavaScript||!Jo.util.isNodejs&&!c){if(typeof window>"u"||window.document,a.collectInt(+new Date,32),typeof navigator<"u"){var f="";for(var h in navigator)try{typeof navigator[h]=="string"&&(f+=navigator[h])}catch{}a.collect(f),f=null}t&&(t().mousemove(function(A){a.collectInt(A.clientX,16),a.collectInt(A.clientY,16)}),t().keypress(function(A){a.collectInt(A.charCode,8)}))}if(!Jo.random)Jo.random=a;else for(var h in a)Jo.random[h]=a[h];Jo.random.createInstance=o,UZ.exports=Jo.random})(typeof jQuery<"u"?jQuery:null)})()});var HZ=T((Rgn,q8e)=>{d();var fc=Ar();nn();var qZ=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],O8e=[1,2,3,5],_bt=s(function(t,e){return t<<e&65535|(t&65535)>>16-e},"rol"),Tbt=s(function(t,e){return(t&65535)>>e|t<<16-e&65535},"ror");q8e.exports=fc.rc2=fc.rc2||{};fc.rc2.expandKey=function(t,e){typeof t=="string"&&(t=fc.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),o=e,a=Math.ceil(o/8),c=255>>(o&7),l;for(l=n;l<128;l++)r.putByte(qZ[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-a,qZ[r.at(128-a)&c]),l=127-a;l>=0;l--)r.setAt(l,qZ[r.at(l+1)^r.at(l+a)]);return r};var U8e=s(function(t,e,r){var n=!1,o=null,a=null,c=null,l,u,f,h,A=[];for(t=fc.rc2.expandKey(t,e),f=0;f<64;f++)A.push(t.getInt16Le());r?(l=s(function(g){for(f=0;f<4;f++)g[f]+=A[h]+(g[(f+3)%4]&g[(f+2)%4])+(~g[(f+3)%4]&g[(f+1)%4]),g[f]=_bt(g[f],O8e[f]),h++},"mixRound"),u=s(function(g){for(f=0;f<4;f++)g[f]+=A[g[(f+3)%4]&63]},"mashRound")):(l=s(function(g){for(f=3;f>=0;f--)g[f]=Tbt(g[f],O8e[f]),g[f]-=A[h]+(g[(f+3)%4]&g[(f+2)%4])+(~g[(f+3)%4]&g[(f+1)%4]),h--},"mixRound"),u=s(function(g){for(f=3;f>=0;f--)g[f]-=A[g[(f+3)%4]&63]},"mashRound"));var p=s(function(g){var y=[];for(f=0;f<4;f++){var E=o.getInt16Le();c!==null&&(r?E^=c.getInt16Le():c.putInt16Le(E)),y.push(E&65535)}h=r?0:63;for(var I=0;I<g.length;I++)for(var x=0;x<g[I][0];x++)g[I][1](y);for(f=0;f<4;f++)c!==null&&(r?c.putInt16Le(y[f]):y[f]^=c.getInt16Le()),a.putInt16Le(y[f])},"runPlan"),m=null;return m={start:s(function(g,y){g&&typeof g=="string"&&(g=fc.util.createBuffer(g)),n=!1,o=fc.util.createBuffer(),a=y||new fc.util.createBuffer,c=g,m.output=a},"start"),update:s(function(g){for(n||o.putBuffer(g);o.length()>=8;)p([[5,l],[1,u],[6,l],[1,u],[5,l]])},"update"),finish:s(function(g){var y=!0;if(r)if(g)y=g(8,o,!r);else{var E=o.length()===8?8:8-o.length();o.fillWithByte(E,E)}if(y&&(n=!0,m.update()),!r&&(y=o.length()===0,y))if(g)y=g(8,a,!r);else{var I=a.length(),x=a.at(I-1);x>I?y=!1:a.truncate(x)}return y},"finish")},m},"createCipher");fc.rc2.startEncrypting=function(t,e,r){var n=fc.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};fc.rc2.createEncryptionCipher=function(t,e){return U8e(t,e,!0)};fc.rc2.startDecrypting=function(t,e,r){var n=fc.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};fc.rc2.createDecryptionCipher=function(t,e){return U8e(t,e,!1)}});var bw=T((Ngn,z8e)=>{d();var GZ=Ar();z8e.exports=GZ.jsbn=GZ.jsbn||{};var Fh,wbt=0xdeadbeefcafe,H8e=(wbt&16777215)==15715070;function ke(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}s(ke,"BigInteger");GZ.jsbn.BigInteger=ke;function on(){return new ke(null)}s(on,"nbi");function Sbt(t,e,r,n,o,a){for(;--a>=0;){var c=e*this.data[t++]+r.data[n]+o;o=Math.floor(c/67108864),r.data[n++]=c&67108863}return o}s(Sbt,"am1");function Bbt(t,e,r,n,o,a){for(var c=e&32767,l=e>>15;--a>=0;){var u=this.data[t]&32767,f=this.data[t++]>>15,h=l*u+f*c;u=c*u+((h&32767)<<15)+r.data[n]+(o&1073741823),o=(u>>>30)+(h>>>15)+l*f+(o>>>30),r.data[n++]=u&1073741823}return o}s(Bbt,"am2");function G8e(t,e,r,n,o,a){for(var c=e&16383,l=e>>14;--a>=0;){var u=this.data[t]&16383,f=this.data[t++]>>14,h=l*u+f*c;u=c*u+((h&16383)<<14)+r.data[n]+o,o=(u>>28)+(h>>14)+l*f,r.data[n++]=u&268435455}return o}s(G8e,"am3");typeof navigator>"u"?(ke.prototype.am=G8e,Fh=28):H8e&&navigator.appName=="Microsoft Internet Explorer"?(ke.prototype.am=Bbt,Fh=30):H8e&&navigator.appName!="Netscape"?(ke.prototype.am=Sbt,Fh=26):(ke.prototype.am=G8e,Fh=28);ke.prototype.DB=Fh;ke.prototype.DM=(1<<Fh)-1;ke.prototype.DV=1<<Fh;var VZ=52;ke.prototype.FV=Math.pow(2,VZ);ke.prototype.F1=VZ-Fh;ke.prototype.F2=2*Fh-VZ;var Rbt="0123456789abcdefghijklmnopqrstuvwxyz",mP=new Array,Jx,dl;Jx=48;for(dl=0;dl<=9;++dl)mP[Jx++]=dl;Jx=97;for(dl=10;dl<36;++dl)mP[Jx++]=dl;Jx=65;for(dl=10;dl<36;++dl)mP[Jx++]=dl;function V8e(t){return Rbt.charAt(t)}s(V8e,"int2char");function W8e(t,e){var r=mP[t.charCodeAt(e)];return r??-1}s(W8e,"intAt");function kbt(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}s(kbt,"bnpCopyTo");function Dbt(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}s(Dbt,"bnpFromInt");function gm(t){var e=on();return e.fromInt(t),e}s(gm,"nbv");function Nbt(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,o=!1,a=0;--n>=0;){var c=r==8?t[n]&255:W8e(t,n);if(c<0){t.charAt(n)=="-"&&(o=!0);continue}o=!1,a==0?this.data[this.t++]=c:a+r>this.DB?(this.data[this.t-1]|=(c&(1<<this.DB-a)-1)<<a,this.data[this.t++]=c>>this.DB-a):this.data[this.t-1]|=c<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&ke.ZERO.subTo(this,this)}s(Nbt,"bnpFromString");function Qbt(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}s(Qbt,"bnpClamp");function Pbt(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,o=!1,a="",c=this.t,l=this.DB-c*this.DB%e;if(c-- >0)for(l<this.DB&&(n=this.data[c]>>l)>0&&(o=!0,a=V8e(n));c>=0;)l<e?(n=(this.data[c]&(1<<l)-1)<<e-l,n|=this.data[--c]>>(l+=this.DB-e)):(n=this.data[c]>>(l-=e)&r,l<=0&&(l+=this.DB,--c)),n>0&&(o=!0),o&&(a+=V8e(n));return o?a:"0"}s(Pbt,"bnToString");function Fbt(){var t=on();return ke.ZERO.subTo(this,t),t}s(Fbt,"bnNegate");function Lbt(){return this.s<0?this.negate():this}s(Lbt,"bnAbs");function Mbt(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}s(Mbt,"bnCompareTo");function gP(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}s(gP,"nbits");function Obt(){return this.t<=0?0:this.DB*(this.t-1)+gP(this.data[this.t-1]^this.s&this.DM)}s(Obt,"bnBitLength");function Ubt(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}s(Ubt,"bnpDLShiftTo");function qbt(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}s(qbt,"bnpDRShiftTo");function Hbt(t,e){var r=t%this.DB,n=this.DB-r,o=(1<<n)-1,a=Math.floor(t/this.DB),c=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)e.data[l+a+1]=this.data[l]>>n|c,c=(this.data[l]&o)<<r;for(l=a-1;l>=0;--l)e.data[l]=0;e.data[a]=c,e.t=this.t+a+1,e.s=this.s,e.clamp()}s(Hbt,"bnpLShiftTo");function Gbt(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,o=this.DB-n,a=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var c=r+1;c<this.t;++c)e.data[c-r-1]|=(this.data[c]&a)<<o,e.data[c-r]=this.data[c]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&a)<<o),e.t=this.t-r,e.clamp()}s(Gbt,"bnpRShiftTo");function Vbt(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}s(Vbt,"bnpSubTo");function Wbt(t,e){var r=this.abs(),n=t.abs(),o=r.t;for(e.t=o+n.t;--o>=0;)e.data[o]=0;for(o=0;o<n.t;++o)e.data[o+r.t]=r.am(0,n.data[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&ke.ZERO.subTo(e,e)}s(Wbt,"bnpMultiplyTo");function Ybt(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}s(Ybt,"bnpSquareTo");function jbt(t,e,r){var n=t.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=on());var a=on(),c=this.s,l=t.s,u=this.DB-gP(n.data[n.t-1]);u>0?(n.lShiftTo(u,a),o.lShiftTo(u,r)):(n.copyTo(a),o.copyTo(r));var f=a.t,h=a.data[f-1];if(h!=0){var A=h*(1<<this.F1)+(f>1?a.data[f-2]>>this.F2:0),p=this.FV/A,m=(1<<this.F1)/A,g=1<<this.F2,y=r.t,E=y-f,I=e??on();for(a.dlShiftTo(E,I),r.compareTo(I)>=0&&(r.data[r.t++]=1,r.subTo(I,r)),ke.ONE.dlShiftTo(f,I),I.subTo(a,a);a.t<f;)a.data[a.t++]=0;for(;--E>=0;){var x=r.data[--y]==h?this.DM:Math.floor(r.data[y]*p+(r.data[y-1]+g)*m);if((r.data[y]+=a.am(0,x,r,E,0,f))<x)for(a.dlShiftTo(E,I),r.subTo(I,r);r.data[y]<--x;)r.subTo(I,r)}e!=null&&(r.drShiftTo(f,e),c!=l&&ke.ZERO.subTo(e,e)),r.t=f,r.clamp(),u>0&&r.rShiftTo(u,r),c<0&&ke.ZERO.subTo(r,r)}}}s(jbt,"bnpDivRemTo");function $bt(t){var e=on();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(ke.ZERO)>0&&t.subTo(e,e),e}s($bt,"bnMod");function HC(t){this.m=t}s(HC,"Classic");function zbt(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}s(zbt,"cConvert");function Kbt(t){return t}s(Kbt,"cRevert");function Jbt(t){t.divRemTo(this.m,null,t)}s(Jbt,"cReduce");function Xbt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}s(Xbt,"cMulTo");function Zbt(t,e){t.squareTo(e),this.reduce(e)}s(Zbt,"cSqrTo");HC.prototype.convert=zbt;HC.prototype.revert=Kbt;HC.prototype.reduce=Jbt;HC.prototype.mulTo=Xbt;HC.prototype.sqrTo=Zbt;function e_t(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}s(e_t,"bnpInvDigit");function GC(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}s(GC,"Montgomery");function t_t(t){var e=on();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(ke.ZERO)>0&&this.m.subTo(e,e),e}s(t_t,"montConvert");function r_t(t){var e=on();return t.copyTo(e),this.reduce(e),e}s(r_t,"montRevert");function n_t(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}s(n_t,"montReduce");function i_t(t,e){t.squareTo(e),this.reduce(e)}s(i_t,"montSqrTo");function o_t(t,e,r){t.multiplyTo(e,r),this.reduce(r)}s(o_t,"montMulTo");GC.prototype.convert=t_t;GC.prototype.revert=r_t;GC.prototype.reduce=n_t;GC.prototype.mulTo=o_t;GC.prototype.sqrTo=i_t;function s_t(){return(this.t>0?this.data[0]&1:this.s)==0}s(s_t,"bnpIsEven");function a_t(t,e){if(t>4294967295||t<1)return ke.ONE;var r=on(),n=on(),o=e.convert(this),a=gP(t)-1;for(o.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,o,r);else{var c=r;r=n,n=c}return e.revert(r)}s(a_t,"bnpExp");function c_t(t,e){var r;return t<256||e.isEven()?r=new HC(e):r=new GC(e),this.exp(t,r)}s(c_t,"bnModPowInt");ke.prototype.copyTo=kbt;ke.prototype.fromInt=Dbt;ke.prototype.fromString=Nbt;ke.prototype.clamp=Qbt;ke.prototype.dlShiftTo=Ubt;ke.prototype.drShiftTo=qbt;ke.prototype.lShiftTo=Hbt;ke.prototype.rShiftTo=Gbt;ke.prototype.subTo=Vbt;ke.prototype.multiplyTo=Wbt;ke.prototype.squareTo=Ybt;ke.prototype.divRemTo=jbt;ke.prototype.invDigit=e_t;ke.prototype.isEven=s_t;ke.prototype.exp=a_t;ke.prototype.toString=Pbt;ke.prototype.negate=Fbt;ke.prototype.abs=Lbt;ke.prototype.compareTo=Mbt;ke.prototype.bitLength=Obt;ke.prototype.mod=$bt;ke.prototype.modPowInt=c_t;ke.ZERO=gm(0);ke.ONE=gm(1);function l_t(){var t=on();return this.copyTo(t),t}s(l_t,"bnClone");function u_t(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}s(u_t,"bnIntValue");function f_t(){return this.t==0?this.s:this.data[0]<<24>>24}s(f_t,"bnByteValue");function d_t(){return this.t==0?this.s:this.data[0]<<16>>16}s(d_t,"bnShortValue");function h_t(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}s(h_t,"bnpChunkSize");function A_t(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}s(A_t,"bnSigNum");function p_t(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=gm(r),o=on(),a=on(),c="";for(this.divRemTo(n,o,a);o.signum()>0;)c=(r+a.intValue()).toString(t).substr(1)+c,o.divRemTo(n,o,a);return a.intValue().toString(t)+c}s(p_t,"bnpToRadix");function m_t(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),o=!1,a=0,c=0,l=0;l<t.length;++l){var u=W8e(t,l);if(u<0){t.charAt(l)=="-"&&this.signum()==0&&(o=!0);continue}c=e*c+u,++a>=r&&(this.dMultiply(n),this.dAddOffset(c,0),a=0,c=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(c,0)),o&&ke.ZERO.subTo(this,this)}s(m_t,"bnpFromRadix");function g_t(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(ke.ONE.shiftLeft(t-1),WZ,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(ke.ONE.shiftLeft(t-1),this);else{var n=new Array,o=t&7;n.length=(t>>3)+1,e.nextBytes(n),o>0?n[0]&=(1<<o)-1:n[0]=0,this.fromString(n,256)}}s(g_t,"bnpFromNumber");function C_t(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,o=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[o++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),o==0&&(this.s&128)!=(n&128)&&++o,(o>0||n!=this.s)&&(e[o++]=n);return e}s(C_t,"bnToByteArray");function y_t(t){return this.compareTo(t)==0}s(y_t,"bnEquals");function E_t(t){return this.compareTo(t)<0?this:t}s(E_t,"bnMin");function I_t(t){return this.compareTo(t)>0?this:t}s(I_t,"bnMax");function x_t(t,e,r){var n,o,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(o=t.s&this.DM,n=a;n<this.t;++n)r.data[n]=e(this.data[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=a;n<t.t;++n)r.data[n]=e(o,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}s(x_t,"bnpBitwiseTo");function v_t(t,e){return t&e}s(v_t,"op_and");function b_t(t){var e=on();return this.bitwiseTo(t,v_t,e),e}s(b_t,"bnAnd");function WZ(t,e){return t|e}s(WZ,"op_or");function __t(t){var e=on();return this.bitwiseTo(t,WZ,e),e}s(__t,"bnOr");function Y8e(t,e){return t^e}s(Y8e,"op_xor");function T_t(t){var e=on();return this.bitwiseTo(t,Y8e,e),e}s(T_t,"bnXor");function j8e(t,e){return t&~e}s(j8e,"op_andnot");function w_t(t){var e=on();return this.bitwiseTo(t,j8e,e),e}s(w_t,"bnAndNot");function S_t(){for(var t=on(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}s(S_t,"bnNot");function B_t(t){var e=on();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}s(B_t,"bnShiftLeft");function R_t(t){var e=on();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}s(R_t,"bnShiftRight");function k_t(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}s(k_t,"lbit");function D_t(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+k_t(this.data[t]);return this.s<0?this.t*this.DB:-1}s(D_t,"bnGetLowestSetBit");function N_t(t){for(var e=0;t!=0;)t&=t-1,++e;return e}s(N_t,"cbit");function Q_t(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=N_t(this.data[r]^e);return t}s(Q_t,"bnBitCount");function P_t(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}s(P_t,"bnTestBit");function F_t(t,e){var r=ke.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}s(F_t,"bnpChangeBit");function L_t(t){return this.changeBit(t,WZ)}s(L_t,"bnSetBit");function M_t(t){return this.changeBit(t,j8e)}s(M_t,"bnClearBit");function O_t(t){return this.changeBit(t,Y8e)}s(O_t,"bnFlipBit");function U_t(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}s(U_t,"bnpAddTo");function q_t(t){var e=on();return this.addTo(t,e),e}s(q_t,"bnAdd");function H_t(t){var e=on();return this.subTo(t,e),e}s(H_t,"bnSubtract");function G_t(t){var e=on();return this.multiplyTo(t,e),e}s(G_t,"bnMultiply");function V_t(t){var e=on();return this.divRemTo(t,e,null),e}s(V_t,"bnDivide");function W_t(t){var e=on();return this.divRemTo(t,null,e),e}s(W_t,"bnRemainder");function Y_t(t){var e=on(),r=on();return this.divRemTo(t,e,r),new Array(e,r)}s(Y_t,"bnDivideAndRemainder");function j_t(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}s(j_t,"bnpDMultiply");function $_t(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}s($_t,"bnpDAddOffset");function vw(){}s(vw,"NullExp");function $8e(t){return t}s($8e,"nNop");function z_t(t,e,r){t.multiplyTo(e,r)}s(z_t,"nMulTo");function K_t(t,e){t.squareTo(e)}s(K_t,"nSqrTo");vw.prototype.convert=$8e;vw.prototype.revert=$8e;vw.prototype.mulTo=z_t;vw.prototype.sqrTo=K_t;function J_t(t){return this.exp(t,new vw)}s(J_t,"bnPow");function X_t(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var o;for(o=r.t-this.t;n<o;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(o=Math.min(t.t,e);n<o;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}s(X_t,"bnpMultiplyLowerTo");function Z_t(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}s(Z_t,"bnpMultiplyUpperTo");function Xx(t){this.r2=on(),this.q3=on(),ke.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}s(Xx,"Barrett");function e5t(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=on();return t.copyTo(e),this.reduce(e),e}s(e5t,"barrettConvert");function t5t(t){return t}s(t5t,"barrettRevert");function r5t(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}s(r5t,"barrettReduce");function n5t(t,e){t.squareTo(e),this.reduce(e)}s(n5t,"barrettSqrTo");function i5t(t,e,r){t.multiplyTo(e,r),this.reduce(r)}s(i5t,"barrettMulTo");Xx.prototype.convert=e5t;Xx.prototype.revert=t5t;Xx.prototype.reduce=r5t;Xx.prototype.mulTo=i5t;Xx.prototype.sqrTo=n5t;function o5t(t,e){var r=t.bitLength(),n,o=gm(1),a;if(r<=0)return o;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new HC(e):e.isEven()?a=new Xx(e):a=new GC(e);var c=new Array,l=3,u=n-1,f=(1<<n)-1;if(c[1]=a.convert(this),n>1){var h=on();for(a.sqrTo(c[1],h);l<=f;)c[l]=on(),a.mulTo(h,c[l-2],c[l]),l+=2}var A=t.t-1,p,m=!0,g=on(),y;for(r=gP(t.data[A])-1;A>=0;){for(r>=u?p=t.data[A]>>r-u&f:(p=(t.data[A]&(1<<r+1)-1)<<u-r,A>0&&(p|=t.data[A-1]>>this.DB+r-u)),l=n;(p&1)==0;)p>>=1,--l;if((r-=l)<0&&(r+=this.DB,--A),m)c[p].copyTo(o),m=!1;else{for(;l>1;)a.sqrTo(o,g),a.sqrTo(g,o),l-=2;l>0?a.sqrTo(o,g):(y=o,o=g,g=y),a.mulTo(g,c[p],o)}for(;A>=0&&(t.data[A]&1<<r)==0;)a.sqrTo(o,g),y=o,o=g,g=y,--r<0&&(r=this.DB-1,--A)}return a.revert(o)}s(o5t,"bnModPow");function s5t(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var o=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(o<a&&(a=o),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}s(s5t,"bnGCD");function a5t(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}s(a5t,"bnpModInt");function c5t(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return ke.ZERO;for(var r=t.clone(),n=this.clone(),o=gm(1),a=gm(0),c=gm(0),l=gm(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?((!c.isEven()||!l.isEven())&&(c.addTo(this,c),l.subTo(t,l)),c.rShiftTo(1,c)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),e&&o.subTo(c,o),a.subTo(l,a)):(n.subTo(r,n),e&&c.subTo(o,c),l.subTo(a,l))}if(n.compareTo(ke.ONE)!=0)return ke.ZERO;if(l.compareTo(t)>=0)return l.subtract(t);if(l.signum()<0)l.addTo(t,l);else return l;return l.signum()<0?l.add(t):l}s(c5t,"bnModInverse");var pu=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],l5t=(1<<26)/pu[pu.length-1];function u5t(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=pu[pu.length-1]){for(e=0;e<pu.length;++e)if(r.data[0]==pu[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<pu.length;){for(var n=pu[e],o=e+1;o<pu.length&&n<l5t;)n*=pu[o++];for(n=r.modInt(n);e<o;)if(n%pu[e++]==0)return!1}return r.millerRabin(t)}s(u5t,"bnIsProbablePrime");function f5t(t){var e=this.subtract(ke.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),o=d5t(),a,c=0;c<t;++c){do a=new ke(this.bitLength(),o);while(a.compareTo(ke.ONE)<=0||a.compareTo(e)>=0);var l=a.modPow(n,this);if(l.compareTo(ke.ONE)!=0&&l.compareTo(e)!=0){for(var u=1;u++<r&&l.compareTo(e)!=0;)if(l=l.modPowInt(2,this),l.compareTo(ke.ONE)==0)return!1;if(l.compareTo(e)!=0)return!1}}return!0}s(f5t,"bnpMillerRabin");function d5t(){return{nextBytes:s(function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)},"nextBytes")}}s(d5t,"bnGetPrng");ke.prototype.chunkSize=h_t;ke.prototype.toRadix=p_t;ke.prototype.fromRadix=m_t;ke.prototype.fromNumber=g_t;ke.prototype.bitwiseTo=x_t;ke.prototype.changeBit=F_t;ke.prototype.addTo=U_t;ke.prototype.dMultiply=j_t;ke.prototype.dAddOffset=$_t;ke.prototype.multiplyLowerTo=X_t;ke.prototype.multiplyUpperTo=Z_t;ke.prototype.modInt=a5t;ke.prototype.millerRabin=f5t;ke.prototype.clone=l_t;ke.prototype.intValue=u_t;ke.prototype.byteValue=f_t;ke.prototype.shortValue=d_t;ke.prototype.signum=A_t;ke.prototype.toByteArray=C_t;ke.prototype.equals=y_t;ke.prototype.min=E_t;ke.prototype.max=I_t;ke.prototype.and=b_t;ke.prototype.or=__t;ke.prototype.xor=T_t;ke.prototype.andNot=w_t;ke.prototype.not=S_t;ke.prototype.shiftLeft=B_t;ke.prototype.shiftRight=R_t;ke.prototype.getLowestSetBit=D_t;ke.prototype.bitCount=Q_t;ke.prototype.testBit=P_t;ke.prototype.setBit=L_t;ke.prototype.clearBit=M_t;ke.prototype.flipBit=O_t;ke.prototype.add=q_t;ke.prototype.subtract=H_t;ke.prototype.multiply=G_t;ke.prototype.divide=V_t;ke.prototype.remainder=W_t;ke.prototype.divideAndRemainder=Y_t;ke.prototype.modPow=o5t;ke.prototype.modInverse=c5t;ke.prototype.pow=J_t;ke.prototype.gcd=s5t;ke.prototype.isProbablePrime=u5t});var Zx=T((Fgn,Z8e)=>{d();var $f=Ar();Gf();nn();var J8e=Z8e.exports=$f.sha1=$f.sha1||{};$f.md.sha1=$f.md.algorithms.sha1=J8e;J8e.create=function(){X8e||h5t();var t=null,e=$f.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var o=n.messageLengthSize/4,a=0;a<o;++a)n.fullMessageLength.push(0);return e=$f.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(o,a){a==="utf8"&&(o=$f.util.encodeUtf8(o));var c=o.length;n.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=c[1],c[1]=c[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(o),K8e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var o=$f.util.createBuffer();o.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,c=a&n.blockLength-1;o.putBytes(YZ.substr(0,n.blockLength-c));for(var l,u,f=n.fullMessageLength[0]*8,h=0;h<n.fullMessageLength.length-1;++h)l=n.fullMessageLength[h+1]*8,u=l/4294967296>>>0,f+=u,o.putInt32(f>>>0),f=l>>>0;o.putInt32(f);var A={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};K8e(A,r,o);var p=$f.util.createBuffer();return p.putInt32(A.h0),p.putInt32(A.h1),p.putInt32(A.h2),p.putInt32(A.h3),p.putInt32(A.h4),p},n};var YZ=null,X8e=!1;function h5t(){YZ="\x80",YZ+=$f.util.fillString("\0",64),X8e=!0}s(h5t,"_init");function K8e(t,e,r){for(var n,o,a,c,l,u,f,h,A=r.length();A>=64;){for(o=t.h0,a=t.h1,c=t.h2,l=t.h3,u=t.h4,h=0;h<16;++h)n=r.getInt32(),e[h]=n,f=l^a&(c^l),n=(o<<5|o>>>27)+f+u+1518500249+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<20;++h)n=e[h-3]^e[h-8]^e[h-14]^e[h-16],n=n<<1|n>>>31,e[h]=n,f=l^a&(c^l),n=(o<<5|o>>>27)+f+u+1518500249+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<32;++h)n=e[h-3]^e[h-8]^e[h-14]^e[h-16],n=n<<1|n>>>31,e[h]=n,f=a^c^l,n=(o<<5|o>>>27)+f+u+1859775393+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<40;++h)n=e[h-6]^e[h-16]^e[h-28]^e[h-32],n=n<<2|n>>>30,e[h]=n,f=a^c^l,n=(o<<5|o>>>27)+f+u+1859775393+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<60;++h)n=e[h-6]^e[h-16]^e[h-28]^e[h-32],n=n<<2|n>>>30,e[h]=n,f=a&c|l&(a^c),n=(o<<5|o>>>27)+f+u+2400959708+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<80;++h)n=e[h-6]^e[h-16]^e[h-28]^e[h-32],n=n<<2|n>>>30,e[h]=n,f=a^c^l,n=(o<<5|o>>>27)+f+u+3395469782+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;t.h0=t.h0+o|0,t.h1=t.h1+a|0,t.h2=t.h2+c|0,t.h3=t.h3+l|0,t.h4=t.h4+u|0,A-=64}}s(K8e,"_update")});var jZ=T((Ogn,tRe)=>{d();var zf=Ar();nn();fl();Zx();var eRe=tRe.exports=zf.pkcs1=zf.pkcs1||{};eRe.encode_rsa_oaep=function(t,e,r){var n,o,a,c;typeof r=="string"?(n=r,o=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,o=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),a?a.start():a=zf.md.sha1.create(),c||(c=a);var l=Math.ceil(t.n.bitLength()/8),u=l-2*a.digestLength-2;if(e.length>u){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=e.length,f.maxLength=u,f}n||(n=""),a.update(n,"raw");for(var h=a.digest(),A="",p=u-e.length,m=0;m<p;m++)A+="\0";var g=h.getBytes()+A+""+e;if(!o)o=zf.random.getBytes(a.digestLength);else if(o.length!==a.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=o.length,f.digestLength=a.digestLength,f}var y=CP(o,l-a.digestLength-1,c),E=zf.util.xorBytes(g,y,g.length),I=CP(E,a.digestLength,c),x=zf.util.xorBytes(o,I,o.length);return"\0"+x+E};eRe.decode_rsa_oaep=function(t,e,r){var n,o,a;typeof r=="string"?(n=r,o=arguments[3]||void 0):r&&(n=r.label||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var c=Math.ceil(t.n.bitLength()/8);if(e.length!==c){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=e.length,E.expectedLength=c,E}if(o===void 0?o=zf.md.sha1.create():o.start(),a||(a=o),c<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),o.update(n,"raw");for(var l=o.digest().getBytes(),u=e.charAt(0),f=e.substring(1,o.digestLength+1),h=e.substring(1+o.digestLength),A=CP(h,o.digestLength,a),p=zf.util.xorBytes(f,A,f.length),m=CP(p,c-o.digestLength-1,a),g=zf.util.xorBytes(h,m,h.length),y=g.substring(0,o.digestLength),E=u!=="\0",I=0;I<o.digestLength;++I)E|=l.charAt(I)!==y.charAt(I);for(var x=1,v=o.digestLength,b=o.digestLength;b<g.length;b++){var _=g.charCodeAt(b),S=_&1^1,w=x?65534:0;E|=_&w,x=x&S,v+=x}if(E||g.charCodeAt(v)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(v+1)};function CP(t,e,r){r||(r=zf.md.sha1.create());for(var n="",o=Math.ceil(e/r.digestLength),a=0;a<o;++a){var c=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+c),n+=r.digest().getBytes()}return n.substring(0,e)}s(CP,"rsa_mgf1")});var zZ=T((Hgn,$Z)=>{d();var Cm=Ar();nn();bw();fl();(function(){if(Cm.prime){$Z.exports=Cm.prime;return}var t=$Z.exports=Cm.prime=Cm.prime||{},e=Cm.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var o=s(function(A,p){return A|p},"op_or");t.generateProbablePrime=function(A,p,m){typeof p=="function"&&(m=p,p={}),p=p||{};var g=p.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var y=p.prng||Cm.random,E={nextBytes:s(function(I){for(var x=y.getBytesSync(I.length),v=0;v<I.length;++v)I[v]=x.charCodeAt(v)},"nextBytes")};if(g.name==="PRIMEINC")return a(A,E,g.options,m);throw new Error("Invalid prime generation algorithm: "+g.name)};function a(A,p,m,g){return"workers"in m?u(A,p,m,g):c(A,p,m,g)}s(a,"primeincFindPrime");function c(A,p,m,g){var y=f(A,p),E=0,I=h(y.bitLength());"millerRabinTests"in m&&(I=m.millerRabinTests);var x=10;"maxBlockTime"in m&&(x=m.maxBlockTime),l(y,A,p,E,I,x,g)}s(c,"primeincFindPrimeWithoutWorkers");function l(A,p,m,g,y,E,I){var x=+new Date;do{if(A.bitLength()>p&&(A=f(p,m)),A.isProbablePrime(y))return I(null,A);A.dAddOffset(r[g++%8],0)}while(E<0||+new Date-x<E);Cm.util.setImmediate(function(){l(A,p,m,g,y,E,I)})}s(l,"_primeinc");function u(A,p,m,g){if(typeof Worker>"u")return c(A,p,m,g);var y=f(A,p),E=m.workers,I=m.workLoad||100,x=I*30/8,v=m.workerScript||"forge/prime.worker.js";if(E===-1)return Cm.util.estimateCores(function(_,S){_&&(S=2),E=S-1,b()});b();function b(){E=Math.max(1,E);for(var _=[],S=0;S<E;++S)_[S]=new Worker(v);for(var w=E,S=0;S<E;++S)_[S].addEventListener("message",M);var L=!1;function M(Y){if(!L){--w;var D=Y.data;if(D.found){for(var O=0;O<_.length;++O)_[O].terminate();return L=!0,g(null,new e(D.prime,16))}y.bitLength()>A&&(y=f(A,p));var W=y.toString(16);Y.target.postMessage({hex:W,workLoad:I}),y.dAddOffset(x,0)}}s(M,"workerMessage")}s(b,"generate")}s(u,"primeincFindPrimeWithWorkers");function f(A,p){var m=new e(A,p),g=A-1;return m.testBit(g)||m.bitwiseTo(e.ONE.shiftLeft(g),o,m),m.dAddOffset(31-m.mod(n).byteValue(),0),m}s(f,"generateRandom");function h(A){return A<=100?27:A<=150?18:A<=200?15:A<=250?12:A<=300?9:A<=350?8:A<=400?7:A<=500?6:A<=600?5:A<=800?4:A<=1250?3:2}s(h,"getMillerRabinTests")})()});var _w=T((Wgn,cRe)=>{d();var It=Ar();Au();bw();mm();jZ();zZ();fl();nn();typeof Jr>"u"&&(Jr=It.jsbn.BigInteger);var Jr,KZ=It.util.isNodejs?require("crypto"):null,de=It.asn1,hl=It.util;It.pki=It.pki||{};cRe.exports=It.pki.rsa=It.rsa=It.rsa||{};var er=It.pki,A5t=[6,4,2,4,2,4,6,2],p5t={name:"PrivateKeyInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},m5t={name:"RSAPrivateKey",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},g5t={name:"RSAPublicKey",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},C5t=It.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:de.Class.UNIVERSAL,type:de.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},y5t={name:"DigestInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:de.Class.UNIVERSAL,type:de.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:de.Class.UNIVERSAL,type:de.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},E5t=s(function(t){var e;if(t.algorithm in er.oids)e=er.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=de.oidToDer(e).getBytes(),o=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[]),a=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[]);a.value.push(de.create(de.Class.UNIVERSAL,de.Type.OID,!1,n)),a.value.push(de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,""));var c=de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,t.digest().getBytes());return o.value.push(a),o.value.push(c),de.toDer(o).getBytes()},"emsaPkcs1v15encode"),sRe=s(function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(Jr.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(Jr.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new Jr(It.util.bytesToHex(It.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(Jr.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var o=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);o.compareTo(a)<0;)o=o.add(e.p);var c=o.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return c=c.multiply(n.modInverse(e.n)).mod(e.n),c},"_modPow");er.rsa.encrypt=function(t,e,r){var n=r,o,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,o=aRe(t,e,r)):(o=It.util.createBuffer(),o.putBytes(t));for(var c=new Jr(o.toHex(),16),l=sRe(c,e,n),u=l.toString(16),f=It.util.createBuffer(),h=a-Math.ceil(u.length/2);h>0;)f.putByte(0),--h;return f.putBytes(It.util.hexToBytes(u)),f.getBytes()};er.rsa.decrypt=function(t,e,r,n){var o=Math.ceil(e.n.bitLength()/8);if(t.length!==o){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=o,a}var c=new Jr(It.util.createBuffer(t).toHex(),16);if(c.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=sRe(c,e,r),u=l.toString(16),f=It.util.createBuffer(),h=o-Math.ceil(u.length/2);h>0;)f.putByte(0),--h;return f.putBytes(It.util.hexToBytes(u)),n!==!1?yP(f.getBytes(),e,r):f.getBytes()};er.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||It.random,o={nextBytes:s(function(l){for(var u=n.getBytesSync(l.length),f=0;f<l.length;++f)l[f]=u.charCodeAt(f)},"nextBytes")},a=r.algorithm||"PRIMEINC",c;if(a==="PRIMEINC")c={algorithm:a,state:0,bits:t,rng:o,eInt:e||65537,e:new Jr(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},c.e.fromInt(c.eInt);else throw new Error("Invalid key generation algorithm: "+a);return c};er.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new Jr(null);r.fromInt(30);for(var n=0,o=s(function(A,p){return A|p},"op_or"),a=+new Date,c,l=0;t.keys===null&&(e<=0||l<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,f=u-1;t.pqState===0?(t.num=new Jr(u,t.rng),t.num.testBit(f)||t.num.bitwiseTo(Jr.ONE.shiftLeft(f),o,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(x5t(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(A5t[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(Jr.ONE).gcd(t.e).compareTo(Jr.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(Jr.ONE),t.q1=t.q.subtract(Jr.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(Jr.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var h=t.e.modInverse(t.phi);t.keys={privateKey:er.rsa.setPrivateKey(t.n,t.e,h,t.p,t.q,h.mod(t.p1),h.mod(t.q1),t.q.modInverse(t.p)),publicKey:er.rsa.setPublicKey(t.n,t.e)}}c=+new Date,l+=c-a,a=c}return t.keys!==null};er.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!It.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(rRe("generateKeyPair"))return KZ.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,u,f){if(l)return n(l);n(null,{privateKey:er.privateKeyFromPem(f),publicKey:er.publicKeyFromPem(u)})});if(nRe("generateKey")&&nRe("exportKey"))return hl.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:oRe(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return hl.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var u=er.privateKeyFromAsn1(de.fromDer(It.util.createBuffer(l)));n(null,{privateKey:u,publicKey:er.setRsaPublicKey(u.n,u.e)})}});if(iRe("generateKey")&&iRe("exportKey")){var o=hl.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:oRe(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);o.oncomplete=function(l){var u=l.target.result,f=hl.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);f.oncomplete=function(h){var A=h.target.result,p=er.privateKeyFromAsn1(de.fromDer(It.util.createBuffer(A)));n(null,{privateKey:p,publicKey:er.setRsaPublicKey(p.n,p.e)})},f.onerror=function(h){n(h)}},o.onerror=function(l){n(l)};return}}else if(rRe("generateKeyPairSync")){var a=KZ.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:er.privateKeyFromPem(a.privateKey),publicKey:er.publicKeyFromPem(a.publicKey)}}}var c=er.rsa.createKeyPairGenerationState(t,e,r);if(!n)return er.rsa.stepKeyPairGenerationState(c,0),c.keys;I5t(c,r,n)};er.setRsaPublicKey=er.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,o,a){if(typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSAES-PKCS1-V1_5"),o==="RSAES-PKCS1-V1_5")o={encode:s(function(l,u,f){return aRe(l,u,2).getBytes()},"encode")};else if(o==="RSA-OAEP"||o==="RSAES-OAEP")o={encode:s(function(l,u){return It.pkcs1.encode_rsa_oaep(u,l,a)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(o)!==-1)o={encode:s(function(l){return l},"encode")};else if(typeof o=="string")throw new Error('Unsupported encryption scheme: "'+o+'".');var c=o.encode(n,r,!0);return er.rsa.encrypt(c,r,!0)},r.verify=function(n,o,a,c){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),c===void 0&&(c={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in c||(c._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:s(function(u,f){f=yP(f,r,!0);var h=de.fromDer(f,{parseAllBytes:c._parseAllDigestBytes}),A={},p=[];if(!de.validate(h,y5t,A,p)){var m=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw m.errors=p,m}var g=de.derToOid(A.algorithmIdentifier);if(!(g===It.oids.md2||g===It.oids.md5||g===It.oids.sha1||g===It.oids.sha224||g===It.oids.sha256||g===It.oids.sha384||g===It.oids.sha512||g===It.oids["sha512-224"]||g===It.oids["sha512-256"])){var m=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw m.oid=g,m}if((g===It.oids.md2||g===It.oids.md5)&&!("parameters"in A))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return u===A.digest},"verify")}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:s(function(u,f){return f=yP(f,r,!0),u===f},"verify")});var l=er.rsa.decrypt(o,r,!0,!1);return a.verify(n,l,r.n.bitLength())},r};er.setRsaPrivateKey=er.rsa.setPrivateKey=function(t,e,r,n,o,a,c,l){var u={n:t,e,d:r,p:n,q:o,dP:a,dQ:c,qInv:l};return u.decrypt=function(f,h,A){typeof h=="string"?h=h.toUpperCase():h===void 0&&(h="RSAES-PKCS1-V1_5");var p=er.rsa.decrypt(f,u,!1,!1);if(h==="RSAES-PKCS1-V1_5")h={decode:yP};else if(h==="RSA-OAEP"||h==="RSAES-OAEP")h={decode:s(function(m,g){return It.pkcs1.decode_rsa_oaep(g,m,A)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(h)!==-1)h={decode:s(function(m){return m},"decode")};else throw new Error('Unsupported encryption scheme: "'+h+'".');return h.decode(p,u,!1)},u.sign=function(f,h){var A=!1;typeof h=="string"&&(h=h.toUpperCase()),h===void 0||h==="RSASSA-PKCS1-V1_5"?(h={encode:E5t},A=1):(h==="NONE"||h==="NULL"||h===null)&&(h={encode:s(function(){return f},"encode")},A=1);var p=h.encode(f,u.n.bitLength());return er.rsa.encrypt(p,u,A)},u};er.wrapRsaPrivateKey=function(t){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(0).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(er.oids.rsaEncryption).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]),de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,de.toDer(t).getBytes())])};er.privateKeyFromAsn1=function(t){var e={},r=[];if(de.validate(t,p5t,e,r)&&(t=de.fromDer(It.util.createBuffer(e.privateKey))),e={},r=[],!de.validate(t,m5t,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var o,a,c,l,u,f,h,A;return o=It.util.createBuffer(e.privateKeyModulus).toHex(),a=It.util.createBuffer(e.privateKeyPublicExponent).toHex(),c=It.util.createBuffer(e.privateKeyPrivateExponent).toHex(),l=It.util.createBuffer(e.privateKeyPrime1).toHex(),u=It.util.createBuffer(e.privateKeyPrime2).toHex(),f=It.util.createBuffer(e.privateKeyExponent1).toHex(),h=It.util.createBuffer(e.privateKeyExponent2).toHex(),A=It.util.createBuffer(e.privateKeyCoefficient).toHex(),er.setRsaPrivateKey(new Jr(o,16),new Jr(a,16),new Jr(c,16),new Jr(l,16),new Jr(u,16),new Jr(f,16),new Jr(h,16),new Jr(A,16))};er.privateKeyToAsn1=er.privateKeyToRSAPrivateKey=function(t){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(0).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.n)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.e)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.d)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.p)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.q)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.dP)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.dQ)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.qInv))])};er.publicKeyFromAsn1=function(t){var e={},r=[];if(de.validate(t,C5t,e,r)){var n=de.derToOid(e.publicKeyOid);if(n!==er.oids.rsaEncryption){var o=new Error("Cannot read public key. Unknown OID.");throw o.oid=n,o}t=e.rsaPublicKey}if(r=[],!de.validate(t,g5t,e,r)){var o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw o.errors=r,o}var a=It.util.createBuffer(e.publicKeyModulus).toHex(),c=It.util.createBuffer(e.publicKeyExponent).toHex();return er.setRsaPublicKey(new Jr(a,16),new Jr(c,16))};er.publicKeyToAsn1=er.publicKeyToSubjectPublicKeyInfo=function(t){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(er.oids.rsaEncryption).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]),de.create(de.Class.UNIVERSAL,de.Type.BITSTRING,!1,[er.publicKeyToRSAPublicKey(t)])])};er.publicKeyToRSAPublicKey=function(t){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.n)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Kf(t.e))])};function aRe(t,e,r){var n=It.util.createBuffer(),o=Math.ceil(e.n.bitLength()/8);if(t.length>o-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=o-11,a}n.putByte(0),n.putByte(r);var c=o-3-t.length,l;if(r===0||r===1){l=r===0?0:255;for(var u=0;u<c;++u)n.putByte(l)}else for(;c>0;){for(var f=0,h=It.random.getBytes(c),u=0;u<c;++u)l=h.charCodeAt(u),l===0?++f:n.putByte(l);c=f}return n.putByte(0),n.putBytes(t),n}s(aRe,"_encodePkcs1_v1_5");function yP(t,e,r,n){var o=Math.ceil(e.n.bitLength()/8),a=It.util.createBuffer(t),c=a.getByte(),l=a.getByte();if(c!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var u=0;if(l===0){u=o-3-n;for(var f=0;f<u;++f)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(u=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++u}else if(l===2)for(u=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++u}var h=a.getByte();if(h!==0||u!==o-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}s(yP,"_decodePkcs1_v1_5");function I5t(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),o();function o(){a(t.pBits,function(l,u){if(l)return r(l);if(t.p=u,t.q!==null)return c(l,t.q);a(t.qBits,c)})}s(o,"generate");function a(l,u){It.prime.generateProbablePrime(l,n,u)}s(a,"getPrime");function c(l,u){if(l)return r(l);if(t.q=u,t.p.compareTo(t.q)<0){var f=t.p;t.p=t.q,t.q=f}if(t.p.subtract(Jr.ONE).gcd(t.e).compareTo(Jr.ONE)!==0){t.p=null,o();return}if(t.q.subtract(Jr.ONE).gcd(t.e).compareTo(Jr.ONE)!==0){t.q=null,a(t.qBits,c);return}if(t.p1=t.p.subtract(Jr.ONE),t.q1=t.q.subtract(Jr.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(Jr.ONE)!==0){t.p=t.q=null,o();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,c);return}var h=t.e.modInverse(t.phi);t.keys={privateKey:er.rsa.setPrivateKey(t.n,t.e,h,t.p,t.q,h.mod(t.p1),h.mod(t.q1),t.q.modInverse(t.p)),publicKey:er.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}s(c,"finish")}s(I5t,"_generateKeyPair");function Kf(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=It.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}s(Kf,"_bnToBytes");function x5t(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}s(x5t,"_getMillerRabinTests");function rRe(t){return It.util.isNodejs&&typeof KZ[t]=="function"}s(rRe,"_detectNodeCrypto");function nRe(t){return typeof hl.globalScope<"u"&&typeof hl.globalScope.crypto=="object"&&typeof hl.globalScope.crypto.subtle=="object"&&typeof hl.globalScope.crypto.subtle[t]=="function"}s(nRe,"_detectSubtleCrypto");function iRe(t){return typeof hl.globalScope<"u"&&typeof hl.globalScope.msCrypto=="object"&&typeof hl.globalScope.msCrypto.subtle=="object"&&typeof hl.globalScope.msCrypto.subtle[t]=="function"}s(iRe,"_detectSubtleMsCrypto");function oRe(t){for(var e=It.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}s(oRe,"_intToUint8Array")});var JZ=T(($gn,hRe)=>{d();var it=Ar();pm();Au();xw();Gf();mm();AP();qC();fl();HZ();_w();nn();typeof lRe>"u"&&(lRe=it.jsbn.BigInteger);var lRe,Ie=it.asn1,lr=it.pki=it.pki||{};hRe.exports=lr.pbe=it.pbe=it.pbe||{};var VC=lr.oids,v5t={name:"EncryptedPrivateKeyInfo",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},b5t={name:"PBES2Algorithms",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},_5t={name:"pkcs-12PbeParams",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:Ie.Class.UNIVERSAL,type:Ie.Type.INTEGER,constructed:!1,capture:"iterations"}]};lr.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=it.random.getBytesSync(r.saltSize),o=r.count,a=Ie.integerToDer(o),c,l,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,h,A;switch(r.algorithm){case"aes128":c=16,f=16,h=VC["aes128-CBC"],A=it.aes.createEncryptionCipher;break;case"aes192":c=24,f=16,h=VC["aes192-CBC"],A=it.aes.createEncryptionCipher;break;case"aes256":c=32,f=16,h=VC["aes256-CBC"],A=it.aes.createEncryptionCipher;break;case"des":c=8,f=8,h=VC.desCBC,A=it.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var m="hmacWith"+r.prfAlgorithm.toUpperCase(),g=dRe(m),y=it.pkcs5.pbkdf2(e,n,o,c,g),E=it.random.getBytesSync(f),I=A(y);I.start(E),I.update(Ie.toDer(t)),I.finish(),u=I.output.getBytes();var x=T5t(n,a,c,m);l=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(VC.pkcs5PBES2).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(VC.pkcs5PBKDF2).getBytes()),x]),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(h).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){c=24;var v=new it.util.ByteBuffer(n),y=lr.pbe.generatePkcs12Key(e,v,1,o,c),E=lr.pbe.generatePkcs12Key(e,v,2,o,c),I=it.des.createEncryptionCipher(y);I.start(E),I.update(Ie.toDer(t)),I.finish(),u=I.output.getBytes(),l=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(VC["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,n),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,a.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var b=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[l,Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,u)]);return b};lr.decryptPrivateKeyInfo=function(t,e){var r=null,n={},o=[];if(!Ie.validate(t,v5t,n,o)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=o,a}var c=Ie.derToOid(n.encryptionOid),l=lr.pbe.getCipher(c,n.encryptionParams,e),u=it.util.createBuffer(n.encryptedData);return l.update(u),l.finish()&&(r=Ie.fromDer(l.output)),r};lr.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:Ie.toDer(t).getBytes()};return it.pem.encode(r,{maxline:e})};lr.encryptedPrivateKeyFromPem=function(t){var e=it.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return Ie.fromDer(e.body)};lr.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=lr.wrapRsaPrivateKey(lr.privateKeyToAsn1(t));return n=lr.encryptPrivateKeyInfo(n,e,r),lr.encryptedPrivateKeyToPem(n)}var o,a,c,l;switch(r.algorithm){case"aes128":o="AES-128-CBC",c=16,a=it.random.getBytesSync(16),l=it.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",c=24,a=it.random.getBytesSync(16),l=it.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",c=32,a=it.random.getBytesSync(16),l=it.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",c=24,a=it.random.getBytesSync(8),l=it.des.createEncryptionCipher;break;case"des":o="DES-CBC",c=8,a=it.random.getBytesSync(8),l=it.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var f=it.pbe.opensslDeriveBytes(e,a.substr(0,8),c),h=l(f);h.start(a),h.update(Ie.toDer(lr.privateKeyToAsn1(t))),h.finish();var A={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:it.util.bytesToHex(a).toUpperCase()},body:h.output.getBytes()};return it.pem.encode(A)};lr.decryptRsaPrivateKey=function(t,e){var r=null,n=it.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var o=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw o.headerType=o,o}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,c;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,c=it.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,c=it.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,c=it.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,c=it.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,c=it.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,c=s(function(A){return it.rc2.createDecryptionCipher(A,40)},"cipherFn");break;case"RC2-64-CBC":a=8,c=s(function(A){return it.rc2.createDecryptionCipher(A,64)},"cipherFn");break;case"RC2-128-CBC":a=16,c=s(function(A){return it.rc2.createDecryptionCipher(A,128)},"cipherFn");break;default:var o=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw o.algorithm=n.dekInfo.algorithm,o}var l=it.util.hexToBytes(n.dekInfo.parameters),u=it.pbe.opensslDeriveBytes(e,l.substr(0,8),a),f=c(u);if(f.start(l),f.update(it.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=lr.decryptPrivateKeyInfo(Ie.fromDer(r),e):r=Ie.fromDer(r),r!==null&&(r=lr.privateKeyFromAsn1(r)),r};lr.pbe.generatePkcs12Key=function(t,e,r,n,o,a){var c,l;if(typeof a>"u"||a===null){if(!("sha1"in it.md))throw new Error('"sha1" hash algorithm unavailable.');a=it.md.sha1.create()}var u=a.digestLength,f=a.blockLength,h=new it.util.ByteBuffer,A=new it.util.ByteBuffer;if(t!=null){for(l=0;l<t.length;l++)A.putInt16(t.charCodeAt(l));A.putInt16(0)}var p=A.length(),m=e.length(),g=new it.util.ByteBuffer;g.fillWithByte(r,f);var y=f*Math.ceil(m/f),E=new it.util.ByteBuffer;for(l=0;l<y;l++)E.putByte(e.at(l%m));var I=f*Math.ceil(p/f),x=new it.util.ByteBuffer;for(l=0;l<I;l++)x.putByte(A.at(l%p));var v=E;v.putBuffer(x);for(var b=Math.ceil(o/u),_=1;_<=b;_++){var S=new it.util.ByteBuffer;S.putBytes(g.bytes()),S.putBytes(v.bytes());for(var w=0;w<n;w++)a.start(),a.update(S.getBytes()),S=a.digest();var L=new it.util.ByteBuffer;for(l=0;l<f;l++)L.putByte(S.at(l%u));var M=Math.ceil(m/f)+Math.ceil(p/f),Y=new it.util.ByteBuffer;for(c=0;c<M;c++){var D=new it.util.ByteBuffer(v.getBytes(f)),O=511;for(l=L.length()-1;l>=0;l--)O=O>>8,O+=L.at(l)+D.at(l),D.setAt(l,O&255);Y.putBuffer(D)}v=Y,h.putBuffer(S)}return h.truncate(h.length()-o),h};lr.pbe.getCipher=function(t,e,r){switch(t){case lr.oids.pkcs5PBES2:return lr.pbe.getCipherForPBES2(t,e,r);case lr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case lr.oids["pbewithSHAAnd40BitRC2-CBC"]:return lr.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};lr.pbe.getCipherForPBES2=function(t,e,r){var n={},o=[];if(!Ie.validate(e,b5t,n,o)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=o,a}if(t=Ie.derToOid(n.kdfOid),t!==lr.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=Ie.derToOid(n.encOid),t!==lr.oids["aes128-CBC"]&&t!==lr.oids["aes192-CBC"]&&t!==lr.oids["aes256-CBC"]&&t!==lr.oids["des-EDE3-CBC"]&&t!==lr.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var c=n.kdfSalt,l=it.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var u,f;switch(lr.oids[t]){case"aes128-CBC":u=16,f=it.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,f=it.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,f=it.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,f=it.des.createDecryptionCipher;break;case"desCBC":u=8,f=it.des.createDecryptionCipher;break}var h=fRe(n.prfOid),A=it.pkcs5.pbkdf2(r,c,l,u,h),p=n.encIv,m=f(A);return m.start(p),m};lr.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},o=[];if(!Ie.validate(e,_5t,n,o)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=o,a}var c=it.util.createBuffer(n.salt),l=it.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var u,f,h;switch(t){case lr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,f=8,h=it.des.startDecrypting;break;case lr.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,f=8,h=s(function(y,E){var I=it.rc2.createDecryptionCipher(y,40);return I.start(E,null),I},"cipherFn");break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var A=fRe(n.prfOid),p=lr.pbe.generatePkcs12Key(r,c,1,l,u,A);A.start();var m=lr.pbe.generatePkcs12Key(r,c,2,l,f,A);return h(p,m)};lr.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in it.md))throw new Error('"md5" hash algorithm unavailable.');n=it.md.md5.create()}e===null&&(e="");for(var o=[uRe(n,t+e)],a=16,c=1;a<r;++c,a+=16)o.push(uRe(n,o[c-1]+t+e));return o.join("").substr(0,r)};function uRe(t,e){return t.start().update(e).digest().getBytes()}s(uRe,"hash");function fRe(t){var e;if(!t)e="hmacWithSHA1";else if(e=lr.oids[Ie.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return dRe(e)}s(fRe,"prfOidToMessageDigest");function dRe(t){var e=it.md;switch(t){case"hmacWithSHA224":e=it.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}s(dRe,"prfAlgorithmToMessageDigest");function T5t(t,e,r,n){var o=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&o.value.push(Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,it.util.hexToBytes(r.toString(16))),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(lr.oids[n]).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.NULL,!1,"")])),o}s(T5t,"createPbkdf2Params")});var XZ=T((Jgn,mRe)=>{d();var ev=Ar();Au();nn();var tt=ev.asn1,tv=mRe.exports=ev.pkcs7asn1=ev.pkcs7asn1||{};ev.pkcs7=ev.pkcs7||{};ev.pkcs7.asn1=tv;var ARe={name:"ContentInfo",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:tt.Class.UNIVERSAL,type:tt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:tt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};tv.contentInfoValidator=ARe;var pRe={name:"EncryptedContentInfo",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:tt.Class.UNIVERSAL,type:tt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:tt.Class.UNIVERSAL,type:tt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:tt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:tt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};tv.envelopedDataValidator={name:"EnvelopedData",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:tt.Class.UNIVERSAL,type:tt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(pRe)};tv.encryptedDataValidator={name:"EncryptedData",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:tt.Class.UNIVERSAL,type:tt.Type.INTEGER,constructed:!1,capture:"version"}].concat(pRe)};var w5t={name:"SignerInfo",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:tt.Class.UNIVERSAL,type:tt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:tt.Class.UNIVERSAL,type:tt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:tt.Class.UNIVERSAL,type:tt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:tt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:tt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:tt.Class.UNIVERSAL,type:tt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:tt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};tv.signedDataValidator={name:"SignedData",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:tt.Class.UNIVERSAL,type:tt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},ARe,{name:"SignedData.Certificates",tagClass:tt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:tt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SET,capture:"signerInfos",optional:!0,value:[w5t]}]};tv.recipientInfoValidator={name:"RecipientInfo",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:tt.Class.UNIVERSAL,type:tt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:tt.Class.UNIVERSAL,type:tt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:tt.Class.UNIVERSAL,type:tt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:tt.Class.UNIVERSAL,type:tt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:tt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:tt.Class.UNIVERSAL,type:tt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var ZZ=T((Zgn,gRe)=>{d();var WC=Ar();nn();WC.mgf=WC.mgf||{};var S5t=gRe.exports=WC.mgf.mgf1=WC.mgf1=WC.mgf1||{};S5t.create=function(t){var e={generate:s(function(r,n){for(var o=new WC.util.ByteBuffer,a=Math.ceil(n/t.digestLength),c=0;c<a;c++){var l=new WC.util.ByteBuffer;l.putInt32(c),t.start(),t.update(r+l.getBytes()),o.putBuffer(t.digest())}return o.truncate(o.length()-n),o.getBytes()},"generate")};return e}});var yRe=T((r1n,CRe)=>{d();var EP=Ar();ZZ();CRe.exports=EP.mgf=EP.mgf||{};EP.mgf.mgf1=EP.mgf1});var IP=T((i1n,ERe)=>{d();var YC=Ar();fl();nn();var B5t=ERe.exports=YC.pss=YC.pss||{};B5t.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,o=t.salt||null;typeof o=="string"&&(o=YC.util.createBuffer(o));var a;if("saltLength"in t)a=t.saltLength;else if(o!==null)a=o.length();else throw new Error("Salt length not specified or specific salt not given.");if(o!==null&&o.length()!==a)throw new Error("Given salt length does not match length of given salt.");var c=t.prng||YC.random,l={};return l.encode=function(u,f){var h,A=f-1,p=Math.ceil(A/8),m=u.digest().getBytes();if(p<n+a+2)throw new Error("Message is too long to encrypt.");var g;o===null?g=c.getBytesSync(a):g=o.bytes();var y=new YC.util.ByteBuffer;y.fillWithByte(0,8),y.putBytes(m),y.putBytes(g),e.start(),e.update(y.getBytes());var E=e.digest().getBytes(),I=new YC.util.ByteBuffer;I.fillWithByte(0,p-a-n-2),I.putByte(1),I.putBytes(g);var x=I.getBytes(),v=p-n-1,b=r.generate(E,v),_="";for(h=0;h<v;h++)_+=String.fromCharCode(x.charCodeAt(h)^b.charCodeAt(h));var S=65280>>8*p-A&255;return _=String.fromCharCode(_.charCodeAt(0)&~S)+_.substr(1),_+E+"\xBC"},l.verify=function(u,f,h){var A,p=h-1,m=Math.ceil(p/8);if(f=f.substr(-m),m<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(f.charCodeAt(m-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var g=m-n-1,y=f.substr(0,g),E=f.substr(g,n),I=65280>>8*m-p&255;if((y.charCodeAt(0)&I)!==0)throw new Error("Bits beyond keysize not zero as expected.");var x=r.generate(E,g),v="";for(A=0;A<g;A++)v+=String.fromCharCode(y.charCodeAt(A)^x.charCodeAt(A));v=String.fromCharCode(v.charCodeAt(0)&~I)+v.substr(1);var b=m-n-a-2;for(A=0;A<b;A++)if(v.charCodeAt(A)!==0)throw new Error("Leftmost octets not zero as expected");if(v.charCodeAt(b)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var _=v.substr(-a),S=new YC.util.ByteBuffer;S.fillWithByte(0,8),S.putBytes(u),S.putBytes(_),e.start(),e.update(S.getBytes());var w=e.digest().getBytes();return E===w},l}});var bP=T((s1n,_Re)=>{d();var xt=Ar();pm();Au();xw();Gf();yRe();mm();qC();IP();_w();nn();var N=xt.asn1,Ve=_Re.exports=xt.pki=xt.pki||{},Xr=Ve.oids,qi={};qi.CN=Xr.commonName;qi.commonName="CN";qi.C=Xr.countryName;qi.countryName="C";qi.L=Xr.localityName;qi.localityName="L";qi.ST=Xr.stateOrProvinceName;qi.stateOrProvinceName="ST";qi.O=Xr.organizationName;qi.organizationName="O";qi.OU=Xr.organizationalUnitName;qi.organizationalUnitName="OU";qi.E=Xr.emailAddress;qi.emailAddress="E";var xRe=xt.pki.rsa.publicKeyValidator,R5t={name:"Certificate",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:N.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:N.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:N.Class.UNIVERSAL,type:N.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:N.Class.UNIVERSAL,type:N.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:N.Class.UNIVERSAL,type:N.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:N.Class.UNIVERSAL,type:N.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},xRe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:N.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:N.Class.UNIVERSAL,type:N.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:N.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:N.Class.UNIVERSAL,type:N.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:N.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:N.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:N.Class.UNIVERSAL,type:N.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},k5t={name:"rsapss",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:N.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:N.Class.UNIVERSAL,type:N.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:N.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:N.Class.UNIVERSAL,type:N.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:N.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:N.Class.UNIVERSAL,type:N.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:N.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:N.Class.UNIVERSAL,type:N.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},D5t={name:"CertificationRequestInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},xRe,{name:"CertificationRequestInfo.attributes",tagClass:N.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:N.Class.UNIVERSAL,type:N.Type.SET,constructed:!0}]}]}]},N5t={name:"CertificationRequest",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[D5t,{name:"CertificationRequest.signatureAlgorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:N.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:N.Class.UNIVERSAL,type:N.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};Ve.RDNAttributesAsArray=function(t,e){for(var r=[],n,o,a,c=0;c<t.value.length;++c){n=t.value[c];for(var l=0;l<n.value.length;++l)a={},o=n.value[l],a.type=N.derToOid(o.value[0].value),a.value=o.value[1].value,a.valueTagClass=o.value[1].type,a.type in Xr&&(a.name=Xr[a.type],a.name in qi&&(a.shortName=qi[a.name])),e&&(e.update(a.type),e.update(a.value)),r.push(a)}return r};Ve.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],o=N.derToOid(n.value[0].value),a=n.value[1].value,c=0;c<a.length;++c){var l={};if(l.type=o,l.value=a[c].value,l.valueTagClass=a[c].type,l.type in Xr&&(l.name=Xr[l.type],l.name in qi&&(l.shortName=qi[l.name])),l.type===Xr.extensionRequest){l.extensions=[];for(var u=0;u<l.value.length;++u)l.extensions.push(Ve.certificateExtensionFromAsn1(l.value[u]))}e.push(l)}return e};function ym(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,o=0;r===null&&o<t.attributes.length;++o)n=t.attributes[o],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}s(ym,"_getAttribute");var xP=s(function(t,e,r){var n={};if(t!==Xr["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Xr.sha1},mgf:{algorithmOid:Xr.mgf1,hash:{algorithmOid:Xr.sha1}},saltLength:20});var o={},a=[];if(!N.validate(e,k5t,o,a)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=a,c}return o.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=N.derToOid(o.hashOid)),o.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=N.derToOid(o.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=N.derToOid(o.maskGenHashOid)),o.saltLength!==void 0&&(n.saltLength=o.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),vP=s(function(t){switch(Xr[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return xt.md.sha1.create();case"md5WithRSAEncryption":return xt.md.md5.create();case"sha256WithRSAEncryption":return xt.md.sha256.create();case"sha384WithRSAEncryption":return xt.md.sha384.create();case"sha512WithRSAEncryption":return xt.md.sha512.create();case"RSASSA-PSS":return xt.md.sha256.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},"_createSignatureDigest"),vRe=s(function(t){var e=t.certificate,r;switch(e.signatureOid){case Xr.sha1WithRSAEncryption:case Xr.sha1WithRSASignature:break;case Xr["RSASSA-PSS"]:var n,o;if(n=Xr[e.signatureParameters.mgf.hash.algorithmOid],n===void 0||xt.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=e.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(o=Xr[e.signatureParameters.mgf.algorithmOid],o===void 0||xt.mgf[o]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=e.signatureParameters.mgf.algorithmOid,a.name=o,a}if(o=xt.mgf[o].create(xt.md[n].create()),n=Xr[e.signatureParameters.hash.algorithmOid],n===void 0||xt.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=e.signatureParameters.hash.algorithmOid,a.name=n,a}r=xt.pss.create(xt.md[n].create(),o,e.signatureParameters.saltLength);break}return e.publicKey.verify(t.md.digest().getBytes(),t.signature,r)},"_verifySignature");Ve.certificateFromPem=function(t,e,r){var n=xt.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=n.type,o}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=N.fromDer(n.body,r);return Ve.certificateFromAsn1(a,e)};Ve.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:N.toDer(Ve.certificateToAsn1(t)).getBytes()};return xt.pem.encode(r,{maxline:e})};Ve.publicKeyFromPem=function(t){var e=xt.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=N.fromDer(e.body);return Ve.publicKeyFromAsn1(n)};Ve.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:N.toDer(Ve.publicKeyToAsn1(t)).getBytes()};return xt.pem.encode(r,{maxline:e})};Ve.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:N.toDer(Ve.publicKeyToRSAPublicKey(t)).getBytes()};return xt.pem.encode(r,{maxline:e})};Ve.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||xt.md.sha1.create(),n=e.type||"RSAPublicKey",o;switch(n){case"RSAPublicKey":o=N.toDer(Ve.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":o=N.toDer(Ve.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(o);var a=r.digest();if(e.encoding==="hex"){var c=a.toHex();return e.delimiter?c.match(/.{2}/g).join(e.delimiter):c}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};Ve.certificationRequestFromPem=function(t,e,r){var n=xt.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=n.type,o}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=N.fromDer(n.body,r);return Ve.certificationRequestFromAsn1(a,e)};Ve.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:N.toDer(Ve.certificationRequestToAsn1(t)).getBytes()};return xt.pem.encode(r,{maxline:e})};Ve.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return ym(t.issuer,e)},t.issuer.addField=function(e){Al([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return ym(t.subject,e)},t.subject.addField=function(e){Al([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){Al(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){Al(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)bRe(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,o=0;r===null&&o<t.extensions.length;++o)n=t.extensions[o],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||xt.md.sha1.create();var n=Xr[t.md.algorithm+"WithRSAEncryption"];if(!n){var o=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw o.algorithm=t.md.algorithm,o}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=Ve.getTBSCertificate(t);var a=N.toDer(t.tbsCertificate);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,o=t.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=o.attributes,a.actualIssuer=n.attributes,a}var c=e.md;if(c===null){c=vP({signatureOid:e.signatureOid,type:"certificate"});var l=e.tbsCertificate||Ve.getTBSCertificate(e),u=N.toDer(l);c.update(u.getBytes())}return c!==null&&(r=vRe({certificate:t,md:c,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,o=e.subject;if(n.hash&&o.hash)r=n.hash===o.hash;else if(n.attributes.length===o.attributes.length){r=!0;for(var a,c,l=0;r&&l<n.attributes.length;++l)a=n.attributes[l],c=o.attributes[l],(a.type!==c.type||a.value!==c.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return Ve.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=Xr.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var o=t.generateSubjectKeyIdentifier().getBytes();return xt.util.hexToBytes(n.subjectKeyIdentifier)===o}}return!1},t};Ve.certificateFromAsn1=function(t,e){var r={},n=[];if(!N.validate(t,R5t,r,n)){var o=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw o.errors=n,o}var a=N.derToOid(r.publicKeyOid);if(a!==Ve.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=Ve.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=xt.util.createBuffer(r.certSerialNumber);c.serialNumber=l.toHex(),c.signatureOid=xt.asn1.derToOid(r.certSignatureOid),c.signatureParameters=xP(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=xt.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=xP(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var u=[];if(r.certValidity1UTCTime!==void 0&&u.push(N.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&u.push(N.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&u.push(N.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&u.push(N.generalizedTimeToDate(r.certValidity4GeneralizedTime)),u.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(u.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=u[0],c.validity.notAfter=u[1],c.tbsCertificate=r.tbsCertificate,e){c.md=vP({signatureOid:c.signatureOid,type:"certificate"});var f=N.toDer(c.tbsCertificate);c.md.update(f.getBytes())}var h=xt.md.sha1.create(),A=N.toDer(r.certIssuer);h.update(A.getBytes()),c.issuer.getField=function(g){return ym(c.issuer,g)},c.issuer.addField=function(g){Al([g]),c.issuer.attributes.push(g)},c.issuer.attributes=Ve.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=h.digest().toHex();var p=xt.md.sha1.create(),m=N.toDer(r.certSubject);return p.update(m.getBytes()),c.subject.getField=function(g){return ym(c.subject,g)},c.subject.addField=function(g){Al([g]),c.subject.attributes.push(g)},c.subject.attributes=Ve.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=p.digest().toHex(),r.certExtensions?c.extensions=Ve.certificateExtensionsFromAsn1(r.certExtensions):c.extensions=[],c.publicKey=Ve.publicKeyFromAsn1(r.subjectPublicKeyInfo),c};Ve.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],o=0;o<n.value.length;++o)e.push(Ve.certificateExtensionFromAsn1(n.value[o]));return e};Ve.certificateExtensionFromAsn1=function(t){var e={};if(e.id=N.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===N.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in Xr){if(e.name=Xr[e.id],e.name==="keyUsage"){var r=N.fromDer(e.value),n=0,o=0;r.value.length>1&&(n=r.value.charCodeAt(1),o=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(o&128)===128}else if(e.name==="basicConstraints"){var r=N.fromDer(e.value);r.value.length>0&&r.value[0].type===N.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var a=null;r.value.length>0&&r.value[0].type===N.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(e.pathLenConstraint=N.derToInteger(a))}else if(e.name==="extKeyUsage")for(var r=N.fromDer(e.value),c=0;c<r.value.length;++c){var l=N.derToOid(r.value[c].value);l in Xr?e[Xr[l]]=!0:e[l]=!0}else if(e.name==="nsCertType"){var r=N.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var u,r=N.fromDer(e.value),f=0;f<r.value.length;++f){u=r.value[f];var h={type:u.type,value:u.value};switch(e.altNames.push(h),u.type){case 1:case 2:case 6:break;case 7:h.ip=xt.util.bytesToIP(u.value);break;case 8:h.oid=N.derToOid(u.value);break;default:}}}else if(e.name==="subjectKeyIdentifier"){var r=N.fromDer(e.value);e.subjectKeyIdentifier=xt.util.bytesToHex(r.value)}}return e};Ve.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!N.validate(t,N5t,r,n)){var o=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw o.errors=n,o}var a=N.derToOid(r.publicKeyOid);if(a!==Ve.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=Ve.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=xt.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=xP(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=xt.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=xP(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,e){c.md=vP({signatureOid:c.signatureOid,type:"certification request"});var l=N.toDer(c.certificationRequestInfo);c.md.update(l.getBytes())}var u=xt.md.sha1.create();return c.subject.getField=function(f){return ym(c.subject,f)},c.subject.addField=function(f){Al([f]),c.subject.attributes.push(f)},c.subject.attributes=Ve.RDNAttributesAsArray(r.certificationRequestInfoSubject,u),c.subject.hash=u.digest().toHex(),c.publicKey=Ve.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(f){return ym(c,f)},c.addAttribute=function(f){Al([f]),c.attributes.push(f)},c.attributes=Ve.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c};Ve.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return ym(t.subject,e)},t.subject.addField=function(e){Al([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return ym(t,e)},t.addAttribute=function(e){Al([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){Al(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){Al(e),t.attributes=e},t.sign=function(e,r){t.md=r||xt.md.sha1.create();var n=Xr[t.md.algorithm+"WithRSAEncryption"];if(!n){var o=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw o.algorithm=t.md.algorithm,o}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=Ve.getCertificationRequestInfo(t);var a=N.toDer(t.certificationRequestInfo);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){r=vP({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||Ve.getCertificationRequestInfo(t),o=N.toDer(n);r.update(o.getBytes())}return r!==null&&(e=vRe({certificate:t,md:r,signature:t.signature})),e},t};function rv(t){for(var e=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]),r,n,o=t.attributes,a=0;a<o.length;++a){r=o[a];var c=r.value,l=N.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===N.Type.UTF8&&(c=xt.util.encodeUtf8(c))),n=N.create(N.Class.UNIVERSAL,N.Type.SET,!0,[N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(r.type).getBytes()),N.create(N.Class.UNIVERSAL,l,!1,c)])]),e.value.push(n)}return e}s(rv,"_dnToAsn1");function Al(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in Ve.oids?e.name=Ve.oids[e.type]:e.shortName&&e.shortName in qi&&(e.name=Ve.oids[qi[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in Ve.oids)e.type=Ve.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in qi&&(e.shortName=qi[e.name]),e.type===Xr.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=N.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var o=0;o<e.extensions.length;++o)e.value.push(Ve.certificateExtensionToAsn1(bRe(e.extensions[o])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}s(Al,"_fillMissingFields");function bRe(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in Ve.oids&&(t.name=Ve.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in Ve.oids)t.id=Ve.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,o=0,a=0;t.digitalSignature&&(o|=128,n=7),t.nonRepudiation&&(o|=64,n=6),t.keyEncipherment&&(o|=32,n=5),t.dataEncipherment&&(o|=16,n=4),t.keyAgreement&&(o|=8,n=3),t.keyCertSign&&(o|=4,n=2),t.cRLSign&&(o|=2,n=1),t.encipherOnly&&(o|=1,n=0),t.decipherOnly&&(a|=128,n=7);var c=String.fromCharCode(n);a!==0?c+=String.fromCharCode(o)+String.fromCharCode(a):o!==0&&(c+=String.fromCharCode(o)),t.value=N.create(N.Class.UNIVERSAL,N.Type.BITSTRING,!1,c)}else if(t.name==="basicConstraints")t.value=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(N.create(N.Class.UNIVERSAL,N.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in t&&t.value.value.push(N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,N.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]);var l=t.value.value;for(var u in t)t[u]===!0&&(u in Xr?l.push(N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(Xr[u]).getBytes())):u.indexOf(".")!==-1&&l.push(N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(u).getBytes())))}else if(t.name==="nsCertType"){var n=0,o=0;t.client&&(o|=128,n=7),t.server&&(o|=64,n=6),t.email&&(o|=32,n=5),t.objsign&&(o|=16,n=4),t.reserved&&(o|=8,n=3),t.sslCA&&(o|=4,n=2),t.emailCA&&(o|=2,n=1),t.objCA&&(o|=1,n=0);var c=String.fromCharCode(n);o!==0&&(c+=String.fromCharCode(o)),t.value=N.create(N.Class.UNIVERSAL,N.Type.BITSTRING,!1,c)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]);for(var f,h=0;h<t.altNames.length;++h){f=t.altNames[h];var c=f.value;if(f.type===7&&f.ip){if(c=xt.util.bytesFromIP(f.ip),c===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else f.type===8&&(f.oid?c=N.oidToDer(N.oidToDer(f.oid)):c=N.oidToDer(c));t.value.value.push(N.create(N.Class.CONTEXT_SPECIFIC,f.type,!1,c))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=N.create(N.Class.UNIVERSAL,N.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var A=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=A.toHex(),t.value=N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,A.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]);var l=t.value.value;if(t.keyIdentifier){var p=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;l.push(N.create(N.Class.CONTEXT_SPECIFIC,0,!1,p))}if(t.authorityCertIssuer){var m=[N.create(N.Class.CONTEXT_SPECIFIC,4,!0,[rv(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];l.push(N.create(N.Class.CONTEXT_SPECIFIC,1,!0,m))}if(t.serialNumber){var g=xt.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);l.push(N.create(N.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if(t.name==="cRLDistributionPoints"){t.value=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]);for(var l=t.value.value,y=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]),E=N.create(N.Class.CONTEXT_SPECIFIC,0,!0,[]),f,h=0;h<t.altNames.length;++h){f=t.altNames[h];var c=f.value;if(f.type===7&&f.ip){if(c=xt.util.bytesFromIP(f.ip),c===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else f.type===8&&(f.oid?c=N.oidToDer(N.oidToDer(f.oid)):c=N.oidToDer(c));E.value.push(N.create(N.Class.CONTEXT_SPECIFIC,f.type,!1,c))}y.value.push(N.create(N.Class.CONTEXT_SPECIFIC,0,!0,[E])),l.push(y)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}s(bRe,"_fillMissingExtensionFields");function eee(t,e){switch(t){case Xr["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(N.create(N.Class.CONTEXT_SPECIFIC,0,!0,[N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(e.hash.algorithmOid).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(N.create(N.Class.CONTEXT_SPECIFIC,1,!0,[N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(e.mgf.algorithmOid).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(e.mgf.hash.algorithmOid).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(N.create(N.Class.CONTEXT_SPECIFIC,2,!0,[N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,N.integerToDer(e.saltLength).getBytes())])),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,r);default:return N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")}}s(eee,"_signatureParametersToAsn1");function Q5t(t){var e=N.create(N.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var o=r[n],a=o.value,c=N.Type.UTF8;"valueTagClass"in o&&(c=o.valueTagClass),c===N.Type.UTF8&&(a=xt.util.encodeUtf8(a));var l=!1;"valueConstructed"in o&&(l=o.valueConstructed);var u=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(o.type).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SET,!0,[N.create(N.Class.UNIVERSAL,c,l,a)])]);e.value.push(u)}return e}s(Q5t,"_CRIAttributesToAsn1");var P5t=new Date("1950-01-01T00:00:00Z"),F5t=new Date("2050-01-01T00:00:00Z");function IRe(t){return t>=P5t&&t<F5t?N.create(N.Class.UNIVERSAL,N.Type.UTCTIME,!1,N.dateToUtcTime(t)):N.create(N.Class.UNIVERSAL,N.Type.GENERALIZEDTIME,!1,N.dateToGeneralizedTime(t))}s(IRe,"_dateToAsn1");Ve.getTBSCertificate=function(t){var e=IRe(t.validity.notBefore),r=IRe(t.validity.notAfter),n=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.CONTEXT_SPECIFIC,0,!0,[N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,N.integerToDer(t.version).getBytes())]),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,xt.util.hexToBytes(t.serialNumber)),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(t.siginfo.algorithmOid).getBytes()),eee(t.siginfo.algorithmOid,t.siginfo.parameters)]),rv(t.issuer),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[e,r]),rv(t.subject),Ve.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(N.create(N.Class.CONTEXT_SPECIFIC,1,!0,[N.create(N.Class.UNIVERSAL,N.Type.BITSTRING,!1,"\0"+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(N.create(N.Class.CONTEXT_SPECIFIC,2,!0,[N.create(N.Class.UNIVERSAL,N.Type.BITSTRING,!1,"\0"+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(Ve.certificateExtensionsToAsn1(t.extensions)),n};Ve.getCertificationRequestInfo=function(t){var e=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,N.integerToDer(t.version).getBytes()),rv(t.subject),Ve.publicKeyToAsn1(t.publicKey),Q5t(t)]);return e};Ve.distinguishedNameToAsn1=function(t){return rv(t)};Ve.certificateToAsn1=function(t){var e=t.tbsCertificate||Ve.getTBSCertificate(t);return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[e,N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(t.signatureOid).getBytes()),eee(t.signatureOid,t.signatureParameters)]),N.create(N.Class.UNIVERSAL,N.Type.BITSTRING,!1,"\0"+t.signature)])};Ve.certificateExtensionsToAsn1=function(t){var e=N.create(N.Class.CONTEXT_SPECIFIC,3,!0,[]),r=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(Ve.certificateExtensionToAsn1(t[n]));return e};Ve.certificateExtensionToAsn1=function(t){var e=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[]);e.value.push(N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(t.id).getBytes())),t.critical&&e.value.push(N.create(N.Class.UNIVERSAL,N.Type.BOOLEAN,!1,"\xFF"));var r=t.value;return typeof t.value!="string"&&(r=N.toDer(r).getBytes()),e.value.push(N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,r)),e};Ve.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||Ve.getCertificationRequestInfo(t);return N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[e,N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(t.signatureOid).getBytes()),eee(t.signatureOid,t.signatureParameters)]),N.create(N.Class.UNIVERSAL,N.Type.BITSTRING,!1,"\0"+t.signature)])};Ve.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(c){var l=r(c.issuer);return l},e.addCertificate=function(c){if(typeof c=="string"&&(c=xt.pki.certificateFromPem(c)),n(c.subject),!e.hasCertificate(c))if(c.subject.hash in e.certs){var l=e.certs[c.subject.hash];xt.util.isArray(l)||(l=[l]),l.push(c),e.certs[c.subject.hash]=l}else e.certs[c.subject.hash]=c},e.hasCertificate=function(c){typeof c=="string"&&(c=xt.pki.certificateFromPem(c));var l=r(c.subject);if(!l)return!1;xt.util.isArray(l)||(l=[l]);for(var u=N.toDer(Ve.certificateToAsn1(c)).getBytes(),f=0;f<l.length;++f){var h=N.toDer(Ve.certificateToAsn1(l[f])).getBytes();if(u===h)return!0}return!1},e.listAllCertificates=function(){var c=[];for(var l in e.certs)if(e.certs.hasOwnProperty(l)){var u=e.certs[l];if(!xt.util.isArray(u))c.push(u);else for(var f=0;f<u.length;++f)c.push(u[f])}return c},e.removeCertificate=function(c){var l;if(typeof c=="string"&&(c=xt.pki.certificateFromPem(c)),n(c.subject),!e.hasCertificate(c))return null;var u=r(c.subject);if(!xt.util.isArray(u))return l=e.certs[c.subject.hash],delete e.certs[c.subject.hash],l;for(var f=N.toDer(Ve.certificateToAsn1(c)).getBytes(),h=0;h<u.length;++h){var A=N.toDer(Ve.certificateToAsn1(u[h])).getBytes();f===A&&(l=u[h],u.splice(h,1))}return u.length===0&&delete e.certs[c.subject.hash],l};function r(c){return n(c),e.certs[c.hash]||null}s(r,"getBySubject");function n(c){if(!c.hash){var l=xt.md.sha1.create();c.attributes=Ve.RDNAttributesAsArray(rv(c),l),c.hash=l.digest().toHex()}}if(s(n,"ensureSubjectHasHash"),t)for(var o=0;o<t.length;++o){var a=t[o];e.addCertificate(a)}return e};Ve.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};Ve.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),o=r.validityCheckDate;typeof o>"u"&&(o=new Date);var a=!0,c=null,l=0;do{var u=e.shift(),f=null,h=!1;if(o&&(o<u.validity.notBefore||o>u.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:Ve.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:o}),c===null){if(f=e[0]||t.getIssuer(u),f===null&&u.isIssuer(u)&&(h=!0,f=u),f){var A=f;xt.util.isArray(A)||(A=[A]);for(var p=!1;!p&&A.length>0;){f=A.shift();try{p=f.verify(u)}catch{}}p||(c={message:"Certificate signature is invalid.",error:Ve.certificateError.bad_certificate})}c===null&&(!f||h)&&!t.hasCertificate(u)&&(c={message:"Certificate is not trusted.",error:Ve.certificateError.unknown_ca})}if(c===null&&f&&!u.isIssuer(f)&&(c={message:"Certificate issuer is invalid.",error:Ve.certificateError.bad_certificate}),c===null)for(var m={keyUsage:!0,basicConstraints:!0},g=0;c===null&&g<u.extensions.length;++g){var y=u.extensions[g];y.critical&&!(y.name in m)&&(c={message:"Certificate has an unsupported critical extension.",error:Ve.certificateError.unsupported_certificate})}if(c===null&&(!a||e.length===0&&(!f||h))){var E=u.getExtension("basicConstraints"),I=u.getExtension("keyUsage");if(I!==null&&(!I.keyCertSign||E===null)&&(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:Ve.certificateError.bad_certificate}),c===null&&E!==null&&!E.cA&&(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:Ve.certificateError.bad_certificate}),c===null&&I!==null&&"pathLenConstraint"in E){var x=l-1;x>E.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:Ve.certificateError.bad_certificate})}}var v=c===null?!0:c.error,b=r.verify?r.verify(v,l,n):v;if(b===!0)c=null;else throw v===!0&&(c={message:"The application rejected the certificate.",error:Ve.certificateError.bad_certificate}),(b||b===0)&&(typeof b=="object"&&!xt.util.isArray(b)?(b.message&&(c.message=b.message),b.error&&(c.error=b.error)):typeof b=="string"&&(c.error=b)),c;a=!1,++l}while(e.length>0);return!0}});var ree=T((l1n,wRe)=>{d();var Yn=Ar();Au();zx();mm();XZ();JZ();fl();_w();Zx();nn();bP();var re=Yn.asn1,wr=Yn.pki,ww=wRe.exports=Yn.pkcs12=Yn.pkcs12||{},TRe={name:"ContentInfo",tagClass:re.Class.UNIVERSAL,type:re.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:re.Class.UNIVERSAL,type:re.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:re.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},L5t={name:"PFX",tagClass:re.Class.UNIVERSAL,type:re.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:re.Class.UNIVERSAL,type:re.Type.INTEGER,constructed:!1,capture:"version"},TRe,{name:"PFX.macData",tagClass:re.Class.UNIVERSAL,type:re.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:re.Class.UNIVERSAL,type:re.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:re.Class.UNIVERSAL,type:re.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:re.Class.UNIVERSAL,type:re.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:re.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:re.Class.UNIVERSAL,type:re.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:re.Class.UNIVERSAL,type:re.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:re.Class.UNIVERSAL,type:re.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},M5t={name:"SafeBag",tagClass:re.Class.UNIVERSAL,type:re.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:re.Class.UNIVERSAL,type:re.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:re.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:re.Class.UNIVERSAL,type:re.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},O5t={name:"Attribute",tagClass:re.Class.UNIVERSAL,type:re.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:re.Class.UNIVERSAL,type:re.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:re.Class.UNIVERSAL,type:re.Type.SET,constructed:!0,capture:"values"}]},U5t={name:"CertBag",tagClass:re.Class.UNIVERSAL,type:re.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:re.Class.UNIVERSAL,type:re.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:re.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:re.Class.UNIVERSAL,type:re.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Tw(t,e,r,n){for(var o=[],a=0;a<t.length;a++)for(var c=0;c<t[a].safeBags.length;c++){var l=t[a].safeBags[c];if(!(n!==void 0&&l.type!==n)){if(e===null){o.push(l);continue}l.attributes[e]!==void 0&&l.attributes[e].indexOf(r)>=0&&o.push(l)}}return o}s(Tw,"_getBagsByAttribute");ww.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},o=[];if(!re.validate(t,L5t,n,o)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var c={version:n.version.charCodeAt(0),safeContents:[],getBags:s(function(E){var I={},x;return"localKeyId"in E?x=E.localKeyId:"localKeyIdHex"in E&&(x=Yn.util.hexToBytes(E.localKeyIdHex)),x===void 0&&!("friendlyName"in E)&&"bagType"in E&&(I[E.bagType]=Tw(c.safeContents,null,null,E.bagType)),x!==void 0&&(I.localKeyId=Tw(c.safeContents,"localKeyId",x,E.bagType)),"friendlyName"in E&&(I.friendlyName=Tw(c.safeContents,"friendlyName",E.friendlyName,E.bagType)),I},"getBags"),getBagsByFriendlyName:s(function(E,I){return Tw(c.safeContents,"friendlyName",E,I)},"getBagsByFriendlyName"),getBagsByLocalKeyId:s(function(E,I){return Tw(c.safeContents,"localKeyId",E,I)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(re.derToOid(n.contentType)!==wr.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=re.derToOid(n.contentType),a}var l=n.content.value[0];if(l.tagClass!==re.Class.UNIVERSAL||l.type!==re.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=tee(l),n.mac){var u=null,f=0,h=re.derToOid(n.macAlgorithm);switch(h){case wr.oids.sha1:u=Yn.md.sha1.create(),f=20;break;case wr.oids.sha256:u=Yn.md.sha256.create(),f=32;break;case wr.oids.sha384:u=Yn.md.sha384.create(),f=48;break;case wr.oids.sha512:u=Yn.md.sha512.create(),f=64;break;case wr.oids.md5:u=Yn.md.md5.create(),f=16;break}if(u===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+h);var A=new Yn.util.ByteBuffer(n.macSalt),p="macIterations"in n?parseInt(Yn.util.bytesToHex(n.macIterations),16):1,m=ww.generateKey(r,A,3,p,f,u),g=Yn.hmac.create();g.start(u,m),g.update(l.value);var y=g.getMac();if(y.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return q5t(c,l.value,e,r),c};function tee(t){if(t.composed||t.constructed){for(var e=Yn.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}s(tee,"_decodePkcs7Data");function q5t(t,e,r,n){if(e=re.fromDer(e,r),e.tagClass!==re.Class.UNIVERSAL||e.type!==re.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var o=0;o<e.value.length;o++){var a=e.value[o],c={},l=[];if(!re.validate(a,TRe,c,l)){var u=new Error("Cannot read ContentInfo.");throw u.errors=l,u}var f={encrypted:!1},h=null,A=c.content.value[0];switch(re.derToOid(c.contentType)){case wr.oids.data:if(A.tagClass!==re.Class.UNIVERSAL||A.type!==re.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=tee(A).value;break;case wr.oids.encryptedData:h=H5t(A,n),f.encrypted=!0;break;default:var u=new Error("Unsupported PKCS#12 contentType.");throw u.contentType=re.derToOid(c.contentType),u}f.safeBags=G5t(h,r,n),t.safeContents.push(f)}}s(q5t,"_decodeAuthenticatedSafe");function H5t(t,e){var r={},n=[];if(!re.validate(t,Yn.pkcs7.asn1.encryptedDataValidator,r,n)){var o=new Error("Cannot read EncryptedContentInfo.");throw o.errors=n,o}var a=re.derToOid(r.contentType);if(a!==wr.oids.data){var o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw o.oid=a,o}a=re.derToOid(r.encAlgorithm);var c=wr.pbe.getCipher(a,r.encParameter,e),l=tee(r.encryptedContentAsn1),u=Yn.util.createBuffer(l.value);if(c.update(u),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}s(H5t,"_decryptSafeContents");function G5t(t,e,r){if(!e&&t.length===0)return[];if(t=re.fromDer(t,e),t.tagClass!==re.Class.UNIVERSAL||t.type!==re.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],o=0;o<t.value.length;o++){var a=t.value[o],c={},l=[];if(!re.validate(a,M5t,c,l)){var u=new Error("Cannot read SafeBag.");throw u.errors=l,u}var f={type:re.derToOid(c.bagId),attributes:V5t(c.bagAttributes)};n.push(f);var h,A,p=c.bagValue.value[0];switch(f.type){case wr.oids.pkcs8ShroudedKeyBag:if(p=wr.decryptPrivateKeyInfo(p,r),p===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case wr.oids.keyBag:try{f.key=wr.privateKeyFromAsn1(p)}catch{f.key=null,f.asn1=p}continue;case wr.oids.certBag:h=U5t,A=s(function(){if(re.derToOid(c.certId)!==wr.oids.x509Certificate){var g=new Error("Unsupported certificate type, only X.509 supported.");throw g.oid=re.derToOid(c.certId),g}var y=re.fromDer(c.cert,e);try{f.cert=wr.certificateFromAsn1(y,!0)}catch{f.cert=null,f.asn1=y}},"decoder");break;default:var u=new Error("Unsupported PKCS#12 SafeBag type.");throw u.oid=f.type,u}if(h!==void 0&&!re.validate(p,h,c,l)){var u=new Error("Cannot read PKCS#12 "+h.name);throw u.errors=l,u}A()}return n}s(G5t,"_decodeSafeContents");function V5t(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},o=[];if(!re.validate(t[r],O5t,n,o)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=o,a}var c=re.derToOid(n.oid);if(wr.oids[c]!==void 0){e[wr.oids[c]]=[];for(var l=0;l<n.values.length;++l)e[wr.oids[c]].push(n.values[l].value)}}return e}s(V5t,"_decodeBagAttributes");ww.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var o=n.localKeyId,a;if(o!==null)o=Yn.util.hexToBytes(o);else if(n.generateLocalKeyId)if(e){var c=Yn.util.isArray(e)?e[0]:e;typeof c=="string"&&(c=wr.certificateFromPem(c));var l=Yn.md.sha1.create();l.update(re.toDer(wr.certificateToAsn1(c)).getBytes()),o=l.digest().getBytes()}else o=Yn.random.getBytes(20);var u=[];o!==null&&u.push(re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.localKeyId).getBytes()),re.create(re.Class.UNIVERSAL,re.Type.SET,!0,[re.create(re.Class.UNIVERSAL,re.Type.OCTETSTRING,!1,o)])])),"friendlyName"in n&&u.push(re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.friendlyName).getBytes()),re.create(re.Class.UNIVERSAL,re.Type.SET,!0,[re.create(re.Class.UNIVERSAL,re.Type.BMPSTRING,!1,n.friendlyName)])])),u.length>0&&(a=re.create(re.Class.UNIVERSAL,re.Type.SET,!0,u));var f=[],h=[];e!==null&&(Yn.util.isArray(e)?h=e:h=[e]);for(var A=[],p=0;p<h.length;++p){e=h[p],typeof e=="string"&&(e=wr.certificateFromPem(e));var m=p===0?a:void 0,g=wr.certificateToAsn1(e),y=re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.certBag).getBytes()),re.create(re.Class.CONTEXT_SPECIFIC,0,!0,[re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.x509Certificate).getBytes()),re.create(re.Class.CONTEXT_SPECIFIC,0,!0,[re.create(re.Class.UNIVERSAL,re.Type.OCTETSTRING,!1,re.toDer(g).getBytes())])])]),m]);A.push(y)}if(A.length>0){var E=re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,A),I=re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.data).getBytes()),re.create(re.Class.CONTEXT_SPECIFIC,0,!0,[re.create(re.Class.UNIVERSAL,re.Type.OCTETSTRING,!1,re.toDer(E).getBytes())])]);f.push(I)}var x=null;if(t!==null){var v=wr.wrapRsaPrivateKey(wr.privateKeyToAsn1(t));r===null?x=re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.keyBag).getBytes()),re.create(re.Class.CONTEXT_SPECIFIC,0,!0,[v]),a]):x=re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.pkcs8ShroudedKeyBag).getBytes()),re.create(re.Class.CONTEXT_SPECIFIC,0,!0,[wr.encryptPrivateKeyInfo(v,r,n)]),a]);var b=re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[x]),_=re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.data).getBytes()),re.create(re.Class.CONTEXT_SPECIFIC,0,!0,[re.create(re.Class.UNIVERSAL,re.Type.OCTETSTRING,!1,re.toDer(b).getBytes())])]);f.push(_)}var S=re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,f),w;if(n.useMac){var l=Yn.md.sha1.create(),L=new Yn.util.ByteBuffer(Yn.random.getBytes(n.saltSize)),M=n.count,t=ww.generateKey(r,L,3,M,20),Y=Yn.hmac.create();Y.start(l,t),Y.update(re.toDer(S).getBytes());var D=Y.getMac();w=re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.sha1).getBytes()),re.create(re.Class.UNIVERSAL,re.Type.NULL,!1,"")]),re.create(re.Class.UNIVERSAL,re.Type.OCTETSTRING,!1,D.getBytes())]),re.create(re.Class.UNIVERSAL,re.Type.OCTETSTRING,!1,L.getBytes()),re.create(re.Class.UNIVERSAL,re.Type.INTEGER,!1,re.integerToDer(M).getBytes())])}return re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.INTEGER,!1,re.integerToDer(3).getBytes()),re.create(re.Class.UNIVERSAL,re.Type.SEQUENCE,!0,[re.create(re.Class.UNIVERSAL,re.Type.OID,!1,re.oidToDer(wr.oids.data).getBytes()),re.create(re.Class.CONTEXT_SPECIFIC,0,!0,[re.create(re.Class.UNIVERSAL,re.Type.OCTETSTRING,!1,re.toDer(S).getBytes())])]),w])};ww.generateKey=Yn.pbe.generatePkcs12Key});var iee=T((d1n,SRe)=>{d();var Em=Ar();Au();mm();JZ();qC();AP();ree();IP();_w();nn();bP();var nee=Em.asn1,nv=SRe.exports=Em.pki=Em.pki||{};nv.pemToDer=function(t){var e=Em.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Em.util.createBuffer(e.body)};nv.privateKeyFromPem=function(t){var e=Em.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=nee.fromDer(e.body);return nv.privateKeyFromAsn1(n)};nv.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:nee.toDer(nv.privateKeyToAsn1(t)).getBytes()};return Em.pem.encode(r,{maxline:e})};nv.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:nee.toDer(t).getBytes()};return Em.pem.encode(r,{maxline:e})}});var uee=T((A1n,FRe)=>{d();var De=Ar();Au();zx();uP();qC();iee();fl();Zx();nn();var SP=s(function(t,e,r,n){var o=De.util.createBuffer(),a=t.length>>1,c=a+(t.length&1),l=t.substr(0,c),u=t.substr(a,c),f=De.util.createBuffer(),h=De.hmac.create();r=e+r;var A=Math.ceil(n/16),p=Math.ceil(n/20);h.start("MD5",l);var m=De.util.createBuffer();f.putBytes(r);for(var g=0;g<A;++g)h.start(null,null),h.update(f.getBytes()),f.putBuffer(h.digest()),h.start(null,null),h.update(f.bytes()+r),m.putBuffer(h.digest());h.start("SHA1",u);var y=De.util.createBuffer();f.clear(),f.putBytes(r);for(var g=0;g<p;++g)h.start(null,null),h.update(f.getBytes()),f.putBuffer(h.digest()),h.start(null,null),h.update(f.bytes()+r),y.putBuffer(h.digest());return o.putBytes(De.util.xorBytes(m.getBytes(),y.getBytes(),n)),o},"prf_TLS1"),W5t=s(function(t,e,r){var n=De.hmac.create();n.start("SHA1",t);var o=De.util.createBuffer();return o.putInt32(e[0]),o.putInt32(e[1]),o.putByte(r.type),o.putByte(r.version.major),o.putByte(r.version.minor),o.putInt16(r.length),o.putBytes(r.fragment.bytes()),n.update(o.getBytes()),n.digest().getBytes()},"hmac_sha1"),Y5t=s(function(t,e,r){var n=!1;try{var o=t.deflate(e.fragment.getBytes());e.fragment=De.util.createBuffer(o),e.length=o.length,n=!0}catch{}return n},"deflate"),j5t=s(function(t,e,r){var n=!1;try{var o=t.inflate(e.fragment.getBytes());e.fragment=De.util.createBuffer(o),e.length=o.length,n=!0}catch{}return n},"inflate"),f0=s(function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32();break}return De.util.createBuffer(t.getBytes(r))},"readVector"),pl=s(function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},"writeVector"),F={};F.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};F.SupportedVersions=[F.Versions.TLS_1_1,F.Versions.TLS_1_0];F.Version=F.SupportedVersions[0];F.MaxFragment=15360;F.ConnectionEnd={server:0,client:1};F.PRFAlgorithm={tls_prf_sha256:0};F.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};F.CipherType={stream:0,block:1,aead:2};F.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};F.CompressionMethod={none:0,deflate:1};F.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};F.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};F.Alert={};F.Alert.Level={warning:1,fatal:2};F.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};F.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};F.CipherSuites={};F.getCipherSuite=function(t){var e=null;for(var r in F.CipherSuites){var n=F.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e};F.handleUnexpected=function(t,e){var r=!t.open&&t.entity===F.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.unexpected_message}})};F.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(F.queue(t,F.createAlert(t,{level:F.Alert.Level.warning,description:F.Alert.Description.no_renegotiation})),F.flush(t)),t.process()};F.parseHelloMessage=function(t,e,r){var n=null,o=t.entity===F.ConnectionEnd.client;if(r<38)t.error(t,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.illegal_parameter}});else{var a=e.fragment,c=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:De.util.createBuffer(a.getBytes(32)),session_id:f0(a,1),extensions:[]},o?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=f0(a,2),n.compression_methods=f0(a,1)),c=r-(c-a.length()),c>0){for(var l=f0(a,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:f0(l,2)});if(!o)for(var u=0;u<n.extensions.length;++u){var f=n.extensions[u];if(f.type[0]===0&&f.type[1]===0)for(var h=f0(f.data,2);h.length()>0;){var A=h.getByte();if(A!==0)break;t.session.extensions.server_name.serverNameList.push(f0(h,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.protocol_version}});if(o)t.session.cipherSuite=F.getCipherSuite(n.cipher_suite);else for(var p=De.util.createBuffer(n.cipher_suites.bytes());p.length()>0&&(t.session.cipherSuite=F.getCipherSuite(p.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.handshake_failure},cipherSuite:De.util.bytesToHex(n.cipher_suite)});o?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=F.CompressionMethod.none}return n};F.createSecurityParameters=function(t,e){var r=t.entity===F.ConnectionEnd.client,n=e.random.bytes(),o=r?t.session.sp.client_random:n,a=r?n:F.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:F.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:o,server_random:a}};F.handleServerHello=function(t,e,r){var n=F.parseHelloMessage(t,e,r);if(!t.fail){if(n.version.minor<=t.version.minor)t.version.minor=n.version.minor;else return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.protocol_version}});t.session.version=t.version;var o=n.session_id.bytes();o.length>0&&o===t.session.id?(t.expect=kRe,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=z5t,t.session.resuming=!1,F.createSecurityParameters(t,n)),t.session.id=o,t.process()}};F.handleClientHello=function(t,e,r){var n=F.parseHelloMessage(t,e,r);if(!t.fail){var o=n.session_id.bytes(),a=null;if(t.sessionCache&&(a=t.sessionCache.getSession(o),a===null?o="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,o="")),o.length===0&&(o=De.random.getBytes(32)),t.session.id=o,t.session.clientHelloVersion=n.version,t.session.sp={},a)t.version=t.session.version=a.version,t.session.sp=a.sp;else{for(var c,l=1;l<F.SupportedVersions.length&&(c=F.SupportedVersions[l],!(c.minor<=n.version.minor));++l);t.version={major:c.major,minor:c.minor},t.session.version=t.version}a!==null?(t.expect=cee,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?rTt:aee,t.session.resuming=!1,F.createSecurityParameters(t,n)),t.open=!0,F.queue(t,F.createRecord(t,{type:F.ContentType.handshake,data:F.createServerHello(t)})),t.session.resuming?(F.queue(t,F.createRecord(t,{type:F.ContentType.change_cipher_spec,data:F.createChangeCipherSpec()})),t.state.pending=F.createConnectionState(t),t.state.current.write=t.state.pending.write,F.queue(t,F.createRecord(t,{type:F.ContentType.handshake,data:F.createFinished(t)}))):(F.queue(t,F.createRecord(t,{type:F.ContentType.handshake,data:F.createCertificate(t)})),t.fail||(F.queue(t,F.createRecord(t,{type:F.ContentType.handshake,data:F.createServerKeyExchange(t)})),t.verifyClient!==!1&&F.queue(t,F.createRecord(t,{type:F.ContentType.handshake,data:F.createCertificateRequest(t)})),F.queue(t,F.createRecord(t,{type:F.ContentType.handshake,data:F.createServerHelloDone(t)})))),F.flush(t),t.process()}};F.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.illegal_parameter}});var n=e.fragment,o={certificate_list:f0(n,3)},a,c,l=[];try{for(;o.certificate_list.length()>0;)a=f0(o.certificate_list,3),c=De.asn1.fromDer(a),a=De.pki.certificateFromAsn1(c,!0),l.push(a)}catch(f){return t.error(t,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.bad_certificate}})}var u=t.entity===F.ConnectionEnd.client;(u||t.verifyClient===!0)&&l.length===0?t.error(t,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.illegal_parameter}}):l.length===0?t.expect=u?BRe:aee:(u?t.session.serverCertificate=l[0]:t.session.clientCertificate=l[0],F.verifyCertificateChain(t,l)&&(t.expect=u?BRe:aee)),t.process()};F.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.unsupported_certificate}});t.expect=K5t,t.process()};F.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.unsupported_certificate}});var n=e.fragment,o={enc_pre_master_secret:f0(n,2).getBytes()},a=null;if(t.getPrivateKey)try{a=t.getPrivateKey(t,t.session.serverCertificate),a=De.pki.privateKeyFromPem(a)}catch(u){t.error(t,{message:"Could not get private key.",cause:u,send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.internal_error}})}if(a===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.internal_error}});try{var c=t.session.sp;c.pre_master_secret=a.decrypt(o.enc_pre_master_secret);var l=t.session.clientHelloVersion;if(l.major!==c.pre_master_secret.charCodeAt(0)||l.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{c.pre_master_secret=De.random.getBytes(48)}t.expect=cee,t.session.clientCertificate!==null&&(t.expect=nTt),t.process()};F.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.illegal_parameter}});var n=e.fragment,o={certificate_types:f0(n,1),certificate_authorities:f0(n,2)};t.session.certificateRequest=o,t.expect=J5t,t.process()};F.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var o=n.bytes();n.read+=4;var a={signature:f0(n,2).getBytes()},c=De.util.createBuffer();c.putBuffer(t.session.md5.digest()),c.putBuffer(t.session.sha1.digest()),c=c.getBytes();try{var l=t.session.clientCertificate;if(!l.publicKey.verify(c,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(o),t.session.sha1.update(o)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.handshake_failure}})}t.expect=cee,t.process()};F.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.record_overflow}});if(t.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.insufficient_security}},o=0,a=t.verify(t,n.alert.description,o,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!De.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),t.error(t,n)}t.session.certificateRequest!==null&&(e=F.createRecord(t,{type:F.ContentType.handshake,data:F.createCertificate(t)}),F.queue(t,e)),e=F.createRecord(t,{type:F.ContentType.handshake,data:F.createClientKeyExchange(t)}),F.queue(t,e),t.expect=eTt;var c=s(function(l,u){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&F.queue(l,F.createRecord(l,{type:F.ContentType.handshake,data:F.createCertificateVerify(l,u)})),F.queue(l,F.createRecord(l,{type:F.ContentType.change_cipher_spec,data:F.createChangeCipherSpec()})),l.state.pending=F.createConnectionState(l),l.state.current.write=l.state.pending.write,F.queue(l,F.createRecord(l,{type:F.ContentType.handshake,data:F.createFinished(l)})),l.expect=kRe,F.flush(l),l.process()},"callback");if(t.session.certificateRequest===null||t.session.clientCertificate===null)return c(t,null);F.getClientSignature(t,c)};F.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.illegal_parameter}});var r=t.entity===F.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=F.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?X5t:iTt,t.process()};F.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var o=n.bytes();n.read+=4;var a=e.fragment.getBytes();n=De.util.createBuffer(),n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var c=t.entity===F.ConnectionEnd.client,l=c?"server finished":"client finished",u=t.session.sp,f=12,h=SP;if(n=h(u.master_secret,l,n.getBytes(),f),n.getBytes()!==a)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.decrypt_error}});t.session.md5.update(o),t.session.sha1.update(o),(t.session.resuming&&c||!t.session.resuming&&!c)&&(F.queue(t,F.createRecord(t,{type:F.ContentType.change_cipher_spec,data:F.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,F.queue(t,F.createRecord(t,{type:F.ContentType.handshake,data:F.createFinished(t)}))),t.expect=c?Z5t:oTt,t.handshaking=!1,++t.handshakes,t.peerCertificate=c?t.session.serverCertificate:t.session.clientCertificate,F.flush(t),t.isConnected=!0,t.connected(t),t.process()};F.handleAlert=function(t,e){var r=e.fragment,n={level:r.getByte(),description:r.getByte()},o;switch(n.description){case F.Alert.Description.close_notify:o="Connection closed.";break;case F.Alert.Description.unexpected_message:o="Unexpected message.";break;case F.Alert.Description.bad_record_mac:o="Bad record MAC.";break;case F.Alert.Description.decryption_failed:o="Decryption failed.";break;case F.Alert.Description.record_overflow:o="Record overflow.";break;case F.Alert.Description.decompression_failure:o="Decompression failed.";break;case F.Alert.Description.handshake_failure:o="Handshake failure.";break;case F.Alert.Description.bad_certificate:o="Bad certificate.";break;case F.Alert.Description.unsupported_certificate:o="Unsupported certificate.";break;case F.Alert.Description.certificate_revoked:o="Certificate revoked.";break;case F.Alert.Description.certificate_expired:o="Certificate expired.";break;case F.Alert.Description.certificate_unknown:o="Certificate unknown.";break;case F.Alert.Description.illegal_parameter:o="Illegal parameter.";break;case F.Alert.Description.unknown_ca:o="Unknown certificate authority.";break;case F.Alert.Description.access_denied:o="Access denied.";break;case F.Alert.Description.decode_error:o="Decode error.";break;case F.Alert.Description.decrypt_error:o="Decrypt error.";break;case F.Alert.Description.export_restriction:o="Export restriction.";break;case F.Alert.Description.protocol_version:o="Unsupported protocol version.";break;case F.Alert.Description.insufficient_security:o="Insufficient security.";break;case F.Alert.Description.internal_error:o="Internal error.";break;case F.Alert.Description.user_canceled:o="User canceled.";break;case F.Alert.Description.no_renegotiation:o="Renegotiation not supported.";break;default:o="Unknown error.";break}if(n.description===F.Alert.Description.close_notify)return t.close();t.error(t,{message:o,send:!1,origin:t.entity===F.ConnectionEnd.client?"server":"client",alert:n}),t.process()};F.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),o=r.getInt24();if(o>r.length())return t.fragmented=e,e.fragment=De.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var a=r.bytes(o+4);r.read+=4,n in wP[t.entity][t.expect]?(t.entity===F.ConnectionEnd.server&&!t.open&&!t.fail&&(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:De.md.md5.create(),sha1:De.md.sha1.create()}),n!==F.HandshakeType.hello_request&&n!==F.HandshakeType.certificate_verify&&n!==F.HandshakeType.finished&&(t.session.md5.update(a),t.session.sha1.update(a)),wP[t.entity][t.expect][n](t,e,o)):F.handleUnexpected(t,e)};F.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()};F.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),o=r.getInt16(),a=r.getBytes(o);if(n===F.HeartbeatMessageType.heartbeat_request){if(t.handshaking||o>a.length)return t.process();F.queue(t,F.createRecord(t,{type:F.ContentType.heartbeat,data:F.createHeartbeat(F.HeartbeatMessageType.heartbeat_response,a)})),F.flush(t)}else if(n===F.HeartbeatMessageType.heartbeat_response){if(a!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,De.util.createBuffer(a))}t.process()};var $5t=0,z5t=1,BRe=2,K5t=3,J5t=4,kRe=5,X5t=6,Z5t=7,eTt=8,tTt=0,rTt=1,aee=2,nTt=3,cee=4,iTt=5,oTt=6,P=F.handleUnexpected,DRe=F.handleChangeCipherSpec,xs=F.handleAlert,xa=F.handleHandshake,NRe=F.handleApplicationData,vs=F.handleHeartbeat,lee=[];lee[F.ConnectionEnd.client]=[[P,xs,xa,P,vs],[P,xs,xa,P,vs],[P,xs,xa,P,vs],[P,xs,xa,P,vs],[P,xs,xa,P,vs],[DRe,xs,P,P,vs],[P,xs,xa,P,vs],[P,xs,xa,NRe,vs],[P,xs,xa,P,vs]];lee[F.ConnectionEnd.server]=[[P,xs,xa,P,vs],[P,xs,xa,P,vs],[P,xs,xa,P,vs],[P,xs,xa,P,vs],[DRe,xs,P,P,vs],[P,xs,xa,P,vs],[P,xs,xa,NRe,vs],[P,xs,xa,P,vs]];var Im=F.handleHelloRequest,sTt=F.handleServerHello,QRe=F.handleCertificate,RRe=F.handleServerKeyExchange,oee=F.handleCertificateRequest,_P=F.handleServerHelloDone,PRe=F.handleFinished,wP=[];wP[F.ConnectionEnd.client]=[[P,P,sTt,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P],[Im,P,P,P,P,P,P,P,P,P,P,QRe,RRe,oee,_P,P,P,P,P,P,P],[Im,P,P,P,P,P,P,P,P,P,P,P,RRe,oee,_P,P,P,P,P,P,P],[Im,P,P,P,P,P,P,P,P,P,P,P,P,oee,_P,P,P,P,P,P,P],[Im,P,P,P,P,P,P,P,P,P,P,P,P,P,_P,P,P,P,P,P,P],[Im,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P],[Im,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,PRe],[Im,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P],[Im,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P]];var aTt=F.handleClientHello,cTt=F.handleClientKeyExchange,lTt=F.handleCertificateVerify;wP[F.ConnectionEnd.server]=[[P,aTt,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P],[P,P,P,P,P,P,P,P,P,P,P,QRe,P,P,P,P,P,P,P,P,P],[P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,cTt,P,P,P,P],[P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,lTt,P,P,P,P,P],[P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P],[P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,PRe],[P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P],[P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P]];F.generateKeys=function(t,e){var r=SP,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var o=2*e.mac_key_length+2*e.enc_key_length,a=t.version.major===F.Versions.TLS_1_0.major&&t.version.minor===F.Versions.TLS_1_0.minor;a&&(o+=2*e.fixed_iv_length);var c=r(e.master_secret,"key expansion",n,o),l={client_write_MAC_key:c.getBytes(e.mac_key_length),server_write_MAC_key:c.getBytes(e.mac_key_length),client_write_key:c.getBytes(e.enc_key_length),server_write_key:c.getBytes(e.enc_key_length)};return a&&(l.client_write_IV=c.getBytes(e.fixed_iv_length),l.server_write_IV=c.getBytes(e.fixed_iv_length)),l};F.createConnectionState=function(t){var e=t.entity===F.ConnectionEnd.client,r=s(function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:s(function(c){return!0},"cipherFunction"),compressionState:null,compressFunction:s(function(c){return!0},"compressFunction"),updateSequenceNumber:s(function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]},"updateSequenceNumber")};return a},"createMode"),n={read:r(),write:r()};if(n.read.update=function(a,c){return n.read.cipherFunction(c,n.read)?n.read.compressFunction(a,c,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,c){return n.write.compressFunction(a,c,n.write)?n.write.cipherFunction(c,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.internal_error}}),!a.fail},t.session){var o=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(o),o.keys=F.generateKeys(t,o),n.read.macKey=e?o.keys.server_write_MAC_key:o.keys.client_write_MAC_key,n.write.macKey=e?o.keys.client_write_MAC_key:o.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,o),o.compression_algorithm){case F.CompressionMethod.none:break;case F.CompressionMethod.deflate:n.read.compressFunction=j5t,n.write.compressFunction=Y5t;break;default:throw new Error("Unsupported compression algorithm.")}}return n};F.createRandom=function(){var t=new Date,e=+t+t.getTimezoneOffset()*6e4,r=De.util.createBuffer();return r.putInt32(e),r.putBytes(De.random.getBytes(28)),r};F.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r};F.createAlert=function(t,e){var r=De.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),F.createRecord(t,{type:F.ContentType.alert,data:r})};F.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=De.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var o=e.length(),a=De.util.createBuffer();a.putByte(F.CompressionMethod.none);var c=a.length(),l=De.util.createBuffer();if(t.virtualHost){var u=De.util.createBuffer();u.putByte(0),u.putByte(0);var f=De.util.createBuffer();f.putByte(0),pl(f,2,De.util.createBuffer(t.virtualHost));var h=De.util.createBuffer();pl(h,2,f),pl(u,2,h),l.putBuffer(u)}var A=l.length();A>0&&(A+=2);var p=t.session.id,m=p.length+1+2+4+28+2+o+1+c+A,g=De.util.createBuffer();return g.putByte(F.HandshakeType.client_hello),g.putInt24(m),g.putByte(t.version.major),g.putByte(t.version.minor),g.putBytes(t.session.sp.client_random),pl(g,1,De.util.createBuffer(p)),pl(g,2,e),pl(g,1,a),A>0&&pl(g,2,l),g};F.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=De.util.createBuffer();return n.putByte(F.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),pl(n,1,De.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n};F.createCertificate=function(t){var e=t.entity===F.ConnectionEnd.client,r=null;if(t.getCertificate){var n;e?n=t.session.certificateRequest:n=t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var o=De.util.createBuffer();if(r!==null)try{De.util.isArray(r)||(r=[r]);for(var a=null,c=0;c<r.length;++c){var l=De.pem.decode(r[c])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=l.type,u}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=De.util.createBuffer(l.body);a===null&&(a=De.asn1.fromDer(f.bytes(),!1));var h=De.util.createBuffer();pl(h,3,f),o.putBuffer(h)}r=De.pki.certificateFromAsn1(a),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(m){return t.error(t,{message:"Could not send certificate list.",cause:m,send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.bad_certificate}})}var A=3+o.length(),p=De.util.createBuffer();return p.putByte(F.HandshakeType.certificate),p.putInt24(A),pl(p,3,o),p};F.createClientKeyExchange=function(t){var e=De.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(De.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var o=e.length+2,a=De.util.createBuffer();return a.putByte(F.HandshakeType.client_key_exchange),a.putInt24(o),a.putInt16(e.length),a.putBytes(e),a};F.createServerKeyExchange=function(t){var e=0,r=De.util.createBuffer();return e>0&&(r.putByte(F.HandshakeType.server_key_exchange),r.putInt24(e)),r};F.getClientSignature=function(t,e){var r=De.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(n,o,a){var c=null;if(n.getPrivateKey)try{c=n.getPrivateKey(n,n.session.clientCertificate),c=De.pki.privateKeyFromPem(c)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.internal_error}})}c===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.internal_error}}):o=c.sign(o,null),a(n,o)},t.getSignature(t,r,e)};F.createCertificateVerify=function(t,e){var r=e.length+2,n=De.util.createBuffer();return n.putByte(F.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n};F.createCertificateRequest=function(t){var e=De.util.createBuffer();e.putByte(1);var r=De.util.createBuffer();for(var n in t.caStore.certs){var o=t.caStore.certs[n],a=De.pki.distinguishedNameToAsn1(o.subject),c=De.asn1.toDer(a);r.putInt16(c.length()),r.putBuffer(c)}var l=1+e.length()+2+r.length(),u=De.util.createBuffer();return u.putByte(F.HandshakeType.certificate_request),u.putInt24(l),pl(u,1,e),pl(u,2,r),u};F.createServerHelloDone=function(t){var e=De.util.createBuffer();return e.putByte(F.HandshakeType.server_hello_done),e.putInt24(0),e};F.createChangeCipherSpec=function(){var t=De.util.createBuffer();return t.putByte(1),t};F.createFinished=function(t){var e=De.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===F.ConnectionEnd.client,n=t.session.sp,o=12,a=SP,c=r?"client finished":"server finished";e=a(n.master_secret,c,e.getBytes(),o);var l=De.util.createBuffer();return l.putByte(F.HandshakeType.finished),l.putInt24(e.length()),l.putBuffer(e),l};F.createHeartbeat=function(t,e,r){typeof r>"u"&&(r=e.length);var n=De.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var o=n.length(),a=Math.max(16,o-r-3);return n.putBytes(De.random.getBytes(a)),n};F.queue=function(t,e){if(e&&!(e.fragment.length()===0&&(e.type===F.ContentType.handshake||e.type===F.ContentType.alert||e.type===F.ContentType.change_cipher_spec))){if(e.type===F.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=F.MaxFragment)n=[e];else{n=[];for(var o=e.fragment.bytes();o.length>F.MaxFragment;)n.push(F.createRecord(t,{type:e.type,data:De.util.createBuffer(o.slice(0,F.MaxFragment))})),o=o.slice(F.MaxFragment);o.length>0&&n.push(F.createRecord(t,{type:e.type,data:De.util.createBuffer(o)}))}for(var a=0;a<n.length&&!t.fail;++a){var c=n[a],l=t.state.current.write;l.update(t,c)&&t.records.push(c)}}};F.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var see=s(function(t){switch(t){case!0:return!0;case De.pki.certificateError.bad_certificate:return F.Alert.Description.bad_certificate;case De.pki.certificateError.unsupported_certificate:return F.Alert.Description.unsupported_certificate;case De.pki.certificateError.certificate_revoked:return F.Alert.Description.certificate_revoked;case De.pki.certificateError.certificate_expired:return F.Alert.Description.certificate_expired;case De.pki.certificateError.certificate_unknown:return F.Alert.Description.certificate_unknown;case De.pki.certificateError.unknown_ca:return F.Alert.Description.unknown_ca;default:return F.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),uTt=s(function(t){switch(t){case!0:return!0;case F.Alert.Description.bad_certificate:return De.pki.certificateError.bad_certificate;case F.Alert.Description.unsupported_certificate:return De.pki.certificateError.unsupported_certificate;case F.Alert.Description.certificate_revoked:return De.pki.certificateError.certificate_revoked;case F.Alert.Description.certificate_expired:return De.pki.certificateError.certificate_expired;case F.Alert.Description.certificate_unknown:return De.pki.certificateError.certificate_unknown;case F.Alert.Description.unknown_ca:return De.pki.certificateError.unknown_ca;default:return De.pki.certificateError.bad_certificate}},"_alertDescToCertError");F.verifyCertificateChain=function(t,e){try{var r={};for(var n in t.verifyOptions)r[n]=t.verifyOptions[n];r.verify=function(a,c,l){var u=see(a),f=t.verify(t,a,c,l);if(f!==!0){if(typeof f=="object"&&!De.util.isArray(f)){var h=new Error("The application rejected the certificate.");throw h.send=!0,h.alert={level:F.Alert.Level.fatal,description:F.Alert.Description.bad_certificate},f.message&&(h.message=f.message),f.alert&&(h.alert.description=f.alert),h}f!==a&&(f=uTt(f))}return f},De.pki.verifyCertificateChain(t.caStore,e,r)}catch(a){var o=a;(typeof o!="object"||De.util.isArray(o))&&(o={send:!0,alert:{level:F.Alert.Level.fatal,description:see(a)}}),"send"in o||(o.send=!0),"alert"in o||(o.alert={level:F.Alert.Level.fatal,description:see(o.error)}),t.error(t,o)}return!t.fail};F.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(o){var a=null,c=null;if(o?c=De.util.bytesToHex(o):r.order.length>0&&(c=r.order[0]),c!==null&&c in r.cache){a=r.cache[c],delete r.cache[c];for(var l in r.order)if(r.order[l]===c){r.order.splice(l,1);break}}return a},r.setSession=function(o,a){if(r.order.length===r.capacity){var c=r.order.shift();delete r.cache[c]}var c=De.util.bytesToHex(o);r.order.push(c),r.cache[c]=a}}return r};F.createConnection=function(t){var e=null;t.caStore?De.util.isArray(t.caStore)?e=De.pki.createCaStore(t.caStore):e=t.caStore:e=De.pki.createCaStore();var r=t.cipherSuites||null;if(r===null){r=[];for(var n in F.CipherSuites)r.push(F.CipherSuites[n])}var o=t.server?F.ConnectionEnd.server:F.ConnectionEnd.client,a=t.sessionCache?F.createSessionCache(t.sessionCache):null,c={version:{major:F.Version.major,minor:F.Version.minor},entity:o,sessionId:t.sessionId,caStore:e,sessionCache:a,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(h,A,p,m){return A},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:De.util.createBuffer(),tlsData:De.util.createBuffer(),data:De.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:s(function(h,A){A.origin=A.origin||(h.entity===F.ConnectionEnd.client?"client":"server"),A.send&&(F.queue(h,F.createAlert(h,A.alert)),F.flush(h));var p=A.fatal!==!1;p&&(h.fail=!0),t.error(h,A),p&&h.close(!1)},"error"),deflate:t.deflate||null,inflate:t.inflate||null};c.reset=function(h){c.version={major:F.Version.major,minor:F.Version.minor},c.record=null,c.session=null,c.peerCertificate=null,c.state={pending:null,current:null},c.expect=c.entity===F.ConnectionEnd.client?$5t:tTt,c.fragmented=null,c.records=[],c.open=!1,c.handshakes=0,c.handshaking=!1,c.isConnected=!1,c.fail=!(h||typeof h>"u"),c.input.clear(),c.tlsData.clear(),c.data.clear(),c.state.current=F.createConnectionState(c)},c.reset();var l=s(function(h,A){var p=A.type-F.ContentType.change_cipher_spec,m=lee[h.entity][h.expect];p in m?m[p](h,A):F.handleUnexpected(h,A)},"_update"),u=s(function(h){var A=0,p=h.input,m=p.length();if(m<5)A=5-m;else{h.record={type:p.getByte(),version:{major:p.getByte(),minor:p.getByte()},length:p.getInt16(),fragment:De.util.createBuffer(),ready:!1};var g=h.record.version.major===h.version.major;g&&h.session&&h.session.version&&(g=h.record.version.minor===h.version.minor),g||h.error(h,{message:"Incompatible TLS version.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.protocol_version}})}return A},"_readRecordHeader"),f=s(function(h){var A=0,p=h.input,m=p.length();if(m<h.record.length)A=h.record.length-m;else{h.record.fragment.putBytes(p.getBytes(h.record.length)),p.compact();var g=h.state.current.read;g.update(h,h.record)&&(h.fragmented!==null&&(h.fragmented.type===h.record.type?(h.fragmented.fragment.putBuffer(h.record.fragment),h.record=h.fragmented):h.error(h,{message:"Invalid fragmented record.",send:!0,alert:{level:F.Alert.Level.fatal,description:F.Alert.Description.unexpected_message}})),h.record.ready=!0)}return A},"_readRecord");return c.handshake=function(h){if(c.entity!==F.ConnectionEnd.client)c.error(c,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(c.handshaking)c.error(c,{message:"Handshake already in progress.",fatal:!1});else{c.fail&&!c.open&&c.handshakes===0&&(c.fail=!1),c.handshaking=!0,h=h||"";var A=null;h.length>0&&(c.sessionCache&&(A=c.sessionCache.getSession(h)),A===null&&(h="")),h.length===0&&c.sessionCache&&(A=c.sessionCache.getSession(),A!==null&&(h=A.id)),c.session={id:h,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:De.md.md5.create(),sha1:De.md.sha1.create()},A&&(c.version=A.version,c.session.sp=A.sp),c.session.sp.client_random=F.createRandom().getBytes(),c.open=!0,F.queue(c,F.createRecord(c,{type:F.ContentType.handshake,data:F.createClientHello(c)})),F.flush(c)}},c.process=function(h){var A=0;return h&&c.input.putBytes(h),c.fail||(c.record!==null&&c.record.ready&&c.record.fragment.isEmpty()&&(c.record=null),c.record===null&&(A=u(c)),!c.fail&&c.record!==null&&!c.record.ready&&(A=f(c)),!c.fail&&c.record!==null&&c.record.ready&&l(c,c.record)),A},c.prepare=function(h){return F.queue(c,F.createRecord(c,{type:F.ContentType.application_data,data:De.util.createBuffer(h)})),F.flush(c)},c.prepareHeartbeatRequest=function(h,A){return h instanceof De.util.ByteBuffer&&(h=h.bytes()),typeof A>"u"&&(A=h.length),c.expectedHeartbeatPayload=h,F.queue(c,F.createRecord(c,{type:F.ContentType.heartbeat,data:F.createHeartbeat(F.HeartbeatMessageType.heartbeat_request,h,A)})),F.flush(c)},c.close=function(h){if(!c.fail&&c.sessionCache&&c.session){var A={id:c.session.id,version:c.session.version,sp:c.session.sp};A.sp.keys=null,c.sessionCache.setSession(A.id,A)}c.open&&(c.open=!1,c.input.clear(),(c.isConnected||c.handshaking)&&(c.isConnected=c.handshaking=!1,F.queue(c,F.createAlert(c,{level:F.Alert.Level.warning,description:F.Alert.Description.close_notify})),F.flush(c)),c.closed(c)),c.reset(h)},c};FRe.exports=De.tls=De.tls||{};for(TP in F)typeof F[TP]!="function"&&(De.tls[TP]=F[TP]);var TP;De.tls.prf_tls1=SP;De.tls.hmac_sha1=W5t;De.tls.createSessionCache=F.createSessionCache;De.tls.createConnection=F.createConnection});var ORe=T((g1n,MRe)=>{d();var xm=Ar();pm();uee();var ml=MRe.exports=xm.tls;ml.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:s(function(t){t.bulk_cipher_algorithm=ml.BulkCipherAlgorithm.aes,t.cipher_type=ml.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=ml.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:LRe};ml.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:s(function(t){t.bulk_cipher_algorithm=ml.BulkCipherAlgorithm.aes,t.cipher_type=ml.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=ml.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:LRe};function LRe(t,e,r){var n=e.entity===xm.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:xm.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:xm.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=ATt,t.write.cipherFunction=fTt,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=ml.hmac_sha1}s(LRe,"initConnectionState");function fTt(t,e){var r=!1,n=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(n),e.updateSequenceNumber();var o;t.version.minor===ml.Versions.TLS_1_0.minor?o=e.cipherState.init?null:e.cipherState.iv:o=xm.random.getBytesSync(16),e.cipherState.init=!0;var a=e.cipherState.cipher;return a.start({iv:o}),t.version.minor>=ml.Versions.TLS_1_1.minor&&a.output.putBytes(o),a.update(t.fragment),a.finish(dTt)&&(t.fragment=a.output,t.length=t.fragment.length(),r=!0),r}s(fTt,"encrypt_aes_cbc_sha1");function dTt(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}s(dTt,"encrypt_aes_cbc_sha1_padding");function hTt(t,e,r){var n=!0;if(r){for(var o=e.length(),a=e.last(),c=o-1-a;c<o-1;++c)n=n&&e.at(c)==a;n&&e.truncate(a+1)}return n}s(hTt,"decrypt_aes_cbc_sha1_padding");function ATt(t,e){var r=!1,n;t.version.minor===ml.Versions.TLS_1_0.minor?n=e.cipherState.init?null:e.cipherState.iv:n=t.fragment.getBytes(16),e.cipherState.init=!0;var o=e.cipherState.cipher;o.start({iv:n}),o.update(t.fragment),r=o.finish(hTt);var a=e.macLength,c=xm.random.getBytesSync(a),l=o.output.length();l>=a?(t.fragment=o.output.getBytes(l-a),c=o.output.getBytes(a)):t.fragment=o.output.getBytes(),t.fragment=xm.util.createBuffer(t.fragment),t.length=t.fragment.length();var u=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=pTt(e.macKey,c,u)&&r,r}s(ATt,"decrypt_aes_cbc_sha1");function pTt(t,e,r){var n=xm.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}s(pTt,"compareMacs")});var hee=T((E1n,GRe)=>{d();var ai=Ar();Gf();nn();var Sw=GRe.exports=ai.sha512=ai.sha512||{};ai.md.sha512=ai.md.algorithms.sha512=Sw;var qRe=ai.sha384=ai.sha512.sha384=ai.sha512.sha384||{};qRe.create=function(){return Sw.create("SHA-384")};ai.md.sha384=ai.md.algorithms.sha384=qRe;ai.sha512.sha256=ai.sha512.sha256||{create:s(function(){return Sw.create("SHA-512/256")},"create")};ai.md["sha512/256"]=ai.md.algorithms["sha512/256"]=ai.sha512.sha256;ai.sha512.sha224=ai.sha512.sha224||{create:s(function(){return Sw.create("SHA-512/224")},"create")};ai.md["sha512/224"]=ai.md.algorithms["sha512/224"]=ai.sha512.sha224;Sw.create=function(t){if(HRe||mTt(),typeof t>"u"&&(t="SHA-512"),!(t in jC))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=jC[t],r=null,n=ai.util.createBuffer(),o=new Array(80),a=0;a<80;++a)o[a]=new Array(2);var c=64;switch(t){case"SHA-384":c=48;break;case"SHA-512/256":c=32;break;case"SHA-512/224":c=28;break}var l={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:c,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var u=l.messageLengthSize/4,f=0;f<u;++f)l.fullMessageLength.push(0);n=ai.util.createBuffer(),r=new Array(e.length);for(var f=0;f<e.length;++f)r[f]=e[f].slice(0);return l},l.start(),l.update=function(u,f){f==="utf8"&&(u=ai.util.encodeUtf8(u));var h=u.length;l.messageLength+=h,h=[h/4294967296>>>0,h>>>0];for(var A=l.fullMessageLength.length-1;A>=0;--A)l.fullMessageLength[A]+=h[1],h[1]=h[0]+(l.fullMessageLength[A]/4294967296>>>0),l.fullMessageLength[A]=l.fullMessageLength[A]>>>0,h[0]=h[1]/4294967296>>>0;return n.putBytes(u),URe(r,o,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var u=ai.util.createBuffer();u.putBytes(n.bytes());var f=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,h=f&l.blockLength-1;u.putBytes(fee.substr(0,l.blockLength-h));for(var A,p,m=l.fullMessageLength[0]*8,g=0;g<l.fullMessageLength.length-1;++g)A=l.fullMessageLength[g+1]*8,p=A/4294967296>>>0,m+=p,u.putInt32(m>>>0),m=A>>>0;u.putInt32(m);for(var y=new Array(r.length),g=0;g<r.length;++g)y[g]=r[g].slice(0);URe(y,o,u);var E=ai.util.createBuffer(),I;t==="SHA-512"?I=y.length:t==="SHA-384"?I=y.length-2:I=y.length-4;for(var g=0;g<I;++g)E.putInt32(y[g][0]),(g!==I-1||t!=="SHA-512/224")&&E.putInt32(y[g][1]);return E},l};var fee=null,HRe=!1,dee=null,jC=null;function mTt(){fee="\x80",fee+=ai.util.fillString("\0",128),dee=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],jC={},jC["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],jC["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],jC["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],jC["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],HRe=!0}s(mTt,"_init");function URe(t,e,r){for(var n,o,a,c,l,u,f,h,A,p,m,g,y,E,I,x,v,b,_,S,w,L,M,Y,D,O,W,R,Q,q,U,V,z,$,j,Z=r.length();Z>=128;){for(Q=0;Q<16;++Q)e[Q][0]=r.getInt32()>>>0,e[Q][1]=r.getInt32()>>>0;for(;Q<80;++Q)V=e[Q-2],q=V[0],U=V[1],n=((q>>>19|U<<13)^(U>>>29|q<<3)^q>>>6)>>>0,o=((q<<13|U>>>19)^(U<<3|q>>>29)^(q<<26|U>>>6))>>>0,$=e[Q-15],q=$[0],U=$[1],a=((q>>>1|U<<31)^(q>>>8|U<<24)^q>>>7)>>>0,c=((q<<31|U>>>1)^(q<<24|U>>>8)^(q<<25|U>>>7))>>>0,z=e[Q-7],j=e[Q-16],U=o+z[1]+c+j[1],e[Q][0]=n+z[0]+a+j[0]+(U/4294967296>>>0)>>>0,e[Q][1]=U>>>0;for(y=t[0][0],E=t[0][1],I=t[1][0],x=t[1][1],v=t[2][0],b=t[2][1],_=t[3][0],S=t[3][1],w=t[4][0],L=t[4][1],M=t[5][0],Y=t[5][1],D=t[6][0],O=t[6][1],W=t[7][0],R=t[7][1],Q=0;Q<80;++Q)f=((w>>>14|L<<18)^(w>>>18|L<<14)^(L>>>9|w<<23))>>>0,h=((w<<18|L>>>14)^(w<<14|L>>>18)^(L<<23|w>>>9))>>>0,A=(D^w&(M^D))>>>0,p=(O^L&(Y^O))>>>0,l=((y>>>28|E<<4)^(E>>>2|y<<30)^(E>>>7|y<<25))>>>0,u=((y<<4|E>>>28)^(E<<30|y>>>2)^(E<<25|y>>>7))>>>0,m=(y&I|v&(y^I))>>>0,g=(E&x|b&(E^x))>>>0,U=R+h+p+dee[Q][1]+e[Q][1],n=W+f+A+dee[Q][0]+e[Q][0]+(U/4294967296>>>0)>>>0,o=U>>>0,U=u+g,a=l+m+(U/4294967296>>>0)>>>0,c=U>>>0,W=D,R=O,D=M,O=Y,M=w,Y=L,U=S+o,w=_+n+(U/4294967296>>>0)>>>0,L=U>>>0,_=v,S=b,v=I,b=x,I=y,x=E,U=o+c,y=n+a+(U/4294967296>>>0)>>>0,E=U>>>0;U=t[0][1]+E,t[0][0]=t[0][0]+y+(U/4294967296>>>0)>>>0,t[0][1]=U>>>0,U=t[1][1]+x,t[1][0]=t[1][0]+I+(U/4294967296>>>0)>>>0,t[1][1]=U>>>0,U=t[2][1]+b,t[2][0]=t[2][0]+v+(U/4294967296>>>0)>>>0,t[2][1]=U>>>0,U=t[3][1]+S,t[3][0]=t[3][0]+_+(U/4294967296>>>0)>>>0,t[3][1]=U>>>0,U=t[4][1]+L,t[4][0]=t[4][0]+w+(U/4294967296>>>0)>>>0,t[4][1]=U>>>0,U=t[5][1]+Y,t[5][0]=t[5][0]+M+(U/4294967296>>>0)>>>0,t[5][1]=U>>>0,U=t[6][1]+O,t[6][0]=t[6][0]+D+(U/4294967296>>>0)>>>0,t[6][1]=U>>>0,U=t[7][1]+R,t[7][0]=t[7][0]+W+(U/4294967296>>>0)>>>0,t[7][1]=U>>>0,Z-=128}}s(URe,"_update")});var VRe=T(Aee=>{d();var gTt=Ar();Au();var Xo=gTt.asn1;Aee.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Xo.Class.UNIVERSAL,type:Xo.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Xo.Class.UNIVERSAL,type:Xo.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Xo.Class.UNIVERSAL,type:Xo.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Xo.Class.UNIVERSAL,type:Xo.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Xo.Class.UNIVERSAL,type:Xo.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Aee.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Xo.Class.UNIVERSAL,type:Xo.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Xo.Class.UNIVERSAL,type:Xo.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Xo.Class.UNIVERSAL,type:Xo.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Xo.Class.UNIVERSAL,type:Xo.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var n6e=T((_1n,r6e)=>{d();var bs=Ar();bw();fl();hee();nn();var KRe=VRe(),CTt=KRe.publicKeyValidator,yTt=KRe.privateKeyValidator;typeof WRe>"u"&&(WRe=bs.jsbn.BigInteger);var WRe,gee=bs.util.ByteBuffer,dc=typeof Buffer>"u"?Uint8Array:Buffer;bs.pki=bs.pki||{};r6e.exports=bs.pki.ed25519=bs.ed25519=bs.ed25519||{};var Sr=bs.ed25519;Sr.constants={};Sr.constants.PUBLIC_KEY_BYTE_LENGTH=32;Sr.constants.PRIVATE_KEY_BYTE_LENGTH=64;Sr.constants.SEED_BYTE_LENGTH=32;Sr.constants.SIGN_BYTE_LENGTH=64;Sr.constants.HASH_BYTE_LENGTH=64;Sr.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=bs.random.getBytesSync(Sr.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==Sr.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Sr.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=Lh({message:e,encoding:"binary"});for(var r=new dc(Sr.constants.PUBLIC_KEY_BYTE_LENGTH),n=new dc(Sr.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)n[o]=e[o];return vTt(r,n),{publicKey:r,privateKey:n}};Sr.privateKeyFromAsn1=function(t){var e={},r=[],n=bs.asn1.validate(t,yTt,e,r);if(!n){var o=new Error("Invalid Key.");throw o.errors=r,o}var a=bs.asn1.derToOid(e.privateKeyOid),c=bs.oids.EdDSA25519;if(a!==c)throw new Error('Invalid OID "'+a+'"; OID must be "'+c+'".');var l=e.privateKey,u=Lh({message:bs.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:u}};Sr.publicKeyFromAsn1=function(t){var e={},r=[],n=bs.asn1.validate(t,CTt,e,r);if(!n){var o=new Error("Invalid Key.");throw o.errors=r,o}var a=bs.asn1.derToOid(e.publicKeyOid),c=bs.oids.EdDSA25519;if(a!==c)throw new Error('Invalid OID "'+a+'"; OID must be "'+c+'".');var l=e.ed25519PublicKey;if(l.length!==Sr.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Lh({message:l,encoding:"binary"})};Sr.publicKeyFromPrivateKey=function(t){t=t||{};var e=Lh({message:t.privateKey,encoding:"binary"});if(e.length!==Sr.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Sr.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new dc(Sr.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};Sr.sign=function(t){t=t||{};var e=Lh(t),r=Lh({message:t.privateKey,encoding:"binary"});if(r.length===Sr.constants.SEED_BYTE_LENGTH){var n=Sr.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==Sr.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Sr.constants.SEED_BYTE_LENGTH+" or "+Sr.constants.PRIVATE_KEY_BYTE_LENGTH);var o=new dc(Sr.constants.SIGN_BYTE_LENGTH+e.length);bTt(o,e,e.length,r);for(var a=new dc(Sr.constants.SIGN_BYTE_LENGTH),c=0;c<a.length;++c)a[c]=o[c];return a};Sr.verify=function(t){t=t||{};var e=Lh(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Lh({message:t.signature,encoding:"binary"});if(r.length!==Sr.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Sr.constants.SIGN_BYTE_LENGTH);var n=Lh({message:t.publicKey,encoding:"binary"});if(n.length!==Sr.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Sr.constants.PUBLIC_KEY_BYTE_LENGTH);var o=new dc(Sr.constants.SIGN_BYTE_LENGTH+e.length),a=new dc(Sr.constants.SIGN_BYTE_LENGTH+e.length),c;for(c=0;c<Sr.constants.SIGN_BYTE_LENGTH;++c)o[c]=r[c];for(c=0;c<e.length;++c)o[c+Sr.constants.SIGN_BYTE_LENGTH]=e[c];return _Tt(a,o,o.length,n)>=0};function Lh(t){var e=t.message;if(e instanceof Uint8Array||e instanceof dc)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new gee(e,r)}else if(!(e instanceof gee))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new dc(e.length()),o=0;o<n.length;++o)n[o]=e.at(o);return n}s(Lh,"messageToNativeBuffer");var Cee=Dt(),BP=Dt([1]),ETt=Dt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ITt=Dt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),YRe=Dt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),jRe=Dt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),pee=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),xTt=Dt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Bw(t,e){var r=bs.md.sha512.create(),n=new gee(t);r.update(n.getBytes(e),"binary");var o=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(o,"binary");for(var a=new dc(Sr.constants.HASH_BYTE_LENGTH),c=0;c<64;++c)a[c]=o.charCodeAt(c);return a}s(Bw,"sha512");function vTt(t,e){var r=[Dt(),Dt(),Dt(),Dt()],n,o=Bw(e,32);for(o[0]&=248,o[31]&=127,o[31]|=64,xee(r,o),Iee(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}s(vTt,"crypto_sign_keypair");function bTt(t,e,r,n){var o,a,c=new Float64Array(64),l=[Dt(),Dt(),Dt(),Dt()],u=Bw(n,32);u[0]&=248,u[31]&=127,u[31]|=64;var f=r+64;for(o=0;o<r;++o)t[64+o]=e[o];for(o=0;o<32;++o)t[32+o]=u[32+o];var h=Bw(t.subarray(32),r+32);for(yee(h),xee(l,h),Iee(t,l),o=32;o<64;++o)t[o]=n[o];var A=Bw(t,r+64);for(yee(A),o=32;o<64;++o)c[o]=0;for(o=0;o<32;++o)c[o]=h[o];for(o=0;o<32;++o)for(a=0;a<32;a++)c[o+a]+=A[o]*u[a];return JRe(t.subarray(32),c),f}s(bTt,"crypto_sign");function _Tt(t,e,r,n){var o,a,c=new dc(32),l=[Dt(),Dt(),Dt(),Dt()],u=[Dt(),Dt(),Dt(),Dt()];if(a=-1,r<64||TTt(u,n))return-1;for(o=0;o<r;++o)t[o]=e[o];for(o=0;o<32;++o)t[o+32]=n[o];var f=Bw(t,r);if(yee(f),e6e(l,u,f),xee(u,e.subarray(32)),Eee(l,u),Iee(c,l),r-=64,XRe(e,0,c,0)){for(o=0;o<r;++o)t[o]=0;return-1}for(o=0;o<r;++o)t[o]=e[o+64];return a=r,a}s(_Tt,"crypto_sign_open");function JRe(t,e){var r,n,o,a;for(n=63;n>=32;--n){for(r=0,o=n-32,a=n-12;o<a;++o)e[o]+=r-16*e[n]*pee[o-(n-32)],r=e[o]+128>>8,e[o]-=r*256;e[o]+=r,e[n]=0}for(r=0,o=0;o<32;++o)e[o]+=r-(e[31]>>4)*pee[o],r=e[o]>>8,e[o]&=255;for(o=0;o<32;++o)e[o]-=r*pee[o];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}s(JRe,"modL");function yee(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;JRe(t,e)}s(yee,"reduce");function Eee(t,e){var r=Dt(),n=Dt(),o=Dt(),a=Dt(),c=Dt(),l=Dt(),u=Dt(),f=Dt(),h=Dt();ov(r,t[1],t[0]),ov(h,e[1],e[0]),Nn(r,r,h),iv(n,t[0],t[1]),iv(h,e[0],e[1]),Nn(n,n,h),Nn(o,t[3],e[3]),Nn(o,o,ITt),Nn(a,t[2],e[2]),iv(a,a,a),ov(c,n,r),ov(l,a,o),iv(u,a,o),iv(f,n,r),Nn(t[0],c,l),Nn(t[1],f,u),Nn(t[2],u,l),Nn(t[3],c,f)}s(Eee,"add");function $Re(t,e,r){for(var n=0;n<4;++n)t6e(t[n],e[n],r)}s($Re,"cswap");function Iee(t,e){var r=Dt(),n=Dt(),o=Dt();RTt(o,e[2]),Nn(r,e[0],o),Nn(n,e[1],o),RP(t,n),t[31]^=ZRe(r)<<7}s(Iee,"pack");function RP(t,e){var r,n,o,a=Dt(),c=Dt();for(r=0;r<16;++r)c[r]=e[r];for(mee(c),mee(c),mee(c),n=0;n<2;++n){for(a[0]=c[0]-65517,r=1;r<15;++r)a[r]=c[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=c[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,t6e(c,a,1-o)}for(r=0;r<16;r++)t[2*r]=c[r]&255,t[2*r+1]=c[r]>>8}s(RP,"pack25519");function TTt(t,e){var r=Dt(),n=Dt(),o=Dt(),a=Dt(),c=Dt(),l=Dt(),u=Dt();return vm(t[2],BP),wTt(t[1],e),$C(o,t[1]),Nn(a,o,ETt),ov(o,o,t[2]),iv(a,t[2],a),$C(c,a),$C(l,c),Nn(u,l,c),Nn(r,u,o),Nn(r,r,a),STt(r,r),Nn(r,r,o),Nn(r,r,a),Nn(r,r,a),Nn(t[0],r,a),$C(n,t[0]),Nn(n,n,a),zRe(n,o)&&Nn(t[0],t[0],xTt),$C(n,t[0]),Nn(n,n,a),zRe(n,o)?-1:(ZRe(t[0])===e[31]>>7&&ov(t[0],Cee,t[0]),Nn(t[3],t[0],t[1]),0)}s(TTt,"unpackneg");function wTt(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}s(wTt,"unpack25519");function STt(t,e){var r=Dt(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)$C(r,r),n!==1&&Nn(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}s(STt,"pow2523");function zRe(t,e){var r=new dc(32),n=new dc(32);return RP(r,t),RP(n,e),XRe(r,0,n,0)}s(zRe,"neq25519");function XRe(t,e,r,n){return BTt(t,e,r,n,32)}s(XRe,"crypto_verify_32");function BTt(t,e,r,n,o){var a,c=0;for(a=0;a<o;++a)c|=t[e+a]^r[n+a];return(1&c-1>>>8)-1}s(BTt,"vn");function ZRe(t){var e=new dc(32);return RP(e,t),e[0]&1}s(ZRe,"par25519");function e6e(t,e,r){var n,o;for(vm(t[0],Cee),vm(t[1],BP),vm(t[2],BP),vm(t[3],Cee),o=255;o>=0;--o)n=r[o/8|0]>>(o&7)&1,$Re(t,e,n),Eee(e,t),Eee(t,t),$Re(t,e,n)}s(e6e,"scalarmult");function xee(t,e){var r=[Dt(),Dt(),Dt(),Dt()];vm(r[0],YRe),vm(r[1],jRe),vm(r[2],BP),Nn(r[3],YRe,jRe),e6e(t,r,e)}s(xee,"scalarbase");function vm(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}s(vm,"set25519");function RTt(t,e){var r=Dt(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)$C(r,r),n!==2&&n!==4&&Nn(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}s(RTt,"inv25519");function mee(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}s(mee,"car25519");function t6e(t,e,r){for(var n,o=~(r-1),a=0;a<16;++a)n=o&(t[a]^e[a]),t[a]^=n,e[a]^=n}s(t6e,"sel25519");function Dt(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}s(Dt,"gf");function iv(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}s(iv,"A");function ov(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}s(ov,"Z");function $C(t,e){Nn(t,e,e)}s($C,"S");function Nn(t,e,r){var n,o,a=0,c=0,l=0,u=0,f=0,h=0,A=0,p=0,m=0,g=0,y=0,E=0,I=0,x=0,v=0,b=0,_=0,S=0,w=0,L=0,M=0,Y=0,D=0,O=0,W=0,R=0,Q=0,q=0,U=0,V=0,z=0,$=r[0],j=r[1],Z=r[2],le=r[3],Se=r[4],et=r[5],qe=r[6],Tt=r[7],ur=r[8],nr=r[9],Er=r[10],J=r[11],xe=r[12],te=r[13],Le=r[14],we=r[15];n=e[0],a+=n*$,c+=n*j,l+=n*Z,u+=n*le,f+=n*Se,h+=n*et,A+=n*qe,p+=n*Tt,m+=n*ur,g+=n*nr,y+=n*Er,E+=n*J,I+=n*xe,x+=n*te,v+=n*Le,b+=n*we,n=e[1],c+=n*$,l+=n*j,u+=n*Z,f+=n*le,h+=n*Se,A+=n*et,p+=n*qe,m+=n*Tt,g+=n*ur,y+=n*nr,E+=n*Er,I+=n*J,x+=n*xe,v+=n*te,b+=n*Le,_+=n*we,n=e[2],l+=n*$,u+=n*j,f+=n*Z,h+=n*le,A+=n*Se,p+=n*et,m+=n*qe,g+=n*Tt,y+=n*ur,E+=n*nr,I+=n*Er,x+=n*J,v+=n*xe,b+=n*te,_+=n*Le,S+=n*we,n=e[3],u+=n*$,f+=n*j,h+=n*Z,A+=n*le,p+=n*Se,m+=n*et,g+=n*qe,y+=n*Tt,E+=n*ur,I+=n*nr,x+=n*Er,v+=n*J,b+=n*xe,_+=n*te,S+=n*Le,w+=n*we,n=e[4],f+=n*$,h+=n*j,A+=n*Z,p+=n*le,m+=n*Se,g+=n*et,y+=n*qe,E+=n*Tt,I+=n*ur,x+=n*nr,v+=n*Er,b+=n*J,_+=n*xe,S+=n*te,w+=n*Le,L+=n*we,n=e[5],h+=n*$,A+=n*j,p+=n*Z,m+=n*le,g+=n*Se,y+=n*et,E+=n*qe,I+=n*Tt,x+=n*ur,v+=n*nr,b+=n*Er,_+=n*J,S+=n*xe,w+=n*te,L+=n*Le,M+=n*we,n=e[6],A+=n*$,p+=n*j,m+=n*Z,g+=n*le,y+=n*Se,E+=n*et,I+=n*qe,x+=n*Tt,v+=n*ur,b+=n*nr,_+=n*Er,S+=n*J,w+=n*xe,L+=n*te,M+=n*Le,Y+=n*we,n=e[7],p+=n*$,m+=n*j,g+=n*Z,y+=n*le,E+=n*Se,I+=n*et,x+=n*qe,v+=n*Tt,b+=n*ur,_+=n*nr,S+=n*Er,w+=n*J,L+=n*xe,M+=n*te,Y+=n*Le,D+=n*we,n=e[8],m+=n*$,g+=n*j,y+=n*Z,E+=n*le,I+=n*Se,x+=n*et,v+=n*qe,b+=n*Tt,_+=n*ur,S+=n*nr,w+=n*Er,L+=n*J,M+=n*xe,Y+=n*te,D+=n*Le,O+=n*we,n=e[9],g+=n*$,y+=n*j,E+=n*Z,I+=n*le,x+=n*Se,v+=n*et,b+=n*qe,_+=n*Tt,S+=n*ur,w+=n*nr,L+=n*Er,M+=n*J,Y+=n*xe,D+=n*te,O+=n*Le,W+=n*we,n=e[10],y+=n*$,E+=n*j,I+=n*Z,x+=n*le,v+=n*Se,b+=n*et,_+=n*qe,S+=n*Tt,w+=n*ur,L+=n*nr,M+=n*Er,Y+=n*J,D+=n*xe,O+=n*te,W+=n*Le,R+=n*we,n=e[11],E+=n*$,I+=n*j,x+=n*Z,v+=n*le,b+=n*Se,_+=n*et,S+=n*qe,w+=n*Tt,L+=n*ur,M+=n*nr,Y+=n*Er,D+=n*J,O+=n*xe,W+=n*te,R+=n*Le,Q+=n*we,n=e[12],I+=n*$,x+=n*j,v+=n*Z,b+=n*le,_+=n*Se,S+=n*et,w+=n*qe,L+=n*Tt,M+=n*ur,Y+=n*nr,D+=n*Er,O+=n*J,W+=n*xe,R+=n*te,Q+=n*Le,q+=n*we,n=e[13],x+=n*$,v+=n*j,b+=n*Z,_+=n*le,S+=n*Se,w+=n*et,L+=n*qe,M+=n*Tt,Y+=n*ur,D+=n*nr,O+=n*Er,W+=n*J,R+=n*xe,Q+=n*te,q+=n*Le,U+=n*we,n=e[14],v+=n*$,b+=n*j,_+=n*Z,S+=n*le,w+=n*Se,L+=n*et,M+=n*qe,Y+=n*Tt,D+=n*ur,O+=n*nr,W+=n*Er,R+=n*J,Q+=n*xe,q+=n*te,U+=n*Le,V+=n*we,n=e[15],b+=n*$,_+=n*j,S+=n*Z,w+=n*le,L+=n*Se,M+=n*et,Y+=n*qe,D+=n*Tt,O+=n*ur,W+=n*nr,R+=n*Er,Q+=n*J,q+=n*xe,U+=n*te,V+=n*Le,z+=n*we,a+=38*_,c+=38*S,l+=38*w,u+=38*L,f+=38*M,h+=38*Y,A+=38*D,p+=38*O,m+=38*W,g+=38*R,y+=38*Q,E+=38*q,I+=38*U,x+=38*V,v+=38*z,o=1,n=a+o+65535,o=Math.floor(n/65536),a=n-o*65536,n=c+o+65535,o=Math.floor(n/65536),c=n-o*65536,n=l+o+65535,o=Math.floor(n/65536),l=n-o*65536,n=u+o+65535,o=Math.floor(n/65536),u=n-o*65536,n=f+o+65535,o=Math.floor(n/65536),f=n-o*65536,n=h+o+65535,o=Math.floor(n/65536),h=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=p+o+65535,o=Math.floor(n/65536),p=n-o*65536,n=m+o+65535,o=Math.floor(n/65536),m=n-o*65536,n=g+o+65535,o=Math.floor(n/65536),g=n-o*65536,n=y+o+65535,o=Math.floor(n/65536),y=n-o*65536,n=E+o+65535,o=Math.floor(n/65536),E=n-o*65536,n=I+o+65535,o=Math.floor(n/65536),I=n-o*65536,n=x+o+65535,o=Math.floor(n/65536),x=n-o*65536,n=v+o+65535,o=Math.floor(n/65536),v=n-o*65536,n=b+o+65535,o=Math.floor(n/65536),b=n-o*65536,a+=o-1+37*(o-1),o=1,n=a+o+65535,o=Math.floor(n/65536),a=n-o*65536,n=c+o+65535,o=Math.floor(n/65536),c=n-o*65536,n=l+o+65535,o=Math.floor(n/65536),l=n-o*65536,n=u+o+65535,o=Math.floor(n/65536),u=n-o*65536,n=f+o+65535,o=Math.floor(n/65536),f=n-o*65536,n=h+o+65535,o=Math.floor(n/65536),h=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=p+o+65535,o=Math.floor(n/65536),p=n-o*65536,n=m+o+65535,o=Math.floor(n/65536),m=n-o*65536,n=g+o+65535,o=Math.floor(n/65536),g=n-o*65536,n=y+o+65535,o=Math.floor(n/65536),y=n-o*65536,n=E+o+65535,o=Math.floor(n/65536),E=n-o*65536,n=I+o+65535,o=Math.floor(n/65536),I=n-o*65536,n=x+o+65535,o=Math.floor(n/65536),x=n-o*65536,n=v+o+65535,o=Math.floor(n/65536),v=n-o*65536,n=b+o+65535,o=Math.floor(n/65536),b=n-o*65536,a+=o-1+37*(o-1),t[0]=a,t[1]=c,t[2]=l,t[3]=u,t[4]=f,t[5]=h,t[6]=A,t[7]=p,t[8]=m,t[9]=g,t[10]=y,t[11]=E,t[12]=I,t[13]=x,t[14]=v,t[15]=b}s(Nn,"M")});var a6e=T((S1n,s6e)=>{d();var d0=Ar();nn();fl();bw();s6e.exports=d0.kem=d0.kem||{};var i6e=d0.jsbn.BigInteger;d0.kem.rsa={};d0.kem.rsa.create=function(t,e){e=e||{};var r=e.prng||d0.random,n={};return n.encrypt=function(o,a){var c=Math.ceil(o.n.bitLength()/8),l;do l=new i6e(d0.util.bytesToHex(r.getBytesSync(c)),16).mod(o.n);while(l.compareTo(i6e.ONE)<=0);l=d0.util.hexToBytes(l.toString(16));var u=c-l.length;u>0&&(l=d0.util.fillString("\0",u)+l);var f=o.encrypt(l,"NONE"),h=t.generate(l,a);return{encapsulation:f,key:h}},n.decrypt=function(o,a,c){var l=o.decrypt(a,"NONE");return t.generate(l,c)},n};d0.kem.kdf1=function(t,e){o6e(this,t,0,e||t.digestLength)};d0.kem.kdf2=function(t,e){o6e(this,t,1,e||t.digestLength)};function o6e(t,e,r,n){t.generate=function(o,a){for(var c=new d0.util.ByteBuffer,l=Math.ceil(a/n)+r,u=new d0.util.ByteBuffer,f=r;f<l;++f){u.putInt32(f),e.start(),e.update(o+u.getBytes());var h=e.digest();c.putBytes(h.getBytes(n))}return c.truncate(c.length()-a),c.getBytes()}}s(o6e,"_createKDF")});var f6e=T((k1n,u6e)=>{d();var Lr=Ar();nn();u6e.exports=Lr.log=Lr.log||{};Lr.log.levels=["none","error","warning","info","debug","verbose","max"];var kP={},_ee=[],kw=null;Lr.log.LEVEL_LOCKED=2;Lr.log.NO_LEVEL_CHECK=4;Lr.log.INTERPOLATE=8;for(Jf=0;Jf<Lr.log.levels.length;++Jf)vee=Lr.log.levels[Jf],kP[vee]={index:Jf,name:vee.toUpperCase()};var vee,Jf;Lr.log.logMessage=function(t){for(var e=kP[t.level].index,r=0;r<_ee.length;++r){var n=_ee[r];if(n.flags&Lr.log.NO_LEVEL_CHECK)n.f(t);else{var o=kP[n.level].index;e<=o&&n.f(n,t)}}};Lr.log.prepareStandard=function(t){"standard"in t||(t.standard=kP[t.level].name+" ["+t.category+"] "+t.message)};Lr.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=Lr.util.format.apply(this,e)}};Lr.log.prepareStandardFull=function(t){"standardFull"in t||(Lr.log.prepareStandard(t),t.standardFull=t.standard)};for(bee=["error","warning","info","debug","verbose"],Jf=0;Jf<bee.length;++Jf)(function(e){Lr.log[e]=function(r,n){var o=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:e,category:r,message:n,arguments:o};Lr.log.logMessage(a)}})(bee[Jf]);var bee,Jf;Lr.log.makeLogger=function(t){var e={flags:0,f:t};return Lr.log.setLevel(e,"none"),e};Lr.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&Lr.log.LEVEL_LOCKED))for(var n=0;n<Lr.log.levels.length;++n){var o=Lr.log.levels[n];if(e==o){t.level=e,r=!0;break}}return r};Lr.log.lock=function(t,e){typeof e>"u"||e?t.flags|=Lr.log.LEVEL_LOCKED:t.flags&=~Lr.log.LEVEL_LOCKED};Lr.log.addLogger=function(t){_ee.push(t)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(c6e={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},Dw=s(function(t,e){Lr.log.prepareStandard(e);var r=c6e[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)},"f"),sv=Lr.log.makeLogger(Dw)):(Dw=s(function(e,r){Lr.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),sv=Lr.log.makeLogger(Dw)),Lr.log.setLevel(sv,"debug"),Lr.log.addLogger(sv),kw=sv):console={log:s(function(){},"log")};var sv,c6e,Dw;kw!==null&&typeof window<"u"&&window.location&&(Rw=new URL(window.location.href).searchParams,Rw.has("console.level")&&Lr.log.setLevel(kw,Rw.get("console.level").slice(-1)[0]),Rw.has("console.lock")&&(l6e=Rw.get("console.lock").slice(-1)[0],l6e=="true"&&Lr.log.lock(kw)));var Rw,l6e;Lr.log.consoleLogger=kw});var h6e=T((Q1n,d6e)=>{d();d6e.exports=Gf();uP();Zx();MZ();hee()});var m6e=T((F1n,p6e)=>{d();var ze=Ar();pm();Au();xw();mm();qC();XZ();fl();nn();bP();var ie=ze.asn1,va=p6e.exports=ze.pkcs7=ze.pkcs7||{};va.messageFromPem=function(t){var e=ze.pem.decode(t)[0];if(e.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=ie.fromDer(e.body);return va.messageFromAsn1(n)};va.messageToPem=function(t,e){var r={type:"PKCS7",body:ie.toDer(t.toAsn1()).getBytes()};return ze.pem.encode(r,{maxline:e})};va.messageFromAsn1=function(t){var e={},r=[];if(!ie.validate(t,va.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var o=ie.derToOid(e.contentType),a;switch(o){case ze.pki.oids.envelopedData:a=va.createEnvelopedData();break;case ze.pki.oids.encryptedData:a=va.createEncryptedData();break;case ze.pki.oids.signedData:a=va.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+o+" is not (yet) supported.")}return a.fromAsn1(e.content.value[0]),a};va.createSignedData=function(){var t=null;return t={type:ze.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:s(function(n){if(wee(t,n,va.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var o=t.rawCapture.certificates.value,a=0;a<o.length;++a)t.certificates.push(ze.pki.certificateFromAsn1(o[a]))},"fromAsn1"),toAsn1:s(function(){t.contentInfo||t.sign();for(var n=[],o=0;o<t.certificates.length;++o)n.push(ze.pki.certificateToAsn1(t.certificates[o]));var a=[],c=ie.create(ie.Class.CONTEXT_SPECIFIC,0,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.INTEGER,!1,ie.integerToDer(t.version).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return n.length>0&&c.value[0].value.push(ie.create(ie.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&c.value[0].value.push(ie.create(ie.Class.CONTEXT_SPECIFIC,1,!0,a)),c.value[0].value.push(ie.create(ie.Class.UNIVERSAL,ie.Type.SET,!0,t.signerInfos)),ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(t.type).getBytes()),c])},"toAsn1"),addSigner:s(function(n){var o=n.issuer,a=n.serialNumber;if(n.certificate){var c=n.certificate;typeof c=="string"&&(c=ze.pki.certificateFromPem(c)),o=c.issuer.attributes,a=c.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=ze.pki.privateKeyFromPem(l));var u=n.digestAlgorithm||ze.pki.oids.sha1;switch(u){case ze.pki.oids.sha1:case ze.pki.oids.sha256:case ze.pki.oids.sha384:case ze.pki.oids.sha512:case ze.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+u)}var f=n.authenticatedAttributes||[];if(f.length>0){for(var h=!1,A=!1,p=0;p<f.length;++p){var m=f[p];if(!h&&m.type===ze.pki.oids.contentType){if(h=!0,A)break;continue}if(!A&&m.type===ze.pki.oids.messageDigest){if(A=!0,h)break;continue}}if(!h||!A)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:l,version:1,issuer:o,serialNumber:a,digestAlgorithm:u,signatureAlgorithm:ze.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},"addSigner"),sign:s(function(n){if(n=n||{},(typeof t.content!="object"||t.contentInfo===null)&&(t.contentInfo=ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(ze.pki.oids.data).getBytes())]),"content"in t)){var o;t.content instanceof ze.util.ByteBuffer?o=t.content.bytes():typeof t.content=="string"&&(o=ze.util.encodeUtf8(t.content)),n.detached?t.detachedContent=ie.create(ie.Class.UNIVERSAL,ie.Type.OCTETSTRING,!1,o):t.contentInfo.value.push(ie.create(ie.Class.CONTEXT_SPECIFIC,0,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OCTETSTRING,!1,o)]))}if(t.signers.length!==0){var a=e();r(a)}},"sign"),verify:s(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:s(function(n){typeof n=="string"&&(n=ze.pki.certificateFromPem(n)),t.certificates.push(n)},"addCertificate"),addCertificateRevokationList:s(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},t;function e(){for(var n={},o=0;o<t.signers.length;++o){var a=t.signers[o],c=a.digestAlgorithm;c in n||(n[c]=ze.md[ze.pki.oids[c]].create()),a.authenticatedAttributes.length===0?a.md=n[c]:a.md=ze.md[ze.pki.oids[c]].create()}t.digestAlgorithmIdentifiers=[];for(var c in n)t.digestAlgorithmIdentifiers.push(ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(c).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.NULL,!1,"")]));return n}s(e,"addDigestAlgorithmIds");function r(n){var o;if(t.detachedContent?o=t.detachedContent:(o=t.contentInfo.value[1],o=o.value[0]),!o)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=ie.derToOid(t.contentInfo.value[0].value),c=ie.toDer(o);c.getByte(),ie.getBerValueLength(c),c=c.getBytes();for(var l in n)n[l].start().update(c);for(var u=new Date,f=0;f<t.signers.length;++f){var h=t.signers[f];if(h.authenticatedAttributes.length===0){if(a!==ze.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=ie.create(ie.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var A=ie.create(ie.Class.UNIVERSAL,ie.Type.SET,!0,[]),p=0;p<h.authenticatedAttributes.length;++p){var m=h.authenticatedAttributes[p];m.type===ze.pki.oids.messageDigest?m.value=n[h.digestAlgorithm].digest():m.type===ze.pki.oids.signingTime&&(m.value||(m.value=u)),A.value.push(Tee(m)),h.authenticatedAttributesAsn1.value.push(Tee(m))}c=ie.toDer(A).getBytes(),h.md.start().update(c)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=FTt(t.signers)}s(r,"addSignerInfos")};va.createEncryptedData=function(){var t=null;return t={type:ze.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:ze.pki.oids["aes256-CBC"]},fromAsn1:s(function(e){wee(t,e,va.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:s(function(e){e!==void 0&&(t.encryptedContent.key=e),A6e(t)},"decrypt")},t};va.createEnvelopedData=function(){var t=null;return t={type:ze.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:ze.pki.oids["aes256-CBC"]},fromAsn1:s(function(e){var r=wee(t,e,va.asn1.envelopedDataValidator);t.recipients=NTt(r.recipientInfos.value)},"fromAsn1"),toAsn1:s(function(){return ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(t.type).getBytes()),ie.create(ie.Class.CONTEXT_SPECIFIC,0,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.INTEGER,!1,ie.integerToDer(t.version).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.SET,!0,QTt(t.recipients)),ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,LTt(t.encryptedContent))])])])},"toAsn1"),findRecipient:s(function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var o=t.recipients[n],a=o.issuer;if(o.serialNumber===e.serialNumber&&a.length===r.length){for(var c=!0,l=0;l<r.length;++l)if(a[l].type!==r[l].type||a[l].value!==r[l].value){c=!1;break}if(c)return o}}return null},"findRecipient"),decrypt:s(function(e,r){if(t.encryptedContent.key===void 0&&e!==void 0&&r!==void 0)switch(e.encryptedContent.algorithm){case ze.pki.oids.rsaEncryption:case ze.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=ze.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}A6e(t)},"decrypt"),addRecipient:s(function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:ze.pki.oids.rsaEncryption,key:e.publicKey}})},"addRecipient"),encrypt:s(function(e,r){if(t.encryptedContent.content===void 0){r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key;var n,o,a;switch(r){case ze.pki.oids["aes128-CBC"]:n=16,o=16,a=ze.aes.createEncryptionCipher;break;case ze.pki.oids["aes192-CBC"]:n=24,o=16,a=ze.aes.createEncryptionCipher;break;case ze.pki.oids["aes256-CBC"]:n=32,o=16,a=ze.aes.createEncryptionCipher;break;case ze.pki.oids["des-EDE3-CBC"]:n=24,o=8,a=ze.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(e===void 0)e=ze.util.createBuffer(ze.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=ze.util.createBuffer(ze.random.getBytes(o));var c=a(e);if(c.start(t.encryptedContent.parameter.copy()),c.update(t.content),!c.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=c.output}for(var l=0;l<t.recipients.length;++l){var u=t.recipients[l];if(u.encryptedContent.content===void 0)switch(u.encryptedContent.algorithm){case ze.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}},"encrypt")},t};function kTt(t){var e={},r=[];if(!ie.validate(t,va.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:ze.pki.RDNAttributesAsArray(e.issuer),serialNumber:ze.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:ie.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}s(kTt,"_recipientFromAsn1");function DTt(t){return ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.INTEGER,!1,ie.integerToDer(t.version).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ze.pki.distinguishedNameToAsn1({attributes:t.issuer}),ie.create(ie.Class.UNIVERSAL,ie.Type.INTEGER,!1,ze.util.hexToBytes(t.serialNumber))]),ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(t.encryptedContent.algorithm).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.NULL,!1,"")]),ie.create(ie.Class.UNIVERSAL,ie.Type.OCTETSTRING,!1,t.encryptedContent.content)])}s(DTt,"_recipientToAsn1");function NTt(t){for(var e=[],r=0;r<t.length;++r)e.push(kTt(t[r]));return e}s(NTt,"_recipientsFromAsn1");function QTt(t){for(var e=[],r=0;r<t.length;++r)e.push(DTt(t[r]));return e}s(QTt,"_recipientsToAsn1");function PTt(t){var e=ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.INTEGER,!1,ie.integerToDer(t.version).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ze.pki.distinguishedNameToAsn1({attributes:t.issuer}),ie.create(ie.Class.UNIVERSAL,ie.Type.INTEGER,!1,ze.util.hexToBytes(t.serialNumber))]),ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(t.digestAlgorithm).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(t.signatureAlgorithm).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.NULL,!1,"")])),e.value.push(ie.create(ie.Class.UNIVERSAL,ie.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=ie.create(ie.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var o=t.unauthenticatedAttributes[n];r.values.push(Tee(o))}e.value.push(r)}return e}s(PTt,"_signerToAsn1");function FTt(t){for(var e=[],r=0;r<t.length;++r)e.push(PTt(t[r]));return e}s(FTt,"_signersToAsn1");function Tee(t){var e;if(t.type===ze.pki.oids.contentType)e=ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(t.value).getBytes());else if(t.type===ze.pki.oids.messageDigest)e=ie.create(ie.Class.UNIVERSAL,ie.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===ze.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),o=t.value;if(typeof o=="string"){var a=Date.parse(o);isNaN(a)?o.length===13?o=ie.utcTimeToDate(o):o=ie.generalizedTimeToDate(o):o=new Date(a)}o>=r&&o<n?e=ie.create(ie.Class.UNIVERSAL,ie.Type.UTCTIME,!1,ie.dateToUtcTime(o)):e=ie.create(ie.Class.UNIVERSAL,ie.Type.GENERALIZEDTIME,!1,ie.dateToGeneralizedTime(o))}return ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(t.type).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.SET,!0,[e])])}s(Tee,"_attributeToAsn1");function LTt(t){return[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(ze.pki.oids.data).getBytes()),ie.create(ie.Class.UNIVERSAL,ie.Type.SEQUENCE,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OID,!1,ie.oidToDer(t.algorithm).getBytes()),t.parameter?ie.create(ie.Class.UNIVERSAL,ie.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),ie.create(ie.Class.CONTEXT_SPECIFIC,0,!0,[ie.create(ie.Class.UNIVERSAL,ie.Type.OCTETSTRING,!1,t.content.getBytes())])]}s(LTt,"_encryptedContentToAsn1");function wee(t,e,r){var n={},o=[];if(!ie.validate(e,r,n,o)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var c=ie.derToOid(n.contentType);if(c!==ze.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(ze.util.isArray(n.encryptedContent))for(var u=0;u<n.encryptedContent.length;++u){if(n.encryptedContent[u].type!==ie.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[u].value}else l=n.encryptedContent;t.encryptedContent={algorithm:ie.derToOid(n.encAlgorithm),parameter:ze.util.createBuffer(n.encParameter.value),content:ze.util.createBuffer(l)}}if(n.content){var l="";if(ze.util.isArray(n.content))for(var u=0;u<n.content.length;++u){if(n.content[u].type!==ie.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[u].value}else l=n.content;t.content=ze.util.createBuffer(l)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}s(wee,"_fromAsn1");function A6e(t){if(t.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(t.content===void 0){var e;switch(t.encryptedContent.algorithm){case ze.pki.oids["aes128-CBC"]:case ze.pki.oids["aes192-CBC"]:case ze.pki.oids["aes256-CBC"]:e=ze.aes.createDecryptionCipher(t.encryptedContent.key);break;case ze.pki.oids.desCBC:case ze.pki.oids["des-EDE3-CBC"]:e=ze.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}s(A6e,"_decryptContent")});var C6e=T((O1n,g6e)=>{d();var go=Ar();pm();zx();uP();Zx();nn();var NP=g6e.exports=go.ssh=go.ssh||{};NP.privateKeyToPutty=function(t,e,r){r=r||"",e=e||"";var n="ssh-rsa",o=e===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+o+`\r
`,a+="Comment: "+r+`\r
`;var c=go.util.createBuffer();av(c,n),Xf(c,t.e),Xf(c,t.n);var l=go.util.encode64(c.bytes(),64),u=Math.floor(l.length/66)+1;a+="Public-Lines: "+u+`\r
`,a+=l;var f=go.util.createBuffer();Xf(f,t.d),Xf(f,t.p),Xf(f,t.q),Xf(f,t.qInv);var h;if(!e)h=go.util.encode64(f.bytes(),64);else{var A=f.length()+16-1;A-=A%16;var p=DP(f.bytes());p.truncate(p.length()-A+f.length()),f.putBuffer(p);var m=go.util.createBuffer();m.putBuffer(DP("\0\0\0\0",e)),m.putBuffer(DP("\0\0\0",e));var g=go.aes.createEncryptionCipher(m.truncate(8),"CBC");g.start(go.util.createBuffer().fillWithByte(0,16)),g.update(f.copy()),g.finish();var y=g.output;y.truncate(16),h=go.util.encode64(y.bytes(),64)}u=Math.floor(h.length/66)+1,a+=`\r
Private-Lines: `+u+`\r
`,a+=h;var E=DP("putty-private-key-file-mac-key",e),I=go.util.createBuffer();av(I,n),av(I,o),av(I,r),I.putInt32(c.length()),I.putBuffer(c),I.putInt32(f.length()),I.putBuffer(f);var x=go.hmac.create();return x.start("sha1",E),x.update(I.bytes()),a+=`\r
Private-MAC: `+x.digest().toHex()+`\r
`,a};NP.publicKeyToOpenSSH=function(t,e){var r="ssh-rsa";e=e||"";var n=go.util.createBuffer();return av(n,r),Xf(n,t.e),Xf(n,t.n),r+" "+go.util.encode64(n.bytes())+" "+e};NP.privateKeyToOpenSSH=function(t,e){return e?go.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):go.pki.privateKeyToPem(t)};NP.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||go.md.md5.create(),n="ssh-rsa",o=go.util.createBuffer();av(o,n),Xf(o,t.e),Xf(o,t.n),r.start(),r.update(o.getBytes());var a=r.digest();if(e.encoding==="hex"){var c=a.toHex();return e.delimiter?c.match(/.{2}/g).join(e.delimiter):c}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};function Xf(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=go.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}s(Xf,"_addBigIntegerToBuffer");function av(t,e){t.putInt32(e.length),t.putString(e)}s(av,"_addStringToBuffer");function DP(){for(var t=go.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}s(DP,"_sha1")});var E6e=T((H1n,y6e)=>{d();y6e.exports=Ar();pm();ORe();Au();nP();xw();n6e();zx();a6e();f6e();h6e();ZZ();AP();qC();jZ();ree();m6e();iee();zZ();OZ();IP();fl();HZ();C6e();uee();nn()});var v6e=T(zC=>{"use strict";d();Object.defineProperty(zC,"__esModule",{value:!0});zC.convert=zC.Format=void 0;var Nw=E6e(),bm;(function(t){t.der="der",t.pem="pem",t.txt="txt",t.asn1="asn1",t.x509="x509",t.fingerprint="fingerprint"})(bm=zC.Format||(zC.Format={}));function I6e(t){var e=Nw.pki.pemToDer(t),r=Nw.asn1,n=r.fromDer(e.data.toString("binary")).value[0].value,o=n[0],a=o.tagClass===r.Class.CONTEXT_SPECIFIC&&o.type===0&&o.constructed,c=n.slice(a);return{serial:c[0],issuer:c[2],valid:c[3],subject:c[4]}}s(I6e,"myASN");function MTt(t){var e=I6e(t),r=e.subject.value.map(function(o){return o.value[0].value[1].value}).join("/"),n=e.valid.value.map(function(o){return o.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(t)].join(`
`)}s(MTt,"txtFormat");function x6e(t,e){switch(e){case bm.der:return Nw.pki.pemToDer(t);case bm.pem:return t;case bm.txt:return MTt(t);case bm.asn1:return I6e(t);case bm.fingerprint:var r=Nw.md.sha1.create(),n=x6e(t,bm.der);return r.update(n.getBytes()),r.digest().toHex();case bm.x509:return Nw.pki.certificateFromPem(t);default:throw new Error("unknown format ".concat(e))}}s(x6e,"convert");zC.convert=x6e});var B6e=T(hc=>{"use strict";d();var _m=hc&&hc.__assign||function(){return _m=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},_m.apply(this,arguments)},QP=hc&&hc.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,a;n<o;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(hc,"__esModule",{value:!0});hc.convert=hc.Format=hc.addToGlobalAgent=hc.get=void 0;var See=require("https"),OTt=require("tls"),b6e=require("child_process"),_6e=i8e(),Mh=v6e();Object.defineProperty(hc,"Format",{enumerable:!0,get:s(function(){return Mh.Format},"get")});Object.defineProperty(hc,"convert",{enumerable:!0,get:s(function(){return Mh.convert},"get")});var T6e=process.platform==="darwin",w6e=See.globalAgent,FP={keychain:"all",unique:!0,excludeBundled:!0,format:Mh.Format.pem};function S6e(t){if(t===void 0&&(t=FP),!T6e)return[];t=_m(_m({},FP),t);var e=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(t.keychain==="all"||t.keychain==="SystemRootCertificates"){var o="/System/Library/Keychains/SystemRootCertificates.keychain",a=(0,b6e.spawnSync)("/usr/bin/security",r.concat(o)).stdout.toString().split(e).map(function(f){return f.trim()});n=QP(QP([],n,!0),a,!0)}if(t.keychain==="all"||t.keychain==="current"){var c=(0,b6e.spawnSync)("/usr/bin/security",r).stdout.toString().split(e).map(function(f){return f.trim()});n=QP(QP([],n,!0),c,!0)}if(t.unique||t.excludeBundled){var l=n.map(function(f){return(0,Mh.convert)(f,Mh.Format.fingerprint)}),u=t.excludeBundled?OTt.rootCertificates.map(function(f){return(0,Mh.convert)(f,Mh.Format.fingerprint)}):[];n=n.filter(function(f,h){var A=l[h];return!(t.unique&&h!==l.indexOf(A)||t.excludeBundled&&u.includes(A))})}return n.map(function(f){return(0,Mh.convert)(f,t.format)})}s(S6e,"get");hc.get=S6e;var PP=w6e.options.ca,UTt=s(function(t){if(t===void 0&&(t=FP),!!T6e){var e;Array.isArray(PP)?e=Array.from(PP):e=typeof PP<"u"?[PP]:[],S6e(_m(_m(_m({},FP),t),{format:Mh.Format.pem,excludeBundled:!1})).forEach(function(r){return e.push(r)}),w6e.options.ca=e,See.Agent=function(r){var n=s(function(o){var a=typeof o<"u"?_m({},o):{};return typeof a.ca>"u"&&(a.ca=e),r.call(this,a)},"newAgent");return n.prototype=r.prototype,n}(See.Agent),(0,_6e.setGlobalDispatcher)(new _6e.Agent({connect:{ca:e}}))}},"addToGlobalAgent");hc.addToGlobalAgent=UTt});var R6e=T((K1n,Bee)=>{d();function qTt(){let{X509Certificate:t}=require("crypto"),{join:e}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=process.arch==="arm64"?"crypt32-arm64.node":"crypt32.node",o=r(e(__dirname,n)),a=[],c=new o.Crypt32;try{let l;for(;l=c.next();){let u=new t(l);a.push(u.toString())}}finally{c.done()}return Array.from(new Set(a))}s(qTt,"all");process.platform!=="win32"?Bee.exports.all=()=>[]:Bee.exports.all=qTt});var U6e=T((nCn,O6e)=>{d();var Mee=require("fs"),MP=require("path"),Qw=MP.join,GTt=MP.dirname,L6e=Mee.accessSync&&function(t){try{Mee.accessSync(t)}catch{return!1}return!0}||Mee.existsSync||MP.existsSync,M6e={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function VTt(t){typeof t=="string"?t={bindings:t}:t||(t={}),Object.keys(M6e).map(function(u){u in t||(t[u]=M6e[u])}),t.module_root||(t.module_root=WTt(__filename)),MP.extname(t.bindings)!=".node"&&(t.bindings+=".node");for(var e=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,o=t.try.length,a,c,l;n<o;n++){a=Qw.apply(null,t.try[n].map(function(u){return t[u]||u})),r.push(a);try{return c=t.path?e.resolve(a):e(a),t.path||(c.path=a),c}catch(u){if(u.code!=="MODULE_NOT_FOUND"&&u.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(u.message))throw u}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(u){return t.arrow+u}).join(`
`)),l.tries=r,l}s(VTt,"bindings");O6e.exports=VTt;function WTt(t){for(var e=GTt(t),r;;){if(e==="."&&(e=process.cwd()),L6e(Qw(e,"dist")))return Qw(e,"dist");if(L6e(Qw(e,"compiled")))return e;if(r===e)throw new Error('Could not find module root given file: "'+t+'". Do you have a `dist` or `compiled` directory? ');r=e,e=Qw(e,"..")}}s(WTt,"getRoot")});var G6e=T((sCn,H6e)=>{"use strict";d();function q6e(t,e,r){let n=e[r];if(t==null&&n.required===!1)return;if(t==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let o=typeof t;if(n.type&&o!==n.type){if(n.required===!1&&e.slice(r).some(a=>a.type===o))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof t}\``)}return!0}s(q6e,"validateParameter");function YTt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}s(YTt,"hasOwnProperty");function jTt(t,e){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let a=0,c=0;a<e.length;++a,++c){let l=e[a],u=r[c];YTt(l,"default")&&u==null&&(u=l.default),l.type==="object"&&l.default!=null&&(u=Object.assign({},l.default,u)),l.name==="options"&&(typeof u=="function"||u==null)&&(u={}),q6e(u,e,a)?n.push(u):c--}if(typeof arguments[arguments.length-1]!="function")return new Promise((a,c)=>{n.push((l,u)=>{if(l)return c(l);a(u)}),t.apply(this,n)});t.apply(this,n)}}s(jTt,"defineOperation");H6e.exports={defineOperation:jTt,validateParameter:q6e}});var Oee=T((lCn,Y6e)=>{"use strict";d();var uv=U6e()("kerberos"),lv=uv.KerberosClient,V6e=uv.KerberosServer,Tm=G6e().defineOperation,$Tt=1,zTt=2,KTt=4,JTt=8,XTt=16,ZTt=32,e4t=64,t4t=128,r4t=256,W6e=0,n4t=9,i4t=6;lv.prototype.step=Tm(lv.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);lv.prototype.wrap=Tm(lv.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);lv.prototype.unwrap=Tm(lv.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);V6e.prototype.step=Tm(V6e.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var o4t=Tm(uv.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),s4t=Tm(uv.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),a4t=Tm(uv.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:W6e}},{name:"callback",type:"function",required:!1}]),c4t=Tm(uv.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);Y6e.exports={initializeClient:a4t,initializeServer:c4t,principalDetails:s4t,checkPassword:o4t,GSS_C_DELEG_FLAG:$Tt,GSS_C_MUTUAL_FLAG:zTt,GSS_C_REPLAY_FLAG:KTt,GSS_C_SEQUENCE_FLAG:JTt,GSS_C_CONF_FLAG:XTt,GSS_C_INTEG_FLAG:ZTt,GSS_C_ANON_FLAG:e4t,GSS_C_PROT_READY_FLAG:t4t,GSS_C_TRANS_FLAG:r4t,GSS_C_NO_OID:W6e,GSS_MECH_OID_KRB5:n4t,GSS_MECH_OID_SPNEGO:i4t}});var j6e=T((fCn,l4t)=>{l4t.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var z6e=T((dCn,$6e)=>{"use strict";d();var u4t=require("dns"),f4t=Oee(),Uee=class{static{s(this,"MongoAuthProcess")}constructor(e,r,n,o){o=o||{},this.host=e,this.port=r,this.serviceName=n||o.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof o.gssapiCanonicalizeHostName=="boolean"?o.gssapiCanonicalizeHostName:!1,this._transition=d4t(this),this.retries=10}init(e,r,n){let o=this;this.username=e,this.password=r;function a(c,l,u){if(!c)return u();u4t.resolveCname(l,(f,h)=>{if(f)return u(f);Array.isArray(h)&&h.length>0&&(o.host=h[0]),u()})}s(a,"performGssapiCanonicalizeHostName"),a(this.canonicalizeHostName,this.host,c=>{if(c)return n(c);let l={};r!=null&&Object.assign(l,{user:e,password:r});let u=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;f4t.initializeClient(u,l,(f,h)=>{if(f)return n(f,null);o.client=h,n(null,h)})})}transition(e,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(e,r)}};function d4t(t){return(e,r)=>{t.client.step("",(n,o)=>{if(n)return r(n);t._transition=h4t(t),r(null,o)})}}s(d4t,"firstTransition");function h4t(t){return(e,r)=>{t.client.step(e,(n,o)=>{if(n&&t.retries===0)return r(n);if(n)return t.retries=t.retries-1,t.transition(e,r);t._transition=A4t(t),r(null,o||"")})}}s(h4t,"secondTransition");function A4t(t){return(e,r)=>{t.client.unwrap(e,(n,o)=>{if(n)return r(n,!1);t.client.wrap(o,{user:t.username},(a,c)=>{if(a)return r(a,!1);t._transition=p4t(t),r(null,c)})})}}s(A4t,"thirdTransition");function p4t(t){return(e,r)=>{t._transition=null,r(null,!0)}}s(p4t,"fourthTransition");$6e.exports={MongoAuthProcess:Uee}});var J6e=T((pCn,Pw)=>{"use strict";d();var K6e=Oee();Pw.exports=K6e;Pw.exports.Kerberos=K6e;Pw.exports.version=j6e().version;Pw.exports.processes={MongoAuthProcess:z6e().MongoAuthProcess}});var Xee=T((myn,m9e)=>{d();var Fw=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Q4t=typeof AbortController=="function",GP=Q4t?AbortController:class{static{s(this,"AbortController")}constructor(){this.signal=new h9e}abort(){this.signal.dispatchEvent("abort")}},P4t=typeof AbortSignal=="function",F4t=typeof GP.AbortSignal=="function",h9e=P4t?AbortSignal:F4t?GP.AbortController:class{static{s(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if(e==="abort"){this.aborted=!0;let r={type:e,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},Kee=new Set,jee=s((t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;VP(r)&&Jee(r,`${t} option`,`options.${e}`,hv)},"deprecatedOption"),$ee=s((t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(VP(r)){let{prototype:n}=hv,{get:o}=Object.getOwnPropertyDescriptor(n,t);Jee(r,`${t} method`,`cache.${e}()`,o)}},"deprecatedMethod"),L4t=s((t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(VP(r)){let{prototype:n}=hv,{get:o}=Object.getOwnPropertyDescriptor(n,t);Jee(r,`${t} property`,`cache.${e}`,o)}},"deprecatedProperty"),A9e=s((...t)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...t):console.error(...t)},"emitWarning"),VP=s(t=>!Kee.has(t),"shouldWarn"),Jee=s((t,e,r,n)=>{Kee.add(t);let o=`The ${e} is deprecated. Please use ${r} instead.`;A9e(o,"DeprecationWarning",t,n)},"warn"),XC=s(t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),"isPosInt"),p9e=s(t=>XC(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?dv:null:null,"getUintArray"),dv=class extends Array{static{s(this,"ZeroArray")}constructor(e){super(e),this.fill(0)}},zee=class{static{s(this,"Stack")}constructor(e){if(e===0)return[];let r=p9e(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},hv=class t{static{s(this,"LRUCache")}constructor(e={}){let{max:r=0,ttl:n,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:c,updateAgeOnHas:l,allowStale:u,dispose:f,disposeAfter:h,noDisposeOnSet:A,noUpdateTTL:p,maxSize:m=0,sizeCalculation:g,fetchMethod:y,fetchContext:E,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:x}=e,{length:v,maxAge:b,stale:_}=e instanceof t?{}:e;if(r!==0&&!XC(r))throw new TypeError("max option must be a nonnegative integer");let S=r?p9e(r):Array;if(!S)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=m,this.sizeCalculation=g||v,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=y||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&E!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new S(r),this.prev=new S(r),this.head=0,this.tail=0,this.free=new zee(r),this.initialFill=1,this.size=0,typeof f=="function"&&(this.dispose=f),typeof h=="function"?(this.disposeAfter=h,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!A,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!I,this.maxSize!==0){if(!XC(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!u||!!_,this.noDeleteOnStaleGet=!!x,this.updateAgeOnGet=!!c,this.updateAgeOnHas=!!l,this.ttlResolution=XC(o)||o===0?o:1,this.ttlAutopurge=!!a,this.ttl=n||b||0,this.ttl){if(!XC(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let w="LRU_CACHE_UNBOUNDED";VP(w)&&(Kee.add(w),A9e("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",w,t))}_&&jee("stale","allowStale"),b&&jee("maxAge","ttl"),v&&jee("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new dv(this.max),this.starts=new dv(this.max),this.setItemTTL=(n,o,a=Fw.now())=>{if(this.starts[n]=o!==0?a:0,this.ttls[n]=o,o!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},o+1);c.unref&&c.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?Fw.now():0};let e=0,r=s(()=>{let n=Fw.now();if(this.ttlResolution>0){e=n;let o=setTimeout(()=>e=0,this.ttlResolution);o.unref&&o.unref()}return n},"getNow");this.getRemainingTTL=n=>{let o=this.keyMap.get(n);return o===void 0?0:this.ttls[o]===0||this.starts[o]===0?1/0:this.starts[o]+this.ttls[o]-(e||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(e||r())-this.starts[n]>this.ttls[n]}updateItemAge(e){}setItemTTL(e,r,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new dv(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,r,n,o)=>{if(!XC(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(r,e),!XC(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(e,r)=>{this.sizes[e]=r;let n=this.maxSize-this.sizes[e];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,r){}requireSize(e,r,n,o){if(n||o)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.indexes())if(e(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(e,r=this){for(let n of this.indexes())e.call(r,this.valList[n],this.keyList[n],this)}rforEach(e,r=this){for(let n of this.rindexes())e.call(r,this.valList[n],this.keyList[n],this)}get prune(){return $ee("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],o=this.valList[r],c={value:this.isBackgroundFetch(o)?o.__staleWhileFetching:o};if(this.ttls){c.ttl=this.ttls[r];let l=Fw.now()-this.starts[r];c.start=Math.floor(Date.now()-l)}this.sizes&&(c.size=this.sizes[r]),e.unshift([n,c])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let o=Date.now()-n.start;n.start=Fw.now()-o}this.set(r,n.value,n)}}dispose(e,r,n){}set(e,r,{ttl:n=this.ttl,start:o,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL}={}){if(c=this.requireSize(e,r,c,l),this.maxSize&&c>this.maxSize)return this;let f=this.size===0?void 0:this.keyMap.get(e);if(f===void 0)f=this.newIndex(),this.keyList[f]=e,this.valList[f]=r,this.keyMap.set(e,f),this.next[this.tail]=f,this.prev[f]=this.tail,this.tail=f,this.size++,this.addItemSize(f,c),u=!1;else{let h=this.valList[f];r!==h&&(this.isBackgroundFetch(h)?h.__abortController.abort():a||(this.dispose(h,e,"set"),this.disposeAfter&&this.disposed.push([h,e,"set"])),this.removeItemSize(f),this.valList[f]=r,this.addItemSize(f,c)),this.moveToTail(f)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),u||this.setItemTTL(f,n,o),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,n=this.keyList[r],o=this.valList[r];return this.isBackgroundFetch(o)?o.__abortController.abort():(this.dispose(o,n,"evict"),this.disposeAfter&&this.disposed.push([o,n,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(e);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(e,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(e);if(n!==void 0&&(r||!this.isStale(n))){let o=this.valList[n];return this.isBackgroundFetch(o)?o.__staleWhileFetching:o}}backgroundFetch(e,r,n,o){let a=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(a))return a;let c=new GP,l={signal:c.signal,options:n,context:o},u=s(p=>(c.signal.aborted||this.set(e,p,l.options),p),"cb"),f=s(p=>{if(this.valList[r]===A&&(!n.noDeleteOnFetchRejection||A.__staleWhileFetching===void 0?this.delete(e):this.valList[r]=A.__staleWhileFetching),A.__returned===A)throw p},"eb"),h=s(p=>p(this.fetchMethod(e,a,l)),"pcall"),A=new Promise(h).then(u,f);return A.__abortController=c,A.__staleWhileFetching=a,A.__returned=null,r===void 0?(this.set(e,A,l.options),r=this.keyMap.get(e)):this.valList[r]=A,A}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,fetchContext:A=this.fetchContext,forceRefresh:p=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:o});let m={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:a,noDisposeOnSet:c,size:l,sizeCalculation:u,noUpdateTTL:f,noDeleteOnFetchRejection:h},g=this.keyMap.get(e);if(g===void 0){let y=this.backgroundFetch(e,g,m,A);return y.__returned=y}else{let y=this.valList[g];if(this.isBackgroundFetch(y))return r&&y.__staleWhileFetching!==void 0?y.__staleWhileFetching:y.__returned=y;if(!p&&!this.isStale(g))return this.moveToTail(g),n&&this.updateItemAge(g),y;let E=this.backgroundFetch(e,g,m,A);return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet}={}){let a=this.keyMap.get(e);if(a!==void 0){let c=this.valList[a],l=this.isBackgroundFetch(c);return this.isStale(a)?l?r?c.__staleWhileFetching:void 0:(o||this.delete(e),r?c:void 0):l?void 0:(this.moveToTail(a),n&&this.updateItemAge(a),c)}}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return $ee("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let n=this.keyMap.get(e);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let o=this.valList[n];this.isBackgroundFetch(o)?o.__abortController.abort():(this.dispose(o,e,"delete"),this.disposeAfter&&this.disposed.push([o,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[e];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return $ee("reset","clear"),this.clear}get length(){return L4t("length","size"),this.size}static get AbortController(){return GP}static get AbortSignal(){return h9e}};m9e.exports=hv});var tte=T((yyn,g9e)=>{"use strict";d();var Lw=class extends Error{static{s(this,"FetchBaseError")}constructor(e,r,n){super(e),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},Zee=class extends Lw{static{s(this,"FetchError")}constructor(e,r,n){super(e,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},ete=class extends Lw{static{s(this,"AbortError")}constructor(e,r="aborted"){super(e,r,"AbortError")}};g9e.exports={FetchBaseError:Lw,FetchError:Zee,AbortError:ete}});var Oh=T((xyn,y9e)=>{"use strict";d();var{constants:{MAX_LENGTH:M4t}}=require("buffer"),{pipeline:WP,PassThrough:O4t}=require("stream"),{promisify:U4t}=require("util"),{createGunzip:q4t,createInflate:H4t,createBrotliDecompress:G4t,constants:{Z_SYNC_FLUSH:C9e}}=require("zlib"),V4t=Xu()("helix-fetch:utils"),W4t=U4t(WP),Y4t=s((t,e)=>t===204||t===304||+e["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(e["content-encoding"]),"canDecode"),j4t=s((t,e,r,n)=>{if(!Y4t(t,e))return r;let o=s(a=>{a&&(V4t(`encountered error while decoding stream: ${a}`),n(a))},"cb");switch(e["content-encoding"].trim()){case"gzip":case"x-gzip":return WP(r,q4t({flush:C9e,finishFlush:C9e}),o);case"deflate":case"x-deflate":return WP(r,H4t(),o);case"br":return WP(r,G4t(),o);default:return r}},"decodeStream"),$4t=s(t=>{if(!t||typeof t!="object"||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},"isPlainObject"),YP=s((t,e)=>{if(Buffer.isBuffer(t))return t.length;switch(typeof t){case"string":return t.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(t)?Symbol.keyFor(t).length*2:(t.toString().length-8)*2;case"object":return Array.isArray(t)?z4t(t,e):K4t(t,e);default:return 0}},"calcSize"),z4t=s((t,e)=>(e.add(t),t.map(r=>e.has(r)?0:YP(r,e)).reduce((r,n)=>r+n,0)),"calcArraySize"),K4t=s((t,e)=>{if(t==null)return 0;e.add(t);let r=0,n=[];for(let o in t)n.push(o);return n.push(...Object.getOwnPropertySymbols(t)),n.forEach(o=>{if(r+=YP(o,e),typeof t[o]=="object"&&t[o]!==null){if(e.has(t[o]))return;e.add(t[o])}r+=YP(t[o],e)}),r},"calcObjectSize"),J4t=s(t=>YP(t,new WeakSet),"sizeof"),X4t=s(async t=>{let e=new O4t,r=0,n=[];return e.on("data",o=>{if(r+o.length>M4t)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(o),r+=o.length}),await W4t(t,e),Buffer.concat(n,r)},"streamToBuffer");y9e.exports={decodeStream:j4t,isPlainObject:$4t,sizeof:J4t,streamToBuffer:X4t}});var $P=T((_yn,v9e)=>{"use strict";d();var{PassThrough:E9e,Readable:Uh}=require("stream"),{types:{isAnyArrayBuffer:x9e}}=require("util"),{FetchError:Z4t,FetchBaseError:ewt}=tte(),{streamToBuffer:twt}=Oh(),rwt=Buffer.alloc(0),gl=Symbol("Body internals"),nwt=s(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),I9e=s(async t=>{if(t[gl].disturbed)throw new TypeError("Already read");if(t[gl].error)throw new TypeError(`Stream had error: ${t[gl].error.message}`);t[gl].disturbed=!0;let{stream:e}=t[gl];return e===null?rwt:twt(e)},"consume"),jP=class{static{s(this,"Body")}constructor(e){let r;e==null?r=null:e instanceof URLSearchParams?r=Uh.from(e.toString()):e instanceof Uh?r=e:Buffer.isBuffer(e)?r=Uh.from(e):x9e(e)?r=Uh.from(Buffer.from(e)):typeof e=="string"||e instanceof String?r=Uh.from(e):r=Uh.from(String(e)),this[gl]={stream:r,disturbed:!1,error:null},e instanceof Uh&&r.on("error",n=>{let o=n instanceof ewt?n:new Z4t(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[gl].error=o})}get body(){return this[gl].stream}get bodyUsed(){return this[gl].disturbed}async buffer(){return I9e(this)}async arrayBuffer(){return nwt(await this.buffer())}async text(){return(await I9e(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(jP.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var iwt=s(t=>{if(t[gl].disturbed)throw new TypeError("Cannot clone: already read");let{stream:e}=t[gl],r=e;if(e instanceof Uh){r=new E9e;let n=new E9e;e.pipe(r),e.pipe(n),t[gl].stream=n}return r},"cloneStream"),owt=s(t=>t===null?null:typeof t=="string"?"text/plain; charset=utf-8":t instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(t)||x9e(t)||t instanceof Uh?null:"text/plain; charset=utf-8","guessContentType");v9e.exports={Body:jP,cloneStream:iwt,guessContentType:owt}});var Av=T((Syn,w9e)=>{"use strict";d();var{validateHeaderName:b9e,validateHeaderValue:_9e}=require("http"),{isPlainObject:swt}=Oh(),qh=Symbol("Headers internals"),Mw=s(t=>{let e=typeof t!="string"?String(t):t;if(typeof b9e=="function")b9e(e);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let r=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return e.toLowerCase()},"normalizeName"),T9e=s((t,e)=>{let r=typeof t!="string"?String(t):t;if(typeof _9e=="function")_9e(e,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),zP=class t{static{s(this,"Headers")}constructor(e={}){if(this[qh]={map:new Map},e instanceof t)e.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(e))e.forEach(([r,n])=>{this.append(r,n)});else if(swt(e))for(let[r,n]of Object.entries(e))this.append(r,n)}set(e,r){this[qh].map.set(Mw(e),T9e(r,e))}has(e){return this[qh].map.has(Mw(e))}get(e){let r=this[qh].map.get(Mw(e));return r===void 0?null:r}append(e,r){let n=Mw(e),o=T9e(r,e),a=this[qh].map.get(n);this[qh].map.set(n,a?`${a}, ${o}`:o)}delete(e){this[qh].map.delete(Mw(e))}forEach(e,r){for(let n of this.keys())e.call(r,this.get(n),n)}keys(){return Array.from(this[qh].map.keys()).sort()}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[qh].map)}};Object.defineProperties(zP.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));w9e.exports={Headers:zP}});var rte=T((kyn,S9e)=>{"use strict";d();var{EventEmitter:awt}=require("events"),mu=Symbol("AbortSignal internals"),pv=class{static{s(this,"AbortSignal")}constructor(){this[mu]={eventEmitter:new awt,onabort:null,aborted:!1}}get aborted(){return this[mu].aborted}get onabort(){return this[mu].onabort}set onabort(e){this[mu].onabort=e}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(e,r){this[mu].eventEmitter.removeListener(e,r)}addEventListener(e,r){this[mu].eventEmitter.on(e,r)}dispatchEvent(e){let r={type:e,target:this},n=`on${e}`;typeof this[mu][n]=="function"&&this[n](r),this[mu].eventEmitter.emit(e,r)}fire(){this[mu].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(pv.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var JP=class extends pv{static{s(this,"TimeoutSignal")}constructor(e){if(!Number.isInteger(e))throw new TypeError(`Expected an integer, got ${typeof e}`);super(),this[mu].timerId=setTimeout(()=>{this.fire()},e)}clear(){clearTimeout(this[mu].timerId)}};Object.defineProperties(JP.prototype,{clear:{enumerable:!0}});var KP=Symbol("AbortController internals"),XP=class{static{s(this,"AbortController")}constructor(){this[KP]={signal:new pv}}get signal(){return this[KP].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[KP].signal.aborted||this[KP].signal.fire()}};Object.defineProperties(XP.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});S9e.exports={AbortController:XP,AbortSignal:pv,TimeoutSignal:JP}});var Ow=T((Qyn,k9e)=>{"use strict";d();var{randomBytes:cwt}=require("crypto"),{Readable:lwt}=require("stream"),ite=s(t=>typeof t=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&typeof t.type=="string"&&typeof t.size=="number"&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),"isBlob"),uwt=s(t=>t!=null&&typeof t=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&t[Symbol.toStringTag]==="FormData","isFormData"),B9e=s(t=>`--${t}--\r
\r
`,"getFooter"),R9e=s((t,e,r)=>{let n="";return n+=`--${t}\r
`,n+=`Content-Disposition: form-data; name="${e}"`,ite(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*fwt(t,e){for(let[r,n]of t)yield R9e(e,r,n),ite(n)?yield*n.stream():yield n,yield`\r
`;yield B9e(e)}s(fwt,"formDataIterator");var dwt=s((t,e)=>{let r=0;for(let[n,o]of t)r+=Buffer.byteLength(R9e(e,n,o)),r+=ite(o)?o.size:Buffer.byteLength(String(o)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(B9e(e)),r},"getFormDataLength"),nte=class{static{s(this,"FormDataSerializer")}constructor(e){this.fd=e,this.boundary=cwt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=dwt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return lwt.from(fwt(this.fd,this.boundary))}};k9e.exports={isFormData:uwt,FormDataSerializer:nte}});var N9e=T((Myn,D9e)=>{"use strict";d();var{AbortSignal:Lyn}=rte(),{Body:hwt,cloneStream:Awt,guessContentType:pwt}=$P(),{Headers:mwt}=Av(),{isPlainObject:gwt}=Oh(),{isFormData:Cwt,FormDataSerializer:ywt}=Ow(),Ewt=20,Sm=Symbol("Request internals"),ZP=class t extends hwt{static{s(this,"Request")}constructor(e,r={}){let n=e instanceof t?e:null,o=n?new URL(n.url):new URL(e),a=r.method||n&&n.method||"GET";if(a=a.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(a))throw new TypeError("Request with GET/HEAD method cannot have body");let c=r.body||(n&&n.body?Awt(n):null),l=new mwt(r.headers||n&&n.headers||{});if(Cwt(c)&&!l.has("content-type")){let A=new ywt(c);c=A.stream(),l.set("content-type",A.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",A.length())}if(!l.has("content-type"))if(gwt(c))c=JSON.stringify(c),l.set("content-type","application/json");else{let A=pwt(c);A&&l.set("content-type",A)}super(c);let u=n?n.signal:null;"signal"in r&&(u=r.signal);let f=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(f))throw new TypeError(`'${f}' is not a valid redirect option`);let h=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(h))throw new TypeError(`'${h}' is not a valid cache option`);this[Sm]={init:{...r},method:a,redirect:f,cache:h,headers:l,parsedURL:o,signal:u},r.follow===void 0?!n||n.follow===void 0?this.follow=Ewt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[Sm].method}get url(){return this[Sm].parsedURL.toString()}get headers(){return this[Sm].headers}get redirect(){return this[Sm].redirect}get cache(){return this[Sm].cache}get signal(){return this[Sm].signal}clone(){return new t(this)}get init(){return this[Sm].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(ZP.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});D9e.exports={Request:ZP}});var ote=T((qyn,Q9e)=>{"use strict";d();var{Body:Iwt,cloneStream:xwt,guessContentType:vwt}=$P(),{Headers:bwt}=Av(),{isPlainObject:_wt}=Oh(),{isFormData:Twt,FormDataSerializer:wwt}=Ow(),gu=Symbol("Response internals"),eF=class t extends Iwt{static{s(this,"Response")}constructor(e=null,r={}){let n=new bwt(r.headers),o=e;if(Twt(o)&&!n.has("content-type")){let a=new wwt(o);o=a.stream(),n.set("content-type",a.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",a.length())}if(o!==null&&!n.has("content-type"))if(_wt(o))o=JSON.stringify(o),n.set("content-type","application/json");else{let a=vwt(o);a&&n.set("content-type",a)}super(o),this[gu]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[gu].url||""}get status(){return this[gu].status}get statusText(){return this[gu].statusText}get ok(){return this[gu].status>=200&&this[gu].status<300}get redirected(){return this[gu].counter>0}get headers(){return this[gu].headers}get httpVersion(){return this[gu].httpVersion}get decoded(){return this[gu].decoded}static redirect(e,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new t(null,{headers:{location:new URL(e).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new t(xwt(this),{...this[gu]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(eF.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Q9e.exports={Response:eF}});var F9e=T((Wyn,P9e)=>{"use strict";d();var Swt=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),Bwt=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Rwt=new Set([500,502,503,504]),kwt={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},Dwt={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function ZC(t){let e=parseInt(t,10);return isFinite(e)?e:0}s(ZC,"toNumberOrZero");function Nwt(t){return t?Rwt.has(t.status):!0}s(Nwt,"isErrorResponse");function ste(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[o,a]=n.split(/=/,2);e[o.trim()]=a===void 0?!0:a.trim().replace(/^"|"$/g,"")}return e}s(ste,"parseCacheControl");function Qwt(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}s(Qwt,"formatCacheControl");P9e.exports=class{static{s(this,"CachePolicy")}constructor(e,r,{shared:n,cacheHeuristic:o,immutableMinTimeToLive:a,ignoreCargoCult:c,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=o!==void 0?o:.1,this._immutableMinTtl=a!==void 0?a:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=ste(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=ste(e.headers["cache-control"]),c&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Qwt(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Bwt.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Swt.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=ste(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)kwt[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let o of n)delete r[o]}if(r.warning){let n=r.warning.split(/,/).filter(o=>!/^\s*1[0-9][0-9]/.test(o));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return ZC(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return ZC(this._rescc["s-maxage"])}if(this._rescc["max-age"])return ZC(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+ZC(this._rescc["stale-if-error"]),n=e+ZC(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+ZC(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+ZC(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let o=r["if-none-match"].split(/,/).filter(a=>!/^\s*W\//.test(a));o.length?r["if-none-match"]=o.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&Nwt(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let o={};for(let c in this._resHeaders)o[c]=c in r.headers&&!Dwt[c]?r.headers[c]:this._resHeaders[c];let a=Object.assign({},r,{status:this._status,method:this._method,headers:o});return{policy:new this.constructor(e,a,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var U9e=T(($yn,O9e)=>{"use strict";d();var Pwt=F9e(),{Headers:Fwt}=Av(),L9e=s(t=>({url:t.url,method:t.method,headers:t.headers.plain()}),"convertRequest"),M9e=s(t=>({status:t.status,headers:t.headers.plain()}),"convertResponse"),ate=class{static{s(this,"CachePolicyWrapper")}constructor(e,r,n){this.policy=new Pwt(L9e(e),M9e(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(e){return this.policy.satisfiesWithoutRevalidation(L9e(e))}responseHeaders(e){return new Fwt(this.policy.responseHeaders(M9e(e)))}timeToLive(){return this.policy.timeToLive()}};O9e.exports=ate});var G9e=T((Jyn,H9e)=>{"use strict";d();var{Readable:Lwt}=require("stream"),{Headers:q9e}=Av(),{Response:Mwt}=ote(),Bm=Symbol("CacheableResponse internals"),Owt=s(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),cte=class t extends Mwt{static{s(this,"CacheableResponse")}constructor(e,r){super(e,r);let n=new q9e(r.headers);this[Bm]={headers:n,bufferedBody:e}}get headers(){return this[Bm].headers}set headers(e){if(e instanceof q9e)this[Bm].headers=e;else throw new TypeError("instance of Headers expected")}get body(){return Lwt.from(this[Bm].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[Bm].bufferedBody}async arrayBuffer(){return Owt(this[Bm].bufferedBody)}async text(){return this[Bm].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:e,status:r,statusText:n,headers:o,httpVersion:a,decoded:c,counter:l}=this;return new t(this[Bm].bufferedBody,{url:e,status:r,statusText:n,headers:o,httpVersion:a,decoded:c,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},Uwt=s(async t=>{let e=await t.buffer(),{url:r,status:n,statusText:o,headers:a,httpVersion:c,decoded:l,counter:u}=t;return new cte(e,{url:r,status:n,statusText:o,headers:a,httpVersion:c,decoded:l,counter:u})},"cacheableResponse");H9e.exports={cacheableResponse:Uwt}});var tF=T((eEn,V9e)=>{"use strict";d();var lte=class extends Error{static{s(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};V9e.exports={RequestAbortedError:lte}});var z9e=T((nEn,$9e)=>{"use strict";d();var Y9e=require("http"),j9e=require("https"),{Readable:qwt}=require("stream"),Hh=Xu()("helix-fetch:h1"),{RequestAbortedError:W9e}=tF(),{decodeStream:Hwt}=Oh(),Gwt=s((t,e)=>{let{h1:r,options:{h1:n,rejectUnauthorized:o}}=t;return e==="https:"?r.httpsAgent?r.httpsAgent:n||typeof o=="boolean"?(r.httpsAgent=new j9e.Agent(typeof o=="boolean"?{...n||{},rejectUnauthorized:o}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new Y9e.Agent(n),r.httpAgent):void 0},"getAgent"),Vwt=s(t=>{t.h1={}},"setupContext"),Wwt=s(async({h1:t})=>{t.httpAgent&&(Hh("resetContext: destroying httpAgent"),t.httpAgent.destroy(),delete t.httpAgent),t.httpsAgent&&(Hh("resetContext: destroying httpsAgent"),t.httpsAgent.destroy(),delete t.httpsAgent)},"resetContext"),Ywt=s((t,e,r)=>{let{statusCode:n,statusMessage:o,httpVersion:a,httpVersionMajor:c,httpVersionMinor:l,headers:u}=t,f=e?Hwt(n,u,t,r):t;return{statusCode:n,statusText:o,httpVersion:a,httpVersionMajor:c,httpVersionMinor:l,headers:u,readable:f,decoded:!!(e&&f!==t)}},"createResponse"),jwt=s(async(t,e,r)=>{let{request:n}=e.protocol==="https:"?j9e:Y9e,o=Gwt(t,e.protocol),a={...r,agent:o},{socket:c,body:l}=a;return c&&(delete a.socket,c.assigned||(c.assigned=!0,o?a.agent=new Proxy(o,{get:s((u,f)=>f==="createConnection"&&!c.inUse?(h,A)=>{Hh(`agent reusing socket #${c.id} (${c.servername})`),c.inUse=!0,A(null,c)}:u[f],"get")}):a.createConnection=(u,f)=>{Hh(`reusing socket #${c.id} (${c.servername})`),c.inUse=!0,f(null,c)})),new Promise((u,f)=>{Hh(`${a.method} ${e.href}`);let h,{signal:A}=a,p=s(()=>{A.removeEventListener("abort",p),c&&!c.inUse&&(Hh(`discarding redundant socket used for ALPN: #${c.id} ${c.servername}`),c.destroy()),f(new W9e),h&&h.abort()},"onAbortSignal");if(A){if(A.aborted){f(new W9e);return}A.addEventListener("abort",p)}h=n(e,a),h.once("response",m=>{A&&A.removeEventListener("abort",p),c&&!c.inUse&&(Hh(`discarding redundant socket used for ALPN: #${c.id} ${c.servername}`),c.destroy()),u(Ywt(m,a.decode,f))}),h.once("error",m=>{A&&A.removeEventListener("abort",p),c&&!c.inUse&&(Hh(`discarding redundant socket used for ALPN: #${c.id} ${c.servername}`),c.destroy()),h.aborted||(Hh(`${a.method} ${e.href} failed with: ${m.message}`),h.abort(),f(m))}),l instanceof qwt?l.pipe(h):(l&&h.write(l),h.end())})},"h1Request");$9e.exports={request:jwt,setupContext:Vwt,resetContext:Wwt}});var Z9e=T((sEn,X9e)=>{"use strict";d();var{connect:$wt,constants:zwt}=require("http2"),{Readable:Kwt}=require("stream"),ci=Xu()("helix-fetch:h2"),{RequestAbortedError:K9e}=tF(),{decodeStream:Jwt}=Oh(),{NGHTTP2_CANCEL:Uw}=zwt,Xwt=300*1e3,Zwt=5e3,eSt=s(t=>{t.h2={sessionCache:{}}},"setupContext"),tSt=s(async({h2:t})=>Promise.all(Object.values(t.sessionCache).map(e=>new Promise(r=>{e.on("close",r),ci(`resetContext: destroying session (socket #${e.socket&&e.socket.id}, ${e.socket&&e.socket.servername})`),e.destroy()}))),"resetContext"),J9e=s((t,e,r,n=()=>{})=>{let o={...t},a=o[":status"];delete o[":status"];let c=r?Jwt(a,t,e,n):e;return{statusCode:a,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:o,readable:c,decoded:!!(r&&c!==e)}},"createResponse"),rSt=s((t,e,r,n,o,a)=>{let{options:{h2:{pushPromiseHandler:c,pushHandler:l,pushedStreamIdleTimeout:u=Zwt}}}=t,f=o[":path"],h=`${e}${f}`;ci(`received PUSH_PROMISE: ${h}, stream #${n.id}, headers: ${JSON.stringify(o)}, flags: ${a}`),c&&c(h,o,s(()=>{n.close(Uw)},"rejectPush")),n.on("push",(A,p)=>{ci(`received push headers for ${e}${f}, stream #${n.id}, headers: ${JSON.stringify(A)}, flags: ${p}`),n.setTimeout(u,()=>{ci(`closing pushed stream #${n.id} after ${u} ms of inactivity`),n.close(Uw)}),l&&l(h,o,J9e(A,n,r))}),n.on("aborted",()=>{ci(`pushed stream #${n.id} aborted`)}),n.on("error",A=>{ci(`pushed stream #${n.id} encountered error: ${A}`)}),n.on("frameError",(A,p,m)=>{ci(`pushed stream #${n.id} encountered frameError: type: ${A}, code: ${p}, id: ${m}`)})},"handlePush"),nSt=s(async(t,e,r)=>{let{origin:n,pathname:o,search:a,hash:c}=e,l=`${o}${a}${c}`,{options:{h2:u={}},h2:{sessionCache:f}}=t,{idleSessionTimeout:h=Xwt,pushPromiseHandler:A,pushHandler:p}=u,m={...r},{method:g,headers:y,socket:E,body:I,decode:x}=m;return E&&delete m.socket,y.host&&(y[":authority"]=y.host,delete y.host),new Promise((v,b)=>{let _=f[n];if(!_||_.closed||_.destroyed){let Y=!(t.options.rejectUnauthorized===!1||u.rejectUnauthorized===!1),D={...u,rejectUnauthorized:Y};E&&!E.inUse&&(D.createConnection=()=>(ci(`reusing socket #${E.id} (${E.servername})`),E.inUse=!0,E)),_=$wt(n,{...D,settings:{enablePush:!!(A||p)}}),_.setMaxListeners(1e3),_.setTimeout(h,()=>{ci(`closing session ${n} after ${h} ms of inactivity`),_.close()}),_.once("connect",()=>{ci(`session ${n} established`),ci(`caching session ${n}`),f[n]=_}),_.on("localSettings",W=>{ci(`session ${n} localSettings: ${JSON.stringify(W)}`)}),_.on("remoteSettings",W=>{ci(`session ${n} remoteSettings: ${JSON.stringify(W)}`)}),_.once("close",()=>{ci(`session ${n} closed`),f[n]===_&&(ci(`discarding cached session ${n}`),delete f[n])}),_.once("error",W=>{ci(`session ${n} encountered error: ${W}`),f[n]===_&&(ci(`discarding cached session ${n}`),delete f[n])}),_.on("frameError",(W,R,Q)=>{ci(`session ${n} encountered frameError: type: ${W}, code: ${R}, id: ${Q}`)}),_.once("goaway",(W,R,Q)=>{ci(`session ${n} received GOAWAY frame: errorCode: ${W}, lastStreamID: ${R}, opaqueData: ${Q?Q.toString():void 0}`)}),_.on("stream",(W,R,Q)=>{rSt(t,n,x,W,R,Q)})}else E&&E.id!==_.socket.id&&!E.inUse&&(ci(`discarding redundant socket used for ALPN: #${E.id} ${E.servername}`),E.destroy());ci(`${g} ${e.host}${l}`);let S,{signal:w}=m,L=s(()=>{w.removeEventListener("abort",L),b(new K9e),S&&S.close(Uw)},"onAbortSignal");if(w){if(w.aborted){b(new K9e);return}w.addEventListener("abort",L)}let M=s(Y=>{ci(`session ${n} encountered error during ${m.method} ${e.href}: ${Y}`),b(Y)},"onSessionError");_.once("error",M),S=_.request({":method":g,":path":l,...y}),S.once("response",Y=>{_.off("error",M),w&&w.removeEventListener("abort",L),v(J9e(Y,S,m.decode,b))}),S.once("error",Y=>{_.off("error",M),w&&w.removeEventListener("abort",L),S.rstCode!==Uw&&(ci(`${m.method} ${e.href} failed with: ${Y.message}`),S.close(Uw),b(Y))}),S.once("frameError",(Y,D,O)=>{_.off("error",M),ci(`encountered frameError during ${m.method} ${e.href}: type: ${Y}, code: ${D}, id: ${O}`)}),S.on("push",(Y,D)=>{ci(`received 'push' event: headers: ${JSON.stringify(Y)}, flags: ${D}`)}),I instanceof Kwt?I.pipe(S):(I&&S.write(I),S.end())})},"request");X9e.exports={request:nSt,setupContext:eSt,resetContext:tSt}});var t7e=T((lEn,e7e)=>{"use strict";d();var{EventEmitter:iSt}=require("events"),oSt=s(()=>{let t={},e=new iSt;return e.setMaxListeners(0),{acquire:s(r=>new Promise(n=>{if(!t[r]){t[r]=!0,n();return}let o=s(a=>{t[r]||(t[r]=!0,e.removeListener(r,o),n(a))},"tryAcquire");e.on(r,o)}),"acquire"),release:s((r,n)=>{Reflect.deleteProperty(t,r),setImmediate(()=>e.emit(r,n))},"release")}},"lock");e7e.exports=oSt});var r7e=T((dEn,sSt)=>{sSt.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var a7e=T((hEn,s7e)=>{"use strict";d();var{Readable:aSt}=require("stream"),cSt=require("tls"),{types:{isAnyArrayBuffer:lSt}}=require("util"),uSt=Xee(),ute=Xu()("helix-fetch:core"),{RequestAbortedError:rF}=tF(),fte=z9e(),nF=Z9e(),fSt=t7e(),{isPlainObject:dSt}=Oh(),{isFormData:hSt,FormDataSerializer:ASt}=Ow(),{version:pSt}=r7e(),dte="h2",hte="h2c",Ate="http/1.0",ey="http/1.1",mSt=100,gSt=3600*1e3,CSt=[dte,ey,Ate],ySt=`helix-fetch/${pSt}`,ESt={method:"GET",compress:!0,decode:!0},n7e=0,i7e=fSt(),o7e=s((t,e)=>new Promise((r,n)=>{let{signal:o}=e,a,c=s(()=>{o.removeEventListener("abort",c);let f=new rF;n(f),a&&a.destroy(f)},"onAbortSignal");if(o){if(o.aborted){n(new rF);return}o.addEventListener("abort",c)}let l=+t.port||443,u=s(f=>{o&&o.removeEventListener("abort",c),f instanceof rF||(ute(`connecting to ${t.hostname}:${l} failed with: ${f.message}`),n(f))},"onError");a=cSt.connect(l,t.hostname,e),a.once("secureConnect",()=>{o&&o.removeEventListener("abort",c),a.off("error",u),n7e+=1,a.id=n7e,a.secureConnecting=!1,ute(`established TLS connection: #${a.id} (${a.servername})`),r(a)}),a.once("error",u)}),"connectTLS"),ISt=s(async(t,e)=>{let r=await i7e.acquire(t.origin);try{return r||(r=await o7e(t,e)),r}finally{i7e.release(t.origin,r)}},"connect"),xSt=s(async(t,e,r)=>{let n=`${e.protocol}//${e.host}`,o=t.alpnCache.get(n);if(o)return{protocol:o};switch(e.protocol){case"http:":return o=ey,t.alpnCache.set(n,o),{protocol:o};case"http2:":return o=hte,t.alpnCache.set(n,o),{protocol:o};case"https:":break;default:throw new TypeError(`unsupported protocol: ${e.protocol}`)}let{options:{rejectUnauthorized:a,h1:c={},h2:l={}}}=t,u=!(a===!1||c.rejectUnauthorized===!1||l.rejectUnauthorized===!1),f={servername:e.hostname,ALPNProtocols:t.alpnProtocols,signal:r,rejectUnauthorized:u};t.options.ca&&(f.ca=t.options.ca);let h=await ISt(e,f);return o=h.alpnProtocol,o||(o=ey),t.alpnCache.set(n,o),{protocol:o,socket:h}},"determineProtocol"),vSt=s(t=>{let e={};return Object.keys(t).forEach(r=>{e[r.toLowerCase()]=t[r]}),e},"sanitizeHeaders"),bSt=s(async(t,e,r,n)=>{let o=e.protocol==="https:",a;e.port?a=e.port:o?a=443:a=80;let c={...r,host:e.host,hostname:e.hostname,port:a},l=await t(c);if(o){let f={...c,ALPNProtocols:n};f.socket=l,f.servername=c.host;let h=await o7e(e,f);return{protocol:h.alpnProtocol||ey,socket:h}}return{protocol:l.alpnProtocol||ey,socket:l}},"getProtocolAndSocketFromFactory"),_St=s(async(t,e,r)=>{let n=new URL(e),o={...ESt,...r||{}};typeof o.method=="string"&&(o.method=o.method.toUpperCase()),o.headers=vSt(o.headers||{}),o.headers.host===void 0&&(o.headers.host=n.host),t.userAgent&&o.headers["user-agent"]===void 0&&(o.headers["user-agent"]=t.userAgent);let a;if(o.body instanceof URLSearchParams)a="application/x-www-form-urlencoded; charset=utf-8",o.body=o.body.toString();else if(hSt(o.body)){let f=new ASt(o.body);a=f.contentType(),o.body=f.stream(),o.headers["transfer-encoding"]===void 0&&o.headers["content-length"]===void 0&&(o.headers["content-length"]=String(f.length()))}else typeof o.body=="string"||o.body instanceof String?a="text/plain; charset=utf-8":dSt(o.body)?(o.body=JSON.stringify(o.body),a="application/json"):lSt(o.body)&&(o.body=Buffer.from(o.body));o.headers["content-type"]===void 0&&a!==void 0&&(o.headers["content-type"]=a),o.body!=null&&(o.body instanceof aSt||(!(typeof o.body=="string"||o.body instanceof String)&&!Buffer.isBuffer(o.body)&&(o.body=String(o.body)),o.headers["transfer-encoding"]===void 0&&o.headers["content-length"]===void 0&&(o.headers["content-length"]=String(Buffer.isBuffer(o.body)?o.body.length:Buffer.byteLength(o.body,"utf-8"))))),o.headers.accept===void 0&&(o.headers.accept="*/*"),o.body==null&&["POST","PUT"].includes(o.method)&&(o.headers["content-length"]="0"),o.compress&&o.headers["accept-encoding"]===void 0&&(o.headers["accept-encoding"]="gzip,deflate,br");let{signal:c}=o,{protocol:l,socket:u=null}=t.socketFactory?await bSt(t.socketFactory,n,o,t.alpnProtocols):await xSt(t,n,c);switch(ute(`${n.host} -> ${l}`),l){case dte:try{return await nF.request(t,n,u?{...o,socket:u}:o)}catch(f){let{code:h,message:A}=f;throw h==="ERR_HTTP2_ERROR"&&A==="Protocol error"&&t.alpnCache.delete(`${n.protocol}//${n.host}`),f}case hte:return nF.request(t,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),u?{...o,socket:u}:o);case Ate:case ey:return fte.request(t,n,u?{...o,socket:u}:o);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),TSt=s(async t=>(t.alpnCache.clear(),Promise.all([fte.resetContext(t),nF.resetContext(t)])),"resetContext"),wSt=s(t=>{let{options:{alpnProtocols:e=CSt,alpnCacheTTL:r=gSt,alpnCacheSize:n=mSt,userAgent:o=ySt,socketFactory:a}}=t;t.alpnProtocols=e,t.alpnCache=new uSt({max:n,ttl:r}),t.userAgent=o,t.socketFactory=a,fte.setupContext(t),nF.setupContext(t)},"setupContext");s7e.exports={request:_St,setupContext:wSt,resetContext:TSt,RequestAbortedError:rF,ALPN_HTTP2:dte,ALPN_HTTP2C:hte,ALPN_HTTP1_1:ey,ALPN_HTTP1_0:Ate}});var l7e=T((mEn,c7e)=>{"use strict";d();var SSt=Xu()("helix-fetch:core"),{request:BSt,setupContext:RSt,resetContext:kSt,RequestAbortedError:DSt,ALPN_HTTP2:NSt,ALPN_HTTP2C:QSt,ALPN_HTTP1_1:PSt,ALPN_HTTP1_0:FSt}=a7e(),pte=class t{static{s(this,"RequestContext")}constructor(e){this.options={...e||{}},RSt(this)}api(){return{request:s(async(e,r)=>this.request(e,r),"request"),context:s((e={})=>new t(e).api(),"context"),setCA:s(e=>this.setCA(e),"setCA"),reset:s(async()=>this.reset(),"reset"),RequestAbortedError:DSt,ALPN_HTTP2:NSt,ALPN_HTTP2C:QSt,ALPN_HTTP1_1:PSt,ALPN_HTTP1_0:FSt}}async request(e,r){return BSt(this,e,r)}setCA(e){this.options.ca=e}async reset(){return SSt("resetting context"),kSt(this)}};c7e.exports=new pte().api()});var A7e=T((yEn,h7e)=>{"use strict";d();var{EventEmitter:LSt}=require("events"),{Readable:qw}=require("stream"),mte=Xu()("helix-fetch"),MSt=Xee(),{Body:OSt}=$P(),{Headers:Ete}=Av(),{Request:ty}=N9e(),{Response:Cte}=ote(),{FetchBaseError:USt,FetchError:Hw,AbortError:iF}=tte(),{AbortController:qSt,AbortSignal:HSt,TimeoutSignal:GSt}=rte(),VSt=U9e(),{cacheableResponse:WSt}=G9e(),{sizeof:YSt}=Oh(),{isFormData:jSt}=Ow(),{context:$St,RequestAbortedError:zSt}=l7e(),u7e=["GET","HEAD"],KSt=500,JSt=100*1024*1024,gte="push",f7e=s(async(t,e,r)=>{let{request:n}=t.context,o=e instanceof ty&&typeof r>"u"?e:new ty(e,r),{method:a,body:c,signal:l,compress:u,decode:f,follow:h,redirect:A,init:{body:p}}=o,m;if(l&&l.aborted){let _=new iF("The operation was aborted.");throw o.init.body instanceof qw&&o.init.body.destroy(_),_}try{m=await n(o.url,{...r,method:a,headers:o.headers.plain(),body:p&&!(p instanceof qw)&&!jSt(p)?p:c,compress:u,decode:f,follow:h,redirect:A,signal:l})}catch(_){throw p instanceof qw&&p.destroy(_),_ instanceof TypeError?_:_ instanceof zSt?new iF("The operation was aborted."):new Hw(_.message,"system",_)}let g=s(()=>{l.removeEventListener("abort",g);let _=new iF("The operation was aborted.");o.init.body instanceof qw&&o.init.body.destroy(_),m.readable.emit("error",_)},"abortHandler");l&&l.addEventListener("abort",g);let{statusCode:y,statusText:E,httpVersion:I,headers:x,readable:v,decoded:b}=m;if([301,302,303,307,308].includes(y)){let{location:_}=x,S=_==null?null:new URL(_,o.url);switch(o.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",g),new Hw(`uri requested responds with a redirect, redirect mode is set to 'error': ${o.url}`,"no-redirect");case"follow":{if(S===null)break;if(o.counter>=o.follow)throw l&&l.removeEventListener("abort",g),new Hw(`maximum redirect reached at: ${o.url}`,"max-redirect");let w={headers:new Ete(o.headers),follow:o.follow,compress:o.compress,decode:o.decode,counter:o.counter+1,method:o.method,body:o.body,signal:o.signal};if(y!==303&&o.body&&o.init.body instanceof qw)throw l&&l.removeEventListener("abort",g),new Hw("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(y===303||(y===301||y===302)&&o.method==="POST")&&(w.method="GET",w.body=void 0,w.headers.delete("content-length")),l&&l.removeEventListener("abort",g),f7e(t,new ty(S,w))}default:}}return l&&(v.once("end",()=>{l.removeEventListener("abort",g)}),v.once("error",()=>{l.removeEventListener("abort",g)})),new Cte(v,{url:o.url,status:y,statusText:E,headers:x,httpVersion:I,decoded:b,counter:o.counter})},"fetch"),d7e=s(async(t,e,r)=>{if(t.options.maxCacheSize===0||!u7e.includes(e.method))return r;let n=new VSt(e,r,{shared:!1});if(n.storable()){let o=await WSt(r);return t.cache.set(e.url,{policy:n,response:o},n.timeToLive()),o}else return r},"cacheResponse"),XSt=s(async(t,e,r)=>{let n=new ty(e,r);if(t.options.maxCacheSize!==0&&u7e.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:c,response:l}=t.cache.get(n.url)||{};if(c&&c.satisfiesWithoutRevalidation(n)){l.headers=new Ete(c.responseHeaders(l));let u=l.clone();return u.fromCache=!0,u}}let a=await f7e(t,n);return n.cache!=="no-store"?d7e(t,n,a):a},"cachingFetch"),ZSt=s((t,e={})=>{let r=new URL(t);if(typeof e!="object"||Array.isArray(e))throw new TypeError("qs: object expected");return Object.entries(e).forEach(([n,o])=>{Array.isArray(o)?o.forEach(a=>r.searchParams.append(n,a)):r.searchParams.append(n,o)}),r.href},"createUrl"),e3t=s(t=>new GSt(t),"timeoutSignal"),yte=class t{static{s(this,"FetchContext")}constructor(e){this.options={...e};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:JSt,o=KSt;n===0&&(n=1,o=1);let a=s(({response:l},u)=>YSt(l),"sizeCalculation");this.cache=new MSt({max:o,maxSize:n,sizeCalculation:a}),this.eventEmitter=new LSt,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:c}=this.options.h2;c&&(this.options.h2.pushPromiseHandler=(l,u,f)=>{let h={...u};Object.keys(h).filter(A=>A.startsWith(":")).forEach(A=>delete h[A]),this.pushPromiseHandler(l,h,f)},this.options.h2.pushHandler=(l,u,f)=>{let h={...u};Object.keys(h).filter(I=>I.startsWith(":")).forEach(I=>delete h[I]);let{statusCode:A,statusText:p,httpVersion:m,headers:g,readable:y,decoded:E}=f;this.pushHandler(l,h,new Cte(y,{url:l,status:A,statusText:p,headers:g,httpVersion:m,decoded:E}))}),this.context=$St(this.options)}api(){return{fetch:s(async(e,r)=>this.fetch(e,r),"fetch"),Body:OSt,Headers:Ete,Request:ty,Response:Cte,AbortController:qSt,AbortSignal:HSt,FetchBaseError:USt,FetchError:Hw,AbortError:iF,context:s((e={})=>new t(e).api(),"context"),setCA:s(e=>this.setCA(e),"setCA"),noCache:s((e={})=>new t({...e,maxCacheSize:0}).api(),"noCache"),h1:s((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:s((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:s((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:s((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:s(async()=>this.context.reset(),"reset"),onPush:s(e=>this.onPush(e),"onPush"),offPush:s(e=>this.offPush(e),"offPush"),createUrl:ZSt,timeoutSignal:e3t,clearCache:s(()=>this.clearCache(),"clearCache"),cacheStats:s(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(e,r){return XSt(this,e,r)}setCA(e){this.options.ca=e,this.context.setCA(e)}onPush(e){return this.eventEmitter.on(gte,e)}offPush(e){return this.eventEmitter.off(gte,e)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(e,r,n){mte(`received server push promise: ${e}, headers: ${JSON.stringify(r)}`);let o=new ty(e,{headers:r}),{policy:a}=this.cache.get(e)||{};a&&a.satisfiesWithoutRevalidation(o)&&(mte(`already cached, reject push promise: ${e}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(e,r,n){mte(`caching resource pushed by server: ${e}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let o=await d7e(this,new ty(e,{headers:r}),n);this.eventEmitter.emit(gte,e,o)}};h7e.exports=new yte().api()});var m7e=T((xEn,p7e)=>{"use strict";d();p7e.exports=A7e()});d();d();d();d();d();d();var gv="github.copilot";d();d();d();d();d();function wte(t){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>t.includes(r))}s(wte,"findKnownOrg");function Ste(t){let e=t.organization_list??[];return wte(e)??""}s(Ste,"getUserKind");d();var Rm=class{static{s(this,"LogTarget")}},km=class{static{s(this,"TelemetryLogSender")}},or=class{constructor(e){this.category=e}static{s(this,"Logger")}log(e,r,...n){e.get(Rm).logIt(e,r,this.category,...n)}debug(e,...r){this.log(e,4,...r)}info(e,...r){this.log(e,3,...r)}warn(e,...r){this.log(e,2,...r)}error(e,...r){this.log(e,1,...r)}exception(e,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let o=n;n.startsWith(".")&&(o=n.substring(1),n=`${this.category}${n}`),e.get(km).sendException(e,r,n);let a=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(e,1,`${o}:`,a)}},Ri=new or("default");d();d();d();var Cv=class extends Error{static{s(this,"HttpTimeoutError")}constructor(e,r){super(e,{cause:r}),this.name="HttpTimeoutError"}};function Gh(t){return!t||typeof t!="object"?!1:t instanceof Cv||"name"in t&&t.name==="AbortError"||"code"in t&&t.code==="ABORT_ERR"}s(Gh,"isAbortError");var iy=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{s(this,"JsonParseError")}},Zf=class extends Error{static{s(this,"FetchResponseError")}constructor(e,r=`HTTP ${e.status} ${e.statusText}`){super(r),this.name="FetchResponseError",this.code=`HTTP${e.status}`}},T7e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function aF(t,e=!0){return t instanceof Error?e&&"cause"in t&&aF(t.cause,!1)?!0:t.name==="EditorFetcherError"||t.name==="FetchError"||t instanceof iy||t instanceof Zf||t?.message?.startsWith("net::")||T7e.has(t.code??""):!1}s(aF,"isNetworkError");var Ww=class{constructor(e,r,n,o,a){this.status=e;this.statusText=r;this.headers=n;this.getText=o;this.getBody=a;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{s(this,"Response")}async text(){return this.getText()}async json(){let e=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new iy(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(e)}catch(n){if(n instanceof SyntaxError){let o=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(o&&parseInt(o[2],10)==e.length||n.message==="Unexpected end of JSON input"){let a=new TextEncoder().encode(e).length,c=this.headers.get("content-length");throw c===null?new iy(`Response body truncated: actualLength=${a}`,"Truncated"):new iy(`Response body truncated: actualLength=${a}, headerLength=${c}`,"Truncated")}}throw n}}body(){return this.getBody()}};var to=class{static{s(this,"Fetcher")}getImplementation(){return this}};function cF(t,e,r,n,o,a,c,l,u,f){let h={...l,Authorization:`Bearer ${r}`,...Dm(t)};f===void 0&&(h["Openai-Organization"]="github-copilot",h["X-Request-Id"]=o,h["VScode-SessionId"]=t.get(ko).sessionId,h["VScode-MachineId"]=t.get(ko).machineId,h["X-GitHub-Api-Version"]=Yw),n&&(h["OpenAI-Intent"]=n);let A={method:"POST",headers:h,json:a,timeout:u},p=t.get(to);if(c){let g=new AbortController;c.onCancellationRequested(()=>{vt(t,"networking.cancelRequest",xr.createAndMarkAsIssued({headerRequestId:o})),g.abort()}),A.signal=g.signal}return p.fetch(e,A).catch(g=>{if(w7e(g))return vt(t,"networking.disconnectAll"),p.disconnectAll().then(()=>p.fetch(e,A));throw g})}s(cF,"postRequest");function w7e(t){return t instanceof Error?t.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in t?t.code=="ECONNRESET"||t.code=="ETIMEDOUT"||t.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}s(w7e,"isInterruptedNetworkError");d();function Bte(){return typeof process>"u"}s(Bte,"isWeb");function yv(){return typeof process<"u"&&process.env.MSBENCH_MODE==="true"}s(yv,"isMsBenchModeEnabled");var lF=class extends Zf{static{s(this,"ProxiedResponseError")}constructor(e){super(e,`HTTP ${e.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`)}};async function Ev(t,e,r,n={}){n={...n,headers:{Authorization:`Bearer ${e.accessToken}`,...Bte()?{}:Dm(t),...n.headers}};let o=await t.get(to).fetch(new URL(r,e.apiUrl).href,n);if(o.status>=500)throw new Zf(o);if(!o.headers.get("x-github-request-id"))throw new lF(o);return o}s(Ev,"apiFetch");d();d();d();var Lre=We(xv());var vr=class{constructor(e=10){this.valueMap=new Map;if(e<1)throw new Error("Size limit must be at least 1");this.sizeLimit=e}static{s(this,"LRUCacheMap")}set(e,r){if(this.has(e))this.valueMap.delete(e);else if(this.valueMap.size>=this.sizeLimit){let n=this.valueMap.keys().next().value;this.delete(n)}return this.valueMap.set(e,r),this}get(e){if(this.valueMap.has(e)){let r=this.valueMap.get(e);return this.valueMap.delete(e),this.valueMap.set(e,r),r}}delete(e){return this.valueMap.delete(e)}clear(){this.valueMap.clear()}get size(){return this.valueMap.size}keys(){return new Map(this.valueMap).keys()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(e){return this.valueMap.has(e)}forEach(e,r){new Map(this.valueMap).forEach(e,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(e){return this.valueMap.get(e)}};var oy=class{constructor(){this.recentNotifications=new vr(100)}static{s(this,"NotificationSender")}async showWarningMessageOnlyOnce(e,r,...n){if(!this.recentNotifications.has(e??r))return this.recentNotifications.set(e??r,!0),this.showWarningMessage(r,...n)}async showInformationMessageOnlyOnce(e,r,...n){if(!this.recentNotifications.has(e??r))return this.recentNotifications.set(e??r,!0),this.showInformationMessage(r,...n)}};d();var Yh=class t{constructor(e){this.flags=e}static{s(this,"RuntimeMode")}static fromEnvironment(e,r=process.argv,n=process.env){return new t({debug:Ure(r,n),verboseLogging:B7e(r,n),testMode:e,simulation:S7e(n)})}};function Nm(t){return t.get(Yh).flags.testMode}s(Nm,"isRunningInTest");function vv(t){return Nm(t)}s(vv,"shouldFailForDebugPurposes");function Mre(t){return t.get(Yh).flags.debug}s(Mre,"isDebugEnabled");function Ore(t){return t.get(Yh).flags.verboseLogging}s(Ore,"isVerboseLoggingEnabled");function Ure(t,e){return t.includes("--debug")||dF(e,"DEBUG")}s(Ure,"determineDebugFlag");function S7e(t){return dF(t,"SIMULATION")}s(S7e,"determineSimulationFlag");function B7e(t,e){return e.COPILOT_AGENT_VERBOSE==="1"||e.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||dF(e,"VERBOSE")||Ure(t,e)}s(B7e,"determineVerboseLoggingEnabled");function dF(t,e){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=t[`${r}${e}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}s(dF,"determineEnvFlagEnabled");d();var Gre=require("os"),DS=require("path");d();var qre;(()=>{"use strict";var t={975:D=>{function O(Q){if(typeof Q!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(Q))}s(O,"e");function W(Q,q){for(var U,V="",z=0,$=-1,j=0,Z=0;Z<=Q.length;++Z){if(Z<Q.length)U=Q.charCodeAt(Z);else{if(U===47)break;U=47}if(U===47){if(!($===Z-1||j===1))if($!==Z-1&&j===2){if(V.length<2||z!==2||V.charCodeAt(V.length-1)!==46||V.charCodeAt(V.length-2)!==46){if(V.length>2){var le=V.lastIndexOf("/");if(le!==V.length-1){le===-1?(V="",z=0):z=(V=V.slice(0,le)).length-1-V.lastIndexOf("/"),$=Z,j=0;continue}}else if(V.length===2||V.length===1){V="",z=0,$=Z,j=0;continue}}q&&(V.length>0?V+="/..":V="..",z=2)}else V.length>0?V+="/"+Q.slice($+1,Z):V=Q.slice($+1,Z),z=Z-$-1;$=Z,j=0}else U===46&&j!==-1?++j:j=-1}return V}s(W,"r");var R={resolve:s(function(){for(var Q,q="",U=!1,V=arguments.length-1;V>=-1&&!U;V--){var z;V>=0?z=arguments[V]:(Q===void 0&&(Q=process.cwd()),z=Q),O(z),z.length!==0&&(q=z+"/"+q,U=z.charCodeAt(0)===47)}return q=W(q,!U),U?q.length>0?"/"+q:"/":q.length>0?q:"."},"resolve"),normalize:s(function(Q){if(O(Q),Q.length===0)return".";var q=Q.charCodeAt(0)===47,U=Q.charCodeAt(Q.length-1)===47;return(Q=W(Q,!q)).length!==0||q||(Q="."),Q.length>0&&U&&(Q+="/"),q?"/"+Q:Q},"normalize"),isAbsolute:s(function(Q){return O(Q),Q.length>0&&Q.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var Q,q=0;q<arguments.length;++q){var U=arguments[q];O(U),U.length>0&&(Q===void 0?Q=U:Q+="/"+U)}return Q===void 0?".":R.normalize(Q)},"join"),relative:s(function(Q,q){if(O(Q),O(q),Q===q||(Q=R.resolve(Q))===(q=R.resolve(q)))return"";for(var U=1;U<Q.length&&Q.charCodeAt(U)===47;++U);for(var V=Q.length,z=V-U,$=1;$<q.length&&q.charCodeAt($)===47;++$);for(var j=q.length-$,Z=z<j?z:j,le=-1,Se=0;Se<=Z;++Se){if(Se===Z){if(j>Z){if(q.charCodeAt($+Se)===47)return q.slice($+Se+1);if(Se===0)return q.slice($+Se)}else z>Z&&(Q.charCodeAt(U+Se)===47?le=Se:Se===0&&(le=0));break}var et=Q.charCodeAt(U+Se);if(et!==q.charCodeAt($+Se))break;et===47&&(le=Se)}var qe="";for(Se=U+le+1;Se<=V;++Se)Se!==V&&Q.charCodeAt(Se)!==47||(qe.length===0?qe+="..":qe+="/..");return qe.length>0?qe+q.slice($+le):($+=le,q.charCodeAt($)===47&&++$,q.slice($))},"relative"),_makeLong:s(function(Q){return Q},"_makeLong"),dirname:s(function(Q){if(O(Q),Q.length===0)return".";for(var q=Q.charCodeAt(0),U=q===47,V=-1,z=!0,$=Q.length-1;$>=1;--$)if((q=Q.charCodeAt($))===47){if(!z){V=$;break}}else z=!1;return V===-1?U?"/":".":U&&V===1?"//":Q.slice(0,V)},"dirname"),basename:s(function(Q,q){if(q!==void 0&&typeof q!="string")throw new TypeError('"ext" argument must be a string');O(Q);var U,V=0,z=-1,$=!0;if(q!==void 0&&q.length>0&&q.length<=Q.length){if(q.length===Q.length&&q===Q)return"";var j=q.length-1,Z=-1;for(U=Q.length-1;U>=0;--U){var le=Q.charCodeAt(U);if(le===47){if(!$){V=U+1;break}}else Z===-1&&($=!1,Z=U+1),j>=0&&(le===q.charCodeAt(j)?--j==-1&&(z=U):(j=-1,z=Z))}return V===z?z=Z:z===-1&&(z=Q.length),Q.slice(V,z)}for(U=Q.length-1;U>=0;--U)if(Q.charCodeAt(U)===47){if(!$){V=U+1;break}}else z===-1&&($=!1,z=U+1);return z===-1?"":Q.slice(V,z)},"basename"),extname:s(function(Q){O(Q);for(var q=-1,U=0,V=-1,z=!0,$=0,j=Q.length-1;j>=0;--j){var Z=Q.charCodeAt(j);if(Z!==47)V===-1&&(z=!1,V=j+1),Z===46?q===-1?q=j:$!==1&&($=1):q!==-1&&($=-1);else if(!z){U=j+1;break}}return q===-1||V===-1||$===0||$===1&&q===V-1&&q===U+1?"":Q.slice(q,V)},"extname"),format:s(function(Q){if(Q===null||typeof Q!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof Q);return function(q,U){var V=U.dir||U.root,z=U.base||(U.name||"")+(U.ext||"");return V?V===U.root?V+z:V+"/"+z:z}(0,Q)},"format"),parse:s(function(Q){O(Q);var q={root:"",dir:"",base:"",ext:"",name:""};if(Q.length===0)return q;var U,V=Q.charCodeAt(0),z=V===47;z?(q.root="/",U=1):U=0;for(var $=-1,j=0,Z=-1,le=!0,Se=Q.length-1,et=0;Se>=U;--Se)if((V=Q.charCodeAt(Se))!==47)Z===-1&&(le=!1,Z=Se+1),V===46?$===-1?$=Se:et!==1&&(et=1):$!==-1&&(et=-1);else if(!le){j=Se+1;break}return $===-1||Z===-1||et===0||et===1&&$===Z-1&&$===j+1?Z!==-1&&(q.base=q.name=j===0&&z?Q.slice(1,Z):Q.slice(j,Z)):(j===0&&z?(q.name=Q.slice(1,$),q.base=Q.slice(1,Z)):(q.name=Q.slice(j,$),q.base=Q.slice(j,Z)),q.ext=Q.slice($,Z)),j>0?q.dir=Q.slice(0,j-1):z&&(q.dir="/"),q},"parse"),sep:"/",delimiter:":",win32:null,posix:null};R.posix=R,D.exports=R}},e={};function r(D){var O=e[D];if(O!==void 0)return O.exports;var W=e[D]={exports:{}};return t[D](W,W.exports,r),W.exports}s(r,"r"),r.d=(D,O)=>{for(var W in O)r.o(O,W)&&!r.o(D,W)&&Object.defineProperty(D,W,{enumerable:!0,get:O[W]})},r.o=(D,O)=>Object.prototype.hasOwnProperty.call(D,O),r.r=D=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})};var n={};let o;r.r(n),r.d(n,{URI:s(()=>p,"URI"),Utils:s(()=>Y,"Utils")}),typeof process=="object"?o=process.platform==="win32":typeof navigator=="object"&&(o=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,c=/^\//,l=/^\/\//;function u(D,O){if(!D.scheme&&O)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${D.authority}", path: "${D.path}", query: "${D.query}", fragment: "${D.fragment}"}`);if(D.scheme&&!a.test(D.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(D.path){if(D.authority){if(!c.test(D.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(D.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(u,"a");let f="",h="/",A=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static{s(this,"l")}static isUri(O){return O instanceof p||!!O&&typeof O.authority=="string"&&typeof O.fragment=="string"&&typeof O.path=="string"&&typeof O.query=="string"&&typeof O.scheme=="string"&&typeof O.fsPath=="string"&&typeof O.with=="function"&&typeof O.toString=="function"}scheme;authority;path;query;fragment;constructor(O,W,R,Q,q,U=!1){typeof O=="object"?(this.scheme=O.scheme||f,this.authority=O.authority||f,this.path=O.path||f,this.query=O.query||f,this.fragment=O.fragment||f):(this.scheme=function(V,z){return V||z?V:"file"}(O,U),this.authority=W||f,this.path=function(V,z){switch(V){case"https":case"http":case"file":z?z[0]!==h&&(z=h+z):z=h}return z}(this.scheme,R||f),this.query=Q||f,this.fragment=q||f,u(this,U))}get fsPath(){return x(this,!1)}with(O){if(!O)return this;let{scheme:W,authority:R,path:Q,query:q,fragment:U}=O;return W===void 0?W=this.scheme:W===null&&(W=f),R===void 0?R=this.authority:R===null&&(R=f),Q===void 0?Q=this.path:Q===null&&(Q=f),q===void 0?q=this.query:q===null&&(q=f),U===void 0?U=this.fragment:U===null&&(U=f),W===this.scheme&&R===this.authority&&Q===this.path&&q===this.query&&U===this.fragment?this:new g(W,R,Q,q,U)}static parse(O,W=!1){let R=A.exec(O);return R?new g(R[2]||f,S(R[4]||f),S(R[5]||f),S(R[7]||f),S(R[9]||f),W):new g(f,f,f,f,f)}static file(O){let W=f;if(o&&(O=O.replace(/\\/g,h)),O[0]===h&&O[1]===h){let R=O.indexOf(h,2);R===-1?(W=O.substring(2),O=h):(W=O.substring(2,R),O=O.substring(R)||h)}return new g("file",W,O,f,f)}static from(O){let W=new g(O.scheme,O.authority,O.path,O.query,O.fragment);return u(W,!0),W}toString(O=!1){return v(this,O)}toJSON(){return this}static revive(O){if(O){if(O instanceof p)return O;{let W=new g(O);return W._formatted=O.external,W._fsPath=O._sep===m?O.fsPath:null,W}}return O}}let m=o?1:void 0;class g extends p{static{s(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(O=!1){return O?v(this,!0):(this._formatted||(this._formatted=v(this,!1)),this._formatted)}toJSON(){let O={$mid:1};return this._fsPath&&(O.fsPath=this._fsPath,O._sep=m),this._formatted&&(O.external=this._formatted),this.path&&(O.path=this.path),this.scheme&&(O.scheme=this.scheme),this.authority&&(O.authority=this.authority),this.query&&(O.query=this.query),this.fragment&&(O.fragment=this.fragment),O}}let y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E(D,O,W){let R,Q=-1;for(let q=0;q<D.length;q++){let U=D.charCodeAt(q);if(U>=97&&U<=122||U>=65&&U<=90||U>=48&&U<=57||U===45||U===46||U===95||U===126||O&&U===47||W&&U===91||W&&U===93||W&&U===58)Q!==-1&&(R+=encodeURIComponent(D.substring(Q,q)),Q=-1),R!==void 0&&(R+=D.charAt(q));else{R===void 0&&(R=D.substr(0,q));let V=y[U];V!==void 0?(Q!==-1&&(R+=encodeURIComponent(D.substring(Q,q)),Q=-1),R+=V):Q===-1&&(Q=q)}}return Q!==-1&&(R+=encodeURIComponent(D.substring(Q))),R!==void 0?R:D}s(E,"m");function I(D){let O;for(let W=0;W<D.length;W++){let R=D.charCodeAt(W);R===35||R===63?(O===void 0&&(O=D.substr(0,W)),O+=y[R]):O!==void 0&&(O+=D[W])}return O!==void 0?O:D}s(I,"y");function x(D,O){let W;return W=D.authority&&D.path.length>1&&D.scheme==="file"?`//${D.authority}${D.path}`:D.path.charCodeAt(0)===47&&(D.path.charCodeAt(1)>=65&&D.path.charCodeAt(1)<=90||D.path.charCodeAt(1)>=97&&D.path.charCodeAt(1)<=122)&&D.path.charCodeAt(2)===58?O?D.path.substr(1):D.path[1].toLowerCase()+D.path.substr(2):D.path,o&&(W=W.replace(/\//g,"\\")),W}s(x,"v");function v(D,O){let W=O?I:E,R="",{scheme:Q,authority:q,path:U,query:V,fragment:z}=D;if(Q&&(R+=Q,R+=":"),(q||Q==="file")&&(R+=h,R+=h),q){let $=q.indexOf("@");if($!==-1){let j=q.substr(0,$);q=q.substr($+1),$=j.lastIndexOf(":"),$===-1?R+=W(j,!1,!1):(R+=W(j.substr(0,$),!1,!1),R+=":",R+=W(j.substr($+1),!1,!0)),R+="@"}q=q.toLowerCase(),$=q.lastIndexOf(":"),$===-1?R+=W(q,!1,!0):(R+=W(q.substr(0,$),!1,!0),R+=q.substr($))}if(U){if(U.length>=3&&U.charCodeAt(0)===47&&U.charCodeAt(2)===58){let $=U.charCodeAt(1);$>=65&&$<=90&&(U=`/${String.fromCharCode($+32)}:${U.substr(3)}`)}else if(U.length>=2&&U.charCodeAt(1)===58){let $=U.charCodeAt(0);$>=65&&$<=90&&(U=`${String.fromCharCode($+32)}:${U.substr(2)}`)}R+=W(U,!0,!1)}return V&&(R+="?",R+=W(V,!1,!1)),z&&(R+="#",R+=O?z:E(z,!1,!1)),R}s(v,"b");function b(D){try{return decodeURIComponent(D)}catch{return D.length>3?D.substr(0,3)+b(D.substr(3)):D}}s(b,"C");let _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(D){return D.match(_)?D.replace(_,O=>b(O)):D}s(S,"w");var w=r(975);let L=w.posix||w,M="/";var Y;(function(D){D.joinPath=function(O,...W){return O.with({path:L.join(O.path,...W)})},D.resolvePath=function(O,...W){let R=O.path,Q=!1;R[0]!==M&&(R=M+R,Q=!0);let q=L.resolve(R,...W);return Q&&q[0]===M&&!O.authority&&(q=q.substring(1)),O.with({path:q})},D.dirname=function(O){if(O.path.length===0||O.path===M)return O;let W=L.dirname(O.path);return W.length===1&&W.charCodeAt(0)===46&&(W=""),O.with({path:W})},D.basename=function(O){return L.basename(O.path)},D.extname=function(O){return L.extname(O.path)}})(Y||(Y={})),qre=n})();var{URI:jh,Utils:kS}=qre;function Vre(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substring(0,3)+Vre(t.substring(3)):t}}s(Vre,"decodeURIComponentGraceful");var Hre=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function hF(t){return t.match(Hre)?t.replace(Hre,e=>Vre(e)):t}s(hF,"percentDecode");function NS(t){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(t))throw new Error("Path must not contain a scheme");if(!t)throw new Error("Path must not be empty");return jh.file(t).toString()}s(NS,"makeFsUri");function bv(t){if(typeof t!="string"&&(t=t.uri),/^[A-Za-z]:\\/.test(t))throw new Error(`Could not parse <${t}>: Windows-style path`);try{let e=t.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return e?jh.parse(e[1]+e[2],!0):jh.parse(t,!0)}catch(e){throw new Error(`Could not parse <${t}>`,{cause:e})}}s(bv,"parseUri");function $h(t){try{return bv(t).toString()}catch{return t}}s($h,"normalizeUri");var Wre=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function R7e(t){let e=bv(t);if(!Wre.has(e.scheme))throw new Error(`Copilot currently does not support URI with scheme: ${e.scheme}`);if((0,Gre.platform)()==="win32"){let r=e.path;return e.authority?r=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,DS.normalize)(r)}else{if(e.authority)throw new Error("Unsupported remote file path");return e.path}}s(R7e,"fsPath");function QS(t){try{return R7e(t)}catch{return}}s(QS,"getFsPath");function Yre(t){let e=QS(t);if(e)return jh.file(e).toString()}s(Yre,"getFsUri");function Qm(t,...e){let r,n=QS(t);return n?r=NS((0,DS.resolve)(n,...e)):r=kS.resolvePath(bv(t),...e.map(o=>jre(o))).toString(),typeof t=="string"?r:{uri:r}}s(Qm,"resolveFilePath");function Do(t,...e){let r=kS.joinPath(bv(t),...e.map(jre)).toString();return typeof t=="string"?r:{uri:r}}s(Do,"joinPath");function jre(t){return k7e(t)?t.replaceAll("\\","/"):t}s(jre,"pathToURIPath");function k7e(t){return/^[^/\\]*\\/.test(t)}s(k7e,"isWinPath");function zh(t){return hF((typeof t=="string"?t:t.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}s(zh,"basename");function td(t){let e=kS.dirname(bv(t)),r;return Wre.has(e.scheme)&&e.scheme!=="file"?r=e.with({scheme:"file",fragment:""}).toString():r=e.toString(),typeof t=="string"?r:{uri:r}}s(td,"dirname");var Kh=class{static{s(this,"NetworkConfiguration")}};function pF(t,e){try{let r=new URL(e??"");if(r.protocol==="https:"||!gF(t)&&r.protocol==="http:")return r.href}catch{}}s(pF,"ensurePermittedUrl");var sy={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function AF(t,e,r){if(r&&Nm(t)){for(let n of r){let o=Hi(t,n);if(o)return o}return}for(let n of e){let o=Hi(t,n);if(o)return o}}s(AF,"urlConfigOverride");function D7e(t,e){switch(e){case"api":return AF(t,[st.DebugOverrideCapiUrl,st.DebugOverrideCapiUrlLegacy],[st.DebugTestOverrideCapiUrl,st.DebugTestOverrideCapiUrlLegacy]);case"proxy":return AF(t,[st.DebugOverrideProxyUrl,st.DebugOverrideProxyUrlLegacy],[st.DebugTestOverrideProxyUrl,st.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!gF(t))return AF(t,[st.DebugSnippyOverrideUrl])}}s(D7e,"getEndpointOverrideUrl");function _v(t,e,r,...n){let o=D7e(t,r)??e.endpoints[r];return Do(o,...n)}s(_v,"getEndpointUrl");function PS(t){return mF(t)?.endpoints??sy}s(PS,"getLastKnownEndpoints");d();d();function ba(t,e){let r=rd(t,e,"event.CopilotToken");return t.get(yn).onDidChangeTokenResult(n=>{n.copilotToken&&r(n.copilotToken)})}s(ba,"onCopilotToken");function $re(t){let e=t.getTokenValue("tid"),r=t.organization_list,n=t.enterprise_list,o=t.getTokenValue("sku");if(!e)return;let a={copilot_trackingId:e};return r&&(a.organizations_list=r.toString()),n&&(a.enterprise_list=n.toString()),o&&(a.sku=o),a}s($re,"propertiesFromCopilotToken");var _a=class{constructor(e){this.#e={};this.optedIn=!1;this.ftFlag="";ba(e,r=>this.updateFromToken(r))}static{s(this,"TelemetryUserConfig")}#e;getProperties(){return this.#e}get trackingId(){return this.#e.copilot_trackingId}updateFromToken(e){let r=$re(e);r&&(this.#e=r,this.optedIn=e.getTokenValue("rt")==="1",this.ftFlag=e.getTokenValue("ft")??"")}};d();var Tv=class{static{s(this,"UrlOpener")}};var ay=new or("auth");function Pm(t){let e=t.serverUrl?.match(/^https?:\/\//)?t.serverUrl:"",r=t.apiUrl?.match(/^https?:\/\//)?t.apiUrl:"";return e?r||=e.replace("://","://api."):r?.includes("://api.")&&(e||=r.replace("://api.","://")),(!e||!r)&&(e="https://github.com/",r="https://api.github.com/"),{apiUrl:r,serverUrl:e}}s(Pm,"fillGitHubUrls");var FS=class{static{s(this,"CopilotTokenFetcher")}};d();var cy=class extends Error{static{s(this,"CopilotAuthError")}constructor(e,r){super(e,{cause:r}),this.name="CopilotAuthError"}};d();d();d();d();d();d();d();d();d();d();function id(t,e){return t||e}s(id,"_pureAssign");function Fo(t,e){return t[e]}s(Fo,"_pureRef");var Ta=void 0,ro=null,kF="",VS="function",Sv="object",nd="prototype",BF="__proto__",Lm="undefined",US="constructor",DF="Symbol",N7e="_polyfill",fy="length",qS="name",Ts="call",WS="toString",A0=id(Object),NF=Fo(A0,nd),tne=id(String),hy=Fo(tne,nd),YS=id(Math),rne=id(Array),jS=Fo(rne,nd),Jh=Fo(jS,"slice");function Po(t,e){try{return{v:t.apply(this,e)}}catch(r){return{e:r}}}s(Po,"safe");function Q7e(t,e){var r=Po(t);return r.e?e:r.v}s(Q7e,"safeGet");var CF;function $S(t){return function(e){return typeof e===t}}s($S,"_createIs");function nne(t){var e="[object "+t+"]";return function(r){return!!(r&&zS(r)===e)}}s(nne,"_createObjIs");function zS(t){return NF[WS].call(t)}s(zS,"objToString");function Zr(t){return typeof t===Lm||t===Lm}s(Zr,"isUndefined");function P7e(t){return!KS(t)}s(P7e,"isStrictUndefined");function ot(t){return t===ro||Zr(t)}s(ot,"isNullOrUndefined");function F7e(t){return t===ro||!KS(t)}s(F7e,"isStrictNullOrUndefined");function KS(t){return!!t||t!==Ta}s(KS,"isDefined");function L7e(t){return!CF&&(CF=["string","number","boolean",Lm,"symbol","bigint"]),t!==Sv&&CF.indexOf(t)!==-1}s(L7e,"isPrimitiveType");var Or=$S("string"),Lt=$S(VS);function ws(t){return!t&&ot(t)?!1:!!t&&typeof t===Sv}s(ws,"isObject");var _t=Fo(rne,"isArray"),ine=nne("Date"),od=$S("number"),Bv=$S("boolean");var Rv=nne("Error");function mc(t){return!!(t&&t.then&&Lt(t.then))}s(mc,"isPromiseLike");function Xh(t){return!(!t||Q7e(function(){return!(t&&0+t)},!t))}s(Xh,"isTruthy");var JS=Fo(A0,"getOwnPropertyDescriptor");function wa(t,e){return!!t&&NF.hasOwnProperty[Ts](t,e)}s(wa,"objHasOwnProperty");var Cu=id(Fo(A0,"hasOwn"),M7e);function M7e(t,e){return wa(t,e)||!!JS(t,e)}s(M7e,"polyObjHasOwn");function Kt(t,e,r){if(t&&ws(t)){for(var n in t)if(Cu(t,n)&&e[Ts](r||t,n,t[n])===-1)break}}s(Kt,"objForEachKey");var LS={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function O7e(t){var e={};if(e[LS.c]=!0,e[LS.e]=!0,t.l){e.get=function(){return t.l.v};var r=JS(t.l,"v");r&&r.set&&(e.set=function(n){t.l.v=n})}return Kt(t,function(n,o){e[LS[n]]=P7e(o)?e[LS[n]]:o}),e}s(O7e,"_createProp");var pc=Fo(A0,"defineProperty"),one=Fo(A0,"defineProperties");function An(t,e,r){return pc(t,e,O7e(r))}s(An,"objDefine");function sne(t,e,r,n,o){var a={};return Kt(t,function(c,l){HS(a,c,e?l:c),HS(a,l,r?l:c)}),n?n(a):a}s(sne,"_createKeyValueMap");function HS(t,e,r,n){pc(t,e,{value:r,enumerable:!0,writable:!1})}s(HS,"_assignMapValue");var no=id(tne),U7e="[object Error]";function mt(t,e){var r=kF,n=NF[WS][Ts](t);n===U7e&&(t={stack:no(t.stack),message:no(t.message),name:no(t.name)});try{r=JSON.stringify(t,ro,e?typeof e=="number"?e:4:Ta),r=(r?r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):ro)||no(t)}catch(o){r=" - "+mt(o,e)}return n+": "+r}s(mt,"dumpObj");function Sa(t){throw new Error(t)}s(Sa,"throwError");function Ss(t){throw new TypeError(t)}s(Ss,"throwTypeError");var ane=Fo(A0,"freeze");function q7e(t){return t}s(q7e,"_doNothing");function H7e(t){return t[BF]||ro}s(H7e,"_getProto");var Ay=Fo(A0,"assign"),p0=Fo(A0,"keys");function Mm(t){return ane&&Kt(t,function(e,r){(_t(r)||ws(r))&&Mm(r)}),gc(t)}s(Mm,"objDeepFreeze");var gc=id(ane,q7e);var RF=id(Fo(A0,"getPrototypeOf"),H7e);function cne(t){return sne(t,1,0,gc)}s(cne,"createEnum");function G7e(t){return sne(t,0,0,gc)}s(G7e,"createEnumKeyMap");function V7e(t){var e={};return Kt(t,function(r,n){HS(e,r,n[1]),HS(e,n[0],n[1])}),gc(e)}s(V7e,"createSimpleMap");function lne(t){return V7e(t)}s(lne,"createTypeMap");var une=G7e({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Kre="__tsUtils$gblCfg",yF;function fne(){var t;return typeof globalThis!==Lm&&(t=globalThis),!t&&typeof self!==Lm&&(t=self),!t&&typeof window!==Lm&&(t=window),!t&&typeof global!==Lm&&(t=global),t}s(fne,"_getGlobalValue");function dne(){if(!yF){var t=Po(fne).v||{};yF=t[Kre]=t[Kre]||{}}return yF}s(dne,"_getGlobalConfig");var py=XS;function XS(t,e,r){var n=e?e[t]:ro;return function(o){var a=(o?o[t]:ro)||n;if(a||r){var c=arguments;return(a||r).apply(o,a?Jh[Ts](c,1):c)}Ss('"'+no(t)+'" not defined for '+mt(o))}}s(XS,"_unwrapFunctionWithPoly");function W7e(t){return function(e){return e[t]}}s(W7e,"_unwrapProp");var hne=Fo(YS,"min"),Om=Fo(YS,"max"),Jre=py("slice",hy),m0=py("substring",hy),Ane=XS("substr",hy,Y7e);function Y7e(t,e,r){return ot(t)&&Ss("Invalid "+mt(t)),r<0?kF:(e=e||0,e<0&&(e=Om(e+t[fy],0)),Zr(r)?Jre(t,e):Jre(t,e,e+r))}s(Y7e,"polyStrSubstr");function QF(t,e){return m0(t,0,e)}s(QF,"strLeft");var Xre="_urid",EF;function j7e(){if(!EF){var t=dne();EF=t.gblSym=t.gblSym||{k:{},s:{}}}return EF}s(j7e,"_globalSymbolRegistry");var MS;function PF(t){var e={description:no(t),toString:s(function(){return DF+"("+t+")"},"toString")};return e[N7e]=!0,e}s(PF,"polyNewSymbol");function $7e(t){var e=j7e();if(!Cu(e.k,t)){var r=PF(t),n=p0(e.s).length;r[Xre]=function(){return n+"_"+r[WS]()},e.k[t]=r,e.s[r[Xre]()]=no(t)}return e.k[t]}s($7e,"polySymbolFor");function z7e(t){!MS&&(MS={});var e,r=une[t];return r&&(e=MS[r]=MS[r]||PF(DF+"."+r)),e}s(z7e,"polyGetKnownSymbol");var Qo;function Um(){Qo=dne()}s(Um,"_initTestHooks");function pne(t){var e={};return!Qo&&Um(),e.b=Qo.lzy,pc(e,"v",{configurable:!0,get:s(function(){var r=t();return Qo.lzy||pc(e,"v",{value:r}),e.b=Qo.lzy,r},"get")}),e}s(pne,"getLazy");function g0(t){return pc({toJSON:s(function(){return t},"toJSON")},"v",{value:t})}s(g0,"createCachedValue");var mne="window",wv;function ZS(t,e){var r;return function(){return!Qo&&Um(),(!r||Qo.lzy)&&(r=g0(Po(t,e).v)),r.v}}s(ZS,"_getGlobalInstFn");function Cc(t){return!Qo&&Um(),(!wv||t===!1||Qo.lzy)&&(wv=g0(Po(fne).v||ro)),wv.v}s(Cc,"getGlobal");function jn(t,e){var r;if(!wv||e===!1?r=Cc(e):r=wv.v,r&&r[t])return r[t];if(t===mne)try{return window}catch{}return ro}s(jn,"getInst");function FF(){return!!yc()}s(FF,"hasDocument");var yc=ZS(jn,["document"]);function gne(){return!!Ba()}s(gne,"hasWindow");var Ba=ZS(jn,[mne]);function LF(){return!!C0()}s(LF,"hasNavigator");var C0=ZS(jn,["navigator"]);var Cne=ZS(function(){return!!Po(function(){return process&&(process.versions||{}).node}).v});var dy,IF;function e3(){return dy=g0(Po(jn,[DF]).v),dy}s(e3,"_initSymbol");function K7e(t){var e=(Qo.lzy?0:dy)||e3();return e.v?e.v[t]:Ta}s(K7e,"_getSymbolKey");function yne(){return!!J7e()}s(yne,"hasSymbol");function J7e(){return!Qo&&Um(),((Qo.lzy?0:dy)||e3()).v}s(J7e,"getSymbol");function kv(t,e){var r=une[t];!Qo&&Um();var n=(Qo.lzy?0:dy)||e3();return n.v?n.v[r||t]:e?Ta:z7e(t)}s(kv,"getKnownSymbol");function my(t,e){!Qo&&Um();var r=(Qo.lzy?0:dy)||e3();return r.v?r.v(t):e?ro:PF(t)}s(my,"newSymbol");function t3(t){return!Qo&&Um(),IF=(Qo.lzy?0:IF)||g0(Po(K7e,["for"]).v),(IF.v||$7e)(t)}s(t3,"symbolFor");function GS(t){return!!t&&Lt(t.next)}s(GS,"isIterator");function MF(t){return!F7e(t)&&Lt(t[kv(3)])}s(MF,"isIterable");var OS;function r3(t,e,r){if(t&&(GS(t)||(!OS&&(OS=g0(kv(3))),t=t[OS.v]?t[OS.v]():ro),GS(t))){var n=Ta,o=Ta;try{for(var a=0;!(o=t.next()).done&&e[Ts](r||t,o.value,a,t)!==-1;)a++}catch(c){n={e:c},t.throw&&(o=ro,t.throw(n))}finally{try{o&&!o.done&&t.return&&t.return(o)}finally{if(n)throw n.e}}}}s(r3,"iterForOf");function uy(t,e,r){return t.apply(e,r)}s(uy,"fnApply");function sd(t,e){return!Zr(e)&&t&&(_t(e)?uy(t.push,t,e):GS(e)||MF(e)?r3(e,function(r){t.push(r)}):t.push(e)),t}s(sd,"arrAppend");function nt(t,e,r){if(t)for(var n=t[fy]>>>0,o=0;o<n&&!(o in t&&e[Ts](r||t,t[o],o,t)===-1);o++);}s(nt,"arrForEach");var Gi=py("indexOf",jS);var qm=py("map",jS);function gy(t,e,r){return((t?t.slice:ro)||Jh).apply(t,Jh[Ts](arguments,1))}s(gy,"arrSlice");var OF=py("reduce",jS);var yu=id(Fo(A0,"create"),X7e);function X7e(t){if(!t)return{};var e=typeof t;e!==Sv&&e!==VS&&Ss("Prototype must be an Object or function: "+mt(t));function r(){}return s(r,"tempFunc"),r[nd]=t,new r}s(X7e,"polyObjCreate");var xF;function Ene(t,e){var r=A0.setPrototypeOf||function(n,o){var a;!xF&&(xF=g0((a={},a[BF]=[],a instanceof Array))),xF.v?n[BF]=o:Kt(o,function(c,l){return n[c]=l})};return r(t,e)}s(Ene,"objSetPrototypeOf");function Z7e(t,e,r){Po(An,[e,qS,{v:t,c:!0,e:!1}]),e=Ene(e,r);function n(){this[US]=e,Po(An,[this,qS,{v:t,c:!0,e:!1}])}return s(n,"__"),e[nd]=r===ro?yu(r):(n[nd]=r[nd],new n),e}s(Z7e,"_createCustomError");function Zre(t,e){e&&(t[qS]=e)}s(Zre,"_setName");function UF(t,e,r){var n=r||Error,o=n[nd][qS],a=Error.captureStackTrace;return Z7e(t,function(){var c=this,l=arguments;try{Po(Zre,[n,t]);var u=uy(n,c,Jh[Ts](l))||c;if(u!==c){var f=RF(c);f!==RF(u)&&Ene(u,f)}return a&&a(u,c[US]),e&&e(u,l),u}finally{Po(Zre,[n,o])}},n)}s(UF,"createCustomError");function Ec(){return(Date.now||eke)()}s(Ec,"utcNow");function eke(){return new Date().getTime()}s(eke,"polyUtcNow");function tke(t){return s(function(r){return ot(r)&&Ss("strTrim called ["+mt(r)+"]"),r&&r.replace&&(r=r.replace(t,kF)),r},"_doTrim")}s(tke,"_createTrimFn");var rke=tke(/^\s+|(?=\s)\s+$/g);var En=XS("trim",hy,rke);var ad=Fo(YS,"floor");var vF,bF,_F;function es(t){if(!t||typeof t!==Sv)return!1;_F||(_F=gne()?Ba():!0);var e=!1;if(t!==_F){bF||(vF=Function[nd][WS],bF=vF[Ts](A0));try{var r=RF(t);e=!r,e||(wa(r,US)&&(r=r[US]),e=!!(r&&typeof r===VS&&vF[Ts](r)===bF))}catch{}}return e}s(es,"isPlainObject");function nke(t){return t.value&&xne(t),!0}s(nke,"_defaultDeepCopyHandler");var ene=[ake,xne,lke,cke];function ike(t,e,r,n){var o;return nt(t,function(a){if(a.k===e)return o=a,-1}),o||(o={k:e,v:e},t.push(o),n(o)),o.v}s(ike,"_getSetVisited");function qF(t,e,r,n){var o=r.handler,a=r.path?n?r.path.concat(n):r.path:[],c={handler:r.handler,src:r.src,path:a},l=typeof e,u=!1,f=e===ro;f||(e&&l===Sv?u=es(e):f=L7e(l));var h={type:l,isPrim:f,isPlain:u,value:e,result:e,path:a,origin:r.src,copy:s(function(A,p){return qF(t,A,p?c:r,p)},"copy"),copyTo:s(function(A,p){return Ine(t,A,p,c)},"copyTo")};return h.isPrim?o&&o[Ts](r,h)?h.result:e:ike(t,e,a,function(A){An(h,"result",{g:s(function(){return A.v},"g"),s:s(function(g){A.v=g},"s")});for(var p=0,m=o;!(m||(p<ene.length?ene[p++]:nke))[Ts](r,h);)m=ro})}s(qF,"_deepCopy");function Ine(t,e,r,n){if(!ot(r))for(var o in r)e[o]=qF(t,r[o],n,o);return e}s(Ine,"_copyProps");function oke(t,e,r){var n={handler:r,src:e,path:[]};return Ine([],t,e,n)}s(oke,"objCopyProps");function ske(t,e){var r={handler:e,src:t};return qF([],t,r)}s(ske,"objDeepCopy");function ake(t){var e=t.value;if(_t(e)){var r=t.result=[];return r.length=e.length,t.copyTo(r,e),!0}return!1}s(ake,"arrayDeepCopyHandler");function cke(t){var e=t.value;return ine(e)?(t.result=new Date(e.getTime()),!0):!1}s(cke,"dateDeepCopyHandler");function lke(t){return t.type===VS}s(lke,"functionDeepCopyHandler");function xne(t){var e=t.value;if(e&&t.isPlain){var r=t.result={};return t.copyTo(r,e),!0}return!1}s(xne,"plainObjDeepCopyHandler");function uke(t,e){return nt(e,function(r){oke(t,r)}),t}s(uke,"_doExtend");function HF(t,e,r,n,o,a,c){return uke(ske(t)||{},Jh[Ts](arguments))}s(HF,"deepExtend");var GF=W7e(fy);var vne=Fo(YS,"round");var Dv=XS("endsWith",hy,fke);function fke(t,e,r){Or(t)||Ss("'"+mt(t)+"' is not a string");var n=Or(e)?e:no(e),o=!Zr(r)&&r<t[fy]?r:t[fy];return m0(t,o-n[fy],o)===n}s(fke,"polyStrEndsWith");var Eu=py("indexOf",hy);var TF="ref",wF="unref",SF="hasRef",dke="enabled";function hke(t,e,r){var n=!0,o=t?e(ro):ro,a;function c(){return n=!1,o&&o[wF]&&o[wF](),a}s(c,"_unref");function l(){o&&r(o),o=ro}s(l,"_cancel");function u(){return o=e(o),n||c(),a}s(u,"_refresh");function f(h){!h&&o&&l(),h&&!o&&u()}return s(f,"_setEnabled"),a={cancel:l,refresh:u},a[SF]=function(){return o&&o[SF]?o[SF]():n},a[TF]=function(){return n=!0,o&&o[TF]&&o[TF](),a},a[wF]=c,a=pc(a,dke,{get:s(function(){return!!o},"get"),set:f}),{h:a,dn:s(function(){o=ro},"dn")}}s(hke,"_createTimerHandler");function bne(t,e,r){var n=_t(e),o=n?e.length:0,a=(o>0?e[0]:n?Ta:e)||setTimeout,c=(o>1?e[1]:Ta)||clearTimeout,l=r[0];r[0]=function(){u.dn(),uy(l,Ta,Jh[Ts](arguments))};var u=hke(t,function(f){if(f){if(f.refresh)return f.refresh(),f;uy(c,Ta,[f])}return uy(a,Ta,r)},function(f){uy(c,Ta,[f])});return u.h}s(bne,"_createTimeoutWith");function Ic(t,e){return bne(!0,Ta,Jh[Ts](arguments))}s(Ic,"scheduleTimeout");function _ne(t,e){return bne(!1,Ta,Jh[Ts](arguments))}s(_ne,"createTimeout");var Hm=cne,VF=lne;d();var Cl=Hm({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2});d();d();var yl="toLowerCase",ut="length",Cy="warnToConsole",cd="throwInternal",Iu="watch",Zh="apply",sr="push",xu="splice",$n="logger",ld="cancel",ud="initialize",vu="identifier",yy="removeNotificationListener",Ey="addNotificationListener",Ra="isInitialized",Gm="value",Nv="getNotifyMgr",eA="getPlugin",xc="name",Eo="processNext",n3="getProcessTelContext",tA="enabled",WF="stopPollingInternalLogs",y0="unload",Qv="onComplete",i3="version",o3="loggingLevelConsole",bu="createNew",vc="teardown",Iy="messageId",_u="message",ka="diagLog",rA="_doTeardown",Vm="update",bc="getNext",nA="setNextPlugin",Pv="userAgent",El="split",Il="replace",fd="type",YF="evtName",Wm="status",jF="getAllResponseHeaders",Fv="isChildEvt",iA="data",Ym="getCtx",xl="setCtx",$F="itemsReceived",xy="urlString",s3="headers",jm="timeout",a3="traceFlags";var zF;function Tne(t,e){zF||(zF=UF("AggregationError",function(n,o){o[ut]>1&&(n.errors=o[1])}));var r=t||"One or more errors occurred.";throw nt(e,function(n,o){r+=`
`.concat(o," > ").concat(mt(n))}),new zF(r,e||[])}s(Tne,"throwAggregationError");d();d();d();var c3="function",Lv="object",Mv="undefined",dd="prototype";var vy=Object,KF=vy[dd];d();var wRt=(Cc()||{}).Symbol,SRt=(Cc()||{}).Reflect;var wne="hasOwnProperty",pke=s(function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)KF[wne].call(e,o)&&(t[o]=e[o])}return t},"__objAssignFnImpl"),E0=Ay||pke,JF=s(function(t,e){return JF=vy.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n[wne](o)&&(r[o]=n[o])},JF(t,e)},"extendStaticsFn");function Tu(t,e){typeof e!==c3&&e!==null&&Ss("Class extends value "+String(e)+" is not a constructor or null"),JF(t,e);function r(){this.constructor=t}s(r,"__"),t[dd]=e===null?yu(e):(r[dd]=e[dd],new r)}s(Tu,"__extendsFn");function l3(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t}s(l3,"__spreadArrayFn");d();d();var u3;var A3="constructor",hd="prototype",p3="function",m3="_dynInstFuncs",eL="_isDynProxy",by="_dynClass",mke="_dynCls$",tL="_dynInstChk",Ov=tL,Dne="_dfOpts",Sne="_unknown_",iL="__proto__",f3="_dyn"+iL,Bne="__dynProto$Gbl",XF="_dynInstProto",d3="useBaseInst",rL="setInstFuncs",oL=Object,Uv=oL.getPrototypeOf,Rne=oL.getOwnPropertyNames,kne=Cc(),nL=kne[Bne]||(kne[Bne]={o:(u3={},u3[rL]=!0,u3[d3]=!0,u3),n:1e3});function h3(t){return t&&(t===oL[hd]||t===Array[hd])}s(h3,"_isObjectOrArrayPrototype");function sL(t){return h3(t)||t===Function[hd]}s(sL,"_isObjectArrayOrFunctionPrototype");function $m(t){var e;if(t){if(Uv)return Uv(t);var r=t[iL]||t[hd]||(t[A3]?t[A3][hd]:null);e=t[f3]||r,wa(t,f3)||(delete t[XF],e=t[f3]=t[XF]||t[f3],t[XF]=r)}return e}s($m,"_getObjProto");function g3(t,e){var r=[];if(Rne)r=Rne(t);else for(var n in t)typeof n=="string"&&wa(t,n)&&r.push(n);if(r&&r.length>0)for(var o=0;o<r.length;o++)e(r[o])}s(g3,"_forEachProp");function aL(t,e,r){return e!==A3&&typeof t[e]===p3&&(r||wa(t,e))&&e!==iL&&e!==hd}s(aL,"_isDynamicCandidate");function C3(t){Ss("DynamicProto: "+t)}s(C3,"_throwTypeError");function gke(t){var e=yu(null);return g3(t,function(r){!e[r]&&aL(t,r,!1)&&(e[r]=t[r])}),e}s(gke,"_getInstanceFuncs");function cL(t,e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return!0;return!1}s(cL,"_hasVisited");function Cke(t,e,r,n){function o(u,f,h){var A=f[h];if(A[eL]&&n){var p=u[m3]||{};p[Ov]!==!1&&(A=(p[f[by]]||{})[h]||A)}return function(){return A.apply(u,arguments)}}s(o,"_instFuncProxy");var a=yu(null);g3(r,function(u){a[u]=o(e,r,u)});for(var c=$m(t),l=[];c&&!sL(c)&&!cL(l,c);)g3(c,function(u){!a[u]&&aL(c,u,!Uv)&&(a[u]=o(e,c,u))}),l.push(c),c=$m(c);return a}s(Cke,"_getBaseFuncs");function yke(t,e,r,n){var o=null;if(t&&wa(r,by)){var a=t[m3]||yu(null);if(o=(a[r[by]]||yu(null))[e],o||C3("Missing ["+e+"] "+p3),!o[tL]&&a[Ov]!==!1){for(var c=!wa(t,e),l=$m(t),u=[];c&&l&&!sL(l)&&!cL(u,l);){var f=l[e];if(f){c=f===n;break}u.push(l),l=$m(l)}try{c&&(t[e]=o),o[tL]=1}catch{a[Ov]=!1}}}return o}s(yke,"_getInstFunc");function Eke(t,e,r){var n=e[t];return n===r&&(n=$m(e)[t]),typeof n!==p3&&C3("["+t+"] is not a "+p3),n}s(Eke,"_getProtoFunc");function Ike(t,e,r,n,o){function a(u,f){var h=s(function(){var A=yke(this,f,u,h)||Eke(f,u,h);return A.apply(this,arguments)},"dynProtoProxy");return h[eL]=1,h}if(s(a,"_createDynamicPrototype"),!h3(t)){var c=r[m3]=r[m3]||yu(null);if(!h3(c)){var l=c[e]=c[e]||yu(null);c[Ov]!==!1&&(c[Ov]=!!o),h3(l)||g3(r,function(u){aL(r,u,!1)&&r[u]!==n[u]&&(l[u]=r[u],delete r[u],(!wa(t,u)||t[u]&&!t[u][eL])&&(t[u]=a(t,u)))})}}}s(Ike,"_populatePrototype");function xke(t,e){if(Uv){for(var r=[],n=$m(e);n&&!sL(n)&&!cL(r,n);){if(n===t)return!0;r.push(n),n=$m(n)}return!1}return!0}s(xke,"_checkPrototype");function ZF(t,e){return wa(t,hd)?t.name||e||Sne:((t||{})[A3]||{}).name||e||Sne}s(ZF,"_getObjName");function Bn(t,e,r,n){wa(t,hd)||C3("theClass is an invalid class definition.");var o=t[hd];xke(o,e)||C3("["+ZF(t)+"] not in hierarchy of ["+ZF(e)+"]");var a=null;wa(o,by)?a=o[by]:(a=mke+ZF(t,"_")+"$"+nL.n,nL.n++,o[by]=a);var c=Bn[Dne],l=!!c[d3];l&&n&&n[d3]!==void 0&&(l=!!n[d3]);var u=gke(e),f=Cke(o,e,u,l);r(e,f);var h=!!Uv&&!!c[rL];h&&n&&(h=!!n[rL]),Ike(o,a,e,u,h!==!1)}s(Bn,"dynamicProto");Bn[Dne]=nL.o;d();var E3="Promise";var mL="rejected";function _c(t,e){return Fne(t,function(r){return e?e({status:"fulfilled",rejected:!1,value:r}):r},function(r){return e?e({status:mL,rejected:!0,reason:r}):r})}s(_c,"doAwaitResponse");function Fne(t,e,r,n){var o=t;try{if(mc(t))(e||r)&&(o=t.then(e,r));else try{e&&(o=e(t))}catch(a){if(r)o=r(a);else throw a}}finally{n&&vke(o,n)}return o}s(Fne,"doAwait");function vke(t,e){var r=t;return e&&(mc(t)?t.finally?r=t.finally(e):r=t.then(function(n){return e(),n},function(n){throw e(),n}):e()),r}s(vke,"doFinally");var lL,uL,fL,Nne=!1;function bke(t,e,r,n){lL=lL||{toString:s(function(){return"[[PromiseState]]"},"toString")},uL=uL||{toString:s(function(){return"[[PromiseResult]]"},"toString")},fL=fL||{toString:s(function(){return"[[PromiseIsHandled]]"},"toString")};var o={};o[lL]={get:e},o[uL]={get:r},o[fL]={get:n},one(t,o)}s(bke,"_addDebugState$1");var Lne=["pending","resolving","resolved",mL],Qne="dispatchEvent",y3;function _ke(t){var e;return t&&t.createEvent&&(e=t.createEvent("Event")),!!e&&e.initEvent}s(_ke,"_hasInitEventFn");function Tke(t,e,r,n){var o=yc();!y3&&(y3=g0(!!Po(_ke,[o]).v));var a=y3.v?o.createEvent("Event"):n?new Event(e):{};if(r&&r(a),y3.v&&a.initEvent(e,!1,!0),a&&t[Qne])t[Qne](a);else{var c=t["on"+e];if(c)c(a);else{var l=jn("console");l&&(l.error||l.log)(e,mt(a))}}}s(Tke,"emitEvent");var Mne="unhandledRejection",wke=Mne.toLowerCase(),qv=[],Ske=0,Bke=10;var dL;function Pne(t){return Lt(t)?t.toString():mt(t)}s(Pne,"dumpFnObj");function One(t,e,r){var n=gy(arguments,3),o=0,a=!1,c,l=[],u=Ske++,f=qv.length>0?qv[qv.length-1]:void 0,h=!1,A=null,p;function m(_,S){try{qv.push(u),h=!0,A&&A.cancel(),A=null;var w=t(function(L,M){l.push(function(){try{var Y=o===2?_:S,D=Zr(Y)?c:Lt(Y)?Y(c):Y;mc(D)?D.then(L,M):Y?L(D):o===3?M(D):L(D)}catch(O){M(O)}}),a&&I()},n);return w}finally{qv.pop()}}s(m,"_then");function g(_){return m(void 0,_)}s(g,"_catch");function y(_){var S=_,w=_;return Lt(_)&&(S=s(function(L){return _&&_(),L},"thenFinally"),w=s(function(L){throw _&&_(),L},"catchFinally")),m(S,w)}s(y,"_finally");function E(){return Lne[o]}s(E,"_strState");function I(){if(l.length>0){var _=l.slice();l=[],h=!0,A&&A.cancel(),A=null,e(_)}}s(I,"_processQueue");function x(_,S){return function(w){if(o===S){if(_===2&&mc(w)){o=1,w.then(x(2,1),x(3,1));return}o=_,a=!0,c=w,I(),!h&&_===3&&!A&&(A=Ic(v,Bke))}}}s(x,"_createSettleIfFn");function v(){if(!h)if(h=!0,Cne())process.emit(Mne,c,p);else{var _=Ba()||Cc();!dL&&(dL=g0(Po(jn,[E3+"RejectionEvent"]).v)),Tke(_,wke,function(S){return An(S,"promise",{g:s(function(){return p},"g")}),S.reason=c,S},!!dL.v)}}s(v,"_notifyUnhandledRejection"),p={then:m,catch:g,finally:y},pc(p,"state",{get:E}),Nne&&bke(p,E,function(){return zS(c)},function(){return h}),yne()&&(p[kv(11)]="IPromise");function b(){return"IPromise"+(Nne?"["+u+(Zr(f)?"":":"+f)+"]":"")+" "+E()+(a?" - "+Pne(c):"")}return s(b,"_toString"),p.toString=b,s(function(){Lt(r)||Ss(E3+": executor is not a function - "+Pne(r));var S=x(3,0);try{r.call(p,x(2,0),S)}catch(w){S(w)}},"_initialize")(),p}s(One,"_createPromise");function Rke(t){return function(e){var r=gy(arguments,1);return t(function(n,o){try{var a=[],c=1;r3(e,function(l,u){l&&(c++,Fne(l,function(f){a[u]=f,--c===0&&n(a)},o))}),c--,c===0&&n(a)}catch(l){o(l)}},r)}}s(Rke,"_createAllPromise");function kke(t){return g0(function(e){var r=gy(arguments,1);return t(function(n,o){var a=[],c=1;function l(u,f){c++,_c(u,function(h){h.rejected?a[f]={status:mL,reason:h.reason}:a[f]={status:"fulfilled",value:h.value},--c===0&&n(a)})}s(l,"processItem");try{_t(e)?nt(e,l):MF(e)?r3(e,l):Ss("Input is not an iterable"),c--,c===0&&n(a)}catch(u){o(u)}},r)})}s(kke,"_createAllSettledPromise");function Une(t){nt(t,function(e){try{e()}catch{}})}s(Une,"syncItemProcessor");function Dke(t){var e=od(t)?t:0;return function(r){Ic(function(){Une(r)},e)}}s(Dke,"timeoutItemProcessor");function qne(t,e){return One(qne,Dke(e),t,e)}s(qne,"createAsyncPromise");var hL;function Nke(t,e){!hL&&(hL=g0(Po(jn,[E3]).v||null));var r=hL.v;if(!r)return qne(t);Lt(t)||Ss(E3+": executor is not a function - "+mt(t));var n=0;function o(){return Lne[n]}s(o,"_strState");var a=new r(function(c,l){function u(h){n=2,c(h)}s(u,"_resolve");function f(h){n=3,l(h)}s(f,"_reject"),t(u,f)});return pc(a,"state",{get:o}),a}s(Nke,"createNativePromise");var AL;function Hv(t){return One(Hv,Une,t)}s(Hv,"createSyncPromise");function Hne(t,e){return!AL&&(AL=kke(Hv)),AL.v(t,e)}s(Hne,"createSyncAllSettledPromise");var pL;function wu(t,e){return!pL&&(pL=g0(Nke)),pL.v.call(this,t,e)}s(wu,"createPromise");var Gne=Rke(wu);var a6t=kv(11);d();d();d();d();var Tc=void 0,rr="",zm="channels",ki="core",I3="createPerfMgr",Gv="disabled",Ad="extensionConfig",Km="extensions",Da="processTelemetry",Jm="priority",_y="eventsSent",oA="eventsDiscarded",Ty="eventsSendRequest",Su="perfEvent",x3="offlineEventsStored",v3="offlineBatchSent",b3="offlineBatchDrop",wy="getPerfMgr",_3="domain",T3="path",Vne="Not dynamic - ";var Qke="getPrototypeOf",Pke=/-([a-z])/g,Fke=/([^\w\d_$])/g,Lke=/^(\d+[\w\d_$])/,g6t=Object[Qke];function sA(t){return!ot(t)}s(sA,"isNotNullOrUndefined");function Vv(t){var e=t;return e&&Or(e)&&(e=e[Il](Pke,function(r,n){return n.toUpperCase()}),e=e[Il](Fke,"_"),e=e[Il](Lke,function(r,n){return"_"+n})),e}s(Vv,"normalizeJsName");function Io(t,e){return t&&e?Eu(t,e)!==-1:!1}s(Io,"strContains");function aA(t){return t&&t.toISOString()||""}s(aA,"toISOString");function Vi(t){return Rv(t)?t[xc]:rr}s(Vi,"getExceptionName");function Bu(t,e,r,n,o){var a=r;return t&&(a=t[e],a!==r&&(!o||o(a))&&(!n||n(r))&&(a=r,t[e]=a)),a}s(Bu,"setValue");function gL(t,e,r){var n;return t?(n=t[e],!n&&ot(n)&&(n=Zr(r)?{}:r,t[e]=n)):n=Zr(r)?{}:r,n}s(gL,"getSetValue");function Mke(t,e){var r=null,n=null;return Lt(t)?r=t:n=t,function(){var o=arguments;if(r&&(n=r()),n)return n[e][Zh](n,o)}}s(Mke,"_createProxyFunction");function Xm(t,e,r,n,o){t&&e&&r&&(o!==!1||Zr(t[e]))&&(t[e]=Mke(r,n))}s(Xm,"proxyFunctionAs");function Zm(t,e,r,n){return t&&e&&ws(t)&&_t(r)&&nt(r,function(o){Or(o)&&Xm(t,o,e,o,n)}),t}s(Zm,"proxyFunctions");function CL(t){return function(){function e(){var r=this;t&&Kt(t,function(n,o){r[n]=o})}return s(e,"class_1"),e}()}s(CL,"createClassFromInterface");function S3(t){return t&&Ay&&(t=vy(Ay({},t))),t}s(S3,"optimizeObject");function B3(t,e,r,n,o,a){var c=arguments,l=c[0]||{},u=c[ut],f=!1,h=1;for(u>0&&Bv(l)&&(f=l,l=c[h]||{},h++),ws(l)||(l={});h<u;h++){var A=c[h],p=_t(A),m=ws(A);for(var g in A){var y=p&&g in A||m&&Cu(A,g);if(y){var E=A[g],I=void 0;if(f&&E&&((I=_t(E))||es(E))){var x=l[g];I?_t(x)||(x=[]):es(x)||(x={}),E=B3(f,x,E)}E!==void 0&&(l[g]=E)}}}return l}s(B3,"objExtend");function Sy(t){try{return t.responseText}catch{}return null}s(Sy,"getResponseText");function Wv(t,e){return t?"XDomainRequest,Response:"+Sy(t)||"":e}s(Wv,"formatErrorMessageXdr");function eg(t,e){return t?"XMLHttpRequest,Status:"+t[Wm]+",Response:"+Sy(t)||t.response||"":e}s(eg,"formatErrorMessageXhr");function R3(t,e){return e&&(od(e)?t=[e].concat(t):_t(e)&&(t=e.concat(t))),t}s(R3,"prependTransports");var Oke="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Wne="withCredentials",Uke="timeout";function yL(t,e,r,n,o,a){n===void 0&&(n=!1),o===void 0&&(o=!1);function c(u,f,h){try{u[f]=h}catch{}}s(c,"_wrapSetXhrProp");var l=new XMLHttpRequest;return n&&c(l,Oke,n),r&&c(l,Wne,r),l.open(t,e,!o),r&&c(l,Wne,r),!o&&a&&c(l,Uke,a),l}s(yL,"openXhr");function Yne(t){var e={};if(Or(t)){var r=En(t)[El](/[\r\n]+/);nt(r,function(n){if(n){var o=n.indexOf(": ");if(o!==-1){var a=En(n.substring(0,o))[yl](),c=En(n.substring(o+1));e[a]=c}else e[En(n)]=1}})}return e}s(Yne,"convertAllHeadersToMap");function w3(t,e,r){if(!t[r]&&e&&e.getResponseHeader){var n=e.getResponseHeader(r);n&&(t[r]=En(n))}return t}s(w3,"_appendHeader");var qke="kill-duration",Hke="kill-duration-seconds",Gke="time-delta-millis";function Yv(t,e){var r={};return t[jF]?r=Yne(t[jF]()):e&&(r=w3(r,t,Gke),r=w3(r,t,qke),r=w3(r,t,Hke)),r}s(Yv,"_getAllResponseHeaders");d();d();var Vke="documentMode",Wke="location",Yke="console",$ne="JSON",jke="crypto",$ke="msCrypto";var vL="msie",bL="trident/",zne="XMLHttpRequest",EL=null,IL=null,zke=!1,By=null,xL=null;function Kne(t,e){var r=!1;if(t){try{if(r=e in t,!r){var n=t[dd];n&&(r=e in n)}}catch{}if(!r)try{var o=new t;r=!Zr(o[e])}catch{}}return r}s(Kne,"_hasProperty");function jv(t){if(t&&zke){var e=jn("__mockLocation");if(e)return e}return typeof location===Lv&&location?location:jn(Wke)}s(jv,"getLocation");function _L(){return typeof console!==Mv?console:jn(Yke)}s(_L,"getConsole");function cA(){return!!(typeof JSON===Lv&&JSON||jn($ne)!==null)}s(cA,"hasJSON");function Xs(){return cA()?JSON||jn($ne):null}s(Xs,"getJSON");function TL(){return jn(jke)}s(TL,"getCrypto");function wL(){return jn($ke)}s(wL,"getMsCrypto");function Ry(){var t=C0();if(t&&(t[Pv]!==IL||EL===null)){IL=t[Pv];var e=(IL||rr)[yl]();EL=Io(e,vL)||Io(e,bL)}return EL}s(Ry,"isIE");function SL(t){if(t===void 0&&(t=null),!t){var e=C0()||{};t=e?(e.userAgent||rr)[yl]():rr}var r=(t||rr)[yl]();if(Io(r,vL)){var n=yc()||{};return Om(parseInt(r[El](vL)[1]),n[Vke]||0)}else if(Io(r,bL)){var o=parseInt(r[El](bL)[1]);if(o)return o+4}return null}s(SL,"getIEVersion");function lA(t){return(xL===null||t===!1)&&(xL=LF()&&!!C0().sendBeacon),xL}s(lA,"isBeaconsSupported");function $v(t){var e=!1;try{e=!!jn("fetch");var r=jn("Request");e&&t&&r&&(e=Kne(r,"keepalive"))}catch{}return e}s($v,"isFetchSupported");function BL(){return By===null&&(By=typeof XDomainRequest!==Mv,By&&k3()&&(By=By&&!Kne(jn(zne),"withCredentials"))),By}s(BL,"useXDomainRequest");function k3(){var t=!1;try{var e=jn(zne);t=!!e}catch{}return t}s(k3,"isXhrSupported");var Xne=4294967296,tg=4294967295,Zne=123456789,eie=987654321,tie=!1,zv=Zne,Kv=eie;function Kke(t){t<0&&(t>>>=0),zv=Zne+t&tg,Kv=eie-t&tg,tie=!0}s(Kke,"_mwcSeed");function Jke(){try{var t=Ec()&2147483647;Kke((Math.random()*Xne^t)+t)}catch{}}s(Jke,"_autoSeedMwc");function Jne(t){var e=0,r=TL()||wL();return r&&r.getRandomValues&&(e=r.getRandomValues(new Uint32Array(1))[0]&tg),e===0&&Ry()&&(tie||Jke(),e=Xke()&tg),e===0&&(e=ad(Xne*Math.random()|0)),t||(e>>>=0),e}s(Jne,"random32");function Xke(t){Kv=36969*(Kv&65535)+(Kv>>16)&tg,zv=18e3*(zv&65535)+(zv>>16)&tg;var e=(Kv<<16)+(zv&65535)>>>0&tg|0;return t||(e>>>=0),e}s(Xke,"mwcRandom32");function rie(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Jne()>>>0,n=0,o=rr;o[ut]<t;)n++,o+=e.charAt(r&63),r>>>=6,n===5&&(r=(Jne()<<2&4294967295|r&3)>>>0,n=0);return o}s(rie,"newId");var nie="3.3.6",Zke="."+rie(6),eDe=0;function iie(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType}s(iie,"_canAcceptData");function tDe(t,e){var r=e[t.id];if(!r){r={};try{iie(e)&&An(e,t.id,{e:!1,v:r})}catch{}}return r}s(tDe,"_getCache");function wc(t,e){return e===void 0&&(e=!1),Vv(t+eDe+++(e?"."+nie:rr)+Zke)}s(wc,"createUniqueNamespace");function D3(t){var e={id:wc("_aiData-"+(t||rr)+"."+nie),accept:s(function(r){return iie(r)},"accept"),get:s(function(r,n,o,a){var c=r[e.id];return c?c[Vv(n)]:(a&&(c=tDe(e,r),c[Vv(n)]=o),o)},"get"),kill:s(function(r,n){if(r&&r[n])try{delete r[n]}catch{}},"kill")};return e}s(D3,"createElmNodeData");d();function N3(t){return t&&ws(t)&&(t.isVal||t.fb||Cu(t,"v")||Cu(t,"mrg")||Cu(t,"ref")||t.set)}s(N3,"_isConfigDefaults");function oie(t,e,r){var n,o=r.dfVal||KS;if(e&&r.fb){var a=r.fb;_t(a)||(a=[a]);for(var c=0;c<a[ut];c++){var l=a[c],u=e[l];if(o(u)?n=u:t&&(u=t.cfg[l],o(u)&&(n=u),t.set(t.cfg,no(l),u)),o(n))break}}return!o(n)&&o(r.v)&&(n=r.v),n}s(oie,"_getDefault");function RL(t,e,r){var n=r;if(r&&N3(r)&&(n=oie(t,e,r)),n){N3(n)&&(n=RL(t,e,n));var o;_t(n)?(o=[],o[ut]=n[ut]):es(n)&&(o={}),o&&(Kt(n,function(a,c){c&&N3(c)&&(c=RL(t,e,c)),o[a]=c}),n=o)}return n}s(RL,"_resolveDefaultValue");function Jv(t,e,r,n){var o,a,c,l=n,u,f,h,A;N3(l)?(o=l.isVal,a=l.set,h=l.rdOnly,A=l.blkVal,u=l.mrg,f=l.ref,!f&&Zr(f)&&(f=!!u),c=oie(t,e,l)):c=n,A&&t.blkVal(e,r);var p,m=!0,g=e[r];(g||!ot(g))&&(p=g,m=!1,o&&p!==c&&!o(p)&&(p=c,m=!0),a&&(p=a(p,c,e),m=p===c)),m?c?p=RL(t,e,c):p=c:(es(p)||_t(c))&&u&&c&&(es(c)||_t(c))&&Kt(c,function(y,E){Jv(t,p,y,E)}),t.set(e,r,p),f&&t.ref(e,r),h&&t.rdOnly(e,r)}s(Jv,"_applyDefaultValue");d();d();var Ru=t3("[[ai_dynCfg_1]]"),sie=t3("[[ai_blkDynCfg_1]]"),rDe=t3("[[ai_frcDynCfg_1]]");function kL(t){if(t){var e;if(_t(t)?(e=[],e[ut]=t[ut]):es(t)&&(e={}),e)return Kt(t,function(r,n){e[r]=kL(n)}),e}return t}s(kL,"_cfgDeepCopy");function aie(t){if(t){var e=t[Ru]||t;if(e.cfg&&(e.cfg===t||e.cfg[Ru]===e))return e}return null}s(aie,"getDynamicConfigHandler");function cie(t){if(t&&(es(t)||_t(t)))try{t[sie]=!0}catch{}return t}s(cie,"blockDynamicConversion");function Q3(t,e,r){var n=!1;return r&&!t[e.blkVal]&&(n=r[rDe],!n&&!r[sie]&&(n=es(r)||_t(r))),n}s(Q3,"_canMakeDynamic");function P3(t){Ss("InvalidAccess:"+t)}s(P3,"throwInvalidAccess");var nDe=["push","pop","shift","unshift","splice"],ky=s(function(t,e,r,n){t&&t[cd](3,108,"".concat(r," [").concat(e,"] failed - ")+mt(n))},"_throwDynamicError");function iDe(t,e,r){_t(e)&&nt(nDe,function(n){var o=e[n];e[n]=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=o[Zh](this,a);return Xv(t,e,r,"Patching"),l}})}s(iDe,"_patchArray");function F3(t,e){var r=JS(t,e);return r&&r.get}s(F3,"_getOwnPropGetter");function oDe(t,e,r,n){var o={n:r,h:[],trk:s(function(f){f&&f.fn&&(Gi(o.h,f)===-1&&o.h[sr](f),t.trk(f,o))},"trk"),clr:s(function(f){var h=Gi(o.h,f);h!==-1&&o.h[xu](h,1)},"clr")},a=!0,c=!1;function l(){a&&(c=c||Q3(l,t,n),n&&!n[Ru]&&c&&(n=Xv(t,n,r,"Converting")),a=!1);var f=t.act;return f&&o.trk(f),n}s(l,"_getProperty"),l[t.prop]={chng:s(function(){t.add(o)},"chng")};function u(f){if(n!==f){l[t.ro]&&!t.upd&&P3("["+r+"] is read-only:"+mt(e)),a&&(c=c||Q3(l,t,n),a=!1);var h=c&&l[t.rf];if(c)if(h){Kt(n,function(p){n[p]=f?f[p]:Tc});try{Kt(f,function(p,m){Zv(t,n,p,m)}),f=n}catch(p){ky((t.hdlr||{})[$n],r,"Assigning",p),c=!1}}else n&&n[Ru]&&Kt(n,function(p){var m=F3(n,p);if(m){var g=m[t.prop];g&&g.chng()}});if(f!==n){var A=f&&Q3(l,t,f);!h&&A&&(f=Xv(t,f,r,"Converting")),n=f,c=A}t.add(o)}}s(u,"_setProperty"),An(e,o.n,{g:l,s:u})}s(oDe,"_createDynamicProperty");function Zv(t,e,r,n){if(e){var o=F3(e,r),a=o&&!!o[t.prop];a?e[r]=n:oDe(t,e,r,n)}return e}s(Zv,"_setDynamicProperty");function L3(t,e,r,n){if(e){var o=F3(e,r),a=o&&!!o[t.prop],c=n&&n[0],l=n&&n[1],u=n&&n[2];if(!a){if(u)try{cie(e)}catch(f){ky((t.hdlr||{})[$n],r,"Blocking",f)}try{Zv(t,e,r,e[r]),o=F3(e,r)}catch(f){ky((t.hdlr||{})[$n],r,"State",f)}}c&&(o[t.rf]=c),l&&(o[t.ro]=l),u&&(o[t.blkVal]=!0)}return e}s(L3,"_setDynamicPropertyState");function Xv(t,e,r,n){try{Kt(e,function(o,a){Zv(t,e,o,a)}),e[Ru]||(pc(e,Ru,{get:s(function(){return t.hdlr},"get")}),iDe(t,e,r))}catch(o){ky((t.hdlr||{})[$n],r,n,o)}return e}s(Xv,"_makeDynamicObject");d();var eb="[[ai_",tb="]]";function lie(t){var e=my(eb+"get"+t.uid+tb),r=my(eb+"ro"+t.uid+tb),n=my(eb+"rf"+t.uid+tb),o=my(eb+"blkVal"+t.uid+tb),a=my(eb+"dtl"+t.uid+tb),c=null,l=null,u;function f(m,g){var y=u.act;try{u.act=m,m&&m[a]&&(nt(m[a],function(I){I.clr(m)}),m[a]=[]),g({cfg:t.cfg,set:t.set.bind(t),setDf:t.setDf.bind(t),ref:t.ref.bind(t),rdOnly:t.rdOnly.bind(t)})}catch(I){var E=t[$n];throw E&&E[cd](1,107,mt(I)),I}finally{u.act=y||null}}s(f,"_useHandler");function h(){if(c){var m=c;c=null,l&&l[ld](),l=null;var g=[];if(nt(m,function(y){if(y&&(y[a]&&(nt(y[a],function(E){E.clr(y)}),y[a]=null),y.fn))try{f(y,y.fn)}catch(E){g[sr](E)}}),c)try{h()}catch(y){g[sr](y)}g[ut]>0&&Tne("Watcher error(s): ",g)}}s(h,"_notifyWatchers");function A(m){if(m&&m.h[ut]>0){c||(c=[]),l||(l=Ic(function(){l=null,h()},0));for(var g=0;g<m.h[ut];g++){var y=m.h[g];y&&Gi(c,y)===-1&&c[sr](y)}}}s(A,"_addWatcher");function p(m,g){if(m){var y=m[a]=m[a]||[];Gi(y,g)===-1&&y[sr](g)}}return s(p,"_trackHandler"),u={prop:e,ro:r,rf:n,blkVal:o,hdlr:t,add:A,notify:h,use:f,trk:p},u}s(lie,"_createState");function sDe(t,e){var r={fn:e,rm:s(function(){r.fn=null,t=null,e=null},"rm")};return An(r,"toJSON",{v:s(function(){return"WatcherHandler"+(r.fn?"":"[X]")},"v")}),t.use(r,e),r}s(sDe,"_createAndUseHandler");function aDe(t,e,r){var n=aie(e);if(n)return n;var o=wc("dyncfg",!0),a=e&&r!==!1?e:kL(e),c;function l(){c.notify()}s(l,"_notifyWatchers");function u(E,I,x){try{E=Zv(c,E,I,x)}catch(v){ky(t,I,"Setting value",v)}return E[I]}s(u,"_setValue");function f(E){return sDe(c,E)}s(f,"_watch");function h(E,I){c.use(null,function(x){var v=c.upd;try{Zr(I)||(c.upd=I),E(x)}finally{c.upd=v}})}s(h,"_block");function A(E,I){var x;return L3(c,E,I,(x={},x[0]=!0,x))[I]}s(A,"_ref");function p(E,I){var x;return L3(c,E,I,(x={},x[1]=!0,x))[I]}s(p,"_rdOnly");function m(E,I){var x;return L3(c,E,I,(x={},x[2]=!0,x))[I]}s(m,"_blkPropValue");function g(E,I){return I&&Kt(I,function(x,v){Jv(y,E,x,v)}),E}s(g,"_applyDefaults");var y={uid:null,cfg:a,logger:t,notify:l,set:u,setDf:g,watch:f,ref:A,rdOnly:p,blkVal:m,_block:h};return An(y,"uid",{c:!1,e:!1,w:!1,v:o}),c=lie(y),Xv(c,a,"config","Creating"),y}s(aDe,"_createDynamicHandler");function cDe(t,e){t?(t[Cy](e),t[cd](2,108,e)):P3(e)}s(cDe,"_logInvalidAccess");function io(t,e,r,n){var o=aDe(r,t||{},n);return e&&o.setDf(o.cfg,e),o}s(io,"createDynamicConfig");function I0(t,e,r){var n=t[Ru]||t;return n.cfg&&(n.cfg===t||n.cfg[Ru]===n)?n[Iu](e):(cDe(r,Vne+mt(t)),io(t,null,r)[Iu](e))}s(I0,"onConfigChange");d();function pd(t,e){if(t&&t[y0])return t[y0](e)}s(pd,"runTargetUnload");function M3(t,e,r){var n;return r||(n=wu(function(o){r=o})),t&&GF(t)>0?_c(pd(t[0],e),function(){M3(gy(t,1),e,r)}):r(),n}s(M3,"doUnloadAll");d();var uie=500,DL="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";d();d();function lDe(t,e,r){return!t&&ot(t)?e:Bv(t)?t:no(t)[yl]()==="true"}s(lDe,"_stringToBoolOrDefault");function NL(t){return{mrg:!0,v:t}}s(NL,"cfgDfMerge");function Dy(t,e,r){return{fb:r,isVal:t,v:e}}s(Dy,"cfgDfValidate");function x0(t,e){return{fb:e,set:lDe,v:!!t}}s(x0,"cfgDfBoolean");d();d();var QL=[_y,oA,Ty,Su],U3=null,O3;function uDe(t,e){return function(){var r=arguments,n=PL(e);if(n){var o=n.listener;o&&o[t]&&o[t][Zh](o,r)}}}s(uDe,"_listenerProxyFunc");function fDe(){var t=jn("Microsoft");return t&&(U3=t.ApplicationInsights),U3}s(fDe,"_getExtensionNamespace");function PL(t){var e=U3;return!e&&t.disableDbgExt!==!0&&(e=U3||fDe()),e?e.ChromeDbgExt:null}s(PL,"getDebugExt");function fie(t){if(!O3){O3={};for(var e=0;e<QL[ut];e++)O3[QL[e]]=uDe(QL[e],t)}return O3}s(fie,"getDebugListener");var Ny,hie="warnToConsole",dDe="AI (Internal): ",hDe="AI: ",ADe="AITR_",pDe={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},mDe=(Ny={},Ny[0]=null,Ny[1]="errorToConsole",Ny[2]=hie,Ny[3]="debugToConsole",Ny);function die(t){return t?'"'+t[Il](/\"/g,rr)+'"':rr}s(die,"_sanitizeDiagnosticText");function FL(t,e){var r=_L();if(r){var n="log";r[t]&&(n=t),Lt(r[n])&&r[n](e)}}s(FL,"_logToConsole");var rb=function(){function t(e,r,n,o){n===void 0&&(n=!1);var a=this;a[Iy]=e,a[_u]=(n?hDe:dDe)+e;var c=rr;cA()&&(c=Xs().stringify(o));var l=(r?" message:"+die(r):rr)+(o?" props:"+die(c):rr);a[_u]+=l}return s(t,"_InternalLogMessage"),t.dataType="MessageData",t}();function rg(t,e){return(t||{})[$n]||new Qy(e)}s(rg,"safeGetLogger");var Qy=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},o,a,c,l,u;Bn(t,this,function(f){u=A(e||{}),f.consoleLoggingLevel=function(){return o},f[cd]=function(g,y,E,I,x){x===void 0&&(x=!1);var v=new rb(y,E,x,I);if(l)throw mt(v);var b=mDe[g]||hie;if(Zr(v[_u]))m("throw"+(g===1?"Critical":"Warning"),v);else{if(x){var _=+v[Iy];!n[_]&&o>=g&&(f[b](v[_u]),n[_]=!0)}else o>=g&&f[b](v[_u]);h(g,v)}},f.debugToConsole=function(g){FL("debug",g),m("warning",g)},f[Cy]=function(g){FL("warn",g),m("warning",g)},f.errorToConsole=function(g){FL("error",g),m("error",g)},f.resetInternalMessageCount=function(){r=0,n={}},f.logInternalMessage=h,f[y0]=function(g){u&&u.rm(),u=null};function h(g,y){if(!p()){var E=!0,I=ADe+y[Iy];if(n[I]?E=!1:n[I]=!0,E&&(g<=a&&(f.queue[sr](y),r++,m(g===1?"error":"warn",y)),r===c)){var x="Internal events throttle limit per PageView reached for this app.",v=new rb(23,x,!1);f.queue[sr](v),g===1?f.errorToConsole(x):f[Cy](x)}}}s(h,"_logInternalMessage");function A(g){return I0(io(g,pDe,f).cfg,function(y){var E=y.cfg;o=E[o3],a=E.loggingLevelTelemetry,c=E.maxMessageLimit,l=E.enableDebug})}s(A,"_setDefaultsFromConfig");function p(){return r>=c}s(p,"_areInternalMessagesThrottled");function m(g,y){var E=PL(e||{});E&&E[ka]&&E[ka](g,y)}s(m,"_debugExtMsg")})}return s(t,"DiagnosticLogger"),t.__ieDyn=1,t}();function Aie(t){return t||new Qy}s(Aie,"_getLogger");function $e(t,e,r,n,o,a){a===void 0&&(a=!1),Aie(t)[cd](e,r,n,o,a)}s($e,"_throwInternal");function md(t,e){Aie(t)[Cy](e)}s(md,"_warnToConsole");var LL,ng,pie="toGMTString",mie="toUTCString",qL="cookie",ML="expires",gie="isCookieUseDisabled",UL="disableCookiesUsage",Cie="_ckMgr",q3=null,OL=null,yie=null,ku,Eie={},Iie={},gDe=(LL={cookieCfg:NL((ng={},ng[_3]={fb:"cookieDomain",dfVal:sA},ng.path={fb:"cookiePath",dfVal:sA},ng.enabled=Tc,ng.ignoreCookies=Tc,ng.blockedCookies=Tc,ng)),cookieDomain:Tc,cookiePath:Tc},LL[UL]=Tc,LL);function HL(){!ku&&(ku=pne(function(){return yc()}))}s(HL,"_getDoc");function H3(t){return t?t.isEnabled():!0}s(H3,"_isMgrEnabled");function wie(t,e){return e&&t&&_t(t.ignoreCookies)?Gi(t.ignoreCookies,e)!==-1:!1}s(wie,"_isIgnoredCookie");function CDe(t,e){return e&&t&&_t(t.blockedCookies)&&Gi(t.blockedCookies,e)!==-1?!0:wie(t,e)}s(CDe,"_isBlockedCookie");function xie(t,e){var r=e[tA];if(ot(r)){var n=void 0;Zr(t[gie])||(n=!t[gie]),Zr(t[UL])||(n=!t[UL]),r=n}return r}s(xie,"_isCfgEnabled");function Sie(t,e){var r,n,o,a,c,l,u,f;t=io(t||Iie,null,e).cfg,a=I0(t,function(A){A.setDf(A.cfg,gDe),r=A.ref(A.cfg,"cookieCfg"),n=r[T3]||"/",o=r[_3],c=xie(t,r)!==!1,l=r.getCookie||yDe,u=r.setCookie||Tie,f=r.delCookie||Tie},e);var h={isEnabled:s(function(){var A=xie(t,r)!==!1&&c&&vie(e),p=Iie[Cie];return A&&p&&h!==p&&(A=H3(p)),A},"isEnabled"),setEnabled:s(function(A){c=A!==!1,r[tA]=A},"setEnabled"),set:s(function(A,p,m,g,y){var E=!1;if(H3(h)&&!CDe(r,A)){var I={},x=En(p||rr),v=Eu(x,";");if(v!==-1&&(x=En(QF(p,v)),I=Bie(m0(p,v+1))),Bu(I,_3,g||o,Xh,Zr),!ot(m)){var b=Ry();if(Zr(I[ML])){var _=Ec(),S=_+m*1e3;if(S>0){var w=new Date;w.setTime(S),Bu(I,ML,bie(w,b?pie:mie)||bie(w,b?pie:mie)||rr,Xh)}}b||Bu(I,"max-age",rr+m,null,Zr)}var L=jv();L&&L.protocol==="https:"&&(Bu(I,"secure",null,null,Zr),OL===null&&(OL=!EDe((C0()||{})[Pv])),OL&&Bu(I,"SameSite","None",null,Zr)),Bu(I,T3,y||n,null,Zr),u(A,_ie(x,I)),E=!0}return E},"set"),get:s(function(A){var p=rr;return H3(h)&&!wie(r,A)&&(p=l(A)),p},"get"),del:s(function(A,p){var m=!1;return H3(h)&&(m=h.purge(A,p)),m},"del"),purge:s(function(A,p){var m,g=!1;if(vie(e)){var y=(m={},m[T3]=p||"/",m[ML]="Thu, 01 Jan 1970 00:00:01 GMT",m);Ry()||(y["max-age"]="0"),f(A,_ie(rr,y)),g=!0}return g},"purge"),unload:s(function(A){a&&a.rm(),a=null},"unload")};return h[Cie]=h,h}s(Sie,"createCookieMgr");function vie(t){if(q3===null){q3=!1,!ku&&HL();try{var e=ku.v||{};q3=e[qL]!==void 0}catch(r){$e(t,2,68,"Cannot access document.cookie - "+Vi(r),{exception:mt(r)})}}return q3}s(vie,"areCookiesSupported");function Bie(t){var e={};if(t&&t[ut]){var r=En(t)[El](";");nt(r,function(n){if(n=En(n||rr),n){var o=Eu(n,"=");o===-1?e[n]=null:e[En(QF(n,o))]=En(m0(n,o+1))}})}return e}s(Bie,"_extractParts");function bie(t,e){return Lt(t[e])?t[e]():null}s(bie,"_formatDate");function _ie(t,e){var r=t||rr;return Kt(e,function(n,o){r+="; "+n+(ot(o)?rr:"="+o)}),r}s(_ie,"_formatCookieValue");function yDe(t){var e=rr;if(!ku&&HL(),ku.v){var r=ku.v[qL]||rr;yie!==r&&(Eie=Bie(r),yie=r),e=En(Eie[t]||rr)}return e}s(yDe,"_getCookieValue");function Tie(t,e){!ku&&HL(),ku.v&&(ku.v[qL]=t+"="+e)}s(Tie,"_setCookieValue");function EDe(t){return Or(t)?!!(Io(t,"CPU iPhone OS 12")||Io(t,"iPad; CPU OS 12")||Io(t,"Macintosh; Intel Mac OS X 10_14")&&Io(t,"Version/")&&Io(t,"Safari")||Io(t,"Macintosh; Intel Mac OS X 10_14")&&Dv(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Io(t,"Chrome/5")||Io(t,"Chrome/6")||Io(t,"UnrealEngine")&&!Io(t,"Chrome")||Io(t,"UCBrowser/12")||Io(t,"UCBrowser/11")):!1}s(EDe,"uaDisallowsSameSiteNone");d();var IDe={perfEvtsSendAll:!1};function xDe(t){t.h=null;var e=t.cb;t.cb=[],nt(e,function(r){Po(r.fn,[r.arg])})}s(xDe,"_runScheduledListeners");function uA(t,e,r,n){nt(t,function(o){o&&o[e]&&(r?(r.cb[sr]({fn:n,arg:o}),r.h=r.h||Ic(xDe,0,r)):Po(n,[o]))})}s(uA,"_runListeners");var Rie=function(){function t(e){this.listeners=[];var r,n,o=[],a={h:null,cb:[]},c=io(e,IDe);n=c[Iu](function(l){r=!!l.cfg.perfEvtsSendAll}),Bn(t,this,function(l){An(l,"listeners",{g:s(function(){return o},"g")}),l[Ey]=function(u){o[sr](u)},l[yy]=function(u){for(var f=Gi(o,u);f>-1;)o[xu](f,1),f=Gi(o,u)},l[_y]=function(u){uA(o,_y,a,function(f){f[_y](u)})},l[oA]=function(u,f){uA(o,oA,a,function(h){h[oA](u,f)})},l[Ty]=function(u,f){uA(o,Ty,f?a:null,function(h){h[Ty](u,f)})},l[Su]=function(u){u&&(r||!u[Fv]())&&uA(o,Su,null,function(f){u.isAsync?Ic(function(){return f[Su](u)},0):f[Su](u)})},l[x3]=function(u){u&&u[ut]&&uA(o,x3,a,function(f){f[x3](u)})},l[v3]=function(u){u&&u[iA]&&uA(o,v3,a,function(f){f[v3](u)})},l[b3]=function(u,f){if(u>0){var h=f||0;uA(o,b3,a,function(A){A[b3](u,h)})}},l[y0]=function(u){var f=s(function(){n&&n.rm(),n=null,o=[],a.h&&a.h[ld](),a.h=null,a.cb=[]},"_finishUnload"),h;if(uA(o,"unload",null,function(A){var p=A[y0](u);p&&(h||(h=[]),h[sr](p))}),h)return wu(function(A){return _c(Gne(h),function(){f(),A()})});f()}})}return s(t,"NotificationManager"),t.__ieDyn=1,t}();d();var Py="ctx",VL="ParentContextKey",nb="ChildrenContextKey",vDe=null,G3=function(){function t(e,r,n){var o=this;if(o.start=Ec(),o[xc]=e,o.isAsync=n,o[Fv]=function(){return!1},Lt(r)){var a;An(o,"payload",{g:s(function(){return!a&&Lt(r)&&(a=r(),r=null),a},"g")})}o[Ym]=function(c){return c?c===t[VL]||c===t[nb]?o[c]:(o[Py]||{})[c]:null},o[xl]=function(c,l){if(c)if(c===t[VL])o[c]||(o[Fv]=function(){return!0}),o[c]=l;else if(c===t[nb])o[c]=l;else{var u=o[Py]=o[Py]||{};u[c]=l}},o.complete=function(){var c=0,l=o[Ym](t[nb]);if(_t(l))for(var u=0;u<l[ut];u++){var f=l[u];f&&(c+=f.time)}o.time=Ec()-o.start,o.exTime=o.time-c,o.complete=function(){}}}return s(t,"PerfEvent"),t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}();var kie=function(){function t(e){this.ctx={},Bn(t,this,function(r){r.create=function(n,o,a){return new G3(n,o,a)},r.fire=function(n){n&&(n.complete(),e&&Lt(e[Su])&&e[Su](n))},r[xl]=function(n,o){if(n){var a=r[Py]=r[Py]||{};a[n]=o}},r[Ym]=function(n){return(r[Py]||{})[n]}})}return s(t,"PerfManager"),t.__ieDyn=1,t}();var GL="CoreUtils.doPerf";function V3(t,e,r,n,o){if(t){var a=t;if(a[wy]&&(a=a[wy]()),a){var c=void 0,l=a[Ym](GL);try{if(c=a.create(e(),n,o),c){if(l&&c[xl]&&(c[xl](G3[VL],l),l[Ym]&&l[xl])){var u=l[Ym](G3[nb]);u||(u=[],l[xl](G3[nb],u)),u[sr](c)}return a[xl](GL,c),r(c)}}catch(f){c&&c[xl]&&c[xl]("exception",f)}finally{c&&a.fire(c),a[xl](GL,l)}}}return r()}s(V3,"doPerf");function Die(){return vDe}s(Die,"getGblPerfMgr");d();d();d();var bDe="00000000000000000000000000000000",_De="0000000000000000";function Nie(t,e,r){return t&&t[ut]===e&&t!==r?!!t.match(/^[\da-f]*$/i):!1}s(Nie,"_isValid");function WL(t){return Nie(t,32,bDe)}s(WL,"isValidTraceId");function YL(t){return Nie(t,16,_De)}s(YL,"isValidSpanId");var TDe=D3("plugin");function gd(t){return TDe.get(t,"state",{},!0)}s(gd,"_getPluginState");function jL(t,e){for(var r=[],n=null,o=t[bc](),a;o;){var c=o[eA]();if(c){n&&n[nA]&&c[Da]&&n[nA](c),a=gd(c);var l=!!a[Ra];c[Ra]&&(l=c[Ra]()),l||r[sr](c),n=c,o=o[bc]()}}nt(r,function(u){var f=t[ki]();u[ud](t.getCfg(),f,e,t[bc]()),a=gd(u),!u[ki]&&!a[ki]&&(a[ki]=f),a[Ra]=!0,delete a[vc]})}s(jL,"initializePlugins");function W3(t){return t.sort(function(e,r){var n=0;if(r){var o=r[Da];e[Da]?n=o?e[Jm]-r[Jm]:1:o&&(n=-1)}else n=e?1:-1;return n})}s(W3,"sortPlugins");function Qie(t){var e={};return{getName:s(function(){return e[xc]},"getName"),setName:s(function(r){t&&t.setName(r),e[xc]=r},"setName"),getTraceId:s(function(){return e.traceId},"getTraceId"),setTraceId:s(function(r){t&&t.setTraceId(r),WL(r)&&(e.traceId=r)},"setTraceId"),getSpanId:s(function(){return e.spanId},"getSpanId"),setSpanId:s(function(r){t&&t.setSpanId(r),YL(r)&&(e.spanId=r)},"setSpanId"),getTraceFlags:s(function(){return e[a3]},"getTraceFlags"),setTraceFlags:s(function(r){t&&t.setTraceFlags(r),e[a3]=r},"setTraceFlags")}}s(Qie,"createDistributedTraceContext");var wDe="TelemetryPluginChain",Pie="_hasRun",Fie="_getTelCtx",Lie=0;function SDe(t,e,r){for(;t;){if(t[eA]()===r)return t;t=t[bc]()}return fA([r],e.config||{},e)}s(SDe,"_getNextProxyStart");function $L(t,e,r,n){var o=null,a=[];e||(e=io({},null,r[$n])),n!==null&&(o=n?SDe(t,r,n):t);var c={_next:u,ctx:{core:s(function(){return r},"core"),diagLog:s(function(){return rg(r,e.cfg)},"diagLog"),getCfg:s(function(){return e.cfg},"getCfg"),getExtCfg:h,getConfig:A,hasNext:s(function(){return!!o},"hasNext"),getNext:s(function(){return o},"getNext"),setNext:s(function(m){o=m},"setNext"),iterate:p,onComplete:l}};function l(m,g){for(var y=[],E=2;E<arguments.length;E++)y[E-2]=arguments[E];m&&a[sr]({func:m,self:Zr(g)?c.ctx:g,args:y})}s(l,"_addOnComplete");function u(){var m=o;if(o=m?m[bc]():null,!m){var g=a;g&&g[ut]>0&&(nt(g,function(y){try{y.func.call(y.self,y.args)}catch(E){$e(r[$n],2,73,"Unexpected Exception during onComplete - "+mt(E))}}),a=[])}return m}s(u,"_moveNext");function f(m,g){var y=null,E=e.cfg;if(E&&m){var I=E[Ad];!I&&g&&(I={}),E[Ad]=I,I=e.ref(E,Ad),I&&(y=I[m],!y&&g&&(y={}),I[m]=y,y=e.ref(I,m))}return y}s(f,"_getExtCfg");function h(m,g){var y=f(m,!0);return g&&Kt(g,function(E,I){if(ot(y[E])){var x=e.cfg[E];(x||!ot(x))&&(y[E]=x)}Jv(e,y,E,I)}),e.setDf(y,g)}s(h,"_resolveExtCfg");function A(m,g,y){y===void 0&&(y=!1);var E,I=f(m,!1),x=e.cfg;return I&&(I[g]||!ot(I[g]))?E=I[g]:(x[g]||!ot(x[g]))&&(E=x[g]),E||!ot(E)?E:y}s(A,"_getConfig");function p(m){for(var g;g=c._next();){var y=g[eA]();y&&m(y)}}return s(p,"_iterateChain"),c}s($L,"_createInternalContext");function vl(t,e,r,n){var o=io(e),a=$L(t,o,r,n),c=a.ctx;function l(f){var h=a._next();return h&&h[Da](f,c),!h}s(l,"_processNext");function u(f,h){return f===void 0&&(f=null),_t(f)&&(f=fA(f,o.cfg,r,h)),vl(f||c[bc](),o.cfg,r,h)}return s(u,"_createNew"),c[Eo]=l,c[bu]=u,c}s(vl,"createProcessTelemetryContext");function Fy(t,e,r){var n=io(e.config),o=$L(t,n,e,r),a=o.ctx;function c(u){var f=o._next();return f&&f[y0](a,u),!f}s(c,"_processNext");function l(u,f){return u===void 0&&(u=null),_t(u)&&(u=fA(u,n.cfg,e,f)),Fy(u||a[bc](),e,f)}return s(l,"_createNew"),a[Eo]=c,a[bu]=l,a}s(Fy,"createProcessTelemetryUnloadContext");function ib(t,e,r){var n=io(e.config),o=$L(t,n,e,r),a=o.ctx;function c(u){return a.iterate(function(f){Lt(f[Vm])&&f[Vm](a,u)})}s(c,"_processNext");function l(u,f){return u===void 0&&(u=null),_t(u)&&(u=fA(u,n.cfg,e,f)),ib(u||a[bc](),e,f)}return s(l,"_createNew"),a[Eo]=c,a[bu]=l,a}s(ib,"createProcessTelemetryUpdateContext");function fA(t,e,r,n){var o=null,a=!n;if(_t(t)&&t[ut]>0){var c=null;nt(t,function(l){if(!a&&n===l&&(a=!0),a&&l&&Lt(l[Da])){var u=BDe(l,e,r);o||(o=u),c&&c._setNext(u),c=u}})}return n&&!o?fA([n],e,r):o}s(fA,"createTelemetryProxyChain");function BDe(t,e,r){var n=null,o=Lt(t[Da]),a=Lt(t[nA]),c;t?c=t[vu]+"-"+t[Jm]+"-"+Lie++:c="Unknown-0-"+Lie++;var l={getPlugin:s(function(){return t},"getPlugin"),getNext:s(function(){return n},"getNext"),processTelemetry:h,unload:A,update:p,_id:c,_setNext:s(function(m){n=m},"_setNext")};function u(){var m;return t&&Lt(t[Fie])&&(m=t[Fie]()),m||(m=vl(l,e,r)),m}s(u,"_getTelCtx");function f(m,g,y,E,I){var x=!1,v=t?t[vu]:wDe,b=m[Pie];return b||(b=m[Pie]={}),m.setNext(n),t&&V3(m[ki](),function(){return v+":"+y},function(){b[c]=!0;try{var _=n?n._id:rr;_&&(b[_]=!1),x=g(m)}catch(w){var S=n?b[n._id]:!0;S&&(x=!0),(!n||!S)&&$e(m[ka](),1,73,"Plugin ["+v+"] failed during "+y+" - "+mt(w)+", run flags: "+mt(b))}},E,I),x}s(f,"_processChain");function h(m,g){g=g||u();function y(E){if(!t||!o)return!1;var I=gd(t);return I[vc]||I[Gv]?!1:(a&&t[nA](n),t[Da](m,E),!0)}s(y,"_callProcessTelemetry"),f(g,y,"processTelemetry",function(){return{item:m}},!m.sync)||g[Eo](m)}s(h,"_processTelemetry");function A(m,g){function y(){var E=!1;if(t){var I=gd(t),x=t[ki]||I[ki];t&&(!x||x===m.core())&&!I[vc]&&(I[ki]=null,I[vc]=!0,I[Ra]=!1,t[vc]&&t[vc](m,g)===!0&&(E=!0))}return E}s(y,"_callTeardown"),f(m,y,"unload",function(){},g.isAsync)||m[Eo](g)}s(A,"_unloadPlugin");function p(m,g){function y(){var E=!1;if(t){var I=gd(t),x=t[ki]||I[ki];t&&(!x||x===m.core())&&!I[vc]&&t[Vm]&&t[Vm](m,g)===!0&&(E=!0)}return E}s(y,"_callUpdate"),f(m,y,"update",function(){},!1)||m[Eo](g)}return s(p,"_updatePlugin"),gc(l)}s(BDe,"createTelemetryPluginProxy");var RDe=function(){function t(e,r,n,o){var a=this,c=vl(e,r,n,o);Zm(a,c,p0(c))}return s(t,"ProcessTelemetryContext"),t}();d();d();d();function Y3(){var t=[];function e(n){n&&t[sr](n)}s(e,"_addHandler");function r(n,o){nt(t,function(a){try{a(n,o)}catch(c){$e(n[ka](),2,73,"Unexpected error calling unload handler - "+mt(c))}}),t=[]}return s(r,"_runHandlers"),{add:e,run:r}}s(Y3,"createUnloadHandlerContainer");d();var j3,$3;function z3(){var t=[];function e(n){var o=t;t=[],nt(o,function(a){try{(a.rm||a.remove).call(a)}catch(c){$e(n,2,73,"Unloading:"+mt(c))}}),j3&&o[ut]>j3&&($3?$3("doUnload",o):$e(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}s(e,"_doUnload");function r(n){n&&(sd(t,n),j3&&t[ut]>j3&&($3?$3("Add",t):$e(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return s(r,"_addHook"),{run:e,add:r}}s(z3,"createUnloadHookContainer");var zL,dA="getPlugin",kDe=(zL={},zL[Ad]={isVal:sA,v:{}},zL),ob=function(){function t(){var e=this,r,n,o,a,c;f(),Bn(t,e,function(h){h[ud]=function(A,p,m,g){u(A,p,g),r=!0},h[vc]=function(A,p){var m=h[ki];if(!m||A&&m!==A[ki]())return;var g,y=!1,E=A||Fy(null,m,o&&o[dA]?o[dA]():o),I=p||{reason:0,isAsync:!1};function x(){y||(y=!0,a.run(E,p),c.run(E[ka]()),g===!0&&E[Eo](I),f())}return s(x,"_unloadCallback"),!h[rA]||h[rA](E,I,x)!==!0?x():g=!0,g},h[Vm]=function(A,p){var m=h[ki];if(!m||A&&m!==A[ki]())return;var g,y=!1,E=A||ib(null,m,o&&o[dA]?o[dA]():o),I=p||{reason:0};function x(){y||(y=!0,u(E.getCfg(),E.core(),E[bc]()))}return s(x,"_updateCallback"),!h._doUpdate||h._doUpdate(E,I,x)!==!0?x():g=!0,g},Xm(h,"_addUnloadCb",function(){return a},"add"),Xm(h,"_addHook",function(){return c},"add"),An(h,"_unloadHooks",{g:s(function(){return c},"g")})}),e[ka]=function(h){return l(h)[ka]()},e[Ra]=function(){return r},e.setInitialized=function(h){r=h},e[nA]=function(h){o=h},e[Eo]=function(h,A){A?A[Eo](h):o&&Lt(o[Da])&&o[Da](h,null)},e._getTelCtx=l;function l(h){h===void 0&&(h=null);var A=h;if(!A){var p=n||vl(null,{},e[ki]);o&&o[dA]?A=p[bu](null,o[dA]):A=p[bu](null,o)}return A}s(l,"_getTelCtx");function u(h,A,p){io(h,kDe,rg(A)),!p&&A&&(p=A[n3]()[bc]());var m=o;o&&o[dA]&&(m=o[dA]()),e[ki]=A,n=vl(p,h,A,m)}s(u,"_setDefaults");function f(){r=!1,e[ki]=null,n=null,o=null,c=z3(),a=Y3()}s(f,"_initDefaults")}return s(t,"BaseTelemetryPlugin"),t.__ieDyn=1,t}();function DDe(t,e,r){var n={id:e,fn:r};sd(t,n);var o={remove:s(function(){nt(t,function(a,c){if(a.id===n.id)return t[xu](c,1),-1})},"remove")};return o}s(DDe,"_addInitializer");function NDe(t,e,r){for(var n=!1,o=t[ut],a=0;a<o;++a){var c=t[a];if(c)try{if(c.fn[Zh](null,[e])===!1){n=!0;break}}catch(l){$e(r,2,64,"Telemetry initializer failed: "+Vi(l),{exception:mt(l)},!0)}}return!n}s(NDe,"_runInitializers");var Mie=function(t){Tu(e,t);function e(){var r=t.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,o;a(),Bn(e,r,function(c,l){c.addTelemetryInitializer=function(u){return DDe(o,n++,u)},c[Da]=function(u,f){NDe(o,u,f?f[ka]():c[ka]())&&c[Eo](u,f)},c[rA]=function(){a()}});function a(){n=0,o=[]}return s(a,"_initDefaults"),r}return s(e,"TelemetryInitializerPlugin"),e.__ieDyn=1,e}(ob);var hA,Hie="Plugins must provide initialize method",QDe="_notificationManager",Oie="SDK is still unloading...",PDe="SDK is not initialized",FDe=100,LDe=5e4,KL=Mm((hA={cookieCfg:{}},hA[Km]={rdOnly:!0,ref:!0,v:[]},hA[zm]={rdOnly:!0,ref:!0,v:[]},hA[Ad]={ref:!0,v:{}},hA[I3]=Tc,hA.loggingLevelConsole=0,hA.diagnosticLogInterval=Tc,hA));function MDe(t,e){return new kie(e)}s(MDe,"_createPerfManager");function ODe(t,e,r){var n=[],o=[],a={};return nt(r,function(c){(ot(c)||ot(c[ud]))&&Sa(Hie);var l=c[Jm],u=c[vu];c&&l&&(ot(a[l])?a[l]=u:md(t,"Two extensions have same priority #"+l+" - "+a[l]+", "+u)),!l||l<e?n[sr](c):o[sr](c)}),{core:n,channels:o}}s(ODe,"_validateExtensions");function Uie(t,e){var r=!1;return nt(e,function(n){if(n===t)return r=!0,-1}),r}s(Uie,"_isPluginPresent");function JL(t,e,r,n){r&&Kt(r,function(o,a){n&&es(a)&&es(e[o])&&JL(t,e[o],a,n),n&&es(a)&&es(e[o])?JL(t,e[o],a,n):t.set(e,o,a)})}s(JL,"_deepMergeConfig");function qie(t,e){var r=null,n=-1;return nt(t,function(o,a){if(o.w===e)return r=o,n=a,-1}),{i:n,l:r}}s(qie,"_findWatcher");function UDe(t,e){var r=qie(t,e).l;return r||(r={w:e,rm:s(function(){var n=qie(t,e);n.i!==-1&&t[xu](n.i,1)},"rm")},t[sr](r)),r}s(UDe,"_addDelayedCfgListener");function qDe(t,e,r){nt(e,function(n){var o=I0(t,n.w,r);delete n.w,n.rm=function(){o.rm()}})}s(qDe,"_registerDelayedCfgListener");function HDe(t,e,r,n){return e.add(t[Iu](function(o){var a=o.cfg.disableDbgExt;a===!0&&n&&(r[yy](n),n=null),r&&!n&&a!==!0&&(n=fie(o.cfg),r[Ey](n))})),n}s(HDe,"_initDebugListener");function GDe(t){return An({rm:s(function(){t.rm()},"rm")},"toJSON",{v:s(function(){return"aicore::onCfgChange<"+JSON.stringify(t)+">"},"v")})}s(GDe,"_createUnloadHook");var XL=function(){function t(){var e,r,n,o,a,c,l,u,f,h,A,p,m,g,y,E,I,x,v,b,_,S,w,L,M,Y,D,O,W,R,Q,q,U;Bn(t,this,function(V){le(),V._getDbgPlgTargets=function(){return[w,o]},V[Ra]=function(){return r},V.activeStatus=function(){return Y},V._setPendingStatus=function(){Y=3},V[ud]=function(oe,Re,rt,Fe){m&&Sa(Oie),V[Ra]()&&Sa("Core cannot be initialized more than once"),e=io(oe,KL,rt||V[$n],!1),oe=e.cfg,we(e[Iu](function(Gt){var ir=Gt.cfg,an=Y===3;if(!an){O=ir.initInMemoMaxSize||FDe;var Qn=ir.instrumentationKey,Zi=ir.endpointUrl;if(ot(Qn)){_=null,Y=Cl.INACTIVE;var eo="Please provide instrumentation key";r?($e(n,1,100,eo),$()):Sa(eo);return}var Co=[];if(mc(Qn)?(Co[sr](Qn),_=null):_=Qn,mc(Zi)?(Co[sr](Zi),D=null):D=Zi,Co[ut]){W=!1,Y=3;var X=sA(ir.initTimeOut)?ir.initTimeOut:LDe,ve=Hne(Co);R=Ic(function(){R=null,W||z()},X),_c(ve,function(Ke){try{if(W)return;if(!Ke.rejected){var fr=Ke[Gm];if(fr&&fr[ut]){var Ir=fr[0];if(_=Ir&&Ir[Gm],fr[ut]>1){var sn=fr[1];D=sn&&sn[Gm]}}_&&(oe.instrumentationKey=_,oe.endpointUrl=D)}z()}catch{W||z()}})}else z();var Oe=Gt.ref(Gt.cfg,Ad);Kt(Oe,function(Ke){Gt.ref(Oe,Ke)})}})),a=Fe,v=HDe(e,x,a&&V[Nv](),v),J(),V[$n]=rt;var Ye=oe[Km];if(h=[],h[sr].apply(h,l3(l3([],Re,!1),Ye,!1)),A=oe[zm],et(null),(!p||p[ut]===0)&&Sa("No "+zm+" available"),A&&A[ut]>1){var yt=V[eA]("TeeChannelController");(!yt||!yt.plugin)&&$e(n,1,28,"TeeChannel required")}qDe(oe,S,n),S=null,r=!0,Y===Cl.ACTIVE&&$()},V.getChannels=function(){var oe=[];return p&&nt(p,function(Re){oe[sr](Re)}),gc(oe)},V.track=function(oe){V3(V[wy](),function(){return"AppInsightsCore:track"},function(){oe===null&&(Le(oe),Sa("Invalid telemetry item")),!oe[xc]&&ot(oe[xc])&&(Le(oe),Sa("telemetry name required")),oe.iKey=oe.iKey||_,oe.time=oe.time||aA(new Date),oe.ver=oe.ver||"4.0",!m&&V[Ra]()&&Y===Cl.ACTIVE?Se()[Eo](oe):Y!==Cl.INACTIVE&&o[ut]<=O&&o[sr](oe)},function(){return{item:oe}},!oe.sync)},V[n3]=Se,V[Nv]=function(){return a||(a=new Rie(e.cfg),V[QDe]=a),a},V[Ey]=function(oe){V.getNotifyMgr()[Ey](oe)},V[yy]=function(oe){a&&a[yy](oe)},V.getCookieMgr=function(){return u||(u=Sie(e.cfg,V[$n])),u},V.setCookieMgr=function(oe){u!==oe&&(pd(u,!1),u=oe)},V[wy]=function(){return c||l||Die()},V.setPerfMgr=function(oe){c=oe},V.eventCnt=function(){return o[ut]},V.releaseQueue=function(){if(r&&o[ut]>0){var oe=o;o=[],Y===2?nt(oe,function(Re){Re.iKey=Re.iKey||_,Se()[Eo](Re)}):$e(n,2,20,"core init status is not active")}},V.pollInternalLogs=function(oe){return y=oe||null,U=!1,Q&&Q[ld](),j(!0)};function z(){W=!0,ot(_)?(Y=Cl.INACTIVE,$e(n,1,112,"ikey can't be resolved from promises")):Y=Cl.ACTIVE,$()}s(z,"_setStatus");function $(){r&&(V.releaseQueue(),V.pollInternalLogs())}s($,"_releaseQueues");function j(oe){if((!Q||!Q[tA])&&!U){var Re=oe||n&&n.queue[ut]>0;Re&&(q||(q=!0,we(e[Iu](function(rt){var Fe=rt.cfg.diagnosticLogInterval;(!Fe||!(Fe>0))&&(Fe=1e4);var Ye=!1;Q&&(Ye=Q[tA],Q[ld]()),Q=_ne(nr,Fe),Q.unref(),Q[tA]=Ye}))),Q[tA]=!0)}return Q}s(j,"_startLogPoller"),V[WF]=function(){U=!0,Q&&Q[ld](),nr()},Zm(V,function(){return g},["addTelemetryInitializer"]),V[y0]=function(oe,Re,rt){oe===void 0&&(oe=!0),r||Sa(PDe),m&&Sa(Oie);var Fe={reason:50,isAsync:oe,flushComplete:!1},Ye;oe&&!Re&&(Ye=wu(function(ir){Re=ir}));var yt=Fy(Tt(),V);yt[Qv](function(){x.run(V[$n]),M3([u,a,n],oe,function(){le(),Re&&Re(Fe)})},V);function Gt(ir){Fe.flushComplete=ir,m=!0,I.run(yt,Fe),V[WF](),yt[Eo](Fe)}return s(Gt,"_doUnload"),nr(),Er(oe,Gt,6,rt)||Gt(!1),Ye},V[eA]=qe,V.addPlugin=function(oe,Re,rt,Fe){if(!oe){Fe&&Fe(!1),te(Hie);return}var Ye=qe(oe[vu]);if(Ye&&!Re){Fe&&Fe(!1),te("Plugin ["+oe[vu]+"] is already loaded!");return}var yt={reason:16};function Gt(Qn){h[sr](oe),yt.added=[oe],et(yt),Fe&&Fe(!0)}if(s(Gt,"_addPlugin"),Ye){var ir=[Ye.plugin],an={reason:2,isAsync:!!rt};ur(ir,an,function(Qn){Qn?(yt.removed=ir,yt.reason|=32,Gt(!0)):Fe&&Fe(!1)})}else Gt(!1)},V.updateCfg=function(oe,Re){Re===void 0&&(Re=!0);var rt;if(V[Ra]()){rt={reason:1,cfg:e.cfg,oldCfg:HF({},e.cfg),newConfig:HF({},oe),merge:Re},oe=rt.newConfig;var Fe=e.cfg;oe[Km]=Fe[Km],oe[zm]=Fe[zm]}e._block(function(Ye){var yt=Ye.cfg;JL(Ye,yt,oe,Re),Re||Kt(yt,function(Gt){Cu(oe,Gt)||Ye.set(yt,Gt,Tc)}),Ye.setDf(yt,KL)},!0),e.notify(),rt&&xe(rt)},V.evtNamespace=function(){return E},V.flush=Er,V.getTraceCtx=function(oe){return b||(b=Qie()),b},V.setTraceCtx=function(oe){b=oe||null},V.addUnloadHook=we,Xm(V,"addUnloadCb",function(){return I},"add"),V.onCfgChange=function(oe){var Re;return r?Re=I0(e.cfg,oe,V[$n]):Re=UDe(S,oe),GDe(Re)},V.getWParam=function(){return FF()||e.cfg.enableWParam?0:-1};function Z(){var oe={};L=[];var Re=s(function(rt){rt&&nt(rt,function(Fe){if(Fe[vu]&&Fe[i3]&&!oe[Fe.identifier]){var Ye=Fe[vu]+"="+Fe[i3];L[sr](Ye),oe[Fe.identifier]=Fe}})},"_addPluginVersions");Re(p),A&&nt(A,function(rt){Re(rt)}),Re(h)}s(Z,"_setPluginVersions");function le(){r=!1,e=io({},KL,V[$n]),e.cfg[o3]=1,An(V,"config",{g:s(function(){return e.cfg},"g"),s:s(function(Re){V.updateCfg(Re,!1)},"s")}),An(V,"pluginVersionStringArr",{g:s(function(){return L||Z(),L},"g")}),An(V,"pluginVersionString",{g:s(function(){return M||(L||Z(),M=L.join(";")),M||rr},"g")}),An(V,"logger",{g:s(function(){return n||(n=new Qy(e.cfg),e[$n]=n),n},"g"),s:s(function(Re){e[$n]=Re,n!==Re&&(pd(n,!1),n=Re)},"s")}),V[$n]=new Qy(e.cfg),w=[];var oe=V.config[Km]||[];oe.splice(0,oe[ut]),sd(oe,w),g=new Mie,o=[],pd(a,!1),a=null,c=null,l=null,pd(u,!1),u=null,f=null,h=[],A=null,p=null,m=!1,y=null,E=wc("AIBaseCore",!0),I=Y3(),b=null,_=null,x=z3(),S=[],M=null,L=null,U=!1,Q=null,q=!1,Y=0,D=null,O=null,W=!1,R=null}s(le,"_initDefaults");function Se(){var oe=vl(Tt(),e.cfg,V);return oe[Qv](j),oe}s(Se,"_createTelCtx");function et(oe){var Re=ODe(V[$n],uie,h);f=null,M=null,L=null,p=(A||[])[0]||[],p=W3(sd(p,Re[zm]));var rt=sd(W3(Re[ki]),p);w=gc(rt);var Fe=V.config[Km]||[];Fe.splice(0,Fe[ut]),sd(Fe,w);var Ye=Se();p&&p[ut]>0&&jL(Ye[bu](p),rt),jL(Ye,rt),oe&&xe(oe)}s(et,"_initPluginChain");function qe(oe){var Re=null,rt=null,Fe=[];return nt(w,function(Ye){if(Ye[vu]===oe&&Ye!==g)return rt=Ye,-1;Ye.getChannel&&Fe[sr](Ye)}),!rt&&Fe[ut]>0&&nt(Fe,function(Ye){if(rt=Ye.getChannel(oe),!rt)return-1}),rt&&(Re={plugin:rt,setEnabled:s(function(Ye){gd(rt)[Gv]=!Ye},"setEnabled"),isEnabled:s(function(){var Ye=gd(rt);return!Ye[vc]&&!Ye[Gv]},"isEnabled"),remove:s(function(Ye,yt){Ye===void 0&&(Ye=!0);var Gt=[rt],ir={reason:1,isAsync:Ye};ur(Gt,ir,function(an){an&&et({reason:32,removed:Gt}),yt&&yt(an)})},"remove")}),Re}s(qe,"_getPlugin");function Tt(){if(!f){var oe=(w||[]).slice();Gi(oe,g)===-1&&oe[sr](g),f=fA(W3(oe),e.cfg,V)}return f}s(Tt,"_getPluginChain");function ur(oe,Re,rt){if(oe&&oe[ut]>0){var Fe=fA(oe,e.cfg,V),Ye=Fy(Fe,V);Ye[Qv](function(){var yt=!1,Gt=[];nt(h,function(an,Qn){Uie(an,oe)?yt=!0:Gt[sr](an)}),h=Gt,M=null,L=null;var ir=[];A&&(nt(A,function(an,Qn){var Zi=[];nt(an,function(eo){Uie(eo,oe)?yt=!0:Zi[sr](eo)}),ir[sr](Zi)}),A=ir),rt&&rt(yt),j()}),Ye[Eo](Re)}else rt(!1)}s(ur,"_removePlugins");function nr(){if(n&&n.queue){var oe=n.queue.slice(0);n.queue[ut]=0,nt(oe,function(Re){var rt={name:y||"InternalMessageId: "+Re[Iy],iKey:_,time:aA(new Date),baseType:rb.dataType,baseData:{message:Re[_u]}};V.track(rt)})}}s(nr,"_flushInternalLogs");function Er(oe,Re,rt,Fe){var Ye=1,yt=!1,Gt=null;Fe=Fe||5e3;function ir(){Ye--,yt&&Ye===0&&(Gt&&Gt[ld](),Gt=null,Re&&Re(yt),Re=null)}if(s(ir,"doCallback"),p&&p[ut]>0){var an=Se()[bu](p);an.iterate(function(Qn){if(Qn.flush){Ye++;var Zi=!1;Qn.flush(oe,function(){Zi=!0,ir()},rt)||Zi||(oe&&Gt==null?Gt=Ic(function(){Gt=null,ir()},Fe):ir())}})}return yt=!0,ir(),!0}s(Er,"_flushChannels");function J(){var oe;we(e[Iu](function(Re){var rt=Re.cfg.enablePerfMgr;if(rt){var Fe=Re.cfg[I3];(oe!==Fe||!oe)&&(Fe||(Fe=MDe),gL(Re.cfg,I3,Fe),oe=Fe,l=null),!c&&!l&&Lt(Fe)&&(l=Fe(V,V[Nv]()))}else l=null,oe=null}))}s(J,"_initPerfManager");function xe(oe){var Re=ib(Tt(),V);Re[Qv](j),(!V._updateHook||V._updateHook(Re,oe)!==!0)&&Re[Eo](oe)}s(xe,"_doUpdate");function te(oe){var Re=V[$n];Re?($e(Re,2,73,oe),j()):Sa(oe)}s(te,"_logOrThrowError");function Le(oe){var Re=V[Nv]();Re&&Re[oA]([oe],2)}s(Le,"_notifyInvalidEvent");function we(oe){x.add(oe)}s(we,"_addUnloadHook")})}return s(t,"AppInsightsCore"),t.__ieDyn=1,t}();d();function sb(t,e){try{if(t&&t!==""){var r=Xs().parse(t);if(r&&r[$F]&&r[$F]>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors[ut])return r}}catch(n){$e(e,1,43,"Cannot parse the response. "+(n[xc]||mt(n)),{response:t})}return null}s(sb,"parseResponse");d();var Du="",VDe="NoResponseBody",Gie="&"+VDe+"=true",ZL="POST",eM=function(){function t(){var e=0,r,n,o,a,c,l,u,f,h,A,p,m,g,y;Bn(t,this,function(E,I){var x=!0;W(),E[ud]=function(R,Q){o=Q,n&&$e(o,1,28,"Sender is already initialized"),E.SetConfig(R),n=!0},E._getDbgPlgTargets=function(){return[n,a,l,r]},E.SetConfig=function(R){try{if(c=R.senderOnCompleteCallBack||{},l=!!R.disableCredentials,u=R.fetchCredentials,a=!!R.isOneDs,r=!!R.enableSendPromise,h=!!R.disableXhr,A=!!R.disableBeacon,p=!!R.disableBeaconSync,y=R.timeWrapper,g=!!R.addNoResponse,m=!!R.disableFetchKeepAlive,f={sendPOST:Y},a||(x=!1),l){var Q=jv();Q&&Q.protocol&&Q.protocol[yl]()==="file:"&&(x=!1)}return!0}catch{}return!1},E.getSyncFetchPayload=function(){return e},E.getSenderInst=function(R,Q){return R&&R[ut]?S(R,Q):null},E.getFallbackInst=function(){return f},E[rA]=function(R,Q){W()};function v(R,Q){w(Q,200,{},R)}s(v,"_onSuccess");function b(R,Q){$e(o,2,26,"Failed to send telemetry.",{message:R}),w(Q,400,{})}s(b,"_onError");function _(R){b("No endpoint url is provided for the batch",R)}s(_,"_onNoPayloadUrl");function S(R,Q){for(var q=0,U=null,V=0;U==null&&V<R[ut];)q=R[V],!h&&q===1?BL()?U=O:k3()&&(U=Y):q===2&&$v(Q)&&(!Q||!m)?U=D:q===3&&lA()&&(Q?!p:!A)&&(U=M),V++;return U?{_transport:q,_isSync:Q,sendPOST:U}:null}s(S,"_getSenderInterface");function w(R,Q,q,U){try{R&&R(Q,q,U)}catch{}}s(w,"_doOnComplete");function L(R,Q){var q=C0(),U=R[xy];if(!U)return _(Q),!0;U=R[xy]+(g?Gie:Du);var V=R[iA],z=a?V:new Blob([V],{type:"text/plain;charset=UTF-8"}),$=q.sendBeacon(U,z);return $}s(L,"_doBeaconSend");function M(R,Q,q){var U=R[iA];try{if(U)if(L(R,Q))v(Du,Q);else{var V=c&&c.beaconOnRetry;V&&Lt(V)?V(R,Q,L):(f&&f.sendPOST(R,Q,!0),$e(o,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(z){a&&md(o,"Failed to send telemetry using sendBeacon API. Ex:"+mt(z)),w(Q,a?0:400,{},Du)}}s(M,"_beaconSender");function Y(R,Q,q){var U,V,z,$=R[s3]||{};!q&&r&&(U=wu(function(Se,et){V=Se,z=et})),a&&q&&R.disableXhrSync&&(q=!1);var j=R[xy];if(!j){_(Q),V&&V(!1);return}var Z=yL(ZL,j,x,!0,q,R[jm]);a||Z.setRequestHeader("Content-type","application/json"),nt(p0($),function(Se){Z.setRequestHeader(Se,$[Se])}),Z.onreadystatechange=function(){a||(le(Z),Z.readyState===4&&V&&V(!0))},Z.onload=function(){a&&le(Z)};function le(Se){var et=c&&c.xhrOnComplete,qe=et&&Lt(et);if(qe)et(Se,Q,R);else{var Tt=Sy(Se);w(Q,Se[Wm],Yv(Se,a),Tt)}}return s(le,"_doOnReadyFunc"),Z.onerror=function(Se){w(Q,a?Z[Wm]:400,Yv(Z,a),a?Du:eg(Z)),z&&z(Se)},Z.ontimeout=function(){w(Q,a?Z[Wm]:500,Yv(Z,a),a?Du:eg(Z)),V&&V(!1)},Z.send(R[iA]),U}s(Y,"_xhrSender");function D(R,Q,q){var U,V=R[xy],z=R[iA],$=a?z:new Blob([z],{type:"application/json"}),j,Z,le,Se=new Headers,et=z[ut],qe=!1,Tt=!1,ur=R[s3]||{},nr=(U={method:ZL,body:$},U[DL]=!0,U);R.headers&&p0(R.headers)[ut]>0&&(nt(p0(ur),function(te){Se.append(te,ur[te])}),nr[s3]=Se),u?nr.credentials=u:x&&a&&(nr.credentials="include"),q&&(nr.keepalive=!0,e+=et,a?R._sendReason===2&&(qe=!0,g&&(V+=Gie)):qe=!0);var Er=new Request(V,nr);try{Er[DL]=!0}catch{}if(!q&&r&&(j=wu(function(te,Le){Z=te,le=Le})),!V){_(Q),Z&&Z(!1);return}function J(te){w(Q,a?0:400,{},a?Du:te)}s(J,"_handleError");function xe(te,Le,we){var oe=te[Wm],Re=c.fetchOnComplete;Re&&Lt(Re)?Re(te,Q,we||Du,Le):w(Q,oe,{},we||Du)}s(xe,"_onFetchComplete");try{_c(fetch(a?V:Er,a?nr:null),function(te){if(q&&(e-=et,et=0),!Tt)if(Tt=!0,te.rejected)J(te.reason&&te.reason[_u]),le&&le(te.reason);else{var Le=te[Gm];try{!a&&!Le.ok?(J(Le.statusText),Z&&Z(!1)):a&&!Le.body?(xe(Le,null,Du),Z&&Z(!0)):_c(Le.text(),function(we){xe(Le,R,we[Gm]),Z&&Z(!0)})}catch(we){J(mt(we)),le&&le(we)}}})}catch(te){Tt||(J(mt(te)),le&&le(te))}return qe&&!Tt&&(Tt=!0,w(Q,200,{}),Z&&Z(!0)),a&&!Tt&&R[jm]>0&&y&&y.set(function(){Tt||(Tt=!0,w(Q,500,{}),Z&&Z(!0))},R[jm]),j}s(D,"_doFetchSender");function O(R,Q,q){var U=Ba(),V=new XDomainRequest,z=R[iA];V.onload=function(){var Se=Sy(V),et=c&&c.xdrOnComplete;et&&Lt(et)?et(V,Q,R):w(Q,200,{},Se)},V.onerror=function(){w(Q,400,{},a?Du:Wv(V))},V.ontimeout=function(){w(Q,500,{})},V.onprogress=function(){};var $=U&&U.location&&U.location.protocol||"",j=R[xy];if(!j){_(Q);return}if(!a&&j.lastIndexOf($,0)!==0){var Z="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";$e(o,2,40,". "+Z),b(Z,Q);return}var le=a?j:j[Il](/^(https?:)/,"");V.open(ZL,le),R[jm]&&(V[jm]=R[jm]),V.send(z),a&&q?y&&y.set(function(){V.send(z)},0):V.send(z)}s(O,"_xdrSender");function W(){e=0,n=!1,r=!1,o=null,a=null,c=null,l=null,u=null,f=null,h=!1,A=!1,p=!1,m=!1,g=!1,y=null}s(W,"_initDefaults")})}return s(t,"SenderPostManager"),t.__ieDyn=1,t}();d();var Kie="on",Vie="attachEvent",Wie="addEventListener",Yie="detachEvent",jie="removeEventListener",tM="events";var _Dt=wc("aiEvtPageHide"),TDt=wc("aiEvtPageShow"),WDe=/\.[\.]+/g,YDe=/[\.]+$/,jDe=1,K3=D3("events"),$De=/^([^.]*)(?:\.(.+)|)/;function $ie(t){return t&&t[Il]?t[Il](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,rr):t}s($ie,"_normalizeNamespace");function rM(t,e){if(e){var r=rr;_t(e)?(r=rr,nt(e,function(o){o=$ie(o),o&&(o[0]!=="."&&(o="."+o),r+=o)})):r=$ie(e),r&&(r[0]!=="."&&(r="."+r),t=(t||rr)+r)}var n=$De.exec(t||rr)||[];return{type:n[1],ns:(n[2]||rr).replace(WDe,".").replace(YDe,rr)[El](".").sort().join(".")}}s(rM,"_getEvtNamespace");function Jie(t,e,r){r===void 0&&(r=!0);var n=K3.get(t,tM,{},r),o=n[e];return o||(o=n[e]=[]),o}s(Jie,"_getRegisteredEvents");function Xie(t,e,r,n){t&&e&&e[fd]&&(t[jie]?t[jie](e[fd],r,n):t[Yie]&&t[Yie](Kie+e[fd],r))}s(Xie,"_doDetach");function zDe(t,e,r,n){var o=!1;return t&&e&&e[fd]&&r&&(t[Wie]?(t[Wie](e[fd],r,n),o=!0):t[Vie]&&(t[Vie](Kie+e[fd],r),o=!0)),o}s(zDe,"_doAttach");function zie(t,e,r,n){for(var o=e[ut];o--;){var a=e[o];a&&(!r.ns||r.ns===a[YF].ns)&&(!n||n(a))&&(Xie(t,a[YF],a.handler,a.capture),e[xu](o,1))}}s(zie,"_doUnregister");function KDe(t,e,r){if(e[fd])zie(t,Jie(t,e[fd]),e,r);else{var n=K3.get(t,tM,{});Kt(n,function(o,a){zie(t,a,e,r)}),p0(n)[ut]===0&&K3.kill(t,tM)}}s(KDe,"_unregisterEvents");function ab(t,e){var r;return e?(_t(e)?r=[t].concat(e):r=[t,e],r=rM("xx",r).ns[El](".")):r=t,r}s(ab,"mergeEvtNamespace");function J3(t,e,r,n,o){o===void 0&&(o=!1);var a=!1;if(t)try{var c=rM(e,n);if(a=zDe(t,c,r,o),a&&K3.accept(t)){var l={guid:jDe++,evtName:c,handler:r,capture:o};Jie(t,c.type)[sr](l)}}catch{}return a}s(J3,"eventOn");function nM(t,e,r,n,o){if(o===void 0&&(o=!1),t)try{var a=rM(e,n),c=!1;KDe(t,a,function(l){return a.ns&&!r||l.handler===r?(c=!0,!0):!1}),c||Xie(t,a,r,o)}catch{}}s(nM,"eventOff");d();var cb="sampleRate",lb="ProcessLegacy",X3="http.method",ig="https://dc.services.visualstudio.com",Nu="/v2/track",Bs="not_specified";d();var Z3=VF({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]});d();d();var og="split",Vt="length",sg="toLowerCase",AA="ingestionendpoint",pA="toString",iM="removeItem",Ly="message",Zie="count";var ub="stringify",fb="pathname",ag="match";var Rs="name";var ts="properties",ks="measurements",db="sizeInBytes",hb="typeName",My="exceptions",cg="severityLevel",eB="problemGroup",lg="parsedStack",Ab="hasFullStack",pb="assembly",Qu="fileName",ug="line",Oy="aiDataContract",fg="duration";function oM(t,e,r){var n=e[Vt],o=eoe(t,e);if(o[Vt]!==n){for(var a=0,c=o;r[c]!==void 0;)a++,c=m0(o,0,147)+toe(a);o=c}return o}s(oM,"dataSanitizeKeyAndAddUniqueness");function eoe(t,e){var r;return e&&(e=En(no(e)),e[Vt]>150&&(r=m0(e,0,150),$e(t,2,57,"name is too long.  It has been truncated to 150 characters.",{name:e},!0))),r||e}s(eoe,"dataSanitizeKey");function Fn(t,e,r){r===void 0&&(r=1024);var n;return e&&(r=r||1024,e=En(no(e)),e[Vt]>r&&(n=m0(e,0,r),$e(t,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:e},!0))),n||e}s(Fn,"dataSanitizeString");function dg(t,e){return cM(t,e,2048,66)}s(dg,"dataSanitizeUrl");function mb(t,e){var r;return e&&e[Vt]>32768&&(r=m0(e,0,32768),$e(t,2,56,"message is too long, it has been truncated to 32768 characters.",{message:e},!0)),r||e}s(mb,"dataSanitizeMessage");function sM(t,e){var r;if(e){var n=""+e;n[Vt]>32768&&(r=m0(n,0,32768),$e(t,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:e},!0))}return r||e}s(sM,"dataSanitizeException");function Zs(t,e){if(e){var r={};Kt(e,function(n,o){if(ws(o)&&cA())try{o=Xs()[ub](o)}catch(a){$e(t,2,49,"custom property is not valid",{exception:a},!0)}o=Fn(t,o,8192),n=oM(t,n,r),r[n]=o}),e=r}return e}s(Zs,"dataSanitizeProperties");function ea(t,e){if(e){var r={};Kt(e,function(n,o){n=oM(t,n,r),r[n]=o}),e=r}return e}s(ea,"dataSanitizeMeasurements");function aM(t,e){return e&&cM(t,e,128,69)[pA]()}s(aM,"dataSanitizeId");function cM(t,e,r,n){var o;return e&&(e=En(no(e)),e[Vt]>r&&(o=m0(e,0,r),$e(t,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:e},!0))),o||e}s(cM,"dataSanitizeInput");function toe(t){var e="00"+t;return Ane(e,e[Vt]-3)}s(toe,"dsPadNumber");d();var roe=yc()||{},noe=0,JDe=[null,null,null,null,null];function ioe(t){var e=noe,r=JDe,n=r[e];return roe.createElement?r[e]||(n=r[e]=roe.createElement("a")):n={host:XDe(t,!0)},n.href=t,e++,e>=r[Vt]&&(e=0),noe=e,n}s(ioe,"urlParseUrl");function XDe(t,e){var r=ooe(t,e)||"";if(r){var n=r[ag](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[Vt]>3&&Or(n[2])&&n[2][Vt]>0)return n[2]+(n[3]||"")}return r}s(XDe,"urlParseHost");function ooe(t,e){var r=null;if(t){var n=t[ag](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[Vt]>2&&Or(n[2])&&n[2][Vt]>0&&(r=n[2]||"",e&&n[Vt]>2)){var o=(n[1]||"")[sg](),a=n[3]||"";(o==="http"&&a===":80"||o==="https"&&a===":443")&&(a=""),r+=a}}return r}s(ooe,"urlParseFullHost");var ZDe=[ig+Nu,"https://breeze.aimon.applicationinsights.io"+Nu,"https://dc-int.services.visualstudio.com"+Nu];function tB(t){return Gi(ZDe,t[sg]())!==-1}s(tB,"isInternalApplicationInsightsEndpoint");function soe(t,e,r,n){var o,a=n,c=n;if(e&&e[Vt]>0){var l=ioe(e);if(o=l.host,!a)if(l[fb]!=null){var u=l.pathname[Vt]===0?"/":l[fb];u.charAt(0)!=="/"&&(u="/"+u),c=l[fb],a=Fn(t,r?r+" "+u:u)}else a=Fn(t,e)}else o=n,a=n;return{target:o,name:a,data:c}}s(soe,"AjaxHelperParseDependencyPath");d();d();var rB=Hm({LocalStorage:0,SessionStorage:1}),aQt=Hm({AI:0,AI_AND_W3C:1,W3C:2}),cQt=Hm({Normal:1,Critical:2});var Uy=void 0,aoe="";function coe(t){try{if(ot(Cc()))return null;var e=new Date()[pA](),r=jn(t===rB.LocalStorage?"localStorage":"sessionStorage"),n=aoe+e;r.setItem(n,e);var o=r.getItem(n)!==e;if(r[iM](n),!o)return r}catch{}return null}s(coe,"_getVerifiedStorageObject");function lM(){return nB()?coe(rB.SessionStorage):null}s(lM,"_getSessionStorageObject");function uM(t){aoe=t||""}s(uM,"utlSetStoragePrefix");function nB(t){return(t||Uy===void 0)&&(Uy=!!coe(rB.SessionStorage)),Uy}s(nB,"utlCanUseSessionStorage");function fM(t,e){var r=lM();if(r!==null)try{return r.getItem(e)}catch(n){Uy=!1,$e(t,2,2,"Browser failed read of session storage. "+Vi(n),{exception:mt(n)})}return null}s(fM,"utlGetSessionStorage");function dM(t,e,r){var n=lM();if(n!==null)try{return n.setItem(e,r),!0}catch(o){Uy=!1,$e(t,2,4,"Browser failed write to session storage. "+Vi(o),{exception:mt(o)})}return!1}s(dM,"utlSetSessionStorage");function hM(t,e){var r=lM();if(r!==null)try{return r[iM](e),!0}catch(n){Uy=!1,$e(t,2,6,"Browser failed removal of session storage item. "+Vi(n),{exception:mt(n)})}return!1}s(hM,"utlRemoveSessionStorage");d();var eNe=";",tNe="=";function gb(t){if(!t)return{};var e=t[og](eNe),r=OF(e,function(o,a){var c=a[og](tNe);if(c[Vt]===2){var l=c[0][sg](),u=c[1];o[l]=u}return o},{});if(p0(r)[Vt]>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r[AA]=r[AA]||"https://"+n+"dc."+r.endpointsuffix}r[AA]=r[AA]||ig,Dv(r[AA],"/")&&(r[AA]=r[AA].slice(0,-1))}return r}s(gb,"parseConnectionString");d();var AM=function(){function t(e,r,n){var o=this,a=this;a.ver=1,a.sampleRate=100,a.tags={},a[Rs]=Fn(e,n)||Bs,a.data=r,a.time=aA(new Date),a[Oy]={time:1,iKey:1,name:1,sampleRate:s(function(){return o.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return s(t,"Envelope"),t}();d();var Cd=function(){function t(e,r,n,o){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var a=this;a.ver=2,a[Rs]=Fn(e,r)||Bs,a[ts]=Zs(e,n),a[ks]=ea(e,o)}return s(t,"Event"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}();d();var rNe=58,nNe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,iNe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,oNe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,sNe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,aNe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,cNe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,lNe=/([^\(\s\n]+):([0-9]+)$/,loe="<no_method>",qy="error",v0="stack",mM="stackDetails",uoe="errorSrc",gM="message",Aoe="description",foe=[{re:iNe,len:5,m:1,fn:2,ln:3,col:4},{chk:fNe,pre:uNe,re:oNe,len:4,m:1,fn:2,ln:3},{re:sNe,len:3,m:1,fn:2,hdl:hoe},{re:aNe,len:2,fn:1,hdl:hoe}];function uNe(t){return t.replace(/(\(anonymous\))/,"<anonymous>")}s(uNe,"_scrubAnonymous");function fNe(t){return Eu(t,"[native")<0}s(fNe,"_ignoreNative");function CM(t,e){var r=t;return r&&!Or(r)&&(JSON&&JSON[ub]?(r=JSON[ub](t),e&&(!r||r==="{}")&&(Lt(t[pA])?r=t[pA]():r=""+t)):r=""+t+" - (Missing JSON.stringify)"),r||""}s(CM,"_stringify");function poe(t,e){var r=t;return t&&(r&&!Or(r)&&(r=t[gM]||t[Aoe]||r),r&&!Or(r)&&(r=CM(r,!0)),t.filename&&(r=r+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&Eu(r||"",e)===-1&&(r=e+": "+r),r||""}s(poe,"_formatMessage");function dNe(t){try{if(ws(t))return"hasFullStack"in t&&"typeName"in t}catch{}return!1}s(dNe,"_isExceptionDetailsInternal");function hNe(t){try{if(ws(t))return"ver"in t&&"exceptions"in t&&"properties"in t}catch{}return!1}s(hNe,"_isExceptionInternal");function doe(t){return t&&t.src&&Or(t.src)&&t.obj&&_t(t.obj)}s(doe,"_isStackDetails");function hg(t){var e=t||"";Or(e)||(Or(e[v0])?e=e[v0]:e=""+e);var r=e[og](`
`);return{src:e,obj:r}}s(hg,"_convertStackObj");function ANe(t){for(var e=[],r=t[og](`
`),n=0;n<r[Vt];n++){var o=r[n];r[n+1]&&(o+="@"+r[n+1],n++),e.push(o)}return{src:t,obj:e}}s(ANe,"_getOperaStack");function moe(t){var e=null;if(t)try{if(t[v0])e=hg(t[v0]);else if(t[qy]&&t[qy][v0])e=hg(t[qy][v0]);else if(t.exception&&t.exception[v0])e=hg(t.exception[v0]);else if(doe(t))e=t;else if(doe(t[mM]))e=t[mM];else if(Ba()&&Ba().opera&&t[gM])e=ANe(t[Ly]);else if(t.reason&&t.reason[v0])e=hg(t.reason[v0]);else if(Or(t))e=hg(t);else{var r=t[gM]||t[Aoe]||"";Or(t[uoe])&&(r&&(r+=`
`),r+=" from "+t[uoe]),r&&(e=hg(r))}}catch(n){e=hg(n)}return e||{src:"",obj:null}}s(moe,"_getStackFromErrorObj");function pNe(t){var e="";return t&&(t.obj?e=t.obj.join(`
`):e=t.src||""),e}s(pNe,"_formatStackTrace");function mNe(t){var e,r=t.obj;if(r&&r[Vt]>0){e=[];var n=0,o=!1,a=0;nt(r,function(y){if(o||ENe(y)){var E=no(y);o=!0;var I=INe(E,n);I&&(a+=I[db],e.push(I),n++)}});var c=32*1024;if(a>c)for(var l=0,u=e[Vt]-1,f=0,h=l,A=u;l<u;){var p=e[l][db],m=e[u][db];if(f+=p+m,f>c){var g=A-h+1;e.splice(h,g);break}h=l,A=u,l++,u--}}return e}s(mNe,"_parseStack");function iB(t){var e="";if(t&&(e=t.typeName||t[Rs]||"",!e))try{var r=/function (.{1,200})\(/,n=r.exec(t.constructor[pA]());e=n&&n[Vt]>1?n[1]:""}catch{}return e}s(iB,"_getErrorType");function pM(t){if(t)try{if(!Or(t)){var e=iB(t),r=CM(t,!1);return(!r||r==="{}")&&(t[qy]&&(t=t[qy],e=iB(t)),r=CM(t,!0)),Eu(r,e)!==0&&e!=="String"?e+":"+r:r}}catch{}return""+(t||"")}s(pM,"_formatErrorCode");var Ag=function(){function t(e,r,n,o,a,c){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var l=this;l.ver=2,hNe(r)?(l[My]=r[My]||[],l[ts]=r[ts],l[ks]=r[ks],r[cg]&&(l[cg]=r[cg]),r.id&&(l.id=r.id,r[ts].id=r.id),r[eB]&&(l[eB]=r[eB]),ot(r.isManual)||(l.isManual=r.isManual)):(n||(n={}),c&&(n.id=c),l[My]=[goe(e,r,n)],l[ts]=Zs(e,n),l[ks]=ea(e,o),a&&(l[cg]=a),c&&(l.id=c))}return s(t,"Exception"),t.CreateAutoException=function(e,r,n,o,a,c,l,u){var f=iB(a||c||e);return{message:poe(e,f),url:r,lineNumber:n,columnNumber:o,error:pM(a||c||e),evt:pM(c||e),typeName:f,stackDetails:moe(l||a||c),errorSrc:u}},t.CreateFromInterface=function(e,r,n,o){var a=r[My]&&qm(r[My],function(l){return yNe(e,l)}),c=new t(e,E0(E0({},r),{exceptions:a}),n,o);return c},t.prototype.toInterface=function(){var e=this,r=e.exceptions,n=e.properties,o=e.measurements,a=e.severityLevel,c=e.problemGroup,l=e.id,u=e.isManual,f=r instanceof Array&&qm(r,function(h){return h.toInterface()})||void 0;return{ver:"4.0",exceptions:f,severityLevel:a,properties:n,measurements:o,problemGroup:c,id:l,isManual:u}},t.CreateSimpleException=function(e,r,n,o,a,c){var l;return{exceptions:[(l={},l[Ab]=!0,l.message=e,l.stack=a,l.typeName=r,l)]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=pM,t}();var gNe=gc({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function CNe(){var t=this,e=_t(t[lg])&&qm(t[lg],function(n){return vNe(n)}),r={id:t.id,outerId:t.outerId,typeName:t[hb],message:t[Ly],hasFullStack:t[Ab],stack:t[v0],parsedStack:e||void 0};return r}s(CNe,"_toInterface");function goe(t,e,r){var n,o,a,c,l,u,f,h;if(dNe(e))c=e[hb],l=e[Ly],f=e[v0],h=e[lg]||[],u=e[Ab];else{var A=e,p=A&&A.evt;Rv(A)||(A=A[qy]||p||A),c=Fn(t,iB(A))||Bs,l=mb(t,poe(e||A,c))||Bs;var m=e[mM]||moe(e);h=mNe(m),_t(h)&&qm(h,function(g){g[pb]=Fn(t,g[pb]),g[Qu]=Fn(t,g[Qu])}),f=sM(t,pNe(m)),u=_t(h)&&h[Vt]>0,r&&(r[hb]=r[hb]||c)}return n={},n[Oy]=gNe,n.id=o,n.outerId=a,n.typeName=c,n.message=l,n[Ab]=u,n.stack=f,n.parsedStack=h,n.toInterface=CNe,n}s(goe,"_createExceptionDetails");function yNe(t,e){var r=_t(e[lg])&&qm(e[lg],function(o){return xNe(o)})||e[lg],n=goe(t,E0(E0({},e),{parsedStack:r}));return n}s(yNe,"_createExDetailsFromInterface");function Coe(t,e){var r=e[ag](cNe);if(r&&r[Vt]>=4)t[Qu]=r[1],t[ug]=parseInt(r[2]);else{var n=e[ag](lNe);n&&n[Vt]>=3?(t[Qu]=n[1],t[ug]=parseInt(n[2])):t[Qu]=e}}s(Coe,"_parseFilename");function hoe(t,e,r){var n=t[Qu];e.fn&&r&&r[Vt]>e.fn&&(e.ln&&r[Vt]>e.ln?(n=En(r[e.fn]||""),t[ug]=parseInt(En(r[e.ln]||""))||0):n=En(r[e.fn]||"")),n&&Coe(t,n)}s(hoe,"_handleFilename");function ENe(t){var e=!1;if(t&&Or(t)){var r=En(t);r&&(e=nNe.test(r))}return e}s(ENe,"_isStackFrame");var yoe=gc({level:1,method:1,assembly:0,fileName:0,line:0});function INe(t,e){var r,n;if(t&&Or(t)&&En(t)){n=(r={},r[Oy]=yoe,r.level=e,r.assembly=En(t),r.method=loe,r.fileName="",r.line=0,r.sizeInBytes=0,r);for(var o=0;o<foe[Vt];){var a=foe[o];if(a.chk&&!a.chk(t))break;a.pre&&(t=a.pre(t));var c=t[ag](a.re);if(c&&c[Vt]>=a.len){a.m&&(n.method=En(c[a.m]||loe)),a.hdl?a.hdl(n,a,c):a.fn&&(a.ln?(n[Qu]=En(c[a.fn]||""),n[ug]=parseInt(En(c[a.ln]||""))||0):Coe(n,c[a.fn]||""));break}o++}}return Eoe(n)}s(INe,"_extractStackFrame");function xNe(t){var e,r=(e={},e[Oy]=yoe,e.level=t.level,e.method=t.method,e.assembly=t[pb],e.fileName=t[Qu],e.line=t[ug],e.sizeInBytes=0,e);return Eoe(r)}s(xNe,"_stackFrameFromInterface");function Eoe(t){var e=rNe;return t&&(e+=t.method[Vt],e+=t.assembly[Vt],e+=t.fileName[Vt],e+=t.level.toString()[Vt],e+=t.line.toString()[Vt],t[db]=e),t}s(Eoe,"_populateFrameSizeInBytes");function vNe(t){return{level:t.level,method:t.method,assembly:t[pb],fileName:t[Qu],line:t[ug]}}s(vNe,"_parsedFrameToInterface");d();d();var Ioe=function(){function t(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(t,"DataPoint"),t}();var yd=function(){function t(e,r,n,o,a,c,l,u,f){this.aiDataContract={ver:1,metrics:1,properties:0};var h=this;h.ver=2;var A=new Ioe;A[Zie]=o>0?o:void 0,A.max=isNaN(c)||c===null?void 0:c,A.min=isNaN(a)||a===null?void 0:a,A[Rs]=Fn(e,r)||Bs,A.value=n,A.stdDev=isNaN(l)||l===null?void 0:l,h.metrics=[A],h[ts]=Zs(e,u),h[ks]=ea(e,f)}return s(t,"Metric"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}();d();d();var Cb="";function oB(t){(isNaN(t)||t<0)&&(t=0),t=vne(t);var e=Cb+t%1e3,r=Cb+ad(t/1e3)%60,n=Cb+ad(t/(1e3*60))%60,o=Cb+ad(t/(1e3*60*60))%24,a=ad(t/(1e3*60*60*24));return e=e[Vt]===1?"00"+e:e[Vt]===2?"0"+e:e,r=r[Vt]<2?"0"+r:r,n=n[Vt]<2?"0"+n:n,o=o[Vt]<2?"0"+o:o,(a>0?a+".":Cb)+o+":"+n+":"+r+"."+e}s(oB,"msToTimeSpan");var pg=function(){function t(e,r,n,o,a,c,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var u=this;u.ver=2,u.id=aM(e,l),u.url=dg(e,n),u[Rs]=Fn(e,r)||Bs,isNaN(o)||(u[fg]=oB(o)),u[ts]=Zs(e,a),u[ks]=ea(e,c)}return s(t,"PageView"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}();d();var mg=function(){function t(e,r,n,o,a,c,l,u,f,h,A,p){f===void 0&&(f="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var m=this;m.ver=2,m.id=r,m[fg]=oB(a),m.success=c,m.resultCode=l+"",m.type=Fn(e,f);var g=soe(e,n,u,o);m.data=dg(e,o)||g.data,m.target=Fn(e,g.target),h&&(m.target="".concat(m.target," | ").concat(h)),m[Rs]=Fn(e,g[Rs]),m[ts]=Zs(e,A),m[ks]=ea(e,p)}return s(t,"RemoteDependencyData"),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}();d();var gg=function(){function t(e,r,n,o,a){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var c=this;c.ver=2,r=r||Bs,c[Ly]=mb(e,r),c[ts]=Zs(e,o),c[ks]=ea(e,a),n&&(c[cg]=n)}return s(t,"Trace"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}();d();var Cg=function(){function t(e,r,n,o,a,c,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var u=this;u.ver=2,u.url=dg(e,n),u[Rs]=Fn(e,r)||Bs,u[ts]=Zs(e,a),u[ks]=ea(e,c),l&&(u.domProcessing=l.domProcessing,u[fg]=l[fg],u.networkConnect=l.networkConnect,u.perfTotal=l.perfTotal,u.receivedResponse=l.receivedResponse,u.sentRequest=l.sentRequest)}return s(t,"PageViewPerformance"),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}();d();var Ed=function(){function t(e,r){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=r}return s(t,"Data"),t}();d();function gA(t){var e="ai."+t+".";return function(r){return e+r}}s(gA,"_aiNameFunc");var yb=gA("application"),xo=gA("device"),sB=gA("location"),Hy=gA("operation"),yM=gA("session"),mA=gA("user"),yg=gA("cloud"),Eb=gA("internal"),Ib=function(t){Tu(e,t);function e(){return t.call(this)||this}return s(e,"ContextTagKeys"),e}(CL({applicationVersion:yb("ver"),applicationBuild:yb("build"),applicationTypeId:yb("typeId"),applicationId:yb("applicationId"),applicationLayer:yb("layer"),deviceId:xo("id"),deviceIp:xo("ip"),deviceLanguage:xo("language"),deviceLocale:xo("locale"),deviceModel:xo("model"),deviceFriendlyName:xo("friendlyName"),deviceNetwork:xo("network"),deviceNetworkName:xo("networkName"),deviceOEMName:xo("oemName"),deviceOS:xo("os"),deviceOSVersion:xo("osVersion"),deviceRoleInstance:xo("roleInstance"),deviceRoleName:xo("roleName"),deviceScreenResolution:xo("screenResolution"),deviceType:xo("type"),deviceMachineName:xo("machineName"),deviceVMName:xo("vmName"),deviceBrowser:xo("browser"),deviceBrowserVersion:xo("browserVersion"),locationIp:sB("ip"),locationCountry:sB("country"),locationProvince:sB("province"),locationCity:sB("city"),operationId:Hy("id"),operationName:Hy("name"),operationParentId:Hy("parentId"),operationRootId:Hy("rootId"),operationSyntheticSource:Hy("syntheticSource"),operationCorrelationVector:Hy("correlationVector"),sessionId:yM("id"),sessionIsFirst:yM("isFirst"),sessionIsNew:yM("isNew"),userAccountAcquisitionDate:mA("accountAcquisitionDate"),userAccountId:mA("accountId"),userAgent:mA("userAgent"),userId:mA("id"),userStoreRegion:mA("storeRegion"),userAuthUserId:mA("authUserId"),userAnonymousUserAcquisitionDate:mA("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:mA("authUserAcquisitionDate"),cloudName:yg("name"),cloudRole:yg("role"),cloudRoleVer:yg("roleVer"),cloudRoleInstance:yg("roleInstance"),cloudEnvironment:yg("environment"),cloudLocation:yg("location"),cloudDeploymentUnit:yg("deploymentUnit"),internalNodeName:Eb("nodeName"),internalSdkVersion:Eb("sdkVersion"),internalAgentVersion:Eb("agentVersion"),internalSnippet:Eb("snippet"),internalSdkSrc:Eb("sdkSrc")}));d();var oo=new Ib;d();function xoe(t,e){nM(t,null,null,e)}s(xoe,"_disableEvents");function EM(t){var e=yc(),r=C0(),n=!1,o=[],a=1;r&&!ot(r.onLine)&&!r.onLine&&(a=2);var c=0,l=p(),u=ab(wc("OfflineListener"),t);try{if(h(Ba())&&(n=!0),e){var f=e.body||e;f.ononline&&h(f)&&(n=!0)}}catch{n=!1}function h(v){var b=!1;return v&&(b=J3(v,"online",y,u),b&&J3(v,"offline",E,u)),b}s(h,"_enableEvents");function A(){return l}s(A,"_isOnline");function p(){return!(c===2||a===2)}s(p,"calCurrentState");function m(){var v=p();l!==v&&(l=v,nt(o,function(b){var _={isOnline:l,rState:a,uState:c};try{b(_)}catch{}}))}s(m,"listnerNoticeCheck");function g(v){c=v,m()}s(g,"setOnlineState");function y(){a=1,m()}s(y,"_setOnline");function E(){a=2,m()}s(E,"_setOffline");function I(){var v=Ba();if(v&&n){if(xoe(v,u),e){var b=e.body||e;Zr(b.ononline)||xoe(b,u)}n=!1}}s(I,"_unload");function x(v){return o.push(v),{rm:s(function(){var b=o.indexOf(v);if(b>-1)return o.splice(b,1)},"rm")}}return s(x,"addListener"),{isOnline:A,isListening:s(function(){return n},"isListening"),unload:I,addListener:x,setOnlineState:g}}s(EM,"createOfflineListener");var aB="AppInsightsChannelPlugin";d();d();d();d();d();var CA="duration";d();var so="tags",cB="deviceType",Na="data",Pu="name",Eg="traceID",Jt="length",yA="stringify",EA="measurements",b0="dataType",IA="envelopeType",Id="toString",xd="enqueue",vd="count",_0="push",xb="emitLineDelimitedJson",xA="clear",Gy="markAsSent",Ig="clearSent",vb="bufferOverride",Vy="BUFFER_KEY",bd="SENT_BUFFER_KEY",vA="concat",Wy="MAX_BUFFER_SIZE",Yy="triggerSend",rs="diagLog",lB="initialize",jy="_sender",$y="endpointUrl",zy="instrumentationKey",uB="customHeaders",IM="maxBatchSizeInBytes",fB="onunloadDisableBeacon",dB="isBeaconApiDisabled",xM="alwaysUseXhrOverride",vM="enableSessionStorageBuffer",bl="_buffer",bM="onunloadDisableFetch",_M="disableSendBeaconSplit",bb="getSenderInst",bA="_onError",hB="_onPartialSuccess",_b="_onSuccess",AB="itemsReceived",pB="itemsAccepted",mB="baseType",Ky="sampleRate",voe="getHashCodeScore";var TM="baseType",ui="baseData",Lo="properties",boe="true";function Wi(t,e,r){return Bu(t,e,r,Xh)}s(Wi,"_setValueIf");function bNe(t,e,r){var n=r[so]=r[so]||{},o=e.ext=e.ext||{},a=e[so]=e[so]||[],c=o.user;c&&(Wi(n,oo.userAuthUserId,c.authId),Wi(n,oo.userId,c.id||c.localId));var l=o.app;l&&Wi(n,oo.sessionId,l.sesId);var u=o.device;u&&(Wi(n,oo.deviceId,u.id||u.localId),Wi(n,oo[cB],u.deviceClass),Wi(n,oo.deviceIp,u.ip),Wi(n,oo.deviceModel,u.model),Wi(n,oo[cB],u[cB]));var f=e.ext.web;if(f){Wi(n,oo.deviceLanguage,f.browserLang),Wi(n,oo.deviceBrowserVersion,f.browserVer),Wi(n,oo.deviceBrowser,f.browser);var h=r[Na]=r[Na]||{},A=h[ui]=h[ui]||{},p=A[Lo]=A[Lo]||{};Wi(p,"domain",f.domain),Wi(p,"isManual",f.isManual?boe:null),Wi(p,"screenRes",f.screenRes),Wi(p,"userConsent",f.userConsent?boe:null)}var m=o.os;m&&(Wi(n,oo.deviceOS,m[Pu]),Wi(n,oo.deviceOSVersion,m.osVer));var g=o.trace;g&&(Wi(n,oo.operationParentId,g.parentID),Wi(n,oo.operationName,Fn(t,g[Pu])),Wi(n,oo.operationId,g[Eg]));for(var y={},E=a[Jt]-1;E>=0;E--){var I=a[E];Kt(I,function(v,b){y[v]=b}),a.splice(E,1)}Kt(a,function(v,b){y[v]=b});var x=E0(E0({},n),y);x[oo.internalSdkVersion]||(x[oo.internalSdkVersion]=Fn(t,"javascript:".concat(_Ne.Version),64)),r[so]=S3(x)}s(bNe,"_extractPartAExtensions");function _A(t,e,r){ot(t)||Kt(t,function(n,o){od(o)?r[n]=o:Or(o)?e[n]=o:cA()&&(e[n]=Xs()[yA](o))})}s(_A,"_extractPropsAndMeasurements");function xg(t,e){ot(t)||Kt(t,function(r,n){t[r]=n||e})}s(xg,"_convertPropsUndefinedToCustomDefinedValue");function vg(t,e,r,n){var o=new AM(t,n,e);Wi(o,"sampleRate",r[cb]),(r[ui]||{}).startTime&&(o.time=aA(r[ui].startTime)),o.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return o[Pu]=o[Pu].replace("{0}",a),bNe(t,r,o),r[so]=r[so]||[],S3(o)}s(vg,"_createEnvelope");function bg(t,e){ot(e[ui])&&$e(t,1,46,"telemetryItem.baseData cannot be null.")}s(bg,"EnvelopeCreatorInit");var _Ne={Version:"3.3.6"};function _oe(t,e,r){bg(t,e);var n=e[ui][EA]||{},o=e[ui][Lo]||{};_A(e[Na],o,n),ot(r)||xg(o,r);var a=e[ui];if(ot(a))return md(t,"Invalid input for dependency data"),null;var c=a[Lo]&&a[Lo][X3]?a[Lo][X3]:"GET",l=new mg(t,a.id,a.target,a[Pu],a[CA],a.success,a.responseCode,c,a.type,a.correlationContext,o,n),u=new Ed(mg[b0],l);return vg(t,mg[IA],e,u)}s(_oe,"DependencyEnvelopeCreator");function wM(t,e,r){bg(t,e);var n={},o={};e[TM]!==Cd[b0]&&(n.baseTypeSource=e[TM]),e[TM]===Cd[b0]?(n=e[ui][Lo]||{},o=e[ui][EA]||{}):e[ui]&&_A(e[ui],n,o),_A(e[Na],n,o),ot(r)||xg(n,r);var a=e[ui][Pu],c=new Cd(t,a,n,o),l=new Ed(Cd[b0],c);return vg(t,Cd[IA],e,l)}s(wM,"EventEnvelopeCreator");function Toe(t,e,r){bg(t,e);var n=e[ui][EA]||{},o=e[ui][Lo]||{};_A(e[Na],o,n),ot(r)||xg(o,r);var a=e[ui],c=Ag.CreateFromInterface(t,a,o,n),l=new Ed(Ag[b0],c);return vg(t,Ag[IA],e,l)}s(Toe,"ExceptionEnvelopeCreator");function woe(t,e,r){bg(t,e);var n=e[ui],o=n[Lo]||{},a=n[EA]||{};_A(e[Na],o,a),ot(r)||xg(o,r);var c=new yd(t,n[Pu],n.average,n.sampleCount,n.min,n.max,n.stdDev,o,a),l=new Ed(yd[b0],c);return vg(t,yd[IA],e,l)}s(woe,"MetricEnvelopeCreator");function Soe(t,e,r){bg(t,e);var n,o=e[ui];!ot(o)&&!ot(o[Lo])&&!ot(o[Lo][CA])?(n=o[Lo][CA],delete o[Lo][CA]):!ot(e[Na])&&!ot(e[Na][CA])&&(n=e[Na][CA],delete e[Na][CA]);var a=e[ui],c;((e.ext||{}).trace||{})[Eg]&&(c=e.ext.trace[Eg]);var l=a.id||c,u=a[Pu],f=a.uri,h=a[Lo]||{},A=a[EA]||{};if(ot(a.refUri)||(h.refUri=a.refUri),ot(a.pageType)||(h.pageType=a.pageType),ot(a.isLoggedIn)||(h.isLoggedIn=a.isLoggedIn[Id]()),!ot(a[Lo])){var p=a[Lo];Kt(p,function(y,E){h[y]=E})}_A(e[Na],h,A),ot(r)||xg(h,r);var m=new pg(t,u,f,n,h,A,l),g=new Ed(pg[b0],m);return vg(t,pg[IA],e,g)}s(Soe,"PageViewEnvelopeCreator");function Boe(t,e,r){bg(t,e);var n=e[ui],o=n[Pu],a=n.uri||n.url,c=n[Lo]||{},l=n[EA]||{};_A(e[Na],c,l),ot(r)||xg(c,r);var u=new Cg(t,o,a,void 0,c,l,n),f=new Ed(Cg[b0],u);return vg(t,Cg[IA],e,f)}s(Boe,"PageViewPerformanceEnvelopeCreator");function Roe(t,e,r){bg(t,e);var n=e[ui].message,o=e[ui].severityLevel,a=e[ui][Lo]||{},c=e[ui][EA]||{};_A(e[Na],a,c),ot(r)||xg(a,r);var l=new gg(t,n,o,a,c),u=new Ed(gg[b0],l);return vg(t,gg[IA],e,u)}s(Roe,"TraceEnvelopeCreator");d();var koe=function(){function t(e,r){var n=[],o=!1,a=r.maxRetryCnt;this._get=function(){return n},this._set=function(c){return n=c,n},Bn(t,this,function(c){c[xd]=function(l){if(c[vd]()>=r.eventsLimitInMem){o||($e(e,2,105,"Maximum in-memory buffer size reached: "+c[vd](),!0),o=!0);return}l.cnt=l.cnt||0,!(!ot(a)&&l.cnt>a)&&n[_0](l)},c[vd]=function(){return n[Jt]},c.size=function(){for(var l=n[Jt],u=0;u<n[Jt];u++)l+=n[u].item[Jt];return r[xb]||(l+=2),l},c[xA]=function(){n=[],o=!1},c.getItems=function(){return n.slice(0)},c.batchPayloads=function(l){if(l&&l[Jt]>0){var u=[];nt(l,function(h){u[_0](h.item)});var f=r[xb]?u.join(`
`):"["+u.join(",")+"]";return f}return null},c.createNew=function(l,u,f){var h=n.slice(0);l=l||e,u=u||{};var A=f?new SM(l,u):new gB(l,u);return nt(h,function(p){A[xd](p)}),A}})}return s(t,"BaseSendBuffer"),t.__ieDyn=1,t}(),gB=function(t){Tu(e,t);function e(r,n){var o=t.call(this,r,n)||this;return Bn(e,o,function(a,c){a[Gy]=function(l){c[xA]()},a[Ig]=function(l){}}),o}return s(e,"ArraySendBuffer"),e.__ieDyn=1,e}(koe);var TNe=["AI_buffer","AI_sentBuffer"],SM=function(t){Tu(e,t);function e(n,o){var a=t.call(this,n,o)||this,c=!1,l=o?.namePrefix,u=o[vb]||{getItem:fM,setItem:dM},f=u.getItem,h=u.setItem,A=o.maxRetryCnt;return Bn(e,a,function(p,m){var g=b(e[Vy]),y=b(e[bd]),E=w(),I=y[vA](E),x=p._set(g[vA](I));x[Jt]>e[Wy]&&(x[Jt]=e[Wy]),S(e[bd],[]),S(e[Vy],x),p[xd]=function(M){if(p[vd]()>=e[Wy]){c||($e(n,2,67,"Maximum buffer size reached: "+p[vd](),!0),c=!0);return}M.cnt=M.cnt||0,!(!ot(A)&&M.cnt>A)&&(m[xd](M),S(e[Vy],p._get()))},p[xA]=function(){m[xA](),S(e[Vy],p._get()),S(e[bd],[]),c=!1},p[Gy]=function(M){S(e[Vy],p._set(v(M,p._get())));var Y=b(e[bd]);Y instanceof Array&&M instanceof Array&&(Y=Y[vA](M),Y[Jt]>e[Wy]&&($e(n,1,67,"Sent buffer reached its maximum size: "+Y[Jt],!0),Y[Jt]=e[Wy]),S(e[bd],Y))},p[Ig]=function(M){var Y=b(e[bd]);Y=v(M,Y),S(e[bd],Y)},p.createNew=function(M,Y,D){D=!!D;var O=p._get().slice(0),W=b(e[bd]).slice(0);M=M||n,Y=Y||{},p[xA]();var R=D?new e(M,Y):new gB(M,Y);return nt(O,function(Q){R[xd](Q)}),D&&R[Gy](W),R};function v(M,Y){var D=[],O=[];return nt(M,function(W){O[_0](W.item)}),nt(Y,function(W){!Lt(W)&&Gi(O,W.item)===-1&&D[_0](W)}),D}s(v,"_removePayloadsFromBuffer");function b(M){var Y=M;return Y=l?l+"_"+Y:Y,_(Y)}s(b,"_getBuffer");function _(M){try{var Y=f(n,M);if(Y){var D=Xs().parse(Y);if(Or(D)&&(D=Xs().parse(D)),D&&_t(D))return D}}catch(O){$e(n,1,42," storage key: "+M+", "+Vi(O),{exception:mt(O)})}return[]}s(_,"_getBufferBase");function S(M,Y){var D=M;try{D=l?l+"_"+D:D;var O=JSON[yA](Y);h(n,D,O)}catch(W){h(n,D,JSON[yA]([])),$e(n,2,41," storage key: "+D+", "+Vi(W)+". Buffer cleared",{exception:mt(W)})}}s(S,"_setBuffer");function w(){var M=[];try{return nt(TNe,function(Y){var D=L(Y);if(M=M[vA](D),l){var O=l+"_"+Y,W=L(O);M=M[vA](W)}}),M}catch(Y){$e(n,2,41,"Transfer events from previous buffers: "+Vi(Y)+". previous Buffer items can not be removed",{exception:mt(Y)})}return[]}s(w,"_getPreviousEvents");function L(M){try{var Y=_(M),D=[];return nt(Y,function(O){var W={item:O,cnt:0};D[_0](W)}),hM(n,M),D}catch{}return[]}s(L,"_getItemsFromPreviousKey")}),a}s(e,"SessionStorageSendBuffer");var r;return r=e,e.VERSION="_1",e.BUFFER_KEY="AI_buffer"+r.VERSION,e.SENT_BUFFER_KEY="AI_sentBuffer"+r.VERSION,e.MAX_BUFFER_SIZE=2e3,e}(koe);d();var Doe=function(){function t(e){Bn(t,this,function(r){r.serialize=function(c){var l=n(c,"root");try{return Xs()[yA](l)}catch(u){$e(e,1,48,u&&Lt(u[Id])?u[Id]():"Error serializing object",null,!0)}};function n(c,l){var u="__aiCircularRefCheck",f={};if(!c)return $e(e,1,48,"cannot serialize object because it is null or undefined",{name:l},!0),f;if(c[u])return $e(e,2,50,"Circular reference detected while serializing object",{name:l},!0),f;if(!c.aiDataContract){if(l==="measurements")f=a(c,"number",l);else if(l==="properties")f=a(c,"string",l);else if(l==="tags")f=a(c,"string",l);else if(_t(c))f=o(c,l);else{$e(e,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:l},!0);try{Xs()[yA](c),f=c}catch(h){$e(e,1,48,h&&Lt(h[Id])?h[Id]():"Error serializing object",null,!0)}}return f}return c[u]=!0,Kt(c.aiDataContract,function(h,A){var p=Lt(A)?A()&1:A&1,m=Lt(A)?A()&4:A&4,g=A&2,y=c[h]!==void 0,E=ws(c[h])&&c[h]!==null;if(p&&!y&&!g)$e(e,1,24,"Missing required field specification. The field is required but not present on source",{field:h,name:l});else if(!m){var I=void 0;E?g?I=o(c[h],h):I=n(c[h],h):I=c[h],I!==void 0&&(f[h]=I)}}),delete c[u],f}s(n,"_serializeObject");function o(c,l){var u;if(c)if(!_t(c))$e(e,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:l},!0);else{u=[];for(var f=0;f<c[Jt];f++){var h=c[f],A=n(h,l+"["+f+"]");u[_0](A)}}return u}s(o,"_serializeArray");function a(c,l,u){var f;return c&&(f={},Kt(c,function(h,A){if(l==="string")A===void 0?f[h]="undefined":A===null?f[h]="null":A[Id]?f[h]=A[Id]():f[h]="invalid field: toString() is not defined.";else if(l==="number")if(A===void 0)f[h]="undefined";else if(A===null)f[h]="null";else{var p=parseFloat(A);f[h]=p}else f[h]="invalid field: "+u+" is of unknown type.",$e(e,1,f[h],null,!0)})),f}s(a,"_serializeStringMap")})}return s(t,"Serializer"),t.__ieDyn=1,t}();d();d();d();var wNe=8,Noe=function(){function t(){}return s(t,"HashCodeScoreGenerator"),t.prototype.getHashCodeScore=function(e){var r=this.getHashCode(e)/t.INT_MAX_VALUE;return r*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e[Jt]<wNe;)e=e[vA](e);for(var r=5381,n=0;n<e[Jt];++n)r=(r<<5)+r+e.charCodeAt(n),r=r&r;return Math.abs(r)},t.INT_MAX_VALUE=2147483647,t}();var Qoe=function(){function t(){var e=this,r=new Noe,n=new Ib;e.getSamplingScore=function(o){var a=0;return o[so]&&o[so][n.userId]?a=r.getHashCodeScore(o[so][n.userId]):o.ext&&o.ext.user&&o.ext.user.id?a=r[voe](o.ext.user.id):o[so]&&o[so][n.operationId]?a=r.getHashCodeScore(o[so][n.operationId]):o.ext&&o.ext.telemetryTrace&&o.ext.telemetryTrace[Eg]?a=r.getHashCodeScore(o.ext.telemetryTrace[Eg]):a=Math.random()*100,a}}return s(t,"SamplingScoreGenerator"),t}();var Poe=function(){function t(e,r){this.INT_MAX_VALUE=2147483647;var n=r||rg(null);(e>100||e<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[Ky]=e,this.samplingScoreGenerator=new Qoe}return s(t,"Sample"),t.prototype.isSampledIn=function(e){var r=this[Ky],n=!1;return r==null||r>=100||e.baseType===yd[b0]?!0:(n=this.samplingScoreGenerator.getSamplingScore(e)<r,n)},t}();var zn,_d,Fu=void 0,Foe="",SNe=65e3;function Loe(t){try{return t.responseText}catch{}return null}s(Loe,"_getResponseText");function BNe(t){return t&&t.sendPOST}s(BNe,"isOverrideFn");var Moe=Mm((zn={endpointUrl:Dy(Xh,ig+Nu)},zn[xb]=x0(),zn.maxBatchInterval=15e3,zn[IM]=102400,zn.disableTelemetry=x0(),zn[vM]=x0(!0),zn.isRetryDisabled=x0(),zn[dB]=x0(!0),zn[_M]=x0(!0),zn.disableXhr=x0(),zn[bM]=x0(),zn[fB]=x0(),zn[zy]=Fu,zn.namePrefix=Fu,zn.samplingPercentage=Dy(RNe,100),zn[uB]=Fu,zn.convertUndefined=Fu,zn.eventsLimitInMem=1e4,zn[vb]=!1,zn.httpXHROverride={isVal:BNe,v:Fu},zn[xM]=x0(),zn.transports=Fu,zn.retryCodes=Fu,zn.maxRetryCnt={isVal:od,v:10},zn));function RNe(t){return!isNaN(t)&&t>0&&t<=100}s(RNe,"_chkSampling");var kNe=(_d={},_d[Cd.dataType]=wM,_d[gg.dataType]=Roe,_d[pg.dataType]=Soe,_d[Cg.dataType]=Boe,_d[Ag.dataType]=Toe,_d[yd.dataType]=woe,_d[mg.dataType]=_oe,_d),BM=function(t){Tu(e,t);function e(){var r=t.call(this)||this;r.priority=1001,r.identifier=aB;var n,o,a,c,l,u,f,h,A=0,p,m,g,y,E,I,x,v,b,_,S,w,L,M,Y,D,O,W,R,Q,q,U,V,z,$,j,Z;return Bn(e,r,function(le,Se){tr(),le.pause=function(){Ke(),c=!0},le.resume=function(){c&&(c=!1,o=null,Gt(),Oe())},le.flush=function(se,pe,Ne){if(se===void 0&&(se=!0),!c){Ke();try{return le[Yy](se,null,Ne||1)}catch(je){$e(le[rs](),1,22,"flush failed, telemetry will not be collected: "+Vi(je),{exception:mt(je)})}}},le.onunloadFlush=function(){if(!c)if(x||Q)try{return le[Yy](!0,Qn,2)}catch(se){$e(le[rs](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Vi(se),{exception:mt(se)})}else le.flush(!1)},le.addHeader=function(se,pe){h[se]=pe},le[lB]=function(se,pe,Ne,je){le.isInitialized()&&$e(le[rs](),1,28,"Sender is already initialized"),Se[lB](se,pe,Ne,je);var lt=le.identifier;u=new Doe(pe.logger),n=0,o=null,a=0,le[jy]=null,f=0;var At=le[rs]();g=ab(wc("Sender"),pe.evtNamespace&&pe.evtNamespace()),m=EM(g),le._addHook(I0(se,function(dr){var Pn=dr.cfg;Pn.storagePrefix&&uM(Pn.storagePrefix);var Ro=vl(null,Pn,pe),qt=Ro.getExtCfg(lt,Moe),ry=qt[$y];if(y&&ry===y){var ue=Pn[$y];ue&&ue!==ry&&(qt[$y]=ue)}mc(qt[zy])&&(qt[zy]=Pn[zy]),An(le,"_senderConfig",{g:s(function(){return qt},"g")}),E!==qt[$y]&&(y=E=qt[$y]),pe.activeStatus()===Cl.PENDING?le.pause():pe.activeStatus()===Cl.ACTIVE&&le.resume(),_&&_!==qt[uB]&&nt(_,function(Cn){delete h[Cn.header]}),I=qt[IM],x=(qt[fB]===!1||qt[dB]===!1)&&lA(),v=qt[fB]===!1&&lA(),b=qt[dB]===!1&&lA(),Q=qt[xM],q=!!qt.disableXhr,Z=qt.retryCodes;var k=qt[vb],ee=!!qt[vM]&&(!!k||nB()),ne=qt.namePrefix,G=ee!==D||ee&&W!==ne||ee&&O!==k;if(le[bl]){if(G)try{le[bl]=le[bl].createNew(At,qt,ee)}catch(Cn){$e(le[rs](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Vi(Cn),{exception:mt(Cn)})}Gt()}else le[bl]=ee?new SM(At,qt):new gB(At,qt);W=ne,D=ee,O=k,U=!qt[bM]&&$v(!0),$=!!qt[_M],le._sample=new Poe(qt.samplingPercentage,At),w=qt[zy],!mc(w)&&!dn(w,Pn)&&$e(At,1,100,"Invalid Instrumentation key "+w),_=qt[uB],Or(y)&&!tB(y)&&_&&_[Jt]>0?nt(_,function(Cn){r.addHeader(Cn.header,Cn.value)}):_=null,R=qt.enableSendPromise;var B=qe();j?j.SetConfig(B):(j=new eM,j[lB](B,At));var fe=qt.httpXHROverride,Te=null,Nt=null,li=R3([3,1,2],qt.transports);Te=j&&j[bb](li,!1);var hn=j&&j.getFallbackInst();V=s(function(Cn,Zo){return Fe(hn,Cn,Zo)},"_xhrSend"),z=s(function(Cn,Zo){return Fe(hn,Cn,Zo,!1)},"_fallbackSend"),Te=Q?fe:Te||fe||hn,le[jy]=function(Cn,Zo){return Fe(Te,Cn,Zo)},U&&(p=Co);var Js=R3([3,1],qt.unloadTransports);U||(Js=Js.filter(function(Cn){return Cn!==2})),Nt=j&&j[bb](Js,!0),Nt=Q?fe:Nt||fe,(Q||qt.unloadTransports||!p)&&Nt&&(p=s(function(Cn,Zo){return Fe(Nt,Cn,Zo)},"_syncUnloadSender")),p||(p=V),S=qt.disableTelemetry,L=qt.convertUndefined||Fu,M=qt.isRetryDisabled,Y=qt.maxBatchInterval}))},le.processTelemetry=function(se,pe){pe=le._getTelCtx(pe);var Ne=pe[rs]();try{var je=xe(se,Ne);if(!je)return;var lt=te(se,Ne);if(!lt)return;var At=u.serialize(lt),dr=le[bl];Gt(At);var Pn={item:At,cnt:0};dr[xd](Pn),Oe()}catch(Ro){$e(Ne,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Vi(Ro),{exception:mt(Ro)})}le.processNext(se,pe)},le.isCompletelyIdle=function(){return!c&&A===0&&le._buffer[vd]()===0},le.getOfflineListener=function(){return m},le._xhrReadyStateChange=function(se,pe,Ne){if(!eo(pe))return Tt(se,pe,Ne)},le[Yy]=function(se,pe,Ne){se===void 0&&(se=!0);var je;if(!c)try{var lt=le[bl];if(S)lt[xA]();else{if(lt[vd]()>0){var At=lt.getItems();sn(Ne||0,se),pe?je=pe.call(le,At,se):je=le[jy](At,se)}a=+new Date}Ke()}catch(Pn){var dr=SL();(!dr||dr>9)&&$e(le[rs](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Vi(Pn),{exception:mt(Pn)})}return je},le.getOfflineSupport=function(){return{getUrl:s(function(){return y},"getUrl"),createPayload:oe,serialize:Le,batch:we,shouldProcess:s(function(se){return!!xe(se)},"shouldProcess")}},le._doTeardown=function(se,pe){le.onunloadFlush(),pd(m,!1),tr()},le[bA]=function(se,pe,Ne){if(!eo(se))return ur(se,pe,Ne)},le[hB]=function(se,pe){if(!eo(se))return nr(se,pe)},le[_b]=function(se,pe){if(!eo(se))return Er(se,pe)},le._xdrOnLoad=function(se,pe){if(!eo(pe))return et(se,pe)};function et(se,pe){var Ne=Loe(se);if(se&&(Ne+""=="200"||Ne===""))n=0,le[_b](pe,0);else{var je=sb(Ne);je&&je[AB]&&je[AB]>je[pB]&&!M?le[hB](pe,je):le[bA](pe,Wv(se))}}s(et,"_xdrOnLoad");function qe(){try{var se={xdrOnComplete:s(function(Ne,je,lt){var At=J(lt);if(At)return et(Ne,At)},"xdrOnComplete"),fetchOnComplete:s(function(Ne,je,lt,At){var dr=J(At);if(dr)return ir(Ne.status,dr,Ne.url,dr[Jt],Ne.statusText,lt||"")},"fetchOnComplete"),xhrOnComplete:s(function(Ne,je,lt){var At=J(lt);if(At)return Tt(Ne,At,At[Jt])},"xhrOnComplete"),beaconOnRetry:s(function(Ne,je,lt){return Zi(Ne,je,lt)},"beaconOnRetry")},pe={enableSendPromise:R,isOneDs:!1,disableCredentials:!1,disableXhr:q,disableBeacon:!b,disableBeaconSync:!v,senderOnCompleteCallBack:se};return pe}catch{}return null}s(qe,"_getSendPostMgrConfig");function Tt(se,pe,Ne){se.readyState===4&&ir(se.status,pe,se.responseURL,Ne,eg(se),Loe(se)||se.response)}s(Tt,"_xhrReadyStateChange");function ur(se,pe,Ne){$e(le[rs](),2,26,"Failed to send telemetry.",{message:pe}),le._buffer&&le._buffer[Ig](se)}s(ur,"_onError");function nr(se,pe){for(var Ne=[],je=[],lt=pe.errors.reverse(),At=0,dr=lt;At<dr.length;At++){var Pn=dr[At],Ro=se.splice(Pn.index,1)[0];fr(Pn.statusCode)?je[_0](Ro):Ne[_0](Ro)}se[Jt]>0&&le[_b](se,pe[pB]),Ne[Jt]>0&&le[bA](Ne,eg(null,["partial success",pe[pB],"of",pe.itemsReceived].join(" "))),je[Jt]>0&&(X(je),$e(le[rs](),2,40,"Partial success. Delivered: "+se[Jt]+", Failed: "+Ne[Jt]+". Will retry to send "+je[Jt]+" our of "+pe[AB]+" items"))}s(nr,"_onPartialSuccess");function Er(se,pe){le._buffer&&le._buffer[Ig](se)}s(Er,"_onSuccess");function J(se){try{if(se){var pe=se,Ne=pe.oriPayload;return Ne&&Ne[Jt]?Ne:null}}catch{}return null}s(J,"_getPayloadArr");function xe(se,pe){if(S)return!1;if(!se)return pe&&$e(pe,1,7,"Cannot send empty telemetry"),!1;if(se.baseData&&!se[mB])return pe&&$e(pe,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(se[mB]||(se[mB]="EventData"),!le[jy])return pe&&$e(pe,1,28,"Sender was not initialized"),!1;if(Re(se))se[cb]=le._sample[Ky];else return pe&&$e(pe,2,33,"Telemetry item was sampled out and not sent",{SampleRate:le._sample[Ky]}),!1;return!0}s(xe,"_validate");function te(se,pe){var Ne=se.iKey||w,je=e.constructEnvelope(se,Ne,pe,L);if(!je){$e(pe,1,47,"Unable to create an AppInsights envelope");return}var lt=!1;if(se[so]&&se[so][lb]&&(nt(se[so][lb],function(At){try{At&&At(je)===!1&&(lt=!0,md(pe,"Telemetry processor check returns false"))}catch(dr){$e(pe,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Vi(dr),{exception:mt(dr)},!0)}}),delete se[so][lb]),!lt)return je}s(te,"_getEnvelope");function Le(se){var pe=Foe,Ne=le[rs]();try{var je=xe(se,Ne),lt=null;je&&(lt=te(se,Ne)),lt&&(pe=u.serialize(lt))}catch{}return pe}s(Le,"_serialize");function we(se){var pe=Foe;return se&&se[Jt]&&(pe="["+se.join(",")+"]"),pe}s(we,"_batch");function oe(se){var pe=yt();return{urlString:y,data:se,headers:pe}}s(oe,"_createPayload");function Re(se){return le._sample.isSampledIn(se)}s(Re,"_isSampledIn");function rt(se,pe,Ne,je){pe===200&&se?le._onSuccess(se,se[Jt]):je&&le[bA](se,je)}s(rt,"_getOnComplete");function Fe(se,pe,Ne,je){je===void 0&&(je=!0);var lt=s(function(Pn,Ro,qt){return rt(pe,Pn,Ro,qt)},"onComplete"),At=Ye(pe),dr=se&&se.sendPOST;return dr&&At?(je&&le._buffer[Gy](pe),dr(At,lt,!Ne)):null}s(Fe,"_doSend");function Ye(se){if(_t(se)&&se[Jt]>0){var pe=le[bl].batchPayloads(se),Ne=yt(),je={data:pe,urlString:y,headers:Ne,disableXhrSync:q,disableFetchKeepAlive:!U,oriPayload:se};return je}return null}s(Ye,"_getPayload");function yt(){try{var se=h||{};return tB(y)&&(se[Z3[6]]=Z3[7]),se}catch{}return null}s(yt,"_getHeaders");function Gt(se){var pe=se?se[Jt]:0;return le[bl].size()+pe>I?((!m||m.isOnline())&&le[Yy](!0,null,10),!0):!1}s(Gt,"_checkMaxSize");function ir(se,pe,Ne,je,lt,At){var dr=null;if(le._appId||(dr=sb(At),dr&&dr.appId&&(le._appId=dr.appId)),(se<200||se>=300)&&se!==0){if((se===301||se===307||se===308)&&!an(Ne)){le[bA](pe,lt);return}if(m&&!m.isOnline()){if(!M){var Pn=10;X(pe,Pn),$e(le[rs](),2,40,". Offline - Response Code: ".concat(se,". Offline status: ").concat(!m.isOnline(),". Will retry to send ").concat(pe.length," items."))}return}!M&&fr(se)?(X(pe),$e(le[rs](),2,40,". Response code "+se+". Will retry to send "+pe[Jt]+" items.")):le[bA](pe,lt)}else an(Ne),se===206?(dr||(dr=sb(At)),dr&&!M?le[hB](pe,dr):le[bA](pe,lt)):(n=0,le[_b](pe,je))}s(ir,"_checkResponsStatus");function an(se){return f>=10?!1:!ot(se)&&se!==""&&se!==y?(y=se,++f,!0):!1}s(an,"_checkAndUpdateEndPointUrl");function Qn(se,pe){if(p)p(se,!1);else{var Ne=j&&j[bb]([3],!0);return Fe(Ne,se,pe)}}s(Qn,"_doUnloadSend");function Zi(se,pe,Ne){var je=se,lt=je&&je.oriPayload;if($)z&&z(lt,!0),$e(le[rs](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var At=[],dr=0;dr<lt[Jt];dr++){var Pn=lt[dr],Ro=[Pn],qt=Ye(Ro);Ne(qt,pe)?le._onSuccess(Ro,Ro[Jt]):At[_0](Pn)}At[Jt]>0&&(z&&z(At,!0),$e(le[rs](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}s(Zi,"_onBeaconRetry");function eo(se){try{if(se&&se[Jt])return Or(se[0])}catch{}return null}s(eo,"_isStringArr");function Co(se,pe){var Ne=null;if(_t(se)){for(var je=se[Jt],lt=0;lt<se[Jt];lt++)je+=se[lt].item[Jt];var At=j.getSyncFetchPayload();At+je<=SNe?Ne=2:lA()?Ne=3:(Ne=1,$e(le[rs](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var dr=j&&j[bb]([Ne],!0);return Fe(dr,se,pe)}return null}s(Co,"_fetchKeepAliveSender");function X(se,pe){if(pe===void 0&&(pe=1),!(!se||se[Jt]===0)){var Ne=le[bl];Ne[Ig](se),n++;for(var je=0,lt=se;je<lt.length;je++){var At=lt[je];At.cnt=At.cnt||0,At.cnt++,Ne[xd](At)}ve(pe),Oe()}}s(X,"_resendPayload");function ve(se){var pe=10,Ne;if(n<=1)Ne=pe;else{var je=(Math.pow(2,n)-1)/2,lt=ad(Math.random()*je*pe)+1;lt=se*lt,Ne=Om(hne(lt,3600),pe)}var At=Ec()+Ne*1e3;o=At}s(ve,"_setRetryTime");function Oe(){if(!l&&!c){var se=o?Om(0,o-Ec()):0,pe=Om(Y,se);l=Ic(function(){l=null,le[Yy](!0,null,1)},pe)}}s(Oe,"_setupTimer");function Ke(){l&&l.cancel(),l=null,o=null}s(Ke,"_clearScheduledTimer");function fr(se){return ot(Z)?se===401||se===408||se===429||se===500||se===502||se===503||se===504:Z[Jt]&&Z.indexOf(se)>-1}s(fr,"_isRetriable");function Ir(){var se="getNotifyMgr";return le.core[se]?le.core[se]():le.core._notificationManager}s(Ir,"_getNotifyMgr");function sn(se,pe){var Ne=Ir();if(Ne&&Ne.eventsSendRequest)try{Ne.eventsSendRequest(se,pe)}catch(je){$e(le[rs](),1,74,"send request notification failed: "+Vi(je),{exception:mt(je)})}}s(sn,"_notifySendRequest");function dn(se,pe){var Ne=pe.disableInstrumentationKeyValidation,je=ot(Ne)?!1:Ne;if(je)return!0;var lt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",At=new RegExp(lt);return At.test(se)}s(dn,"_validateInstrumentationKey");function tr(){le[jy]=null,le[bl]=null,le._appId=null,le._sample=null,h={},m=null,n=0,o=null,a=null,c=!1,l=null,u=null,f=0,A=0,p=null,g=null,y=null,E=null,I=0,x=!1,_=null,S=!1,w=null,L=Fu,M=!1,D=null,W=Fu,q=!1,U=!1,$=!1,V=null,z=null,j=null,An(le,"_senderConfig",{g:s(function(){return B3({},Moe)},"g")})}s(tr,"_initDefaults")}),r}return s(e,"Sender"),e.constructEnvelope=function(r,n,o,a){var c;n!==r.iKey&&!ot(n)?c=E0(E0({},r),{iKey:n}):c=r;var l=kNe[c.baseType]||wM;return l(o,c,a)},e}(ob);d();var _g="instrumentationKey",Tb="connectionString",Jy="endpointUrl",Xy="userOverrideEndpointUrl";var Zy,RM=void 0,DNe=(Zy={diagnosticLogInterval:Dy(NNe,1e4)},Zy[Tb]=RM,Zy.endpointUrl=RM,Zy[_g]=RM,Zy.extensionConfig={},Zy);function NNe(t){return t&&t>0}s(NNe,"_chkDiagLevel");var Ooe=function(){function t(e){var r=new XL,n;(ot(e)||ot(e[_g])&&ot(e[Tb]))&&Sa("Invalid input configuration"),Bn(t,this,function(a){An(a,"config",{g:s(function(){return n},"g")}),c(),a.initialize=c,a.track=o,Zm(a,r,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function c(){var l=io(e||{},DNe);n=l.cfg,r.addUnloadHook(I0(l,function(){var u=n[Tb];if(mc(u)){var f=Hv(function(m,g){_c(u,function(y){var E=y.value,I=n[_g];if(!y.rejected&&E){n[Tb]=E;var x=gb(E);I=x.instrumentationkey||I}m(I)})}),h=Hv(function(m,g){_c(u,function(y){var E=y.value,I=n[Jy];if(!y.rejected&&E){var x=gb(E),v=x.ingestionendpoint;I=v?v+Nu:I}m(I)})});n[_g]=f,n[Jy]=n[Xy]||h}if(Or(u)){var A=gb(u),p=A.ingestionendpoint;n[Jy]=n[Xy]?n[Xy]:p+Nu,n[_g]=A.instrumentationkey||n[_g]}n[Jy]=n[Xy]?n[Xy]:n[Jy]})),r.initialize(n,[new BM])}s(c,"_initialize")});function o(a){a&&(a.baseData=a.baseData||{},a.baseType=a.baseType||"EventData"),r.track(a)}s(o,"_track")}return s(t,"ApplicationInsights"),t.__ieDyn=1,t}();var Sc=We(require("os"));var eE=class{constructor(e,r,n,o,a=!1){this.ctx=e;this.namespace=r;this.includeAuthorizationHeader=a;this.onCopilotToken=s(e=>{this.token=e;let r=e.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:s((e,r)=>{if(typeof e.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof e.data}`);let n=e.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let o={method:"POST",headers:n,body:e.data};this.ctx.get(to).fetch(e.urlString,o).then(a=>a.text().then(c=>{r(a.status,Object.fromEntries(a.headers),c)})).catch(a=>{Ri.debug(this.ctx,"Error sending telemetry",a),r(0,{})})},"sendPOST")};this.client=new Ooe({instrumentationKey:o,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:n,extensionConfig:{[aB]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=QNe(e),this.commonProperties=PNe(e),this.#e=ba(e,this.onCopilotToken)}static{s(this,"AppInsightsReporter")}#e;sendTelemetryEvent(e,r,n){r={...r,...this.commonProperties};let o=this.qualifyEventName(e);this.client.track({name:o,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:o,properties:r,measurements:n}})}sendTelemetryErrorEvent(e,r,n){this.sendTelemetryEvent(this.qualifyEventName(e),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(e){return e.startsWith(this.namespace)?e:`${this.namespace}/${e}`}};function QNe(t){let e={},r=t.get(ko);e["ai.session.id"]=r.sessionId;let n=t.get(_a);return n.trackingId&&(e["ai.user.id"]=n.trackingId),e["ai.cloud.roleInstance"]="REDACTED",e["ai.device.osVersion"]=`${Sc.type()} ${Sc.release()}`,e["ai.device.osArchitecture"]=Sc.arch(),e["ai.device.osPlatform"]=Sc.platform(),e["ai.cloud.role"]="Web",e["ai.application.ver"]=t.get(Mo).getVersion(),e}s(QNe,"getTags");function PNe(t){let e={};e.common_os=Sc.platform(),e.common_platformversion=Sc.release(),e.common_arch=Sc.arch(),e.common_cpu=Array.from(new Set(Sc.cpus().map(n=>n.model))).join();let r=t.get(ko);return e.common_vscodemachineid=r.machineId,e.common_vscodesessionid=r.sessionId,e.client_deviceid=r.devDeviceId,e.common_uikind=r.uiKind,e.common_remotename=r.remoteName,e.common_isnewappinstall="",e}s(PNe,"getCommonProperties");var qoe="7d7048df-6dd0-4048-bb23-b716c1461f8f",Hoe="3fdd7f28-937a-48c8-9a21-ba337db23bd1",FNe="f0000000-0000-0000-0000-000000000000";function Uoe(t){return new URL(t).hostname==="github.com"?sy.telemetry:t.replace("://","://copilot-telemetry-service.")}s(Uoe,"getEndpointForServerUrl");var _l=class{constructor(e,r){this.ctx=e;this.namespace=r;this.serverUrl="https://github.com/";this.rootUrl=Uoe(this.serverUrl);this.shuttingDown=new Set;ba(e,n=>this.updateServiceEndpoints(n.endpoints))}static{s(this,"TelemetryInitialization")}get endpointUrl(){return this.overrideEndpointUrlForTesting||new URL("telemetry",this.rootUrl).href}get isInitialized(){return this.initializedWith!==void 0}get isEnabled(){return this._enabled??!1}initialize(e){let r=this.ctx;this._enabled=e;let n=this.endpointUrl;if(!(this.initializedWith?.enabled===this._enabled&&this.initializedWith?.endpointUrl===this.endpointUrl)&&(this.shutdownWithoutWaiting(),this.initializedWith={endpointUrl:n,enabled:this._enabled},e)){let o=r.get(Bc);o.setReporter(new eE(r,this.namespace,n,qoe)),o.setRestrictedReporter(new eE(r,this.namespace,n,Hoe)),o.setFTReporter(new eE(r,this.namespace,n,FNe,!0))}}setCustomReporters(e,r){this.shutdownWithoutWaiting();let n=this.ctx.get(Bc);n.setReporter(e),n.setRestrictedReporter(r)}async shutdown(){this.shutdownWithoutWaiting(),await Promise.all(this.shuttingDown)}shutdownWithoutWaiting(){this.initializedWith=void 0;let e=this.ctx.get(Bc).deactivate().finally(()=>{this.shuttingDown.delete(e)});this.shuttingDown.add(e)}updateSessionConfig(e){e?.serverUrl&&e.serverUrl!==this.serverUrl&&(this.serverUrl=e.serverUrl,this.rootUrl=Uoe(e.serverUrl)),this.isInitialized&&this.initialize(this._enabled)}updateServiceEndpoints(e){this.rootUrl=e.telemetry,this.isInitialized&&this.initialize(this._enabled)}};async function MNe(t,e){let r="copilot_internal/subscribe_limited_user";try{return(await(await Ev(t,e,r,{method:"POST",headers:{"X-GitHub-Api-Version":"2025-05-01"},body:JSON.stringify({restricted_telemetry:t.get(_l).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json()).subscribed}catch(n){return ay.exception(t,n,"signUpLimited failed"),!1}}s(MNe,"apiFetchSignUpLimited");async function kM(t,e,r){let n=await t.get(yn).getTokenResult();switch(n.failureKind){case void 0:return"OK";case"HTTP401":case"NotSignedIn":return"NotSignedIn";case"NotAuthorized":return r&&n.canSignUpForLimited&&await MNe(t,e)?kM(t,e,!1):"NotAuthorized";case"Exception":throw n.exception}}s(kM,"getTokenWithSignUpLimited");var CB=class{constructor(e,r){this.ctx=e;this.env=r}static{s(this,"AuthManager")}hasTransientSession(){return this.transientSession!==void 0}get _copilotTokenManager(){return this.ctx.get(yn)}getConfiguredUrls(){return this.ctx.get(Kh).getConfiguredUrls()}async checkAndUpdateStatus(e){let r=e?.localChecksOnly??!1,n;return e?.githubAppId!==void 0?n=await this.getPersistedSession(e):n=await this.getSession(),n===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):r?{status:"MaybeOK",user:n.login}:(e?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await kM(this.ctx,n,e?.freshSignIn??!1),user:n.login})}async getSession(){await this.ctx.get(ta).requireReady();let e=ONe(this.env)??await this.transientSession;if(!(e&&e.accessToken===void 0))return e?{...e,...Pm(e)}:await this.getPersistedSession()}setTransientSession(e){this.transientSession=e&&Promise.resolve(e),this._copilotTokenManager.resetToken()}getAuthAuthority(){return new URL(this.getConfiguredUrls().serverUrl).hostname}};function ONe(t){if(t.GH_COPILOT_TOKEN&&!/=/.test(t.GH_COPILOT_TOKEN))return{...Pm({apiUrl:t.GH_COPILOT_API_URL,serverUrl:t.GH_COPILOT_SERVER_URL}),login:"<GH_COPILOT_TOKEN-user>",accessToken:t.GH_COPILOT_TOKEN};if(t.GITHUB_COPILOT_TOKEN)return{...Pm({apiUrl:t.GITHUB_COPILOT_API_URL,serverUrl:t.GITHUB_COPILOT_SERVER_URL}),login:"<GITHUB_COPILOT_TOKEN-user>",accessToken:t.GITHUB_COPILOT_TOKEN};if(t.CODESPACES==="true"&&t.GITHUB_TOKEN)return{...Pm({apiUrl:t.GITHUB_API_URL,serverUrl:t.GITHUB_SERVER_URL}),login:t.GITHUB_USER||"<codespaces-user>",accessToken:t.GITHUB_TOKEN}}s(ONe,"getSessionFromEnv");d();var qNe=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],Goe="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",Voe="https://gh.io/copilot-network-errors",TA=class{constructor(){this.notifiedErrorCodes=[]}static{s(this,"UserErrorNotifier")}notifyUser(e,r){if(!(r instanceof Error))return;let n=r;n.code&&qNe.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(e,n))}async displayCertificateErrorNotification(e,r){new or("certificates").error(e,`${Goe} Please visit ${Voe} to learn more. Original cause:`,r);let n={title:"Learn more"};return e.get(oy).showWarningMessage(Goe,n).then(o=>{if(o?.title===n.title)return e.get(Tv).open(Voe)})}didNotifyBefore(e){return this.notifiedErrorCodes.indexOf(e)!==-1}};d();var vo=class{static{s(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(e){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),e().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(e,r,n){this.#t===e&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=e,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(e,r){this.forceStatus("Error",e,r)}setWarning(e){this.#t!=="Error"&&this.forceStatus("Warning",e)}setInactive(e){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",e)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let e={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(e)}};d();var E0e=We(is());var FA=class extends E0e.Emitter{static{s(this,"Emitter")}get event(){return super.event}};var sU=class extends cy{constructor(r){super("message"in r?r.message:`${r.failureKind}`);this.result=r}static{s(this,"TokenResultError")}},yn=class{constructor(e,r=!1){this.ctx=e;this.primed=r;this.lastToken=void 0;this.activeToken=void 0;this.tokenPromise=void 0;this.tokenPrimingError=void 0;this.didChangeTokenResult=new FA;this.onDidChangeTokenResult=this.didChangeTokenResult.event;this.didResetToken=new FA;this.onDidResetToken=this.didResetToken.event}static{s(this,"CopilotTokenManager")}async getGitHubSession(){return await this.ctx.get(CB).getSession()}primeToken(){if(this.tokenPrimingError)return Promise.reject(this.tokenPrimingError);this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}async fetchTokenResult(e){return await this.ctx.get(FS).fetchTokenResult(this.ctx,e,this.lastToken)}setToken(e){this.activeToken=this.lastToken=e}async getTokenResult(){if(!this.primed){let e=new Error("Token requested before initialization");if(I0e(this.ctx))throw this.tokenPrimingError=e,e;ay.exception(this.ctx,e,".getToken")}if(!this.tokenPromise&&(!this.activeToken||this.activeToken?.needsRefresh())){let r=this.getGitHubSession().then(async n=>n?await this.fetchTokenResult(n):{failureKind:"NotSignedIn"}).catch(n=>{if(!(n instanceof Error))throw n;return{failureKind:"Exception",message:String(n),exception:n}}).then(n=>(this.tokenPromise!==r||(this.tokenPromise=void 0,this.handleTokenResult(n)),n));this.tokenPromise=r}return this.activeToken&&!this.activeToken.isExpired()?{copilotToken:this.activeToken}:await this.tokenPromise}handleTokenResult(e){let r=this.ctx.get(vo);switch(e.failureKind){case"NotSignedIn":r.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":r.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":r.setError(e.message);break;case"Exception":r.setWarning(e.message),this.ctx.get(TA).notifyUser(this.ctx,e.exception);break;case void 0:r.forceNormal(),this.setToken(e.copilotToken)}this.didChangeTokenResult.fire(e)}async getToken(){let e=await this.getTokenResult();if(e.copilotToken)return e.copilotToken;throw e.exception?e.exception:new sU(e)}resetToken(e){e!==void 0?(vt(this.ctx,"auth.reset_token_"+e),ay.debug(this.ctx,`Resetting copilot token on HTTP error ${e}`)):ay.debug(this.ctx,"Resetting copilot token"),!(!this.activeToken&&!this.tokenPromise)&&(this.activeToken=void 0,this.tokenPromise=void 0,this.didResetToken.fire())}getLastToken(){return this.lastToken}};function mF(t){return t.get(yn).getLastToken()}s(mF,"getLastCopilotToken");d();var kg=class{static{s(this,"Clock")}now(){return new Date}};d();d();d();var LA=class{static{s(this,"InlineCompletionsUnification")}},WQe={codeUnification:!1,modelUnification:!1,expAssignments:[]},o8=class extends LA{constructor(){super(...arguments);this.inlineCompletionsUnificationState=WQe;this.onDidChangeState=s(()=>({dispose:s(()=>{},"dispose")}),"onDidChangeState")}static{s(this,"NullInlineCompletionsUnification")}};var Sl=class t{static{s(this,"ExpConfig")}constructor(e,r,n){this.variables=e,this.assignmentContext=r,this.features=n}static createFallbackConfig(e,r){return v0e(e,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new t({},"","")}addToTelemetry(e,r){let o=e.get(LA).inlineCompletionsUnificationState.expAssignments.filter(c=>!this.assignmentContext.includes(c)),a=[this.assignmentContext,...o].filter(Boolean).join(";");r.properties["VSCode.ABExp.Features"]=this.features,r.properties["abexp.assignmentcontext"]=a}};d();var Dg=class{static{s(this,"ExpConfigMaker")}},s8=class extends Dg{constructor(r={}){super();this.defaultFilters=r}static{s(this,"ExpConfigFromTAS")}async fetchExperiments(r,n,o){let a=r.get(to),c=Object.keys(o).length===0?this.defaultFilters:o,l=new URL("telemetry",n.telemetry).href,u;try{u=await a.fetch(l,{method:"GET",headers:c,timeout:5e3})}catch(p){return Sl.createFallbackConfig(r,`Error fetching ExP config: ${String(p)}`)}if(!u.ok)return Sl.createFallbackConfig(r,`ExP responded with ${u.status}`);let f;try{f=await u.json()}catch(p){if(p instanceof SyntaxError)return Uu(r,p,"fetchExperiments"),Sl.createFallbackConfig(r,"ExP responded with invalid JSON");throw p}let h=f.Configs.find(p=>p.Id==="vscode")??{Id:"vscode",Parameters:{}},A=Object.entries(h.Parameters).map(([p,m])=>p+(m?"":"cf"));return new Sl(h.Parameters,f.AssignmentContext,A.join(";"))}};d();var Dc="X-Copilot-RelatedPluginVersion-",aU=(j=>(j.Market="X-MSEdge-Market",j.CorpNet="X-FD-Corpnet",j.Build="X-VSCode-Build",j.ApplicationVersion="X-VSCode-AppVersion",j.TargetPopulation="X-VSCode-TargetPopulation",j.ClientId="X-MSEdge-ClientId",j.DevDeviceId="X-VSCode-DevDeviceId",j.ExtensionName="X-VSCode-ExtensionName",j.ExtensionVersion="X-VSCode-ExtensionVersion",j.ExtensionRelease="X-VSCode-ExtensionRelease",j.CompletionsInChatExtensionVersion="X-VSCode-CompletionsInChatExtensionVersion",j.Language="X-VSCode-Language",j.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",j.CopilotEngine="X-Copilot-Engine",j.CopilotOverrideEngine="X-Copilot-OverrideEngine",j.CopilotRepository="X-Copilot-Repository",j.CopilotFileType="X-Copilot-FileType",j.CopilotUserKind="X-Copilot-UserKind",j.CopilotDogfood="X-Copilot-Dogfood",j.CopilotCustomModel="X-Copilot-CustomModel",j.CopilotOrgs="X-Copilot-Orgs",j.CopilotCustomModelNames="X-Copilot-CustomModelNames",j.CopilotTrackingId="X-Copilot-CopilotTrackingId",j.CopilotClientVersion="X-Copilot-ClientVersion",j.CopilotRelatedPluginVersionCppTools=Dc+"msvscodecpptools",j.CopilotRelatedPluginVersionCMakeTools=Dc+"msvscodecmaketools",j.CopilotRelatedPluginVersionMakefileTools=Dc+"msvscodemakefiletools",j.CopilotRelatedPluginVersionCSharpDevKit=Dc+"msdotnettoolscsdevkit",j.CopilotRelatedPluginVersionPython=Dc+"mspythonpython",j.CopilotRelatedPluginVersionPylance=Dc+"mspythonvscodepylance",j.CopilotRelatedPluginVersionJavaPack=Dc+"vscjavavscodejavapack",j.CopilotRelatedPluginVersionJavaManager=Dc+"vscjavavscodejavadependency",j.CopilotRelatedPluginVersionTypescript=Dc+"vscodetypescriptlanguagefeatures",j.CopilotRelatedPluginVersionTypescriptNext=Dc+"msvscodevscodetypescriptnext",j.CopilotRelatedPluginVersionCSharp=Dc+"msdotnettoolscsharp",j.CopilotRelatedPluginVersionGithubCopilotChat=Dc+"githubcopilotchat",j.CopilotRelatedPluginVersionGithubCopilot=Dc+"githubcopilot",j))(aU||{});var YQe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},Ng=class t{constructor(e){this.filters=e;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{s(this,"FilterSettings")}extends(e){for(let[r,n]of Object.entries(e.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(e){for(let[r,n]of Object.entries(this.filters)){let o=YQe[r];o!==void 0&&(e.properties[o]=n)}}stringify(){let e=Object.keys(this.filters);return e.sort(),e.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(e,r){return new t({...this.filters,[e]:r})}};d();d();var a8=class{constructor(e){this.prefix=e}static{s(this,"GranularityImplementation")}getCurrentAndUpComingValues(e){let r=this.getValue(e),n=this.getUpcomingValues(e);return[r,n]}},cU=class extends a8{static{s(this,"ConstantGranularity")}getValue(e){return this.prefix}getUpcomingValues(e){return[]}},b0e=s(t=>new cU(t),"DEFAULT_GRANULARITY"),c8=class extends a8{constructor(r,n=.5,o=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=o}static{s(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],o=this.getUpcomingTimePeriodBucketStrings(r),a=this.getUpcomingByCallBucketStrings();for(let c of o)for(let l of a)n.push(this.prefix+c+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var _0e="X-Copilot-ClientTimeBucket",l8=class{constructor(e,r){this.specs=new Map;this.prefix=e,this.clock=r,this.defaultGranularity=b0e(e)}static{s(this,"GranularityDirectory")}selectGranularity(e){for(let[r,n]of this.specs.entries())if(e.extends(r))return n;return this.defaultGranularity}update(e,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(e);else{let o=new c8(this.prefix);isNaN(r)||o.setByCallBuckets(r),isNaN(n)||o.setTimePeriod(n*3600*1e3),this.specs.set(e,o)}}extendFilters(e){let r=this.selectGranularity(e),[n,o]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:e.withChange(_0e,n),otherFilterSettingsToPrefetch:o.map(a=>e.withChange(_0e,a))}}};d();d();d();d();var lU=new Map;async function jQe(t){if(lU.has(t))return lU.get(t);let e=await crypto.subtle.importKey("raw",new TextEncoder().encode(t),{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return lU.set(t,e),e}s(jQe,"getCachedHmacKey");async function $Qe(t){if(t)try{let e=await jQe(t),r=Math.floor(Date.now()/1e3).toString(),n=new TextEncoder().encode(r),o=await crypto.subtle.sign("HMAC",e,n),c=Array.from(new Uint8Array(o)).map(l=>l.toString(16).padStart(2,"0")).join("");return`${r}.${c}`}catch{return}}s($Qe,"createRequestHMAC");async function T0e(t){let e=await $Qe(t);return e?{"Request-Hmac":e,"Copilot-Integration-Id":"jetbrains-chat-dev"}:{}}s(T0e,"createMsBenchHmacHeaders");d();d();d();d();var f8="4.11.0",Qg="04b07795-8ddb-461a-bbee-02f9e1bf7b46",w0e="common",u8;(function(t){t.AzureChina="https://login.chinacloudapi.cn",t.AzureGermany="https://login.microsoftonline.de",t.AzureGovernment="https://login.microsoftonline.us",t.AzurePublicCloud="https://login.microsoftonline.com"})(u8||(u8={}));var Fb=u8.AzurePublicCloud,S0e="login.microsoftonline.com",B0e=["*"],R0e="cae",k0e="nocae",D0e="msal.cache";var uU;var N0e,d8,fU;function Q0e(){return d8!==void 0&&fU!==void 0}s(Q0e,"hasVSCodePlugin");function zQe(t){let e={cache:{},broker:{...t.brokerOptions,isEnabled:t.brokerOptions?.enabled??!1,enableMsaPassthrough:t.brokerOptions?.legacyEnableMsaPassthrough??!1}};if(t.tokenCachePersistenceOptions?.enabled){if(uU===void 0)throw new Error(["Persistent token caching was requested, but no persistence provider was configured.","You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`."].join(" "));let r=t.tokenCachePersistenceOptions.name||D0e;e.cache.cachePlugin=uU({name:`${r}.${k0e}`,...t.tokenCachePersistenceOptions}),e.cache.cachePluginCae=uU({name:`${r}.${R0e}`,...t.tokenCachePersistenceOptions})}if(t.brokerOptions?.enabled)if(t.isVSCodeCredential){if(fU===void 0)throw new Error(["Visual Studio Code Credential was requested, but no plugin was configured or no authentication record was found.","You must install the identity-vscode plugin package (`npm install --save @azure/identity-vscode`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(vsCodePlugin)` before using `enableBroker`."].join(" "));e.broker.nativeBrokerPlugin=fU.broker}else{if(N0e===void 0)throw new Error(["Broker for WAM was requested to be enabled, but no native broker was configured.","You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(brokerPlugin)` before using `enableBroker`."].join(" "));e.broker.nativeBrokerPlugin=N0e.broker}return e}s(zQe,"generatePluginConfiguration");var P0e={generatePluginConfiguration:zQe};d();d();d();function KQe(t){return t&&typeof t.error=="string"&&typeof t.error_description=="string"}s(KQe,"isErrorResponse");var L0e="CredentialUnavailableError",ft=class extends Error{static{s(this,"CredentialUnavailableError")}constructor(e,r){super(e,r),this.name=L0e}},h8="AuthenticationError",MA=class extends Error{static{s(this,"AuthenticationError")}statusCode;errorResponse;constructor(e,r,n){let o={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(KQe(r))o=F0e(r);else if(typeof r=="string")try{let a=JSON.parse(r);o=F0e(a)}catch{e===400?o={error:"invalid_request",errorDescription:`The service indicated that the request was invalid.

${r}`}:o={error:"unknown_error",errorDescription:`An unknown error has occurred. Response body:

${r}`}}else o={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};super(`${o.error} Status code: ${e}
More details:
${o.errorDescription},`,n),this.statusCode=e,this.errorResponse=o,this.name=h8}},M0e="AggregateAuthenticationError",Lb=class extends Error{static{s(this,"AggregateAuthenticationError")}errors;constructor(e,r){let n=e.join(`
`);super(`${r}
${n}`),this.errors=e,this.name=M0e}};function F0e(t){return{error:t.error,errorDescription:t.error_description,correlationId:t.correlation_id,errorCodes:t.error_codes,timestamp:t.timestamp,traceId:t.trace_id}}s(F0e,"convertOAuthErrorResponseToErrorResponse");var S0=class extends Error{static{s(this,"AuthenticationRequiredError")}scopes;getTokenOptions;constructor(e){super(e.message,e.cause?{cause:e.cause}:void 0),this.scopes=e.scopes,this.getTokenOptions=e.getTokenOptions,this.name="AuthenticationRequiredError"}};d();d();d();d();var O0e=require("node:os"),U0e=We(require("node:util"),1),q0e=We(require("node:process"),1);function H0e(t,...e){q0e.stderr.write(`${U0e.default.format(t,...e)}${O0e.EOL}`)}s(H0e,"log");var G0e=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,V0e,dU=[],hU=[],A8=[];G0e&&AU(G0e);var W0e=Object.assign(t=>Y0e(t),{enable:AU,enabled:pU,disable:JQe,log:H0e});function AU(t){V0e=t,dU=[],hU=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?hU.push(new RegExp(`^${n.substr(1)}$`)):dU.push(new RegExp(`^${n}$`));for(let n of A8)n.enabled=pU(n.namespace)}s(AU,"enable");function pU(t){if(t.endsWith("*"))return!0;for(let e of hU)if(e.test(t))return!1;for(let e of dU)if(e.test(t))return!0;return!1}s(pU,"enabled");function JQe(){let t=V0e||"";return AU(""),t}s(JQe,"disable");function Y0e(t){let e=Object.assign(r,{enabled:pU(t),destroy:XQe,log:W0e.log,namespace:t,extend:ZQe});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return s(r,"debug"),A8.push(e),e}s(Y0e,"createDebugger");function XQe(){let t=A8.indexOf(this);return t>=0?(A8.splice(t,1),!0):!1}s(XQe,"destroy");function ZQe(t){let e=Y0e(`${this.namespace}:${t}`);return e.log=this.log,e}s(ZQe,"extend");var EE=W0e;var $0e=new Set,p8=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,g8,mU=EE("azure");mU.log=(...t)=>{EE.log(...t)};var gU=["verbose","info","warning","error"];p8&&(J0e(p8)?ePe(p8):console.error(`AZURE_LOG_LEVEL set to unknown log level '${p8}'; logging is not enabled. Acceptable values: ${gU.join(", ")}.`));function ePe(t){if(t&&!J0e(t))throw new Error(`Unknown log level '${t}'. Acceptable values: ${gU.join(",")}`);g8=t;let e=[];for(let r of $0e)K0e(r)&&e.push(r.namespace);EE.enable(e.join(","))}s(ePe,"setLogLevel");function C8(){return g8}s(C8,"getLogLevel");var j0e={verbose:400,info:300,warning:200,error:100};function OA(t){let e=mU.extend(t);return z0e(mU,e),{error:m8(e,"error"),warning:m8(e,"warning"),info:m8(e,"info"),verbose:m8(e,"verbose")}}s(OA,"createClientLogger");function z0e(t,e){e.log=(...r)=>{t.log(...r)}}s(z0e,"patchLogMethod");function m8(t,e){let r=Object.assign(t.extend(e),{level:e});if(z0e(t,r),K0e(r)){let n=EE.disable();EE.enable(n+","+r.namespace)}return $0e.add(r),r}s(m8,"createLogger");function K0e(t){return!!(g8&&j0e[t.level]<=j0e[g8])}s(K0e,"shouldEnable");function J0e(t){return gU.includes(t)}s(J0e,"isAzureLogLevel");var Nc=OA("identity");function y8(t){return t.reduce((e,r)=>(process.env[r]?e.assigned.push(r):e.missing.push(r),e),{missing:[],assigned:[]})}s(y8,"processEnvVars");function bo(t){return`SUCCESS. Scopes: ${Array.isArray(t)?t.join(", "):t}.`}s(bo,"formatSuccess");function qr(t,e){let r="ERROR.";return t?.length&&(r+=` Scopes: ${Array.isArray(t)?t.join(", "):t}.`),`${r} Error message: ${typeof e=="string"?e:e.message}.`}s(qr,"formatError");function X0e(t,e,r=Nc){let n=e?`${e.fullTitle} ${t}`:t;function o(u){r.info(`${n} =>`,u)}s(o,"info");function a(u){r.warning(`${n} =>`,u)}s(a,"warning");function c(u){r.verbose(`${n} =>`,u)}s(c,"verbose");function l(u){r.error(`${n} =>`,u)}return s(l,"error"),{title:t,fullTitle:n,info:o,warning:a,verbose:c,error:l}}s(X0e,"credentialLoggerInstance");function Ht(t,e=Nc){let r=X0e(t,void 0,e);return{...r,parent:e,getToken:X0e("=> getToken()",r,e)}}s(Ht,"credentialLogger");d();d();d();d();var IE={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function Z0e(t={}){let e=new CU(t.parentContext);return t.span&&(e=e.setValue(IE.span,t.span)),t.namespace&&(e=e.setValue(IE.namespace,t.namespace)),e}s(Z0e,"createTracingContext");var CU=class t{static{s(this,"TracingContextImpl")}constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map}setValue(e,r){let n=new t(this);return n._contextMap.set(e,r),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}};d();var tle=We(ele(),1),I8=tle.state;function tPe(){return{end:s(()=>{},"end"),isRecording:s(()=>!1,"isRecording"),recordException:s(()=>{},"recordException"),setAttribute:s(()=>{},"setAttribute"),setStatus:s(()=>{},"setStatus"),addEvent:s(()=>{},"addEvent")}}s(tPe,"createDefaultTracingSpan");function rPe(){return{createRequestHeaders:s(()=>({}),"createRequestHeaders"),parseTraceparentHeader:s(()=>{},"parseTraceparentHeader"),startSpan:s((t,e)=>({span:tPe(),tracingContext:Z0e({parentContext:e.tracingContext})}),"startSpan"),withContext(t,e,...r){return e(...r)}}}s(rPe,"createDefaultInstrumenter");function Mb(){return I8.instrumenterImplementation||(I8.instrumenterImplementation=rPe()),I8.instrumenterImplementation}s(Mb,"getInstrumenter");d();function Ob(t){let{namespace:e,packageName:r,packageVersion:n}=t;function o(f,h,A){var p;let m=Mb().startSpan(f,Object.assign(Object.assign({},A),{packageName:r,packageVersion:n,tracingContext:(p=h?.tracingOptions)===null||p===void 0?void 0:p.tracingContext})),g=m.tracingContext,y=m.span;g.getValue(IE.namespace)||(g=g.setValue(IE.namespace,e)),y.setAttribute("az.namespace",g.getValue(IE.namespace));let E=Object.assign({},h,{tracingOptions:Object.assign(Object.assign({},h?.tracingOptions),{tracingContext:g})});return{span:y,updatedOptions:E}}s(o,"startSpan");async function a(f,h,A,p){let{span:m,updatedOptions:g}=o(f,h,p);try{let y=await c(g.tracingOptions.tracingContext,()=>Promise.resolve(A(g,m)));return m.setStatus({status:"success"}),y}catch(y){throw m.setStatus({status:"error",error:y}),y}finally{m.end()}}s(a,"withSpan");function c(f,h,...A){return Mb().withContext(f,h,...A)}s(c,"withContext");function l(f){return Mb().parseTraceparentHeader(f)}s(l,"parseTraceparentHeader");function u(f){return Mb().createRequestHeaders(f)}return s(u,"createRequestHeaders"),{startSpan:o,withSpan:a,withContext:c,parseTraceparentHeader:l,createRequestHeaders:u}}s(Ob,"createTracingClient");var pn=Ob({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:f8});var yU=Ht("ChainedTokenCredential"),Ub=class{static{s(this,"ChainedTokenCredential")}_sources=[];constructor(...e){this._sources=e}async getToken(e,r={}){let{token:n}=await this.getTokenInternal(e,r);return n}async getTokenInternal(e,r={}){let n=null,o,a=[];return pn.withSpan("ChainedTokenCredential.getToken",r,async c=>{for(let l=0;l<this._sources.length&&n===null;l++)try{n=await this._sources[l].getToken(e,c),o=this._sources[l]}catch(u){if(u.name==="CredentialUnavailableError"||u.name==="AuthenticationRequiredError")a.push(u);else throw yU.getToken.info(qr(e,u)),u}if(!n&&a.length>0){let l=new Lb(a,"ChainedTokenCredential authentication failed.");throw yU.getToken.info(qr(e,l)),l}if(yU.getToken.info(`Result for ${o.constructor.name}: ${bo(e)}`),n===null)throw new ft("Failed to retrieve a valid token");return{token:n,successfulCredential:o}})}};d();d();d();d();var Oc={};Ei(Oc,{AuthError:()=>Yt,AuthErrorCodes:()=>_E,AuthErrorMessage:()=>IU,AzureCloudInstance:()=>Nd,ClientApplication:()=>sp,ClientAssertion:()=>qd,ClientAuthError:()=>jA,ClientAuthErrorCodes:()=>Tn,ClientAuthErrorMessage:()=>vU,ClientConfigurationError:()=>kE,ClientConfigurationErrorCodes:()=>RE,ClientConfigurationErrorMessage:()=>SU,ClientCredentialClient:()=>ap,ConfidentialClientApplication:()=>ZE,CryptoProvider:()=>ju,DeviceCodeClient:()=>KE,DistributedCachePlugin:()=>JR,InteractionRequiredAuthError:()=>Fc,InteractionRequiredAuthErrorCodes:()=>W8,InteractionRequiredAuthErrorMessage:()=>Qq,LogLevel:()=>xi,Logger:()=>Qc,ManagedIdentityApplication:()=>eI,ManagedIdentitySourceNames:()=>Mt,OnBehalfOfClient:()=>XE,PromptValue:()=>qA,ProtocolMode:()=>Ps,PublicClientApplication:()=>JE,ResponseMode:()=>qu,ServerError:()=>oa,TokenCache:()=>OE,TokenCacheContext:()=>Lc,UsernamePasswordClient:()=>zE,internals:()=>Pq,version:()=>Dl});d();var Pq={};Ei(Pq,{Deserializer:()=>Od,Serializer:()=>UA});d();d();var UA=class{static{s(this,"Serializer")}static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,realm:o.realm,local_account_id:o.localAccountId,username:o.username,authority_type:o.authorityType,name:o.name,client_info:o.clientInfo,last_modification_time:o.lastModificationTime,last_modification_app:o.lastModificationApp,tenantProfiles:o.tenantProfiles?.map(a=>JSON.stringify(a))}}),r}static serializeIdTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm}}),r}static serializeAccessTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm,target:o.target,cached_at:o.cachedAt,expires_on:o.expiresOn,extended_expires_on:o.extendedExpiresOn,refresh_on:o.refreshOn,key_id:o.keyId,token_type:o.tokenType,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash}}),r}static serializeRefreshTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,family_id:o.familyId,target:o.target,realm:o.realm}}),r}static serializeAppMetadata(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={client_id:o.clientId,environment:o.environment,family_id:o.familyId}}),r}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}};d();d();d();d();d();d();d();d();d();var me={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Wt={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Ma=[me.OPENID_SCOPE,me.PROFILE_SCOPE,me.OFFLINE_ACCESS_SCOPE],EU=[...Ma,me.EMAIL_SCOPE],Mn={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"};var Oa={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Pg={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},qA={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},x8={PLAIN:"plain",S256:"S256"},xE={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"};var qu={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},Ua={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},Fg={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Ni={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Vr={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var qb="appmetadata",rle="client_info",Sd="1",vE={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},ra={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},_o={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Rr={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Hu={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Hb={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Gb={username:"username",password:"password"},Lg={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},v8={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Rn={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"};var bE=300,os={BASE64:"base64",HEX:"hex",UTF8:"utf-8"};var _E={};Ei(_E,{postRequestFailed:()=>Wb,unexpectedError:()=>Vb});d();var Vb="unexpected_error",Wb="post_request_failed";var b8={[Vb]:"Unexpected error in authentication.",[Wb]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},IU={unexpectedError:{code:Vb,desc:b8[Vb]},postRequestFailed:{code:Wb,desc:b8[Wb]}},Yt=class t extends Error{static{s(this,"AuthError")}constructor(e,r,n){let o=r?`${e}: ${r}`:e;super(o),Object.setPrototypeOf(this,t.prototype),this.errorCode=e||me.EMPTY_STRING,this.errorMessage=r||me.EMPTY_STRING,this.subError=n||me.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function xU(t,e){return new Yt(t,e?`${b8[t]} ${e}`:b8[t])}s(xU,"createAuthError");var Tn={};Ei(Tn,{authTimeNotFound:()=>Bd,authorizationCodeMissingFromServerResponse:()=>Xg,bindingKeyNotRemoved:()=>r_,cannotAppendScopeSet:()=>zg,cannotRemoveEmptyScope:()=>$g,clientInfoDecodingError:()=>HA,clientInfoEmptyError:()=>Mg,deviceCodeExpired:()=>zb,deviceCodePollingCancelled:()=>$b,deviceCodeUnknownError:()=>Kb,emptyInputScopeSet:()=>WA,endSessionEndpointNotSupported:()=>Zg,endpointResolutionError:()=>na,hashNotDeserialized:()=>Hg,invalidAssertion:()=>Zb,invalidCacheEnvironment:()=>kd,invalidCacheRecord:()=>Kg,invalidClientCredential:()=>e_,invalidState:()=>Bl,keyIdMissing:()=>e1,maxAgeTranspired:()=>Wg,methodNotImplemented:()=>pr,missingTenantIdError:()=>o_,multipleMatchingAccounts:()=>jb,multipleMatchingAppMetadata:()=>Yg,multipleMatchingTokens:()=>Yb,nestedAppAuthBridgeDisabled:()=>s_,networkError:()=>Ug,noAccountFound:()=>Jb,noAccountInSilentRequest:()=>Rd,noCryptoObject:()=>YA,noNetworkConnectivity:()=>n_,nonceMismatch:()=>Vg,nullOrEmptyToken:()=>Og,openIdConfigError:()=>qg,requestCannotBeMade:()=>jg,stateMismatch:()=>Gg,stateNotFound:()=>VA,tokenClaimsCnfRequiredForSignedJwt:()=>Jg,tokenParsingError:()=>GA,tokenRefreshRequired:()=>Dd,unexpectedCredentialType:()=>Xb,userCanceled:()=>i_,userTimeoutReached:()=>t_});d();var HA="client_info_decoding_error",Mg="client_info_empty_error",GA="token_parsing_error",Og="null_or_empty_token",na="endpoints_resolution_error",Ug="network_error",qg="openid_config_error",Hg="hash_not_deserialized",Bl="invalid_state",Gg="state_mismatch",VA="state_not_found",Vg="nonce_mismatch",Bd="auth_time_not_found",Wg="max_age_transpired",Yb="multiple_matching_tokens",jb="multiple_matching_accounts",Yg="multiple_matching_appMetadata",jg="request_cannot_be_made",$g="cannot_remove_empty_scope",zg="cannot_append_scopeset",WA="empty_input_scopeset",$b="device_code_polling_cancelled",zb="device_code_expired",Kb="device_code_unknown_error",Rd="no_account_in_silent_request",Kg="invalid_cache_record",kd="invalid_cache_environment",Jb="no_account_found",YA="no_crypto_object",Xb="unexpected_credential_type",Zb="invalid_assertion",e_="invalid_client_credential",Dd="token_refresh_required",t_="user_timeout_reached",Jg="token_claims_cnf_required_for_signedjwt",Xg="authorization_code_missing_from_server_response",r_="binding_key_not_removed",Zg="end_session_endpoint_not_supported",e1="key_id_missing",n_="no_network_connectivity",i_="user_canceled",o_="missing_tenant_id_error",pr="method_not_implemented",s_="nested_app_auth_bridge_disabled";var jt={[HA]:"The client info could not be parsed/decoded correctly",[Mg]:"The client info was empty",[GA]:"Token cannot be parsed",[Og]:"The token is null or empty",[na]:"Endpoints cannot be resolved",[Ug]:"Network request failed",[qg]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Hg]:"The hash parameters could not be deserialized",[Bl]:"State was not the expected format",[Gg]:"State mismatch error",[VA]:"State not found",[Vg]:"Nonce mismatch error",[Bd]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Wg]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Yb]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[jb]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Yg]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[jg]:"Token request cannot be made without authorization code or refresh token.",[$g]:"Cannot remove null or empty scope from ScopeSet",[zg]:"Cannot append ScopeSet",[WA]:"Empty input ScopeSet cannot be processed",[$b]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[zb]:"Device code is expired.",[Kb]:"Device code stopped polling for unknown reasons.",[Rd]:"Please pass an account object, silent flow is not supported without account information",[Kg]:"Cache record object was null or undefined.",[kd]:"Invalid environment when attempting to create cache entry",[Jb]:"No account found in cache for given key.",[YA]:"No crypto object detected.",[Xb]:"Unexpected credential type.",[Zb]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[e_]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Dd]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[t_]:"User defined timeout for device code polling reached",[Jg]:"Cannot generate a POP jwt if the token_claims are not populated",[Xg]:"Server response does not contain an authorization code to proceed",[r_]:"Could not remove the credential's binding key from storage.",[Zg]:"The provided authority does not support logout",[e1]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[n_]:"No network connectivity. Check your internet connection.",[i_]:"User cancelled the flow.",[o_]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[pr]:"This method has not been implemented",[s_]:"The nested app auth bridge is disabled"},vU={clientInfoDecodingError:{code:HA,desc:jt[HA]},clientInfoEmptyError:{code:Mg,desc:jt[Mg]},tokenParsingError:{code:GA,desc:jt[GA]},nullOrEmptyToken:{code:Og,desc:jt[Og]},endpointResolutionError:{code:na,desc:jt[na]},networkError:{code:Ug,desc:jt[Ug]},unableToGetOpenidConfigError:{code:qg,desc:jt[qg]},hashNotDeserialized:{code:Hg,desc:jt[Hg]},invalidStateError:{code:Bl,desc:jt[Bl]},stateMismatchError:{code:Gg,desc:jt[Gg]},stateNotFoundError:{code:VA,desc:jt[VA]},nonceMismatchError:{code:Vg,desc:jt[Vg]},authTimeNotFoundError:{code:Bd,desc:jt[Bd]},maxAgeTranspired:{code:Wg,desc:jt[Wg]},multipleMatchingTokens:{code:Yb,desc:jt[Yb]},multipleMatchingAccounts:{code:jb,desc:jt[jb]},multipleMatchingAppMetadata:{code:Yg,desc:jt[Yg]},tokenRequestCannotBeMade:{code:jg,desc:jt[jg]},removeEmptyScopeError:{code:$g,desc:jt[$g]},appendScopeSetError:{code:zg,desc:jt[zg]},emptyInputScopeSetError:{code:WA,desc:jt[WA]},DeviceCodePollingCancelled:{code:$b,desc:jt[$b]},DeviceCodeExpired:{code:zb,desc:jt[zb]},DeviceCodeUnknownError:{code:Kb,desc:jt[Kb]},NoAccountInSilentRequest:{code:Rd,desc:jt[Rd]},invalidCacheRecord:{code:Kg,desc:jt[Kg]},invalidCacheEnvironment:{code:kd,desc:jt[kd]},noAccountFound:{code:Jb,desc:jt[Jb]},noCryptoObj:{code:YA,desc:jt[YA]},unexpectedCredentialType:{code:Xb,desc:jt[Xb]},invalidAssertion:{code:Zb,desc:jt[Zb]},invalidClientCredential:{code:e_,desc:jt[e_]},tokenRefreshRequired:{code:Dd,desc:jt[Dd]},userTimeoutReached:{code:t_,desc:jt[t_]},tokenClaimsRequired:{code:Jg,desc:jt[Jg]},noAuthorizationCodeFromServer:{code:Xg,desc:jt[Xg]},bindingKeyNotRemovedError:{code:r_,desc:jt[r_]},logoutNotSupported:{code:Zg,desc:jt[Zg]},keyIdMissing:{code:e1,desc:jt[e1]},noNetworkConnectivity:{code:n_,desc:jt[n_]},userCanceledError:{code:i_,desc:jt[i_]},missingTenantIdError:{code:o_,desc:jt[o_]},nestedAppAuthBridgeDisabled:{code:s_,desc:jt[s_]}},jA=class t extends Yt{static{s(this,"ClientAuthError")}constructor(e,r){super(e,r?`${jt[e]}: ${r}`:jt[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,t.prototype)}};function _e(t,e){return new jA(t,e)}s(_e,"createClientAuthError");var TE={createNewGuid:s(()=>{throw _e(pr)},"createNewGuid"),base64Decode:s(()=>{throw _e(pr)},"base64Decode"),base64Encode:s(()=>{throw _e(pr)},"base64Encode"),base64UrlEncode:s(()=>{throw _e(pr)},"base64UrlEncode"),encodeKid:s(()=>{throw _e(pr)},"encodeKid"),async getPublicKeyThumbprint(){throw _e(pr)},async removeTokenBindingKey(){throw _e(pr)},async clearKeystore(){throw _e(pr)},async signJwt(){throw _e(pr)},async hashString(){throw _e(pr)}};d();var xi;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(xi||(xi={}));var Qc=class t{static{s(this,"Logger")}constructor(e,r,n){this.level=xi.Info;let o=s(()=>{},"defaultLoggerCallback"),a=e||t.createDefaultLoggerOptions();this.localCallback=a.loggerCallback||o,this.piiLoggingEnabled=a.piiLoggingEnabled||!1,this.level=typeof a.logLevel=="number"?a.logLevel:xi.Info,this.correlationId=a.correlationId||me.EMPTY_STRING,this.packageName=r||me.EMPTY_STRING,this.packageVersion=n||me.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:s(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:xi.Info}}clone(e,r,n){return new t({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let a=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${xi[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,a,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:xi.Error,containsPii:!1,correlationId:r||me.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:xi.Error,containsPii:!0,correlationId:r||me.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:xi.Warning,containsPii:!1,correlationId:r||me.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:xi.Warning,containsPii:!0,correlationId:r||me.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:xi.Info,containsPii:!1,correlationId:r||me.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:xi.Info,containsPii:!0,correlationId:r||me.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:xi.Verbose,containsPii:!1,correlationId:r||me.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:xi.Verbose,containsPii:!0,correlationId:r||me.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:xi.Trace,containsPii:!1,correlationId:r||me.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:xi.Trace,containsPii:!0,correlationId:r||me.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};d();var _8="@azure/msal-common",wE="15.8.1";d();var Nd={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};d();var To={};Ei(To,{createAccessTokenEntity:()=>TU,createIdTokenEntity:()=>_U,createRefreshTokenEntity:()=>wU,generateAppMetadataKey:()=>pPe,generateAuthorityMetadataExpiresAt:()=>S8,generateCredentialKey:()=>l_,isAccessTokenEntity:()=>oPe,isAppMetadataEntity:()=>mPe,isAuthorityMetadataEntity:()=>gPe,isAuthorityMetadataExpired:()=>B8,isCredentialEntity:()=>w8,isIdTokenEntity:()=>sPe,isRefreshTokenEntity:()=>aPe,isServerTelemetryEntity:()=>hPe,isThrottlingEntity:()=>APe,updateAuthorityEndpointMetadata:()=>BE,updateCloudDiscoveryMetadata:()=>u_});d();var T8={};Ei(T8,{checkMaxAge:()=>a_,extractTokenClaims:()=>Qd,getJWSPayload:()=>nle});d();function Qd(t,e){let r=nle(t);try{let n=e(r);return JSON.parse(n)}catch{throw _e(GA)}}s(Qd,"extractTokenClaims");function nle(t){if(!t)throw _e(Og);let r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw _e(GA);return r[2]}s(nle,"getJWSPayload");function a_(t,e){if(e===0||Date.now()-3e5>t+e)throw _e(Wg)}s(a_,"checkMaxAge");var Jn={};Ei(Jn,{delay:()=>iPe,isTokenExpired:()=>SE,nowSeconds:()=>Pc,toDateFromSeconds:()=>c_,toSecondsFromDate:()=>nPe,wasClockTurnedBack:()=>bU});d();function Pc(){return Math.round(new Date().getTime()/1e3)}s(Pc,"nowSeconds");function nPe(t){return t.getTime()/1e3}s(nPe,"toSecondsFromDate");function c_(t){return t?new Date(Number(t)*1e3):new Date}s(c_,"toDateFromSeconds");function SE(t,e){let r=Number(t)||0;return Pc()+e>r}s(SE,"isTokenExpired");function bU(t){return Number(t)>Pc()}s(bU,"wasClockTurnedBack");function iPe(t,e){return new Promise(r=>setTimeout(()=>r(e),t))}s(iPe,"delay");function l_(t){return[cPe(t),lPe(t),uPe(t),fPe(t),dPe(t)].join(Ni.CACHE_KEY_SEPARATOR).toLowerCase()}s(l_,"generateCredentialKey");function _U(t,e,r,n,o){return{credentialType:Vr.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:o}}s(_U,"createIdTokenEntity");function TU(t,e,r,n,o,a,c,l,u,f,h,A,p,m,g){let y={homeAccountId:t,credentialType:Vr.ACCESS_TOKEN,secret:r,cachedAt:Pc().toString(),expiresOn:c.toString(),extendedExpiresOn:l.toString(),environment:e,clientId:n,realm:o,target:a,tokenType:h||Rr.BEARER};if(A&&(y.userAssertionHash=A),f&&(y.refreshOn=f.toString()),m&&(y.requestedClaims=m,y.requestedClaimsHash=g),y.tokenType?.toLowerCase()!==Rr.BEARER.toLowerCase())switch(y.credentialType=Vr.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case Rr.POP:let E=Qd(r,u);if(!E?.cnf?.kid)throw _e(Jg);y.keyId=E.cnf.kid;break;case Rr.SSH:y.keyId=p}return y}s(TU,"createAccessTokenEntity");function wU(t,e,r,n,o,a,c){let l={credentialType:Vr.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r};return a&&(l.userAssertionHash=a),o&&(l.familyId=o),c&&(l.expiresOn=c.toString()),l}s(wU,"createRefreshTokenEntity");function w8(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}s(w8,"isCredentialEntity");function oPe(t){return t?w8(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Vr.ACCESS_TOKEN||t.credentialType===Vr.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}s(oPe,"isAccessTokenEntity");function sPe(t){return t?w8(t)&&t.hasOwnProperty("realm")&&t.credentialType===Vr.ID_TOKEN:!1}s(sPe,"isIdTokenEntity");function aPe(t){return t?w8(t)&&t.credentialType===Vr.REFRESH_TOKEN:!1}s(aPe,"isRefreshTokenEntity");function cPe(t){return[t.homeAccountId,t.environment].join(Ni.CACHE_KEY_SEPARATOR).toLowerCase()}s(cPe,"generateAccountId");function lPe(t){let e=t.credentialType===Vr.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Ni.CACHE_KEY_SEPARATOR).toLowerCase()}s(lPe,"generateCredentialId");function uPe(t){return(t.target||"").toLowerCase()}s(uPe,"generateTarget");function fPe(t){return(t.requestedClaimsHash||"").toLowerCase()}s(fPe,"generateClaimsHash");function dPe(t){return t.tokenType&&t.tokenType.toLowerCase()!==Rr.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}s(dPe,"generateScheme");function hPe(t,e){let r=t.indexOf(_o.CACHE_KEY)===0,n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}s(hPe,"isServerTelemetryEntity");function APe(t,e){let r=!1;t&&(r=t.indexOf(Hu.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}s(APe,"isThrottlingEntity");function pPe({environment:t,clientId:e}){return[qb,t,e].join(Ni.CACHE_KEY_SEPARATOR).toLowerCase()}s(pPe,"generateAppMetadataKey");function mPe(t,e){return e?t.indexOf(qb)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}s(mPe,"isAppMetadataEntity");function gPe(t,e){return e?t.indexOf(vE.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}s(gPe,"isAuthorityMetadataEntity");function S8(){return Pc()+vE.REFRESH_TIME_SECONDS}s(S8,"generateAuthorityMetadataExpiresAt");function BE(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}s(BE,"updateAuthorityEndpointMetadata");function u_(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}s(u_,"updateCloudDiscoveryMetadata");function B8(t){return t.expiresAt<=Pc()}s(B8,"isAuthorityMetadataExpired");d();d();var RE={};Ei(RE,{authorityMismatch:()=>C_,authorityUriInsecure:()=>r1,cannotAllowPlatformBroker:()=>g_,cannotSetOIDCOptions:()=>m_,claimsRequestParsingError:()=>f_,emptyInputScopesError:()=>i1,invalidAuthenticationHeader:()=>p_,invalidAuthorityMetadata:()=>c1,invalidClaims:()=>$A,invalidCloudDiscoveryMetadata:()=>zA,invalidCodeChallengeMethod:()=>d_,logoutRequestEmpty:()=>s1,missingNonceAuthenticationHeader:()=>A_,missingSshJwk:()=>Pd,missingSshKid:()=>h_,pkceParamsMissing:()=>a1,redirectUriEmpty:()=>t1,tokenRequestEmpty:()=>o1,untrustedAuthority:()=>l1,urlEmptyError:()=>n1,urlParseError:()=>Gu});d();var t1="redirect_uri_empty",f_="claims_request_parsing_error",r1="authority_uri_insecure",Gu="url_parse_error",n1="empty_url_error",i1="empty_input_scopes_error",$A="invalid_claims",o1="token_request_empty",s1="logout_request_empty",d_="invalid_code_challenge_method",a1="pkce_params_missing",zA="invalid_cloud_discovery_metadata",c1="invalid_authority_metadata",l1="untrusted_authority",Pd="missing_ssh_jwk",h_="missing_ssh_kid",A_="missing_nonce_authentication_header",p_="invalid_authentication_header",m_="cannot_set_OIDCOptions",g_="cannot_allow_platform_broker",C_="authority_mismatch";var Qi={[t1]:"A redirect URI is required for all calls, and none has been set.",[f_]:"Could not parse the given claims request object.",[r1]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Gu]:"URL could not be parsed into appropriate segments.",[n1]:"URL was empty or null.",[i1]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[$A]:"Given claims parameter must be a stringified JSON object.",[o1]:"Token request was empty and not found in cache.",[s1]:"The logout request was null or undefined.",[d_]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[a1]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[zA]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[c1]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[l1]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Pd]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[h_]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[A_]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[p_]:"Invalid authentication header provided",[m_]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[g_]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[C_]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},SU={redirectUriNotSet:{code:t1,desc:Qi[t1]},claimsRequestParsingError:{code:f_,desc:Qi[f_]},authorityUriInsecure:{code:r1,desc:Qi[r1]},urlParseError:{code:Gu,desc:Qi[Gu]},urlEmptyError:{code:n1,desc:Qi[n1]},emptyScopesError:{code:i1,desc:Qi[i1]},invalidClaimsRequest:{code:$A,desc:Qi[$A]},tokenRequestEmptyError:{code:o1,desc:Qi[o1]},logoutRequestEmptyError:{code:s1,desc:Qi[s1]},invalidCodeChallengeMethod:{code:d_,desc:Qi[d_]},invalidCodeChallengeParams:{code:a1,desc:Qi[a1]},invalidCloudDiscoveryMetadata:{code:zA,desc:Qi[zA]},invalidAuthorityMetadata:{code:c1,desc:Qi[c1]},untrustedAuthority:{code:l1,desc:Qi[l1]},missingSshJwk:{code:Pd,desc:Qi[Pd]},missingSshKid:{code:h_,desc:Qi[h_]},missingNonceAuthenticationHeader:{code:A_,desc:Qi[A_]},invalidAuthenticationHeader:{code:p_,desc:Qi[p_]},cannotSetOIDCOptions:{code:m_,desc:Qi[m_]},cannotAllowPlatformBroker:{code:g_,desc:Qi[g_]},authorityMismatch:{code:C_,desc:Qi[C_]}},kE=class t extends Yt{static{s(this,"ClientConfigurationError")}constructor(e){super(e,Qi[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t.prototype)}};function wn(t){return new kE(t)}s(wn,"createClientConfigurationError");d();var di=class{static{s(this,"StringUtils")}static isEmptyObj(e){if(e)try{let r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){let r={},n=e.split("&"),o=s(a=>decodeURIComponent(a.replace(/\+/g," ")),"decode");return n.forEach(a=>{if(a.trim()){let[c,l]=a.split(/=(.+)/g,2);c&&l&&(r[o(c)]=o(l))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}};var co=class t{static{s(this,"ScopeSet")}constructor(e){let r=e?di.trimArrayEntries([...e]):[],n=r?di.removeEmptyStringsFromArray(r):[];if(!n||!n.length)throw wn(i1);this.scopes=new Set,n.forEach(o=>this.scopes.add(o))}static fromString(e){let n=(e||me.EMPTY_STRING).split(" ");return new t(n)}static createSearchScopes(e){let r=new t(e);return r.containsOnlyOIDCScopes()?r.removeScope(me.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){let r=this.printScopesLowerCase().split(" "),n=new t(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return EU.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw _e(zg)}}removeScope(e){if(!e)throw _e($g);this.scopes.delete(e.trim())}removeOIDCScopes(){EU.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw _e(WA);let r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw _e(WA);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let r=this.unionScopeSets(e),n=e.getScopeCount(),o=this.getScopeCount();return r.size<o+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):me.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};d();d();function DE(t,e){if(!t)throw _e(Mg);try{let r=e(t);return JSON.parse(r)}catch{throw _e(HA)}}s(DE,"buildClientInfo");function Vu(t){if(!t)throw _e(HA);let e=t.split(Ni.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?me.EMPTY_STRING:e[1]}}s(Vu,"buildClientInfoFromHomeAccountId");d();function ile(t,e){return!!t&&!!e&&t===e.split(".")[1]}s(ile,"tenantIdMatchesHomeTenant");function y_(t,e,r,n){if(n){let{oid:o,sub:a,tid:c,name:l,tfp:u,acr:f}=n,h=c||u||f||"";return{tenantId:h,localAccountId:o||a||"",name:l,isHomeTenant:ile(h,t)}}else return{tenantId:r,localAccountId:e,isHomeTenant:ile(r,t)}}s(y_,"buildTenantProfile");function R8(t,e,r,n){let o=t;if(e){let{isHomeTenant:a,...c}=e;o={...t,...c}}if(r){let{isHomeTenant:a,...c}=y_(t.homeAccountId,t.localAccountId,t.tenantId,r);return o={...o,...c,idTokenClaims:r,idToken:n},o}return o}s(R8,"updateAccountTenantProfileData");d();var B0={Default:0,Adfs:1,Dsts:2,Ciam:3};d();function k8(t){return t&&(t.tid||t.tfp||t.acr)||null}s(k8,"getTenantIdFromIdTokenClaims");d();var Ps={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};var ss=class t{static{s(this,"AccountEntity")}generateAccountId(){return[this.homeAccountId,this.environment].join(Ni.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let r=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",r||e.tenantId||""].join(Ni.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,r,n){let o=new t;r.authorityType===B0.Adfs?o.authorityType=Fg.ADFS_ACCOUNT_TYPE:r.protocolMode===Ps.OIDC?o.authorityType=Fg.GENERIC_ACCOUNT_TYPE:o.authorityType=Fg.MSSTS_ACCOUNT_TYPE;let a;e.clientInfo&&n&&(a=DE(e.clientInfo,n)),o.clientInfo=e.clientInfo,o.homeAccountId=e.homeAccountId,o.nativeAccountId=e.nativeAccountId;let c=e.environment||r&&r.getPreferredCache();if(!c)throw _e(kd);o.environment=c,o.realm=a?.utid||k8(e.idTokenClaims)||"",o.localAccountId=a?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let l=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,u=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(o.username=l||u||"",o.name=e.idTokenClaims?.name||"",o.cloudGraphHostName=e.cloudGraphHostName,o.msGraphHost=e.msGraphHost,e.tenantProfiles)o.tenantProfiles=e.tenantProfiles;else{let f=y_(e.homeAccountId,o.localAccountId,o.realm,e.idTokenClaims);o.tenantProfiles=[f]}return o}static createFromAccountInfo(e,r,n){let o=new t;return o.authorityType=e.authorityType||Fg.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=r,o.msGraphHost=n,o.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),o}static generateHomeAccountId(e,r,n,o,a){if(!(r===B0.Adfs||r===B0.Dsts)){if(e)try{let c=DE(e,o.base64Decode);if(c.uid&&c.utid)return`${c.uid}.${c.utid}`}catch{}n.warning("No client info in response")}return a?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let o=!0;if(n){let a=e.idTokenClaims||{},c=r.idTokenClaims||{};o=a.iat===c.iat&&a.nonce===c.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&o}};d();d();var as={};Ei(as,{getDeserializedResponse:()=>BU,mapToQueryString:()=>Wu,stripLeadingHashOrQuery:()=>ole});d();function ole(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}s(ole,"stripLeadingHashOrQuery");function BU(t){if(!t||t.indexOf("=")<0)return null;try{let e=ole(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch{throw _e(Hg)}return null}s(BU,"getDeserializedResponse");function Wu(t,e=!0,r){let n=new Array;return t.forEach((o,a)=>{!e&&r&&a in r?n.push(`${a}=${o}`):n.push(`${a}=${encodeURIComponent(o)}`)}),n.join("&")}s(Wu,"mapToQueryString");var mr=class t{static{s(this,"UrlString")}get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw wn(n1);e.includes("#")||(this._urlString=t.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return di.endsWith(r,"?")?r=r.slice(0,-1):di.endsWith(r,"?/")&&(r=r.slice(0,-2)),di.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw wn(Gu)}if(!e.HostNameAndPort||!e.PathSegments)throw wn(Gu);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw wn(r1)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return t.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===Oa.COMMON||n[0]===Oa.ORGANIZATIONS)&&(n[0]=e),t.constructAuthorityUriFromObject(r)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw wn(Gu);let n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},o=n.AbsolutePath.split("/");return o=o.filter(a=>a&&a.length>0),n.PathSegments=o,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw wn(Gu);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===me.FORWARD_SLASH){let o=new t(r).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new t(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!BU(e)}};var ale={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},RU=ale.endpointMetadata,kU=ale.instanceDiscoveryMetadata,DU=new Set;kU.metadata.forEach(t=>{t.aliases.forEach(e=>{DU.add(e)})});function cle(t,e){let r,n=t.canonicalAuthority;if(n){let o=new mr(n).getUrlComponents().HostNameAndPort;r=sle(o,t.cloudDiscoveryMetadata?.metadata,ra.CONFIG,e)||sle(o,kU.metadata,ra.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}s(cle,"getAliasesFromStaticSources");function sle(t,e,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){let o=E_(e,t);if(o)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),o.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}s(sle,"getAliasesFromMetadata");function lle(t){return E_(kU.metadata,t)}s(lle,"getCloudDiscoveryMetadataFromHardcodedValues");function E_(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(n.aliases.includes(e))return n}return null}s(E_,"getCloudDiscoveryMetadataFromNetworkResponse");d();d();var NU="cache_quota_exceeded",D8="cache_error_unknown";var QU={[NU]:"Exceeded cache storage capacity.",[D8]:"Unexpected error occurred when using cache storage."},I_=class t extends Yt{static{s(this,"CacheError")}constructor(e,r){let n=r||(QU[e]?QU[e]:QU[D8]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}};function ule(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new I_(NU):new I_(t.name,t.message):new I_(D8)}s(ule,"createCacheError");var KA=class{static{s(this,"CacheManager")}constructor(e,r,n,o,a){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(_8,wE),this.staticAuthorityOptions=a,this.performanceClient=o}getAllAccounts(e,r){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,r),r,e)}getAccountInfoFilteredBy(e,r){let n=this.getAllAccounts(e,r);return n.length>1?n.sort(a=>a.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e,r){let n=this.getAccountsFilteredBy(e,r);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,r,n){return e.flatMap(o=>this.getTenantProfilesFromAccountEntity(o,r,n?.tenantId,n))}getTenantedAccountInfoByFilter(e,r,n,o,a){let c=null,l;if(a&&!this.tenantProfileMatchesFilter(n,a))return null;let u=this.getIdToken(e,o,r,n.tenantId);return u&&(l=Qd(u.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(l,a))?null:(c=R8(e,n,l,u?.secret),c)}getTenantProfilesFromAccountEntity(e,r,n,o){let a=e.getAccountInfo(),c=a.tenantProfiles||new Map,l=this.getTokenKeys();if(n){let f=c.get(n);if(f)c=new Map([[n,f]]);else return[]}let u=[];return c.forEach(f=>{let h=this.getTenantedAccountInfoByFilter(a,l,f,r,o);h&&u.push(h)}),u}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){if(!e)throw _e(Kg);try{e.account&&await this.setAccount(e.account,r),e.idToken&&n?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,r),e.accessToken&&n?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,r),e.refreshToken&&n?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,r),e.appMetadata&&this.setAppMetadata(e.appMetadata,r)}catch(o){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),o instanceof Yt?o:ule(o)}}async saveAccessToken(e,r){let n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=this.getTokenKeys(),a=co.fromString(e.target);o.accessToken.forEach(c=>{if(!this.accessTokenKeyMatchesFilter(c,n,!1))return;let l=this.getAccessTokenCredential(c,r);l&&this.credentialMatchesFilter(l,n)&&co.fromString(l.target).intersectingScopeSets(a)&&this.removeAccessToken(c,r)}),await this.setAccessTokenCredential(e,r)}getAccountsFilteredBy(e,r){let n=this.getAccountKeys(),o=[];return n.forEach(a=>{if(!this.isAccountKey(a,e.homeAccountId))return;let c=this.getAccount(a,r);if(!c||e.homeAccountId&&!this.matchHomeAccountId(c,e.homeAccountId)||e.username&&!this.matchUsername(c.username,e.username)||e.environment&&!this.matchEnvironment(c,e.environment)||e.realm&&!this.matchRealm(c,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(c,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(c,e.authorityType))return;let l={localAccountId:e?.localAccountId,name:e?.name},u=c.tenantProfiles?.filter(f=>this.tenantProfileMatchesFilter(f,l));u&&u.length===0||o.push(c)}),o}isAccountKey(e,r,n){return!(e.split(Ni.CACHE_KEY_SEPARATOR).length<3||r&&!e.toLowerCase().includes(r.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Ni.CACHE_KEY_SEPARATOR).length<6)return!1;let r=e.toLowerCase();if(r.indexOf(Vr.ID_TOKEN.toLowerCase())===-1&&r.indexOf(Vr.ACCESS_TOKEN.toLowerCase())===-1&&r.indexOf(Vr.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&r.indexOf(Vr.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(r.indexOf(Vr.REFRESH_TOKEN.toLowerCase())>-1){let n=`${Vr.REFRESH_TOKEN}${Ni.CACHE_KEY_SEPARATOR}${this.clientId}${Ni.CACHE_KEY_SEPARATOR}`,o=`${Vr.REFRESH_TOKEN}${Ni.CACHE_KEY_SEPARATOR}${Sd}${Ni.CACHE_KEY_SEPARATOR}`;if(r.indexOf(n.toLowerCase())===-1&&r.indexOf(o.toLowerCase())===-1)return!1}else if(r.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===Vr.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===Rr.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){let r=this.getKeys(),n={};return r.forEach(o=>{if(!this.isAppMetadata(o))return;let a=this.getAppMetadata(o);a&&(e.environment&&!this.matchEnvironment(a,e.environment)||e.clientId&&!this.matchClientId(a,e.clientId)||(n[o]=a))}),n}getAuthorityMetadataByAlias(e){let r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(o=>{if(!this.isAuthorityMetadata(o)||o.indexOf(this.clientId)===-1)return;let a=this.getAuthorityMetadata(o);a&&a.aliases.indexOf(e)!==-1&&(n=a)}),n}removeAllAccounts(e){this.getAccountKeys().forEach(n=>{this.removeAccount(n,e)})}removeAccount(e,r){let n=this.getAccount(e,r);n&&(this.removeAccountContext(n,r),this.removeItem(e,r))}removeAccountContext(e,r){let n=this.getTokenKeys(),o=e.generateAccountId();n.idToken.forEach(a=>{a.indexOf(o)===0&&this.removeIdToken(a,r)}),n.accessToken.forEach(a=>{a.indexOf(o)===0&&this.removeAccessToken(a,r)}),n.refreshToken.forEach(a=>{a.indexOf(o)===0&&this.removeRefreshToken(a,r)})}removeAccessToken(e,r){let n=this.getAccessTokenCredential(e,r);if(this.removeItem(e,r),this.performanceClient.incrementFields({accessTokensRemoved:1},r),!n||n.credentialType.toLowerCase()!==Vr.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==Rr.POP)return;let o=n.keyId;o&&this.cryptoImpl.removeTokenBindingKey(o).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${o}`,r),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},r)})}removeAppMetadata(e){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,e)}),!0}readAccountFromCache(e,r){let n=ss.generateAccountCacheKey(e);return this.getAccount(n,r)}getIdToken(e,r,n,o,a){this.commonLogger.trace("CacheManager - getIdToken called");let c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Vr.ID_TOKEN,clientId:this.clientId,realm:o},l=this.getIdTokensByFilter(c,r,n),u=l.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(u>1){let f=l;if(!o){let h=new Map;l.forEach((p,m)=>{p.realm===e.tenantId&&h.set(m,p)});let A=h.size;if(A<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),l.values().next().value;if(A===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),h.values().next().value;f=h}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),f.forEach((h,A)=>{this.removeIdToken(A,r)}),a&&r&&a.addFields({multiMatchedID:l.size},r),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),l.values().next().value}getIdTokensByFilter(e,r,n){let o=n&&n.idToken||this.getTokenKeys().idToken,a=new Map;return o.forEach(c=>{if(!this.idTokenKeyMatchesFilter(c,{clientId:this.clientId,...e}))return;let l=this.getIdTokenCredential(c,r);l&&this.credentialMatchesFilter(l,e)&&a.set(c,l)}),a}idTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e,r){this.removeItem(e,r)}removeRefreshToken(e,r){this.removeItem(e,r)}getAccessToken(e,r,n,o){let a=r.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",a);let c=co.createSearchScopes(r.scopes),l=r.authenticationScheme||Rr.BEARER,u=l&&l.toLowerCase()!==Rr.BEARER.toLowerCase()?Vr.ACCESS_TOKEN_WITH_AUTH_SCHEME:Vr.ACCESS_TOKEN,f={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:u,clientId:this.clientId,realm:o||e.tenantId,target:c,tokenType:l,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},h=n&&n.accessToken||this.getTokenKeys().accessToken,A=[];h.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,f,!0)){let g=this.getAccessTokenCredential(m,a);g&&this.credentialMatchesFilter(g,f)&&A.push(g)}});let p=A.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",a),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",a),A.forEach(m=>{this.removeAccessToken(l_(m),a)}),this.performanceClient.addFields({multiMatchedAT:A.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",a),A[0])}accessTokenKeyMatchesFilter(e,r,n){let o=e.toLowerCase();if(r.clientId&&o.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&o.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&o.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&o.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){let a=r.target.asArray();for(let c=0;c<a.length;c++){if(n&&!o.includes(a[c].toLowerCase()))return!1;if(!n&&o.includes(a[c].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,r){let n=this.getTokenKeys(),o=[];return n.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,e,!0))return;let c=this.getAccessTokenCredential(a,r);c&&this.credentialMatchesFilter(c,e)&&o.push(c)}),o}getRefreshToken(e,r,n,o,a){this.commonLogger.trace("CacheManager - getRefreshToken called");let c=r?Sd:void 0,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Vr.REFRESH_TOKEN,clientId:this.clientId,familyId:c},u=o&&o.refreshToken||this.getTokenKeys().refreshToken,f=[];u.forEach(A=>{if(this.refreshTokenKeyMatchesFilter(A,l)){let p=this.getRefreshTokenCredential(A,n);p&&this.credentialMatchesFilter(p,l)&&f.push(p)}});let h=f.length;return h<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(h>1&&a&&n&&a.addFields({multiMatchedRT:h},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),f[0])}refreshTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),o=Object.keys(n).map(c=>n[c]),a=o.length;if(a<1)return null;if(a>1)throw _e(Yg);return o[0]}isAppMetadataFOCI(e){let r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===Sd)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){let n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){return r.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,r){return!!(e&&typeof e=="string"&&r?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){let o=cle(this.staticAuthorityOptions,this.commonLogger);if(o.includes(r)&&o.includes(e.environment))return!0}let n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){return e.realm?.toLowerCase()===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==Vr.ACCESS_TOKEN&&e.credentialType!==Vr.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:co.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(qb)!==-1}isAuthorityMetadata(e){return e.indexOf(vE.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${vE.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(let n in r)e[n]=r[n];return e}},x_=class extends KA{static{s(this,"DefaultStorageClass")}async setAccount(){throw _e(pr)}getAccount(){throw _e(pr)}async setIdTokenCredential(){throw _e(pr)}getIdTokenCredential(){throw _e(pr)}async setAccessTokenCredential(){throw _e(pr)}getAccessTokenCredential(){throw _e(pr)}async setRefreshTokenCredential(){throw _e(pr)}getRefreshTokenCredential(){throw _e(pr)}setAppMetadata(){throw _e(pr)}getAppMetadata(){throw _e(pr)}setServerTelemetry(){throw _e(pr)}getServerTelemetry(){throw _e(pr)}setAuthorityMetadata(){throw _e(pr)}getAuthorityMetadata(){throw _e(pr)}getAuthorityMetadataKeys(){throw _e(pr)}setThrottlingCache(){throw _e(pr)}getThrottlingCache(){throw _e(pr)}removeItem(){throw _e(pr)}getKeys(){throw _e(pr)}getAccountKeys(){throw _e(pr)}getTokenKeys(){throw _e(pr)}};d();d();var he={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},wWt=new Map([[he.AcquireTokenByCode,"ATByCode"],[he.AcquireTokenByRefreshToken,"ATByRT"],[he.AcquireTokenSilent,"ATS"],[he.AcquireTokenSilentAsync,"ATSAsync"],[he.AcquireTokenPopup,"ATPopup"],[he.AcquireTokenRedirect,"ATRedirect"],[he.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[he.CryptoOptsSignJwt,"CryptoSignJwt"],[he.SilentCacheClientAcquireToken,"SltCacheClientAT"],[he.SilentIframeClientAcquireToken,"SltIframeClientAT"],[he.SilentRefreshClientAcquireToken,"SltRClientAT"],[he.SsoSilent,"SsoSlt"],[he.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[he.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[he.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[he.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[he.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[he.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[he.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[he.BrokerHandhshake,"BrokerHandshake"],[he.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[he.AcquireTokenByBroker,"ATByBroker"],[he.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[he.RefreshTokenClientAcquireToken,"RTClientAT"],[he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[he.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[he.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[he.AcquireTokenFromCache,"ATFromCache"],[he.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[he.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[he.AcquireTokenBySilentIframe,"ATBySltIframe"],[he.InitializeBaseRequest,"InitBaseReq"],[he.InitializeSilentRequest,"InitSltReq"],[he.InitializeClientApplication,"InitClientApplication"],[he.InitializeCache,"InitCache"],[he.ImportExistingCache,"importCache"],[he.SetUserData,"setUserData"],[he.LocalStorageUpdated,"localStorageUpdated"],[he.SilentIframeClientTokenHelper,"SIClientTHelper"],[he.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[he.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[he.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[he.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[he.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[he.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[he.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[he.GetAuthCodeUrl,"GetAuthCodeUrl"],[he.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[he.HandleCodeResponse,"HandleCodeResp"],[he.HandleResponseEar,"HandleRespEar"],[he.HandleResponseCode,"HandleRespCode"],[he.HandleResponsePlatformBroker,"HandleRespPlatBroker"],[he.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[he.AuthClientAcquireToken,"AuthClientAT"],[he.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[he.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[he.PopTokenGenerateCnf,"PopTGenCnf"],[he.PopTokenGenerateKid,"PopTGenKid"],[he.HandleServerTokenResponse,"HandleServerTRes"],[he.DeserializeResponse,"DeserializeRes"],[he.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[he.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[he.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[he.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[he.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[he.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[he.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[he.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[he.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[he.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[he.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[he.AcquireTokenByCodeAsync,"ATByCodeAsync"],[he.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[he.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[he.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[he.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[he.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[he.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[he.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[he.NativeGenerateAuthResult,"NtvGenAuthRes"],[he.RemoveHiddenIframe,"RemoveHiddenIframe"],[he.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[he.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[he.GeneratePkceCodes,"GenPkceCodes"],[he.GenerateCodeVerifier,"GenCodeVerifier"],[he.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[he.Sha256Digest,"Sha256Digest"],[he.GetRandomValues,"GetRandomValues"],[he.GenerateHKDF,"genHKDF"],[he.GenerateBaseKey,"genBaseKey"],[he.Base64Decode,"b64Decode"],[he.UrlEncodeArr,"urlEncArr"],[he.Encrypt,"encrypt"],[he.Decrypt,"decrypt"],[he.GenerateEarKey,"genEarKey"],[he.DecryptEarResponse,"decryptEarResp"]]),fle={NotStarted:0,InProgress:1,Completed:2};var N8=class{static{s(this,"StubPerformanceMeasurement")}startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},u1=class{static{s(this,"StubPerformanceClient")}generateId(){return"callback-id"}startMeasurement(e,r){return{end:s(()=>null,"end"),discard:s(()=>{},"discard"),add:s(()=>{},"add"),increment:s(()=>{},"increment"),event:{eventId:this.generateId(),status:fle.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:r||""},measurement:new N8}}startPerformanceMeasurement(){return new N8}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var CPe={tokenRenewalOffsetSeconds:bE,preventCorsPreflight:!1},yPe={loggerCallback:s(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:xi.Info,correlationId:me.EMPTY_STRING},EPe={claimsBasedCachingEnabled:!1},IPe={async sendGetRequestAsync(){throw _e(pr)},async sendPostRequestAsync(){throw _e(pr)}},xPe={sku:me.SKU,version:wE,cpu:me.EMPTY_STRING,os:me.EMPTY_STRING},vPe={clientSecret:me.EMPTY_STRING,clientAssertion:void 0},bPe={azureCloudInstance:Nd.None,tenant:`${me.DEFAULT_COMMON_TENANT}`},_Pe={application:{appName:"",appVersion:""}};function dle({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:o,networkInterface:a,cryptoInterface:c,clientCredentials:l,libraryInfo:u,telemetry:f,serverTelemetryManager:h,persistencePlugin:A,serializableCache:p}){let m={...yPe,...r};return{authOptions:TPe(t),systemOptions:{...CPe,...e},loggerOptions:m,cacheOptions:{...EPe,...n},storageInterface:o||new x_(t.clientId,TE,new Qc(m),new u1),networkInterface:a||IPe,cryptoInterface:c||TE,clientCredentials:l||vPe,libraryInfo:{...xPe,...u},telemetry:{..._Pe,...f},serverTelemetryManager:h||null,persistencePlugin:A||null,serializableCache:p||null}}s(dle,"buildClientConfiguration");function TPe(t){return{clientCapabilities:[],azureCloudOptions:bPe,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}s(TPe,"buildAuthOptions");function Q8(t){return t.authOptions.authority.options.protocolMode===Ps.OIDC}s(Q8,"isOidcProtocolMode");d();var ia={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var Je={};Ei(Je,{addApplicationTelemetry:()=>__,addAuthorizationCode:()=>_q,addBrokerParameters:()=>Md,addCcsOid:()=>Fd,addCcsUpn:()=>JA,addClaims:()=>m1,addClientAssertion:()=>S_,addClientAssertionType:()=>B_,addClientCapabilitiesToClaims:()=>hle,addClientId:()=>A1,addClientInfo:()=>C1,addClientSecret:()=>w_,addCodeChallengeParams:()=>qPe,addCodeVerifier:()=>wq,addCorrelationId:()=>g1,addDeviceCode:()=>HPe,addDomainHint:()=>xq,addEARParameters:()=>jPe,addExtraQueryParameters:()=>Ld,addGrantType:()=>R_,addIdTokenHint:()=>Iq,addInstanceAware:()=>k_,addLibraryInfo:()=>b_,addLoginHint:()=>QE,addLogoutHint:()=>Sq,addNativeBroker:()=>UPe,addNonce:()=>bq,addOboAssertion:()=>GPe,addPassword:()=>YPe,addPopToken:()=>D_,addPostLogoutRedirectUri:()=>Eq,addPrompt:()=>vq,addRedirectUri:()=>p1,addRefreshToken:()=>Tq,addRequestTokenUse:()=>VPe,addResponseMode:()=>yq,addResponseType:()=>OPe,addScopes:()=>h1,addServerTelemetry:()=>Q_,addSid:()=>U8,addSshJwk:()=>N_,addState:()=>T_,addThrottling:()=>P_,addUsername:()=>WPe,instrumentBrokerParams:()=>d1});d();var f1={};Ei(f1,{ACCESS_TOKEN:()=>BPe,BROKER_CLIENT_ID:()=>v_,BROKER_REDIRECT_URI:()=>O8,CCS_HEADER:()=>LPe,CLAIMS:()=>MU,CLIENT_ASSERTION:()=>cq,CLIENT_ASSERTION_TYPE:()=>lq,CLIENT_ID:()=>Yu,CLIENT_INFO:()=>QPe,CLIENT_REQUEST_ID:()=>$U,CLIENT_SECRET:()=>aq,CODE:()=>VU,CODE_CHALLENGE:()=>WU,CODE_CHALLENGE_METHOD:()=>YU,CODE_VERIFIER:()=>jU,DEVICE_CODE:()=>sq,DOMAIN_HINT:()=>mq,EAR_JWE_CRYPTO:()=>Cq,EAR_JWK:()=>gq,ERROR:()=>wPe,ERROR_DESCRIPTION:()=>SPe,EXPIRES_IN:()=>kPe,FOCI:()=>FPe,GRANT_TYPE:()=>LU,ID_TOKEN:()=>RPe,ID_TOKEN_HINT:()=>oq,INSTANCE_AWARE:()=>NE,LOGIN_HINT:()=>pq,LOGOUT_HINT:()=>hq,NATIVE_BROKER:()=>dq,NONCE:()=>HU,OBO_ASSERTION:()=>uq,ON_BEHALF_OF:()=>PPe,POST_LOGOUT_URI:()=>iq,PROMPT:()=>GU,REDIRECT_URI:()=>P8,REFRESH_TOKEN:()=>UU,REFRESH_TOKEN_EXPIRES_IN:()=>DPe,REQUESTED_TOKEN_USE:()=>fq,REQ_CNF:()=>L8,RESPONSE_MODE:()=>FU,RESPONSE_TYPE:()=>PU,RETURN_SPA_CODE:()=>M8,SCOPE:()=>OU,SESSION_STATE:()=>NPe,SID:()=>Aq,STATE:()=>qU,TOKEN_TYPE:()=>F8,X_APP_NAME:()=>rq,X_APP_VER:()=>nq,X_CLIENT_CPU:()=>XU,X_CLIENT_CURR_TELEM:()=>ZU,X_CLIENT_EXTRA_SKU:()=>MPe,X_CLIENT_LAST_TELEM:()=>eq,X_CLIENT_OS:()=>JU,X_CLIENT_SKU:()=>zU,X_CLIENT_VER:()=>KU,X_MS_LIB_CAPABILITY:()=>tq});d();var Yu="client_id",P8="redirect_uri",PU="response_type",FU="response_mode",LU="grant_type",MU="claims",OU="scope",wPe="error",SPe="error_description",BPe="access_token",RPe="id_token",UU="refresh_token",kPe="expires_in",DPe="refresh_token_expires_in",qU="state",HU="nonce",GU="prompt",NPe="session_state",QPe="client_info",VU="code",WU="code_challenge",YU="code_challenge_method",jU="code_verifier",$U="client-request-id",zU="x-client-SKU",KU="x-client-VER",JU="x-client-OS",XU="x-client-CPU",ZU="x-client-current-telemetry",eq="x-client-last-telemetry",tq="x-ms-lib-capability",rq="x-app-name",nq="x-app-ver",iq="post_logout_redirect_uri",oq="id_token_hint",sq="device_code",aq="client_secret",cq="client_assertion",lq="client_assertion_type",F8="token_type",L8="req_cnf",uq="assertion",fq="requested_token_use",PPe="on_behalf_of",FPe="foci",LPe="X-AnchorMailbox",M8="return_spa_code",dq="nativebroker",hq="logout_hint",Aq="sid",pq="login_hint",mq="domain_hint",MPe="x-client-xtra-sku",v_="brk_client_id",O8="brk_redirect_uri",NE="instance_aware",gq="ear_jwk",Cq="ear_jwe_crypto";function d1(t,e,r){if(!e)return;let n=t.get(Yu);n&&t.has(v_)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:t.get(P8)},e)}s(d1,"instrumentBrokerParams");function OPe(t,e){t.set(PU,e)}s(OPe,"addResponseType");function yq(t,e){t.set(FU,e||qu.QUERY)}s(yq,"addResponseMode");function UPe(t){t.set(dq,"1")}s(UPe,"addNativeBroker");function h1(t,e,r=!0,n=Ma){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");let o=r?[...e||[],...n]:e||[],a=new co(o);t.set(OU,a.printScopes())}s(h1,"addScopes");function A1(t,e){t.set(Yu,e)}s(A1,"addClientId");function p1(t,e){t.set(P8,e)}s(p1,"addRedirectUri");function Eq(t,e){t.set(iq,e)}s(Eq,"addPostLogoutRedirectUri");function Iq(t,e){t.set(oq,e)}s(Iq,"addIdTokenHint");function xq(t,e){t.set(mq,e)}s(xq,"addDomainHint");function QE(t,e){t.set(pq,e)}s(QE,"addLoginHint");function JA(t,e){t.set(Mn.CCS_HEADER,`UPN:${e}`)}s(JA,"addCcsUpn");function Fd(t,e){t.set(Mn.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}s(Fd,"addCcsOid");function U8(t,e){t.set("sid",e)}s(U8,"addSid");function m1(t,e,r){let n=hle(e,r);try{JSON.parse(n)}catch{throw wn($A)}t.set(MU,n)}s(m1,"addClaims");function g1(t,e){t.set($U,e)}s(g1,"addCorrelationId");function b_(t,e){t.set(zU,e.sku),t.set(KU,e.version),e.os&&t.set(JU,e.os),e.cpu&&t.set(XU,e.cpu)}s(b_,"addLibraryInfo");function __(t,e){e?.appName&&t.set(rq,e.appName),e?.appVersion&&t.set(nq,e.appVersion)}s(__,"addApplicationTelemetry");function vq(t,e){t.set(GU,e)}s(vq,"addPrompt");function T_(t,e){e&&t.set(qU,e)}s(T_,"addState");function bq(t,e){t.set(HU,e)}s(bq,"addNonce");function qPe(t,e,r){if(e&&r)t.set(WU,e),t.set(YU,r);else throw wn(a1)}s(qPe,"addCodeChallengeParams");function _q(t,e){t.set(VU,e)}s(_q,"addAuthorizationCode");function HPe(t,e){t.set(sq,e)}s(HPe,"addDeviceCode");function Tq(t,e){t.set(UU,e)}s(Tq,"addRefreshToken");function wq(t,e){t.set(jU,e)}s(wq,"addCodeVerifier");function w_(t,e){t.set(aq,e)}s(w_,"addClientSecret");function S_(t,e){e&&t.set(cq,e)}s(S_,"addClientAssertion");function B_(t,e){e&&t.set(lq,e)}s(B_,"addClientAssertionType");function GPe(t,e){t.set(uq,e)}s(GPe,"addOboAssertion");function VPe(t,e){t.set(fq,e)}s(VPe,"addRequestTokenUse");function R_(t,e){t.set(LU,e)}s(R_,"addGrantType");function C1(t){t.set(rle,"1")}s(C1,"addClientInfo");function k_(t){t.has(NE)||t.set(NE,"true")}s(k_,"addInstanceAware");function Ld(t,e){Object.entries(e).forEach(([r,n])=>{!t.has(r)&&n&&t.set(r,n)})}s(Ld,"addExtraQueryParameters");function hle(t,e){let r;if(!t)r={};else try{r=JSON.parse(t)}catch{throw wn($A)}return e&&e.length>0&&(r.hasOwnProperty(Pg.ACCESS_TOKEN)||(r[Pg.ACCESS_TOKEN]={}),r[Pg.ACCESS_TOKEN][Pg.XMS_CC]={values:e}),JSON.stringify(r)}s(hle,"addClientCapabilitiesToClaims");function WPe(t,e){t.set(Gb.username,e)}s(WPe,"addUsername");function YPe(t,e){t.set(Gb.password,e)}s(YPe,"addPassword");function D_(t,e){e&&(t.set(F8,Rr.POP),t.set(L8,e))}s(D_,"addPopToken");function N_(t,e){e&&(t.set(F8,Rr.SSH),t.set(L8,e))}s(N_,"addSshJwk");function Q_(t,e){t.set(ZU,e.generateCurrentRequestHeaderValue()),t.set(eq,e.generateLastRequestHeaderValue())}s(Q_,"addServerTelemetry");function P_(t){t.set(tq,Hu.X_MS_LIB_CAPABILITY_VALUE)}s(P_,"addThrottling");function Sq(t,e){t.set(hq,e)}s(Sq,"addLogoutHint");function Md(t,e,r){t.has(v_)||t.set(v_,e),t.has(O8)||t.set(O8,r)}s(Md,"addBrokerParameters");function jPe(t,e){t.set(gq,encodeURIComponent(e)),t.set(Cq,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}s(jPe,"addEARParameters");var H8={};Ei(H8,{createDiscoveredInstance:()=>Rq});d();d();d();function Ale(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}s(Ale,"isOpenIdConfigResponse");d();function ple(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}s(ple,"isCloudInstanceDiscoveryResponse");d();function mle(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}s(mle,"isCloudInstanceDiscoveryErrorResponse");d();d();var gle=s((t,e,r,n,o)=>(...a)=>{r.trace(`Executing function ${e}`);let c=n?.startMeasurement(e,o);if(o){let l=e+"CallCount";n?.incrementFields({[l]:1},o)}try{let l=t(...a);return c?.end({success:!0}),r.trace(`Returning result from ${e}`),l}catch(l){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(l))}catch{r.trace("Unable to print error message.")}throw c?.end({success:!1},l),l}},"invoke"),kr=s((t,e,r,n,o)=>(...a)=>{r.trace(`Executing function ${e}`);let c=n?.startMeasurement(e,o);if(o){let l=e+"CallCount";n?.incrementFields({[l]:1},o)}return n?.setPreQueueTime(e,o),t(...a).then(l=>(r.trace(`Returning result from ${e}`),c?.end({success:!0}),l)).catch(l=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(l))}catch{r.trace("Unable to print error message.")}throw c?.end({success:!1},l),l})},"invokeAsync");var F_=class t{static{s(this,"RegionDiscovery")}constructor(e,r,n,o){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=o}async detectRegion(e,r){this.performanceClient?.addQueueMeasurement(he.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=Lg.ENVIRONMENT_VARIABLE;else{let o=t.IMDS_OPTIONS;try{let a=await kr(this.getRegionFromIMDS.bind(this),he.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(me.IMDS_VERSION,o);if(a.status===Wt.SUCCESS&&(n=a.body,r.region_source=Lg.IMDS),a.status===Wt.BAD_REQUEST){let c=await kr(this.getCurrentVersion.bind(this),he.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!c)return r.region_source=Lg.FAILED_AUTO_DETECTION,null;let l=await kr(this.getRegionFromIMDS.bind(this),he.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(c,o);l.status===Wt.SUCCESS&&(n=l.body,r.region_source=Lg.IMDS)}}catch{return r.region_source=Lg.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=Lg.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){return this.performanceClient?.addQueueMeasurement(he.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${me.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,me.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(he.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=await this.networkInterface.sendGetRequestAsync(`${me.IMDS_ENDPOINT}?format=json`,e);return r.status===Wt.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}};F_.IMDS_OPTIONS={headers:{Metadata:"true"}};var Rl=class t{static{s(this,"Authority")}constructor(e,r,n,o,a,c,l,u){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=a,this.performanceClient=l,this.correlationId=c,this.managedIdentity=u||!1,this.regionDiscovery=new F_(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(me.CIAM_AUTH_URL))return B0.Ciam;let r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case me.ADFS:return B0.Adfs;case me.DSTS:return B0.Dsts}return B0.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new mr(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw _e(na)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw _e(na)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw _e(na)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw _e(Zg);return this.replacePath(this.metadata.end_session_endpoint)}else throw _e(na)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw _e(na)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw _e(na)}canReplaceTenant(e){return e.PathSegments.length===1&&!t.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===B0.Default&&this.protocolMode!==Ps.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e,o=new mr(this.metadata.canonical_authority).getUrlComponents(),a=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((l,u)=>{let f=a[u];if(u===0&&this.canReplaceTenant(o)){let h=new mr(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];f!==h&&(this.logger.verbose(`Replacing tenant domain name ${f} with id ${h}`),f=h)}l!==f&&(r=r.replace(`/${f}/`,`/${l}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===B0.Adfs||this.protocolMode===Ps.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(he.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),r=await kr(this.updateCloudDiscoveryMetadata.bind(this),he.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=await kr(this.updateEndpointMetadata.bind(this),he.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:S8(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==ra.CACHE&&n?.source!==ra.CACHE&&(e.expiresAt=S8(),e.canonical_authority=this.canonicalAuthority);let o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(he.AuthorityUpdateEndpointMetadata,this.correlationId);let r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===ra.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){let o=await kr(this.updateMetadataWithRegionalInformation.bind(this),he.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);BE(e,o,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await kr(this.getEndpointMetadataFromNetwork.bind(this),he.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await kr(this.updateMetadataWithRegionalInformation.bind(this),he.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),BE(e,n,!0),ra.NETWORK;throw _e(qg,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),BE(e,r,!1),{source:ra.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let o=this.getEndpointMetadataFromHardcodedValues();if(o)return BE(e,o,!1),{source:ra.HARDCODED_VALUES,metadata:o};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let n=B8(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:ra.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new mr(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw wn(c1)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(he.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{let n=await this.networkInterface.sendGetRequestAsync(r,e);return Ale(n.body)?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in RU?RU[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(he.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let r=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==me.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=v8.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,t.replaceWithRegionalInformation(e,r);let n=await kr(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),he.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=v8.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,t.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=v8.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(he.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;let n=await kr(this.getCloudDiscoveryMetadataFromNetwork.bind(this),he.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return u_(e,n,!0),ra.NETWORK;throw wn(l1)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||me.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||me.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||me.NOT_APPLICABLE}`);let r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),u_(e,r,!1),ra.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let o=lle(this.hostnameAndPort);if(o)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),u_(e,o,!1),ra.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let n=B8(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),ra.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===B0.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=E_(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),wn(zA)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(he.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${me.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={},n=null;try{let o=await this.networkInterface.sendGetRequestAsync(e,r),a,c;if(ple(o.body))a=o.body,c=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(mle(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),a=o.body,a.error===me.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),c=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=E_(c,this.hostnameAndPort)}catch(o){if(o instanceof Yt)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{let a=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&mr.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==Nd.None){let o=r.tenant?r.tenant:me.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${o}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return me.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw _e(na)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return DU.has(e)}static isPublicCloudAuthority(e){return me.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){let o=new mr(e);o.validateAsUri();let a=o.getUrlComponents(),c=`${r}.${a.HostNameAndPort}`;this.isPublicCloudAuthority(a.HostNameAndPort)&&(c=`${r}.${me.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let l=mr.constructAuthorityUriFromObject({...o.getUrlComponents(),HostNameAndPort:c}).urlString;return n?`${l}?${n}`:l}static replaceWithRegionalInformation(e,r){let n={...e};return n.authorization_endpoint=t.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=t.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=t.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e,o=new mr(e).getUrlComponents();if(o.PathSegments.length===0&&o.HostNameAndPort.endsWith(me.CIAM_AUTH_URL)){let a=o.HostNameAndPort.split(".")[0];r=`${r}${a}${me.AAD_TENANT_DOMAIN_SUFFIX}`}return r}};Rl.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Oa.COMMON,Oa.CONSUMERS,Oa.ORGANIZATIONS]);function Cle(t){let n=new mr(t).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case Oa.COMMON:case Oa.ORGANIZATIONS:case Oa.CONSUMERS:return;default:return n}}s(Cle,"getTenantFromAuthorityString");function q8(t){return t.endsWith(me.FORWARD_SLASH)?t:`${t}${me.FORWARD_SLASH}`}s(q8,"formatAuthorityUri");function Bq(t){let e=t.cloudDiscoveryMetadata,r;if(e)try{r=JSON.parse(e)}catch{throw wn(zA)}return{canonicalAuthority:t.authority?q8(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}s(Bq,"buildStaticAuthorityOptions");async function Rq(t,e,r,n,o,a,c){c?.addQueueMeasurement(he.AuthorityFactoryCreateDiscoveredInstance,a);let l=Rl.transformCIAMAuthority(q8(t)),u=new Rl(l,e,r,n,o,a,c);try{return await kr(u.resolveEndpointsAsync.bind(u),he.AuthorityResolveEndpointsAsync,o,c,a)(),u}catch{throw _e(na)}}s(Rq,"createDiscoveredInstance");d();d();var oa=class t extends Yt{static{s(this,"ServerError")}constructor(e,r,n,o,a){super(e,r,n),this.name="ServerError",this.errorNo=o,this.status=a,Object.setPrototypeOf(this,t.prototype)}};d();function PE(t,e,r){return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:r,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}s(PE,"getRequestThumbprint");var L_=class t{static{s(this,"ThrottlingUtils")}static generateThrottlingStorageKey(e){return`${Hu.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r,n){let o=t.generateThrottlingStorageKey(r),a=e.getThrottlingCache(o);if(a){if(a.throttleTime<Date.now()){e.removeItem(o,n);return}throw new oa(a.errorCodes?.join(" ")||me.EMPTY_STRING,a.errorMessage,a.subError)}}static postProcess(e,r,n,o){if(t.checkResponseStatus(n)||t.checkResponseForRetryAfter(n)){let a={throttleTime:t.calculateThrottleTime(parseInt(n.headers[Mn.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(t.generateThrottlingStorageKey(r),a,o)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Mn.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||Hu.DEFAULT_THROTTLE_TIME_SECONDS),n+Hu.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,o){let a=PE(r,n,o),c=this.generateThrottlingStorageKey(a);e.removeItem(c,n.correlationId)}};d();var G8=class t extends Yt{static{s(this,"NetworkError")}constructor(e,r,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,t.prototype),this.name="NetworkError",this.error=e,this.httpStatus=r,this.responseHeaders=n}};var cs=class{static{s(this,"BaseClient")}constructor(e,r){this.config=dle(e),this.logger=new Qc(this.config.loggerOptions,_8,wE),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){let r={};if(r[Mn.CONTENT_TYPE]=me.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ia.HOME_ACCOUNT_ID:try{let n=Vu(e.credential);r[Mn.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case ia.UPN:r[Mn.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,o,a,c){c&&this.performanceClient?.addQueueMeasurement(c,a);let l=await this.sendPostRequest(o,e,{body:r,headers:n},a);return this.config.serverTelemetryManager&&l.status<500&&l.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),l}async sendPostRequest(e,r,n,o){L_.preProcess(this.cacheManager,e,o);let a;try{a=await kr(this.networkClient.sendPostRequestAsync.bind(this.networkClient),he.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,o)(r,n);let c=a.headers||{};this.performanceClient?.addFields({refreshTokenSize:a.body.refresh_token?.length||0,httpVerToken:c[Mn.X_MS_HTTP_VERSION]||"",requestId:c[Mn.X_MS_REQUEST_ID]||""},o)}catch(c){if(c instanceof G8){let l=c.responseHeaders;throw l&&this.performanceClient?.addFields({httpVerToken:l[Mn.X_MS_HTTP_VERSION]||"",requestId:l[Mn.X_MS_REQUEST_ID]||"",contentTypeHeader:l[Mn.CONTENT_TYPE]||void 0,contentLengthHeader:l[Mn.CONTENT_LENGTH]||void 0,httpStatus:c.httpStatus},o),c.error}throw c instanceof Yt?c:_e(Ug)}return L_.postProcess(this.cacheManager,e,a,o),a}async updateAuthority(e,r){this.performanceClient?.addQueueMeasurement(he.UpdateTokenEndpointAuthority,r);let n=`https://${e}/${this.authority.tenant}/`,o=await Rq(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=o}createTokenQueryParameters(e){let r=new Map;return e.embeddedClientId&&Md(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Ld(r,e.tokenQueryParameters),g1(r,e.correlationId),d1(r,e.correlationId,this.performanceClient),Wu(r)}};d();d();var W8={};Ei(W8,{badToken:()=>ZA,consentRequired:()=>Dq,interactionRequired:()=>kq,loginRequired:()=>Nq,nativeAccountUnavailable:()=>M_,noTokensFound:()=>XA,refreshTokenExpired:()=>O_,uxNotAllowed:()=>V8});d();var XA="no_tokens_found",M_="native_account_unavailable",O_="refresh_token_expired",V8="ux_not_allowed",kq="interaction_required",Dq="consent_required",Nq="login_required",ZA="bad_token";var yle=[kq,Dq,Nq,ZA,V8],$Pe=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Y8={[XA]:"No refresh token found in the cache. Please sign-in.",[M_]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[O_]:"Refresh token has expired.",[ZA]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[V8]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."},Qq={noTokensFoundError:{code:XA,desc:Y8[XA]},native_account_unavailable:{code:M_,desc:Y8[M_]},bad_token:{code:ZA,desc:Y8[ZA]}},Fc=class t extends Yt{static{s(this,"InteractionRequiredAuthError")}constructor(e,r,n,o,a,c,l,u){super(e,r,n),Object.setPrototypeOf(this,t.prototype),this.timestamp=o||me.EMPTY_STRING,this.traceId=a||me.EMPTY_STRING,this.correlationId=c||me.EMPTY_STRING,this.claims=l||me.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=u}};function j8(t,e,r){let n=!!t&&yle.indexOf(t)>-1,o=!!r&&$Pe.indexOf(r)>-1,a=!!e&&yle.some(c=>e.indexOf(c)>-1);return n||a||o}s(j8,"isInteractionRequiredError");function $8(t){return new Fc(t,Y8[t])}s($8,"createInteractionRequiredAuthError");d();var z8=class t{static{s(this,"ProtocolUtils")}static setRequestState(e,r,n){let o=t.generateLibraryState(e,n);return r?`${o}${me.RESOURCE_DELIM}${r}`:o}static generateLibraryState(e,r){if(!e)throw _e(YA);let n={id:e.createNewGuid()};r&&(n.meta=r);let o=JSON.stringify(n);return e.base64Encode(o)}static parseRequestState(e,r){if(!e)throw _e(YA);if(!r)throw _e(Bl);try{let n=r.split(me.RESOURCE_DELIM),o=n[0],a=n.length>1?n.slice(1).join(me.RESOURCE_DELIM):me.EMPTY_STRING,c=e.base64Decode(o),l=JSON.parse(c);return{userRequestState:a||me.EMPTY_STRING,libraryState:l}}catch{throw _e(Bl)}}};d();var zPe={SW:"sw"},ep=class{static{s(this,"PopTokenGenerator")}constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){this.performanceClient?.addQueueMeasurement(he.PopTokenGenerateCnf,e.correlationId);let n=await kr(this.generateKid.bind(this),he.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:o}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(he.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:zPe.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,o){let{resourceRequestMethod:a,resourceRequestUri:c,shrClaims:l,shrNonce:u,shrOptions:f}=n,A=(c?new mr(c):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Pc(),m:a?.toUpperCase(),u:A?.HostNameAndPort,nonce:u||this.cryptoUtils.createNewGuid(),p:A?.AbsolutePath,q:A?.QueryString?[[],A.QueryString]:void 0,client_claims:l||void 0,...o},r,f,n.correlationId)}};d();var Lc=class{static{s(this,"TokenCacheContext")}constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};var Yi=class t{static{s(this,"ResponseHandler")}constructor(e,r,n,o,a,c,l){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=o,this.serializableCache=a,this.persistencePlugin=c,this.performanceClient=l}validateTokenResponse(e,r){if(e.error||e.error_description||e.suberror){let n=`Error(s): ${e.error_codes||me.NOT_AVAILABLE} - Timestamp: ${e.timestamp||me.NOT_AVAILABLE} - Description: ${e.error_description||me.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||me.NOT_AVAILABLE} - Trace ID: ${e.trace_id||me.NOT_AVAILABLE}`,o=e.error_codes?.length?e.error_codes[0]:void 0,a=new oa(e.error,n,e.suberror,o,e.status);if(r&&e.status&&e.status>=Wt.SERVER_ERROR_RANGE_START&&e.status<=Wt.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(r&&e.status&&e.status>=Wt.CLIENT_ERROR_RANGE_START&&e.status<=Wt.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw j8(e.error,e.error_description,e.suberror)?new Fc(e.error,e.error_description,e.suberror,e.timestamp||me.EMPTY_STRING,e.trace_id||me.EMPTY_STRING,e.correlation_id||me.EMPTY_STRING,e.claims||me.EMPTY_STRING,o):a}}async handleServerTokenResponse(e,r,n,o,a,c,l,u,f){this.performanceClient?.addQueueMeasurement(he.HandleServerTokenResponse,e.correlation_id);let h;if(e.id_token){if(h=Qd(e.id_token||me.EMPTY_STRING,this.cryptoObj.base64Decode),a&&a.nonce&&h.nonce!==a.nonce)throw _e(Vg);if(o.maxAge||o.maxAge===0){let g=h.auth_time;if(!g)throw _e(Bd);a_(g,o.maxAge)}}this.homeAccountIdentifier=ss.generateHomeAccountId(e.client_info||me.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,h);let A;a&&a.state&&(A=z8.parseRequestState(this.cryptoObj,a.state)),e.key_id=e.key_id||o.sshKid||void 0;let p=this.generateCacheRecord(e,r,n,o,h,c,a),m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new Lc(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),l&&!u&&p.account){let g=p.account.generateAccountKey();if(!this.cacheStorage.getAccount(g,o.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await t.generateAuthenticationResult(this.cryptoObj,r,p,!1,o,h,A,void 0,f)}await this.cacheStorage.saveCacheRecord(p,o.correlationId,o.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return t.generateAuthenticationResult(this.cryptoObj,r,p,!1,o,h,A,e,f)}generateCacheRecord(e,r,n,o,a,c,l){let u=r.getPreferredCache();if(!u)throw _e(kd);let f=k8(a),h,A;e.id_token&&a&&(h=_U(this.homeAccountIdentifier,u,e.id_token,this.clientId,f||""),A=Ele(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o.correlationId,a,e.client_info,u,f,l,void 0,this.logger));let p=null;if(e.access_token){let y=e.scope?co.fromString(e.scope):new co(o.scopes||[]),E=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,I=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,x=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,v=n+E,b=v+I,_=x&&x>0?n+x:void 0;p=TU(this.homeAccountIdentifier,u,e.access_token,this.clientId,f||r.tenant||"",y.printScopes(),v,b,this.cryptoObj.base64Decode,_,e.token_type,c,e.key_id,o.claims,o.requestedClaimsHash)}let m=null;if(e.refresh_token){let y;if(e.refresh_token_expires_in){let E=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;y=n+E}m=wU(this.homeAccountIdentifier,u,e.refresh_token,this.clientId,e.foci,c,y)}let g=null;return e.foci&&(g={clientId:this.clientId,environment:u,familyId:e.foci}),{account:A,idToken:h,accessToken:p,refreshToken:m,appMetadata:g}}static async generateAuthenticationResult(e,r,n,o,a,c,l,u,f){let h=me.EMPTY_STRING,A=[],p=null,m,g,y=me.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===Rr.POP&&!a.popKid){let v=new ep(e),{secret:b,keyId:_}=n.accessToken;if(!_)throw _e(e1);h=await v.signPopToken(b,_,a)}else h=n.accessToken.secret;A=co.fromString(n.accessToken.target).asArray(),p=c_(n.accessToken.expiresOn),m=c_(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(g=c_(n.accessToken.refreshOn))}n.appMetadata&&(y=n.appMetadata.familyId===Sd?Sd:"");let E=c?.oid||c?.sub||"",I=c?.tid||"";u?.spa_accountid&&n.account&&(n.account.nativeAccountId=u?.spa_accountid);let x=n.account?R8(n.account.getAccountInfo(),void 0,c,n.idToken?.secret):null;return{authority:r.canonicalAuthority,uniqueId:E,tenantId:I,scopes:A,account:x,idToken:n?.idToken?.secret||"",idTokenClaims:c||{},accessToken:h,fromCache:o,expiresOn:p,extExpiresOn:m,refreshOn:g,correlationId:a.correlationId,requestId:f||me.EMPTY_STRING,familyId:y,tokenType:n.accessToken?.tokenType||me.EMPTY_STRING,state:l?l.userRequestState:me.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||me.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||me.EMPTY_STRING,code:u?.spa_code,fromNativeBroker:!1}}};function Ele(t,e,r,n,o,a,c,l,u,f,h,A){A?.verbose("setCachedAccount called");let m=t.getAccountKeys().find(x=>x.startsWith(r)),g=null;m&&(g=t.getAccount(m,o));let y=g||ss.createAccount({homeAccountId:r,idTokenClaims:a,clientInfo:c,environment:l,cloudGraphHostName:f?.cloud_graph_host_name,msGraphHost:f?.msgraph_host,nativeAccountId:h},e,n),E=y.tenantProfiles||[],I=u||y.realm;if(I&&!E.find(x=>x.tenantId===I)){let x=y_(r,y.localAccountId,I,a);E.push(x)}return y.tenantProfiles=E,y}s(Ele,"buildAccountToCache");d();async function sa(t,e,r){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})}s(sa,"getClientAssertion");var U_=class extends cs{static{s(this,"AuthorizationCodeClient")}constructor(e,r){super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,r){if(this.performanceClient?.addQueueMeasurement(he.AuthClientAcquireToken,e.correlationId),!e.code)throw _e(jg);let n=Pc(),o=await kr(this.executeTokenRequest.bind(this),he.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=o.headers?.[Mn.X_MS_REQUEST_ID],c=new Yi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return c.validateTokenResponse(o.body),kr(c.handleServerTokenResponse.bind(c),he.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,n,e,r,void 0,void 0,void 0,a)}getLogoutUri(e){if(!e)throw wn(s1);let r=this.createLogoutUrlQueryString(e);return mr.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(he.AuthClientExecuteTokenRequest,r.correlationId);let n=this.createTokenQueryParameters(r),o=mr.appendQueryString(e.tokenEndpoint,n),a=await kr(this.createTokenRequestBody.bind(this),he.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r),c;if(r.clientInfo)try{let f=DE(r.clientInfo,this.cryptoUtils.base64Decode);c={credential:`${f.uid}${Ni.CLIENT_INFO_SEPARATOR}${f.utid}`,type:ia.HOME_ACCOUNT_ID}}catch(f){this.logger.verbose("Could not parse client info for CCS Header: "+f)}let l=this.createTokenRequestHeaders(c||r.ccsCredential),u=PE(this.config.authOptions.clientId,r);return kr(this.executePostToTokenEndpoint.bind(this),he.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(o,a,l,u,r.correlationId,he.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(he.AuthClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(A1(r,e.embeddedClientId||e.tokenBodyParameters?.[Yu]||this.config.authOptions.clientId),this.includeRedirectUri)p1(r,e.redirectUri);else if(!e.redirectUri)throw wn(t1);if(h1(r,e.scopes,!0,this.oidcDefaultScopes),_q(r,e.code),b_(r,this.config.libraryInfo),__(r,this.config.telemetry.application),P_(r),this.serverTelemetryManager&&!Q8(this.config)&&Q_(r,this.serverTelemetryManager),e.codeVerifier&&wq(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&w_(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let o=this.config.clientCredentials.clientAssertion;S_(r,await sa(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),B_(r,o.assertionType)}if(R_(r,Ua.AUTHORIZATION_CODE_GRANT),C1(r),e.authenticationScheme===Rr.POP){let o=new ep(this.cryptoUtils,this.performanceClient),a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await kr(o.generateCnf.bind(o),he.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,D_(r,a)}else if(e.authenticationScheme===Rr.SSH)if(e.sshJwk)N_(r,e.sshJwk);else throw wn(Pd);(!di.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&m1(r,e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{let o=DE(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${o.uid}${Ni.CLIENT_INFO_SEPARATOR}${o.utid}`,type:ia.HOME_ACCOUNT_ID}}catch(o){this.logger.verbose("Could not parse client info for CCS Header: "+o)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case ia.HOME_ACCOUNT_ID:try{let o=Vu(n.credential);Fd(r,o)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case ia.UPN:JA(r,n.credential);break}return e.embeddedClientId&&Md(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Ld(r,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[M8])&&Ld(r,{[M8]:"1"}),d1(r,e.correlationId,this.performanceClient),Wu(r)}createLogoutUrlQueryString(e){let r=new Map;return e.postLogoutRedirectUri&&Eq(r,e.postLogoutRedirectUri),e.correlationId&&g1(r,e.correlationId),e.idTokenHint&&Iq(r,e.idTokenHint),e.state&&T_(r,e.state),e.logoutHint&&Sq(r,e.logoutHint),e.extraQueryParameters&&Ld(r,e.extraQueryParameters),this.config.authOptions.instanceAware&&k_(r),Wu(r,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}};d();var KPe=300,y1=class extends cs{static{s(this,"RefreshTokenClient")}constructor(e,r){super(e,r)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(he.RefreshTokenClientAcquireToken,e.correlationId);let r=Pc(),n=await kr(this.executeTokenRequest.bind(this),he.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=n.headers?.[Mn.X_MS_REQUEST_ID],a=new Yi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(n.body),kr(a.handleServerTokenResponse.bind(a),he.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){if(!e)throw wn(o1);if(this.performanceClient?.addQueueMeasurement(he.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw _e(Rd);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await kr(this.acquireTokenWithCachedRefreshToken.bind(this),he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){let o=n instanceof Fc&&n.errorCode===XA,a=n instanceof oa&&n.errorCode===Hb.INVALID_GRANT_ERROR&&n.subError===Hb.CLIENT_MISMATCH_ERROR;if(o||a)return kr(this.acquireTokenWithCachedRefreshToken.bind(this),he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return kr(this.acquireTokenWithCachedRefreshToken.bind(this),he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){this.performanceClient?.addQueueMeasurement(he.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=gle(this.cacheManager.getRefreshToken.bind(this.cacheManager),he.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,e.correlationId,void 0,this.performanceClient);if(!n)throw $8(XA);if(n.expiresOn&&SE(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||KPe))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),$8(O_);let o={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Rr.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ia.HOME_ACCOUNT_ID}};try{return await kr(this.acquireToken.bind(this),he.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(o)}catch(a){if(a instanceof Fc&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),a.subError===ZA)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let c=l_(n);this.cacheManager.removeRefreshToken(c,e.correlationId)}throw a}}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(he.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),o=mr.appendQueryString(r.tokenEndpoint,n),a=await kr(this.createTokenRequestBody.bind(this),he.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),c=this.createTokenRequestHeaders(e.ccsCredential),l=PE(this.config.authOptions.clientId,e);return kr(this.executePostToTokenEndpoint.bind(this),he.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(o,a,c,l,e.correlationId,he.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(he.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(A1(r,e.embeddedClientId||e.tokenBodyParameters?.[Yu]||this.config.authOptions.clientId),e.redirectUri&&p1(r,e.redirectUri),h1(r,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),R_(r,Ua.REFRESH_TOKEN_GRANT),C1(r),b_(r,this.config.libraryInfo),__(r,this.config.telemetry.application),P_(r),this.serverTelemetryManager&&!Q8(this.config)&&Q_(r,this.serverTelemetryManager),Tq(r,e.refreshToken),this.config.clientCredentials.clientSecret&&w_(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let n=this.config.clientCredentials.clientAssertion;S_(r,await sa(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),B_(r,n.assertionType)}if(e.authenticationScheme===Rr.POP){let n=new ep(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await kr(n.generateCnf.bind(n),he.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,D_(r,o)}else if(e.authenticationScheme===Rr.SSH)if(e.sshJwk)N_(r,e.sshJwk);else throw wn(Pd);if((!di.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&m1(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ia.HOME_ACCOUNT_ID:try{let n=Vu(e.ccsCredential.credential);Fd(r,n)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case ia.UPN:JA(r,e.ccsCredential.credential);break}return e.embeddedClientId&&Md(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Ld(r,e.tokenBodyParameters),d1(r,e.correlationId,this.performanceClient),Wu(r)}};d();var q_=class extends cs{static{s(this,"SilentFlowClient")}constructor(e,r){super(e,r)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(he.SilentFlowClientAcquireCachedToken,e.correlationId);let r=Rn.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!di.isEmptyObj(e.claims))throw this.setCacheOutcome(Rn.FORCE_REFRESH_OR_CLAIMS,e.correlationId),_e(Dd);if(!e.account)throw _e(Rd);let n=e.account.tenantId||Cle(e.authority),o=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,o,n);if(a){if(bU(a.cachedAt)||SE(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Rn.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),_e(Dd);a.refreshOn&&SE(a.refreshOn,0)&&(r=Rn.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Rn.NO_CACHED_ACCESS_TOKEN,e.correlationId),_e(Dd);let c=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,o,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(c)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await kr(this.generateResultFromCacheRecord.bind(this),he.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(l,e),r]}setCacheOutcome(e,r){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},r),e!==Rn.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){this.performanceClient?.addQueueMeasurement(he.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=Qd(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){let o=n?.auth_time;if(!o)throw _e(Bd);a_(o,r.maxAge)}return Yi.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}};var H_={};Ei(H_,{getAuthorizationCodePayload:()=>ZPe,getAuthorizeUrl:()=>XPe,getStandardAuthorizeRequestParameters:()=>JPe,validateAuthorizationResponse:()=>Ile});d();function JPe(t,e,r,n){let o=e.correlationId,a=new Map;A1(a,e.embeddedClientId||e.extraQueryParameters?.[Yu]||t.clientId);let c=[...e.scopes||[],...e.extraScopesToConsent||[]];if(h1(a,c,!0,t.authority.options.OIDCOptions?.defaultScopes),p1(a,e.redirectUri),g1(a,o),yq(a,e.responseMode),C1(a),e.prompt&&(vq(a,e.prompt),n?.addFields({prompt:e.prompt},o)),e.domainHint&&(xq(a,e.domainHint),n?.addFields({domainHintFromRequest:!0},o)),e.prompt!==qA.SELECT_ACCOUNT)if(e.sid&&e.prompt===qA.NONE)r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),U8(a,e.sid),n?.addFields({sidFromRequest:!0},o);else if(e.account){let l=tFe(e.account),u=rFe(e.account);if(u&&e.domainHint&&(r.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),u=null),u){r.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),QE(a,u),n?.addFields({loginHintFromClaim:!0},o);try{let f=Vu(e.account.homeAccountId);Fd(a,f)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(l&&e.prompt===qA.NONE){r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),U8(a,l),n?.addFields({sidFromClaim:!0},o);try{let f=Vu(e.account.homeAccountId);Fd(a,f)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)r.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),QE(a,e.loginHint),JA(a,e.loginHint),n?.addFields({loginHintFromRequest:!0},o);else if(e.account.username){r.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),QE(a,e.account.username),n?.addFields({loginHintFromUpn:!0},o);try{let f=Vu(e.account.homeAccountId);Fd(a,f)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(r.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),QE(a,e.loginHint),JA(a,e.loginHint),n?.addFields({loginHintFromRequest:!0},o));else r.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&bq(a,e.nonce),e.state&&T_(a,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&m1(a,e.claims,t.clientCapabilities),e.embeddedClientId&&Md(a,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(NE))&&k_(a),a}s(JPe,"getStandardAuthorizeRequestParameters");function XPe(t,e,r,n){let o=Wu(e,r,n);return mr.appendQueryString(t.authorizationEndpoint,o)}s(XPe,"getAuthorizeUrl");function ZPe(t,e){if(Ile(t,e),!t.code)throw _e(Xg);return t}s(ZPe,"getAuthorizationCodePayload");function Ile(t,e){if(!t.state||!e)throw t.state?_e(VA,"Cached State"):_e(VA,"Server State");let r,n;try{r=decodeURIComponent(t.state)}catch{throw _e(Bl,t.state)}try{n=decodeURIComponent(e)}catch{throw _e(Bl,t.state)}if(r!==n)throw _e(Gg);if(t.error||t.error_description||t.suberror){let o=eFe(t);throw j8(t.error,t.error_description,t.suberror)?new Fc(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",o):new oa(t.error||"",t.error_description,t.suberror,o)}}s(Ile,"validateAuthorizationResponse");function eFe(t){let e="code=",r=t.error_uri?.lastIndexOf(e);return r&&r>=0?t.error_uri?.substring(r+e.length):void 0}s(eFe,"parseServerErrorNo");function tFe(t){return t.idTokenClaims?.sid||null}s(tFe,"extractAccountSid");function rFe(t){return t.idTokenClaims?.login_hint||null}s(rFe,"extractLoginHint");d();var xle=",",vle="|";function nFe(t){let{skus:e,libraryName:r,libraryVersion:n,extensionName:o,extensionVersion:a}=t,c=new Map([[0,[r,n]],[2,[o,a]]]),l=[];if(e?.length){if(l=e.split(xle),l.length<4)return e}else l=Array.from({length:4},()=>vle);return c.forEach((u,f)=>{u.length===2&&u[0]?.length&&u[1]?.length&&iFe({skuArr:l,index:f,skuName:u[0],skuVersion:u[1]})}),l.join(xle)}s(nFe,"makeExtraSkuString");function iFe(t){let{skuArr:e,index:r,skuName:n,skuVersion:o}=t;r>=e.length||(e[r]=[n,o].join(vle))}s(iFe,"setSku");var E1=class t{static{s(this,"ServerTelemetryManager")}constructor(e,r){this.cacheOutcome=Rn.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||me.EMPTY_STRING,this.wrapperVer=e.wrapperVer||me.EMPTY_STRING,this.telemetryCacheKey=_o.CACHE_KEY+Ni.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${_o.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&r.push(`broker_error=${n}`);let o=r.join(_o.VALUE_SEPARATOR),a=this.getRegionDiscoveryFields(),c=[e,a].join(_o.VALUE_SEPARATOR);return[_o.SCHEMA_VERSION,c,o].join(_o.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(_o.VALUE_SEPARATOR),o=e.errors.slice(0,r).join(_o.VALUE_SEPARATOR),a=e.errors.length,c=r<a?_o.OVERFLOW_TRUE:_o.OVERFLOW_FALSE,l=[a,c].join(_o.VALUE_SEPARATOR);return[_o.SCHEMA_VERSION,e.cacheHits,n,o,l].join(_o.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let r=this.getLastRequests();r.errors.length>=_o.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Yt?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(_o.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{let o={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o,this.correlationId)}}static maxErrorsToSend(e){let r,n=0,o=0,a=e.errors.length;for(r=0;r<a;r++){let c=e.failedRequests[2*r]||me.EMPTY_STRING,l=e.failedRequests[2*r+1]||me.EMPTY_STRING,u=e.errors[r]||me.EMPTY_STRING;if(o+=c.toString().length+l.toString().length+u.length+3,o<_o.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||me.EMPTY_STRING),e.push(this.regionSource||me.EMPTY_STRING),e.push(this.regionOutcome||me.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return nFe(e)}};var Od=class{static{s(this,"Deserializer")}static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,realm:o.realm,localAccountId:o.local_account_id,username:o.username,authorityType:o.authority_type,name:o.name,clientInfo:o.client_info,lastModificationTime:o.last_modification_time,lastModificationApp:o.last_modification_app,tenantProfiles:o.tenantProfiles?.map(l=>JSON.parse(l))},c=new ss;KA.toObject(c,a),r[n]=c}),r}static deserializeIdTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm};r[n]=a}),r}static deserializeAccessTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm,target:o.target,cachedAt:o.cached_at,expiresOn:o.expires_on,extendedExpiresOn:o.extended_expires_on,refreshOn:o.refresh_on,keyId:o.key_id,tokenType:o.token_type,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash};r[n]=a}),r}static deserializeRefreshTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,familyId:o.family_id,target:o.target,realm:o.realm};r[n]=a}),r}static deserializeAppMetadata(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n];r[n]={clientId:o.client_id,environment:o.environment,familyId:o.family_id}}),r}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}};d();d();var ble="system_assigned_managed_identity",uFe="managed_identity",Fq=`https://login.microsoftonline.com/${uFe}/`,qa={AUTHORIZATION_HEADER_NAME:"Authorization",METADATA_HEADER_NAME:"Metadata",APP_SERVICE_SECRET_HEADER_NAME:"X-IDENTITY-HEADER",ML_AND_SF_SECRET_HEADER_NAME:"secret"},lo={API_VERSION:"api-version",RESOURCE:"resource",SHA256_TOKEN_TO_REFRESH:"token_sha256_to_refresh",XMS_CC:"xms_cc"},Pt={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",DEFAULT_IDENTITY_CLIENT_ID:"DEFAULT_IDENTITY_CLIENT_ID",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IDENTITY_HEADER:"IDENTITY_HEADER",IDENTITY_SERVER_THUMBPRINT:"IDENTITY_SERVER_THUMBPRINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT",MSI_SECRET:"MSI_SECRET"},Mt={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",MACHINE_LEARNING:"MachineLearning",SERVICE_FABRIC:"ServiceFabric"},vi={SYSTEM_ASSIGNED:"system-assigned",USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},Xn={GET:"get",POST:"post"},K8={SUCCESS_RANGE_START:Wt.SUCCESS_RANGE_START,SUCCESS_RANGE_END:Wt.SUCCESS_RANGE_END,SERVER_ERROR:Wt.SERVER_ERROR},_le="REGION_NAME",Tle="MSAL_FORCE_REGION",wle=32,Sle={SHA256:"sha256"},J8={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},wo={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},Ud={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},R0={RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},X8={INTERVAL_MS:100,TIMEOUT_MS:5e3},Ble=4096;d();d();d();d();var FE=class{static{s(this,"NetworkUtils")}static getNetworkResponse(e,r,n){return{headers:e,body:r,status:n}}static urlToHttpOptions(e){let r={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return e.port!==""&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),r}};var Z8=We(require("http"),1),Lq=We(require("https"),1);var LE=class{static{s(this,"HttpClient")}constructor(e,r){this.proxyUrl=e||"",this.customAgentOptions=r||{}}async sendGetRequestAsync(e,r,n){return this.proxyUrl?Rle(e,this.proxyUrl,Xn.GET,r,this.customAgentOptions,n):kle(e,Xn.GET,r,this.customAgentOptions,n)}async sendPostRequestAsync(e,r){return this.proxyUrl?Rle(e,this.proxyUrl,Xn.POST,r,this.customAgentOptions):kle(e,Xn.POST,r,this.customAgentOptions)}},Rle=s((t,e,r,n,o,a)=>{let c=new URL(t),l=new URL(e),u=n?.headers||{},f={host:l.hostname,port:l.port,method:"CONNECT",path:c.hostname,headers:u};o&&Object.keys(o).length&&(f.agent=new Z8.default.Agent(o));let h="";if(r===Xn.POST){let p=n?.body||"";h=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${p.length}\r
\r
${p}`}else a&&(f.timeout=a);let A=`${r.toUpperCase()} ${c.href} HTTP/1.1\r
Host: ${c.host}\r
Connection: close\r
`+h+`\r
`;return new Promise((p,m)=>{let g=Z8.default.request(f);a&&g.on("timeout",()=>{g.destroy(),m(new Error("Request time out"))}),g.end(),g.on("connect",(y,E)=>{let I=y?.statusCode||K8.SERVER_ERROR;(I<K8.SUCCESS_RANGE_START||I>K8.SUCCESS_RANGE_END)&&(g.destroy(),E.destroy(),m(new Error(`Error connecting to proxy. Http status code: ${y.statusCode}. Http status message: ${y?.statusMessage||"Unknown"}`))),E.write(A);let x=[];E.on("data",v=>{x.push(v)}),E.on("end",()=>{let b=Buffer.concat([...x]).toString().split(`\r
`),_=parseInt(b[0].split(" ")[1]),S=b[0].split(" ").slice(2).join(" "),w=b[b.length-1],L=b.slice(1,b.length-2),M=new Map;L.forEach(W=>{let R=W.split(new RegExp(/:\s(.*)/s)),Q=R[0],q=R[1];try{let U=JSON.parse(q);U&&typeof U=="object"&&(q=U)}catch{}M.set(Q,q)});let D=Object.fromEntries(M),O=FE.getNetworkResponse(D,Dle(_,S,D,w),_);(_<Wt.SUCCESS_RANGE_START||_>Wt.SUCCESS_RANGE_END)&&O.body.error!==wo.AUTHORIZATION_PENDING&&g.destroy(),p(O)}),E.on("error",v=>{g.destroy(),E.destroy(),m(new Error(v.toString()))})}),g.on("error",y=>{g.destroy(),m(new Error(y.toString()))})})},"networkRequestViaProxy"),kle=s((t,e,r,n,o)=>{let a=e===Xn.POST,c=r?.body||"",l=new URL(t),u=r?.headers||{},f={method:e,headers:u,...FE.urlToHttpOptions(l)};return n&&Object.keys(n).length&&(f.agent=new Lq.default.Agent(n)),a?f.headers={...f.headers,"Content-Length":c.length}:o&&(f.timeout=o),new Promise((h,A)=>{let p;f.protocol==="http:"?p=Z8.default.request(f):p=Lq.default.request(f),a&&p.write(c),o&&p.on("timeout",()=>{p.destroy(),A(new Error("Request time out"))}),p.end(),p.on("response",m=>{let g=m.headers,y=m.statusCode,E=m.statusMessage,I=[];m.on("data",x=>{I.push(x)}),m.on("end",()=>{let x=Buffer.concat([...I]).toString(),v=g,b=FE.getNetworkResponse(v,Dle(y,E,v,x),y);(y<Wt.SUCCESS_RANGE_START||y>Wt.SUCCESS_RANGE_END)&&b.body.error!==wo.AUTHORIZATION_PENDING&&p.destroy(),h(b)})}),p.on("error",m=>{p.destroy(),A(new Error(m.toString()))})})},"networkRequestViaHttps"),Dle=s((t,e,r,n)=>{let o;try{o=JSON.parse(n)}catch{let c,l;t>=Wt.CLIENT_ERROR_RANGE_START&&t<=Wt.CLIENT_ERROR_RANGE_END?(c="client_error",l="A client"):t>=Wt.SERVER_ERROR_RANGE_START&&t<=Wt.SERVER_ERROR_RANGE_END?(c="server_error",l="A server"):(c="unknown_error",l="An unknown"),o={error:c,error_description:`${l} error occured.
Http status code: ${t}
Http status message: ${e||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return o},"parseBody");d();d();d();var eR="invalid_file_extension",tR="invalid_file_path",tp="invalid_managed_identity_id_type",rR="invalid_secret",Nle="missing_client_id",Qle="network_unavailable",nR="platform_not_supported",iR="unable_to_create_azure_arc",oR="unable_to_create_cloud_shell",sR="unable_to_create_source",G_="unable_to_read_secret_file",Ple="user_assigned_not_available_at_runtime",aR="www_authenticate_header_missing",cR="www_authenticate_header_unsupported_format",I1={[Pt.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[Pt.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[Pt.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[Pt.MSI_ENDPOINT]:"msi_endpoint_url_malformed"};var fFe={[eR]:"The file path in the WWW-Authenticate header does not contain a .key file.",[tR]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[tp]:"More than one ManagedIdentityIdType was provided.",[rR]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[nR]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",[Nle]:"A ManagedIdentityId id was not provided.",[I1.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${Pt.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[I1.IDENTITY_ENDPOINT]:`The Managed Identity's '${Pt.IDENTITY_ENDPOINT}' environment variable is malformed.`,[I1.IMDS_ENDPOINT]:`The Managed Identity's '${Pt.IMDS_ENDPOINT}' environment variable is malformed.`,[I1.MSI_ENDPOINT]:`The Managed Identity's '${Pt.MSI_ENDPOINT}' environment variable is malformed.`,[Qle]:"Authentication unavailable. The request to the managed identity endpoint timed out.",[iR]:"Azure Arc Managed Identities can only be system assigned.",[oR]:"Cloud Shell Managed Identities can only be system assigned.",[sR]:"Unable to create a Managed Identity source based on environment variables.",[G_]:"Unable to read the secret file.",[Ple]:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[aR]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[cR]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."},Mq=class t extends Yt{static{s(this,"ManagedIdentityError")}constructor(e){super(e,fFe[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,t.prototype)}};function ji(t){return new Mq(t)}s(ji,"createManagedIdentityError");var lR=class{static{s(this,"ManagedIdentityId")}get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let r=e?.userAssignedClientId,n=e?.userAssignedResourceId,o=e?.userAssignedObjectId;if(r){if(n||o)throw ji(tp);this.id=r,this.idType=vi.USER_ASSIGNED_CLIENT_ID}else if(n){if(r||o)throw ji(tp);this.id=n,this.idType=vi.USER_ASSIGNED_RESOURCE_ID}else if(o){if(r||n)throw ji(tp);this.id=o,this.idType=vi.USER_ASSIGNED_OBJECT_ID}else this.id=ble,this.idType=vi.SYSTEM_ASSIGNED}};d();var Uo={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}},Ha=class t extends Yt{static{s(this,"NodeAuthError")}constructor(e,r){super(e,r),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new t(Uo.invalidLoopbackAddressType.code,`${Uo.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new t(Uo.unableToLoadRedirectUri.code,`${Uo.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new t(Uo.noAuthCodeInResponse.code,`${Uo.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new t(Uo.noLoopbackServerExists.code,`${Uo.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new t(Uo.loopbackServerAlreadyExists.code,`${Uo.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new t(Uo.loopbackServerTimeout.code,`${Uo.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new t(Uo.stateNotFoundError.code,Uo.stateNotFoundError.desc)}static createThumbprintMissingError(){return new t(Uo.thumbprintMissing.code,Uo.thumbprintMissing.desc)}};var dFe={clientId:me.EMPTY_STRING,authority:me.DEFAULT_AUTHORITY,clientSecret:me.EMPTY_STRING,clientAssertion:me.EMPTY_STRING,clientCertificate:{thumbprint:me.EMPTY_STRING,thumbprintSha256:me.EMPTY_STRING,privateKey:me.EMPTY_STRING,x5c:me.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:me.EMPTY_STRING,authorityMetadata:me.EMPTY_STRING,clientCapabilities:[],protocolMode:Ps.AAD,azureCloudOptions:{azureCloudInstance:Nd.None,tenant:me.EMPTY_STRING},skipAuthorityMetadataCache:!1,encodeExtraQueryParams:!1},hFe={claimsBasedCachingEnabled:!1},Oq={loggerCallback:s(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:xi.Info},AFe={loggerOptions:Oq,networkClient:new LE,proxyUrl:me.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},pFe={application:{appName:me.EMPTY_STRING,appVersion:me.EMPTY_STRING}};function Fle({auth:t,broker:e,cache:r,system:n,telemetry:o}){let a={...AFe,networkClient:new LE(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||Oq,disableInternalRetries:n?.disableInternalRetries||!1};if(t.clientCertificate&&!t.clientCertificate.thumbprint&&!t.clientCertificate.thumbprintSha256)throw Ha.createStateNotFoundError();return{auth:{...dFe,...t},broker:{...e},cache:{...hFe,...r},system:{...a,...n},telemetry:{...pFe,...o}}}s(Fle,"buildAppConfiguration");function Lle({clientCapabilities:t,managedIdentityIdParams:e,system:r}){let n=new lR(e),o=r?.loggerOptions||Oq,a;return r?.networkClient?a=r.networkClient:a=new LE(r?.proxyUrl,r?.customAgentOptions),{clientCapabilities:t||[],managedIdentityId:n,system:{loggerOptions:o,networkClient:a},disableInternalRetries:r?.disableInternalRetries||!1}}s(Lle,"buildManagedIdentityConfiguration");d();d();d();d();var Mle=We(require("crypto"));var fR=new Uint8Array(256),uR=fR.length;function Uq(){return uR>fR.length-16&&(Mle.default.randomFillSync(fR),uR=0),fR.slice(uR,uR+=16)}s(Uq,"rng");d();d();d();var Ole=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mFe(t){return typeof t=="string"&&Ole.test(t)}s(mFe,"validate");var Ule=mFe;var ls=[];for(let t=0;t<256;++t)ls.push((t+256).toString(16).substr(1));function gFe(t,e=0){let r=(ls[t[e+0]]+ls[t[e+1]]+ls[t[e+2]]+ls[t[e+3]]+"-"+ls[t[e+4]]+ls[t[e+5]]+"-"+ls[t[e+6]]+ls[t[e+7]]+"-"+ls[t[e+8]]+ls[t[e+9]]+"-"+ls[t[e+10]]+ls[t[e+11]]+ls[t[e+12]]+ls[t[e+13]]+ls[t[e+14]]+ls[t[e+15]]).toLowerCase();if(!Ule(r))throw TypeError("Stringified UUID is invalid");return r}s(gFe,"stringify");var qle=gFe;d();function CFe(t,e,r){t=t||{};let n=t.random||(t.rng||Uq)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return qle(n)}s(CFe,"v4");var qq=CFe;var ME=class{static{s(this,"GuidGenerator")}generateGuid(){return qq()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}};d();var Mc=class t{static{s(this,"EncodingUtils")}static base64Encode(e,r){return Buffer.from(e,r).toString(os.BASE64)}static base64EncodeUrl(e,r){return t.base64Encode(e,r).replace(/=/g,me.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,os.BASE64).toString("utf8")}static base64DecodeUrl(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4;)r+="=";return t.base64Decode(r)}};d();d();var Hle=We(require("crypto"),1);var rp=class{static{s(this,"HashUtils")}sha256(e){return Hle.default.createHash(Sle.SHA256).update(e).digest()}};var Gle=We(require("crypto"),1);var dR=class{static{s(this,"PkceGenerator")}constructor(){this.hashUtils=new rp}async generatePkceCodes(){let e=this.generateCodeVerifier(),r=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:r}}generateCodeVerifier(){let e=[],r=256-256%J8.CV_CHARSET.length;for(;e.length<=wle;){let o=Gle.default.randomBytes(1)[0];if(o>=r)continue;let a=o%J8.CV_CHARSET.length;e.push(J8.CV_CHARSET[a])}let n=e.join(me.EMPTY_STRING);return Mc.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return Mc.base64EncodeUrl(this.hashUtils.sha256(e).toString(os.BASE64),os.BASE64)}};var ju=class{static{s(this,"CryptoProvider")}constructor(){this.pkceGenerator=new dR,this.guidGenerator=new ME,this.hashUtils=new rp}base64UrlEncode(){throw new Error("Method not implemented.")}encodeKid(){throw new Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return Mc.base64Encode(e)}base64Decode(e){return Mc.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw new Error("Method not implemented.")}removeTokenBindingKey(){throw new Error("Method not implemented.")}clearKeystore(){throw new Error("Method not implemented.")}signJwt(){throw new Error("Method not implemented.")}async hashString(e){return Mc.base64EncodeUrl(this.hashUtils.sha256(e).toString(os.BASE64),os.BASE64)}};d();d();var np=class extends KA{static{s(this,"NodeStorage")}constructor(e,r,n,o){super(r,n,e,new u1,o),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let r={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let o=e[n];if(typeof o=="object")if(o instanceof ss)r.accounts[n]=o;else if(To.isIdTokenEntity(o))r.idTokens[n]=o;else if(To.isAccessTokenEntity(o))r.accessTokens[n]=o;else if(To.isRefreshTokenEntity(o))r.refreshTokens[n]=o;else if(To.isAppMetadataEntity(n,o))r.appMetadata[n]=o;else continue}return r}inMemoryCacheToCache(e){let r=this.getCache();return r={...r,...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata},r}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let r=this.inMemoryCacheToCache(e);this.setCache(r),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,r){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=r,this.setCache(n)}getAccountKeys(){let e=this.getInMemoryCache();return Object.keys(e.accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){return this.getItem(e)?Object.assign(new ss,this.getItem(e)):null}async setAccount(e){let r=e.generateAccountKey();this.setItem(r,e)}getIdTokenCredential(e){let r=this.getItem(e);return To.isIdTokenEntity(r)?r:null}async setIdTokenCredential(e){let r=To.generateCredentialKey(e);this.setItem(r,e)}getAccessTokenCredential(e){let r=this.getItem(e);return To.isAccessTokenEntity(r)?r:null}async setAccessTokenCredential(e){let r=To.generateCredentialKey(e);this.setItem(r,e)}getRefreshTokenCredential(e){let r=this.getItem(e);return To.isRefreshTokenEntity(r)?r:null}async setRefreshTokenCredential(e){let r=To.generateCredentialKey(e);this.setItem(r,e)}getAppMetadata(e){let r=this.getItem(e);return To.isAppMetadataEntity(e,r)?r:null}setAppMetadata(e){let r=To.generateAppMetadataKey(e);this.setItem(r,e)}getServerTelemetry(e){let r=this.getItem(e);return r&&To.isServerTelemetryEntity(e,r)?r:null}setServerTelemetry(e,r){this.setItem(e,r)}getAuthorityMetadata(e){let r=this.getItem(e);return r&&To.isAuthorityMetadataEntity(e,r)?r:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,r){this.setItem(e,r)}getThrottlingCache(e){let r=this.getItem(e);return r&&To.isThrottlingEntity(e,r)?r:null}setThrottlingCache(e,r){this.setItem(e,r)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let r=!1,n=this.getCache();return n[e]&&(delete n[e],r=!0),r&&(this.setCache(n),this.emitChange()),r}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){this.logger.trace("Retrieving all cache keys");let e=this.getCache();return[...Object.keys(e)]}clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(r=>{this.removeItem(r)}),this.emitChange()}static generateInMemoryCache(e){return Od.deserializeAllCache(Od.deserializeJSONBlob(e))}static generateJsonCache(e){return UA.serializeAllCache(e)}updateCredentialCacheKey(e,r){let n=To.generateCredentialKey(r);if(e!==n){let o=this.getItem(e);if(o)return this.removeItem(e),this.setItem(n,o),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}};d();var V_={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}},OE=class{static{s(this,"TokenCache")}constructor(e,r,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=UA.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let r=Od.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(r)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}getCacheSnapshot(){let e=np.generateInMemoryCache(this.cacheSnapshot);return this.storage.inMemoryCacheToCache(e)}async getAllAccounts(e=new ju().createNewGuid()){this.logger.trace("getAllAccounts called");let r;try{return this.persistence&&(r=new Lc(this,!1),await this.persistence.beforeCacheAccess(r)),this.storage.getAllAccounts({},e)}finally{this.persistence&&r&&await this.persistence.afterCacheAccess(r)}}async getAccountByHomeId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.localAccountId===e)[0]||null}async removeAccount(e,r){this.logger.trace("removeAccount called");let n;try{this.persistence&&(n=new Lc(this,!0),await this.persistence.beforeCacheAccess(n)),this.storage.removeAccount(ss.generateAccountCacheKey(e),r||new ME().generateGuid())}finally{this.persistence&&n&&await this.persistence.afterCacheAccess(n)}}async overwriteCache(){if(!this.persistence){this.logger.info("No persistence layer specified, cache cannot be overwritten");return}this.logger.info("Overwriting in-memory cache with persistent cache"),this.storage.clear();let e=new Lc(this,!1);await this.persistence.beforeCacheAccess(e);let r=this.getCacheSnapshot();this.storage.setCache(r),await this.persistence.afterCacheAccess(e)}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,r){this.logger.trace("Merging in-memory cache with cache snapshot");let n=this.mergeRemovals(e,r);return this.mergeUpdates(n,r)}mergeUpdates(e,r){return Object.keys(r).forEach(n=>{let o=r[n];if(!e.hasOwnProperty(n))o!==null&&(e[n]=o);else{let a=o!==null,c=typeof o=="object",l=!Array.isArray(o),u=typeof e[n]<"u"&&e[n]!==null;a&&c&&l&&u?this.mergeUpdates(e[n],o):e[n]=o}}),e}mergeRemovals(e,r){this.logger.trace("Remove updated entries in cache");let n=e.Account?this.mergeRemovalsDict(e.Account,r.Account):e.Account,o=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,r.AccessToken):e.AccessToken,a=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,r.RefreshToken):e.RefreshToken,c=e.IdToken?this.mergeRemovalsDict(e.IdToken,r.IdToken):e.IdToken,l=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,r.AppMetadata):e.AppMetadata;return{...e,Account:n,AccessToken:o,RefreshToken:a,IdToken:c,AppMetadata:l}}mergeRemovalsDict(e,r){let n={...e};return Object.keys(e).forEach(o=>{(!r||!r.hasOwnProperty(o))&&delete n[o]}),n}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...V_.Account,...e.Account},IdToken:{...V_.IdToken,...e.IdToken},AccessToken:{...V_.AccessToken,...e.AccessToken},RefreshToken:{...V_.RefreshToken,...e.RefreshToken},AppMetadata:{...V_.AppMetadata,...e.AppMetadata}}}};d();var yhe=We(Che(),1);var qd=class t{static{s(this,"ClientAssertion")}static fromAssertion(e){let r=new t;return r.jwt=e,r}static fromCertificate(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!1,n&&(o.publicCertificate=this.parseCertificate(n)),o}static fromCertificateWithSha256Thumbprint(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!0,n&&(o.publicCertificate=this.parseCertificate(n)),o}getJwt(e,r,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&r===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,r,n);if(this.jwt)return this.jwt;throw _e(Tn.invalidAssertion)}createJwt(e,r,n){this.issuer=r,this.jwtAudience=n;let o=Jn.nowSeconds();this.expirationTime=o+600;let c={alg:this.useSha256?R0.PSS_256:R0.RSA_256},l=this.useSha256?R0.X5T_256:R0.X5T;Object.assign(c,{[l]:Mc.base64EncodeUrl(this.thumbprint,os.HEX)}),this.publicCertificate&&Object.assign(c,{[R0.X5C]:this.publicCertificate});let u={[R0.AUDIENCE]:this.jwtAudience,[R0.EXPIRATION_TIME]:this.expirationTime,[R0.ISSUER]:this.issuer,[R0.SUBJECT]:this.issuer,[R0.NOT_BEFORE]:o,[R0.JWT_ID]:e.createNewGuid()};return this.jwt=yhe.default.sign(u,this.privateKey,{header:c}),this.jwt}isExpired(){return this.expirationTime<Jn.nowSeconds()}static parseCertificate(e){let r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[],o;for(;(o=r.exec(e))!==null;)n.push(o[1].replace(/\r*\n/g,me.EMPTY_STRING));return n}};d();var GR="@azure/msal-node",Dl="3.6.3";d();var zE=class extends cs{static{s(this,"UsernamePasswordClient")}constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let r=Jn.nowSeconds(),n=await this.executeTokenRequest(this.authority,e),o=new Yi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),o.handleServerTokenResponse(n.body,this.authority,r,e)}async executeTokenRequest(e,r){let n=this.createTokenQueryParameters(r),o=mr.appendQueryString(e.tokenEndpoint,n),a=await this.createTokenRequestBody(r),c=this.createTokenRequestHeaders({credential:r.username,type:ia.UPN}),l={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return this.executePostToTokenEndpoint(o,a,c,l,r.correlationId)}async createTokenRequestBody(e){let r=new Map;Je.addClientId(r,this.config.authOptions.clientId),Je.addUsername(r,e.username),Je.addPassword(r,e.password),Je.addScopes(r,e.scopes),Je.addResponseType(r,xE.IDTOKEN_TOKEN),Je.addGrantType(r,Ua.RESOURCE_OWNER_PASSWORD_GRANT),Je.addClientInfo(r),Je.addLibraryInfo(r,this.config.libraryInfo),Je.addApplicationTelemetry(r,this.config.telemetry.application),Je.addThrottling(r),this.serverTelemetryManager&&Je.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();Je.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&Je.addClientSecret(r,this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(Je.addClientAssertion(r,await sa(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Je.addClientAssertionType(r,o.assertionType)),(!di.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Je.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&Je.addCcsUpn(r,e.username),as.mapToQueryString(r)}};d();function Ehe(t,e,r,n){let o=H_.getStandardAuthorizeRequestParameters({...t.auth,authority:e,redirectUri:r.redirectUri||""},r,n);return Je.addLibraryInfo(o,{sku:wo.MSAL_SKU,version:Dl,cpu:process.arch||"",os:process.platform||""}),t.auth.protocolMode!==Ps.OIDC&&Je.addApplicationTelemetry(o,t.telemetry.application),Je.addResponseType(o,xE.CODE),r.codeChallenge&&r.codeChallengeMethod&&Je.addCodeChallengeParams(o,r.codeChallenge,r.codeChallengeMethod),Je.addExtraQueryParameters(o,r.extraQueryParameters||{}),H_.getAuthorizeUrl(e,o,t.auth.encodeExtraQueryParams,r.extraQueryParameters)}s(Ehe,"getAuthCodeRequestUrl");var sp=class{static{s(this,"ClientApplication")}constructor(e){this.config=Fle(e),this.cryptoProvider=new ju,this.logger=new Qc(this.config.system.loggerOptions,GR,Dl),this.storage=new np(this.logger,this.config.auth.clientId,this.cryptoProvider,Bq(this.config.auth)),this.tokenCache=new OE(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||qu.QUERY,authenticationScheme:Rr.BEARER,state:e.state||"",nonce:e.nonce||""},n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions);return Ehe(this.config,n,r,this.logger)}async acquireTokenByCode(e,r){this.logger.info("acquireTokenByCode called"),e.state&&r&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,r.state||""),r={...r,state:""});let n={...e,...await this.initializeBaseRequest(e),authenticationScheme:Rr.BEARER},o=this.initializeServerTelemetryManager(Ud.acquireTokenByCode,n.correlationId);try{let a=await this.createAuthority(n.authority,n.correlationId,void 0,e.azureCloudOptions),c=await this.buildOauthClientConfiguration(a,n.correlationId,n.redirectUri,o),l=new U_(c);return this.logger.verbose("Auth code client created",n.correlationId),await l.acquireToken(n,r)}catch(a){throw a instanceof Yt&&a.setCorrelationId(n.correlationId),o.cacheFailedRequest(a),a}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:Rr.BEARER},n=this.initializeServerTelemetryManager(Ud.acquireTokenByRefreshToken,r.correlationId);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,r.redirectUri||"",n),c=new y1(a);return this.logger.verbose("Refresh token client created",r.correlationId),await c.acquireToken(r)}catch(o){throw o instanceof Yt&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenSilent(e){let r={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},n=this.initializeServerTelemetryManager(Ud.acquireTokenSilent,r.correlationId,r.forceRefresh);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,r.redirectUri||"",n),c=new q_(a);this.logger.verbose("Silent flow client created",r.correlationId);try{return await this.tokenCache.overwriteCache(),await this.acquireCachedTokenSilent(r,c,a)}catch(l){if(l instanceof jA&&l.errorCode===Tn.tokenRefreshRequired)return new y1(a).acquireTokenByRefreshToken(r);throw l}}catch(o){throw o instanceof Yt&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireCachedTokenSilent(e,r,n){let[o,a]=await r.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...Ma]});if(a===Rn.PROACTIVELY_REFRESHED){this.logger.info("ClientApplication:acquireCachedTokenSilent - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let c=new y1(n);try{await c.acquireTokenByRefreshToken(e)}catch{}}return o}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)},n=this.initializeServerTelemetryManager(Ud.acquireTokenByUsernamePassword,r.correlationId);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,"",n),c=new zE(a);return this.logger.verbose("Username password client created",r.correlationId),await c.acquireToken(r)}catch(o){throw o instanceof Yt&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,r){if(!e)throw Ha.createStateNotFoundError();if(e!==r)throw _e(Tn.stateMismatch)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,r,n,o){return this.logger.verbose("buildOauthClientConfiguration called",r),this.logger.info(`Building oauth client configuration with the following authority: ${e.tokenEndpoint}.`,r),o?.updateRegionDiscoveryMetadata(e.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:e,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:n},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:o,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(e)},libraryInfo:{sku:wo.MSAL_SKU,version:Dl,cpu:process.arch||me.EMPTY_STRING,os:process.platform||me.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=qd.fromAssertion(await sa(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:wo.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===Rr.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=Rr.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!di.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...Ma],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,r,n){let o={clientId:this.config.auth.clientId,correlationId:r,apiId:e,forceRefresh:n||!1};return new E1(o,this.storage)}async createAuthority(e,r,n,o){this.logger.verbose("createAuthority called",r);let a=Rl.generateAuthority(e,o||this.config.auth.azureCloudOptions),c={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return H8.createDiscoveredInstance(a,this.config.system.networkClient,this.storage,c,this.logger,r)}clearCache(){this.storage.clear()}};d();var Ihe=We(require("http"),1);var VR=class{static{s(this,"LoopbackClient")}async listenForAuthCode(e,r){if(this.server)throw Ha.createLoopbackServerAlreadyExistsError();return new Promise((n,o)=>{this.server=Ihe.default.createServer((a,c)=>{let l=a.url;if(l){if(l===me.FORWARD_SLASH){c.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{c.end(r||"Error occurred loading redirectUrl"),o(Ha.createUnableToLoadRedirectUrlError());return}let u=this.getRedirectUri(),f=new URL(l,u),h=as.getDeserializedResponse(f.search)||{};h.code&&(c.writeHead(Wt.REDIRECT,{location:u}),c.end()),h.error&&c.end(r||`Error occurred: ${h.error}`),n(h)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw Ha.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||typeof e=="string"||!e.port)throw this.closeServer(),Ha.createInvalidLoopbackAddressTypeError();let r=e&&e.port;return`${wo.HTTP_PROTOCOL}${wo.LOCALHOST}:${r}`}closeServer(){this.server&&(this.server.close(),typeof this.server.closeAllConnections=="function"&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}};d();var KE=class extends cs{static{s(this,"DeviceCodeClient")}constructor(e){super(e)}async acquireToken(e){let r=await this.getDeviceCode(e);e.deviceCodeCallback(r);let n=Jn.nowSeconds(),o=await this.acquireTokenWithDeviceCode(e,r),a=new Yi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(o),a.handleServerTokenResponse(o,this.authority,n,e)}async getDeviceCode(e){let r=this.createExtraQueryParameters(e),n=mr.appendQueryString(this.authority.deviceCodeEndpoint,r),o=this.createQueryString(e),a=this.createTokenRequestHeaders(),c={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(n,o,a,c,e.correlationId)}createExtraQueryParameters(e){let r=new Map;return e.extraQueryParameters&&Je.addExtraQueryParameters(r,e.extraQueryParameters),as.mapToQueryString(r)}async executePostRequestToDeviceCodeEndpoint(e,r,n,o,a){let{body:{user_code:c,device_code:l,verification_uri:u,expires_in:f,interval:h,message:A}}=await this.sendPostRequest(o,e,{body:r,headers:n},a);return{userCode:c,deviceCode:l,verificationUri:u,expiresIn:f,interval:h,message:A}}createQueryString(e){let r=new Map;return Je.addScopes(r,e.scopes),Je.addClientId(r,this.config.authOptions.clientId),e.extraQueryParameters&&Je.addExtraQueryParameters(r,e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Je.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),as.mapToQueryString(r)}continuePolling(e,r,n){if(n)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),_e(Tn.deviceCodePollingCancelled);if(r&&r<e&&Jn.nowSeconds()>r)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${r}`),_e(Tn.userTimeoutReached);if(Jn.nowSeconds()>e)throw r&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${r}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),_e(Tn.deviceCodeExpired);return!0}async acquireTokenWithDeviceCode(e,r){let n=this.createTokenQueryParameters(e),o=mr.appendQueryString(this.authority.tokenEndpoint,n),a=this.createTokenRequestBody(e,r),c=this.createTokenRequestHeaders(),l=e.timeout?Jn.nowSeconds()+e.timeout:void 0,u=Jn.nowSeconds()+r.expiresIn,f=r.interval*1e3;for(;this.continuePolling(u,l,e.cancel);){let h={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},A=await this.executePostToTokenEndpoint(o,a,c,h,e.correlationId);if(A.body&&A.body.error)if(A.body.error===me.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await Jn.delay(f);else throw this.logger.info("Unexpected error in polling from the server"),xU(_E.postRequestFailed,A.body.error);else return this.logger.verbose("Authorization completed successfully. Polling stopped."),A.body}throw this.logger.error("Polling stopped for unknown reasons."),_e(Tn.deviceCodeUnknownError)}createTokenRequestBody(e,r){let n=new Map;Je.addScopes(n,e.scopes),Je.addClientId(n,this.config.authOptions.clientId),Je.addGrantType(n,Ua.DEVICE_CODE_GRANT),Je.addDeviceCode(n,r.deviceCode);let o=e.correlationId||this.config.cryptoInterface.createNewGuid();return Je.addCorrelationId(n,o),Je.addClientInfo(n),Je.addLibraryInfo(n,this.config.libraryInfo),Je.addApplicationTelemetry(n,this.config.telemetry.application),Je.addThrottling(n),this.serverTelemetryManager&&Je.addServerTelemetry(n,this.serverTelemetryManager),(!di.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Je.addClaims(n,e.claims,this.config.authOptions.clientCapabilities),as.mapToQueryString(n)}};var JE=class extends sp{static{s(this,"PublicClientApplication")}constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=E1.makeExtraSkuString({libraryName:wo.MSAL_SKU,libraryVersion:Dl})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let r=Object.assign(e,await this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(Ud.acquireTokenByDeviceCode,r.correlationId);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,"",n),c=new KE(a);return this.logger.verbose("Device code client created",r.correlationId),await c.acquireToken(r)}catch(o){throw o instanceof Yt&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenInteractive(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",r);let{openBrowser:n,successTemplate:o,errorTemplate:a,windowHandle:c,loopbackClient:l,...u}=e;if(this.nativeBrokerPlugin){let g={...u,clientId:this.config.auth.clientId,scopes:e.scopes||Ma,redirectUri:`${wo.HTTP_PROTOCOL}${wo.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...u.extraQueryParameters,...u.tokenQueryParameters,[f1.X_CLIENT_EXTRA_SKU]:this.skus},accountId:u.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(g,c)}let{verifier:f,challenge:h}=await this.cryptoProvider.generatePkceCodes(),A=l||new VR,p={},m=null;try{let g=A.listenForAuthCode(o,a).then(b=>{p=b}).catch(b=>{m=b}),y=await this.waitForRedirectUri(A),E={...u,correlationId:r,scopes:e.scopes||Ma,redirectUri:y,responseMode:qu.QUERY,codeChallenge:h,codeChallengeMethod:x8.S256},I=await this.getAuthCodeUrl(E);if(await n(I),await g,m)throw m;if(p.error)throw new oa(p.error,p.error_description,p.suberror);if(!p.code)throw Ha.createNoAuthCodeInResponseError();let x=p.client_info,v={code:p.code,codeVerifier:f,clientInfo:x||me.EMPTY_STRING,...E};return await this.acquireTokenByCode(v)}finally{A.closeServer()}}async acquireTokenSilent(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",r),this.nativeBrokerPlugin){let n={...e,clientId:this.config.auth.clientId,scopes:e.scopes||Ma,redirectUri:`${wo.HTTP_PROTOCOL}${wo.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...e.tokenQueryParameters,[f1.X_CLIENT_EXTRA_SKU]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(n)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let r={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(r)}await this.getTokenCache().removeAccount(e.account,e.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((r,n)=>{let o=0,a=setInterval(()=>{if(X8.TIMEOUT_MS/X8.INTERVAL_MS<o){clearInterval(a),n(Ha.createLoopbackServerTimeoutError());return}try{let c=e.getRedirectUri();clearInterval(a),r(c);return}catch(c){if(c instanceof Yt&&c.errorCode===Uo.noLoopbackServerExists.code){o++;return}clearInterval(a),n(c);return}},X8.INTERVAL_MS)})}};d();d();var ap=class extends cs{static{s(this,"ClientCredentialClient")}constructor(e,r){super(e),this.appTokenProvider=r}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[r,n]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return r?(n===Rn.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),r):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,r,n,o,a,c){let l=r,u=r,f=Rn.NOT_APPLICABLE,h;l.serializableCache&&l.persistencePlugin&&(h=new Lc(l.serializableCache,!1),await l.persistencePlugin.beforeCacheAccess(h));let A=this.readAccessTokenFromCache(o,u.managedIdentityId?.id||l.authOptions.clientId,new co(e.scopes||[]),a,e.correlationId);return l.serializableCache&&l.persistencePlugin&&h&&await l.persistencePlugin.afterCacheAccess(h),A?Jn.isTokenExpired(A.expiresOn,l.systemOptions?.tokenRenewalOffsetSeconds||bE)?(c?.setCacheOutcome(Rn.CACHED_ACCESS_TOKEN_EXPIRED),[null,Rn.CACHED_ACCESS_TOKEN_EXPIRED]):(A.refreshOn&&Jn.isTokenExpired(A.refreshOn.toString(),0)&&(f=Rn.PROACTIVELY_REFRESHED,c?.setCacheOutcome(Rn.PROACTIVELY_REFRESHED)),[await Yi.generateAuthenticationResult(n,o,{account:null,idToken:null,accessToken:A,refreshToken:null,appMetadata:null},!0,e),f]):(c?.setCacheOutcome(Rn.NO_CACHED_ACCESS_TOKEN),[null,Rn.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,r,n,o,a){let c={homeAccountId:me.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:Vr.ACCESS_TOKEN,clientId:r,realm:e.tenant,target:co.createSearchScopes(n.asArray())},l=o.getAccessTokensByFilter(c,a);if(l.length<1)return null;if(l.length>1)throw _e(Tn.multipleMatchingTokens);return l[0]}async executeTokenRequest(e,r,n){let o,a;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let u={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};a=Jn.nowSeconds();let f=await this.appTokenProvider(u);o={access_token:f.accessToken,expires_in:f.expiresInSeconds,refresh_in:f.refreshInSeconds,token_type:Rr.BEARER}}else{let u=this.createTokenQueryParameters(e),f=mr.appendQueryString(r.tokenEndpoint,u),h=await this.createTokenRequestBody(e),A=this.createTokenRequestHeaders(),p={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+r.tokenEndpoint),a=Jn.nowSeconds();let m=await this.executePostToTokenEndpoint(f,h,A,p,e.correlationId);o=m.body,o.status=m.status}let c=new Yi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return c.validateTokenResponse(o,n),await c.handleServerTokenResponse(o,this.authority,a,e)}async createTokenRequestBody(e){let r=new Map;Je.addClientId(r,this.config.authOptions.clientId),Je.addScopes(r,e.scopes,!1),Je.addGrantType(r,Ua.CLIENT_CREDENTIALS_GRANT),Je.addLibraryInfo(r,this.config.libraryInfo),Je.addApplicationTelemetry(r,this.config.telemetry.application),Je.addThrottling(r),this.serverTelemetryManager&&Je.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();Je.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&Je.addClientSecret(r,this.config.clientCredentials.clientSecret);let o=e.clientAssertion||this.config.clientCredentials.clientAssertion;return o&&(Je.addClientAssertion(r,await sa(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Je.addClientAssertionType(r,o.assertionType)),(!di.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Je.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),as.mapToQueryString(r)}};d();var XE=class extends cs{static{s(this,"OnBehalfOfClient")}constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new co(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch{return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(Jn.isTokenExpired(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(Rn.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),_e(Tn.tokenRefreshRequired)}else throw this.serverTelemetryManager?.setCacheOutcome(Rn.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),_e(Tn.tokenRefreshRequired);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId,e.correlationId),o,a=null;if(n){o=T8.extractTokenClaims(n.secret,Mc.base64Decode);let c=o.oid||o.sub,l={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:me.EMPTY_STRING,localAccountId:c||me.EMPTY_STRING};a=this.cacheManager.readAccountFromCache(l,e.correlationId)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),Yi.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:a,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,o)}readIdTokenFromCacheForOBO(e,r){let n={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:Vr.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},o=this.cacheManager.getIdTokensByFilter(n,r);return Object.values(o).length<1?null:Object.values(o)[0]}readAccessTokenFromCacheForOBO(e,r){let n=r.authenticationScheme||Rr.BEARER,a={credentialType:n&&n.toLowerCase()!==Rr.BEARER.toLowerCase()?Vr.ACCESS_TOKEN_WITH_AUTH_SCHEME:Vr.ACCESS_TOKEN,clientId:e,target:co.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:this.userAssertionHash},c=this.cacheManager.getAccessTokensByFilter(a,r.correlationId),l=c.length;if(l<1)return null;if(l>1)throw _e(Tn.multipleMatchingTokens);return c[0]}async executeTokenRequest(e,r,n){let o=this.createTokenQueryParameters(e),a=mr.appendQueryString(r.tokenEndpoint,o),c=await this.createTokenRequestBody(e),l=this.createTokenRequestHeaders(),u={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},f=Jn.nowSeconds(),h=await this.executePostToTokenEndpoint(a,c,l,u,e.correlationId),A=new Yi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return A.validateTokenResponse(h.body),await A.handleServerTokenResponse(h.body,this.authority,f,e,void 0,n)}async createTokenRequestBody(e){let r=new Map;Je.addClientId(r,this.config.authOptions.clientId),Je.addScopes(r,e.scopes),Je.addGrantType(r,Ua.JWT_BEARER),Je.addClientInfo(r),Je.addLibraryInfo(r,this.config.libraryInfo),Je.addApplicationTelemetry(r,this.config.telemetry.application),Je.addThrottling(r),this.serverTelemetryManager&&Je.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();Je.addCorrelationId(r,n),Je.addRequestTokenUse(r,f1.ON_BEHALF_OF),Je.addOboAssertion(r,e.oboAssertion),this.config.clientCredentials.clientSecret&&Je.addClientSecret(r,this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(Je.addClientAssertion(r,await sa(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Je.addClientAssertionType(r,o.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Je.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),as.mapToQueryString(r)}};var ZE=class extends sp{static{s(this,"ConfidentialClientApplication")}constructor(e){super(e);let r=!!this.config.auth.clientSecret,n=!!this.config.auth.clientAssertion,o=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(r&&n||n&&o||r&&o)throw _e(Tn.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(o)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?qd.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):qd.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw _e(Tn.invalidClientCredential);this.appTokenProvider=void 0}}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){this.logger.info("acquireTokenByClientCredential called",e.correlationId);let r;e.clientAssertion&&(r={assertion:await sa(e.clientAssertion,this.config.auth.clientId),assertionType:wo.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),o={...n,scopes:n.scopes.filter(p=>!Ma.includes(p))},a={...e,...o,clientAssertion:r},l=new mr(a.authority).getUrlComponents().PathSegments[0];if(Object.values(Oa).includes(l))throw _e(Tn.missingTenantIdError);let u=process.env[Tle],f;a.azureRegion!=="DisableMsalForceRegion"&&(!a.azureRegion&&u?f=u:f=a.azureRegion);let h={azureRegion:f,environmentRegion:process.env[_le]},A=this.initializeServerTelemetryManager(Ud.acquireTokenByClientCredential,a.correlationId,a.skipCache);try{let p=await this.createAuthority(a.authority,a.correlationId,h,e.azureCloudOptions),m=await this.buildOauthClientConfiguration(p,a.correlationId,"",A),g=new ap(m,this.appTokenProvider);return this.logger.verbose("Client credential client created",a.correlationId),await g.acquireToken(a)}catch(p){throw p instanceof Yt&&p.setCorrelationId(a.correlationId),A.cacheFailedRequest(p),p}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)};try{let n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),o=await this.buildOauthClientConfiguration(n,r.correlationId,"",void 0),a=new XE(o);return this.logger.verbose("On behalf of client created",r.correlationId),await a.acquireToken(r)}catch(n){throw n instanceof Yt&&n.setCorrelationId(r.correlationId),n}}};d();d();d();d();d();function xhe(t){if(typeof t!="string")return!1;let e=new Date(t);return!isNaN(e.getTime())&&e.toISOString()===t}s(xhe,"isIso8601");d();var WR=class{static{s(this,"HttpClientWithRetries")}constructor(e,r,n){this.httpClientNoRetries=e,this.retryPolicy=r,this.logger=n}async sendNetworkRequestAsyncHelper(e,r,n){return e===Xn.GET?this.httpClientNoRetries.sendGetRequestAsync(r,n):this.httpClientNoRetries.sendPostRequestAsync(r,n)}async sendNetworkRequestAsync(e,r,n){let o=await this.sendNetworkRequestAsyncHelper(e,r,n);"isNewRequest"in this.retryPolicy&&(this.retryPolicy.isNewRequest=!0);let a=0;for(;await this.retryPolicy.pauseForRetry(o.status,a,this.logger,o.headers[Mn.RETRY_AFTER]);)o=await this.sendNetworkRequestAsyncHelper(e,r,n),a++;return o}async sendGetRequestAsync(e,r){return this.sendNetworkRequestAsync(Xn.GET,e,r)}async sendPostRequestAsync(e,r){return this.sendNetworkRequestAsync(Xn.POST,e,r)}};var _1={MANAGED_IDENTITY_CLIENT_ID_2017:"clientid",MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID_IMDS:"msi_res_id",MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS:"mi_res_id"},la=class{static{s(this,"BaseManagedIdentitySource")}constructor(e,r,n,o,a){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o,this.disableInternalRetries=a}async getServerTokenResponseAsync(e,r,n,o){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let r,n;return e.body.expires_on&&(xhe(e.body.expires_on)&&(e.body.expires_on=new Date(e.body.expires_on).getTime()/1e3),n=e.body.expires_on-Jn.nowSeconds(),n>2*3600&&(r=n/2)),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:r,correlation_id:e.body.correlation_id||e.body.correlationId,error:typeof e.body.error=="string"?e.body.error:e.body.error?.code,error_description:e.body.message||(typeof e.body.error=="string"?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,r,n,o){let a=this.createRequest(e.resource,r);if(e.revokedTokenSha256Hash&&(this.logger.info(`[Managed Identity] The following claims are present in the request: ${e.claims}`),a.queryParameters[lo.SHA256_TOKEN_TO_REFRESH]=e.revokedTokenSha256Hash),e.clientCapabilities?.length){let m=e.clientCapabilities.toString();this.logger.info(`[Managed Identity] The following client capabilities are present in the request: ${m}`),a.queryParameters[lo.XMS_CC]=m}let c=a.headers;c[Mn.CONTENT_TYPE]=me.URL_FORM_CONTENT_TYPE;let l={headers:c};Object.keys(a.bodyParameters).length&&(l.body=a.computeParametersBodyString());let u=this.disableInternalRetries?this.networkClient:new WR(this.networkClient,a.retryPolicy,this.logger),f=Jn.nowSeconds(),h;try{a.httpMethod===Xn.POST?h=await u.sendPostRequestAsync(a.computeUri(),l):h=await u.sendGetRequestAsync(a.computeUri(),l)}catch(m){throw m instanceof Yt?m:_e(Tn.networkError)}let A=new Yi(r.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),p=await this.getServerTokenResponseAsync(h,u,a,l);return A.validateTokenResponse(p,o),A.handleServerTokenResponse(p,n,f,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e,r,n){switch(e){case vi.USER_ASSIGNED_CLIENT_ID:return this.logger.info(`[Managed Identity] [API version ${n?"2017+":"2019+"}] Adding user assigned client id to the request.`),n?_1.MANAGED_IDENTITY_CLIENT_ID_2017:_1.MANAGED_IDENTITY_CLIENT_ID;case vi.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),r?_1.MANAGED_IDENTITY_RESOURCE_ID_IMDS:_1.MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS;case vi.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),_1.MANAGED_IDENTITY_OBJECT_ID;default:throw ji(tp)}}};la.getValidatedEnvVariableUrlString=(t,e,r,n)=>{try{return new mr(e).urlString}catch{throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${t}' environment variable is malformed.`),ji(I1[t])}};d();d();d();var YR=class{static{s(this,"LinearRetryStrategy")}calculateDelay(e,r){if(!e)return r;let n=Math.round(parseFloat(e)*1e3);return isNaN(n)&&(n=new Date(e).valueOf()-new Date().valueOf()),Math.max(r,n)}};var vHe=3,bHe=1e3,_He=[Wt.NOT_FOUND,Wt.REQUEST_TIMEOUT,Wt.TOO_MANY_REQUESTS,Wt.SERVER_ERROR,Wt.SERVICE_UNAVAILABLE,Wt.GATEWAY_TIMEOUT],jR=class t{static{s(this,"DefaultManagedIdentityRetryPolicy")}constructor(){this.linearRetryStrategy=new YR}static get DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS(){return bHe}async pauseForRetry(e,r,n,o){if(_He.includes(e)&&r<vHe){let a=this.linearRetryStrategy.calculateDelay(o,t.DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS);return n.verbose(`Retrying request in ${a}ms (retry attempt: ${r+1})`),await new Promise(c=>setTimeout(c,a)),!0}return!1}};var Va=class{static{s(this,"ManagedIdentityRequestParameters")}constructor(e,r,n){this.httpMethod=e,this._baseEndpoint=r,this.headers={},this.bodyParameters={},this.queryParameters={},this.retryPolicy=n||new jR}computeUri(){let e=new Map;this.queryParameters&&Je.addExtraQueryParameters(e,this.queryParameters);let r=as.mapToQueryString(e);return mr.appendQueryString(this._baseEndpoint,r)}computeParametersBodyString(){let e=new Map;return this.bodyParameters&&Je.addExtraQueryParameters(e,this.bodyParameters),as.mapToQueryString(e)}};var THe="2019-08-01",r5=class t extends la{static{s(this,"AppService")}constructor(e,r,n,o,a,c,l){super(e,r,n,o,a),this.identityEndpoint=c,this.identityHeader=l}static getEnvironmentVariables(){let e=process.env[Pt.IDENTITY_ENDPOINT],r=process.env[Pt.IDENTITY_HEADER];return[e,r]}static tryCreate(e,r,n,o,a){let[c,l]=t.getEnvironmentVariables();if(!c||!l)return e.info(`[Managed Identity] ${Mt.APP_SERVICE} managed identity is unavailable because one or both of the '${Pt.IDENTITY_HEADER}' and '${Pt.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let u=t.getValidatedEnvVariableUrlString(Pt.IDENTITY_ENDPOINT,c,Mt.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${Mt.APP_SERVICE} managed identity. Endpoint URI: ${u}. Creating ${Mt.APP_SERVICE} managed identity.`),new t(e,r,n,o,a,c,l)}createRequest(e,r){let n=new Va(Xn.GET,this.identityEndpoint);return n.headers[qa.APP_SERVICE_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[lo.API_VERSION]=THe,n.queryParameters[lo.RESOURCE]=e,r.idType!==vi.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};d();var Hd=require("fs"),The=We(require("path"),1);var wHe="2019-11-01",vhe="http://127.0.0.1:40342/metadata/identity/oauth2/token",bhe="N/A: himds executable exists",_he={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},SHe={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"},n5=class t extends la{static{s(this,"AzureArc")}constructor(e,r,n,o,a,c){super(e,r,n,o,a),this.identityEndpoint=c}static getEnvironmentVariables(){let e=process.env[Pt.IDENTITY_ENDPOINT],r=process.env[Pt.IMDS_ENDPOINT];if(!e||!r){let n=SHe[process.platform];try{(0,Hd.accessSync)(n,Hd.constants.F_OK|Hd.constants.R_OK),e=vhe,r=bhe}catch{}}return[e,r]}static tryCreate(e,r,n,o,a,c){let[l,u]=t.getEnvironmentVariables();if(!l||!u)return e.info(`[Managed Identity] ${Mt.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${Pt.IDENTITY_ENDPOINT}' and '${Pt.IMDS_ENDPOINT}' are not defined. ${Mt.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(u===bhe)e.info(`[Managed Identity] ${Mt.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${Mt.AZURE_ARC} endpoint: ${vhe}. Creating ${Mt.AZURE_ARC} managed identity.`);else{let f=t.getValidatedEnvVariableUrlString(Pt.IDENTITY_ENDPOINT,l,Mt.AZURE_ARC,e);f.endsWith("/")&&f.slice(0,-1),t.getValidatedEnvVariableUrlString(Pt.IMDS_ENDPOINT,u,Mt.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${Mt.AZURE_ARC} managed identity. Endpoint URI: ${f}. Creating ${Mt.AZURE_ARC} managed identity.`)}if(c.idType!==vi.SYSTEM_ASSIGNED)throw ji(iR);return new t(e,r,n,o,a,l)}createRequest(e){let r=new Va(Xn.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return r.headers[qa.METADATA_HEADER_NAME]="true",r.queryParameters[lo.API_VERSION]=wHe,r.queryParameters[lo.RESOURCE]=e,r}async getServerTokenResponseAsync(e,r,n,o){let a;if(e.status===Wt.UNAUTHORIZED){let c=e.headers["www-authenticate"];if(!c)throw ji(aR);if(!c.includes("Basic realm="))throw ji(cR);let l=c.split("Basic realm=")[1];if(!_he.hasOwnProperty(process.platform))throw ji(nR);let u=_he[process.platform],f=The.default.basename(l);if(!f.endsWith(".key"))throw ji(eR);if(u+f!==l)throw ji(tR);let h;try{h=await(0,Hd.statSync)(l).size}catch{throw ji(G_)}if(h>Ble)throw ji(rR);let A;try{A=(0,Hd.readFileSync)(l,os.UTF8)}catch{throw ji(G_)}let p=`Basic ${A}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),n.headers[qa.AUTHORIZATION_HEADER_NAME]=p;try{a=await r.sendGetRequestAsync(n.computeUri(),o)}catch(m){throw m instanceof Yt?m:_e(Tn.networkError)}}return this.getServerTokenResponse(a||e)}};d();var i5=class t extends la{static{s(this,"CloudShell")}constructor(e,r,n,o,a,c){super(e,r,n,o,a),this.msiEndpoint=c}static getEnvironmentVariables(){return[process.env[Pt.MSI_ENDPOINT]]}static tryCreate(e,r,n,o,a,c){let[l]=t.getEnvironmentVariables();if(!l)return e.info(`[Managed Identity] ${Mt.CLOUD_SHELL} managed identity is unavailable because the '${Pt.MSI_ENDPOINT} environment variable is not defined.`),null;let u=t.getValidatedEnvVariableUrlString(Pt.MSI_ENDPOINT,l,Mt.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${Mt.CLOUD_SHELL} managed identity. Endpoint URI: ${u}. Creating ${Mt.CLOUD_SHELL} managed identity.`),c.idType!==vi.SYSTEM_ASSIGNED)throw ji(oR);return new t(e,r,n,o,a,l)}createRequest(e){let r=new Va(Xn.POST,this.msiEndpoint);return r.headers[qa.METADATA_HEADER_NAME]="true",r.bodyParameters[lo.RESOURCE]=e,r}};d();d();d();var $R=class{static{s(this,"ExponentialRetryStrategy")}constructor(e,r,n){this.minExponentialBackoff=e,this.maxExponentialBackoff=r,this.exponentialDeltaBackoff=n}calculateDelay(e){return e===0?this.minExponentialBackoff:Math.min(Math.pow(2,e-1)*this.exponentialDeltaBackoff,this.maxExponentialBackoff)}};var BHe=[Wt.NOT_FOUND,Wt.REQUEST_TIMEOUT,Wt.GONE,Wt.TOO_MANY_REQUESTS],RHe=3,kHe=7,DHe=1e3,NHe=4e3,QHe=2e3,PHe=10*1e3,zR=class t{static{s(this,"ImdsRetryPolicy")}constructor(){this.exponentialRetryStrategy=new $R(t.MIN_EXPONENTIAL_BACKOFF_MS,t.MAX_EXPONENTIAL_BACKOFF_MS,t.EXPONENTIAL_DELTA_BACKOFF_MS)}static get MIN_EXPONENTIAL_BACKOFF_MS(){return DHe}static get MAX_EXPONENTIAL_BACKOFF_MS(){return NHe}static get EXPONENTIAL_DELTA_BACKOFF_MS(){return QHe}static get HTTP_STATUS_GONE_RETRY_AFTER_MS(){return PHe}set isNewRequest(e){this._isNewRequest=e}async pauseForRetry(e,r,n){if(this._isNewRequest&&(this._isNewRequest=!1,this.maxRetries=e===Wt.GONE?kHe:RHe),(BHe.includes(e)||e>=Wt.SERVER_ERROR_RANGE_START&&e<=Wt.SERVER_ERROR_RANGE_END&&r<this.maxRetries)&&r<this.maxRetries){let o=e===Wt.GONE?t.HTTP_STATUS_GONE_RETRY_AFTER_MS:this.exponentialRetryStrategy.calculateDelay(r);return n.verbose(`Retrying request in ${o}ms (retry attempt: ${r+1})`),await new Promise(a=>setTimeout(a,o)),!0}return!1}};var whe="/metadata/identity/oauth2/token",FHe=`http://169.254.169.254${whe}`,LHe="2018-02-01",KR=class t extends la{static{s(this,"Imds")}constructor(e,r,n,o,a,c){super(e,r,n,o,a),this.identityEndpoint=c}static tryCreate(e,r,n,o,a){let c;return process.env[Pt.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${Pt.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${Mt.IMDS} returned endpoint: ${process.env[Pt.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),c=t.getValidatedEnvVariableUrlString(Pt.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[Pt.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${whe}`,Mt.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${Pt.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${Mt.IMDS}, using the default endpoint.`),c=FHe),new t(e,r,n,o,a,c)}createRequest(e,r){let n=new Va(Xn.GET,this.identityEndpoint);return n.headers[qa.METADATA_HEADER_NAME]="true",n.queryParameters[lo.API_VERSION]=LHe,n.queryParameters[lo.RESOURCE]=e,r.idType!==vi.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!0)]=r.id),n.retryPolicy=new zR,n}};d();var MHe="2019-07-01-preview",o5=class t extends la{static{s(this,"ServiceFabric")}constructor(e,r,n,o,a,c,l){super(e,r,n,o,a),this.identityEndpoint=c,this.identityHeader=l}static getEnvironmentVariables(){let e=process.env[Pt.IDENTITY_ENDPOINT],r=process.env[Pt.IDENTITY_HEADER],n=process.env[Pt.IDENTITY_SERVER_THUMBPRINT];return[e,r,n]}static tryCreate(e,r,n,o,a,c){let[l,u,f]=t.getEnvironmentVariables();if(!l||!u||!f)return e.info(`[Managed Identity] ${Mt.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${Pt.IDENTITY_HEADER}', '${Pt.IDENTITY_ENDPOINT}' or '${Pt.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let h=t.getValidatedEnvVariableUrlString(Pt.IDENTITY_ENDPOINT,l,Mt.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${Mt.SERVICE_FABRIC} managed identity. Endpoint URI: ${h}. Creating ${Mt.SERVICE_FABRIC} managed identity.`),c.idType!==vi.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${Mt.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new t(e,r,n,o,a,l,u)}createRequest(e,r){let n=new Va(Xn.GET,this.identityEndpoint);return n.headers[qa.ML_AND_SF_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[lo.API_VERSION]=MHe,n.queryParameters[lo.RESOURCE]=e,r.idType!==vi.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};d();var OHe="2017-09-01",UHe=`Only client id is supported for user-assigned managed identity in ${Mt.MACHINE_LEARNING}.`,s5=class t extends la{static{s(this,"MachineLearning")}constructor(e,r,n,o,a,c,l){super(e,r,n,o,a),this.msiEndpoint=c,this.secret=l}static getEnvironmentVariables(){let e=process.env[Pt.MSI_ENDPOINT],r=process.env[Pt.MSI_SECRET];return[e,r]}static tryCreate(e,r,n,o,a){let[c,l]=t.getEnvironmentVariables();if(!c||!l)return e.info(`[Managed Identity] ${Mt.MACHINE_LEARNING} managed identity is unavailable because one or both of the '${Pt.MSI_ENDPOINT}' and '${Pt.MSI_SECRET}' environment variables are not defined.`),null;let u=t.getValidatedEnvVariableUrlString(Pt.MSI_ENDPOINT,c,Mt.MACHINE_LEARNING,e);return e.info(`[Managed Identity] Environment variables validation passed for ${Mt.MACHINE_LEARNING} managed identity. Endpoint URI: ${u}. Creating ${Mt.MACHINE_LEARNING} managed identity.`),new t(e,r,n,o,a,c,l)}createRequest(e,r){let n=new Va(Xn.GET,this.msiEndpoint);if(n.headers[qa.METADATA_HEADER_NAME]="true",n.headers[qa.ML_AND_SF_SECRET_HEADER_NAME]=this.secret,n.queryParameters[lo.API_VERSION]=OHe,n.queryParameters[lo.RESOURCE]=e,r.idType===vi.SYSTEM_ASSIGNED)n.queryParameters[_1.MANAGED_IDENTITY_CLIENT_ID_2017]=process.env[Pt.DEFAULT_IDENTITY_CLIENT_ID];else if(r.idType===vi.USER_ASSIGNED_CLIENT_ID)n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!1,!0)]=r.id;else throw new Error(UHe);return n}};var a5=class t{static{s(this,"ManagedIdentityClient")}constructor(e,r,n,o,a){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o,this.disableInternalRetries=a}async sendManagedIdentityTokenRequest(e,r,n,o){return t.identitySource||(t.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,this.disableInternalRetries,r)),t.identitySource.acquireTokenWithManagedIdentity(e,r,n,o)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(r=>r!==void 0)}getManagedIdentitySource(){return t.sourceName=this.allEnvironmentVariablesAreDefined(o5.getEnvironmentVariables())?Mt.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(r5.getEnvironmentVariables())?Mt.APP_SERVICE:this.allEnvironmentVariablesAreDefined(s5.getEnvironmentVariables())?Mt.MACHINE_LEARNING:this.allEnvironmentVariablesAreDefined(i5.getEnvironmentVariables())?Mt.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(n5.getEnvironmentVariables())?Mt.AZURE_ARC:Mt.DEFAULT_TO_IMDS,t.sourceName}selectManagedIdentitySource(e,r,n,o,a,c){let l=o5.tryCreate(e,r,n,o,a,c)||r5.tryCreate(e,r,n,o,a)||s5.tryCreate(e,r,n,o,a)||i5.tryCreate(e,r,n,o,a,c)||n5.tryCreate(e,r,n,o,a,c)||KR.tryCreate(e,r,n,o,a);if(!l)throw ji(sR);return l}};var qHe=[Mt.SERVICE_FABRIC],eI=class t{static{s(this,"ManagedIdentityApplication")}constructor(e){this.config=Lle(e||{}),this.logger=new Qc(this.config.system.loggerOptions,GR,Dl);let r={canonicalAuthority:me.DEFAULT_AUTHORITY};t.nodeStorage||(t.nodeStorage=new np(this.logger,this.config.managedIdentityId.id,TE,r)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new ju;let n={protocolMode:Ps.AAD,knownAuthorities:[Fq],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new Rl(Fq,this.networkClient,t.nodeStorage,n,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new ap({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new a5(this.logger,t.nodeStorage,this.networkClient,this.cryptoProvider,this.config.disableInternalRetries),this.hashUtils=new rp}async acquireToken(e){if(!e.resource)throw wn(RE.urlEmptyError);let r={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid(),claims:e.claims,clientCapabilities:this.config.clientCapabilities};if(r.forceRefresh)return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority);let[n,o]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(r,this.config,this.cryptoProvider,this.fakeAuthority,t.nodeStorage);if(r.claims){let a=this.managedIdentityClient.getManagedIdentitySource();if(n&&qHe.includes(a)){let c=this.hashUtils.sha256(n.accessToken).toString(os.HEX);r.revokedTokenSha256Hash=c}return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}return n?(o===Rn.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority,!0)),n):this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}async acquireTokenFromManagedIdentity(e,r,n,o){return this.managedIdentityClient.sendManagedIdentityTokenRequest(e,r,n,o)}getManagedIdentitySource(){return a5.sourceName||this.managedIdentityClient.getManagedIdentitySource()}};d();var JR=class{static{s(this,"DistributedCachePlugin")}constructor(e,r){this.client=e,this.partitionManager=r}async beforeCacheAccess(e){let r=await this.partitionManager.getKey(),n=await this.client.get(r);e.tokenCache.deserialize(n)}async afterCacheAccess(e){if(e.cacheHasChanged){let r=e.tokenCache.getKVStore(),n=Object.values(r).filter(a=>ss.isAccountEntity(a)),o;if(n.length>0){let a=n[0];o=await this.partitionManager.extractKey(a)}else o=await this.partitionManager.getKey();await this.client.set(o,e.tokenCache.serialize())}}};d();d();d();d();d();function c5(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}s(c5,"getRandomIntegerInclusive");function l5(t,e){let r=e.retryDelayInMs*Math.pow(2,t),n=Math.min(e.maxRetryDelayInMs,r);return{retryAfterInMs:n/2+c5(0,n/2)}}s(l5,"calculateRetryDelay");d();function tI(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}s(tI,"isObject");d();function T1(t){if(tI(t)){let e=typeof t.name=="string",r=typeof t.message=="string";return e&&r}return!1}s(T1,"isError");d();d();var She=require("node:crypto");var RH,HHe=typeof((RH=globalThis?.crypto)===null||RH===void 0?void 0:RH.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):She.randomUUID;function rI(){return HHe()}s(rI,"randomUUID");d();var kH,DH,NH,QH,Bhe=typeof window<"u"&&typeof window.document<"u",Rhe=typeof self=="object"&&typeof self?.importScripts=="function"&&(((kH=self.constructor)===null||kH===void 0?void 0:kH.name)==="DedicatedWorkerGlobalScope"||((DH=self.constructor)===null||DH===void 0?void 0:DH.name)==="ServiceWorkerGlobalScope"||((NH=self.constructor)===null||NH===void 0?void 0:NH.name)==="SharedWorkerGlobalScope"),khe=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",Dhe=typeof Bun<"u"&&typeof Bun.version<"u",cp=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!(!((QH=globalThis.process.versions)===null||QH===void 0)&&QH.node);var Nhe=typeof navigator<"u"&&navigator?.product==="ReactNative";d();function Wa(t,e){return Buffer.from(t,e)}s(Wa,"stringToUint8Array");d();var PH="REDACTED",GHe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],VHe=["api-version"],Nl=class{static{s(this,"Sanitizer")}constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=GHe.concat(e),r=VHe.concat(r),this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(e){let r=new Set;return JSON.stringify(e,(n,o)=>{if(o instanceof Error)return Object.assign(Object.assign({},o),{name:o.name,message:o.message});if(n==="headers")return this.sanitizeHeaders(o);if(n==="url")return this.sanitizeUrl(o);if(n==="query")return this.sanitizeQuery(o);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(o)||tI(o)){if(r.has(o))return"[Circular]";r.add(o)}return o},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;let r=new URL(e);if(!r.search)return e;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,PH);return r.toString()}sanitizeHeaders(e){let r={};for(let n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=e[n]:r[n]=PH;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=e[n]:r[n]=PH;return r}};d();d();d();d();var w1=class extends Error{static{s(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};function LH(t,e){let{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:o}=e??{};return new Promise((a,c)=>{function l(){c(new w1(o??"The operation was aborted."))}s(l,"rejectOnAbort");function u(){n?.removeEventListener("abort",f)}s(u,"removeListeners");function f(){r?.(),u(),l()}if(s(f,"onAbort"),n?.aborted)return l();try{t(h=>{u(),a(h)},h=>{u(),c(h)})}catch(h){c(h)}n?.addEventListener("abort",f)})}s(LH,"createAbortablePromise");d();var zHe="The delay was aborted.";function MH(t,e){let r,{abortSignal:n,abortErrorMsg:o}=e??{};return LH(a=>{r=setTimeout(a,t)},{cleanupBeforeAbort:s(()=>clearTimeout(r),"cleanupBeforeAbort"),abortSignal:n,abortErrorMsg:o??zHe})}s(MH,"delay");d();function nI(t){if(T1(t))return t.message;{let e;try{typeof t=="object"&&t?e=JSON.stringify(t):e=String(t)}catch{e="[unable to stringify input]"}return`Unknown error ${e}`}}s(nI,"getErrorMessage");d();function Qhe(t,e){return l5(t,e)}s(Qhe,"calculateRetryDelay");function XR(t){return T1(t)}s(XR,"isError");var ZR=cp,iI=cp;d();var u5=Ht("IdentityUtils"),Phe="1.0";function S1(t,e,r){let n=s(o=>(u5.getToken.info(o),new S0({scopes:Array.isArray(t)?t:[t],getTokenOptions:r,message:o})),"error");if(!e)throw n("No response");if(!e.expiresOn)throw n('Response had no "expiresOn" property.');if(!e.accessToken)throw n('Response had no "accessToken" property.')}s(S1,"ensureValidMsalToken");function OH(t){let e=t?.authorityHost;return!e&&iI&&(e=process.env.AZURE_AUTHORITY_HOST),e??Fb}s(OH,"getAuthorityHost");function UH(t,e){return e||(e=Fb),new RegExp(`${t}/?$`).test(e)?e:e.endsWith("/")?e+t:`${e}/${t}`}s(UH,"getAuthority");function Fhe(t,e,r){return t==="adfs"&&e||r?[e]:[]}s(Fhe,"getKnownAuthorities");var e6=s((t,e=ZR?"Node":"Browser")=>(r,n,o)=>{if(!o)switch(r){case Oc.LogLevel.Error:t.info(`MSAL ${e} V2 error: ${n}`);return;case Oc.LogLevel.Info:t.info(`MSAL ${e} V2 info message: ${n}`);return;case Oc.LogLevel.Verbose:t.info(`MSAL ${e} V2 verbose message: ${n}`);return;case Oc.LogLevel.Warning:t.info(`MSAL ${e} V2 warning: ${n}`);return}},"defaultLoggerCallback");function t6(t){switch(t){case"error":return Oc.LogLevel.Error;case"info":return Oc.LogLevel.Info;case"verbose":return Oc.LogLevel.Verbose;case"warning":return Oc.LogLevel.Warning;default:return Oc.LogLevel.Info}}s(t6,"getMSALLogLevel");function B1(t,e,r){if(e.name==="AuthError"||e.name==="ClientAuthError"||e.name==="BrowserAuthError"){let n=e;switch(n.errorCode){case"endpoints_resolution_error":return u5.info(qr(t,e.message)),new ft(e.message);case"device_code_polling_cancelled":return new w1("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":u5.info(qr(t,`Authentication returned errorCode ${n.errorCode}`));break;default:u5.info(qr(t,`Failed to acquire token: ${e.message}`));break}}return e.name==="ClientConfigurationError"||e.name==="BrowserConfigurationAuthError"||e.name==="AbortError"||e.name==="AuthenticationError"?e:e.name==="NativeAuthError"?(u5.info(qr(t,`Error from the native broker: ${e.message} with status code: ${e.statusCode}`)),e):new S0({scopes:t,getTokenOptions:r,message:e.message})}s(B1,"handleMsalError");function Lhe(t){return{localAccountId:t.homeAccountId,environment:t.authority,username:t.username,homeAccountId:t.homeAccountId,tenantId:t.tenantId}}s(Lhe,"publicToMsal");function Mhe(t,e){return{authority:e.environment??S0e,homeAccountId:e.homeAccountId,tenantId:e.tenantId||w0e,username:e.username,clientId:t,version:Phe}}s(Mhe,"msalToPublic");function qH(t){let e=JSON.parse(t);if(e.version&&e.version!==Phe)throw Error("Unsupported AuthenticationRecord version");return e}s(qH,"deserializeAuthenticationRecord");d();d();d();d();d();d();function JHe(t,e){return e!=="Composite"&&e!=="Dictionary"&&(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||e?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||t===void 0||t===null)}s(JHe,"isPrimitiveBody");function XHe(t){let e=Object.assign(Object.assign({},t.headers),t.body);return t.hasNullableType&&Object.getOwnPropertyNames(e).length===0?t.shouldWrapBody?{body:null}:null:t.shouldWrapBody?Object.assign(Object.assign({},t.headers),{body:t.body}):e}s(XHe,"handleNullableResponseAndWrappableBody");function HH(t,e){var r,n;let o=t.parsedHeaders;if(t.request.method==="HEAD")return Object.assign(Object.assign({},o),{body:t.parsedBody});let a=e&&e.bodyMapper,c=!!a?.nullable,l=a?.type.name;if(l==="Stream")return Object.assign(Object.assign({},o),{blobBody:t.blobBody,readableStreamBody:t.readableStreamBody});let u=l==="Composite"&&a.type.modelProperties||{},f=Object.keys(u).some(h=>u[h].serializedName==="");if(l==="Sequence"||f){let h=(r=t.parsedBody)!==null&&r!==void 0?r:[];for(let A of Object.keys(u))u[A].serializedName&&(h[A]=(n=t.parsedBody)===null||n===void 0?void 0:n[A]);if(o)for(let A of Object.keys(o))h[A]=o[A];return c&&!t.parsedBody&&!o&&Object.getOwnPropertyNames(u).length===0?null:h}return XHe({body:t.parsedBody,headers:o,hasNullableType:c,shouldWrapBody:JHe(t.parsedBody,l)})}s(HH,"flattenResponse");var Ku={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"};d();d();d();d();d();var Ju=class extends Error{static{s(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};d();d();d();var Ohe=require("node:os"),Uhe=We(require("node:util"),1),qhe=We(require("node:process"),1);function Hhe(t,...e){qhe.stderr.write(`${Uhe.default.format(t,...e)}${Ohe.EOL}`)}s(Hhe,"log");var Ghe=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,Vhe,GH=[],VH=[],n6=[];Ghe&&WH(Ghe);var Whe=Object.assign(t=>Yhe(t),{enable:WH,enabled:YH,disable:ZHe,log:Hhe});function WH(t){Vhe=t,GH=[],VH=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?VH.push(new RegExp(`^${n.substr(1)}$`)):GH.push(new RegExp(`^${n}$`));for(let n of n6)n.enabled=YH(n.namespace)}s(WH,"enable");function YH(t){if(t.endsWith("*"))return!0;for(let e of VH)if(e.test(t))return!1;for(let e of GH)if(e.test(t))return!0;return!1}s(YH,"enabled");function ZHe(){let t=Vhe||"";return WH(""),t}s(ZHe,"disable");function Yhe(t){let e=Object.assign(r,{enabled:YH(t),destroy:eGe,log:Whe.log,namespace:t,extend:tGe});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return s(r,"debug"),n6.push(e),e}s(Yhe,"createDebugger");function eGe(){let t=n6.indexOf(this);return t>=0?(n6.splice(t,1),!0):!1}s(eGe,"destroy");function tGe(t){let e=Yhe(`${this.namespace}:${t}`);return e.log=this.log,e}s(tGe,"extend");var oI=Whe;var jH=["verbose","info","warning","error"],jhe={verbose:400,info:300,warning:200,error:100};function $he(t,e){e.log=(...r)=>{t.log(...r)}}s($he,"patchLogMethod");function zhe(t){return jH.includes(t)}s(zhe,"isTypeSpecRuntimeLogLevel");function rGe(t){let e=new Set,r=typeof process<"u"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,n,o=oI(t.namespace);o.log=(...h)=>{oI.log(...h)};function a(h){if(h&&!zhe(h))throw new Error(`Unknown log level '${h}'. Acceptable values: ${jH.join(",")}`);n=h;let A=[];for(let p of e)c(p)&&A.push(p.namespace);oI.enable(A.join(","))}s(a,"contextSetLogLevel"),r&&(zhe(r)?a(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${jH.join(", ")}.`));function c(h){return!!(n&&jhe[h.level]<=jhe[n])}s(c,"shouldEnable");function l(h,A){let p=Object.assign(h.extend(A),{level:A});if($he(h,p),c(p)){let m=oI.disable();oI.enable(m+","+p.namespace)}return e.add(p),p}s(l,"createLogger");function u(){return n}s(u,"contextGetLogLevel");function f(h){let A=o.extend(h);return $he(o,A),{error:l(A,"error"),warning:l(A,"warning"),info:l(A,"info"),verbose:l(A,"verbose")}}return s(f,"contextCreateClientLogger"),{setLogLevel:a,getLogLevel:u,createClientLogger:f,logger:o}}s(rGe,"createLoggerContext");var Khe=rGe({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"}),nGe=Khe.logger;function d5(t){return Khe.createClientLogger(t)}s(d5,"createClientLogger");d();function i6(t){return t.toLowerCase()}s(i6,"normalizeName");function*iGe(t){for(let e of t.values())yield[e.name,e.value]}s(iGe,"headerIterator");var $H=class{static{s(this,"HttpHeadersImpl")}constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r])}set(e,r){this._headersMap.set(i6(e),{name:e,value:String(r).trim()})}get(e){var r;return(r=this._headersMap.get(i6(e)))===null||r===void 0?void 0:r.value}has(e){return this._headersMap.has(i6(e))}delete(e){this._headersMap.delete(i6(e))}toJSON(e={}){let r={};if(e.preserveCase)for(let n of this._headersMap.values())r[n.name]=n.value;else for(let[n,o]of this._headersMap)r[n]=o.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return iGe(this._headersMap)}};function Uc(t){return new $H(t)}s(Uc,"createHttpHeaders");d();d();d();var zH=class{static{s(this,"PipelineRequestImpl")}constructor(e){var r,n,o,a,c,l,u;this.url=e.url,this.body=e.body,this.headers=(r=e.headers)!==null&&r!==void 0?r:Uc(),this.method=(n=e.method)!==null&&n!==void 0?n:"GET",this.timeout=(o=e.timeout)!==null&&o!==void 0?o:0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=(a=e.disableKeepAlive)!==null&&a!==void 0?a:!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=(c=e.withCredentials)!==null&&c!==void 0?c:!1,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||rI(),this.allowInsecureConnection=(l=e.allowInsecureConnection)!==null&&l!==void 0?l:!1,this.enableBrowserStreams=(u=e.enableBrowserStreams)!==null&&u!==void 0?u:!1,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}};function o6(t){return new zH(t)}s(o6,"createPipelineRequest");d();var Jhe=new Set(["Deserialize","Serialize","Retry","Sign"]),KH=class t{static{s(this,"HttpPipeline")}constructor(e){var r;this._policies=[],this._policies=(r=e?.slice(0))!==null&&r!==void 0?r:[],this._orderedPolicies=void 0}addPolicy(e,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!Jhe.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!Jhe.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:e,options:r}),this._orderedPolicies=void 0}removePolicy(e){let r=[];return this._policies=this._policies.filter(n=>e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase?(r.push(n.policy),!1):!0),this._orderedPolicies=void 0,r}sendRequest(e,r){return this.getOrderedPolicies().reduceRight((a,c)=>l=>c.sendRequest(l,a),a=>e.sendRequest(a))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new t(this._policies)}static create(){return new t}orderPolicies(){let e=[],r=new Map;function n(g){return{name:g,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}s(n,"createPhase");let o=n("Serialize"),a=n("None"),c=n("Deserialize"),l=n("Retry"),u=n("Sign"),f=[o,a,c,l,u];function h(g){return g==="Retry"?l:g==="Serialize"?o:g==="Deserialize"?c:g==="Sign"?u:a}s(h,"getPhase");for(let g of this._policies){let y=g.policy,E=g.options,I=y.name;if(r.has(I))throw new Error("Duplicate policy names not allowed in pipeline");let x={policy:y,dependsOn:new Set,dependants:new Set};E.afterPhase&&(x.afterPhase=h(E.afterPhase),x.afterPhase.hasAfterPolicies=!0),r.set(I,x),h(E.phase).policies.add(x)}for(let g of this._policies){let{policy:y,options:E}=g,I=y.name,x=r.get(I);if(!x)throw new Error(`Missing node for policy ${I}`);if(E.afterPolicies)for(let v of E.afterPolicies){let b=r.get(v);b&&(x.dependsOn.add(b),b.dependants.add(x))}if(E.beforePolicies)for(let v of E.beforePolicies){let b=r.get(v);b&&(b.dependsOn.add(x),x.dependants.add(b))}}function A(g){g.hasRun=!0;for(let y of g.policies)if(!(y.afterPhase&&(!y.afterPhase.hasRun||y.afterPhase.policies.size))&&y.dependsOn.size===0){e.push(y.policy);for(let E of y.dependants)E.dependsOn.delete(y);r.delete(y.policy.name),g.policies.delete(y)}}s(A,"walkPhase");function p(){for(let g of f){if(A(g),g.policies.size>0&&g!==a){a.hasRun||A(a);return}g.hasAfterPolicies&&A(a)}}s(p,"walkPhases");let m=0;for(;r.size>0;){m++;let g=e.length;if(p(),e.length<=g&&m>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}};function s6(){return KH.create()}s(s6,"createEmptyPipeline");d();d();var Xhe=require("node:util"),Zhe=Xhe.inspect.custom;var oGe=new Nl,us=class t extends Error{static{s(this,"RestError")}constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:!1}),Object.defineProperty(this,"response",{value:r.response,enumerable:!1}),Object.defineProperty(this,Zhe,{value:s(()=>`RestError: ${this.message} 
 ${oGe.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`,"value"),enumerable:!1}),Object.setPrototypeOf(this,t.prototype)}};us.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";us.PARSE_ERROR="PARSE_ERROR";function a6(t){return t instanceof us?!0:T1(t)&&t.name==="RestError"}s(a6,"isRestError");d();d();var sI=We(require("node:http"),1),aI=We(require("node:https"),1),l6=We(require("node:zlib"),1),tAe=require("node:stream");d();var Q0=d5("ts-http-runtime");var sGe={};function h5(t){return t&&typeof t.pipe=="function"}s(h5,"isReadableStream");function eAe(t){return t.readable===!1?Promise.resolve():new Promise(e=>{let r=s(()=>{e(),t.removeListener("close",r),t.removeListener("end",r),t.removeListener("error",r)},"handler");t.on("close",r),t.on("end",r),t.on("error",r)})}s(eAe,"isStreamComplete");function rAe(t){return t&&typeof t.byteLength=="number"}s(rAe,"isArrayBuffer");var c6=class extends tAe.Transform{static{s(this,"ReportTransform")}_transform(e,r,n){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(o){n(o)}}constructor(e){super(),this.loadedBytes=0,this.progressCallback=e}},JH=class{static{s(this,"NodeHttpClient")}constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(e){var r,n,o;let a=new AbortController,c;if(e.abortSignal){if(e.abortSignal.aborted)throw new Ju("The operation was aborted. Request has already been canceled.");c=s(p=>{p.type==="abort"&&a.abort()},"abortListener"),e.abortSignal.addEventListener("abort",c)}let l;e.timeout>0&&(l=setTimeout(()=>{let p=new Nl;Q0.info(`request to '${p.sanitizeUrl(e.url)}' timed out. canceling...`),a.abort()},e.timeout));let u=e.headers.get("Accept-Encoding"),f=u?.includes("gzip")||u?.includes("deflate"),h=typeof e.body=="function"?e.body():e.body;if(h&&!e.headers.has("Content-Length")){let p=uGe(h);p!==null&&e.headers.set("Content-Length",p)}let A;try{if(h&&e.onUploadProgress){let I=e.onUploadProgress,x=new c6(I);x.on("error",v=>{Q0.error("Error in upload progress",v)}),h5(h)?h.pipe(x):x.end(h),h=x}let p=await this.makeRequest(e,a,h);l!==void 0&&clearTimeout(l);let m=aGe(p),y={status:(r=p.statusCode)!==null&&r!==void 0?r:0,headers:m,request:e};if(e.method==="HEAD")return p.resume(),y;A=f?cGe(p,m):p;let E=e.onDownloadProgress;if(E){let I=new c6(E);I.on("error",x=>{Q0.error("Error in download progress",x)}),A.pipe(I),A=I}return!((n=e.streamResponseStatusCodes)===null||n===void 0)&&n.has(Number.POSITIVE_INFINITY)||!((o=e.streamResponseStatusCodes)===null||o===void 0)&&o.has(y.status)?y.readableStreamBody=A:y.bodyAsText=await lGe(A),y}finally{if(e.abortSignal&&c){let p=Promise.resolve();h5(h)&&(p=eAe(h));let m=Promise.resolve();h5(A)&&(m=eAe(A)),Promise.all([p,m]).then(()=>{var g;c&&((g=e.abortSignal)===null||g===void 0||g.removeEventListener("abort",c))}).catch(g=>{Q0.warning("Error when cleaning up abortListener on httpRequest",g)})}}}makeRequest(e,r,n){var o;let a=new URL(e.url),c=a.protocol!=="https:";if(c&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let l=(o=e.agent)!==null&&o!==void 0?o:this.getOrCreateAgent(e,c),u=Object.assign({agent:l,hostname:a.hostname,path:`${a.pathname}${a.search}`,port:a.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})},e.requestOverrides);return new Promise((f,h)=>{let A=c?sI.request(u,f):aI.request(u,f);A.once("error",p=>{var m;h(new us(p.message,{code:(m=p.code)!==null&&m!==void 0?m:us.REQUEST_SEND_ERROR,request:e}))}),r.signal.addEventListener("abort",()=>{let p=new Ju("The operation was aborted. Rejecting from abort signal callback while making request.");A.destroy(p),h(p)}),n&&h5(n)?n.pipe(A):n?typeof n=="string"||Buffer.isBuffer(n)?A.end(n):rAe(n)?A.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):(Q0.error("Unrecognized body type",n),h(new us("Unrecognized body type"))):A.end()})}getOrCreateAgent(e,r){var n;let o=e.disableKeepAlive;if(r)return o?sI.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new sI.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(o&&!e.tlsSettings)return aI.globalAgent;let a=(n=e.tlsSettings)!==null&&n!==void 0?n:sGe,c=this.cachedHttpsAgents.get(a);return c&&c.options.keepAlive===!o||(Q0.info("No cached TLS Agent exist, creating a new Agent"),c=new aI.Agent(Object.assign({keepAlive:!o},a)),this.cachedHttpsAgents.set(a,c)),c}}};function aGe(t){let e=Uc();for(let r of Object.keys(t.headers)){let n=t.headers[r];Array.isArray(n)?n.length>0&&e.set(r,n[0]):n&&e.set(r,n)}return e}s(aGe,"getResponseHeaders");function cGe(t,e){let r=e.get("Content-Encoding");if(r==="gzip"){let n=l6.createGunzip();return t.pipe(n),n}else if(r==="deflate"){let n=l6.createInflate();return t.pipe(n),n}return t}s(cGe,"getDecodedResponseStream");function lGe(t){return new Promise((e,r)=>{let n=[];t.on("data",o=>{Buffer.isBuffer(o)?n.push(o):n.push(Buffer.from(o))}),t.on("end",()=>{e(Buffer.concat(n).toString("utf8"))}),t.on("error",o=>{o&&o?.name==="AbortError"?r(o):r(new us(`Error reading response as text: ${o.message}`,{code:us.PARSE_ERROR}))})})}s(lGe,"streamToText");function uGe(t){return t?Buffer.isBuffer(t)?t.length:h5(t)?null:rAe(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}s(uGe,"getBodyLength");function nAe(){return new JH}s(nAe,"createNodeHttpClient");function u6(){return nAe()}s(u6,"createDefaultHttpClient");d();d();d();d();var XH="logPolicy";function f6(t={}){var e;let r=(e=t.logger)!==null&&e!==void 0?e:Q0.info,n=new Nl({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:XH,async sendRequest(o,a){if(!r.enabled)return a(o);r(`Request: ${n.sanitize(o)}`);let c=await a(o);return r(`Response status code: ${c.status}`),r(`Headers: ${n.sanitize(c.headers)}`),c}}}s(f6,"logPolicy");d();var ZH="redirectPolicy",iAe=["GET","HEAD"];function d6(t={}){let{maxRetries:e=20}=t;return{name:ZH,async sendRequest(r,n){let o=await n(r);return oAe(n,o,e)}}}s(d6,"redirectPolicy");async function oAe(t,e,r,n=0){let{request:o,status:a,headers:c}=e,l=c.get("location");if(l&&(a===300||a===301&&iAe.includes(o.method)||a===302&&iAe.includes(o.method)||a===303&&o.method==="POST"||a===307)&&n<r){let u=new URL(l,o.url);o.url=u.toString(),a===303&&(o.method="GET",o.headers.delete("Content-Length"),delete o.body),o.headers.delete("Authorization");let f=await t(o);return oAe(t,f,r,n+1)}return e}s(oAe,"handleRedirect");d();d();d();function sAe(){return"User-Agent"}s(sAe,"getHeaderName");d();function aAe(){return sAe()}s(aAe,"getUserAgentHeaderName");var E0r=aAe();d();var eG="decompressResponsePolicy";function h6(){return{name:eG,async sendRequest(t,e){return t.method!=="HEAD"&&t.headers.set("Accept-Encoding","gzip,deflate"),e(t)}}}s(h6,"decompressResponsePolicy");d();d();d();d();var fGe="The operation was aborted.";function cAe(t,e,r){return new Promise((n,o)=>{let a,c,l=s(()=>o(new Ju(r?.abortErrorMsg?r?.abortErrorMsg:fGe)),"rejectOnAbort"),u=s(()=>{r?.abortSignal&&c&&r.abortSignal.removeEventListener("abort",c)},"removeListeners");if(c=s(()=>(a&&clearTimeout(a),u(),l()),"onAborted"),r?.abortSignal&&r.abortSignal.aborted)return l();a=setTimeout(()=>{u(),n(e)},t),r?.abortSignal&&r.abortSignal.addEventListener("abort",c)})}s(cAe,"delay");function lAe(t,e){let r=t.headers.get(e);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n}s(lAe,"parseHeaderValueAsNumber");var tG="Retry-After",dGe=["retry-after-ms","x-ms-retry-after-ms",tG];function uAe(t){if(t&&[429,503].includes(t.status))try{for(let o of dGe){let a=lAe(t,o);if(a===0||a)return a*(o===tG?1e3:1)}let e=t.headers.get(tG);if(!e)return;let n=Date.parse(e)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}s(uAe,"getRetryAfterInMs");function fAe(t){return Number.isFinite(uAe(t))}s(fAe,"isThrottlingRetryResponse");function rG(){return{name:"throttlingRetryStrategy",retry({response:t}){let e=uAe(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}s(rG,"throttlingRetryStrategy");var hGe=1e3,AGe=1e3*64;function A6(t={}){var e,r;let n=(e=t.retryDelayInMs)!==null&&e!==void 0?e:hGe,o=(r=t.maxRetryDelayInMs)!==null&&r!==void 0?r:AGe;return{name:"exponentialRetryStrategy",retry({retryCount:a,response:c,responseError:l}){let u=mGe(l),f=u&&t.ignoreSystemErrors,h=pGe(c),A=h&&t.ignoreHttpStatusCodes;return c&&(fAe(c)||!h)||A||f?{skipStrategy:!0}:l&&!u&&!h?{errorToThrow:l}:l5(a,{retryDelayInMs:n,maxRetryDelayInMs:o})}}}s(A6,"exponentialRetryStrategy");function pGe(t){return!!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}s(pGe,"isExponentialRetryResponse");function mGe(t){return t?t.code==="ETIMEDOUT"||t.code==="ESOCKETTIMEDOUT"||t.code==="ECONNREFUSED"||t.code==="ECONNRESET"||t.code==="ENOENT"||t.code==="ENOTFOUND":!1}s(mGe,"isSystemError");d();var gGe=d5("ts-http-runtime retryPolicy"),CGe="retryPolicy";function lp(t,e={maxRetries:3}){let r=e.logger||gGe;return{name:CGe,async sendRequest(n,o){var a,c;let l,u,f=-1;e:for(;;){f+=1,l=void 0,u=void 0;try{r.info(`Retry ${f}: Attempting to send request`,n.requestId),l=await o(n),r.info(`Retry ${f}: Received a response from request`,n.requestId)}catch(h){if(r.error(`Retry ${f}: Received an error from request`,n.requestId),u=h,!h||u.name!=="RestError")throw h;l=u.response}if(!((a=n.abortSignal)===null||a===void 0)&&a.aborted)throw r.error(`Retry ${f}: Request aborted.`),new Ju;if(f>=((c=e.maxRetries)!==null&&c!==void 0?c:3)){if(r.info(`Retry ${f}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),u)throw u;if(l)return l;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${f}: Processing ${t.length} retry strategies.`);t:for(let h of t){let A=h.logger||r;A.info(`Retry ${f}: Processing retry strategy ${h.name}.`);let p=h.retry({retryCount:f,response:l,responseError:u});if(p.skipStrategy){A.info(`Retry ${f}: Skipped.`);continue t}let{errorToThrow:m,retryAfterInMs:g,redirectTo:y}=p;if(m)throw A.error(`Retry ${f}: Retry strategy ${h.name} throws error:`,m),m;if(g||g===0){A.info(`Retry ${f}: Retry strategy ${h.name} retries after ${g}`),await cAe(g,void 0,{abortSignal:n.abortSignal});continue e}if(y){A.info(`Retry ${f}: Retry strategy ${h.name} redirects to ${y}`),n.url=y;continue e}}if(u)throw r.info("None of the retry strategies could work with the received error. Throwing it."),u;if(l)return r.info("None of the retry strategies could work with the received response. Returning it."),l}}}}s(lp,"retryPolicy");var nG="defaultRetryPolicy";function p6(t={}){var e;return{name:nG,sendRequest:lp([rG(),A6(t)],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}s(p6,"defaultRetryPolicy");d();var iG="formDataPolicy";function yGe(t){var e;let r={};for(let[n,o]of t.entries())(e=r[n])!==null&&e!==void 0||(r[n]=[]),r[n].push(o);return r}s(yGe,"formDataToFormDataMap");function m6(){return{name:iG,async sendRequest(t,e){if(cp&&typeof FormData<"u"&&t.body instanceof FormData&&(t.formData=yGe(t.body),t.body=void 0),t.formData){let r=t.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?t.body=EGe(t.formData):await IGe(t.formData,t),t.formData=void 0}return e(t)}}}s(m6,"formDataPolicy");function EGe(t){let e=new URLSearchParams;for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let o of n)e.append(r,o.toString());else e.append(r,n.toString());return e.toString()}s(EGe,"wwwFormUrlEncode");async function IGe(t,e){let r=e.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;e.headers.set("Content-Type",r??"multipart/form-data");let n=[];for(let[o,a]of Object.entries(t))for(let c of Array.isArray(a)?a:[a])if(typeof c=="string")n.push({headers:Uc({"Content-Disposition":`form-data; name="${o}"`}),body:Wa(c,"utf-8")});else{if(c==null||typeof c!="object")throw new Error(`Unexpected value for key ${o}: ${c}. Value should be serialized to string first.`);{let l=c.name||"blob",u=Uc();u.set("Content-Disposition",`form-data; name="${o}"; filename="${l}"`),u.set("Content-Type",c.type||"application/octet-stream"),n.push({headers:u,body:c})}}e.multipartBody={parts:n}}s(IGe,"prepareFormData");d();var OAe=We(DAe(),1),UAe=We(PAe(),1);var pVe="HTTPS_PROXY",mVe="HTTP_PROXY",gVe="ALL_PROXY",CVe="NO_PROXY",dG="proxyPolicy",FAe=[],qAe=!1,yVe=new Map;function v6(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}s(v6,"getEnvironmentValue");function EVe(){if(!process)return;let t=v6(pVe),e=v6(gVe),r=v6(mVe);return t||e||r}s(EVe,"loadEnvironmentProxyValue");function IVe(t,e,r){if(e.length===0)return!1;let n=new URL(t).hostname;if(r?.has(n))return r.get(n);let o=!1;for(let a of e)a[0]==="."?(n.endsWith(a)||n.length===a.length-1&&n===a.slice(1))&&(o=!0):n===a&&(o=!0);return r?.set(n,o),o}s(IVe,"isBypassed");function xVe(){let t=v6(CVe);return qAe=!0,t?t.split(",").map(e=>e.trim()).filter(e=>e.length):[]}s(xVe,"loadNoProxy");function vVe(){let t=EVe();return t?new URL(t):void 0}s(vVe,"getDefaultProxySettingsInternal");function LAe(t){let e;try{e=new URL(t.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${t.host}".`)}return e.port=String(t.port),t.username&&(e.username=t.username),t.password&&(e.password=t.password),e}s(LAe,"getUrlFromProxySettings");function MAe(t,e,r){if(t.agent)return;let o=new URL(t.url).protocol!=="https:";t.tlsSettings&&Q0.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let a=t.headers.toJSON();o?(e.httpProxyAgent||(e.httpProxyAgent=new UAe.HttpProxyAgent(r,{headers:a})),t.agent=e.httpProxyAgent):(e.httpsProxyAgent||(e.httpsProxyAgent=new OAe.HttpsProxyAgent(r,{headers:a})),t.agent=e.httpsProxyAgent)}s(MAe,"setProxyAgentOnRequest");function b6(t,e){qAe||FAe.push(...xVe());let r=t?LAe(t):vVe(),n={};return{name:dG,async sendRequest(o,a){var c;return!o.proxySettings&&r&&!IVe(o.url,(c=e?.customNoProxyList)!==null&&c!==void 0?c:FAe,e?.customNoProxyList?void 0:yVe)?MAe(o,n,r):o.proxySettings&&MAe(o,n,LAe(o.proxySettings)),a(o)}}}s(b6,"proxyPolicy");d();var hG="agentPolicy";function _6(t){return{name:hG,sendRequest:s(async(e,r)=>(e.agent||(e.agent=t),r(e)),"sendRequest")}}s(_6,"agentPolicy");d();var AG="tlsPolicy";function T6(t){return{name:AG,sendRequest:s(async(e,r)=>(e.tlsSettings||(e.tlsSettings=t),r(e)),"sendRequest")}}s(T6,"tlsPolicy");d();d();function w6(t){return typeof t.stream=="function"}s(w6,"isBlob");d();d();function HAe(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:s(function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}},"next")};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}s(HAe,"__values");function ef(t){return this instanceof ef?(this.v=t,this):new ef(t)}s(ef,"__await");function pG(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(m){return function(g){return Promise.resolve(g).then(m,A)}}function l(m,g){n[m]&&(o[m]=function(y){return new Promise(function(E,I){a.push([m,y,E,I])>1||u(m,y)})},g&&(o[m]=g(o[m])))}function u(m,g){try{f(n[m](g))}catch(y){p(a[0][3],y)}}function f(m){m.value instanceof ef?Promise.resolve(m.value.v).then(h,A):p(a[0][2],m)}function h(m){u("next",m)}function A(m){u("throw",m)}function p(m,g){m(g),a.shift(),a.length&&u(a[0][0],a[0][1])}}s(pG,"__asyncGenerator");function GAe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof HAe=="function"?HAe(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(c){return new Promise(function(l,u){c=t[a](c),o(l,u,c.done,c.value)})}}function o(a,c,l,u){Promise.resolve(u).then(function(f){a({value:f,done:l})},c)}}s(GAe,"__asyncValues");var S6=require("stream");function VAe(){return pG(this,arguments,s(function*(){let e=this.getReader();try{for(;;){let{done:r,value:n}=yield ef(e.read());if(r)return yield ef(void 0);yield yield ef(n)}}finally{e.releaseLock()}},"streamAsyncIterator_1"))}s(VAe,"streamAsyncIterator");function bVe(t){t[Symbol.asyncIterator]||(t[Symbol.asyncIterator]=VAe.bind(t)),t.values||(t.values=VAe.bind(t))}s(bVe,"makeAsyncIterable");function WAe(t){return t instanceof ReadableStream?(bVe(t),S6.Readable.fromWeb(t)):t}s(WAe,"ensureNodeStream");function _Ve(t){return t instanceof Uint8Array?S6.Readable.from(Buffer.from(t)):w6(t)?WAe(t.stream()):WAe(t)}s(_Ve,"toStream");async function YAe(t){return function(){let e=t.map(r=>typeof r=="function"?r():r).map(_Ve);return S6.Readable.from(function(){return pG(this,arguments,function*(){var r,n,o,a;for(let f of e)try{for(var c=!0,l=(n=void 0,GAe(f)),u;u=yield ef(l.next()),r=u.done,!r;c=!0)a=u.value,c=!1,yield yield ef(a)}catch(h){n={error:h}}finally{try{!c&&!r&&(o=l.return)&&(yield ef(o.call(l)))}finally{if(n)throw n.error}}})}())}}s(YAe,"concat");function TVe(){return`----AzSDKFormBoundary${rI()}`}s(TVe,"generateBoundary");function wVe(t){let e="";for(let[r,n]of t)e+=`${r}: ${n}\r
`;return e}s(wVe,"encodeHeaders");function SVe(t){return t instanceof Uint8Array?t.byteLength:w6(t)?t.size===-1?void 0:t.size:void 0}s(SVe,"getLength");function BVe(t){let e=0;for(let r of t){let n=SVe(r);if(n===void 0)return;e+=n}return e}s(BVe,"getTotalLength");async function RVe(t,e,r){let n=[Wa(`--${r}`,"utf-8"),...e.flatMap(a=>[Wa(`\r
`,"utf-8"),Wa(wVe(a.headers),"utf-8"),Wa(`\r
`,"utf-8"),a.body,Wa(`\r
--${r}`,"utf-8")]),Wa(`--\r
\r
`,"utf-8")],o=BVe(n);o&&t.headers.set("Content-Length",o),t.body=await YAe(n)}s(RVe,"buildRequestBody");var p5="multipartPolicy",kVe=70,DVe=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function NVe(t){if(t.length>kVe)throw new Error(`Multipart boundary "${t}" exceeds maximum length of 70 characters`);if(Array.from(t).some(e=>!DVe.has(e)))throw new Error(`Multipart boundary "${t}" contains invalid characters`)}s(NVe,"assertValidBoundary");function B6(){return{name:p5,async sendRequest(t,e){var r;if(!t.multipartBody)return e(t);if(t.body)throw new Error("multipartBody and regular body cannot be set at the same time");let n=t.multipartBody.boundary,o=(r=t.headers.get("Content-Type"))!==null&&r!==void 0?r:"multipart/mixed",a=o.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!a)throw new Error(`Got multipart request body, but content-type header was not multipart: ${o}`);let[,c,l]=a;if(l&&n&&l!==n)throw new Error(`Multipart boundary was specified as ${l} in the header, but got ${n} in the request body`);return n??(n=l),n?NVe(n):n=TVe(),t.headers.set("Content-Type",`${c}; boundary=${n}`),await RVe(t,t.multipartBody.parts,n),t.multipartBody=void 0,e(t)}}}s(B6,"multipartPolicy");d();d();d();d();d();d();d();d();d();d();d();d();function R6(){return s6()}s(R6,"createEmptyPipeline");d();d();d();var tf=OA("core-rest-pipeline");d();d();d();d();function gG(t={}){return f6(Object.assign({logger:tf.info},t))}s(gG,"logPolicy");d();function CG(t={}){return d6(t)}s(CG,"redirectPolicy");d();d();d();var uI=We(require("node:os"),1),k6=We(require("node:process"),1);function jAe(){return"User-Agent"}s(jAe,"getHeaderName");async function $Ae(t){if(k6&&k6.versions){let e=k6.versions;e.bun?t.set("Bun",e.bun):e.deno?t.set("Deno",e.deno):e.node&&t.set("Node",e.node)}t.set("OS",`(${uI.arch()}-${uI.type()}-${uI.release()})`)}s($Ae,"setPlatformSpecificData");d();var D6="1.22.0";function HVe(t){let e=[];for(let[r,n]of t){let o=n?`${r}/${n}`:r;e.push(o)}return e.join(" ")}s(HVe,"getUserAgentString");function zAe(){return jAe()}s(zAe,"getUserAgentHeaderName");async function N6(t){let e=new Map;e.set("core-rest-pipeline",D6),await $Ae(e);let r=HVe(e);return t?`${t} ${r}`:r}s(N6,"getUserAgentValue");var KAe=zAe(),JAe="userAgentPolicy";function yG(t={}){let e=N6(t.userAgentPrefix);return{name:JAe,async sendRequest(r,n){return r.headers.has(KAe)||r.headers.set(KAe,await e),n(r)}}}s(yG,"userAgentPolicy");d();d();var XAe=Symbol("rawContent");function EG(t){return typeof t[XAe]=="function"}s(EG,"hasRawContent");function ZAe(t){return EG(t)?t[XAe]():t}s(ZAe,"getRawContent");var Q6=p5;function IG(){let t=B6();return{name:Q6,sendRequest:s(async(e,r)=>{if(e.multipartBody)for(let n of e.multipartBody.parts)EG(n.body)&&(n.body=ZAe(n.body));return t.sendRequest(e,r)},"sendRequest")}}s(IG,"multipartPolicy");d();function xG(){return h6()}s(xG,"decompressResponsePolicy");d();function vG(t={}){return p6(t)}s(vG,"defaultRetryPolicy");d();function bG(){return m6()}s(bG,"formDataPolicy");d();function _G(t,e){return b6(t,e)}s(_G,"proxyPolicy");d();var epe="setClientRequestIdPolicy";function TG(t="x-ms-client-request-id"){return{name:epe,async sendRequest(e,r){return e.headers.has(t)||e.headers.set(t,e.requestId),r(e)}}}s(TG,"setClientRequestIdPolicy");d();function wG(t){return _6(t)}s(wG,"agentPolicy");d();function SG(t){return T6(t)}s(SG,"tlsPolicy");d();d();var fI=us;function m5(t){return a6(t)}s(m5,"isRestError");var tpe="tracingPolicy";function BG(t={}){let e=N6(t.userAgentPrefix),r=new Nl({additionalAllowedQueryParameters:t.additionalAllowedQueryParameters}),n=GVe();return{name:tpe,async sendRequest(o,a){var c;if(!n)return a(o);let l=await e,u={"http.url":r.sanitizeUrl(o.url),"http.method":o.method,"http.user_agent":l,requestId:o.requestId};l&&(u["http.user_agent"]=l);let{span:f,tracingContext:h}=(c=VVe(n,o,u))!==null&&c!==void 0?c:{};if(!f||!h)return a(o);try{let A=await n.withContext(h,a,o);return YVe(f,A),A}catch(A){throw WVe(f,A),A}}}}s(BG,"tracingPolicy");function GVe(){try{return Ob({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:D6})}catch(t){tf.warning(`Error when creating the TracingClient: ${nI(t)}`);return}}s(GVe,"tryCreateTracingClient");function VVe(t,e,r){try{let{span:n,updatedOptions:o}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:r});if(!n.isRecording()){n.end();return}let a=t.createRequestHeaders(o.tracingOptions.tracingContext);for(let[c,l]of Object.entries(a))e.headers.set(c,l);return{span:n,tracingContext:o.tracingOptions.tracingContext}}catch(n){tf.warning(`Skipping creating a tracing span due to an error: ${nI(n)}`);return}}s(VVe,"tryCreateSpan");function WVe(t,e){try{t.setStatus({status:"error",error:XR(e)?e:void 0}),m5(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end()}catch(r){tf.warning(`Skipping tracing span processing due to an error: ${nI(r)}`)}}s(WVe,"tryProcessError");function YVe(t,e){try{t.setAttribute("http.status_code",e.status);let r=e.headers.get("x-ms-request-id");r&&t.setAttribute("serviceRequestId",r),e.status>=400&&t.setStatus({status:"error"}),t.end()}catch(r){tf.warning(`Skipping tracing span processing due to an error: ${nI(r)}`)}}s(YVe,"tryProcessResponse");d();d();function P6(t){if(t instanceof AbortSignal)return{abortSignal:t};if(t.aborted)return{abortSignal:AbortSignal.abort(t.reason)};let e=new AbortController,r=!0;function n(){r&&(t.removeEventListener("abort",o),r=!1)}s(n,"cleanup");function o(){e.abort(t.reason),n()}return s(o,"listener"),t.addEventListener("abort",o),{abortSignal:e.signal,cleanup:n}}s(P6,"wrapAbortSignalLike");var jVe="wrapAbortSignalLikePolicy";function rpe(){return{name:jVe,sendRequest:s(async(t,e)=>{if(!t.abortSignal)return e(t);let{abortSignal:r,cleanup:n}=P6(t.abortSignal);t.abortSignal=r;try{return await e(t)}finally{n?.()}},"sendRequest")}}s(rpe,"wrapAbortSignalLikePolicy");function RG(t){var e;let r=R6();return iI&&(t.agent&&r.addPolicy(wG(t.agent)),t.tlsOptions&&r.addPolicy(SG(t.tlsOptions)),r.addPolicy(_G(t.proxyOptions)),r.addPolicy(xG())),r.addPolicy(rpe()),r.addPolicy(bG(),{beforePolicies:[Q6]}),r.addPolicy(yG(t.userAgentOptions)),r.addPolicy(TG((e=t.telemetryOptions)===null||e===void 0?void 0:e.clientRequestIdHeaderName)),r.addPolicy(IG(),{afterPhase:"Deserialize"}),r.addPolicy(vG(t.retryOptions),{phase:"Retry"}),r.addPolicy(BG(Object.assign(Object.assign({},t.userAgentOptions),t.loggingOptions)),{afterPhase:"Retry"}),iI&&r.addPolicy(CG(t.redirectOptions),{afterPhase:"Retry"}),r.addPolicy(gG(t.loggingOptions),{afterPhase:"Sign"}),r}s(RG,"createPipelineFromOptions");d();function kG(){let t=u6();return{async sendRequest(e){let{abortSignal:r,cleanup:n}=e.abortSignal?P6(e.abortSignal):{};try{return e.abortSignal=r,await t.sendRequest(e)}finally{n?.()}}}}s(kG,"createDefaultHttpClient");d();function fp(t){return Uc(t)}s(fp,"createHttpHeaders");d();function Ql(t){return o6(t)}s(Ql,"createPipelineRequest");d();d();d();d();var zVe=OA("core-rest-pipeline retryPolicy");function DG(t,e={maxRetries:3}){return lp(t,Object.assign({logger:zVe},e))}s(DG,"retryPolicy");d();d();var KVe={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function JVe(t,e,r){async function n(){if(Date.now()<r)try{return await t()}catch{return null}else{let a=await t();if(a===null)throw new Error("Failed to refresh access token.");return a}}s(n,"tryGetAccessToken");let o=await n();for(;o===null;)await MH(e),o=await n();return o}s(JVe,"beginRefresh");function NG(t,e){let r=null,n=null,o,a=Object.assign(Object.assign({},KVe),e),c={get isRefreshing(){return r!==null},get shouldRefresh(){var u;return c.isRefreshing?!1:n?.refreshAfterTimestamp&&n.refreshAfterTimestamp<Date.now()?!0:((u=n?.expiresOnTimestamp)!==null&&u!==void 0?u:0)-a.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-a.forcedRefreshWindowInMs<Date.now()}};function l(u,f){var h;return c.isRefreshing||(r=JVe(s(()=>t.getToken(u,f),"tryGetAccessToken"),a.retryIntervalInMs,(h=n?.expiresOnTimestamp)!==null&&h!==void 0?h:Date.now()).then(p=>(r=null,n=p,o=f.tenantId,n)).catch(p=>{throw r=null,n=null,o=void 0,p})),r}return s(l,"refresh"),async(u,f)=>{let h=!!f.claims,A=o!==f.tenantId;return h&&(n=null),A||h||c.mustRefresh?l(u,f):(c.shouldRefresh&&l(u,f),n)}}s(NG,"createTokenCycler");var spe="bearerTokenAuthenticationPolicy";async function F6(t,e){try{return[await e(t),void 0]}catch(r){if(m5(r)&&r.response)return[r.response,r];throw r}}s(F6,"trySendRequest");async function XVe(t){let{scopes:e,getAccessToken:r,request:n}=t,o={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions,enableCae:!0},a=await r(e,o);a&&t.request.headers.set("Authorization",`Bearer ${a.token}`)}s(XVe,"defaultAuthorizeRequest");function npe(t){return t.status===401&&t.headers.has("WWW-Authenticate")}s(npe,"isChallengeResponse");async function ipe(t,e){var r;let{scopes:n}=t,o=await t.getAccessToken(n,{enableCae:!0,claims:e});return o?(t.request.headers.set("Authorization",`${(r=o.tokenType)!==null&&r!==void 0?r:"Bearer"} ${o.token}`),!0):!1}s(ipe,"authorizeRequestOnCaeChallenge");function L6(t){var e,r,n;let{credential:o,scopes:a,challengeCallbacks:c}=t,l=t.logger||tf,u={authorizeRequest:(r=(e=c?.authorizeRequest)===null||e===void 0?void 0:e.bind(c))!==null&&r!==void 0?r:XVe,authorizeRequestOnChallenge:(n=c?.authorizeRequestOnChallenge)===null||n===void 0?void 0:n.bind(c)},f=o?NG(o):()=>Promise.resolve(null);return{name:spe,async sendRequest(h,A){if(!h.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await u.authorizeRequest({scopes:Array.isArray(a)?a:[a],request:h,getAccessToken:f,logger:l});let p,m,g;if([p,m]=await F6(h,A),npe(p)){let y=ope(p.headers.get("WWW-Authenticate"));if(y){let E;try{E=atob(y)}catch{return l.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${y}`),p}g=await ipe({scopes:Array.isArray(a)?a:[a],response:p,request:h,getAccessToken:f,logger:l},E),g&&([p,m]=await F6(h,A))}else if(u.authorizeRequestOnChallenge&&(g=await u.authorizeRequestOnChallenge({scopes:Array.isArray(a)?a:[a],request:h,response:p,getAccessToken:f,logger:l}),g&&([p,m]=await F6(h,A)),npe(p)&&(y=ope(p.headers.get("WWW-Authenticate")),y))){let E;try{E=atob(y)}catch{return l.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${y}`),p}g=await ipe({scopes:Array.isArray(a)?a:[a],response:p,request:h,getAccessToken:f,logger:l},E),g&&([p,m]=await F6(h,A))}}if(m)throw m;return p}}}s(L6,"bearerTokenAuthenticationPolicy");function ZVe(t){let e=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,r=/(\w+)="([^"]*)"/g,n=[],o;for(;(o=e.exec(t))!==null;){let a=o[1],c=o[2],l={},u;for(;(u=r.exec(c))!==null;)l[u[1]]=u[2];n.push({scheme:a,params:l})}return n}s(ZVe,"parseChallenges");function ope(t){var e;return t?(e=ZVe(t).find(n=>n.scheme==="Bearer"&&n.params.claims&&n.params.error==="insufficient_claims"))===null||e===void 0?void 0:e.params.claims:void 0}s(ope,"getCaeChallengeClaims");d();d();d();d();d();d();var cpe=We(ape(),1),QG=cpe.state;function dp(t,e,r){let n=e.parameterPath,o=e.mapper,a;if(typeof n=="string"&&(n=[n]),Array.isArray(n)){if(n.length>0)if(o.isConstant)a=o.defaultValue;else{let c=lpe(t,n);!c.propertyFound&&r&&(c=lpe(r,n));let l=!1;c.propertyFound||(l=o.required||n[0]==="options"&&n.length===2),a=l?o.defaultValue:c.propertyValue}}else{o.required&&(a={});for(let c in n){let l=o.type.modelProperties[c],u=n[c],f=dp(t,{parameterPath:u,mapper:l},r);f!==void 0&&(a||(a={}),a[c]=f)}}return a}s(dp,"getOperationArgumentValueFromParameter");function lpe(t,e){let r={propertyFound:!1},n=0;for(;n<e.length;++n){let o=e[n];if(t&&o in t)t=t[o];else break}return n===e.length&&(r.propertyValue=t,r.propertyFound=!0),r}s(lpe,"getPropertyFromParameterPath");var upe=Symbol.for("@azure/core-client original request");function eWe(t){return upe in t}s(eWe,"hasOriginalRequest");function Gd(t){if(eWe(t))return Gd(t[upe]);let e=QG.operationRequestMap.get(t);return e||(e={},QG.operationRequestMap.set(t,e)),e}s(Gd,"getOperationRequestInfo");var tWe=["application/json","text/json"],rWe=["application/xml","application/atom+xml"],fpe="deserializationPolicy";function PG(t={}){var e,r,n,o,a,c,l;let u=(r=(e=t.expectedContentTypes)===null||e===void 0?void 0:e.json)!==null&&r!==void 0?r:tWe,f=(o=(n=t.expectedContentTypes)===null||n===void 0?void 0:n.xml)!==null&&o!==void 0?o:rWe,h=t.parseXML,A=t.serializerOptions,p={xml:{rootName:(a=A?.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(c=A?.xml.includeRoot)!==null&&c!==void 0?c:!1,xmlCharKey:(l=A?.xml.xmlCharKey)!==null&&l!==void 0?l:"_"}};return{name:fpe,async sendRequest(m,g){let y=await g(m);return oWe(u,f,y,p,h)}}}s(PG,"deserializationPolicy");function nWe(t){let e,r=t.request,n=Gd(r),o=n?.operationSpec;return o&&(n?.operationResponseGetter?e=n?.operationResponseGetter(o,t):e=o.responses[t.status]),e}s(nWe,"getOperationResponseMap");function iWe(t){let e=t.request,r=Gd(e),n=r?.shouldDeserialize,o;return n===void 0?o=!0:typeof n=="boolean"?o=n:o=n(t),o}s(iWe,"shouldDeserializeResponse");async function oWe(t,e,r,n,o){let a=await cWe(t,e,r,n,o);if(!iWe(a))return a;let c=Gd(a.request),l=c?.operationSpec;if(!l||!l.responses)return a;let u=nWe(a),{error:f,shouldReturnResponse:h}=aWe(a,l,u,n);if(f)throw f;if(h)return a;if(u){if(u.bodyMapper){let A=a.parsedBody;l.isXML&&u.bodyMapper.type.name===Ku.Sequence&&(A=typeof A=="object"?A[u.bodyMapper.xmlElementName]:[]);try{a.parsedBody=l.serializer.deserialize(u.bodyMapper,A,"operationRes.parsedBody",n)}catch(p){throw new fI(`Error ${p} occurred in deserializing the responseBody - ${a.bodyAsText}`,{statusCode:a.status,request:a.request,response:a})}}else l.httpMethod==="HEAD"&&(a.parsedBody=r.status>=200&&r.status<300);u.headersMapper&&(a.parsedHeaders=l.serializer.deserialize(u.headersMapper,a.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return a}s(oWe,"deserializeResponseBody");function sWe(t){let e=Object.keys(t.responses);return e.length===0||e.length===1&&e[0]==="default"}s(sWe,"isOperationSpecEmpty");function aWe(t,e,r,n){var o;let a=200<=t.status&&t.status<300;if(sWe(e)?a:!!r)if(r){if(!r.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};let l=r??e.responses.default,u=!((o=t.request.streamResponseStatusCodes)===null||o===void 0)&&o.has(t.status)?`Unexpected status code: ${t.status}`:t.bodyAsText,f=new fI(u,{statusCode:t.status,request:t.request,response:t});if(!l)throw f;let h=l.bodyMapper,A=l.headersMapper;try{if(t.parsedBody){let p=t.parsedBody,m;if(h){let y=p;if(e.isXML&&h.type.name===Ku.Sequence){y=[];let E=h.xmlElementName;typeof p=="object"&&E&&(y=p[E])}m=e.serializer.deserialize(h,y,"error.response.parsedBody",n)}let g=p.error||m||p;f.code=g.code,g.message&&(f.message=g.message),h&&(f.response.parsedBody=m)}t.headers&&A&&(f.response.parsedHeaders=e.serializer.deserialize(A,t.headers.toJSON(),"operationRes.parsedHeaders"))}catch(p){f.message=`Error "${p.message}" occurred in deserializing the responseBody - "${t.bodyAsText}" for the default response.`}return{error:f,shouldReturnResponse:!1}}s(aWe,"handleErrorResponse");async function cWe(t,e,r,n,o){var a;if(!(!((a=r.request.streamResponseStatusCodes)===null||a===void 0)&&a.has(r.status))&&r.bodyAsText){let c=r.bodyAsText,l=r.headers.get("Content-Type")||"",u=l?l.split(";").map(f=>f.toLowerCase()):[];try{if(u.length===0||u.some(f=>t.indexOf(f)!==-1))return r.parsedBody=JSON.parse(c),r;if(u.some(f=>e.indexOf(f)!==-1)){if(!o)throw new Error("Parsing XML not supported.");let f=await o(c,n.xml);return r.parsedBody=f,r}}catch(f){let h=`Error "${f}" occurred while parsing the response body - ${r.bodyAsText}.`,A=f.code||fI.PARSE_ERROR;throw new fI(h,{code:A,statusCode:r.status,request:r.request,response:r})}}return r}s(cWe,"parse");d();d();function dpe(t){let e=new Set;for(let r in t.responses){let n=t.responses[r];n.bodyMapper&&n.bodyMapper.type.name===Ku.Stream&&e.add(Number(r))}return e}s(dpe,"getStreamingResponseStatusCodes");function rf(t){let{parameterPath:e,mapper:r}=t,n;return typeof e=="string"?n=e:Array.isArray(e)?n=e.join("."):n=r.serializedName,n}s(rf,"getPathStringFromParameter");var hpe="serializationPolicy";function FG(t={}){let e=t.stringifyXML;return{name:hpe,async sendRequest(r,n){let o=Gd(r),a=o?.operationSpec,c=o?.operationArguments;return a&&c&&(lWe(r,c,a),uWe(r,c,a,e)),n(r)}}}s(FG,"serializationPolicy");function lWe(t,e,r){var n,o;if(r.headerParameters)for(let c of r.headerParameters){let l=dp(e,c);if(l!=null||c.mapper.required){l=r.serializer.serialize(c.mapper,l,rf(c));let u=c.mapper.headerCollectionPrefix;if(u)for(let f of Object.keys(l))t.headers.set(u+f,l[f]);else t.headers.set(c.mapper.serializedName||rf(c),l)}}let a=(o=(n=e.options)===null||n===void 0?void 0:n.requestOptions)===null||o===void 0?void 0:o.customHeaders;if(a)for(let c of Object.keys(a))t.headers.set(c,a[c])}s(lWe,"serializeHeaders");function uWe(t,e,r,n=function(){throw new Error("XML serialization unsupported!")}){var o,a,c,l,u;let f=(o=e.options)===null||o===void 0?void 0:o.serializerOptions,h={xml:{rootName:(a=f?.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(c=f?.xml.includeRoot)!==null&&c!==void 0?c:!1,xmlCharKey:(l=f?.xml.xmlCharKey)!==null&&l!==void 0?l:"_"}},A=h.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){t.body=dp(e,r.requestBody);let p=r.requestBody.mapper,{required:m,serializedName:g,xmlName:y,xmlElementName:E,xmlNamespace:I,xmlNamespacePrefix:x,nullable:v}=p,b=p.type.name;try{if(t.body!==void 0&&t.body!==null||v&&t.body===null||m){let _=rf(r.requestBody);t.body=r.serializer.serialize(p,t.body,_,h);let S=b===Ku.Stream;if(r.isXML){let w=x?`xmlns:${x}`:"xmlns",L=fWe(I,w,b,t.body,h);b===Ku.Sequence?t.body=n(dWe(L,E||y||g,w,I),{rootName:y||g,xmlCharKey:A}):S||(t.body=n(L,{rootName:y||g,xmlCharKey:A}))}else{if(b===Ku.String&&(!((u=r.contentType)===null||u===void 0)&&u.match("text/plain")||r.mediaType==="text"))return;S||(t.body=JSON.stringify(t.body))}}}catch(_){throw new Error(`Error "${_.message}" occurred in serializing the payload - ${JSON.stringify(g,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0){t.formData={};for(let p of r.formDataParameters){let m=dp(e,p);if(m!=null){let g=p.mapper.serializedName||rf(p);t.formData[g]=r.serializer.serialize(p.mapper,m,rf(p),h)}}}}s(uWe,"serializeRequestBody");function fWe(t,e,r,n,o){if(t&&!["Composite","Sequence","Dictionary"].includes(r)){let a={};return a[o.xml.xmlCharKey]=n,a["$"]={[e]:t},a}return n}s(fWe,"getXmlValueWithNamespace");function dWe(t,e,r,n){if(Array.isArray(t)||(t=[t]),!r||!n)return{[e]:t};let o={[e]:t};return o["$"]={[r]:n},o}s(dWe,"prepareXMLRootList");function LG(t={}){let e=RG(t??{});return t.credentialOptions&&e.addPolicy(L6({credential:t.credentialOptions.credential,scopes:t.credentialOptions.credentialScopes})),e.addPolicy(FG(t.serializationOptions),{phase:"Serialize"}),e.addPolicy(PG(t.deserializationOptions),{phase:"Deserialize"}),e}s(LG,"createClientPipeline");d();var MG;function Ape(){return MG||(MG=kG()),MG}s(Ape,"getCachedDefaultHttpClient");d();var hWe={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function mpe(t,e,r,n){let o=AWe(e,r,n),a=!1,c=ppe(t,o);if(e.path){let f=ppe(e.path,o);e.path==="/{nextLink}"&&f.startsWith("/")&&(f=f.substring(1)),pWe(f)?(c=f,a=!0):c=mWe(c,f)}let{queryParams:l,sequenceParams:u}=gWe(e,r,n);return c=yWe(c,l,u,a),c}s(mpe,"getRequestUrl");function ppe(t,e){let r=t;for(let[n,o]of e)r=r.split(n).join(o);return r}s(ppe,"replaceAll");function AWe(t,e,r){var n;let o=new Map;if(!((n=t.urlParameters)===null||n===void 0)&&n.length)for(let a of t.urlParameters){let c=dp(e,a,r),l=rf(a);c=t.serializer.serialize(a.mapper,c,l),a.skipEncoding||(c=encodeURIComponent(c)),o.set(`{${a.mapper.serializedName||l}}`,c)}return o}s(AWe,"calculateUrlReplacements");function pWe(t){return t.includes("://")}s(pWe,"isAbsoluteUrl");function mWe(t,e){if(!e)return t;let r=new URL(t),n=r.pathname;n.endsWith("/")||(n=`${n}/`),e.startsWith("/")&&(e=e.substring(1));let o=e.indexOf("?");if(o!==-1){let a=e.substring(0,o),c=e.substring(o+1);n=n+a,c&&(r.search=r.search?`${r.search}&${c}`:c)}else n=n+e;return r.pathname=n,r.toString()}s(mWe,"appendPath");function gWe(t,e,r){var n;let o=new Map,a=new Set;if(!((n=t.queryParameters)===null||n===void 0)&&n.length)for(let c of t.queryParameters){c.mapper.type.name==="Sequence"&&c.mapper.serializedName&&a.add(c.mapper.serializedName);let l=dp(e,c,r);if(l!=null||c.mapper.required){l=t.serializer.serialize(c.mapper,l,rf(c));let u=c.collectionFormat?hWe[c.collectionFormat]:"";if(Array.isArray(l)&&(l=l.map(f=>f??"")),c.collectionFormat==="Multi"&&l.length===0)continue;Array.isArray(l)&&(c.collectionFormat==="SSV"||c.collectionFormat==="TSV")&&(l=l.join(u)),c.skipEncoding||(Array.isArray(l)?l=l.map(f=>encodeURIComponent(f)):l=encodeURIComponent(l)),Array.isArray(l)&&(c.collectionFormat==="CSV"||c.collectionFormat==="Pipes")&&(l=l.join(u)),o.set(c.mapper.serializedName||rf(c),l)}}return{queryParams:o,sequenceParams:a}}s(gWe,"calculateQueryParameters");function CWe(t){let e=new Map;if(!t||t[0]!=="?")return e;t=t.slice(1);let r=t.split("&");for(let n of r){let[o,a]=n.split("=",2),c=e.get(o);c?Array.isArray(c)?c.push(a):e.set(o,[c,a]):e.set(o,a)}return e}s(CWe,"simpleParseQueryParams");function yWe(t,e,r,n=!1){if(e.size===0)return t;let o=new URL(t),a=CWe(o.search);for(let[l,u]of e){let f=a.get(l);if(Array.isArray(f))if(Array.isArray(u)){f.push(...u);let h=new Set(f);a.set(l,Array.from(h))}else f.push(u);else f?(Array.isArray(u)?u.unshift(f):r.has(l)&&a.set(l,[f,u]),n||a.set(l,u)):a.set(l,u)}let c=[];for(let[l,u]of a)if(typeof u=="string")c.push(`${l}=${u}`);else if(Array.isArray(u))for(let f of u)c.push(`${l}=${f}`);else c.push(`${l}=${u}`);return o.search=c.length?`?${c.join("&")}`:"",o.toString()}s(yWe,"appendQueryParams");d();var OG=OA("core-client");var g5=class{static{s(this,"ServiceClient")}constructor(e={}){var r,n;if(this._requestContentType=e.requestContentType,this._endpoint=(r=e.endpoint)!==null&&r!==void 0?r:e.baseUri,e.baseUri&&OG.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||Ape(),this.pipeline=e.pipeline||EWe(e),!((n=e.additionalPolicies)===null||n===void 0)&&n.length)for(let{policy:o,position:a}of e.additionalPolicies){let c=a==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(o,{afterPhase:c})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,r){let n=r.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let o=mpe(n,r,e,this),a=Ql({url:o});a.method=r.httpMethod;let c=Gd(a);c.operationSpec=r,c.operationArguments=e;let l=r.contentType||this._requestContentType;l&&r.requestBody&&a.headers.set("Content-Type",l);let u=e.options;if(u){let f=u.requestOptions;f&&(f.timeout&&(a.timeout=f.timeout),f.onUploadProgress&&(a.onUploadProgress=f.onUploadProgress),f.onDownloadProgress&&(a.onDownloadProgress=f.onDownloadProgress),f.shouldDeserialize!==void 0&&(c.shouldDeserialize=f.shouldDeserialize),f.allowInsecureConnection&&(a.allowInsecureConnection=!0)),u.abortSignal&&(a.abortSignal=u.abortSignal),u.tracingOptions&&(a.tracingOptions=u.tracingOptions)}this._allowInsecureConnection&&(a.allowInsecureConnection=!0),a.streamResponseStatusCodes===void 0&&(a.streamResponseStatusCodes=dpe(r));try{let f=await this.sendRequest(a),h=HH(f,r.responses[f.status]);return u?.onResponse&&u.onResponse(f,h),h}catch(f){if(typeof f=="object"&&f?.response){let h=f.response,A=HH(h,r.responses[f.statusCode]||r.responses.default);f.details=A,u?.onResponse&&u.onResponse(h,A,f)}throw f}}};function EWe(t){let e=IWe(t),r=t.credential&&e?{credentialScopes:e,credential:t.credential}:void 0;return LG(Object.assign(Object.assign({},t),{credentialOptions:r}))}s(EWe,"createDefaultPipeline");function IWe(t){if(t.credentialScopes)return t.credentialScopes;if(t.endpoint)return`${t.endpoint}/.default`;if(t.baseUri)return`${t.baseUri}/.default`;if(t.credential&&!t.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}s(IWe,"getCredentialScopes");d();d();d();function gpe(t){return t==="adfs"?"oauth2/token":"oauth2/v2.0/token"}s(gpe,"getIdentityTokenEndpointSuffix");d();var Cpe="/.default",ype="Specifying a `clientId` or `resourceId` is not supported by the Service Fabric managed identity environment. The managed identity configuration is determined by the Service Fabric cluster resource configuration. See https://aka.ms/servicefabricmi for more information";function C5(t){let e="";if(Array.isArray(t)){if(t.length!==1)return;e=t[0]}else typeof t=="string"&&(e=t);return e.endsWith(Cpe)?e.substr(0,e.lastIndexOf(Cpe)):e}s(C5,"mapScopesToResource");function Epe(t){if(typeof t.expires_on=="number")return t.expires_on*1e3;if(typeof t.expires_on=="string"){let e=+t.expires_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.expires_on);if(!isNaN(r))return r}if(typeof t.expires_in=="number")return Date.now()+t.expires_in*1e3;throw new Error(`Failed to parse token expiration from body. expires_in="${t.expires_in}", expires_on="${t.expires_on}"`)}s(Epe,"parseExpirationTimestamp");function Ipe(t){if(t.refresh_on){if(typeof t.refresh_on=="number")return t.refresh_on*1e3;if(typeof t.refresh_on=="string"){let e=+t.refresh_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.refresh_on);if(!isNaN(r))return r}throw new Error(`Failed to parse refresh_on from body. refresh_on="${t.refresh_on}"`)}else return}s(Ipe,"parseRefreshTimestamp");var y5="noCorrelationId";function xWe(t){let e=t?.authorityHost;return ZR&&(e=e??process.env.AZURE_AUTHORITY_HOST),e??Fb}s(xWe,"getIdentityClientAuthorityHost");var hp=class extends g5{static{s(this,"IdentityClient")}authorityHost;allowLoggingAccountIdentifiers;abortControllers;allowInsecureConnection=!1;tokenCredentialOptions;constructor(e){let r=`azsdk-js-identity/${f8}`,n=e?.userAgentOptions?.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${r}`:`${r}`,o=xWe(e);if(!o.startsWith("https:"))throw new Error("The authorityHost address must use the 'https' protocol.");super({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3},...e,userAgentOptions:{userAgentPrefix:n},baseUri:o}),this.authorityHost=o,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=e?.loggingOptions?.allowLoggingAccountIdentifiers,this.tokenCredentialOptions={...e},e?.allowInsecureConnection&&(this.allowInsecureConnection=e.allowInsecureConnection)}async sendTokenRequest(e){Nc.info(`IdentityClient: sending token request to [${e.url}]`);let r=await this.sendRequest(e);if(r.bodyAsText&&(r.status===200||r.status===201)){let n=JSON.parse(r.bodyAsText);if(!n.access_token)return null;this.logIdentifiers(r);let o={accessToken:{token:n.access_token,expiresOnTimestamp:Epe(n),refreshAfterTimestamp:Ipe(n),tokenType:"Bearer"},refreshToken:n.refresh_token};return Nc.info(`IdentityClient: [${e.url}] token acquired, expires on ${o.accessToken.expiresOnTimestamp}`),o}else{let n=new MA(r.status,r.bodyAsText);throw Nc.warning(`IdentityClient: authentication error. HTTP status: ${r.status}, ${n.errorResponse.errorDescription}`),n}}async refreshAccessToken(e,r,n,o,a,c={}){if(o===void 0)return null;Nc.info(`IdentityClient: refreshing access token with client ID: ${r}, scopes: ${n} started`);let l={grant_type:"refresh_token",client_id:r,refresh_token:o,scope:n};a!==void 0&&(l.client_secret=a);let u=new URLSearchParams(l);return pn.withSpan("IdentityClient.refreshAccessToken",c,async f=>{try{let h=gpe(e),A=Ql({url:`${this.authorityHost}/${e}/${h}`,method:"POST",body:u.toString(),abortSignal:c.abortSignal,headers:fp({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),tracingOptions:f.tracingOptions}),p=await this.sendTokenRequest(A);return Nc.info(`IdentityClient: refreshed token for client ID: ${r}`),p}catch(h){if(h.name===h8&&h.errorResponse.error==="interaction_required")return Nc.info(`IdentityClient: interaction required for client ID: ${r}`),null;throw Nc.warning(`IdentityClient: failed refreshing token for client ID: ${r}: ${h}`),h}})}generateAbortSignal(e){let r=new AbortController,n=this.abortControllers.get(e)||[];n.push(r),this.abortControllers.set(e,n);let o=r.signal.onabort;return r.signal.onabort=(...a)=>{this.abortControllers.set(e,void 0),o&&o.apply(r.signal,a)},r.signal}abortRequests(e){let r=e||y5,n=[...this.abortControllers.get(r)||[],...this.abortControllers.get(y5)||[]];if(n.length){for(let o of n)o.abort();this.abortControllers.set(r,void 0)}}getCorrelationId(e){let r=e?.body?.split("&").map(n=>n.split("=")).find(([n])=>n==="client-request-id");return r&&r.length&&r[1]||y5}async sendGetRequestAsync(e,r){let n=Ql({url:e,method:"GET",body:r?.body,allowInsecureConnection:this.allowInsecureConnection,headers:fp(r?.headers),abortSignal:this.generateAbortSignal(y5)}),o=await this.sendRequest(n);return this.logIdentifiers(o),{body:o.bodyAsText?JSON.parse(o.bodyAsText):void 0,headers:o.headers.toJSON(),status:o.status}}async sendPostRequestAsync(e,r){let n=Ql({url:e,method:"POST",body:r?.body,headers:fp(r?.headers),allowInsecureConnection:this.allowInsecureConnection,abortSignal:this.generateAbortSignal(this.getCorrelationId(r))}),o=await this.sendRequest(n);return this.logIdentifiers(o),{body:o.bodyAsText?JSON.parse(o.bodyAsText):void 0,headers:o.headers.toJSON(),status:o.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(e){if(!this.allowLoggingAccountIdentifiers||!e.bodyAsText)return;let r="No User Principal Name available";try{let o=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!o)return;let a=o.split(".")[1],{appid:c,upn:l,tid:u,oid:f}=JSON.parse(Buffer.from(a,"base64").toString("utf8"));Nc.info(`[Authenticated account] Client ID: ${c}. Tenant ID: ${u}. User Principal Name: ${l||r}. Object ID (user): ${f}`)}catch(n){Nc.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",n.message)}}};d();var UG;(function(t){t.AutoDiscoverRegion="AutoDiscoverRegion",t.USWest="westus",t.USWest2="westus2",t.USCentral="centralus",t.USEast="eastus",t.USEast2="eastus2",t.USNorthCentral="northcentralus",t.USSouthCentral="southcentralus",t.USWestCentral="westcentralus",t.CanadaCentral="canadacentral",t.CanadaEast="canadaeast",t.BrazilSouth="brazilsouth",t.EuropeNorth="northeurope",t.EuropeWest="westeurope",t.UKSouth="uksouth",t.UKWest="ukwest",t.FranceCentral="francecentral",t.FranceSouth="francesouth",t.SwitzerlandNorth="switzerlandnorth",t.SwitzerlandWest="switzerlandwest",t.GermanyNorth="germanynorth",t.GermanyWestCentral="germanywestcentral",t.NorwayWest="norwaywest",t.NorwayEast="norwayeast",t.AsiaEast="eastasia",t.AsiaSouthEast="southeastasia",t.JapanEast="japaneast",t.JapanWest="japanwest",t.AustraliaEast="australiaeast",t.AustraliaSouthEast="australiasoutheast",t.AustraliaCentral="australiacentral",t.AustraliaCentral2="australiacentral2",t.IndiaCentral="centralindia",t.IndiaSouth="southindia",t.IndiaWest="westindia",t.KoreaSouth="koreasouth",t.KoreaCentral="koreacentral",t.UAECentral="uaecentral",t.UAENorth="uaenorth",t.SouthAfricaNorth="southafricanorth",t.SouthAfricaWest="southafricawest",t.ChinaNorth="chinanorth",t.ChinaEast="chinaeast",t.ChinaNorth2="chinanorth2",t.ChinaEast2="chinaeast2",t.GermanyCentral="germanycentral",t.GermanyNorthEast="germanynortheast",t.GovernmentUSVirginia="usgovvirginia",t.GovernmentUSIowa="usgoviowa",t.GovernmentUSArizona="usgovarizona",t.GovernmentUSTexas="usgovtexas",t.GovernmentUSDodEast="usdodeast",t.GovernmentUSDodCentral="usdodcentral"})(UG||(UG={}));function O6(t){let e=t;return e===void 0&&globalThis.process?.env?.AZURE_REGIONAL_AUTHORITY_NAME!==void 0&&(e=process.env.AZURE_REGIONAL_AUTHORITY_NAME),e===UG.AutoDiscoverRegion?"AUTO_DISCOVER":e}s(O6,"calculateRegionalAuthority");d();d();function vWe(t){return`The current credential is not configured to acquire tokens for tenant ${t}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`}s(vWe,"createConfigurationErrorMessage");function bi(t,e,r=[],n){let o;if(process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH||t==="adfs"?o=t:o=e?.tenantId??t,t&&o!==t&&!r.includes("*")&&!r.some(a=>a.localeCompare(o)===0)){let a=vWe(o);throw n?.info(a),new ft(a)}return o}s(bi,"processMultiTenantRequest");function Ho(t,e){if(!e.match(/^[0-9a-zA-Z-.]+$/)){let r=new Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw t.info(qr("",r)),r}}s(Ho,"checkTenantId");function dI(t,e,r){return e?(Ho(t,e),e):(r||(r=Qg),r!==Qg?"common":"organizations")}s(dI,"resolveTenantId");function Pi(t){return!t||t.length===0?[]:t.includes("*")?B0e:t}s(Pi,"resolveAdditionallyAllowedTenantIds");var ua=Ht("MsalClient");function UWe(t,e,r={}){let n=dI(r.logger??ua,e,t),o=UH(n,OH(r)),a=new hp({...r.tokenCredentialOptions,authorityHost:o,loggingOptions:r.loggingOptions});return{auth:{clientId:t,authority:o,knownAuthorities:Fhe(n,o,r.disableInstanceDiscovery)},system:{networkClient:a,loggerOptions:{loggerCallback:e6(r.logger??ua),logLevel:t6(C8()),piiLoggingEnabled:r.loggingOptions?.enableUnsafeSupportLogging}}}}s(UWe,"generateMsalConfiguration");function Ls(t,e,r={}){let n={msalConfig:UWe(t,e,r),cachedAccount:r.authenticationRecord?Lhe(r.authenticationRecord):null,pluginConfiguration:P0e.generatePluginConfiguration(r),logger:r.logger??ua},o=new Map;async function a(w={}){let L=w.enableCae?"CAE":"default",M=o.get(L);if(M)return n.logger.getToken.info("Existing PublicClientApplication found in cache, returning it."),M;n.logger.getToken.info(`Creating new PublicClientApplication with CAE ${w.enableCae?"enabled":"disabled"}.`);let Y=w.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=w.enableCae?["cp1"]:void 0,M=new JE({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await Y}}),o.set(L,M),M}s(a,"getPublicApp");let c=new Map;async function l(w={}){let L=w.enableCae?"CAE":"default",M=c.get(L);if(M)return n.logger.getToken.info("Existing ConfidentialClientApplication found in cache, returning it."),M;n.logger.getToken.info(`Creating new ConfidentialClientApplication with CAE ${w.enableCae?"enabled":"disabled"}.`);let Y=w.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=w.enableCae?["cp1"]:void 0,M=new ZE({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await Y}}),c.set(L,M),M}s(l,"getConfidentialApp");async function u(w,L,M={}){if(n.cachedAccount===null)throw n.logger.getToken.info("No cached account found in local state."),new S0({scopes:L});M.claims&&(n.cachedClaims=M.claims);let Y={account:n.cachedAccount,scopes:L,claims:n.cachedClaims};n.pluginConfiguration.broker.isEnabled&&(Y.tokenQueryParameters||={},n.pluginConfiguration.broker.enableMsaPassthrough&&(Y.tokenQueryParameters.msal_request_type="consumer_passthrough")),M.proofOfPossessionOptions&&(Y.shrNonce=M.proofOfPossessionOptions.nonce,Y.authenticationScheme="pop",Y.resourceRequestMethod=M.proofOfPossessionOptions.resourceRequestMethod,Y.resourceRequestUri=M.proofOfPossessionOptions.resourceRequestUrl),n.logger.getToken.info("Attempting to acquire token silently");try{return await w.acquireTokenSilent(Y)}catch(D){throw B1(L,D,M)}}s(u,"getTokenSilent");function f(w){return w?.tenantId?UH(w.tenantId,OH(r)):n.msalConfig.auth.authority}s(f,"calculateRequestAuthority");async function h(w,L,M,Y){let D=null;try{D=await u(w,L,M)}catch(O){if(O.name!=="AuthenticationRequiredError")throw O;if(M.disableAutomaticAuthentication)throw new S0({scopes:L,getTokenOptions:M,message:"Automatic authentication has been disabled. You may call the authentication() method."})}if(D===null)try{D=await Y()}catch(O){throw B1(L,O,M)}return S1(L,D,M),n.cachedAccount=D?.account??null,n.logger.getToken.info(bo(L)),{token:D.accessToken,expiresOnTimestamp:D.expiresOn.getTime(),refreshAfterTimestamp:D.refreshOn?.getTime(),tokenType:D.tokenType}}s(h,"withSilentAuthentication");async function A(w,L,M={}){n.logger.getToken.info("Attempting to acquire token using client secret"),n.msalConfig.auth.clientSecret=L;let Y=await l(M);try{let D=await Y.acquireTokenByClientCredential({scopes:w,authority:f(M),azureRegion:O6(),claims:M?.claims});return S1(w,D,M),n.logger.getToken.info(bo(w)),{token:D.accessToken,expiresOnTimestamp:D.expiresOn.getTime(),refreshAfterTimestamp:D.refreshOn?.getTime(),tokenType:D.tokenType}}catch(D){throw B1(w,D,M)}}s(A,"getTokenByClientSecret");async function p(w,L,M={}){n.logger.getToken.info("Attempting to acquire token using client assertion"),n.msalConfig.auth.clientAssertion=L;let Y=await l(M);try{let D=await Y.acquireTokenByClientCredential({scopes:w,authority:f(M),azureRegion:O6(),claims:M?.claims,clientAssertion:L});return S1(w,D,M),n.logger.getToken.info(bo(w)),{token:D.accessToken,expiresOnTimestamp:D.expiresOn.getTime(),refreshAfterTimestamp:D.refreshOn?.getTime(),tokenType:D.tokenType}}catch(D){throw B1(w,D,M)}}s(p,"getTokenByClientAssertion");async function m(w,L,M={}){n.logger.getToken.info("Attempting to acquire token using client certificate"),n.msalConfig.auth.clientCertificate=L;let Y=await l(M);try{let D=await Y.acquireTokenByClientCredential({scopes:w,authority:f(M),azureRegion:O6(),claims:M?.claims});return S1(w,D,M),n.logger.getToken.info(bo(w)),{token:D.accessToken,expiresOnTimestamp:D.expiresOn.getTime(),refreshAfterTimestamp:D.refreshOn?.getTime(),tokenType:D.tokenType}}catch(D){throw B1(w,D,M)}}s(m,"getTokenByClientCertificate");async function g(w,L,M={}){n.logger.getToken.info("Attempting to acquire token using device code");let Y=await a(M);return h(Y,w,M,()=>{let D={scopes:w,cancel:M?.abortSignal?.aborted??!1,deviceCodeCallback:L,authority:f(M),claims:M?.claims},O=Y.acquireTokenByDeviceCode(D);return M.abortSignal&&M.abortSignal.addEventListener("abort",()=>{D.cancel=!0}),O})}s(g,"getTokenByDeviceCode");async function y(w,L,M,Y={}){n.logger.getToken.info("Attempting to acquire token using username and password");let D=await a(Y);return h(D,w,Y,()=>{let O={scopes:w,username:L,password:M,authority:f(Y),claims:Y?.claims};return D.acquireTokenByUsernamePassword(O)})}s(y,"getTokenByUsernamePassword");function E(){if(n.cachedAccount)return Mhe(t,n.cachedAccount)}s(E,"getActiveAccount");async function I(w,L,M,Y,D={}){n.logger.getToken.info("Attempting to acquire token using authorization code");let O;return Y?(n.msalConfig.auth.clientSecret=Y,O=await l(D)):O=await a(D),h(O,w,D,()=>O.acquireTokenByCode({scopes:w,redirectUri:L,code:M,authority:f(D),claims:D?.claims}))}s(I,"getTokenByAuthorizationCode");async function x(w,L,M,Y={}){ua.getToken.info("Attempting to acquire token on behalf of another user"),typeof M=="string"?(ua.getToken.info("Using client secret for on behalf of flow"),n.msalConfig.auth.clientSecret=M):typeof M=="function"?(ua.getToken.info("Using client assertion callback for on behalf of flow"),n.msalConfig.auth.clientAssertion=M):(ua.getToken.info("Using client certificate for on behalf of flow"),n.msalConfig.auth.clientCertificate=M);let D=await l(Y);try{let O=await D.acquireTokenOnBehalfOf({scopes:w,authority:f(Y),claims:Y.claims,oboAssertion:L});return S1(w,O,Y),ua.getToken.info(bo(w)),{token:O.accessToken,expiresOnTimestamp:O.expiresOn.getTime(),refreshAfterTimestamp:O.refreshOn?.getTime(),tokenType:O.tokenType}}catch(O){throw B1(w,O,Y)}}s(x,"getTokenOnBehalfOf");function v(w,L){return{openBrowser:s(async M=>{await(await Promise.resolve().then(()=>(Jpe(),Kpe))).default(M,{newInstance:!0})},"openBrowser"),scopes:w,authority:f(L),claims:L?.claims,loginHint:L?.loginHint,errorTemplate:L?.browserCustomizationOptions?.errorMessage,successTemplate:L?.browserCustomizationOptions?.successMessage,prompt:L?.loginHint?"login":"select_account"}}s(v,"createBaseInteractiveRequest");async function b(w,L,M={}){ua.verbose("Authentication will resume through the broker");let Y=await a(M),D=v(w,M);n.pluginConfiguration.broker.parentWindowHandle?D.windowHandle=Buffer.from(n.pluginConfiguration.broker.parentWindowHandle):ua.warning("Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle."),n.pluginConfiguration.broker.enableMsaPassthrough&&((D.tokenQueryParameters??={}).msal_request_type="consumer_passthrough"),L?(D.prompt="none",ua.verbose("Attempting broker authentication using the default broker account")):ua.verbose("Attempting broker authentication without the default broker account"),M.proofOfPossessionOptions&&(D.shrNonce=M.proofOfPossessionOptions.nonce,D.authenticationScheme="pop",D.resourceRequestMethod=M.proofOfPossessionOptions.resourceRequestMethod,D.resourceRequestUri=M.proofOfPossessionOptions.resourceRequestUrl);try{return await Y.acquireTokenInteractive(D)}catch(O){if(ua.verbose(`Failed to authenticate through the broker: ${O.message}`),M.disableAutomaticAuthentication)throw new S0({scopes:w,getTokenOptions:M,message:"Cannot silently authenticate with default broker account."});if(L)return b(w,!1,M);throw O}}s(b,"getBrokeredTokenInternal");async function _(w,L,M={}){ua.getToken.info(`Attempting to acquire token using brokered authentication with useDefaultBrokerAccount: ${L}`);let Y=await b(w,L,M);return S1(w,Y,M),n.cachedAccount=Y?.account??null,n.logger.getToken.info(bo(w)),{token:Y.accessToken,expiresOnTimestamp:Y.expiresOn.getTime(),refreshAfterTimestamp:Y.refreshOn?.getTime(),tokenType:Y.tokenType}}s(_,"getBrokeredToken");async function S(w,L={}){ua.getToken.info("Attempting to acquire token interactively");let M=await a(L);return h(M,w,L,async()=>{let Y=v(w,L);return n.pluginConfiguration.broker.isEnabled?b(w,n.pluginConfiguration.broker.useDefaultBrokerAccount??!1,L):(L.proofOfPossessionOptions&&(Y.shrNonce=L.proofOfPossessionOptions.nonce,Y.authenticationScheme="pop",Y.resourceRequestMethod=L.proofOfPossessionOptions.resourceRequestMethod,Y.resourceRequestUri=L.proofOfPossessionOptions.resourceRequestUrl),M.acquireTokenInteractive(Y))})}return s(S,"getTokenByInteractiveRequest"),{getActiveAccount:E,getBrokeredToken:_,getTokenByClientSecret:A,getTokenByClientAssertion:p,getTokenByClientCertificate:m,getTokenByDeviceCode:g,getTokenByUsernamePassword:y,getTokenByAuthorizationCode:I,getTokenOnBehalfOf:x,getTokenByInteractiveRequest:S}}s(Ls,"createMsalClient");var v5=require("node:crypto");var Zpe=require("node:fs/promises");var x5="ClientCertificateCredential",Xpe=Ht(x5),b5=class{static{s(this,"ClientCertificateCredential")}tenantId;additionallyAllowedTenantIds;certificateConfiguration;sendCertificateChain;msalClient;constructor(e,r,n,o={}){if(!e||!r)throw new Error(`${x5}: tenantId and clientId are required parameters.`);this.tenantId=e,this.additionallyAllowedTenantIds=Pi(o?.additionallyAllowedTenants),this.sendCertificateChain=o.sendCertificateChain,this.certificateConfiguration={...typeof n=="string"?{certificatePath:n}:n};let a=this.certificateConfiguration.certificate,c=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(a||c))throw new Error(`${x5}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(a&&c)throw new Error(`${x5}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=Ls(r,e,{...o,logger:Xpe,tokenCredentialOptions:o})}async getToken(e,r={}){return pn.withSpan(`${x5}.getToken`,r,async n=>{n.tenantId=bi(this.tenantId,n,this.additionallyAllowedTenantIds,Xpe);let o=Array.isArray(e)?e:[e],a=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(o,a,n)})}async buildClientCertificate(){let e=await qWe(this.certificateConfiguration,this.sendCertificateChain??!1),r;return this.certificateConfiguration.certificatePassword!==void 0?r=(0,v5.createPrivateKey)({key:e.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:"pem"}).export({format:"pem",type:"pkcs8"}).toString():r=e.certificateContents,{thumbprint:e.thumbprint,thumbprintSha256:e.thumbprintSha256,privateKey:r,x5c:e.x5c}}};async function qWe(t,e){let r=t.certificate,n=t.certificatePath,o=r||await(0,Zpe.readFile)(n,"utf8"),a=e?o:void 0,c=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,l=[],u;do u=c.exec(o),u&&l.push(u[3]);while(u);if(l.length===0)throw new Error("The file at the specified path does not contain a PEM-encoded certificate.");let f=(0,v5.createHash)("sha1").update(Buffer.from(l[0],"base64")).digest("hex").toUpperCase(),h=(0,v5.createHash)("sha256").update(Buffer.from(l[0],"base64")).digest("hex").toUpperCase();return{certificateContents:o,thumbprintSha256:h,thumbprint:f,x5c:a}}s(qWe,"parseCertificate");d();d();function M0(t){return Array.isArray(t)?t:[t]}s(M0,"ensureScopes");function pI(t,e){if(!t.match(/^[0-9a-zA-Z-_.:/]+$/)){let r=new Error("Invalid scope was specified by the user or calling client");throw e.getToken.info(qr(t,r)),r}}s(pI,"ensureValidScopeForDevTimeCreds");function V6(t){return t.replace(/\/.default$/,"")}s(V6,"getScopeResource");var eme=Ht("ClientSecretCredential"),_5=class{static{s(this,"ClientSecretCredential")}tenantId;additionallyAllowedTenantIds;msalClient;clientSecret;constructor(e,r,n,o={}){if(!e)throw new ft("ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!r)throw new ft("ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!n)throw new ft("ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");this.clientSecret=n,this.tenantId=e,this.additionallyAllowedTenantIds=Pi(o?.additionallyAllowedTenants),this.msalClient=Ls(r,e,{...o,logger:eme,tokenCredentialOptions:o})}async getToken(e,r={}){return pn.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=bi(this.tenantId,n,this.additionallyAllowedTenantIds,eme);let o=M0(e);return this.msalClient.getTokenByClientSecret(o,this.clientSecret,n)})}};d();var HWe=Ht("UsernamePasswordCredential"),T5=class{static{s(this,"UsernamePasswordCredential")}tenantId;additionallyAllowedTenantIds;msalClient;username;password;constructor(e,r,n,o,a={}){if(!e)throw new ft("UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!r)throw new ft("UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!n)throw new ft("UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!o)throw new ft("UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=Pi(a?.additionallyAllowedTenants),this.username=n,this.password=o,this.msalClient=Ls(r,this.tenantId,{...a,tokenCredentialOptions:a??{}})}async getToken(e,r={}){return pn.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=bi(this.tenantId,n,this.additionallyAllowedTenantIds,HWe);let o=M0(e);return this.msalClient.getTokenByUsernamePassword(o,this.username,this.password,n)})}};var GWe=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","AZURE_CLIENT_CERTIFICATE_PATH","AZURE_CLIENT_CERTIFICATE_PASSWORD","AZURE_USERNAME","AZURE_PASSWORD","AZURE_ADDITIONALLY_ALLOWED_TENANTS","AZURE_CLIENT_SEND_CERTIFICATE_CHAIN"];function VWe(){return(process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS??"").split(";")}s(VWe,"getAdditionallyAllowedTenants");var W6="EnvironmentCredential",Vd=Ht(W6);function WWe(){let t=(process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN??"").toLowerCase(),e=t==="true"||t==="1";return Vd.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${e}`),e}s(WWe,"getSendCertificateChain");var w5=class{static{s(this,"EnvironmentCredential")}_credential=void 0;constructor(e){let r=y8(GWe).assigned.join(", ");Vd.info(`Found the following environment variables: ${r}`);let n=process.env.AZURE_TENANT_ID,o=process.env.AZURE_CLIENT_ID,a=process.env.AZURE_CLIENT_SECRET,c=VWe(),l=WWe(),u={...e,additionallyAllowedTenantIds:c,sendCertificateChain:l};if(n&&Ho(Vd,n),n&&o&&a){Vd.info(`Invoking ClientSecretCredential with tenant ID: ${n}, clientId: ${o} and clientSecret: [REDACTED]`),this._credential=new _5(n,o,a,u);return}let f=process.env.AZURE_CLIENT_CERTIFICATE_PATH,h=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(n&&o&&f){Vd.info(`Invoking ClientCertificateCredential with tenant ID: ${n}, clientId: ${o} and certificatePath: ${f}`),this._credential=new b5(n,o,{certificatePath:f,certificatePassword:h},u);return}let A=process.env.AZURE_USERNAME,p=process.env.AZURE_PASSWORD;n&&o&&A&&p&&(Vd.info(`Invoking UsernamePasswordCredential with tenant ID: ${n}, clientId: ${o} and username: ${A}`),Vd.warning("Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa."),this._credential=new T5(n,o,A,p,u))}async getToken(e,r={}){return pn.withSpan(`${W6}.getToken`,r,async n=>{if(this._credential)try{let o=await this._credential.getToken(e,n);return Vd.getToken.info(bo(e)),o}catch(o){let a=new MA(400,{error:`${W6} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:o.message.toString().split("More details:").join("")});throw Vd.getToken.info(qr(e,a)),a}throw new ft(`${W6} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}};d();d();var YWe=1e3*64,jWe=3e3;function tme(t){return DG([{name:"imdsRetryPolicy",retry:s(({retryCount:e,response:r})=>{if(r?.status!==404&&r?.status!==410)return{skipStrategy:!0};let n=r?.status===410?Math.max(jWe,t.startDelayInMs):t.startDelayInMs;return Qhe(e,{retryDelayInMs:n,maxRetryDelayInMs:YWe})},"retry")}],{maxRetries:t.maxRetries})}s(tme,"imdsRetryPolicy");d();var Wd="ManagedIdentityCredential - IMDS",k1=Ht(Wd),$We="http://169.254.169.254",zWe="/metadata/identity/oauth2/token";function KWe(t){if(!C5(t))throw new Error(`${Wd}: Multiple scopes are not supported.`);let r=new URL(zWe,process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST??$We),n={Accept:"application/json"};return{url:`${r}`,method:"GET",headers:fp(n)}}s(KWe,"prepareInvalidRequestOptions");var rme={name:"imdsMsi",async isAvailable(t){let{scopes:e,identityClient:r,getTokenOptions:n}=t,o=C5(e);if(!o)return k1.info(`${Wd}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!r)throw new Error("Missing IdentityClient");let a=KWe(o);return pn.withSpan("ManagedIdentityCredential-pingImdsEndpoint",n??{},async c=>{a.tracingOptions=c.tracingOptions;let l=Ql(a);l.timeout=c.requestOptions?.timeout||1e3,l.allowInsecureConnection=!0;let u;try{k1.info(`${Wd}: Pinging the Azure IMDS endpoint`),u=await r.sendRequest(l)}catch(f){return XR(f)&&k1.verbose(`${Wd}: Caught error ${f.name}: ${f.message}`),k1.info(`${Wd}: The Azure IMDS endpoint is unavailable`),!1}return u.status===403&&u.bodyAsText?.includes("unreachable")?(k1.info(`${Wd}: The Azure IMDS endpoint is unavailable`),k1.info(`${Wd}: ${u.bodyAsText}`),!1):(k1.info(`${Wd}: The Azure IMDS endpoint is available`),!0)})}};d();d();d();var nme=Ht("ClientAssertionCredential"),mI=class{static{s(this,"ClientAssertionCredential")}msalClient;tenantId;additionallyAllowedTenantIds;getAssertion;options;constructor(e,r,n,o={}){if(!e)throw new ft("ClientAssertionCredential: tenantId is a required parameter.");if(!r)throw new ft("ClientAssertionCredential: clientId is a required parameter.");if(!n)throw new ft("ClientAssertionCredential: clientAssertion is a required parameter.");this.tenantId=e,this.additionallyAllowedTenantIds=Pi(o?.additionallyAllowedTenants),this.options=o,this.getAssertion=n,this.msalClient=Ls(r,e,{...o,logger:nme,tokenCredentialOptions:this.options})}async getToken(e,r={}){return pn.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=bi(this.tenantId,n,this.additionallyAllowedTenantIds,nme);let o=Array.isArray(e)?e:[e];return this.msalClient.getTokenByClientAssertion(o,this.getAssertion,n)})}};var ime=require("node:fs/promises");var D1="WorkloadIdentityCredential",JWe=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_FEDERATED_TOKEN_FILE"],S5=Ht(D1),Yd=class{static{s(this,"WorkloadIdentityCredential")}client;azureFederatedTokenFileContent=void 0;cacheDate=void 0;federatedTokenFilePath;constructor(e){let r=y8(JWe).assigned.join(", ");S5.info(`Found the following environment variables: ${r}`);let n=e??{},o=n.tenantId||process.env.AZURE_TENANT_ID,a=n.clientId||process.env.AZURE_CLIENT_ID;if(this.federatedTokenFilePath=n.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,o&&Ho(S5,o),!a)throw new ft(`${D1}: is unavailable. clientId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_CLIENT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!o)throw new ft(`${D1}: is unavailable. tenantId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_TENANT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!this.federatedTokenFilePath)throw new ft(`${D1}: is unavailable. federatedTokenFilePath is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_FEDERATED_TOKEN_FILE".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);S5.info(`Invoking ClientAssertionCredential with tenant ID: ${o}, clientId: ${n.clientId} and federated token path: [REDACTED]`),this.client=new mI(o,a,this.readFileContents.bind(this),e)}async getToken(e,r){if(!this.client){let n=`${D1}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. 
      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - 
      "AZURE_TENANT_ID",
      "AZURE_CLIENT_ID",
      "AZURE_FEDERATED_TOKEN_FILE". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`;throw S5.info(n),new ft(n)}return S5.info("Invoking getToken() of Client Assertion Credential"),this.client.getToken(e,r)}async readFileContents(){if(this.cacheDate!==void 0&&Date.now()-this.cacheDate>=1e3*60*5&&(this.azureFederatedTokenFileContent=void 0),!this.federatedTokenFilePath)throw new ft(`${D1}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let r=(await(0,ime.readFile)(this.federatedTokenFilePath,"utf8")).trim();if(r)this.azureFederatedTokenFileContent=r,this.cacheDate=Date.now();else throw new ft(`${D1}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`)}return this.azureFederatedTokenFileContent}};var ome="ManagedIdentityCredential - Token Exchange",XWe=Ht(ome),sV={name:"tokenExchangeMsi",async isAvailable(t){let e=process.env,r=!!((t||e.AZURE_CLIENT_ID)&&e.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);return r||XWe.info(`${ome}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`),r},async getToken(t,e={}){let{scopes:r,clientId:n}=t,o={};return new Yd({clientId:n,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE,...o,disableInstanceDiscovery:!0}).getToken(r,e)}};var Gc=Ht("ManagedIdentityCredential"),gp=class{static{s(this,"ManagedIdentityCredential")}managedIdentityApp;identityClient;clientId;resourceId;objectId;msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2};isAvailableIdentityClient;constructor(e,r){let n;typeof e=="string"?(this.clientId=e,n=r??{}):(this.clientId=e?.clientId,n=e??{}),this.resourceId=n?.resourceId,this.objectId=n?.objectId;let o=[{key:"clientId",value:this.clientId},{key:"resourceId",value:this.resourceId},{key:"objectId",value:this.objectId}].filter(c=>c.value);if(o.length>1)throw new Error(`ManagedIdentityCredential: only one of 'clientId', 'resourceId', or 'objectId' can be provided. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}`);n.allowInsecureConnection=!0,n.retryOptions?.maxRetries!==void 0&&(this.msiRetryConfig.maxRetries=n.retryOptions.maxRetries),this.identityClient=new hp({...n,additionalPolicies:[{policy:tme(this.msiRetryConfig),position:"perCall"}]}),this.managedIdentityApp=new eI({managedIdentityIdParams:{userAssignedClientId:this.clientId,userAssignedResourceId:this.resourceId,userAssignedObjectId:this.objectId},system:{disableInternalRetries:!0,networkClient:this.identityClient,loggerOptions:{logLevel:t6(C8()),piiLoggingEnabled:n.loggingOptions?.enableUnsafeSupportLogging,loggerCallback:e6(Gc)}}}),this.isAvailableIdentityClient=new hp({...n,retryOptions:{maxRetries:0}});let a=this.managedIdentityApp.getManagedIdentitySource();if(a==="CloudShell"&&(this.clientId||this.resourceId||this.objectId))throw Gc.warning(`CloudShell MSI detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new ft("ManagedIdentityCredential: Specifying a user-assigned managed identity is not supported for CloudShell at runtime. When using Managed Identity in CloudShell, omit the clientId, resourceId, and objectId parameters.");if(a==="ServiceFabric"&&(this.clientId||this.resourceId||this.objectId))throw Gc.warning(`Service Fabric detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new ft(`ManagedIdentityCredential: ${ype}`);if(Gc.info(`Using ${a} managed identity.`),o.length===1){let{key:c,value:l}=o[0];Gc.info(`${a} with ${c}: ${l}`)}}async getToken(e,r={}){Gc.getToken.info("Using the MSAL provider for Managed Identity.");let n=C5(e);if(!n)throw new ft(`ManagedIdentityCredential: Multiple scopes are not supported. Scopes: ${JSON.stringify(e)}`);return pn.withSpan("ManagedIdentityCredential.getToken",r,async()=>{try{let o=await sV.isAvailable(this.clientId),a=this.managedIdentityApp.getManagedIdentitySource(),c=a==="DefaultToImds"||a==="Imds";if(Gc.getToken.info(`MSAL Identity source: ${a}`),o){Gc.getToken.info("Using the token exchange managed identity.");let u=await sV.getToken({scopes:e,clientId:this.clientId,identityClient:this.identityClient,retryConfig:this.msiRetryConfig,resourceId:this.resourceId});if(u===null)throw new ft("Attempted to use the token exchange managed identity, but received a null response.");return u}else if(c&&(Gc.getToken.info("Using the IMDS endpoint to probe for availability."),!await rme.isAvailable({scopes:e,clientId:this.clientId,getTokenOptions:r,identityClient:this.isAvailableIdentityClient,resourceId:this.resourceId})))throw new ft("Attempted to use the IMDS endpoint, but it is not available.");Gc.getToken.info("Calling into MSAL for managed identity token.");let l=await this.managedIdentityApp.acquireToken({resource:n});return this.ensureValidMsalToken(e,l,r),Gc.getToken.info(bo(e)),{expiresOnTimestamp:l.expiresOn.getTime(),token:l.accessToken,refreshAfterTimestamp:l.refreshOn?.getTime(),tokenType:"Bearer"}}catch(o){throw Gc.getToken.error(qr(e,o)),o.name==="AuthenticationRequiredError"?o:ZWe(o)?new ft(`ManagedIdentityCredential: Network unreachable. Message: ${o.message}`,{cause:o}):new ft(`ManagedIdentityCredential: Authentication failed. Message ${o.message}`,{cause:o})}})}ensureValidMsalToken(e,r,n){let o=s(a=>(Gc.getToken.info(a),new S0({scopes:Array.isArray(e)?e:[e],getTokenOptions:n,message:a})),"createError");if(!r)throw o("No response.");if(!r.expiresOn)throw o('Response had no "expiresOn" property.');if(!r.accessToken)throw o('Response had no "accessToken" property.')}};function ZWe(t){return!!(t.errorCode==="network_error"||t.code==="ENETUNREACH"||t.code==="EHOSTUNREACH"||(t.statusCode===403||t.code===403)&&t.message.includes("unreachable"))}s(ZWe,"isNetworkError");d();var sme=We(require("child_process"),1);var jd=Ht("AzureDeveloperCliCredential"),ame={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(jd.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure Developer CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzdAccessToken(t,e,r){let n=[];return e&&(n=["--tenant-id",e]),new Promise((o,a)=>{try{let l=["azd",...["auth","token","--output","json",...t.reduce((u,f)=>u.concat("--scope",f),[]),...n]].join(" ");sme.default.exec(l,{cwd:ame.getSafeWorkingDir(),timeout:r},(u,f,h)=>{o({stdout:f,stderr:h,error:u})})}catch(c){a(c)}})}},B5=class{static{s(this,"AzureDeveloperCliCredential")}tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(Ho(jd,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=Pi(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=bi(this.tenantId,r,this.additionallyAllowedTenantIds);n&&Ho(jd,n);let o;return typeof e=="string"?o=[e]:o=e,jd.getToken.info(`Using the scopes ${e}`),pn.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{o.forEach(u=>{pI(u,jd)});let a=await ame.getAzdAccessToken(o,n,this.timeout),c=a.stderr?.match("not logged in, run `azd login` to login")||a.stderr?.match("not logged in, run `azd auth login` to login");if(a.stderr?.match("azd:(.*)not found")||a.stderr?.startsWith("'azd' is not recognized")||a.error&&a.error.code==="ENOENT"){let u=new ft("Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw jd.getToken.info(qr(e,u)),u}if(c){let u=new ft("Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw jd.getToken.info(qr(e,u)),u}try{let u=JSON.parse(a.stdout);return jd.getToken.info(bo(e)),{token:u.token,expiresOnTimestamp:new Date(u.expiresOn).getTime(),tokenType:"Bearer"}}catch(u){throw a.stderr?new ft(a.stderr):u}}catch(a){let c=a.name==="CredentialUnavailableError"?a:new ft(a.message||"Unknown error while trying to retrieve the access token");throw jd.getToken.info(qr(e,c)),c}})}};d();var cme=We(require("child_process"),1);d();function aV(t,e){if(!e.match(/^[0-9a-zA-Z-._ ]+$/)){let r=new Error(`Subscription '${e}' contains invalid characters. If this is the name of a subscription, use its ID instead. You can locate your subscription by following the instructions listed here: https://learn.microsoft.com/azure/azure-portal/get-subscription-tenant-id`);throw t.info(qr("",r)),r}}s(aV,"checkSubscription");var O0=Ht("AzureCliCredential"),lme={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(O0.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzureCliAccessToken(t,e,r,n){let o=[],a=[];return e&&(o=["--tenant",e]),r&&(a=["--subscription",`"${r}"`]),new Promise((c,l)=>{try{let f=["az",...["account","get-access-token","--output","json","--resource",t,...o,...a]].join(" ");cme.default.exec(f,{cwd:lme.getSafeWorkingDir(),timeout:n},(h,A,p)=>{c({stdout:A,stderr:p,error:h})})}catch(u){l(u)}})}},R5=class{static{s(this,"AzureCliCredential")}tenantId;additionallyAllowedTenantIds;timeout;subscription;constructor(e){e?.tenantId&&(Ho(O0,e?.tenantId),this.tenantId=e?.tenantId),e?.subscription&&(aV(O0,e?.subscription),this.subscription=e?.subscription),this.additionallyAllowedTenantIds=Pi(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=bi(this.tenantId,r,this.additionallyAllowedTenantIds);n&&Ho(O0,n),this.subscription&&aV(O0,this.subscription);let o=typeof e=="string"?e:e[0];return O0.getToken.info(`Using the scope ${o}`),pn.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{pI(o,O0);let a=V6(o),c=await lme.getAzureCliAccessToken(a,n,this.subscription,this.timeout),l=c.stderr?.match("(.*)az login --scope(.*)"),u=c.stderr?.match("(.*)az login(.*)")&&!l;if(c.stderr?.match("az:(.*)not found")||c.stderr?.startsWith("'az' is not recognized")){let h=new ft("Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.");throw O0.getToken.info(qr(e,h)),h}if(u){let h=new ft("Please run 'az login' from a command prompt to authenticate before using this credential.");throw O0.getToken.info(qr(e,h)),h}try{let h=c.stdout,A=this.parseRawResponse(h);return O0.getToken.info(bo(e)),A}catch(h){throw c.stderr?new ft(c.stderr):h}}catch(a){let c=a.name==="CredentialUnavailableError"?a:new ft(a.message||"Unknown error while trying to retrieve the access token");throw O0.getToken.info(qr(e,c)),c}})}parseRawResponse(e){let r=JSON.parse(e),n=r.accessToken,o=Number.parseInt(r.expires_on,10)*1e3;if(!isNaN(o))return O0.getToken.info("expires_on is available and is valid, using it"),{token:n,expiresOnTimestamp:o,tokenType:"Bearer"};if(o=new Date(r.expiresOn).getTime(),isNaN(o))throw new ft(`Unexpected response from Azure CLI when getting token. Expected "expiresOn" to be a RFC3339 date string. Got: "${r.expiresOn}"`);return{token:n,expiresOnTimestamp:o,tokenType:"Bearer"}}};d();d();var ume=We(require("node:child_process"),1),fme={execFile(t,e,r){return new Promise((n,o)=>{let a=[...e],c=[t,...a].join(" ");ume.default.exec(c,r,(l,u,f)=>{Buffer.isBuffer(u)&&(u=u.toString("utf8")),Buffer.isBuffer(f)&&(f=f.toString("utf8")),f||l?o(f?new Error(f):l):n(u)})})}};var $d=Ht("AzurePowerShellCredential"),hme=process.platform==="win32";function Ame(t){return hme?`${t}.exe`:t}s(Ame,"formatCommand");async function dme(t,e){let r=[];for(let n of t){let[o,...a]=n,c=await fme.execFile(o,a,{encoding:"utf8",timeout:e});r.push(c)}return r}s(dme,"runCommands");var pme={login:"Run Connect-AzAccount to login",installed:"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory"},cV={login:"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: "Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force".`,troubleshoot:"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot."},eYe=s(t=>t.message.match(`(.*)${pme.login}(.*)`),"isLoginError"),tYe=s(t=>t.message.match(pme.installed),"isNotInstalledError"),lV=[Ame("pwsh")];hme&&lV.push(Ame("powershell"));var k5=class{static{s(this,"AzurePowerShellCredential")}tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(Ho($d,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=Pi(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getAzurePowerShellAccessToken(e,r,n){for(let o of[...lV]){try{await dme([[o,"/?"]],n)}catch{lV.shift();continue}let c=(await dme([[o,"-NoProfile","-NonInteractive","-Command",`
          $tenantId = "${r??""}"
          $m = Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru
          $useSecureString = $m.Version -ge [version]'2.17.0' -and $m.Version -lt [version]'5.0.0'

          $params = @{
            ResourceUrl = "${e}"
          }

          if ($tenantId.Length -gt 0) {
            $params["TenantId"] = $tenantId
          }

          if ($useSecureString) {
            $params["AsSecureString"] = $true
          }

          $token = Get-AzAccessToken @params

          $result = New-Object -TypeName PSObject
          $result | Add-Member -MemberType NoteProperty -Name ExpiresOn -Value $token.ExpiresOn

          if ($token.Token -is [System.Security.SecureString]) {
            if ($PSVersionTable.PSVersion.Major -lt 7) {
              $ssPtr = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($token.Token)
              try {
                $result | Add-Member -MemberType NoteProperty -Name Token -Value ([System.Runtime.InteropServices.Marshal]::PtrToStringBSTR($ssPtr))
              }
              finally {
                [System.Runtime.InteropServices.Marshal]::ZeroFreeBSTR($ssPtr)
              }
            }
            else {
              $result | Add-Member -MemberType NoteProperty -Name Token -Value ($token.Token | ConvertFrom-SecureString -AsPlainText)
            }
          }
          else {
            $result | Add-Member -MemberType NoteProperty -Name Token -Value $token.Token
          }

          Write-Output (ConvertTo-Json $result)
          `]]))[0];return rYe(c)}throw new Error("Unable to execute PowerShell. Ensure that it is installed in your system")}async getToken(e,r={}){return pn.withSpan(`${this.constructor.name}.getToken`,r,async()=>{let n=bi(this.tenantId,r,this.additionallyAllowedTenantIds),o=typeof e=="string"?e:e[0];n&&Ho($d,n);try{pI(o,$d),$d.getToken.info(`Using the scope ${o}`);let a=V6(o),c=await this.getAzurePowerShellAccessToken(a,n,this.timeout);return $d.getToken.info(bo(e)),{token:c.Token,expiresOnTimestamp:new Date(c.ExpiresOn).getTime(),tokenType:"Bearer"}}catch(a){if(tYe(a)){let l=new ft(cV.installed);throw $d.getToken.info(qr(o,l)),l}else if(eYe(a)){let l=new ft(cV.login);throw $d.getToken.info(qr(o,l)),l}let c=new ft(`${a}. ${cV.troubleshoot}`);throw $d.getToken.info(qr(o,c)),c}})}};async function rYe(t){let e=/{[^{}]*}/g,r=t.match(e),n=t;if(r)try{for(let o of r)try{let a=JSON.parse(o);if(a?.Token)return n=n.replace(o,""),n&&$d.getToken.warning(n),a}catch{continue}}catch{throw new Error(`Unable to parse the output of PowerShell. Received output: ${t}`)}throw new Error(`No access token found in the output. Received output: ${t}`)}s(rYe,"parseJsonToken");d();var mme=require("node:fs/promises");var nYe="common",iYe="aebc6443-996d-45c2-90f0-388ff96faa56",uV=Ht("VisualStudioCodeCredential"),oYe={adfs:"The VisualStudioCodeCredential does not support authentication with ADFS tenants."};function sYe(t){let e=oYe[t];if(e)throw new ft(e)}s(sYe,"checkUnsupportedTenant");var D5=class{static{s(this,"VisualStudioCodeCredential")}tenantId;additionallyAllowedTenantIds;msalClient;options;constructor(e){this.options=e||{},e&&e.tenantId?(Ho(uV,e.tenantId),this.tenantId=e.tenantId):this.tenantId=nYe,this.additionallyAllowedTenantIds=Pi(e?.additionallyAllowedTenants),sYe(this.tenantId)}async prepare(e){let r=bi(this.tenantId,this.options,this.additionallyAllowedTenantIds,uV)||this.tenantId;if(!Q0e()||!d8)throw new ft("Visual Studio Code Authentication is not available. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.");let n=await this.loadAuthRecord(d8,e);this.msalClient=Ls(iYe,r,{...this.options,isVSCodeCredential:!0,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0},authenticationRecord:n})}preparePromise;prepareOnce(e){return this.preparePromise||(this.preparePromise=this.prepare(e)),this.preparePromise}async getToken(e,r){let n=M0(e);if(await this.prepareOnce(n),!this.msalClient)throw new ft("Visual Studio Code Authentication failed to initialize. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.");return this.msalClient.getTokenByInteractiveRequest(n,r||{})}async loadAuthRecord(e,r){try{let n=await(0,mme.readFile)(e,{encoding:"utf8"});return qH(n)}catch(n){throw uV.getToken.info(qr(r,n)),new ft("Cannot load authentication record in Visual Studio Code. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.")}}};d();var Y6=Ht("BrokerCredential"),j6=class{static{s(this,"BrokerCredential")}brokerMsalClient;brokerTenantId;brokerAdditionallyAllowedTenantIds;constructor(e){this.brokerTenantId=dI(Y6,e.tenantId),this.brokerAdditionallyAllowedTenantIds=Pi(e?.additionallyAllowedTenants);let r={...e,tokenCredentialOptions:e,logger:Y6,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0}};this.brokerMsalClient=Ls(Qg,this.brokerTenantId,r)}async getToken(e,r={}){return pn.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=bi(this.brokerTenantId,n,this.brokerAdditionallyAllowedTenantIds,Y6);let o=M0(e);try{return this.brokerMsalClient.getBrokeredToken(o,!0,{...n,disableAutomaticAuthentication:!0})}catch(a){throw Y6.getToken.info(qr(o,a)),new ft("Failed to acquire token using broker authentication",{cause:a})}})}};function gme(t={}){return new j6(t)}s(gme,"createDefaultBrokerCredential");function fV(t={}){return new D5(t)}s(fV,"createDefaultVisualStudioCodeCredential");function dV(t={}){t.retryOptions??={maxRetries:5,retryDelayInMs:800};let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=t?.managedIdentityResourceId,o=process.env.AZURE_FEDERATED_TOKEN_FILE,a=t?.tenantId??process.env.AZURE_TENANT_ID;if(n){let c={...t,resourceId:n};return new gp(c)}if(o&&r){let c={...t,tenantId:a};return new gp(r,c)}if(e){let c={...t,clientId:e};return new gp(c)}return new gp(t)}s(dV,"createDefaultManagedIdentityCredential");function hV(t){let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=process.env.AZURE_FEDERATED_TOKEN_FILE,o=t?.tenantId??process.env.AZURE_TENANT_ID;if(n&&r){let a={...t,tenantId:o,clientId:r,tokenFilePath:n};return new Yd(a)}if(o){let a={...t,tenantId:o};return new Yd(a)}return new Yd(t)}s(hV,"createDefaultWorkloadIdentityCredential");function AV(t={}){return new B5(t)}s(AV,"createDefaultAzureDeveloperCliCredential");function pV(t={}){return new R5(t)}s(pV,"createDefaultAzureCliCredential");function mV(t={}){return new k5(t)}s(mV,"createDefaultAzurePowershellCredential");function gV(t={}){return new w5(t)}s(gV,"createDefaultEnvironmentCredential");var CV=Ht("DefaultAzureCredential"),yV=class{static{s(this,"UnavailableDefaultCredential")}credentialUnavailableErrorMessage;credentialName;constructor(e,r){this.credentialName=e,this.credentialUnavailableErrorMessage=r}getToken(){return CV.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}},gI=class extends Ub{static{s(this,"DefaultAzureCredential")}constructor(e){let r=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,n=[fV,pV,mV,AV,gme],o=[gV,hV,dV],a=[],c="EnvironmentCredential, WorkloadIdentityCredential, ManagedIdentityCredential, VisualStudioCodeCredential, AzureCliCredential, AzurePowerShellCredential, AzureDeveloperCliCredential";if(r)switch(r){case"dev":a=n;break;case"prod":a=o;break;case"environmentcredential":a=[gV];break;case"workloadidentitycredential":a=[hV];break;case"managedidentitycredential":a=[dV];break;case"visualstudiocodecredential":a=[fV];break;case"azureclicredential":a=[pV];break;case"azurepowershellcredential":a=[mV];break;case"azuredeveloperclicredential":a=[AV];break;default:{let u=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev' or any of these credentials - ${c}.`;throw CV.warning(u),new Error(u)}}else a=[...o,...n];let l=a.map(u=>{try{return u(e)}catch(f){return CV.warning(`Skipped ${u.name} because of an error creating the credential: ${f}`),new yV(u.name,f.message)}});super(...l)}};d();var YIr=Ht("InteractiveBrowserCredential");d();var r2r=Ht("DeviceCodeCredential");d();var aYe="AzurePipelinesCredential",d2r=Ht(aYe);d();var x2r=Ht("AuthorizationCodeCredential");d();var cYe="OnBehalfOfCredential",D2r=Ht(cYe);d();var $6=new or("capiFetchUtilities");function lYe(t){let e=t.getCopilotIntegrationId();if(e)return e;switch(t.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}s(lYe,"getIntegrationId");function IV(t){let e={...Dm(t),"X-GitHub-Api-Version":Yw},r=lYe(t.get(No));return r&&(e["Copilot-Integration-Id"]=r),e}s(IV,"getCapiHeaders");function Cme(t,e){return $6.debug(t,"Using CES proxy mode for msbench"),{...e,"ces-proxy-target":sy.api,"Copilot-Integration-Id":"autodev-test"}}s(Cme,"addMsBenchCesProxyHeaders");async function yme(t,e){$6.debug(t,"Using HMAC authentication mode for msbench");let r=await T0e(process.env.HMAC_SECRET);return{...e,...r}}s(yme,"addMsBenchHmacHeaders");function uYe(){return yv()&&!!process.env.HMAC_SECRET}s(uYe,"isMsBenchHmacModeEnabled");function EV(){return yv()&&!process.env.HMAC_SECRET}s(EV,"isMsBenchCesProxyModeEnabled");async function Eme(t,e){return process.env.HMAC_SECRET?await yme(t,e):Cme(t,e)}s(Eme,"addMsBenchHeaders");function fYe(t,e,...r){if(EV()){$6.debug(t,"Using CES proxy endpoint for URL generation");let n=r.join("/");return n.startsWith("/")&&(n=n.slice(1)),`https://ces-dev1.azurewebsites.net/api/proxy/${n}`}return _v(t,e,"api",...r)}s(fYe,"getCapiUrl");async function xV(t,e,r){r??=await t.get(yn).getToken();let n=fYe(t,r,e),o=r.token;EV()&&($6.debug(t,"Using CES proxy authentication token for fetchCapiUrl"),o=await dYe());let a={Authorization:`Bearer ${o}`,...IV(t)},c=uYe()?await yme(t,a):EV()?Cme(t,a):a;return await t.get(to).fetch(new URL(n).href,{method:"GET",headers:c})}s(xV,"fetchCapiUrl");async function dYe(){let e=await new gI().getToken("api://17b0ad65-ed36-4194-bb27-059c567bc41f/.default");if(!e)throw new Error("Failed to retrieve access token");return e.token}s(dYe,"getMsBenchToken");d();d();d();var Ms={};Ei(Ms,{HasPropertyKey:()=>z6,IsArray:()=>$i,IsAsyncIterator:()=>vV,IsBigInt:()=>N5,IsBoolean:()=>zd,IsDate:()=>N1,IsFunction:()=>bV,IsIterator:()=>_V,IsNull:()=>TV,IsNumber:()=>Vc,IsObject:()=>In,IsRegExp:()=>Q5,IsString:()=>kn,IsSymbol:()=>wV,IsUint8Array:()=>Kd,IsUndefined:()=>zi});d();function z6(t,e){return e in t}s(z6,"HasPropertyKey");function vV(t){return In(t)&&!$i(t)&&!Kd(t)&&Symbol.asyncIterator in t}s(vV,"IsAsyncIterator");function $i(t){return Array.isArray(t)}s($i,"IsArray");function N5(t){return typeof t=="bigint"}s(N5,"IsBigInt");function zd(t){return typeof t=="boolean"}s(zd,"IsBoolean");function N1(t){return t instanceof globalThis.Date}s(N1,"IsDate");function bV(t){return typeof t=="function"}s(bV,"IsFunction");function _V(t){return In(t)&&!$i(t)&&!Kd(t)&&Symbol.iterator in t}s(_V,"IsIterator");function TV(t){return t===null}s(TV,"IsNull");function Vc(t){return typeof t=="number"}s(Vc,"IsNumber");function In(t){return typeof t=="object"&&t!==null}s(In,"IsObject");function Q5(t){return t instanceof globalThis.RegExp}s(Q5,"IsRegExp");function kn(t){return typeof t=="string"}s(kn,"IsString");function wV(t){return typeof t=="symbol"}s(wV,"IsSymbol");function Kd(t){return t instanceof globalThis.Uint8Array}s(Kd,"IsUint8Array");function zi(t){return t===void 0}s(zi,"IsUndefined");function hYe(t){return t.map(e=>K6(e))}s(hYe,"ArrayType");function AYe(t){return new Date(t.getTime())}s(AYe,"DateType");function pYe(t){return new Uint8Array(t)}s(pYe,"Uint8ArrayType");function mYe(t){return new RegExp(t.source,t.flags)}s(mYe,"RegExpType");function gYe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=K6(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=K6(t[r]);return e}s(gYe,"ObjectType");function K6(t){return $i(t)?hYe(t):N1(t)?AYe(t):Kd(t)?pYe(t):Q5(t)?mYe(t):In(t)?gYe(t):t}s(K6,"Visit");function ei(t){return K6(t)}s(ei,"Clone");function CI(t,e){return e===void 0?ei(t):ei({...e,...t})}s(CI,"CloneType");d();d();d();function J6(t){return hr(t)&&globalThis.Symbol.asyncIterator in t}s(J6,"IsAsyncIterator");function X6(t){return hr(t)&&globalThis.Symbol.iterator in t}s(X6,"IsIterator");function SV(t){return hr(t)&&(globalThis.Object.getPrototypeOf(t)===Object.prototype||globalThis.Object.getPrototypeOf(t)===null)}s(SV,"IsStandardObject");function Z6(t){return t instanceof globalThis.Promise}s(Z6,"IsPromise");function fa(t){return t instanceof Date&&globalThis.Number.isFinite(t.getTime())}s(fa,"IsDate");function Ime(t){return t instanceof globalThis.Map}s(Ime,"IsMap");function xme(t){return t instanceof globalThis.Set}s(xme,"IsSet");function U0(t){return globalThis.ArrayBuffer.isView(t)}s(U0,"IsTypedArray");function yI(t){return t instanceof globalThis.Uint8Array}s(yI,"IsUint8Array");function wt(t,e){return e in t}s(wt,"HasPropertyKey");function hr(t){return t!==null&&typeof t=="object"}s(hr,"IsObject");function St(t){return globalThis.Array.isArray(t)&&!globalThis.ArrayBuffer.isView(t)}s(St,"IsArray");function ti(t){return t===void 0}s(ti,"IsUndefined");function Jd(t){return t===null}s(Jd,"IsNull");function nf(t){return typeof t=="boolean"}s(nf,"IsBoolean");function pt(t){return typeof t=="number"}s(pt,"IsNumber");function e9(t){return globalThis.Number.isInteger(t)}s(e9,"IsInteger");function hs(t){return typeof t=="bigint"}s(hs,"IsBigInt");function Hr(t){return typeof t=="string"}s(Hr,"IsString");function Cp(t){return typeof t=="function"}s(Cp,"IsFunction");function Xd(t){return typeof t=="symbol"}s(Xd,"IsSymbol");function Wc(t){return hs(t)||nf(t)||Jd(t)||pt(t)||Hr(t)||Xd(t)||ti(t)}s(Wc,"IsValueType");var Un;(function(t){t.InstanceMode="default",t.ExactOptionalPropertyTypes=!1,t.AllowArrayObject=!1,t.AllowNaN=!1,t.AllowNullVoid=!1;function e(c,l){return t.ExactOptionalPropertyTypes?l in c:c[l]!==void 0}s(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(c){let l=hr(c);return t.AllowArrayObject?l:l&&!St(c)}s(r,"IsObjectLike"),t.IsObjectLike=r;function n(c){return r(c)&&!(c instanceof Date)&&!(c instanceof Uint8Array)}s(n,"IsRecordLike"),t.IsRecordLike=n;function o(c){return t.AllowNaN?pt(c):Number.isFinite(c)}s(o,"IsNumberLike"),t.IsNumberLike=o;function a(c){let l=ti(c);return t.AllowNullVoid?l||c===null:l}s(a,"IsVoidLike"),t.IsVoidLike=a})(Un||(Un={}));d();function CYe(t){return globalThis.Object.freeze(t).map(e=>P5(e))}s(CYe,"ImmutableArray");function yYe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=P5(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=P5(t[r]);return globalThis.Object.freeze(e)}s(yYe,"ImmutableObject");function P5(t){return $i(t)?CYe(t):N1(t)?t:Kd(t)?t:Q5(t)?t:In(t)?yYe(t):t}s(P5,"Immutable");function ye(t,e){let r=e!==void 0?{...e,...t}:t;switch(Un.InstanceMode){case"freeze":return P5(r);case"clone":return ei(r);default:return r}}s(ye,"CreateType");d();var Bt=class extends Error{static{s(this,"TypeBoxError")}constructor(e){super(e)}};d();d();d();var hi=Symbol.for("TypeBox.Transform"),Pl=Symbol.for("TypeBox.Readonly"),As=Symbol.for("TypeBox.Optional"),q0=Symbol.for("TypeBox.Hint"),Ce=Symbol.for("TypeBox.Kind");function EI(t){return In(t)&&t[Pl]==="Readonly"}s(EI,"IsReadonly");function ja(t){return In(t)&&t[As]==="Optional"}s(ja,"IsOptional");function BV(t){return Dr(t,"Any")}s(BV,"IsAny");function RV(t){return Dr(t,"Argument")}s(RV,"IsArgument");function Fl(t){return Dr(t,"Array")}s(Fl,"IsArray");function Q1(t){return Dr(t,"AsyncIterator")}s(Q1,"IsAsyncIterator");function P1(t){return Dr(t,"BigInt")}s(P1,"IsBigInt");function Zd(t){return Dr(t,"Boolean")}s(Zd,"IsBoolean");function Ll(t){return Dr(t,"Computed")}s(Ll,"IsComputed");function Ml(t){return Dr(t,"Constructor")}s(Ml,"IsConstructor");function EYe(t){return Dr(t,"Date")}s(EYe,"IsDate");function Ol(t){return Dr(t,"Function")}s(Ol,"IsFunction");function Ul(t){return Dr(t,"Integer")}s(Ul,"IsInteger");function _i(t){return Dr(t,"Intersect")}s(_i,"IsIntersect");function F1(t){return Dr(t,"Iterator")}s(F1,"IsIterator");function Dr(t,e){return In(t)&&Ce in t&&t[Ce]===e}s(Dr,"IsKindOf");function t9(t){return zd(t)||Vc(t)||kn(t)}s(t9,"IsLiteralValue");function Yc(t){return Dr(t,"Literal")}s(Yc,"IsLiteral");function jc(t){return Dr(t,"MappedKey")}s(jc,"IsMappedKey");function ri(t){return Dr(t,"MappedResult")}s(ri,"IsMappedResult");function yp(t){return Dr(t,"Never")}s(yp,"IsNever");function IYe(t){return Dr(t,"Not")}s(IYe,"IsNot");function F5(t){return Dr(t,"Null")}s(F5,"IsNull");function ql(t){return Dr(t,"Number")}s(ql,"IsNumber");function Ki(t){return Dr(t,"Object")}s(Ki,"IsObject");function L1(t){return Dr(t,"Promise")}s(L1,"IsPromise");function M1(t){return Dr(t,"Record")}s(M1,"IsRecord");function Fi(t){return Dr(t,"Ref")}s(Fi,"IsRef");function kV(t){return Dr(t,"RegExp")}s(kV,"IsRegExp");function eh(t){return Dr(t,"String")}s(eh,"IsString");function L5(t){return Dr(t,"Symbol")}s(L5,"IsSymbol");function $c(t){return Dr(t,"TemplateLiteral")}s($c,"IsTemplateLiteral");function xYe(t){return Dr(t,"This")}s(xYe,"IsThis");function en(t){return In(t)&&hi in t}s(en,"IsTransform");function zc(t){return Dr(t,"Tuple")}s(zc,"IsTuple");function th(t){return Dr(t,"Undefined")}s(th,"IsUndefined");function Gr(t){return Dr(t,"Union")}s(Gr,"IsUnion");function vYe(t){return Dr(t,"Uint8Array")}s(vYe,"IsUint8Array");function bYe(t){return Dr(t,"Unknown")}s(bYe,"IsUnknown");function _Ye(t){return Dr(t,"Unsafe")}s(_Ye,"IsUnsafe");function TYe(t){return Dr(t,"Void")}s(TYe,"IsVoid");function Ep(t){return In(t)&&Ce in t&&kn(t[Ce])}s(Ep,"IsKind");function Ai(t){return BV(t)||RV(t)||Fl(t)||Zd(t)||P1(t)||Q1(t)||Ll(t)||Ml(t)||EYe(t)||Ol(t)||Ul(t)||_i(t)||F1(t)||Yc(t)||jc(t)||ri(t)||yp(t)||IYe(t)||F5(t)||ql(t)||Ki(t)||L1(t)||M1(t)||Fi(t)||kV(t)||eh(t)||L5(t)||$c(t)||xYe(t)||zc(t)||th(t)||Gr(t)||vYe(t)||bYe(t)||_Ye(t)||TYe(t)||Ep(t)}s(Ai,"IsSchema");var ce={};Ei(ce,{IsAny:()=>Tme,IsArgument:()=>wme,IsArray:()=>Sme,IsAsyncIterator:()=>Bme,IsBigInt:()=>Rme,IsBoolean:()=>kme,IsComputed:()=>Dme,IsConstructor:()=>Nme,IsDate:()=>Qme,IsFunction:()=>Pme,IsImport:()=>DYe,IsInteger:()=>Fme,IsIntersect:()=>Lme,IsIterator:()=>Mme,IsKind:()=>uge,IsKindOf:()=>Cr,IsLiteral:()=>O5,IsLiteralBoolean:()=>NYe,IsLiteralNumber:()=>Ume,IsLiteralString:()=>Ome,IsLiteralValue:()=>qme,IsMappedKey:()=>Hme,IsMappedResult:()=>Gme,IsNever:()=>Vme,IsNot:()=>Wme,IsNull:()=>Yme,IsNumber:()=>jme,IsObject:()=>$me,IsOptional:()=>kYe,IsPromise:()=>zme,IsProperties:()=>r9,IsReadonly:()=>RYe,IsRecord:()=>Kme,IsRecursive:()=>QYe,IsRef:()=>Jme,IsRegExp:()=>Xme,IsSchema:()=>ni,IsString:()=>Zme,IsSymbol:()=>ege,IsTemplateLiteral:()=>tge,IsThis:()=>rge,IsTransform:()=>nge,IsTuple:()=>ige,IsUint8Array:()=>sge,IsUndefined:()=>oge,IsUnion:()=>PV,IsUnionLiteral:()=>PYe,IsUnknown:()=>age,IsUnsafe:()=>cge,IsVoid:()=>lge,TypeGuardUnknownTypeError:()=>DV});d();var DV=class extends Bt{static{s(this,"TypeGuardUnknownTypeError")}},wYe=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function vme(t){try{return new RegExp(t),!0}catch{return!1}}s(vme,"IsPattern");function NV(t){if(!kn(t))return!1;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}s(NV,"IsControlCharacterFree");function bme(t){return QV(t)||ni(t)}s(bme,"IsAdditionalProperties");function M5(t){return zi(t)||N5(t)}s(M5,"IsOptionalBigInt");function Dn(t){return zi(t)||Vc(t)}s(Dn,"IsOptionalNumber");function QV(t){return zi(t)||zd(t)}s(QV,"IsOptionalBoolean");function xn(t){return zi(t)||kn(t)}s(xn,"IsOptionalString");function SYe(t){return zi(t)||kn(t)&&NV(t)&&vme(t)}s(SYe,"IsOptionalPattern");function BYe(t){return zi(t)||kn(t)&&NV(t)}s(BYe,"IsOptionalFormat");function _me(t){return zi(t)||ni(t)}s(_me,"IsOptionalSchema");function RYe(t){return In(t)&&t[Pl]==="Readonly"}s(RYe,"IsReadonly");function kYe(t){return In(t)&&t[As]==="Optional"}s(kYe,"IsOptional");function Tme(t){return Cr(t,"Any")&&xn(t.$id)}s(Tme,"IsAny");function wme(t){return Cr(t,"Argument")&&Vc(t.index)}s(wme,"IsArgument");function Sme(t){return Cr(t,"Array")&&t.type==="array"&&xn(t.$id)&&ni(t.items)&&Dn(t.minItems)&&Dn(t.maxItems)&&QV(t.uniqueItems)&&_me(t.contains)&&Dn(t.minContains)&&Dn(t.maxContains)}s(Sme,"IsArray");function Bme(t){return Cr(t,"AsyncIterator")&&t.type==="AsyncIterator"&&xn(t.$id)&&ni(t.items)}s(Bme,"IsAsyncIterator");function Rme(t){return Cr(t,"BigInt")&&t.type==="bigint"&&xn(t.$id)&&M5(t.exclusiveMaximum)&&M5(t.exclusiveMinimum)&&M5(t.maximum)&&M5(t.minimum)&&M5(t.multipleOf)}s(Rme,"IsBigInt");function kme(t){return Cr(t,"Boolean")&&t.type==="boolean"&&xn(t.$id)}s(kme,"IsBoolean");function Dme(t){return Cr(t,"Computed")&&kn(t.target)&&$i(t.parameters)&&t.parameters.every(e=>ni(e))}s(Dme,"IsComputed");function Nme(t){return Cr(t,"Constructor")&&t.type==="Constructor"&&xn(t.$id)&&$i(t.parameters)&&t.parameters.every(e=>ni(e))&&ni(t.returns)}s(Nme,"IsConstructor");function Qme(t){return Cr(t,"Date")&&t.type==="Date"&&xn(t.$id)&&Dn(t.exclusiveMaximumTimestamp)&&Dn(t.exclusiveMinimumTimestamp)&&Dn(t.maximumTimestamp)&&Dn(t.minimumTimestamp)&&Dn(t.multipleOfTimestamp)}s(Qme,"IsDate");function Pme(t){return Cr(t,"Function")&&t.type==="Function"&&xn(t.$id)&&$i(t.parameters)&&t.parameters.every(e=>ni(e))&&ni(t.returns)}s(Pme,"IsFunction");function DYe(t){return Cr(t,"Import")&&z6(t,"$defs")&&In(t.$defs)&&r9(t.$defs)&&z6(t,"$ref")&&kn(t.$ref)&&t.$ref in t.$defs}s(DYe,"IsImport");function Fme(t){return Cr(t,"Integer")&&t.type==="integer"&&xn(t.$id)&&Dn(t.exclusiveMaximum)&&Dn(t.exclusiveMinimum)&&Dn(t.maximum)&&Dn(t.minimum)&&Dn(t.multipleOf)}s(Fme,"IsInteger");function r9(t){return In(t)&&Object.entries(t).every(([e,r])=>NV(e)&&ni(r))}s(r9,"IsProperties");function Lme(t){return Cr(t,"Intersect")&&!(kn(t.type)&&t.type!=="object")&&$i(t.allOf)&&t.allOf.every(e=>ni(e)&&!nge(e))&&xn(t.type)&&(QV(t.unevaluatedProperties)||_me(t.unevaluatedProperties))&&xn(t.$id)}s(Lme,"IsIntersect");function Mme(t){return Cr(t,"Iterator")&&t.type==="Iterator"&&xn(t.$id)&&ni(t.items)}s(Mme,"IsIterator");function Cr(t,e){return In(t)&&Ce in t&&t[Ce]===e}s(Cr,"IsKindOf");function Ome(t){return O5(t)&&kn(t.const)}s(Ome,"IsLiteralString");function Ume(t){return O5(t)&&Vc(t.const)}s(Ume,"IsLiteralNumber");function NYe(t){return O5(t)&&zd(t.const)}s(NYe,"IsLiteralBoolean");function O5(t){return Cr(t,"Literal")&&xn(t.$id)&&qme(t.const)}s(O5,"IsLiteral");function qme(t){return zd(t)||Vc(t)||kn(t)}s(qme,"IsLiteralValue");function Hme(t){return Cr(t,"MappedKey")&&$i(t.keys)&&t.keys.every(e=>Vc(e)||kn(e))}s(Hme,"IsMappedKey");function Gme(t){return Cr(t,"MappedResult")&&r9(t.properties)}s(Gme,"IsMappedResult");function Vme(t){return Cr(t,"Never")&&In(t.not)&&Object.getOwnPropertyNames(t.not).length===0}s(Vme,"IsNever");function Wme(t){return Cr(t,"Not")&&ni(t.not)}s(Wme,"IsNot");function Yme(t){return Cr(t,"Null")&&t.type==="null"&&xn(t.$id)}s(Yme,"IsNull");function jme(t){return Cr(t,"Number")&&t.type==="number"&&xn(t.$id)&&Dn(t.exclusiveMaximum)&&Dn(t.exclusiveMinimum)&&Dn(t.maximum)&&Dn(t.minimum)&&Dn(t.multipleOf)}s(jme,"IsNumber");function $me(t){return Cr(t,"Object")&&t.type==="object"&&xn(t.$id)&&r9(t.properties)&&bme(t.additionalProperties)&&Dn(t.minProperties)&&Dn(t.maxProperties)}s($me,"IsObject");function zme(t){return Cr(t,"Promise")&&t.type==="Promise"&&xn(t.$id)&&ni(t.item)}s(zme,"IsPromise");function Kme(t){return Cr(t,"Record")&&t.type==="object"&&xn(t.$id)&&bme(t.additionalProperties)&&In(t.patternProperties)&&(e=>{let r=Object.getOwnPropertyNames(e.patternProperties);return r.length===1&&vme(r[0])&&In(e.patternProperties)&&ni(e.patternProperties[r[0]])})(t)}s(Kme,"IsRecord");function QYe(t){return In(t)&&q0 in t&&t[q0]==="Recursive"}s(QYe,"IsRecursive");function Jme(t){return Cr(t,"Ref")&&xn(t.$id)&&kn(t.$ref)}s(Jme,"IsRef");function Xme(t){return Cr(t,"RegExp")&&xn(t.$id)&&kn(t.source)&&kn(t.flags)&&Dn(t.maxLength)&&Dn(t.minLength)}s(Xme,"IsRegExp");function Zme(t){return Cr(t,"String")&&t.type==="string"&&xn(t.$id)&&Dn(t.minLength)&&Dn(t.maxLength)&&SYe(t.pattern)&&BYe(t.format)}s(Zme,"IsString");function ege(t){return Cr(t,"Symbol")&&t.type==="symbol"&&xn(t.$id)}s(ege,"IsSymbol");function tge(t){return Cr(t,"TemplateLiteral")&&t.type==="string"&&kn(t.pattern)&&t.pattern[0]==="^"&&t.pattern[t.pattern.length-1]==="$"}s(tge,"IsTemplateLiteral");function rge(t){return Cr(t,"This")&&xn(t.$id)&&kn(t.$ref)}s(rge,"IsThis");function nge(t){return In(t)&&hi in t}s(nge,"IsTransform");function ige(t){return Cr(t,"Tuple")&&t.type==="array"&&xn(t.$id)&&Vc(t.minItems)&&Vc(t.maxItems)&&t.minItems===t.maxItems&&(zi(t.items)&&zi(t.additionalItems)&&t.minItems===0||$i(t.items)&&t.items.every(e=>ni(e)))}s(ige,"IsTuple");function oge(t){return Cr(t,"Undefined")&&t.type==="undefined"&&xn(t.$id)}s(oge,"IsUndefined");function PYe(t){return PV(t)&&t.anyOf.every(e=>Ome(e)||Ume(e))}s(PYe,"IsUnionLiteral");function PV(t){return Cr(t,"Union")&&xn(t.$id)&&In(t)&&$i(t.anyOf)&&t.anyOf.every(e=>ni(e))}s(PV,"IsUnion");function sge(t){return Cr(t,"Uint8Array")&&t.type==="Uint8Array"&&xn(t.$id)&&Dn(t.minByteLength)&&Dn(t.maxByteLength)}s(sge,"IsUint8Array");function age(t){return Cr(t,"Unknown")&&xn(t.$id)}s(age,"IsUnknown");function cge(t){return Cr(t,"Unsafe")}s(cge,"IsUnsafe");function lge(t){return Cr(t,"Void")&&t.type==="void"&&xn(t.$id)}s(lge,"IsVoid");function uge(t){return In(t)&&Ce in t&&kn(t[Ce])&&!wYe.includes(t[Ce])}s(uge,"IsKind");function ni(t){return In(t)&&(Tme(t)||wme(t)||Sme(t)||kme(t)||Rme(t)||Bme(t)||Dme(t)||Nme(t)||Qme(t)||Pme(t)||Fme(t)||Lme(t)||Mme(t)||O5(t)||Hme(t)||Gme(t)||Vme(t)||Wme(t)||Yme(t)||jme(t)||$me(t)||zme(t)||Kme(t)||Jme(t)||Xme(t)||Zme(t)||ege(t)||tge(t)||rge(t)||ige(t)||oge(t)||PV(t)||sge(t)||age(t)||cge(t)||lge(t)||uge(t))}s(ni,"IsSchema");d();var FV="(true|false)",U5="(0|[1-9][0-9]*)",LV="(.*)",FYe="(?!.*)",Ivr=`^${FV}$`,of=`^${U5}$`,sf=`^${LV}$`,fge=`^${FYe}$`;d();var Hl={};Ei(Hl,{Clear:()=>MYe,Delete:()=>OYe,Entries:()=>LYe,Get:()=>HYe,Has:()=>UYe,Set:()=>qYe});d();var II=new Map;function LYe(){return new Map(II)}s(LYe,"Entries");function MYe(){return II.clear()}s(MYe,"Clear");function OYe(t){return II.delete(t)}s(OYe,"Delete");function UYe(t){return II.has(t)}s(UYe,"Has");function qYe(t,e){II.set(t,e)}s(qYe,"Set");function HYe(t){return II.get(t)}s(HYe,"Get");var da={};Ei(da,{Clear:()=>VYe,Delete:()=>WYe,Entries:()=>GYe,Get:()=>$Ye,Has:()=>YYe,Set:()=>jYe});d();var xI=new Map;function GYe(){return new Map(xI)}s(GYe,"Entries");function VYe(){return xI.clear()}s(VYe,"Clear");function WYe(t){return xI.delete(t)}s(WYe,"Delete");function YYe(t){return xI.has(t)}s(YYe,"Has");function jYe(t,e){xI.set(t,e)}s(jYe,"Set");function $Ye(t){return xI.get(t)}s($Ye,"Get");d();function dge(t,e){return t.includes(e)}s(dge,"SetIncludes");function hge(t){return[...new Set(t)]}s(hge,"SetDistinct");function zYe(t,e){return t.filter(r=>e.includes(r))}s(zYe,"SetIntersect");function KYe(t,e){return t.reduce((r,n)=>zYe(r,n),e)}s(KYe,"SetIntersectManyResolve");function Age(t){return t.length===1?t[0]:t.length>1?KYe(t.slice(1),t[0]):[]}s(Age,"SetIntersectMany");function pge(t){let e=[];for(let r of t)e.push(...r);return e}s(pge,"SetUnionMany");d();function Ip(t){return ye({[Ce]:"Any"},t)}s(Ip,"Any");d();function vI(t,e){return ye({[Ce]:"Array",type:"array",items:t},e)}s(vI,"Array");d();function mge(t){return ye({[Ce]:"Argument",index:t})}s(mge,"Argument");d();function bI(t,e){return ye({[Ce]:"AsyncIterator",type:"AsyncIterator",items:t},e)}s(bI,"AsyncIterator");d();d();function qn(t,e,r){return ye({[Ce]:"Computed",target:t,parameters:e},r)}s(qn,"Computed");d();d();function JYe(t,e){let{[e]:r,...n}=t;return n}s(JYe,"DiscardKey");function Ti(t,e){return e.reduce((r,n)=>JYe(r,n),t)}s(Ti,"Discard");d();function ar(t){return ye({[Ce]:"Never",not:{}},t)}s(ar,"Never");d();d();function Wr(t){return ye({[Ce]:"MappedResult",properties:t})}s(Wr,"MappedResult");d();d();function _I(t,e,r){return ye({[Ce]:"Constructor",type:"Constructor",parameters:t,returns:e},r)}s(_I,"Constructor");d();function af(t,e,r){return ye({[Ce]:"Function",type:"Function",parameters:t,returns:e},r)}s(af,"Function");d();d();d();d();function q5(t,e){return ye({[Ce]:"Union",anyOf:t},e)}s(q5,"UnionCreate");function XYe(t){return t.some(e=>ja(e))}s(XYe,"IsUnionOptional");function gge(t){return t.map(e=>ja(e)?ZYe(e):e)}s(gge,"RemoveOptionalFromRest");function ZYe(t){return Ti(t,[As])}s(ZYe,"RemoveOptionalFromType");function eje(t,e){return XYe(t)?Os(q5(gge(t),e)):q5(gge(t),e)}s(eje,"ResolveUnion");function cf(t,e){return t.length===1?ye(t[0],e):t.length===0?ar(e):eje(t,e)}s(cf,"UnionEvaluated");d();function tn(t,e){return t.length===0?ar(e):t.length===1?ye(t[0],e):q5(t,e)}s(tn,"Union");d();d();d();var n9=class extends Bt{static{s(this,"TemplateLiteralParserError")}};function tje(t){return t.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}s(tje,"Unescape");function MV(t,e,r){return t[e]===r&&t.charCodeAt(e-1)!==92}s(MV,"IsNonEscaped");function nh(t,e){return MV(t,e,"(")}s(nh,"IsOpenParen");function H5(t,e){return MV(t,e,")")}s(H5,"IsCloseParen");function Cge(t,e){return MV(t,e,"|")}s(Cge,"IsSeparator");function rje(t){if(!(nh(t,0)&&H5(t,t.length-1)))return!1;let e=0;for(let r=0;r<t.length;r++)if(nh(t,r)&&(e+=1),H5(t,r)&&(e-=1),e===0&&r!==t.length-1)return!1;return!0}s(rje,"IsGroup");function nje(t){return t.slice(1,t.length-1)}s(nje,"InGroup");function ije(t){let e=0;for(let r=0;r<t.length;r++)if(nh(t,r)&&(e+=1),H5(t,r)&&(e-=1),Cge(t,r)&&e===0)return!0;return!1}s(ije,"IsPrecedenceOr");function oje(t){for(let e=0;e<t.length;e++)if(nh(t,e))return!0;return!1}s(oje,"IsPrecedenceAnd");function sje(t){let[e,r]=[0,0],n=[];for(let a=0;a<t.length;a++)if(nh(t,a)&&(e+=1),H5(t,a)&&(e-=1),Cge(t,a)&&e===0){let c=t.slice(r,a);c.length>0&&n.push(TI(c)),r=a+1}let o=t.slice(r);return o.length>0&&n.push(TI(o)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}s(sje,"Or");function aje(t){function e(o,a){if(!nh(o,a))throw new n9("TemplateLiteralParser: Index must point to open parens");let c=0;for(let l=a;l<o.length;l++)if(nh(o,l)&&(c+=1),H5(o,l)&&(c-=1),c===0)return[a,l];throw new n9("TemplateLiteralParser: Unclosed group parens in expression")}s(e,"Group");function r(o,a){for(let c=a;c<o.length;c++)if(nh(o,c))return[a,c];return[a,o.length]}s(r,"Range");let n=[];for(let o=0;o<t.length;o++)if(nh(t,o)){let[a,c]=e(t,o),l=t.slice(a,c+1);n.push(TI(l)),o=c}else{let[a,c]=r(t,o),l=t.slice(a,c);l.length>0&&n.push(TI(l)),o=c-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}s(aje,"And");function TI(t){return rje(t)?TI(nje(t)):ije(t)?sje(t):oje(t)?aje(t):{type:"const",const:tje(t)}}s(TI,"TemplateLiteralParse");function wI(t){return TI(t.slice(1,t.length-1))}s(wI,"TemplateLiteralParseExact");var OV=class extends Bt{static{s(this,"TemplateLiteralFiniteError")}};function cje(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="0"&&t.expr[1].type==="const"&&t.expr[1].const==="[1-9][0-9]*"}s(cje,"IsNumberExpression");function lje(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="true"&&t.expr[1].type==="const"&&t.expr[1].const==="false"}s(lje,"IsBooleanExpression");function uje(t){return t.type==="const"&&t.const===".*"}s(uje,"IsStringExpression");function O1(t){return cje(t)||uje(t)?!1:lje(t)?!0:t.type==="and"?t.expr.every(e=>O1(e)):t.type==="or"?t.expr.every(e=>O1(e)):t.type==="const"?!0:(()=>{throw new OV("Unknown expression type")})()}s(O1,"IsTemplateLiteralExpressionFinite");function i9(t){let e=wI(t.pattern);return O1(e)}s(i9,"IsTemplateLiteralFinite");d();var UV=class extends Bt{static{s(this,"TemplateLiteralGenerateError")}};function*yge(t){if(t.length===1)return yield*t[0];for(let e of t[0])for(let r of yge(t.slice(1)))yield`${e}${r}`}s(yge,"GenerateReduce");function*fje(t){return yield*yge(t.expr.map(e=>[...G5(e)]))}s(fje,"GenerateAnd");function*dje(t){for(let e of t.expr)yield*G5(e)}s(dje,"GenerateOr");function*hje(t){return yield t.const}s(hje,"GenerateConst");function*G5(t){return t.type==="and"?yield*fje(t):t.type==="or"?yield*dje(t):t.type==="const"?yield*hje(t):(()=>{throw new UV("Unknown expression")})()}s(G5,"TemplateLiteralExpressionGenerate");function SI(t){let e=wI(t.pattern);return O1(e)?[...G5(e)]:[]}s(SI,"TemplateLiteralGenerate");d();d();function Nr(t,e){return ye({[Ce]:"Literal",const:t,type:typeof t},e)}s(Nr,"Literal");d();function o9(t){return ye({[Ce]:"Boolean",type:"boolean"},t)}s(o9,"Boolean");d();function BI(t){return ye({[Ce]:"BigInt",type:"bigint"},t)}s(BI,"BigInt");d();function H0(t){return ye({[Ce]:"Number",type:"number"},t)}s(H0,"Number");d();function ha(t){return ye({[Ce]:"String",type:"string"},t)}s(ha,"String");function*Aje(t){let e=t.trim().replace(/"|'/g,"");return e==="boolean"?yield o9():e==="number"?yield H0():e==="bigint"?yield BI():e==="string"?yield ha():yield(()=>{let r=e.split("|").map(n=>Nr(n.trim()));return r.length===0?ar():r.length===1?r[0]:cf(r)})()}s(Aje,"FromUnion");function*pje(t){if(t[1]!=="{"){let e=Nr("$"),r=qV(t.slice(1));return yield*[e,...r]}for(let e=2;e<t.length;e++)if(t[e]==="}"){let r=Aje(t.slice(2,e)),n=qV(t.slice(e+1));return yield*[...r,...n]}yield Nr(t)}s(pje,"FromTerminal");function*qV(t){for(let e=0;e<t.length;e++)if(t[e]==="$"){let r=Nr(t.slice(0,e)),n=pje(t.slice(e));return yield*[r,...n]}yield Nr(t)}s(qV,"FromSyntax");function Ege(t){return[...qV(t)]}s(Ege,"TemplateLiteralSyntax");d();var HV=class extends Bt{static{s(this,"TemplateLiteralPatternError")}};function mje(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(mje,"Escape");function Ige(t,e){return $c(t)?t.pattern.slice(1,t.pattern.length-1):Gr(t)?`(${t.anyOf.map(r=>Ige(r,e)).join("|")})`:ql(t)?`${e}${U5}`:Ul(t)?`${e}${U5}`:P1(t)?`${e}${U5}`:eh(t)?`${e}${LV}`:Yc(t)?`${e}${mje(t.const.toString())}`:Zd(t)?`${e}${FV}`:(()=>{throw new HV(`Unexpected Kind '${t[Ce]}'`)})()}s(Ige,"Visit");function GV(t){return`^${t.map(e=>Ige(e,"")).join("")}$`}s(GV,"TemplateLiteralPattern");d();function U1(t){let r=SI(t).map(n=>Nr(n));return cf(r)}s(U1,"TemplateLiteralToUnion");d();function s9(t,e){let r=kn(t)?GV(Ege(t)):GV(t);return ye({[Ce]:"TemplateLiteral",type:"string",pattern:r},e)}s(s9,"TemplateLiteral");function gje(t){return SI(t).map(r=>r.toString())}s(gje,"FromTemplateLiteral");function Cje(t){let e=[];for(let r of t)e.push(...$a(r));return e}s(Cje,"FromUnion");function yje(t){return[t.toString()]}s(yje,"FromLiteral");function $a(t){return[...new Set($c(t)?gje(t):Gr(t)?Cje(t.anyOf):Yc(t)?yje(t.const):ql(t)?["[number]"]:Ul(t)?["[number]"]:[])]}s($a,"IndexPropertyKeys");d();function Eje(t,e,r){let n={};for(let o of Object.getOwnPropertyNames(e))n[o]=xp(t,$a(e[o]),r);return n}s(Eje,"FromProperties");function Ije(t,e,r){return Eje(t,e.properties,r)}s(Ije,"FromMappedResult");function xge(t,e,r){let n=Ije(t,e,r);return Wr(n)}s(xge,"IndexFromMappedResult");function bge(t,e){return t.map(r=>_ge(r,e))}s(bge,"FromRest");function xje(t){return t.filter(e=>!yp(e))}s(xje,"FromIntersectRest");function vje(t,e){return a9(xje(bge(t,e)))}s(vje,"FromIntersect");function bje(t){return t.some(e=>yp(e))?[]:t}s(bje,"FromUnionRest");function _je(t,e){return cf(bje(bge(t,e)))}s(_je,"FromUnion");function Tje(t,e){return e in t?t[e]:e==="[number]"?cf(t):ar()}s(Tje,"FromTuple");function wje(t,e){return e==="[number]"?t:ar()}s(wje,"FromArray");function Sje(t,e){return e in t?t[e]:ar()}s(Sje,"FromProperty");function _ge(t,e){return _i(t)?vje(t.allOf,e):Gr(t)?_je(t.anyOf,e):zc(t)?Tje(t.items??[],e):Fl(t)?wje(t.items,e):Ki(t)?Sje(t.properties,e):ar()}s(_ge,"IndexFromPropertyKey");function V5(t,e){return e.map(r=>_ge(t,r))}s(V5,"IndexFromPropertyKeys");function vge(t,e){return cf(V5(t,e))}s(vge,"FromSchema");function xp(t,e,r){if(Fi(t)||Fi(e)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Ai(t)||!Ai(e))throw new Bt(n);return qn("Index",[t,e])}return ri(e)?xge(t,e,r):jc(e)?Tge(t,e,r):ye(Ai(e)?vge(t,$a(e)):vge(t,e),r)}s(xp,"Index");function Bje(t,e,r){return{[e]:xp(t,[e],ei(r))}}s(Bje,"MappedIndexPropertyKey");function Rje(t,e,r){return e.reduce((n,o)=>({...n,...Bje(t,o,r)}),{})}s(Rje,"MappedIndexPropertyKeys");function kje(t,e,r){return Rje(t,e.keys,r)}s(kje,"MappedIndexProperties");function Tge(t,e,r){let n=kje(t,e,r);return Wr(n)}s(Tge,"IndexFromMappedKey");d();function RI(t,e){return ye({[Ce]:"Iterator",type:"Iterator",items:t},e)}s(RI,"Iterator");d();function Dje(t){let e=[];for(let r in t)ja(t[r])||e.push(r);return e}s(Dje,"RequiredKeys");function Nje(t,e){let r=Dje(t),n=r.length>0?{[Ce]:"Object",type:"object",properties:t,required:r}:{[Ce]:"Object",type:"object",properties:t};return ye(n,e)}s(Nje,"_Object");var rn=Nje;d();function c9(t,e){return ye({[Ce]:"Promise",type:"Promise",item:t},e)}s(c9,"Promise");d();d();function Qje(t){return ye(Ti(t,[Pl]))}s(Qje,"RemoveReadonly");function Pje(t){return ye({...t,[Pl]:"Readonly"})}s(Pje,"AddReadonly");function Fje(t,e){return e===!1?Qje(t):Pje(t)}s(Fje,"ReadonlyWithFlag");function za(t,e){let r=e??!0;return ri(t)?wge(t,r):Fje(t,r)}s(za,"Readonly");function Lje(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=za(t[n],e);return r}s(Lje,"FromProperties");function Mje(t,e){return Lje(t.properties,e)}s(Mje,"FromMappedResult");function wge(t,e){let r=Mje(t,e);return Wr(r)}s(wge,"ReadonlyFromMappedResult");d();function G0(t,e){return ye(t.length>0?{[Ce]:"Tuple",type:"array",items:t,additionalItems:!1,minItems:t.length,maxItems:t.length}:{[Ce]:"Tuple",type:"array",minItems:t.length,maxItems:t.length},e)}s(G0,"Tuple");function Sge(t,e){return t in e?V0(t,e[t]):Wr(e)}s(Sge,"FromMappedResult");function Oje(t){return{[t]:Nr(t)}}s(Oje,"MappedKeyToKnownMappedResultProperties");function Uje(t){let e={};for(let r of t)e[r]=Nr(r);return e}s(Uje,"MappedKeyToUnknownMappedResultProperties");function qje(t,e){return dge(e,t)?Oje(t):Uje(e)}s(qje,"MappedKeyToMappedResultProperties");function Hje(t,e){let r=qje(t,e);return Sge(t,r)}s(Hje,"FromMappedKey");function W5(t,e){return e.map(r=>V0(t,r))}s(W5,"FromRest");function Gje(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=V0(t,e[n]);return r}s(Gje,"FromProperties");function V0(t,e){let r={...e};return ja(e)?Os(V0(t,Ti(e,[As]))):EI(e)?za(V0(t,Ti(e,[Pl]))):ri(e)?Sge(t,e.properties):jc(e)?Hje(t,e.keys):Ml(e)?_I(W5(t,e.parameters),V0(t,e.returns),r):Ol(e)?af(W5(t,e.parameters),V0(t,e.returns),r):Q1(e)?bI(V0(t,e.items),r):F1(e)?RI(V0(t,e.items),r):_i(e)?Us(W5(t,e.allOf),r):Gr(e)?tn(W5(t,e.anyOf),r):zc(e)?G0(W5(t,e.items??[]),r):Ki(e)?rn(Gje(t,e.properties),r):Fl(e)?vI(V0(t,e.items),r):L1(e)?c9(V0(t,e.item),r):e}s(V0,"FromSchemaType");function Vje(t,e){let r={};for(let n of t)r[n]=V0(n,e);return r}s(Vje,"MappedFunctionReturnType");function Bge(t,e,r){let n=Ai(t)?$a(t):t,o=e({[Ce]:"MappedKey",keys:n}),a=Vje(n,o);return rn(a,r)}s(Bge,"Mapped");d();function Wje(t){return ye(Ti(t,[As]))}s(Wje,"RemoveOptional");function Yje(t){return ye({...t,[As]:"Optional"})}s(Yje,"AddOptional");function jje(t,e){return e===!1?Wje(t):Yje(t)}s(jje,"OptionalWithFlag");function Os(t,e){let r=e??!0;return ri(t)?Rge(t,r):jje(t,r)}s(Os,"Optional");function $je(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Os(t[n],e);return r}s($je,"FromProperties");function zje(t,e){return $je(t.properties,e)}s(zje,"FromMappedResult");function Rge(t,e){let r=zje(t,e);return Wr(r)}s(Rge,"OptionalFromMappedResult");d();function Y5(t,e={}){let r=t.every(o=>Ki(o)),n=Ai(e.unevaluatedProperties)?{unevaluatedProperties:e.unevaluatedProperties}:{};return ye(e.unevaluatedProperties===!1||Ai(e.unevaluatedProperties)||r?{...n,[Ce]:"Intersect",type:"object",allOf:t}:{...n,[Ce]:"Intersect",allOf:t},e)}s(Y5,"IntersectCreate");function Kje(t){return t.every(e=>ja(e))}s(Kje,"IsIntersectOptional");function Jje(t){return Ti(t,[As])}s(Jje,"RemoveOptionalFromType");function kge(t){return t.map(e=>ja(e)?Jje(e):e)}s(kge,"RemoveOptionalFromRest");function Xje(t,e){return Kje(t)?Os(Y5(kge(t),e)):Y5(kge(t),e)}s(Xje,"ResolveIntersect");function a9(t,e={}){if(t.length===1)return ye(t[0],e);if(t.length===0)return ar(e);if(t.some(r=>en(r)))throw new Error("Cannot intersect transform types");return Xje(t,e)}s(a9,"IntersectEvaluated");d();function Us(t,e){if(t.length===1)return ye(t[0],e);if(t.length===0)return ar(e);if(t.some(r=>en(r)))throw new Error("Cannot intersect transform types");return Y5(t,e)}s(Us,"Intersect");d();function W0(...t){let[e,r]=typeof t[0]=="string"?[t[0],t[1]]:[t[0].$id,t[1]];if(typeof e!="string")throw new Bt("Ref: $ref must be a string");return ye({[Ce]:"Ref",$ref:e},r)}s(W0,"Ref");function Zje(t,e){return qn("Awaited",[qn(t,e)])}s(Zje,"FromComputed");function e$e(t){return qn("Awaited",[W0(t)])}s(e$e,"FromRef");function t$e(t){return Us(Dge(t))}s(t$e,"FromIntersect");function r$e(t){return tn(Dge(t))}s(r$e,"FromUnion");function n$e(t){return kI(t)}s(n$e,"FromPromise");function Dge(t){return t.map(e=>kI(e))}s(Dge,"FromRest");function kI(t,e){return ye(Ll(t)?Zje(t.target,t.parameters):_i(t)?t$e(t.allOf):Gr(t)?r$e(t.anyOf):L1(t)?n$e(t.item):Fi(t)?e$e(t.$ref):t,e)}s(kI,"Awaited");d();d();d();d();function Nge(t){let e=[];for(let r of t)e.push(Ka(r));return e}s(Nge,"FromRest");function i$e(t){let e=Nge(t);return pge(e)}s(i$e,"FromIntersect");function o$e(t){let e=Nge(t);return Age(e)}s(o$e,"FromUnion");function s$e(t){return t.map((e,r)=>r.toString())}s(s$e,"FromTuple");function a$e(t){return["[number]"]}s(a$e,"FromArray");function c$e(t){return globalThis.Object.getOwnPropertyNames(t)}s(c$e,"FromProperties");function l$e(t){return VV?globalThis.Object.getOwnPropertyNames(t).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}s(l$e,"FromPatternProperties");function Ka(t){return _i(t)?i$e(t.allOf):Gr(t)?o$e(t.anyOf):zc(t)?s$e(t.items??[]):Fl(t)?a$e(t.items):Ki(t)?c$e(t.properties):M1(t)?l$e(t.patternProperties):[]}s(Ka,"KeyOfPropertyKeys");var VV=!1;function ih(t){VV=!0;let e=Ka(t);return VV=!1,`^(${e.map(n=>`(${n})`).join("|")})$`}s(ih,"KeyOfPattern");function u$e(t,e){return qn("KeyOf",[qn(t,e)])}s(u$e,"FromComputed");function f$e(t){return qn("KeyOf",[W0(t)])}s(f$e,"FromRef");function d$e(t,e){let r=Ka(t),n=h$e(r),o=cf(n);return ye(o,e)}s(d$e,"KeyOfFromType");function h$e(t){return t.map(e=>e==="[number]"?H0():Nr(e))}s(h$e,"KeyOfPropertyKeysToRest");function DI(t,e){return Ll(t)?u$e(t.target,t.parameters):Fi(t)?f$e(t.$ref):ri(t)?Qge(t,e):d$e(t,e)}s(DI,"KeyOf");function A$e(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=DI(t[n],ei(e));return r}s(A$e,"FromProperties");function p$e(t,e){return A$e(t.properties,e)}s(p$e,"FromMappedResult");function Qge(t,e){let r=p$e(t,e);return Wr(r)}s(Qge,"KeyOfFromMappedResult");d();function l9(t){let e=Ka(t),r=V5(t,e);return e.map((n,o)=>[e[o],r[o]])}s(l9,"KeyOfPropertyEntries");function m$e(t){let e=[];for(let r of t)e.push(...Ka(r));return hge(e)}s(m$e,"CompositeKeys");function g$e(t){return t.filter(e=>!yp(e))}s(g$e,"FilterNever");function C$e(t,e){let r=[];for(let n of t)r.push(...V5(n,[e]));return g$e(r)}s(C$e,"CompositeProperty");function y$e(t,e){let r={};for(let n of e)r[n]=a9(C$e(t,n));return r}s(y$e,"CompositeProperties");function Pge(t,e){let r=m$e(t),n=y$e(t,r);return rn(n,e)}s(Pge,"Composite");d();d();function u9(t){return ye({[Ce]:"Date",type:"Date"},t)}s(u9,"Date");d();function f9(t){return ye({[Ce]:"Null",type:"null"},t)}s(f9,"Null");d();function d9(t){return ye({[Ce]:"Symbol",type:"symbol"},t)}s(d9,"Symbol");d();function h9(t){return ye({[Ce]:"Undefined",type:"undefined"},t)}s(h9,"Undefined");d();function A9(t){return ye({[Ce]:"Uint8Array",type:"Uint8Array"},t)}s(A9,"Uint8Array");d();function Gl(t){return ye({[Ce]:"Unknown"},t)}s(Gl,"Unknown");function E$e(t){return t.map(e=>WV(e,!1))}s(E$e,"FromArray");function I$e(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=za(WV(t[r],!1));return e}s(I$e,"FromProperties");function p9(t,e){return e===!0?t:za(t)}s(p9,"ConditionalReadonly");function WV(t,e){return vV(t)?p9(Ip(),e):_V(t)?p9(Ip(),e):$i(t)?za(G0(E$e(t))):Kd(t)?A9():N1(t)?u9():In(t)?p9(rn(I$e(t)),e):bV(t)?p9(af([],Gl()),e):zi(t)?h9():TV(t)?f9():wV(t)?d9():N5(t)?BI():Vc(t)?Nr(t):zd(t)?Nr(t):kn(t)?Nr(t):rn({})}s(WV,"FromValue");function Fge(t,e){return ye(WV(t,!0),e)}s(Fge,"Const");d();function Lge(t,e){return Ml(t)?G0(t.parameters,e):ar(e)}s(Lge,"ConstructorParameters");d();function Mge(t,e){if(zi(t))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),o=[...new Set(r)].map(a=>Nr(a));return tn(o,{...e,[q0]:"Enum"})}s(Mge,"Enum");d();d();d();var jV=class extends Bt{static{s(this,"ExtendsResolverError")}},Ee;(function(t){t[t.Union=0]="Union",t[t.True=1]="True",t[t.False=2]="False"})(Ee||(Ee={}));function Y0(t){return t===Ee.False?t:Ee.True}s(Y0,"IntoBooleanResult");function NI(t){throw new jV(t)}s(NI,"Throw");function uo(t){return ce.IsNever(t)||ce.IsIntersect(t)||ce.IsUnion(t)||ce.IsUnknown(t)||ce.IsAny(t)}s(uo,"IsStructuralRight");function fo(t,e){return ce.IsNever(e)?Wge(t,e):ce.IsIntersect(e)?m9(t,e):ce.IsUnion(e)?JV(t,e):ce.IsUnknown(e)?zge(t,e):ce.IsAny(e)?KV(t,e):NI("StructuralRight")}s(fo,"StructuralRight");function KV(t,e){return Ee.True}s(KV,"FromAnyRight");function x$e(t,e){return ce.IsIntersect(e)?m9(t,e):ce.IsUnion(e)&&e.anyOf.some(r=>ce.IsAny(r)||ce.IsUnknown(r))?Ee.True:ce.IsUnion(e)?Ee.Union:ce.IsUnknown(e)||ce.IsAny(e)?Ee.True:Ee.Union}s(x$e,"FromAny");function v$e(t,e){return ce.IsUnknown(t)?Ee.False:ce.IsAny(t)?Ee.Union:ce.IsNever(t)?Ee.True:Ee.False}s(v$e,"FromArrayRight");function b$e(t,e){return ce.IsObject(e)&&g9(e)?Ee.True:uo(e)?fo(t,e):ce.IsArray(e)?Y0(vn(t.items,e.items)):Ee.False}s(b$e,"FromArray");function _$e(t,e){return uo(e)?fo(t,e):ce.IsAsyncIterator(e)?Y0(vn(t.items,e.items)):Ee.False}s(_$e,"FromAsyncIterator");function T$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsBigInt(e)?Ee.True:Ee.False}s(T$e,"FromBigInt");function Gge(t,e){return ce.IsLiteralBoolean(t)||ce.IsBoolean(t)?Ee.True:Ee.False}s(Gge,"FromBooleanRight");function w$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsBoolean(e)?Ee.True:Ee.False}s(w$e,"FromBoolean");function S$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsConstructor(e)?t.parameters.length>e.parameters.length?Ee.False:t.parameters.every((r,n)=>Y0(vn(e.parameters[n],r))===Ee.True)?Y0(vn(t.returns,e.returns)):Ee.False:Ee.False}s(S$e,"FromConstructor");function B$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsDate(e)?Ee.True:Ee.False}s(B$e,"FromDate");function R$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsFunction(e)?t.parameters.length>e.parameters.length?Ee.False:t.parameters.every((r,n)=>Y0(vn(e.parameters[n],r))===Ee.True)?Y0(vn(t.returns,e.returns)):Ee.False:Ee.False}s(R$e,"FromFunction");function Vge(t,e){return ce.IsLiteral(t)&&Ms.IsNumber(t.const)||ce.IsNumber(t)||ce.IsInteger(t)?Ee.True:Ee.False}s(Vge,"FromIntegerRight");function k$e(t,e){return ce.IsInteger(e)||ce.IsNumber(e)?Ee.True:uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):Ee.False}s(k$e,"FromInteger");function m9(t,e){return e.allOf.every(r=>vn(t,r)===Ee.True)?Ee.True:Ee.False}s(m9,"FromIntersectRight");function D$e(t,e){return t.allOf.some(r=>vn(r,e)===Ee.True)?Ee.True:Ee.False}s(D$e,"FromIntersect");function N$e(t,e){return uo(e)?fo(t,e):ce.IsIterator(e)?Y0(vn(t.items,e.items)):Ee.False}s(N$e,"FromIterator");function Q$e(t,e){return ce.IsLiteral(e)&&e.const===t.const?Ee.True:uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsString(e)?$ge(t,e):ce.IsNumber(e)?Yge(t,e):ce.IsInteger(e)?Vge(t,e):ce.IsBoolean(e)?Gge(t,e):Ee.False}s(Q$e,"FromLiteral");function Wge(t,e){return Ee.False}s(Wge,"FromNeverRight");function P$e(t,e){return Ee.True}s(P$e,"FromNever");function Oge(t){let[e,r]=[t,0];for(;ce.IsNot(e);)e=e.not,r+=1;return r%2===0?e:Gl()}s(Oge,"UnwrapTNot");function F$e(t,e){return ce.IsNot(t)?vn(Oge(t),e):ce.IsNot(e)?vn(t,Oge(e)):NI("Invalid fallthrough for Not")}s(F$e,"FromNot");function L$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsNull(e)?Ee.True:Ee.False}s(L$e,"FromNull");function Yge(t,e){return ce.IsLiteralNumber(t)||ce.IsNumber(t)||ce.IsInteger(t)?Ee.True:Ee.False}s(Yge,"FromNumberRight");function M$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsInteger(e)||ce.IsNumber(e)?Ee.True:Ee.False}s(M$e,"FromNumber");function Ja(t,e){return Object.getOwnPropertyNames(t.properties).length===e}s(Ja,"IsObjectPropertyCount");function Uge(t){return g9(t)}s(Uge,"IsObjectStringLike");function qge(t){return Ja(t,0)||Ja(t,1)&&"description"in t.properties&&ce.IsUnion(t.properties.description)&&t.properties.description.anyOf.length===2&&(ce.IsString(t.properties.description.anyOf[0])&&ce.IsUndefined(t.properties.description.anyOf[1])||ce.IsString(t.properties.description.anyOf[1])&&ce.IsUndefined(t.properties.description.anyOf[0]))}s(qge,"IsObjectSymbolLike");function YV(t){return Ja(t,0)}s(YV,"IsObjectNumberLike");function Hge(t){return Ja(t,0)}s(Hge,"IsObjectBooleanLike");function O$e(t){return Ja(t,0)}s(O$e,"IsObjectBigIntLike");function U$e(t){return Ja(t,0)}s(U$e,"IsObjectDateLike");function q$e(t){return g9(t)}s(q$e,"IsObjectUint8ArrayLike");function H$e(t){let e=H0();return Ja(t,0)||Ja(t,1)&&"length"in t.properties&&Y0(vn(t.properties.length,e))===Ee.True}s(H$e,"IsObjectFunctionLike");function G$e(t){return Ja(t,0)}s(G$e,"IsObjectConstructorLike");function g9(t){let e=H0();return Ja(t,0)||Ja(t,1)&&"length"in t.properties&&Y0(vn(t.properties.length,e))===Ee.True}s(g9,"IsObjectArrayLike");function V$e(t){let e=af([Ip()],Ip());return Ja(t,0)||Ja(t,1)&&"then"in t.properties&&Y0(vn(t.properties.then,e))===Ee.True}s(V$e,"IsObjectPromiseLike");function jge(t,e){return vn(t,e)===Ee.False||ce.IsOptional(t)&&!ce.IsOptional(e)?Ee.False:Ee.True}s(jge,"Property");function qs(t,e){return ce.IsUnknown(t)?Ee.False:ce.IsAny(t)?Ee.Union:ce.IsNever(t)||ce.IsLiteralString(t)&&Uge(e)||ce.IsLiteralNumber(t)&&YV(e)||ce.IsLiteralBoolean(t)&&Hge(e)||ce.IsSymbol(t)&&qge(e)||ce.IsBigInt(t)&&O$e(e)||ce.IsString(t)&&Uge(e)||ce.IsSymbol(t)&&qge(e)||ce.IsNumber(t)&&YV(e)||ce.IsInteger(t)&&YV(e)||ce.IsBoolean(t)&&Hge(e)||ce.IsUint8Array(t)&&q$e(e)||ce.IsDate(t)&&U$e(e)||ce.IsConstructor(t)&&G$e(e)||ce.IsFunction(t)&&H$e(e)?Ee.True:ce.IsRecord(t)&&ce.IsString($V(t))?e[q0]==="Record"?Ee.True:Ee.False:ce.IsRecord(t)&&ce.IsNumber($V(t))?Ja(e,0)?Ee.True:Ee.False:Ee.False}s(qs,"FromObjectRight");function W$e(t,e){return uo(e)?fo(t,e):ce.IsRecord(e)?j0(t,e):ce.IsObject(e)?(()=>{for(let r of Object.getOwnPropertyNames(e.properties)){if(!(r in t.properties)&&!ce.IsOptional(e.properties[r]))return Ee.False;if(ce.IsOptional(e.properties[r]))return Ee.True;if(jge(t.properties[r],e.properties[r])===Ee.False)return Ee.False}return Ee.True})():Ee.False}s(W$e,"FromObject");function Y$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)&&V$e(e)?Ee.True:ce.IsPromise(e)?Y0(vn(t.item,e.item)):Ee.False}s(Y$e,"FromPromise");function $V(t){return of in t.patternProperties?H0():sf in t.patternProperties?ha():NI("Unknown record key pattern")}s($V,"RecordKey");function zV(t){return of in t.patternProperties?t.patternProperties[of]:sf in t.patternProperties?t.patternProperties[sf]:NI("Unable to get record value schema")}s(zV,"RecordValue");function j0(t,e){let[r,n]=[$V(e),zV(e)];return ce.IsLiteralString(t)&&ce.IsNumber(r)&&Y0(vn(t,n))===Ee.True?Ee.True:ce.IsUint8Array(t)&&ce.IsNumber(r)||ce.IsString(t)&&ce.IsNumber(r)||ce.IsArray(t)&&ce.IsNumber(r)?vn(t,n):ce.IsObject(t)?(()=>{for(let o of Object.getOwnPropertyNames(t.properties))if(jge(n,t.properties[o])===Ee.False)return Ee.False;return Ee.True})():Ee.False}s(j0,"FromRecordRight");function j$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?vn(zV(t),zV(e)):Ee.False}s(j$e,"FromRecord");function $$e(t,e){let r=ce.IsRegExp(t)?ha():t,n=ce.IsRegExp(e)?ha():e;return vn(r,n)}s($$e,"FromRegExp");function $ge(t,e){return ce.IsLiteral(t)&&Ms.IsString(t.const)||ce.IsString(t)?Ee.True:Ee.False}s($ge,"FromStringRight");function z$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsString(e)?Ee.True:Ee.False}s(z$e,"FromString");function K$e(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsSymbol(e)?Ee.True:Ee.False}s(K$e,"FromSymbol");function J$e(t,e){return ce.IsTemplateLiteral(t)?vn(U1(t),e):ce.IsTemplateLiteral(e)?vn(t,U1(e)):NI("Invalid fallthrough for TemplateLiteral")}s(J$e,"FromTemplateLiteral");function X$e(t,e){return ce.IsArray(e)&&t.items!==void 0&&t.items.every(r=>vn(r,e.items)===Ee.True)}s(X$e,"IsArrayOfTuple");function Z$e(t,e){return ce.IsNever(t)?Ee.True:ce.IsUnknown(t)?Ee.False:ce.IsAny(t)?Ee.Union:Ee.False}s(Z$e,"FromTupleRight");function eze(t,e){return uo(e)?fo(t,e):ce.IsObject(e)&&g9(e)||ce.IsArray(e)&&X$e(t,e)?Ee.True:ce.IsTuple(e)?Ms.IsUndefined(t.items)&&!Ms.IsUndefined(e.items)||!Ms.IsUndefined(t.items)&&Ms.IsUndefined(e.items)?Ee.False:Ms.IsUndefined(t.items)&&!Ms.IsUndefined(e.items)||t.items.every((r,n)=>vn(r,e.items[n])===Ee.True)?Ee.True:Ee.False:Ee.False}s(eze,"FromTuple");function tze(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsUint8Array(e)?Ee.True:Ee.False}s(tze,"FromUint8Array");function rze(t,e){return uo(e)?fo(t,e):ce.IsObject(e)?qs(t,e):ce.IsRecord(e)?j0(t,e):ce.IsVoid(e)?oze(t,e):ce.IsUndefined(e)?Ee.True:Ee.False}s(rze,"FromUndefined");function JV(t,e){return e.anyOf.some(r=>vn(t,r)===Ee.True)?Ee.True:Ee.False}s(JV,"FromUnionRight");function nze(t,e){return t.anyOf.every(r=>vn(r,e)===Ee.True)?Ee.True:Ee.False}s(nze,"FromUnion");function zge(t,e){return Ee.True}s(zge,"FromUnknownRight");function ize(t,e){return ce.IsNever(e)?Wge(t,e):ce.IsIntersect(e)?m9(t,e):ce.IsUnion(e)?JV(t,e):ce.IsAny(e)?KV(t,e):ce.IsString(e)?$ge(t,e):ce.IsNumber(e)?Yge(t,e):ce.IsInteger(e)?Vge(t,e):ce.IsBoolean(e)?Gge(t,e):ce.IsArray(e)?v$e(t,e):ce.IsTuple(e)?Z$e(t,e):ce.IsObject(e)?qs(t,e):ce.IsUnknown(e)?Ee.True:Ee.False}s(ize,"FromUnknown");function oze(t,e){return ce.IsUndefined(t)||ce.IsUndefined(t)?Ee.True:Ee.False}s(oze,"FromVoidRight");function sze(t,e){return ce.IsIntersect(e)?m9(t,e):ce.IsUnion(e)?JV(t,e):ce.IsUnknown(e)?zge(t,e):ce.IsAny(e)?KV(t,e):ce.IsObject(e)?qs(t,e):ce.IsVoid(e)?Ee.True:Ee.False}s(sze,"FromVoid");function vn(t,e){return ce.IsTemplateLiteral(t)||ce.IsTemplateLiteral(e)?J$e(t,e):ce.IsRegExp(t)||ce.IsRegExp(e)?$$e(t,e):ce.IsNot(t)||ce.IsNot(e)?F$e(t,e):ce.IsAny(t)?x$e(t,e):ce.IsArray(t)?b$e(t,e):ce.IsBigInt(t)?T$e(t,e):ce.IsBoolean(t)?w$e(t,e):ce.IsAsyncIterator(t)?_$e(t,e):ce.IsConstructor(t)?S$e(t,e):ce.IsDate(t)?B$e(t,e):ce.IsFunction(t)?R$e(t,e):ce.IsInteger(t)?k$e(t,e):ce.IsIntersect(t)?D$e(t,e):ce.IsIterator(t)?N$e(t,e):ce.IsLiteral(t)?Q$e(t,e):ce.IsNever(t)?P$e(t,e):ce.IsNull(t)?L$e(t,e):ce.IsNumber(t)?M$e(t,e):ce.IsObject(t)?W$e(t,e):ce.IsRecord(t)?j$e(t,e):ce.IsString(t)?z$e(t,e):ce.IsSymbol(t)?K$e(t,e):ce.IsTuple(t)?eze(t,e):ce.IsPromise(t)?Y$e(t,e):ce.IsUint8Array(t)?tze(t,e):ce.IsUndefined(t)?rze(t,e):ce.IsUnion(t)?nze(t,e):ce.IsUnknown(t)?ize(t,e):ce.IsVoid(t)?sze(t,e):NI(`Unknown left type operand '${t[Ce]}'`)}s(vn,"Visit");function vp(t,e){return vn(t,e)}s(vp,"ExtendsCheck");d();d();d();function aze(t,e,r,n,o){let a={};for(let c of globalThis.Object.getOwnPropertyNames(t))a[c]=QI(t[c],e,r,n,ei(o));return a}s(aze,"FromProperties");function cze(t,e,r,n,o){return aze(t.properties,e,r,n,o)}s(cze,"FromMappedResult");function Kge(t,e,r,n,o){let a=cze(t,e,r,n,o);return Wr(a)}s(Kge,"ExtendsFromMappedResult");function lze(t,e,r,n){let o=vp(t,e);return o===Ee.Union?tn([r,n]):o===Ee.True?r:n}s(lze,"ExtendsResolve");function QI(t,e,r,n,o){return ri(t)?Kge(t,e,r,n,o):jc(t)?ye(Jge(t,e,r,n,o)):ye(lze(t,e,r,n),o)}s(QI,"Extends");function uze(t,e,r,n,o){return{[t]:QI(Nr(t),e,r,n,ei(o))}}s(uze,"FromPropertyKey");function fze(t,e,r,n,o){return t.reduce((a,c)=>({...a,...uze(c,e,r,n,o)}),{})}s(fze,"FromPropertyKeys");function dze(t,e,r,n,o){return fze(t.keys,e,r,n,o)}s(dze,"FromMappedKey");function Jge(t,e,r,n,o){let a=dze(t,e,r,n,o);return Wr(a)}s(Jge,"ExtendsFromMappedKey");d();function hze(t){return t.allOf.every(e=>oh(e))}s(hze,"Intersect");function Aze(t){return t.anyOf.some(e=>oh(e))}s(Aze,"Union");function pze(t){return!oh(t.not)}s(pze,"Not");function oh(t){return t[Ce]==="Intersect"?hze(t):t[Ce]==="Union"?Aze(t):t[Ce]==="Not"?pze(t):t[Ce]==="Undefined"}s(oh,"ExtendsUndefinedCheck");d();function Xge(t,e){return PI(U1(t),e)}s(Xge,"ExcludeFromTemplateLiteral");function mze(t,e){let r=t.filter(n=>vp(n,e)===Ee.False);return r.length===1?r[0]:tn(r)}s(mze,"ExcludeRest");function PI(t,e,r={}){return $c(t)?ye(Xge(t,e),r):ri(t)?ye(Zge(t,e),r):ye(Gr(t)?mze(t.anyOf,e):vp(t,e)!==Ee.False?ar():t,r)}s(PI,"Exclude");function gze(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=PI(t[n],e);return r}s(gze,"FromProperties");function Cze(t,e){return gze(t.properties,e)}s(Cze,"FromMappedResult");function Zge(t,e){let r=Cze(t,e);return Wr(r)}s(Zge,"ExcludeFromMappedResult");d();d();d();function e1e(t,e){return FI(U1(t),e)}s(e1e,"ExtractFromTemplateLiteral");function yze(t,e){let r=t.filter(n=>vp(n,e)!==Ee.False);return r.length===1?r[0]:tn(r)}s(yze,"ExtractRest");function FI(t,e,r){return $c(t)?ye(e1e(t,e),r):ri(t)?ye(t1e(t,e),r):ye(Gr(t)?yze(t.anyOf,e):vp(t,e)!==Ee.False?t:ar(),r)}s(FI,"Extract");function Eze(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=FI(t[n],e);return r}s(Eze,"FromProperties");function Ize(t,e){return Eze(t.properties,e)}s(Ize,"FromMappedResult");function t1e(t,e){let r=Ize(t,e);return Wr(r)}s(t1e,"ExtractFromMappedResult");d();function r1e(t,e){return Ml(t)?ye(t.returns,e):ar(e)}s(r1e,"InstanceType");d();d();function C9(t){return za(Os(t))}s(C9,"ReadonlyOptional");d();function q1(t,e,r){return ye({[Ce]:"Record",type:"object",patternProperties:{[t]:e}},r)}s(q1,"RecordCreateFromPattern");function XV(t,e,r){let n={};for(let o of t)n[o]=e;return rn(n,{...r,[q0]:"Record"})}s(XV,"RecordCreateFromKeys");function xze(t,e,r){return i9(t)?XV($a(t),e,r):q1(t.pattern,e,r)}s(xze,"FromTemplateLiteralKey");function vze(t,e,r){return XV($a(tn(t)),e,r)}s(vze,"FromUnionKey");function bze(t,e,r){return XV([t.toString()],e,r)}s(bze,"FromLiteralKey");function _ze(t,e,r){return q1(t.source,e,r)}s(_ze,"FromRegExpKey");function Tze(t,e,r){let n=zi(t.pattern)?sf:t.pattern;return q1(n,e,r)}s(Tze,"FromStringKey");function wze(t,e,r){return q1(sf,e,r)}s(wze,"FromAnyKey");function Sze(t,e,r){return q1(fge,e,r)}s(Sze,"FromNeverKey");function Bze(t,e,r){return rn({true:e,false:e},r)}s(Bze,"FromBooleanKey");function Rze(t,e,r){return q1(of,e,r)}s(Rze,"FromIntegerKey");function kze(t,e,r){return q1(of,e,r)}s(kze,"FromNumberKey");function y9(t,e,r={}){return Gr(t)?vze(t.anyOf,e,r):$c(t)?xze(t,e,r):Yc(t)?bze(t.const,e,r):Zd(t)?Bze(t,e,r):Ul(t)?Rze(t,e,r):ql(t)?kze(t,e,r):kV(t)?_ze(t,e,r):eh(t)?Tze(t,e,r):BV(t)?wze(t,e,r):yp(t)?Sze(t,e,r):ar(r)}s(y9,"Record");function E9(t){return globalThis.Object.getOwnPropertyNames(t.patternProperties)[0]}s(E9,"RecordPattern");function n1e(t){let e=E9(t);return e===sf?ha():e===of?H0():ha({pattern:e})}s(n1e,"RecordKey");function I9(t){return t.patternProperties[E9(t)]}s(I9,"RecordValue");function Dze(t,e){return e.parameters=j5(t,e.parameters),e.returns=Vl(t,e.returns),e}s(Dze,"FromConstructor");function Nze(t,e){return e.parameters=j5(t,e.parameters),e.returns=Vl(t,e.returns),e}s(Nze,"FromFunction");function Qze(t,e){return e.allOf=j5(t,e.allOf),e}s(Qze,"FromIntersect");function Pze(t,e){return e.anyOf=j5(t,e.anyOf),e}s(Pze,"FromUnion");function Fze(t,e){return zi(e.items)||(e.items=j5(t,e.items)),e}s(Fze,"FromTuple");function Lze(t,e){return e.items=Vl(t,e.items),e}s(Lze,"FromArray");function Mze(t,e){return e.items=Vl(t,e.items),e}s(Mze,"FromAsyncIterator");function Oze(t,e){return e.items=Vl(t,e.items),e}s(Oze,"FromIterator");function Uze(t,e){return e.item=Vl(t,e.item),e}s(Uze,"FromPromise");function qze(t,e){let r=Wze(t,e.properties);return{...e,...rn(r)}}s(qze,"FromObject");function Hze(t,e){let r=Vl(t,n1e(e)),n=Vl(t,I9(e)),o=y9(r,n);return{...e,...o}}s(Hze,"FromRecord");function Gze(t,e){return e.index in t?t[e.index]:Gl()}s(Gze,"FromArgument");function Vze(t,e){let r=EI(e),n=ja(e),o=Vl(t,e);return r&&n?C9(o):r&&!n?za(o):!r&&n?Os(o):o}s(Vze,"FromProperty");function Wze(t,e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:Vze(t,e[n])}),{})}s(Wze,"FromProperties");function j5(t,e){return e.map(r=>Vl(t,r))}s(j5,"FromTypes");function Vl(t,e){return Ml(e)?Dze(t,e):Ol(e)?Nze(t,e):_i(e)?Qze(t,e):Gr(e)?Pze(t,e):zc(e)?Fze(t,e):Fl(e)?Lze(t,e):Q1(e)?Mze(t,e):F1(e)?Oze(t,e):L1(e)?Uze(t,e):Ki(e)?qze(t,e):M1(e)?Hze(t,e):RV(e)?Gze(t,e):e}s(Vl,"FromType");function i1e(t,e){return Vl(e,CI(t))}s(i1e,"Instantiate");d();function o1e(t){return ye({[Ce]:"Integer",type:"integer"},t)}s(o1e,"Integer");d();d();d();function Yze(t,e,r){return{[t]:Wl(Nr(t),e,ei(r))}}s(Yze,"MappedIntrinsicPropertyKey");function jze(t,e,r){return t.reduce((o,a)=>({...o,...Yze(a,e,r)}),{})}s(jze,"MappedIntrinsicPropertyKeys");function $ze(t,e,r){return jze(t.keys,e,r)}s($ze,"MappedIntrinsicProperties");function s1e(t,e,r){let n=$ze(t,e,r);return Wr(n)}s(s1e,"IntrinsicFromMappedKey");function zze(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toLowerCase(),r].join("")}s(zze,"ApplyUncapitalize");function Kze(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toUpperCase(),r].join("")}s(Kze,"ApplyCapitalize");function Jze(t){return t.toUpperCase()}s(Jze,"ApplyUppercase");function Xze(t){return t.toLowerCase()}s(Xze,"ApplyLowercase");function Zze(t,e,r){let n=wI(t.pattern);if(!O1(n))return{...t,pattern:a1e(t.pattern,e)};let c=[...G5(n)].map(f=>Nr(f)),l=c1e(c,e),u=tn(l);return s9([u],r)}s(Zze,"FromTemplateLiteral");function a1e(t,e){return typeof t=="string"?e==="Uncapitalize"?zze(t):e==="Capitalize"?Kze(t):e==="Uppercase"?Jze(t):e==="Lowercase"?Xze(t):t:t.toString()}s(a1e,"FromLiteralValue");function c1e(t,e){return t.map(r=>Wl(r,e))}s(c1e,"FromRest");function Wl(t,e,r={}){return jc(t)?s1e(t,e,r):$c(t)?Zze(t,e,r):Gr(t)?tn(c1e(t.anyOf,e),r):Yc(t)?Nr(a1e(t.const,e),r):ye(t,r)}s(Wl,"Intrinsic");function l1e(t,e={}){return Wl(t,"Capitalize",e)}s(l1e,"Capitalize");d();function u1e(t,e={}){return Wl(t,"Lowercase",e)}s(u1e,"Lowercase");d();function f1e(t,e={}){return Wl(t,"Uncapitalize",e)}s(f1e,"Uncapitalize");d();function d1e(t,e={}){return Wl(t,"Uppercase",e)}s(d1e,"Uppercase");d();d();d();d();d();function eKe(t,e,r){let n={};for(let o of globalThis.Object.getOwnPropertyNames(t))n[o]=bp(t[o],e,ei(r));return n}s(eKe,"FromProperties");function tKe(t,e,r){return eKe(t.properties,e,r)}s(tKe,"FromMappedResult");function h1e(t,e,r){let n=tKe(t,e,r);return Wr(n)}s(h1e,"OmitFromMappedResult");function rKe(t,e){return t.map(r=>ZV(r,e))}s(rKe,"FromIntersect");function nKe(t,e){return t.map(r=>ZV(r,e))}s(nKe,"FromUnion");function iKe(t,e){let{[e]:r,...n}=t;return n}s(iKe,"FromProperty");function oKe(t,e){return e.reduce((r,n)=>iKe(r,n),t)}s(oKe,"FromProperties");function sKe(t,e){let r=Ti(t,[hi,"$id","required","properties"]),n=oKe(t.properties,e);return rn(n,r)}s(sKe,"FromObject");function aKe(t){let e=t.reduce((r,n)=>t9(n)?[...r,Nr(n)]:r,[]);return tn(e)}s(aKe,"UnionFromPropertyKeys");function ZV(t,e){return _i(t)?Us(rKe(t.allOf,e)):Gr(t)?tn(nKe(t.anyOf,e)):Ki(t)?sKe(t,e):rn({})}s(ZV,"OmitResolve");function bp(t,e,r){let n=$i(e)?aKe(e):e,o=Ai(e)?$a(e):e,a=Fi(t),c=Fi(e);return ri(t)?h1e(t,o,r):jc(e)?A1e(t,e,r):a&&c?qn("Omit",[t,n],r):!a&&c?qn("Omit",[t,n],r):a&&!c?qn("Omit",[t,n],r):ye({...ZV(t,o),...r})}s(bp,"Omit");function cKe(t,e,r){return{[e]:bp(t,[e],ei(r))}}s(cKe,"FromPropertyKey");function lKe(t,e,r){return e.reduce((n,o)=>({...n,...cKe(t,o,r)}),{})}s(lKe,"FromPropertyKeys");function uKe(t,e,r){return lKe(t,e.keys,r)}s(uKe,"FromMappedKey");function A1e(t,e,r){let n=uKe(t,e,r);return Wr(n)}s(A1e,"OmitFromMappedKey");d();d();d();function fKe(t,e,r){let n={};for(let o of globalThis.Object.getOwnPropertyNames(t))n[o]=_p(t[o],e,ei(r));return n}s(fKe,"FromProperties");function dKe(t,e,r){return fKe(t.properties,e,r)}s(dKe,"FromMappedResult");function p1e(t,e,r){let n=dKe(t,e,r);return Wr(n)}s(p1e,"PickFromMappedResult");function hKe(t,e){return t.map(r=>eW(r,e))}s(hKe,"FromIntersect");function AKe(t,e){return t.map(r=>eW(r,e))}s(AKe,"FromUnion");function pKe(t,e){let r={};for(let n of e)n in t&&(r[n]=t[n]);return r}s(pKe,"FromProperties");function mKe(t,e){let r=Ti(t,[hi,"$id","required","properties"]),n=pKe(t.properties,e);return rn(n,r)}s(mKe,"FromObject");function gKe(t){let e=t.reduce((r,n)=>t9(n)?[...r,Nr(n)]:r,[]);return tn(e)}s(gKe,"UnionFromPropertyKeys");function eW(t,e){return _i(t)?Us(hKe(t.allOf,e)):Gr(t)?tn(AKe(t.anyOf,e)):Ki(t)?mKe(t,e):rn({})}s(eW,"PickResolve");function _p(t,e,r){let n=$i(e)?gKe(e):e,o=Ai(e)?$a(e):e,a=Fi(t),c=Fi(e);return ri(t)?p1e(t,o,r):jc(e)?m1e(t,e,r):a&&c?qn("Pick",[t,n],r):!a&&c?qn("Pick",[t,n],r):a&&!c?qn("Pick",[t,n],r):ye({...eW(t,o),...r})}s(_p,"Pick");function CKe(t,e,r){return{[e]:_p(t,[e],ei(r))}}s(CKe,"FromPropertyKey");function yKe(t,e,r){return e.reduce((n,o)=>({...n,...CKe(t,o,r)}),{})}s(yKe,"FromPropertyKeys");function EKe(t,e,r){return yKe(t,e.keys,r)}s(EKe,"FromMappedKey");function m1e(t,e,r){let n=EKe(t,e,r);return Wr(n)}s(m1e,"PickFromMappedKey");d();d();function IKe(t,e){return qn("Partial",[qn(t,e)])}s(IKe,"FromComputed");function xKe(t){return qn("Partial",[W0(t)])}s(xKe,"FromRef");function vKe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=Os(t[r]);return e}s(vKe,"FromProperties");function bKe(t){let e=Ti(t,[hi,"$id","required","properties"]),r=vKe(t.properties);return rn(r,e)}s(bKe,"FromObject");function g1e(t){return t.map(e=>C1e(e))}s(g1e,"FromRest");function C1e(t){return Ll(t)?IKe(t.target,t.parameters):Fi(t)?xKe(t.$ref):_i(t)?Us(g1e(t.allOf)):Gr(t)?tn(g1e(t.anyOf)):Ki(t)?bKe(t):P1(t)||Zd(t)||Ul(t)||Yc(t)||F5(t)||ql(t)||eh(t)||L5(t)||th(t)?t:rn({})}s(C1e,"PartialResolve");function LI(t,e){return ri(t)?y1e(t,e):ye({...C1e(t),...e})}s(LI,"Partial");function _Ke(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=LI(t[n],ei(e));return r}s(_Ke,"FromProperties");function TKe(t,e){return _Ke(t.properties,e)}s(TKe,"FromMappedResult");function y1e(t,e){let r=TKe(t,e);return Wr(r)}s(y1e,"PartialFromMappedResult");d();d();function wKe(t,e){return qn("Required",[qn(t,e)])}s(wKe,"FromComputed");function SKe(t){return qn("Required",[W0(t)])}s(SKe,"FromRef");function BKe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=Ti(t[r],[As]);return e}s(BKe,"FromProperties");function RKe(t){let e=Ti(t,[hi,"$id","required","properties"]),r=BKe(t.properties);return rn(r,e)}s(RKe,"FromObject");function E1e(t){return t.map(e=>I1e(e))}s(E1e,"FromRest");function I1e(t){return Ll(t)?wKe(t.target,t.parameters):Fi(t)?SKe(t.$ref):_i(t)?Us(E1e(t.allOf)):Gr(t)?tn(E1e(t.anyOf)):Ki(t)?RKe(t):P1(t)||Zd(t)||Ul(t)||Yc(t)||F5(t)||ql(t)||eh(t)||L5(t)||th(t)?t:rn({})}s(I1e,"RequiredResolve");function MI(t,e){return ri(t)?x1e(t,e):ye({...I1e(t),...e})}s(MI,"Required");function kKe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=MI(t[n],e);return r}s(kKe,"FromProperties");function DKe(t,e){return kKe(t.properties,e)}s(DKe,"FromMappedResult");function x1e(t,e){let r=DKe(t,e);return Wr(r)}s(x1e,"RequiredFromMappedResult");function NKe(t,e){return e.map(r=>Fi(r)?tW(t,r.$ref):Kc(t,r))}s(NKe,"DereferenceParameters");function tW(t,e){return e in t?Fi(t[e])?tW(t,t[e].$ref):Kc(t,t[e]):ar()}s(tW,"Dereference");function QKe(t){return kI(t[0])}s(QKe,"FromAwaited");function PKe(t){return xp(t[0],t[1])}s(PKe,"FromIndex");function FKe(t){return DI(t[0])}s(FKe,"FromKeyOf");function LKe(t){return LI(t[0])}s(LKe,"FromPartial");function MKe(t){return bp(t[0],t[1])}s(MKe,"FromOmit");function OKe(t){return _p(t[0],t[1])}s(OKe,"FromPick");function UKe(t){return MI(t[0])}s(UKe,"FromRequired");function qKe(t,e,r){let n=NKe(t,r);return e==="Awaited"?QKe(n):e==="Index"?PKe(n):e==="KeyOf"?FKe(n):e==="Partial"?LKe(n):e==="Omit"?MKe(n):e==="Pick"?OKe(n):e==="Required"?UKe(n):ar()}s(qKe,"FromComputed");function HKe(t,e){return vI(Kc(t,e))}s(HKe,"FromArray");function GKe(t,e){return bI(Kc(t,e))}s(GKe,"FromAsyncIterator");function VKe(t,e,r){return _I($5(t,e),Kc(t,r))}s(VKe,"FromConstructor");function WKe(t,e,r){return af($5(t,e),Kc(t,r))}s(WKe,"FromFunction");function YKe(t,e){return Us($5(t,e))}s(YKe,"FromIntersect");function jKe(t,e){return RI(Kc(t,e))}s(jKe,"FromIterator");function $Ke(t,e){return rn(globalThis.Object.keys(e).reduce((r,n)=>({...r,[n]:Kc(t,e[n])}),{}))}s($Ke,"FromObject");function zKe(t,e){let[r,n]=[Kc(t,I9(e)),E9(e)],o=CI(e);return o.patternProperties[n]=r,o}s(zKe,"FromRecord");function KKe(t,e){return Fi(e)?{...tW(t,e.$ref),[hi]:e[hi]}:e}s(KKe,"FromTransform");function JKe(t,e){return G0($5(t,e))}s(JKe,"FromTuple");function XKe(t,e){return tn($5(t,e))}s(XKe,"FromUnion");function $5(t,e){return e.map(r=>Kc(t,r))}s($5,"FromTypes");function Kc(t,e){return ja(e)?ye(Kc(t,Ti(e,[As])),e):EI(e)?ye(Kc(t,Ti(e,[Pl])),e):en(e)?ye(KKe(t,e),e):Fl(e)?ye(HKe(t,e.items),e):Q1(e)?ye(GKe(t,e.items),e):Ll(e)?ye(qKe(t,e.target,e.parameters)):Ml(e)?ye(VKe(t,e.parameters,e.returns),e):Ol(e)?ye(WKe(t,e.parameters,e.returns),e):_i(e)?ye(YKe(t,e.allOf),e):F1(e)?ye(jKe(t,e.items),e):Ki(e)?ye($Ke(t,e.properties),e):M1(e)?ye(zKe(t,e)):zc(e)?ye(JKe(t,e.items||[]),e):Gr(e)?ye(XKe(t,e.anyOf),e):e}s(Kc,"FromType");function ZKe(t,e){return e in t?Kc(t,t[e]):ar()}s(ZKe,"ComputeType");function v1e(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,r)=>({...e,[r]:ZKe(t,r)}),{})}s(v1e,"ComputeModuleProperties");var rW=class{static{s(this,"TModule")}constructor(e){let r=v1e(e),n=this.WithIdentifiers(r);this.$defs=n}Import(e,r){let n={...this.$defs,[e]:ye(this.$defs[e],r)};return ye({[Ce]:"Import",$defs:n,$ref:e})}WithIdentifiers(e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:{...e[n],$id:n}}),{})}};function b1e(t){return new rW(t)}s(b1e,"Module");d();function _1e(t,e){return ye({[Ce]:"Not",not:t},e)}s(_1e,"Not");d();function T1e(t,e){return Ol(t)?G0(t.parameters,e):ar()}s(T1e,"Parameters");d();var eJe=0;function w1e(t,e={}){zi(e.$id)&&(e.$id=`T${eJe++}`);let r=CI(t({[Ce]:"This",$ref:`${e.$id}`}));return r.$id=e.$id,ye({[q0]:"Recursive",...r},e)}s(w1e,"Recursive");d();function S1e(t,e){let r=kn(t)?new globalThis.RegExp(t):t;return ye({[Ce]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},e)}s(S1e,"RegExp");d();function tJe(t){return _i(t)?t.allOf:Gr(t)?t.anyOf:zc(t)?t.items??[]:[]}s(tJe,"RestResolve");function B1e(t){return tJe(t)}s(B1e,"Rest");d();function R1e(t,e){return Ol(t)?ye(t.returns,e):ar(e)}s(R1e,"ReturnType");d();var nW=class{static{s(this,"TransformDecodeBuilder")}constructor(e){this.schema=e}Decode(e){return new iW(this.schema,e)}},iW=class{static{s(this,"TransformEncodeBuilder")}constructor(e,r){this.schema=e,this.decode=r}EncodeTransform(e,r){let a={Encode:s(c=>r[hi].Encode(e(c)),"Encode"),Decode:s(c=>this.decode(r[hi].Decode(c)),"Decode")};return{...r,[hi]:a}}EncodeSchema(e,r){let n={Decode:this.decode,Encode:e};return{...r,[hi]:n}}Encode(e){return en(this.schema)?this.EncodeTransform(e,this.schema):this.EncodeSchema(e,this.schema)}};function k1e(t){return new nW(t)}s(k1e,"Transform");d();function D1e(t={}){return ye({[Ce]:t[Ce]??"Unsafe"},t)}s(D1e,"Unsafe");d();function N1e(t){return ye({[Ce]:"Void",type:"void"},t)}s(N1e,"Void");d();var oW={};Ei(oW,{Any:()=>Ip,Argument:()=>mge,Array:()=>vI,AsyncIterator:()=>bI,Awaited:()=>kI,BigInt:()=>BI,Boolean:()=>o9,Capitalize:()=>l1e,Composite:()=>Pge,Const:()=>Fge,Constructor:()=>_I,ConstructorParameters:()=>Lge,Date:()=>u9,Enum:()=>Mge,Exclude:()=>PI,Extends:()=>QI,Extract:()=>FI,Function:()=>af,Index:()=>xp,InstanceType:()=>r1e,Instantiate:()=>i1e,Integer:()=>o1e,Intersect:()=>Us,Iterator:()=>RI,KeyOf:()=>DI,Literal:()=>Nr,Lowercase:()=>u1e,Mapped:()=>Bge,Module:()=>b1e,Never:()=>ar,Not:()=>_1e,Null:()=>f9,Number:()=>H0,Object:()=>rn,Omit:()=>bp,Optional:()=>Os,Parameters:()=>T1e,Partial:()=>LI,Pick:()=>_p,Promise:()=>c9,Readonly:()=>za,ReadonlyOptional:()=>C9,Record:()=>y9,Recursive:()=>w1e,Ref:()=>W0,RegExp:()=>S1e,Required:()=>MI,Rest:()=>B1e,ReturnType:()=>R1e,String:()=>ha,Symbol:()=>d9,TemplateLiteral:()=>s9,Transform:()=>k1e,Tuple:()=>G0,Uint8Array:()=>A9,Uncapitalize:()=>f1e,Undefined:()=>h9,Union:()=>tn,Unknown:()=>Gl,Unsafe:()=>D1e,Uppercase:()=>d1e,Void:()=>N1e});d();var H=oW;var V7r=600*1e3,z5={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Gpt41:"gpt-4.1",Gpt5:"gpt-5",CopilotBase:"copilot-base",BYOK:"byok",Unknown:"unknown"};var W7r=new Set([z5.O1Ga,z5.O3Mini,z5.O1Mini,z5.Gemini20Pro,z5.Gemini20Flash]);var rJe=H.Object({type:H.Union([H.Literal("chat"),H.Literal("embeddings"),H.Literal("completion")]),tokenizer:H.String(),family:H.String(),object:H.String(),supports:H.Optional(H.Object({tool_calls:H.Optional(H.Boolean()),parallel_tool_calls:H.Optional(H.Boolean()),streaming:H.Optional(H.Boolean()),vision:H.Optional(H.Boolean())})),limits:H.Optional(H.Object({max_inputs:H.Optional(H.Number()),max_prompt_tokens:H.Optional(H.Number()),max_output_tokens:H.Optional(H.Number()),max_context_window_tokens:H.Optional(H.Number())}))}),nJe=H.Object({id:H.String(),name:H.String(),version:H.String(),model_picker_enabled:H.Boolean(),is_chat_default:H.Optional(H.Boolean()),is_chat_fallback:H.Optional(H.Boolean()),capabilities:rJe,billing:H.Optional(H.Object({is_premium:H.Optional(H.Boolean()),multiplier:H.Optional(H.Number())})),object:H.String(),preview:H.Optional(H.Boolean()),isExperimental:H.Optional(H.Boolean()),policy:H.Optional(H.Object({state:H.String(),terms:H.String()})),supported_endpoints:H.Optional(H.Array(H.String()))}),Q1e=H.Object({data:H.Array(nJe)});d();function P1e(t){let e=Hi(t,st.UserSelectedCompletionModel);return typeof e=="string"&&e.length>0?e:null}s(P1e,"getUserSelectedModelConfiguration");d();d();d();var OI=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{s(this,"CopilotPromptLoadFailure")}};d();var F1e=We(require("node:fs/promises")),x9=We(require("node:path"));async function v9(t){return await F1e.readFile(sW(t))}s(v9,"readFile");function sW(t){return x9.default.resolve(x9.default.extname(__filename)!==".ts"?__dirname:x9.default.resolve(__dirname,"../../dist"),t)}s(sW,"locateFile");var qI=We(K1e());var B9=new Map;function $0(t="o200k_base"){let e=B9.get(t);return e!==void 0||(e=B9.get("o200k_base"),e!==void 0)?e:new UI}s($0,"getTokenizer");async function yJe(t){if(!t.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let e=await v9(t),r=new Map,n=[];for(let o=0;o<e.length;o++){if(e[o]!==255||n.length===0){n.push(e[o]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}s(yJe,"parseTikTokenNoIndex");var gW=class t{constructor(e){this._tokenizer=e}static{s(this,"TTokenizer")}static async create(e){try{let r=(0,qI.createTokenizer)(await yJe(`resources/${e}.tiktoken.noindex`),(0,qI.getSpecialTokensByEncoder)(e),(0,qI.getRegexByEncoder)(e),32768);return new t(r)}catch(r){throw r instanceof Error?new OI("Could not load tokenizer",r):r}}tokenize(e){return this._tokenizer.encode(e)}detokenize(e){return this._tokenizer.decode(e)}tokenLength(e){return this.tokenize(e).length}tokenizeStrings(e){return this.tokenize(e).map(n=>this.detokenize([n]))}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,o=1,a=Math.min(e.length,r*n),c=e.slice(-a),l=this.tokenize(c);for(;l.length<r+2&&a<e.length;)a=Math.min(e.length,a+r*o),c=e.slice(-a),l=this.tokenize(c);return l.length<r?{text:e,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,o=1,a=Math.min(e.length,r*n),c=e.slice(0,a),l=this.tokenize(c);for(;l.length<r+2&&a<e.length;)a=Math.min(e.length,a+r*o),c=e.slice(0,a),l=this.tokenize(c);return l.length<r?{text:e,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}},CW=class{constructor(){this.hash=s(e=>{let r=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);r=(r<<5)-r+o,r&=r&65535}return r},"hash")}static{s(this,"MockTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map(r=>r.toString()).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,r){let n=this.tokenizeStrings(e).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(e,r){let n=this.tokenizeStrings(e).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}},EJe={cl100k_base:{python:3.99,typescript:4.54,typescriptreact:4.58,javascript:4.76,csharp:5.13,java:4.86,cpp:3.85,php:4.1,html:4.57,vue:4.22,go:3.93,dart:5.66,javascriptreact:4.81,css:3.37},o200k_base:{python:4.05,typescript:4.12,typescriptreact:5.01,javascript:4.47,csharp:5.47,java:4.86,cpp:3.8,php:4.35,html:4.86,vue:4.3,go:4.21,dart:5.7,javascriptreact:4.83,css:3.33}},mW=4,UI=class{constructor(e="o200k_base",r){this.languageId=r;this.tokenizerName=e}static{s(this,"ApproximateTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(r=>{let n=0;for(let o=0;o<r.length;o++)n=n*Math.pow(10,mW)+r.charCodeAt(o);return n})}detokenize(e){return e.map(r=>{let n=[],o=r.toString();for(;o.length>0;){let a=o.slice(-mW),c=String.fromCharCode(parseInt(a));n.unshift(c),o=o.slice(0,-mW)}return n.join("")}).join("")}tokenizeStrings(e){return e.match(/.{1,4}/g)??[]}getEffectiveTokenLength(){return this.tokenizerName&&this.languageId?EJe[this.tokenizerName]?.[this.languageId]??4:4}tokenLength(e){return Math.ceil(e.length/this.getEffectiveTokenLength())}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(-Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(o,a)=>a)}}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(0,Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(o,a)=>a)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}};async function J1e(t){try{let e=await gW.create(t);B9.set(t,e)}catch{}}s(J1e,"setTokenizer");var IJe=(async()=>{B9.set("mock",new CW),await Promise.all([J1e("cl100k_base"),J1e("o200k_base")])})();d();d();d();function xJe(t){switch(t.errorType){case ge.ArrayContains:return"Expected array to contain at least one matching value";case ge.ArrayMaxContains:return`Expected array to contain no more than ${t.schema.maxContains} matching values`;case ge.ArrayMinContains:return`Expected array to contain at least ${t.schema.minContains} matching values`;case ge.ArrayMaxItems:return`Expected array length to be less or equal to ${t.schema.maxItems}`;case ge.ArrayMinItems:return`Expected array length to be greater or equal to ${t.schema.minItems}`;case ge.ArrayUniqueItems:return"Expected array elements to be unique";case ge.Array:return"Expected array";case ge.AsyncIterator:return"Expected AsyncIterator";case ge.BigIntExclusiveMaximum:return`Expected bigint to be less than ${t.schema.exclusiveMaximum}`;case ge.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${t.schema.exclusiveMinimum}`;case ge.BigIntMaximum:return`Expected bigint to be less or equal to ${t.schema.maximum}`;case ge.BigIntMinimum:return`Expected bigint to be greater or equal to ${t.schema.minimum}`;case ge.BigIntMultipleOf:return`Expected bigint to be a multiple of ${t.schema.multipleOf}`;case ge.BigInt:return"Expected bigint";case ge.Boolean:return"Expected boolean";case ge.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${t.schema.exclusiveMinimumTimestamp}`;case ge.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${t.schema.exclusiveMaximumTimestamp}`;case ge.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${t.schema.minimumTimestamp}`;case ge.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${t.schema.maximumTimestamp}`;case ge.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${t.schema.multipleOfTimestamp}`;case ge.Date:return"Expected Date";case ge.Function:return"Expected function";case ge.IntegerExclusiveMaximum:return`Expected integer to be less than ${t.schema.exclusiveMaximum}`;case ge.IntegerExclusiveMinimum:return`Expected integer to be greater than ${t.schema.exclusiveMinimum}`;case ge.IntegerMaximum:return`Expected integer to be less or equal to ${t.schema.maximum}`;case ge.IntegerMinimum:return`Expected integer to be greater or equal to ${t.schema.minimum}`;case ge.IntegerMultipleOf:return`Expected integer to be a multiple of ${t.schema.multipleOf}`;case ge.Integer:return"Expected integer";case ge.IntersectUnevaluatedProperties:return"Unexpected property";case ge.Intersect:return"Expected all values to match";case ge.Iterator:return"Expected Iterator";case ge.Literal:return`Expected ${typeof t.schema.const=="string"?`'${t.schema.const}'`:t.schema.const}`;case ge.Never:return"Never";case ge.Not:return"Value should not match";case ge.Null:return"Expected null";case ge.NumberExclusiveMaximum:return`Expected number to be less than ${t.schema.exclusiveMaximum}`;case ge.NumberExclusiveMinimum:return`Expected number to be greater than ${t.schema.exclusiveMinimum}`;case ge.NumberMaximum:return`Expected number to be less or equal to ${t.schema.maximum}`;case ge.NumberMinimum:return`Expected number to be greater or equal to ${t.schema.minimum}`;case ge.NumberMultipleOf:return`Expected number to be a multiple of ${t.schema.multipleOf}`;case ge.Number:return"Expected number";case ge.Object:return"Expected object";case ge.ObjectAdditionalProperties:return"Unexpected property";case ge.ObjectMaxProperties:return`Expected object to have no more than ${t.schema.maxProperties} properties`;case ge.ObjectMinProperties:return`Expected object to have at least ${t.schema.minProperties} properties`;case ge.ObjectRequiredProperty:return"Expected required property";case ge.Promise:return"Expected Promise";case ge.RegExp:return"Expected string to match regular expression";case ge.StringFormatUnknown:return`Unknown format '${t.schema.format}'`;case ge.StringFormat:return`Expected string to match '${t.schema.format}' format`;case ge.StringMaxLength:return`Expected string length less or equal to ${t.schema.maxLength}`;case ge.StringMinLength:return`Expected string length greater or equal to ${t.schema.minLength}`;case ge.StringPattern:return`Expected string to match '${t.schema.pattern}'`;case ge.String:return"Expected string";case ge.Symbol:return"Expected symbol";case ge.TupleLength:return`Expected tuple to have ${t.schema.maxItems||0} elements`;case ge.Tuple:return"Expected tuple";case ge.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${t.schema.maxByteLength}`;case ge.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${t.schema.minByteLength}`;case ge.Uint8Array:return"Expected Uint8Array";case ge.Undefined:return"Expected undefined";case ge.Union:return"Expected union value";case ge.Void:return"Expected void";case ge.Kind:return`Expected kind '${t.schema[Ce]}'`;default:return"Unknown error type"}}s(xJe,"DefaultErrorFunction");var vJe=xJe;function X1e(){return vJe}s(X1e,"GetErrorFunction");d();var yW=class extends Bt{static{s(this,"TypeDereferenceError")}constructor(e){super(`Unable to dereference schema with $id '${e.$ref}'`),this.schema=e}};function bJe(t,e){let r=e.find(n=>n.$id===t.$ref);if(r===void 0)throw new yW(t);return Yr(r,e)}s(bJe,"Resolve");function Go(t,e){return!Hr(t.$id)||e.some(r=>r.$id===t.$id)||e.push(t),e}s(Go,"Pushref");function Yr(t,e){return t[Ce]==="This"||t[Ce]==="Ref"?bJe(t,e):t}s(Yr,"Deref");d();var EW=class extends Bt{static{s(this,"ValueHashError")}constructor(e){super("Unable to hash value"),this.value=e}},Jc;(function(t){t[t.Undefined=0]="Undefined",t[t.Null=1]="Null",t[t.Boolean=2]="Boolean",t[t.Number=3]="Number",t[t.String=4]="String",t[t.Object=5]="Object",t[t.Array=6]="Array",t[t.Date=7]="Date",t[t.Uint8Array=8]="Uint8Array",t[t.Symbol=9]="Symbol",t[t.BigInt=10]="BigInt"})(Jc||(Jc={}));var HI=BigInt("14695981039346656037"),[_Je,TJe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],wJe=Array.from({length:256}).map((t,e)=>BigInt(e)),Z1e=new Float64Array(1),eCe=new DataView(Z1e.buffer),tCe=new Uint8Array(Z1e.buffer);function*SJe(t){let e=t===0?1:Math.ceil(Math.floor(Math.log2(t)+1)/8);for(let r=0;r<e;r++)yield t>>8*(e-1-r)&255}s(SJe,"NumberToBytes");function BJe(t){Hs(Jc.Array);for(let e of t)GI(e)}s(BJe,"ArrayType");function RJe(t){Hs(Jc.Boolean),Hs(t?1:0)}s(RJe,"BooleanType");function kJe(t){Hs(Jc.BigInt),eCe.setBigInt64(0,t);for(let e of tCe)Hs(e)}s(kJe,"BigIntType");function DJe(t){Hs(Jc.Date),GI(t.getTime())}s(DJe,"DateType");function NJe(t){Hs(Jc.Null)}s(NJe,"NullType");function QJe(t){Hs(Jc.Number),eCe.setFloat64(0,t);for(let e of tCe)Hs(e)}s(QJe,"NumberType");function PJe(t){Hs(Jc.Object);for(let e of globalThis.Object.getOwnPropertyNames(t).sort())GI(e),GI(t[e])}s(PJe,"ObjectType");function FJe(t){Hs(Jc.String);for(let e=0;e<t.length;e++)for(let r of SJe(t.charCodeAt(e)))Hs(r)}s(FJe,"StringType");function LJe(t){Hs(Jc.Symbol),GI(t.description)}s(LJe,"SymbolType");function MJe(t){Hs(Jc.Uint8Array);for(let e=0;e<t.length;e++)Hs(t[e])}s(MJe,"Uint8ArrayType");function OJe(t){return Hs(Jc.Undefined)}s(OJe,"UndefinedType");function GI(t){if(St(t))return BJe(t);if(nf(t))return RJe(t);if(hs(t))return kJe(t);if(fa(t))return DJe(t);if(Jd(t))return NJe(t);if(pt(t))return QJe(t);if(hr(t))return PJe(t);if(Hr(t))return FJe(t);if(Xd(t))return LJe(t);if(yI(t))return MJe(t);if(ti(t))return OJe(t);throw new EW(t)}s(GI,"Visit");function Hs(t){HI=HI^wJe[t],HI=HI*_Je%TJe}s(Hs,"FNV1A64");function wp(t){return HI=BigInt("14695981039346656037"),GI(t),HI}s(wp,"Hash");d();var IW=class extends Bt{static{s(this,"ValueCheckUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function UJe(t){return t[Ce]==="Any"||t[Ce]==="Unknown"}s(UJe,"IsAnyOrUnknown");function br(t){return t!==void 0}s(br,"IsDefined");function qJe(t,e,r){return!0}s(qJe,"FromAny");function HJe(t,e,r){return!0}s(HJe,"FromArgument");function GJe(t,e,r){if(!St(r)||br(t.minItems)&&!(r.length>=t.minItems)||br(t.maxItems)&&!(r.length<=t.maxItems)||!r.every(a=>Vo(t.items,e,a))||t.uniqueItems===!0&&!function(){let a=new Set;for(let c of r){let l=wp(c);if(a.has(l))return!1;a.add(l)}return!0}())return!1;if(!(br(t.contains)||pt(t.minContains)||pt(t.maxContains)))return!0;let n=br(t.contains)?t.contains:ar(),o=r.reduce((a,c)=>Vo(n,e,c)?a+1:a,0);return!(o===0||pt(t.minContains)&&o<t.minContains||pt(t.maxContains)&&o>t.maxContains)}s(GJe,"FromArray");function VJe(t,e,r){return J6(r)}s(VJe,"FromAsyncIterator");function WJe(t,e,r){return!(!hs(r)||br(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||br(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||br(t.maximum)&&!(r<=t.maximum)||br(t.minimum)&&!(r>=t.minimum)||br(t.multipleOf)&&r%t.multipleOf!==BigInt(0))}s(WJe,"FromBigInt");function YJe(t,e,r){return nf(r)}s(YJe,"FromBoolean");function jJe(t,e,r){return Vo(t.returns,e,r.prototype)}s(jJe,"FromConstructor");function $Je(t,e,r){return!(!fa(r)||br(t.exclusiveMaximumTimestamp)&&!(r.getTime()<t.exclusiveMaximumTimestamp)||br(t.exclusiveMinimumTimestamp)&&!(r.getTime()>t.exclusiveMinimumTimestamp)||br(t.maximumTimestamp)&&!(r.getTime()<=t.maximumTimestamp)||br(t.minimumTimestamp)&&!(r.getTime()>=t.minimumTimestamp)||br(t.multipleOfTimestamp)&&r.getTime()%t.multipleOfTimestamp!==0)}s($Je,"FromDate");function zJe(t,e,r){return Cp(r)}s(zJe,"FromFunction");function KJe(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return Vo(o,[...e,...n],r)}s(KJe,"FromImport");function JJe(t,e,r){return!(!e9(r)||br(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||br(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||br(t.maximum)&&!(r<=t.maximum)||br(t.minimum)&&!(r>=t.minimum)||br(t.multipleOf)&&r%t.multipleOf!==0)}s(JJe,"FromInteger");function XJe(t,e,r){let n=t.allOf.every(o=>Vo(o,e,r));if(t.unevaluatedProperties===!1){let o=new RegExp(ih(t)),a=Object.getOwnPropertyNames(r).every(c=>o.test(c));return n&&a}else if(Ai(t.unevaluatedProperties)){let o=new RegExp(ih(t)),a=Object.getOwnPropertyNames(r).every(c=>o.test(c)||Vo(t.unevaluatedProperties,e,r[c]));return n&&a}else return n}s(XJe,"FromIntersect");function ZJe(t,e,r){return X6(r)}s(ZJe,"FromIterator");function eXe(t,e,r){return r===t.const}s(eXe,"FromLiteral");function tXe(t,e,r){return!1}s(tXe,"FromNever");function rXe(t,e,r){return!Vo(t.not,e,r)}s(rXe,"FromNot");function nXe(t,e,r){return Jd(r)}s(nXe,"FromNull");function iXe(t,e,r){return!(!Un.IsNumberLike(r)||br(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||br(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||br(t.minimum)&&!(r>=t.minimum)||br(t.maximum)&&!(r<=t.maximum)||br(t.multipleOf)&&r%t.multipleOf!==0)}s(iXe,"FromNumber");function oXe(t,e,r){if(!Un.IsObjectLike(r)||br(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||br(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let n=Object.getOwnPropertyNames(t.properties);for(let o of n){let a=t.properties[o];if(t.required&&t.required.includes(o)){if(!Vo(a,e,r[o])||(oh(a)||UJe(a))&&!(o in r))return!1}else if(Un.IsExactOptionalProperty(r,o)&&!Vo(a,e,r[o]))return!1}if(t.additionalProperties===!1){let o=Object.getOwnPropertyNames(r);return t.required&&t.required.length===n.length&&o.length===n.length?!0:o.every(a=>n.includes(a))}else return typeof t.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(a=>n.includes(a)||Vo(t.additionalProperties,e,r[a])):!0}s(oXe,"FromObject");function sXe(t,e,r){return Z6(r)}s(sXe,"FromPromise");function aXe(t,e,r){if(!Un.IsRecordLike(r)||br(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||br(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let[n,o]=Object.entries(t.patternProperties)[0],a=new RegExp(n),c=Object.entries(r).every(([f,h])=>a.test(f)?Vo(o,e,h):!0),l=typeof t.additionalProperties=="object"?Object.entries(r).every(([f,h])=>a.test(f)?!0:Vo(t.additionalProperties,e,h)):!0,u=t.additionalProperties===!1?Object.getOwnPropertyNames(r).every(f=>a.test(f)):!0;return c&&l&&u}s(aXe,"FromRecord");function cXe(t,e,r){return Vo(Yr(t,e),e,r)}s(cXe,"FromRef");function lXe(t,e,r){let n=new RegExp(t.source,t.flags);return br(t.minLength)&&!(r.length>=t.minLength)||br(t.maxLength)&&!(r.length<=t.maxLength)?!1:n.test(r)}s(lXe,"FromRegExp");function uXe(t,e,r){return!Hr(r)||br(t.minLength)&&!(r.length>=t.minLength)||br(t.maxLength)&&!(r.length<=t.maxLength)||br(t.pattern)&&!new RegExp(t.pattern).test(r)?!1:br(t.format)?Hl.Has(t.format)?Hl.Get(t.format)(r):!1:!0}s(uXe,"FromString");function fXe(t,e,r){return Xd(r)}s(fXe,"FromSymbol");function dXe(t,e,r){return Hr(r)&&new RegExp(t.pattern).test(r)}s(dXe,"FromTemplateLiteral");function hXe(t,e,r){return Vo(Yr(t,e),e,r)}s(hXe,"FromThis");function AXe(t,e,r){if(!St(r)||t.items===void 0&&r.length!==0||r.length!==t.maxItems)return!1;if(!t.items)return!0;for(let n=0;n<t.items.length;n++)if(!Vo(t.items[n],e,r[n]))return!1;return!0}s(AXe,"FromTuple");function pXe(t,e,r){return ti(r)}s(pXe,"FromUndefined");function mXe(t,e,r){return t.anyOf.some(n=>Vo(n,e,r))}s(mXe,"FromUnion");function gXe(t,e,r){return!(!yI(r)||br(t.maxByteLength)&&!(r.length<=t.maxByteLength)||br(t.minByteLength)&&!(r.length>=t.minByteLength))}s(gXe,"FromUint8Array");function CXe(t,e,r){return!0}s(CXe,"FromUnknown");function yXe(t,e,r){return Un.IsVoidLike(r)}s(yXe,"FromVoid");function EXe(t,e,r){return da.Has(t[Ce])?da.Get(t[Ce])(t,r):!1}s(EXe,"FromKind");function Vo(t,e,r){let n=br(t.$id)?Go(t,e):e,o=t;switch(o[Ce]){case"Any":return qJe(o,n,r);case"Argument":return HJe(o,n,r);case"Array":return GJe(o,n,r);case"AsyncIterator":return VJe(o,n,r);case"BigInt":return WJe(o,n,r);case"Boolean":return YJe(o,n,r);case"Constructor":return jJe(o,n,r);case"Date":return $Je(o,n,r);case"Function":return zJe(o,n,r);case"Import":return KJe(o,n,r);case"Integer":return JJe(o,n,r);case"Intersect":return XJe(o,n,r);case"Iterator":return ZJe(o,n,r);case"Literal":return eXe(o,n,r);case"Never":return tXe(o,n,r);case"Not":return rXe(o,n,r);case"Null":return nXe(o,n,r);case"Number":return iXe(o,n,r);case"Object":return oXe(o,n,r);case"Promise":return sXe(o,n,r);case"Record":return aXe(o,n,r);case"Ref":return cXe(o,n,r);case"RegExp":return lXe(o,n,r);case"String":return uXe(o,n,r);case"Symbol":return fXe(o,n,r);case"TemplateLiteral":return dXe(o,n,r);case"This":return hXe(o,n,r);case"Tuple":return AXe(o,n,r);case"Undefined":return pXe(o,n,r);case"Union":return mXe(o,n,r);case"Uint8Array":return gXe(o,n,r);case"Unknown":return CXe(o,n,r);case"Void":return yXe(o,n,r);default:if(!da.Has(o[Ce]))throw new IW(o);return EXe(o,n,r)}}s(Vo,"Visit");function gr(...t){return t.length===3?Vo(t[0],t[1],t[2]):Vo(t[0],[],t[1])}s(gr,"Check");var ge;(function(t){t[t.ArrayContains=0]="ArrayContains",t[t.ArrayMaxContains=1]="ArrayMaxContains",t[t.ArrayMaxItems=2]="ArrayMaxItems",t[t.ArrayMinContains=3]="ArrayMinContains",t[t.ArrayMinItems=4]="ArrayMinItems",t[t.ArrayUniqueItems=5]="ArrayUniqueItems",t[t.Array=6]="Array",t[t.AsyncIterator=7]="AsyncIterator",t[t.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",t[t.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",t[t.BigIntMaximum=10]="BigIntMaximum",t[t.BigIntMinimum=11]="BigIntMinimum",t[t.BigIntMultipleOf=12]="BigIntMultipleOf",t[t.BigInt=13]="BigInt",t[t.Boolean=14]="Boolean",t[t.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",t[t.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",t[t.DateMaximumTimestamp=17]="DateMaximumTimestamp",t[t.DateMinimumTimestamp=18]="DateMinimumTimestamp",t[t.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",t[t.Date=20]="Date",t[t.Function=21]="Function",t[t.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",t[t.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",t[t.IntegerMaximum=24]="IntegerMaximum",t[t.IntegerMinimum=25]="IntegerMinimum",t[t.IntegerMultipleOf=26]="IntegerMultipleOf",t[t.Integer=27]="Integer",t[t.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",t[t.Intersect=29]="Intersect",t[t.Iterator=30]="Iterator",t[t.Kind=31]="Kind",t[t.Literal=32]="Literal",t[t.Never=33]="Never",t[t.Not=34]="Not",t[t.Null=35]="Null",t[t.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",t[t.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",t[t.NumberMaximum=38]="NumberMaximum",t[t.NumberMinimum=39]="NumberMinimum",t[t.NumberMultipleOf=40]="NumberMultipleOf",t[t.Number=41]="Number",t[t.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",t[t.ObjectMaxProperties=43]="ObjectMaxProperties",t[t.ObjectMinProperties=44]="ObjectMinProperties",t[t.ObjectRequiredProperty=45]="ObjectRequiredProperty",t[t.Object=46]="Object",t[t.Promise=47]="Promise",t[t.RegExp=48]="RegExp",t[t.StringFormatUnknown=49]="StringFormatUnknown",t[t.StringFormat=50]="StringFormat",t[t.StringMaxLength=51]="StringMaxLength",t[t.StringMinLength=52]="StringMinLength",t[t.StringPattern=53]="StringPattern",t[t.String=54]="String",t[t.Symbol=55]="Symbol",t[t.TupleLength=56]="TupleLength",t[t.Tuple=57]="Tuple",t[t.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",t[t.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",t[t.Uint8Array=60]="Uint8Array",t[t.Undefined=61]="Undefined",t[t.Union=62]="Union",t[t.Void=63]="Void"})(ge||(ge={}));var xW=class extends Bt{static{s(this,"ValueErrorsUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function sh(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}s(sh,"EscapeKey");function _r(t){return t!==void 0}s(_r,"IsDefined");var Sp=class{static{s(this,"ValueErrorIterator")}constructor(e){this.iterator=e}[Symbol.iterator](){return this.iterator}First(){let e=this.iterator.next();return e.done?void 0:e.value}};function Xe(t,e,r,n,o=[]){return{type:t,schema:e,path:r,value:n,message:X1e()({errorType:t,path:r,schema:e,value:n,errors:o}),errors:o}}s(Xe,"Create");function*IXe(t,e,r,n){}s(IXe,"FromAny");function*xXe(t,e,r,n){}s(xXe,"FromArgument");function*vXe(t,e,r,n){if(!St(n))return yield Xe(ge.Array,t,r,n);_r(t.minItems)&&!(n.length>=t.minItems)&&(yield Xe(ge.ArrayMinItems,t,r,n)),_r(t.maxItems)&&!(n.length<=t.maxItems)&&(yield Xe(ge.ArrayMaxItems,t,r,n));for(let c=0;c<n.length;c++)yield*Wo(t.items,e,`${r}/${c}`,n[c]);if(t.uniqueItems===!0&&!function(){let c=new Set;for(let l of n){let u=wp(l);if(c.has(u))return!1;c.add(u)}return!0}()&&(yield Xe(ge.ArrayUniqueItems,t,r,n)),!(_r(t.contains)||_r(t.minContains)||_r(t.maxContains)))return;let o=_r(t.contains)?t.contains:ar(),a=n.reduce((c,l,u)=>Wo(o,e,`${r}${u}`,l).next().done===!0?c+1:c,0);a===0&&(yield Xe(ge.ArrayContains,t,r,n)),pt(t.minContains)&&a<t.minContains&&(yield Xe(ge.ArrayMinContains,t,r,n)),pt(t.maxContains)&&a>t.maxContains&&(yield Xe(ge.ArrayMaxContains,t,r,n))}s(vXe,"FromArray");function*bXe(t,e,r,n){J6(n)||(yield Xe(ge.AsyncIterator,t,r,n))}s(bXe,"FromAsyncIterator");function*_Xe(t,e,r,n){if(!hs(n))return yield Xe(ge.BigInt,t,r,n);_r(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield Xe(ge.BigIntExclusiveMaximum,t,r,n)),_r(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield Xe(ge.BigIntExclusiveMinimum,t,r,n)),_r(t.maximum)&&!(n<=t.maximum)&&(yield Xe(ge.BigIntMaximum,t,r,n)),_r(t.minimum)&&!(n>=t.minimum)&&(yield Xe(ge.BigIntMinimum,t,r,n)),_r(t.multipleOf)&&n%t.multipleOf!==BigInt(0)&&(yield Xe(ge.BigIntMultipleOf,t,r,n))}s(_Xe,"FromBigInt");function*TXe(t,e,r,n){nf(n)||(yield Xe(ge.Boolean,t,r,n))}s(TXe,"FromBoolean");function*wXe(t,e,r,n){yield*Wo(t.returns,e,r,n.prototype)}s(wXe,"FromConstructor");function*SXe(t,e,r,n){if(!fa(n))return yield Xe(ge.Date,t,r,n);_r(t.exclusiveMaximumTimestamp)&&!(n.getTime()<t.exclusiveMaximumTimestamp)&&(yield Xe(ge.DateExclusiveMaximumTimestamp,t,r,n)),_r(t.exclusiveMinimumTimestamp)&&!(n.getTime()>t.exclusiveMinimumTimestamp)&&(yield Xe(ge.DateExclusiveMinimumTimestamp,t,r,n)),_r(t.maximumTimestamp)&&!(n.getTime()<=t.maximumTimestamp)&&(yield Xe(ge.DateMaximumTimestamp,t,r,n)),_r(t.minimumTimestamp)&&!(n.getTime()>=t.minimumTimestamp)&&(yield Xe(ge.DateMinimumTimestamp,t,r,n)),_r(t.multipleOfTimestamp)&&n.getTime()%t.multipleOfTimestamp!==0&&(yield Xe(ge.DateMultipleOfTimestamp,t,r,n))}s(SXe,"FromDate");function*BXe(t,e,r,n){Cp(n)||(yield Xe(ge.Function,t,r,n))}s(BXe,"FromFunction");function*RXe(t,e,r,n){let o=globalThis.Object.values(t.$defs),a=t.$defs[t.$ref];yield*Wo(a,[...e,...o],r,n)}s(RXe,"FromImport");function*kXe(t,e,r,n){if(!e9(n))return yield Xe(ge.Integer,t,r,n);_r(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield Xe(ge.IntegerExclusiveMaximum,t,r,n)),_r(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield Xe(ge.IntegerExclusiveMinimum,t,r,n)),_r(t.maximum)&&!(n<=t.maximum)&&(yield Xe(ge.IntegerMaximum,t,r,n)),_r(t.minimum)&&!(n>=t.minimum)&&(yield Xe(ge.IntegerMinimum,t,r,n)),_r(t.multipleOf)&&n%t.multipleOf!==0&&(yield Xe(ge.IntegerMultipleOf,t,r,n))}s(kXe,"FromInteger");function*DXe(t,e,r,n){let o=!1;for(let a of t.allOf)for(let c of Wo(a,e,r,n))o=!0,yield c;if(o)return yield Xe(ge.Intersect,t,r,n);if(t.unevaluatedProperties===!1){let a=new RegExp(ih(t));for(let c of Object.getOwnPropertyNames(n))a.test(c)||(yield Xe(ge.IntersectUnevaluatedProperties,t,`${r}/${c}`,n))}if(typeof t.unevaluatedProperties=="object"){let a=new RegExp(ih(t));for(let c of Object.getOwnPropertyNames(n))if(!a.test(c)){let l=Wo(t.unevaluatedProperties,e,`${r}/${c}`,n[c]).next();l.done||(yield l.value)}}}s(DXe,"FromIntersect");function*NXe(t,e,r,n){X6(n)||(yield Xe(ge.Iterator,t,r,n))}s(NXe,"FromIterator");function*QXe(t,e,r,n){n!==t.const&&(yield Xe(ge.Literal,t,r,n))}s(QXe,"FromLiteral");function*PXe(t,e,r,n){yield Xe(ge.Never,t,r,n)}s(PXe,"FromNever");function*FXe(t,e,r,n){Wo(t.not,e,r,n).next().done===!0&&(yield Xe(ge.Not,t,r,n))}s(FXe,"FromNot");function*LXe(t,e,r,n){Jd(n)||(yield Xe(ge.Null,t,r,n))}s(LXe,"FromNull");function*MXe(t,e,r,n){if(!Un.IsNumberLike(n))return yield Xe(ge.Number,t,r,n);_r(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield Xe(ge.NumberExclusiveMaximum,t,r,n)),_r(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield Xe(ge.NumberExclusiveMinimum,t,r,n)),_r(t.maximum)&&!(n<=t.maximum)&&(yield Xe(ge.NumberMaximum,t,r,n)),_r(t.minimum)&&!(n>=t.minimum)&&(yield Xe(ge.NumberMinimum,t,r,n)),_r(t.multipleOf)&&n%t.multipleOf!==0&&(yield Xe(ge.NumberMultipleOf,t,r,n))}s(MXe,"FromNumber");function*OXe(t,e,r,n){if(!Un.IsObjectLike(n))return yield Xe(ge.Object,t,r,n);_r(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield Xe(ge.ObjectMinProperties,t,r,n)),_r(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield Xe(ge.ObjectMaxProperties,t,r,n));let o=Array.isArray(t.required)?t.required:[],a=Object.getOwnPropertyNames(t.properties),c=Object.getOwnPropertyNames(n);for(let l of o)c.includes(l)||(yield Xe(ge.ObjectRequiredProperty,t.properties[l],`${r}/${sh(l)}`,void 0));if(t.additionalProperties===!1)for(let l of c)a.includes(l)||(yield Xe(ge.ObjectAdditionalProperties,t,`${r}/${sh(l)}`,n[l]));if(typeof t.additionalProperties=="object")for(let l of c)a.includes(l)||(yield*Wo(t.additionalProperties,e,`${r}/${sh(l)}`,n[l]));for(let l of a){let u=t.properties[l];t.required&&t.required.includes(l)?(yield*Wo(u,e,`${r}/${sh(l)}`,n[l]),oh(t)&&!(l in n)&&(yield Xe(ge.ObjectRequiredProperty,u,`${r}/${sh(l)}`,void 0))):Un.IsExactOptionalProperty(n,l)&&(yield*Wo(u,e,`${r}/${sh(l)}`,n[l]))}}s(OXe,"FromObject");function*UXe(t,e,r,n){Z6(n)||(yield Xe(ge.Promise,t,r,n))}s(UXe,"FromPromise");function*qXe(t,e,r,n){if(!Un.IsRecordLike(n))return yield Xe(ge.Object,t,r,n);_r(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield Xe(ge.ObjectMinProperties,t,r,n)),_r(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield Xe(ge.ObjectMaxProperties,t,r,n));let[o,a]=Object.entries(t.patternProperties)[0],c=new RegExp(o);for(let[l,u]of Object.entries(n))c.test(l)&&(yield*Wo(a,e,`${r}/${sh(l)}`,u));if(typeof t.additionalProperties=="object")for(let[l,u]of Object.entries(n))c.test(l)||(yield*Wo(t.additionalProperties,e,`${r}/${sh(l)}`,u));if(t.additionalProperties===!1){for(let[l,u]of Object.entries(n))if(!c.test(l))return yield Xe(ge.ObjectAdditionalProperties,t,`${r}/${sh(l)}`,u)}}s(qXe,"FromRecord");function*HXe(t,e,r,n){yield*Wo(Yr(t,e),e,r,n)}s(HXe,"FromRef");function*GXe(t,e,r,n){if(!Hr(n))return yield Xe(ge.String,t,r,n);if(_r(t.minLength)&&!(n.length>=t.minLength)&&(yield Xe(ge.StringMinLength,t,r,n)),_r(t.maxLength)&&!(n.length<=t.maxLength)&&(yield Xe(ge.StringMaxLength,t,r,n)),!new RegExp(t.source,t.flags).test(n))return yield Xe(ge.RegExp,t,r,n)}s(GXe,"FromRegExp");function*VXe(t,e,r,n){if(!Hr(n))return yield Xe(ge.String,t,r,n);_r(t.minLength)&&!(n.length>=t.minLength)&&(yield Xe(ge.StringMinLength,t,r,n)),_r(t.maxLength)&&!(n.length<=t.maxLength)&&(yield Xe(ge.StringMaxLength,t,r,n)),Hr(t.pattern)&&(new RegExp(t.pattern).test(n)||(yield Xe(ge.StringPattern,t,r,n))),Hr(t.format)&&(Hl.Has(t.format)?Hl.Get(t.format)(n)||(yield Xe(ge.StringFormat,t,r,n)):yield Xe(ge.StringFormatUnknown,t,r,n))}s(VXe,"FromString");function*WXe(t,e,r,n){Xd(n)||(yield Xe(ge.Symbol,t,r,n))}s(WXe,"FromSymbol");function*YXe(t,e,r,n){if(!Hr(n))return yield Xe(ge.String,t,r,n);new RegExp(t.pattern).test(n)||(yield Xe(ge.StringPattern,t,r,n))}s(YXe,"FromTemplateLiteral");function*jXe(t,e,r,n){yield*Wo(Yr(t,e),e,r,n)}s(jXe,"FromThis");function*$Xe(t,e,r,n){if(!St(n))return yield Xe(ge.Tuple,t,r,n);if(t.items===void 0&&n.length!==0)return yield Xe(ge.TupleLength,t,r,n);if(n.length!==t.maxItems)return yield Xe(ge.TupleLength,t,r,n);if(t.items)for(let o=0;o<t.items.length;o++)yield*Wo(t.items[o],e,`${r}/${o}`,n[o])}s($Xe,"FromTuple");function*zXe(t,e,r,n){ti(n)||(yield Xe(ge.Undefined,t,r,n))}s(zXe,"FromUndefined");function*KXe(t,e,r,n){if(gr(t,e,n))return;let o=t.anyOf.map(a=>new Sp(Wo(a,e,r,n)));yield Xe(ge.Union,t,r,n,o)}s(KXe,"FromUnion");function*JXe(t,e,r,n){if(!yI(n))return yield Xe(ge.Uint8Array,t,r,n);_r(t.maxByteLength)&&!(n.length<=t.maxByteLength)&&(yield Xe(ge.Uint8ArrayMaxByteLength,t,r,n)),_r(t.minByteLength)&&!(n.length>=t.minByteLength)&&(yield Xe(ge.Uint8ArrayMinByteLength,t,r,n))}s(JXe,"FromUint8Array");function*XXe(t,e,r,n){}s(XXe,"FromUnknown");function*ZXe(t,e,r,n){Un.IsVoidLike(n)||(yield Xe(ge.Void,t,r,n))}s(ZXe,"FromVoid");function*eZe(t,e,r,n){da.Get(t[Ce])(t,n)||(yield Xe(ge.Kind,t,r,n))}s(eZe,"FromKind");function*Wo(t,e,r,n){let o=_r(t.$id)?[...e,t]:e,a=t;switch(a[Ce]){case"Any":return yield*IXe(a,o,r,n);case"Argument":return yield*xXe(a,o,r,n);case"Array":return yield*vXe(a,o,r,n);case"AsyncIterator":return yield*bXe(a,o,r,n);case"BigInt":return yield*_Xe(a,o,r,n);case"Boolean":return yield*TXe(a,o,r,n);case"Constructor":return yield*wXe(a,o,r,n);case"Date":return yield*SXe(a,o,r,n);case"Function":return yield*BXe(a,o,r,n);case"Import":return yield*RXe(a,o,r,n);case"Integer":return yield*kXe(a,o,r,n);case"Intersect":return yield*DXe(a,o,r,n);case"Iterator":return yield*NXe(a,o,r,n);case"Literal":return yield*QXe(a,o,r,n);case"Never":return yield*PXe(a,o,r,n);case"Not":return yield*FXe(a,o,r,n);case"Null":return yield*LXe(a,o,r,n);case"Number":return yield*MXe(a,o,r,n);case"Object":return yield*OXe(a,o,r,n);case"Promise":return yield*UXe(a,o,r,n);case"Record":return yield*qXe(a,o,r,n);case"Ref":return yield*HXe(a,o,r,n);case"RegExp":return yield*GXe(a,o,r,n);case"String":return yield*VXe(a,o,r,n);case"Symbol":return yield*WXe(a,o,r,n);case"TemplateLiteral":return yield*YXe(a,o,r,n);case"This":return yield*jXe(a,o,r,n);case"Tuple":return yield*$Xe(a,o,r,n);case"Undefined":return yield*zXe(a,o,r,n);case"Union":return yield*KXe(a,o,r,n);case"Uint8Array":return yield*JXe(a,o,r,n);case"Unknown":return yield*XXe(a,o,r,n);case"Void":return yield*ZXe(a,o,r,n);default:if(!da.Has(a[Ce]))throw new xW(t);return yield*eZe(a,o,r,n)}}s(Wo,"Visit");function ff(...t){let e=t.length===3?Wo(t[0],t[1],"",t[2]):Wo(t[0],[],"",t[1]);return new Sp(e)}s(ff,"Errors");d();var tZe=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},nCe=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},vW,R9,iCe,bW=class extends Bt{static{s(this,"AssertError")}constructor(e){let r=e.First();super(r===void 0?"Invalid Value":r.message),vW.add(this),R9.set(this,void 0),tZe(this,R9,e,"f"),this.error=r}Errors(){return new Sp(nCe(this,vW,"m",iCe).call(this))}};R9=new WeakMap,vW=new WeakSet,iCe=s(function*(){this.error&&(yield this.error),yield*nCe(this,R9,"f")},"_AssertError_Iterator");function rCe(t,e,r){if(!gr(t,e,r))throw new bW(ff(t,e,r))}s(rCe,"AssertValue");function k9(...t){return t.length===3?rCe(t[0],t[1],t[2]):rCe(t[0],[],t[1])}s(k9,"Assert");d();d();d();function rZe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=jr(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=jr(t[r]);return e}s(rZe,"FromObject");function nZe(t){return t.map(e=>jr(e))}s(nZe,"FromArray");function iZe(t){return t.slice()}s(iZe,"FromTypedArray");function oZe(t){return new Map(jr([...t.entries()]))}s(oZe,"FromMap");function sZe(t){return new Set(jr([...t.entries()]))}s(sZe,"FromSet");function aZe(t){return new Date(t.toISOString())}s(aZe,"FromDate");function jr(t){if(St(t))return nZe(t);if(fa(t))return aZe(t);if(U0(t))return iZe(t);if(Ime(t))return oZe(t);if(xme(t))return sZe(t);if(hr(t))return rZe(t);if(Wc(t))return t;throw new Error("ValueClone: Unable to clone value")}s(jr,"Clone");var Xc=class extends Bt{static{s(this,"ValueCreateError")}constructor(e,r){super(r),this.schema=e}};function $r(t){return Cp(t)?t():jr(t)}s($r,"FromDefault");function cZe(t,e){return wt(t,"default")?$r(t.default):{}}s(cZe,"FromAny");function lZe(t,e){return{}}s(lZe,"FromArgument");function uZe(t,e){if(t.uniqueItems===!0&&!wt(t,"default"))throw new Xc(t,"Array with the uniqueItems constraint requires a default value");if("contains"in t&&!wt(t,"default"))throw new Xc(t,"Array with the contains constraint requires a default value");return"default"in t?$r(t.default):t.minItems!==void 0?Array.from({length:t.minItems}).map(r=>Xa(t.items,e)):[]}s(uZe,"FromArray");function fZe(t,e){return wt(t,"default")?$r(t.default):async function*(){}()}s(fZe,"FromAsyncIterator");function dZe(t,e){return wt(t,"default")?$r(t.default):BigInt(0)}s(dZe,"FromBigInt");function hZe(t,e){return wt(t,"default")?$r(t.default):!1}s(hZe,"FromBoolean");function AZe(t,e){if(wt(t,"default"))return $r(t.default);{let r=Xa(t.returns,e);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,o]of Object.entries(r)){let a=this;a[n]=o}}}:class{}}}s(AZe,"FromConstructor");function pZe(t,e){return wt(t,"default")?$r(t.default):t.minimumTimestamp!==void 0?new Date(t.minimumTimestamp):new Date}s(pZe,"FromDate");function mZe(t,e){return wt(t,"default")?$r(t.default):()=>Xa(t.returns,e)}s(mZe,"FromFunction");function gZe(t,e){let r=globalThis.Object.values(t.$defs),n=t.$defs[t.$ref];return Xa(n,[...e,...r])}s(gZe,"FromImport");function CZe(t,e){return wt(t,"default")?$r(t.default):t.minimum!==void 0?t.minimum:0}s(CZe,"FromInteger");function yZe(t,e){if(wt(t,"default"))return $r(t.default);{let r=t.allOf.reduce((n,o)=>{let a=Xa(o,e);return typeof a=="object"?{...n,...a}:a},{});if(!gr(t,e,r))throw new Xc(t,"Intersect produced invalid value. Consider using a default value.");return r}}s(yZe,"FromIntersect");function EZe(t,e){return wt(t,"default")?$r(t.default):function*(){}()}s(EZe,"FromIterator");function IZe(t,e){return wt(t,"default")?$r(t.default):t.const}s(IZe,"FromLiteral");function xZe(t,e){if(wt(t,"default"))return $r(t.default);throw new Xc(t,"Never types cannot be created. Consider using a default value.")}s(xZe,"FromNever");function vZe(t,e){if(wt(t,"default"))return $r(t.default);throw new Xc(t,"Not types must have a default value")}s(vZe,"FromNot");function bZe(t,e){return wt(t,"default")?$r(t.default):null}s(bZe,"FromNull");function _Ze(t,e){return wt(t,"default")?$r(t.default):t.minimum!==void 0?t.minimum:0}s(_Ze,"FromNumber");function TZe(t,e){if(wt(t,"default"))return $r(t.default);{let r=new Set(t.required),n={};for(let[o,a]of Object.entries(t.properties))r.has(o)&&(n[o]=Xa(a,e));return n}}s(TZe,"FromObject");function wZe(t,e){return wt(t,"default")?$r(t.default):Promise.resolve(Xa(t.item,e))}s(wZe,"FromPromise");function SZe(t,e){let[r,n]=Object.entries(t.patternProperties)[0];if(wt(t,"default"))return $r(t.default);if(r===sf||r===of)return{};{let o=r.slice(1,r.length-1).split("|"),a={};for(let c of o)a[c]=Xa(n,e);return a}}s(SZe,"FromRecord");function BZe(t,e){return wt(t,"default")?$r(t.default):Xa(Yr(t,e),e)}s(BZe,"FromRef");function RZe(t,e){if(wt(t,"default"))return $r(t.default);throw new Xc(t,"RegExp types cannot be created. Consider using a default value.")}s(RZe,"FromRegExp");function kZe(t,e){if(t.pattern!==void 0){if(wt(t,"default"))return $r(t.default);throw new Xc(t,"String types with patterns must specify a default value")}else if(t.format!==void 0){if(wt(t,"default"))return $r(t.default);throw new Xc(t,"String types with formats must specify a default value")}else return wt(t,"default")?$r(t.default):t.minLength!==void 0?Array.from({length:t.minLength}).map(()=>" ").join(""):""}s(kZe,"FromString");function DZe(t,e){return wt(t,"default")?$r(t.default):"value"in t?Symbol.for(t.value):Symbol()}s(DZe,"FromSymbol");function NZe(t,e){if(wt(t,"default"))return $r(t.default);if(!i9(t))throw new Xc(t,"Can only create template literals that produce a finite variants. Consider using a default value.");return SI(t)[0]}s(NZe,"FromTemplateLiteral");function QZe(t,e){if(oCe++>HZe)throw new Xc(t,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return wt(t,"default")?$r(t.default):Xa(Yr(t,e),e)}s(QZe,"FromThis");function PZe(t,e){return wt(t,"default")?$r(t.default):t.items===void 0?[]:Array.from({length:t.minItems}).map((r,n)=>Xa(t.items[n],e))}s(PZe,"FromTuple");function FZe(t,e){if(wt(t,"default"))return $r(t.default)}s(FZe,"FromUndefined");function LZe(t,e){if(wt(t,"default"))return $r(t.default);if(t.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Xa(t.anyOf[0],e)}s(LZe,"FromUnion");function MZe(t,e){return wt(t,"default")?$r(t.default):t.minByteLength!==void 0?new Uint8Array(t.minByteLength):new Uint8Array(0)}s(MZe,"FromUint8Array");function OZe(t,e){return wt(t,"default")?$r(t.default):{}}s(OZe,"FromUnknown");function UZe(t,e){if(wt(t,"default"))return $r(t.default)}s(UZe,"FromVoid");function qZe(t,e){if(wt(t,"default"))return $r(t.default);throw new Error("User defined types must specify a default value")}s(qZe,"FromKind");function Xa(t,e){let r=Go(t,e),n=t;switch(n[Ce]){case"Any":return cZe(n,r);case"Argument":return lZe(n,r);case"Array":return uZe(n,r);case"AsyncIterator":return fZe(n,r);case"BigInt":return dZe(n,r);case"Boolean":return hZe(n,r);case"Constructor":return AZe(n,r);case"Date":return pZe(n,r);case"Function":return mZe(n,r);case"Import":return gZe(n,r);case"Integer":return CZe(n,r);case"Intersect":return yZe(n,r);case"Iterator":return EZe(n,r);case"Literal":return IZe(n,r);case"Never":return xZe(n,r);case"Not":return vZe(n,r);case"Null":return bZe(n,r);case"Number":return _Ze(n,r);case"Object":return TZe(n,r);case"Promise":return wZe(n,r);case"Record":return SZe(n,r);case"Ref":return BZe(n,r);case"RegExp":return RZe(n,r);case"String":return kZe(n,r);case"Symbol":return DZe(n,r);case"TemplateLiteral":return NZe(n,r);case"This":return QZe(n,r);case"Tuple":return PZe(n,r);case"Undefined":return FZe(n,r);case"Union":return LZe(n,r);case"Uint8Array":return MZe(n,r);case"Unknown":return OZe(n,r);case"Void":return UZe(n,r);default:if(!da.Has(n[Ce]))throw new Xc(n,"Unknown type");return qZe(n,r)}}s(Xa,"Visit");var HZe=512,oCe=0;function z0(...t){return oCe=0,t.length===2?Xa(t[0],t[1]):Xa(t[0],[])}s(z0,"Create");var D9=class extends Bt{static{s(this,"ValueCastError")}constructor(e,r){super(r),this.schema=e}};function GZe(t,e,r){if(t[Ce]==="Object"&&typeof r=="object"&&!Jd(r)){let n=t,o=Object.getOwnPropertyNames(r),a=Object.entries(n.properties),[c,l]=[1/a.length,a.length];return a.reduce((u,[f,h])=>{let A=h[Ce]==="Literal"&&h.const===r[f]?l:0,p=gr(h,e,r[f])?c:0,m=o.includes(f)?c:0;return u+(A+p+m)},0)}else return gr(t,e,r)?1:0}s(GZe,"ScoreUnion");function VZe(t,e,r){let n=t.anyOf.map(c=>Yr(c,e)),[o,a]=[n[0],0];for(let c of n){let l=GZe(c,e,r);l>a&&(o=c,a=l)}return o}s(VZe,"SelectUnion");function WZe(t,e,r){if("default"in t)return typeof r=="function"?t.default:jr(t.default);{let n=VZe(t,e,r);return J5(n,e,r)}}s(WZe,"CastUnion");function YZe(t,e,r){return gr(t,e,r)?jr(r):z0(t,e)}s(YZe,"DefaultClone");function jZe(t,e,r){return gr(t,e,r)?r:z0(t,e)}s(jZe,"Default");function $Ze(t,e,r){if(gr(t,e,r))return jr(r);let n=St(r)?jr(r):z0(t,e),o=pt(t.minItems)&&n.length<t.minItems?[...n,...Array.from({length:t.minItems-n.length},()=>null)]:n,c=(pt(t.maxItems)&&o.length>t.maxItems?o.slice(0,t.maxItems):o).map(u=>Yl(t.items,e,u));if(t.uniqueItems!==!0)return c;let l=[...new Set(c)];if(!gr(t,e,l))throw new D9(t,"Array cast produced invalid data due to uniqueItems constraint");return l}s($Ze,"FromArray");function zZe(t,e,r){if(gr(t,e,r))return z0(t,e);let n=new Set(t.returns.required||[]),o=s(function(){},"result");for(let[a,c]of Object.entries(t.returns.properties))!n.has(a)&&r.prototype[a]===void 0||(o.prototype[a]=Yl(c,e,r.prototype[a]));return o}s(zZe,"FromConstructor");function KZe(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return Yl(o,[...e,...n],r)}s(KZe,"FromImport");function JZe(t,e,r){let n=z0(t,e),o=hr(n)&&hr(r)?{...n,...r}:r;return gr(t,e,o)?o:z0(t,e)}s(JZe,"FromIntersect");function XZe(t,e,r){throw new D9(t,"Never types cannot be cast")}s(XZe,"FromNever");function ZZe(t,e,r){if(gr(t,e,r))return r;if(r===null||typeof r!="object")return z0(t,e);let n=new Set(t.required||[]),o={};for(let[a,c]of Object.entries(t.properties))!n.has(a)&&r[a]===void 0||(o[a]=Yl(c,e,r[a]));if(typeof t.additionalProperties=="object"){let a=Object.getOwnPropertyNames(t.properties);for(let c of Object.getOwnPropertyNames(r))a.includes(c)||(o[c]=Yl(t.additionalProperties,e,r[c]))}return o}s(ZZe,"FromObject");function eet(t,e,r){if(gr(t,e,r))return jr(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return z0(t,e);let n=Object.getOwnPropertyNames(t.patternProperties)[0],o=t.patternProperties[n],a={};for(let[c,l]of Object.entries(r))a[c]=Yl(o,e,l);return a}s(eet,"FromRecord");function tet(t,e,r){return Yl(Yr(t,e),e,r)}s(tet,"FromRef");function ret(t,e,r){return Yl(Yr(t,e),e,r)}s(ret,"FromThis");function net(t,e,r){return gr(t,e,r)?jr(r):St(r)?t.items===void 0?[]:t.items.map((n,o)=>Yl(n,e,r[o])):z0(t,e)}s(net,"FromTuple");function iet(t,e,r){return gr(t,e,r)?jr(r):WZe(t,e,r)}s(iet,"FromUnion");function Yl(t,e,r){let n=Hr(t.$id)?Go(t,e):e,o=t;switch(t[Ce]){case"Array":return $Ze(o,n,r);case"Constructor":return zZe(o,n,r);case"Import":return KZe(o,n,r);case"Intersect":return JZe(o,n,r);case"Never":return XZe(o,n,r);case"Object":return ZZe(o,n,r);case"Record":return eet(o,n,r);case"Ref":return tet(o,n,r);case"This":return ret(o,n,r);case"Tuple":return net(o,n,r);case"Union":return iet(o,n,r);case"Date":case"Symbol":case"Uint8Array":return YZe(t,e,r);default:return jZe(o,n,r)}}s(Yl,"Visit");function J5(...t){return t.length===3?Yl(t[0],t[1],t[2]):Yl(t[0],[],t[1])}s(J5,"Cast");d();function oet(t){return Ep(t)&&t[Ce]!=="Unsafe"}s(oet,"IsCheckable");function set(t,e,r){return St(r)?r.map(n=>Za(t.items,e,n)):r}s(set,"FromArray");function aet(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return Za(o,[...e,...n],r)}s(aet,"FromImport");function cet(t,e,r){let n=t.unevaluatedProperties,a=t.allOf.map(l=>Za(l,e,jr(r))).reduce((l,u)=>hr(u)?{...l,...u}:u,{});if(!hr(r)||!hr(a)||!Ep(n))return a;let c=Ka(t);for(let l of Object.getOwnPropertyNames(r))c.includes(l)||gr(n,e,r[l])&&(a[l]=Za(n,e,r[l]));return a}s(cet,"FromIntersect");function uet(t,e,r){if(!hr(r)||St(r))return r;let n=t.additionalProperties;for(let o of Object.getOwnPropertyNames(r)){if(wt(t.properties,o)){r[o]=Za(t.properties[o],e,r[o]);continue}if(Ep(n)&&gr(n,e,r[o])){r[o]=Za(n,e,r[o]);continue}delete r[o]}return r}s(uet,"FromObject");function fet(t,e,r){if(!hr(r))return r;let n=t.additionalProperties,o=Object.getOwnPropertyNames(r),[a,c]=Object.entries(t.patternProperties)[0],l=new RegExp(a);for(let u of o){if(l.test(u)){r[u]=Za(c,e,r[u]);continue}if(Ep(n)&&gr(n,e,r[u])){r[u]=Za(n,e,r[u]);continue}delete r[u]}return r}s(fet,"FromRecord");function det(t,e,r){return Za(Yr(t,e),e,r)}s(det,"FromRef");function het(t,e,r){return Za(Yr(t,e),e,r)}s(het,"FromThis");function Aet(t,e,r){if(!St(r))return r;if(ti(t.items))return[];let n=Math.min(r.length,t.items.length);for(let o=0;o<n;o++)r[o]=Za(t.items[o],e,r[o]);return r.length>n?r.slice(0,n):r}s(Aet,"FromTuple");function pet(t,e,r){for(let n of t.anyOf)if(oet(n)&&gr(n,e,r))return Za(n,e,r);return r}s(pet,"FromUnion");function Za(t,e,r){let n=Hr(t.$id)?Go(t,e):e,o=t;switch(o[Ce]){case"Array":return set(o,n,r);case"Import":return aet(o,n,r);case"Intersect":return cet(o,n,r);case"Object":return uet(o,n,r);case"Record":return fet(o,n,r);case"Ref":return det(o,n,r);case"This":return het(o,n,r);case"Tuple":return Aet(o,n,r);case"Union":return pet(o,n,r);default:return r}}s(Za,"Visit");function N9(...t){return t.length===3?Za(t[0],t[1],t[2]):Za(t[0],[],t[1])}s(N9,"Clean");d();function Q9(t){return Hr(t)&&!isNaN(t)&&!isNaN(parseFloat(t))}s(Q9,"IsStringNumeric");function met(t){return hs(t)||nf(t)||pt(t)}s(met,"IsValueToString");function X5(t){return t===!0||pt(t)&&t===1||hs(t)&&t===BigInt("1")||Hr(t)&&(t.toLowerCase()==="true"||t==="1")}s(X5,"IsValueTrue");function Z5(t){return t===!1||pt(t)&&(t===0||Object.is(t,-0))||hs(t)&&t===BigInt("0")||Hr(t)&&(t.toLowerCase()==="false"||t==="0"||t==="-0")}s(Z5,"IsValueFalse");function get(t){return Hr(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}s(get,"IsTimeStringWithTimeZone");function Cet(t){return Hr(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}s(Cet,"IsTimeStringWithoutTimeZone");function yet(t){return Hr(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}s(yet,"IsDateTimeStringWithTimeZone");function Eet(t){return Hr(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}s(Eet,"IsDateTimeStringWithoutTimeZone");function Iet(t){return Hr(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(t)}s(Iet,"IsDateString");function xet(t,e){let r=aCe(t);return r===e?r:t}s(xet,"TryConvertLiteralString");function vet(t,e){let r=cCe(t);return r===e?r:t}s(vet,"TryConvertLiteralNumber");function bet(t,e){let r=sCe(t);return r===e?r:t}s(bet,"TryConvertLiteralBoolean");function _et(t,e){return Hr(t.const)?xet(e,t.const):pt(t.const)?vet(e,t.const):nf(t.const)?bet(e,t.const):e}s(_et,"TryConvertLiteral");function sCe(t){return X5(t)?!0:Z5(t)?!1:t}s(sCe,"TryConvertBoolean");function Tet(t){let e=s(r=>r.split(".")[0],"truncateInteger");return Q9(t)?BigInt(e(t)):pt(t)?BigInt(Math.trunc(t)):Z5(t)?BigInt(0):X5(t)?BigInt(1):t}s(Tet,"TryConvertBigInt");function aCe(t){return Xd(t)&&t.description!==void 0?t.description.toString():met(t)?t.toString():t}s(aCe,"TryConvertString");function cCe(t){return Q9(t)?parseFloat(t):X5(t)?1:Z5(t)?0:t}s(cCe,"TryConvertNumber");function wet(t){return Q9(t)?parseInt(t):pt(t)?Math.trunc(t):X5(t)?1:Z5(t)?0:t}s(wet,"TryConvertInteger");function Bet(t){return Hr(t)&&t.toLowerCase()==="null"?null:t}s(Bet,"TryConvertNull");function Ret(t){return Hr(t)&&t==="undefined"?void 0:t}s(Ret,"TryConvertUndefined");function ket(t){return fa(t)?t:pt(t)?new Date(t):X5(t)?new Date(1):Z5(t)?new Date(0):Q9(t)?new Date(parseInt(t)):Cet(t)?new Date(`1970-01-01T${t}.000Z`):get(t)?new Date(`1970-01-01T${t}`):Eet(t)?new Date(`${t}.000Z`):yet(t)?new Date(t):Iet(t)?new Date(`${t}T00:00:00.000Z`):t}s(ket,"TryConvertDate");function Det(t,e,r){return(St(r)?r:[r]).map(o=>jl(t.items,e,o))}s(Det,"FromArray");function Net(t,e,r){return Tet(r)}s(Net,"FromBigInt");function Qet(t,e,r){return sCe(r)}s(Qet,"FromBoolean");function Pet(t,e,r){return ket(r)}s(Pet,"FromDate");function Fet(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return jl(o,[...e,...n],r)}s(Fet,"FromImport");function Let(t,e,r){return wet(r)}s(Let,"FromInteger");function Met(t,e,r){return t.allOf.reduce((n,o)=>jl(o,e,n),r)}s(Met,"FromIntersect");function Oet(t,e,r){return _et(t,r)}s(Oet,"FromLiteral");function Uet(t,e,r){return Bet(r)}s(Uet,"FromNull");function qet(t,e,r){return cCe(r)}s(qet,"FromNumber");function Het(t,e,r){if(!hr(r))return r;for(let n of Object.getOwnPropertyNames(t.properties))wt(r,n)&&(r[n]=jl(t.properties[n],e,r[n]));return r}s(Het,"FromObject");function Get(t,e,r){if(!hr(r))return r;let o=Object.getOwnPropertyNames(t.patternProperties)[0],a=t.patternProperties[o];for(let[c,l]of Object.entries(r))r[c]=jl(a,e,l);return r}s(Get,"FromRecord");function Vet(t,e,r){return jl(Yr(t,e),e,r)}s(Vet,"FromRef");function Wet(t,e,r){return aCe(r)}s(Wet,"FromString");function Yet(t,e,r){return Hr(r)||pt(r)?Symbol(r):r}s(Yet,"FromSymbol");function jet(t,e,r){return jl(Yr(t,e),e,r)}s(jet,"FromThis");function $et(t,e,r){return St(r)&&!ti(t.items)?r.map((o,a)=>a<t.items.length?jl(t.items[a],e,o):o):r}s($et,"FromTuple");function zet(t,e,r){return Ret(r)}s(zet,"FromUndefined");function Ket(t,e,r){for(let n of t.anyOf){let o=jl(n,e,jr(r));if(gr(n,e,o))return o}return r}s(Ket,"FromUnion");function jl(t,e,r){let n=Go(t,e),o=t;switch(t[Ce]){case"Array":return Det(o,n,r);case"BigInt":return Net(o,n,r);case"Boolean":return Qet(o,n,r);case"Date":return Pet(o,n,r);case"Import":return Fet(o,n,r);case"Integer":return Let(o,n,r);case"Intersect":return Met(o,n,r);case"Literal":return Oet(o,n,r);case"Null":return Uet(o,n,r);case"Number":return qet(o,n,r);case"Object":return Het(o,n,r);case"Record":return Get(o,n,r);case"Ref":return Vet(o,n,r);case"String":return Wet(o,n,r);case"Symbol":return Yet(o,n,r);case"This":return jet(o,n,r);case"Tuple":return $et(o,n,r);case"Undefined":return zet(o,n,r);case"Union":return Ket(o,n,r);default:return r}}s(jl,"Visit");function P9(...t){return t.length===3?jl(t[0],t[1],t[2]):jl(t[0],[],t[1])}s(P9,"Convert");d();d();var VI=class extends Bt{static{s(this,"TransformDecodeCheckError")}constructor(e,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},_W=class extends Bt{static{s(this,"TransformDecodeError")}constructor(e,r,n,o){super(o instanceof Error?o.message:"Unknown error"),this.schema=e,this.path=r,this.value=n,this.error=o}};function pi(t,e,r){try{return en(t)?t[hi].Decode(r):r}catch(n){throw new _W(t,e,r,n)}}s(pi,"Default");function Jet(t,e,r,n){return St(n)?pi(t,r,n.map((o,a)=>$l(t.items,e,`${r}/${a}`,o))):pi(t,r,n)}s(Jet,"FromArray");function Xet(t,e,r,n){if(!hr(n)||Wc(n))return pi(t,r,n);let o=l9(t),a=o.map(h=>h[0]),c={...n};for(let[h,A]of o)h in c&&(c[h]=$l(A,e,`${r}/${h}`,c[h]));if(!en(t.unevaluatedProperties))return pi(t,r,c);let l=Object.getOwnPropertyNames(c),u=t.unevaluatedProperties,f={...c};for(let h of l)a.includes(h)||(f[h]=pi(u,`${r}/${h}`,f[h]));return pi(t,r,f)}s(Xet,"FromIntersect");function Zet(t,e,r,n){let o=globalThis.Object.values(t.$defs),a=t.$defs[t.$ref],c=$l(a,[...e,...o],r,n);return pi(t,r,c)}s(Zet,"FromImport");function ett(t,e,r,n){return pi(t,r,$l(t.not,e,r,n))}s(ett,"FromNot");function ttt(t,e,r,n){if(!hr(n))return pi(t,r,n);let o=Ka(t),a={...n};for(let f of o)wt(a,f)&&(ti(a[f])&&(!th(t.properties[f])||Un.IsExactOptionalProperty(a,f))||(a[f]=$l(t.properties[f],e,`${r}/${f}`,a[f])));if(!Ai(t.additionalProperties))return pi(t,r,a);let c=Object.getOwnPropertyNames(a),l=t.additionalProperties,u={...a};for(let f of c)o.includes(f)||(u[f]=pi(l,`${r}/${f}`,u[f]));return pi(t,r,u)}s(ttt,"FromObject");function rtt(t,e,r,n){if(!hr(n))return pi(t,r,n);let o=Object.getOwnPropertyNames(t.patternProperties)[0],a=new RegExp(o),c={...n};for(let h of Object.getOwnPropertyNames(n))a.test(h)&&(c[h]=$l(t.patternProperties[o],e,`${r}/${h}`,c[h]));if(!Ai(t.additionalProperties))return pi(t,r,c);let l=Object.getOwnPropertyNames(c),u=t.additionalProperties,f={...c};for(let h of l)a.test(h)||(f[h]=pi(u,`${r}/${h}`,f[h]));return pi(t,r,f)}s(rtt,"FromRecord");function ntt(t,e,r,n){let o=Yr(t,e);return pi(t,r,$l(o,e,r,n))}s(ntt,"FromRef");function itt(t,e,r,n){let o=Yr(t,e);return pi(t,r,$l(o,e,r,n))}s(itt,"FromThis");function ott(t,e,r,n){return St(n)&&St(t.items)?pi(t,r,t.items.map((o,a)=>$l(o,e,`${r}/${a}`,n[a]))):pi(t,r,n)}s(ott,"FromTuple");function stt(t,e,r,n){for(let o of t.anyOf){if(!gr(o,e,n))continue;let a=$l(o,e,r,n);return pi(t,r,a)}return pi(t,r,n)}s(stt,"FromUnion");function $l(t,e,r,n){let o=Go(t,e),a=t;switch(t[Ce]){case"Array":return Jet(a,o,r,n);case"Import":return Zet(a,o,r,n);case"Intersect":return Xet(a,o,r,n);case"Not":return ett(a,o,r,n);case"Object":return ttt(a,o,r,n);case"Record":return rtt(a,o,r,n);case"Ref":return ntt(a,o,r,n);case"Symbol":return pi(a,r,n);case"This":return itt(a,o,r,n);case"Tuple":return ott(a,o,r,n);case"Union":return stt(a,o,r,n);default:return pi(a,r,n)}}s($l,"Visit");function WI(t,e,r){return $l(t,e,"",r)}s(WI,"TransformDecode");d();var YI=class extends Bt{static{s(this,"TransformEncodeCheckError")}constructor(e,r,n){super("The encoded value does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},TW=class extends Bt{static{s(this,"TransformEncodeError")}constructor(e,r,n,o){super(`${o instanceof Error?o.message:"Unknown error"}`),this.schema=e,this.path=r,this.value=n,this.error=o}};function ps(t,e,r){try{return en(t)?t[hi].Encode(r):r}catch(n){throw new TW(t,e,r,n)}}s(ps,"Default");function att(t,e,r,n){let o=ps(t,r,n);return St(o)?o.map((a,c)=>zl(t.items,e,`${r}/${c}`,a)):o}s(att,"FromArray");function ctt(t,e,r,n){let o=globalThis.Object.values(t.$defs),a=t.$defs[t.$ref],c=ps(t,r,n);return zl(a,[...e,...o],r,c)}s(ctt,"FromImport");function ltt(t,e,r,n){let o=ps(t,r,n);if(!hr(n)||Wc(n))return o;let a=l9(t),c=a.map(A=>A[0]),l={...o};for(let[A,p]of a)A in l&&(l[A]=zl(p,e,`${r}/${A}`,l[A]));if(!en(t.unevaluatedProperties))return l;let u=Object.getOwnPropertyNames(l),f=t.unevaluatedProperties,h={...l};for(let A of u)c.includes(A)||(h[A]=ps(f,`${r}/${A}`,h[A]));return h}s(ltt,"FromIntersect");function utt(t,e,r,n){return ps(t.not,r,ps(t,r,n))}s(utt,"FromNot");function ftt(t,e,r,n){let o=ps(t,r,n);if(!hr(o))return o;let a=Ka(t),c={...o};for(let h of a)wt(c,h)&&(ti(c[h])&&(!th(t.properties[h])||Un.IsExactOptionalProperty(c,h))||(c[h]=zl(t.properties[h],e,`${r}/${h}`,c[h])));if(!Ai(t.additionalProperties))return c;let l=Object.getOwnPropertyNames(c),u=t.additionalProperties,f={...c};for(let h of l)a.includes(h)||(f[h]=ps(u,`${r}/${h}`,f[h]));return f}s(ftt,"FromObject");function dtt(t,e,r,n){let o=ps(t,r,n);if(!hr(n))return o;let a=Object.getOwnPropertyNames(t.patternProperties)[0],c=new RegExp(a),l={...o};for(let A of Object.getOwnPropertyNames(n))c.test(A)&&(l[A]=zl(t.patternProperties[a],e,`${r}/${A}`,l[A]));if(!Ai(t.additionalProperties))return l;let u=Object.getOwnPropertyNames(l),f=t.additionalProperties,h={...l};for(let A of u)c.test(A)||(h[A]=ps(f,`${r}/${A}`,h[A]));return h}s(dtt,"FromRecord");function htt(t,e,r,n){let o=Yr(t,e),a=zl(o,e,r,n);return ps(t,r,a)}s(htt,"FromRef");function Att(t,e,r,n){let o=Yr(t,e),a=zl(o,e,r,n);return ps(t,r,a)}s(Att,"FromThis");function ptt(t,e,r,n){let o=ps(t,r,n);return St(t.items)?t.items.map((a,c)=>zl(a,e,`${r}/${c}`,o[c])):[]}s(ptt,"FromTuple");function mtt(t,e,r,n){for(let o of t.anyOf){if(!gr(o,e,n))continue;let a=zl(o,e,r,n);return ps(t,r,a)}for(let o of t.anyOf){let a=zl(o,e,r,n);if(gr(t,e,a))return ps(t,r,a)}return ps(t,r,n)}s(mtt,"FromUnion");function zl(t,e,r,n){let o=Go(t,e),a=t;switch(t[Ce]){case"Array":return att(a,o,r,n);case"Import":return ctt(a,o,r,n);case"Intersect":return ltt(a,o,r,n);case"Not":return utt(a,o,r,n);case"Object":return ftt(a,o,r,n);case"Record":return dtt(a,o,r,n);case"Ref":return htt(a,o,r,n);case"This":return Att(a,o,r,n);case"Tuple":return ptt(a,o,r,n);case"Union":return mtt(a,o,r,n);default:return ps(a,r,n)}}s(zl,"Visit");function jI(t,e,r){return zl(t,e,"",r)}s(jI,"TransformEncode");d();function gtt(t,e){return en(t)||So(t.items,e)}s(gtt,"FromArray");function Ctt(t,e){return en(t)||So(t.items,e)}s(Ctt,"FromAsyncIterator");function ytt(t,e){return en(t)||So(t.returns,e)||t.parameters.some(r=>So(r,e))}s(ytt,"FromConstructor");function Ett(t,e){return en(t)||So(t.returns,e)||t.parameters.some(r=>So(r,e))}s(Ett,"FromFunction");function Itt(t,e){return en(t)||en(t.unevaluatedProperties)||t.allOf.some(r=>So(r,e))}s(Itt,"FromIntersect");function xtt(t,e){let r=globalThis.Object.getOwnPropertyNames(t.$defs).reduce((o,a)=>[...o,t.$defs[a]],[]),n=t.$defs[t.$ref];return en(t)||So(n,[...r,...e])}s(xtt,"FromImport");function vtt(t,e){return en(t)||So(t.items,e)}s(vtt,"FromIterator");function btt(t,e){return en(t)||So(t.not,e)}s(btt,"FromNot");function _tt(t,e){return en(t)||Object.values(t.properties).some(r=>So(r,e))||Ai(t.additionalProperties)&&So(t.additionalProperties,e)}s(_tt,"FromObject");function Ttt(t,e){return en(t)||So(t.item,e)}s(Ttt,"FromPromise");function wtt(t,e){let r=Object.getOwnPropertyNames(t.patternProperties)[0],n=t.patternProperties[r];return en(t)||So(n,e)||Ai(t.additionalProperties)&&en(t.additionalProperties)}s(wtt,"FromRecord");function Stt(t,e){return en(t)?!0:So(Yr(t,e),e)}s(Stt,"FromRef");function Btt(t,e){return en(t)?!0:So(Yr(t,e),e)}s(Btt,"FromThis");function Rtt(t,e){return en(t)||!ti(t.items)&&t.items.some(r=>So(r,e))}s(Rtt,"FromTuple");function ktt(t,e){return en(t)||t.anyOf.some(r=>So(r,e))}s(ktt,"FromUnion");function So(t,e){let r=Go(t,e),n=t;if(t.$id&&wW.has(t.$id))return!1;switch(t.$id&&wW.add(t.$id),t[Ce]){case"Array":return gtt(n,r);case"AsyncIterator":return Ctt(n,r);case"Constructor":return ytt(n,r);case"Function":return Ett(n,r);case"Import":return xtt(n,r);case"Intersect":return Itt(n,r);case"Iterator":return vtt(n,r);case"Not":return btt(n,r);case"Object":return _tt(n,r);case"Promise":return Ttt(n,r);case"Record":return wtt(n,r);case"Ref":return Stt(n,r);case"This":return Btt(n,r);case"Tuple":return Rtt(n,r);case"Union":return ktt(n,r);default:return en(t)}}s(So,"Visit");var wW=new Set;function ah(t,e){return wW.clear(),So(t,e)}s(ah,"HasTransform");function lCe(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]];if(!gr(e,r,n))throw new VI(e,n,ff(e,r,n).First());return ah(e,r)?WI(e,r,n):n}s(lCe,"Decode");d();function ch(t,e){let r=wt(t,"default")?t.default:void 0,n=Cp(r)?r():jr(r);return ti(e)?n:hr(e)&&hr(n)?Object.assign(n,e):e}s(ch,"ValueOrDefault");function SW(t){return Ep(t)&&"default"in t}s(SW,"HasDefaultProperty");function Dtt(t,e,r){if(St(r)){for(let o=0;o<r.length;o++)r[o]=pa(t.items,e,r[o]);return r}let n=ch(t,r);if(!St(n))return n;for(let o=0;o<n.length;o++)n[o]=pa(t.items,e,n[o]);return n}s(Dtt,"FromArray");function Ntt(t,e,r){return fa(r)?r:ch(t,r)}s(Ntt,"FromDate");function Qtt(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return pa(o,[...e,...n],r)}s(Qtt,"FromImport");function Ptt(t,e,r){let n=ch(t,r);return t.allOf.reduce((o,a)=>{let c=pa(a,e,n);return hr(c)?{...o,...c}:c},{})}s(Ptt,"FromIntersect");function Ftt(t,e,r){let n=ch(t,r);if(!hr(n))return n;let o=Object.getOwnPropertyNames(t.properties);for(let a of o){let c=pa(t.properties[a],e,n[a]);ti(c)||(n[a]=pa(t.properties[a],e,n[a]))}if(!SW(t.additionalProperties))return n;for(let a of Object.getOwnPropertyNames(n))o.includes(a)||(n[a]=pa(t.additionalProperties,e,n[a]));return n}s(Ftt,"FromObject");function Ltt(t,e,r){let n=ch(t,r);if(!hr(n))return n;let o=t.additionalProperties,[a,c]=Object.entries(t.patternProperties)[0],l=new RegExp(a);for(let u of Object.getOwnPropertyNames(n))l.test(u)&&SW(c)&&(n[u]=pa(c,e,n[u]));if(!SW(o))return n;for(let u of Object.getOwnPropertyNames(n))l.test(u)||(n[u]=pa(o,e,n[u]));return n}s(Ltt,"FromRecord");function Mtt(t,e,r){return pa(Yr(t,e),e,ch(t,r))}s(Mtt,"FromRef");function Ott(t,e,r){return pa(Yr(t,e),e,r)}s(Ott,"FromThis");function Utt(t,e,r){let n=ch(t,r);if(!St(n)||ti(t.items))return n;let[o,a]=[t.items,Math.max(t.items.length,n.length)];for(let c=0;c<a;c++)c<o.length&&(n[c]=pa(o[c],e,n[c]));return n}s(Utt,"FromTuple");function qtt(t,e,r){let n=ch(t,r);for(let o of t.anyOf){let a=pa(o,e,jr(n));if(gr(o,e,a))return a}return n}s(qtt,"FromUnion");function pa(t,e,r){let n=Go(t,e),o=t;switch(o[Ce]){case"Array":return Dtt(o,n,r);case"Date":return Ntt(o,n,r);case"Import":return Qtt(o,n,r);case"Intersect":return Ptt(o,n,r);case"Object":return Ftt(o,n,r);case"Record":return Ltt(o,n,r);case"Ref":return Mtt(o,n,r);case"This":return Ott(o,n,r);case"Tuple":return Utt(o,n,r);case"Union":return qtt(o,n,r);default:return ch(o,r)}}s(pa,"Visit");function F9(...t){return t.length===3?pa(t[0],t[1],t[2]):pa(t[0],[],t[1])}s(F9,"Default");d();d();var Kl={};Ei(Kl,{Delete:()=>Gtt,Format:()=>eT,Get:()=>Wtt,Has:()=>Vtt,Set:()=>Htt,ValuePointerRootDeleteError:()=>M9,ValuePointerRootSetError:()=>L9});d();var L9=class extends Bt{static{s(this,"ValuePointerRootSetError")}constructor(e,r,n){super("Cannot set root value"),this.value=e,this.path=r,this.update=n}},M9=class extends Bt{static{s(this,"ValuePointerRootDeleteError")}constructor(e,r){super("Cannot delete root value"),this.value=e,this.path=r}};function uCe(t){return t.indexOf("~")===-1?t:t.replace(/~1/g,"/").replace(/~0/g,"~")}s(uCe,"Escape");function*eT(t){if(t==="")return;let[e,r]=[0,0];for(let n=0;n<t.length;n++)t.charAt(n)==="/"?(n===0||(r=n,yield uCe(t.slice(e,r))),e=n+1):r=n;yield uCe(t.slice(e))}s(eT,"Format");function Htt(t,e,r){if(e==="")throw new L9(t,e,r);let[n,o,a]=[null,t,""];for(let c of eT(e))o[c]===void 0&&(o[c]={}),n=o,o=o[c],a=c;n[a]=r}s(Htt,"Set");function Gtt(t,e){if(e==="")throw new M9(t,e);let[r,n,o]=[null,t,""];for(let a of eT(e)){if(n[a]===void 0||n[a]===null)return;r=n,n=n[a],o=a}if(Array.isArray(r)){let a=parseInt(o);r.splice(a,1)}else delete r[o]}s(Gtt,"Delete");function Vtt(t,e){if(e==="")return!0;let[r,n,o]=[null,t,""];for(let a of eT(e)){if(n[a]===void 0)return!1;r=n,n=n[a],o=a}return Object.getOwnPropertyNames(r).includes(o)}s(Vtt,"Has");function Wtt(t,e){if(e==="")return t;let r=t;for(let n of eT(e)){if(r[n]===void 0)return;r=r[n]}return r}s(Wtt,"Get");d();function Ytt(t,e){if(!hr(e))return!1;let r=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],n=[...Object.keys(e),...Object.getOwnPropertySymbols(e)];return r.length!==n.length?!1:r.every(o=>H1(t[o],e[o]))}s(Ytt,"ObjectType");function jtt(t,e){return fa(e)&&t.getTime()===e.getTime()}s(jtt,"DateType");function $tt(t,e){return!St(e)||t.length!==e.length?!1:t.every((r,n)=>H1(r,e[n]))}s($tt,"ArrayType");function ztt(t,e){return!U0(e)||t.length!==e.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(e).constructor.name?!1:t.every((r,n)=>H1(r,e[n]))}s(ztt,"TypedArrayType");function Ktt(t,e){return t===e}s(Ktt,"ValueType");function H1(t,e){if(fa(t))return jtt(t,e);if(U0(t))return ztt(t,e);if(St(t))return $tt(t,e);if(hr(t))return Ytt(t,e);if(Wc(t))return Ktt(t,e);throw new Error("ValueEquals: Unable to compare value")}s(H1,"Equal");var Jtt=rn({type:Nr("insert"),path:ha(),value:Gl()}),Xtt=rn({type:Nr("update"),path:ha(),value:Gl()}),Ztt=rn({type:Nr("delete"),path:ha()}),dCe=tn([Jtt,Xtt,Ztt]),O9=class extends Bt{static{s(this,"ValueDiffError")}constructor(e,r){super(r),this.value=e}};function U9(t,e){return{type:"update",path:t,value:e}}s(U9,"CreateUpdate");function hCe(t,e){return{type:"insert",path:t,value:e}}s(hCe,"CreateInsert");function ACe(t){return{type:"delete",path:t}}s(ACe,"CreateDelete");function fCe(t){if(globalThis.Object.getOwnPropertySymbols(t).length>0)throw new O9(t,"Cannot diff objects with symbols")}s(fCe,"AssertDiffable");function*ert(t,e,r){if(fCe(e),fCe(r),!SV(r))return yield U9(t,r);let n=globalThis.Object.getOwnPropertyNames(e),o=globalThis.Object.getOwnPropertyNames(r);for(let a of o)wt(e,a)||(yield hCe(`${t}/${a}`,r[a]));for(let a of n)wt(r,a)&&(H1(e,r)||(yield*q9(`${t}/${a}`,e[a],r[a])));for(let a of n)wt(r,a)||(yield ACe(`${t}/${a}`))}s(ert,"ObjectType");function*trt(t,e,r){if(!St(r))return yield U9(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*q9(`${t}/${n}`,e[n],r[n]);for(let n=0;n<r.length;n++)n<e.length||(yield hCe(`${t}/${n}`,r[n]));for(let n=e.length-1;n>=0;n--)n<r.length||(yield ACe(`${t}/${n}`))}s(trt,"ArrayType");function*rrt(t,e,r){if(!U0(r)||e.length!==r.length||globalThis.Object.getPrototypeOf(e).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield U9(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*q9(`${t}/${n}`,e[n],r[n])}s(rrt,"TypedArrayType");function*nrt(t,e,r){e!==r&&(yield U9(t,r))}s(nrt,"ValueType");function*q9(t,e,r){if(SV(e))return yield*ert(t,e,r);if(St(e))return yield*trt(t,e,r);if(U0(e))return yield*rrt(t,e,r);if(Wc(e))return yield*nrt(t,e,r);throw new O9(e,"Unable to diff value")}s(q9,"Visit");function pCe(t,e){return[...q9("",t,e)]}s(pCe,"Diff");function irt(t){return t.length>0&&t[0].path===""&&t[0].type==="update"}s(irt,"IsRootUpdate");function ort(t){return t.length===0}s(ort,"IsIdentity");function mCe(t,e){if(irt(e))return jr(e[0].value);if(ort(e))return jr(t);let r=jr(t);for(let n of e)switch(n.type){case"insert":{Kl.Set(r,n.path,n.value);break}case"update":{Kl.Set(r,n.path,n.value);break}case"delete":{Kl.Delete(r,n.path);break}}return r}s(mCe,"Patch");d();function gCe(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]],o=ah(e,r)?jI(e,r,n):n;if(!gr(e,r,o))throw new YI(e,o,ff(e,r,o).First());return o}s(gCe,"Encode");d();function H9(t){return hr(t)&&!St(t)}s(H9,"IsStandardObject");var G9=class extends Bt{static{s(this,"ValueMutateError")}constructor(e){super(e)}};function srt(t,e,r,n){if(!H9(r))Kl.Set(t,e,jr(n));else{let o=Object.getOwnPropertyNames(r),a=Object.getOwnPropertyNames(n);for(let c of o)a.includes(c)||delete r[c];for(let c of a)o.includes(c)||(r[c]=null);for(let c of a)BW(t,`${e}/${c}`,r[c],n[c])}}s(srt,"ObjectType");function art(t,e,r,n){if(!St(r))Kl.Set(t,e,jr(n));else{for(let o=0;o<n.length;o++)BW(t,`${e}/${o}`,r[o],n[o]);r.splice(n.length)}}s(art,"ArrayType");function crt(t,e,r,n){if(U0(r)&&r.length===n.length)for(let o=0;o<r.length;o++)r[o]=n[o];else Kl.Set(t,e,jr(n))}s(crt,"TypedArrayType");function lrt(t,e,r,n){r!==n&&Kl.Set(t,e,n)}s(lrt,"ValueType");function BW(t,e,r,n){if(St(n))return art(t,e,r,n);if(U0(n))return crt(t,e,r,n);if(H9(n))return srt(t,e,r,n);if(Wc(n))return lrt(t,e,r,n)}s(BW,"Visit");function CCe(t){return U0(t)||Wc(t)}s(CCe,"IsNonMutableValue");function urt(t,e){return H9(t)&&St(e)||St(t)&&H9(e)}s(urt,"IsMismatchedValue");function yCe(t,e){if(CCe(t)||CCe(e))throw new G9("Only object and array types can be mutated at the root level");if(urt(t,e))throw new G9("Cannot assign due type mismatch of assignable values");BW(t,"",t,e)}s(yCe,"Mutate");d();var V9=class extends Bt{static{s(this,"ParseError")}constructor(e){super(e)}},RW;(function(t){let e=new Map([["Assert",(a,c,l)=>(k9(a,c,l),l)],["Cast",(a,c,l)=>J5(a,c,l)],["Clean",(a,c,l)=>N9(a,c,l)],["Clone",(a,c,l)=>jr(l)],["Convert",(a,c,l)=>P9(a,c,l)],["Decode",(a,c,l)=>ah(a,c)?WI(a,c,l):l],["Default",(a,c,l)=>F9(a,c,l)],["Encode",(a,c,l)=>ah(a,c)?jI(a,c,l):l]]);function r(a){e.delete(a)}s(r,"Delete"),t.Delete=r;function n(a,c){e.set(a,c)}s(n,"Set"),t.Set=n;function o(a){return e.get(a)}s(o,"Get"),t.Get=o})(RW||(RW={}));var ECe=["Clone","Clean","Default","Convert","Assert","Decode"];function frt(t,e,r,n){return t.reduce((o,a)=>{let c=RW.Get(a);if(ti(c))throw new V9(`Unable to find Parse operation '${a}'`);return c(e,r,o)},n)}s(frt,"ParseValue");function ICe(...t){let[e,r,n,o]=t.length===4?[t[0],t[1],t[2],t[3]]:t.length===3?St(t[0])?[t[0],t[1],[],t[2]]:[ECe,t[0],t[1],t[2]]:t.length===2?[ECe,t[0],[],t[1]]:(()=>{throw new V9("Invalid Arguments")})();return frt(e,r,n,o)}s(ICe,"Parse");d();var Bp={};Ei(Bp,{Assert:()=>k9,Cast:()=>J5,Check:()=>gr,Clean:()=>N9,Clone:()=>jr,Convert:()=>P9,Create:()=>z0,Decode:()=>lCe,Default:()=>F9,Diff:()=>pCe,Edit:()=>dCe,Encode:()=>gCe,Equal:()=>H1,Errors:()=>ff,Hash:()=>wp,Mutate:()=>yCe,Parse:()=>ICe,Patch:()=>mCe,ValueErrorIterator:()=>Sp});d();var drt="gpt-4o-copilot",G1=class t{constructor(e,r=!0){this._ctx=e;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&ba(this._ctx,n=>this.refreshAvailableModels(n))}static{s(this,"AvailableModelsManager")}async refreshAvailableModels(e){await this.refreshModels(e);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(e){this.onModelsFetchedCallbacks.push(e)}getDefaultModelId(){if(this.fetchedModelData){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(e)return e.id}return drt}parseModelsResponse(e){try{return Bp.Parse(Q1e,e)}catch(r){Ri.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(e){let r=await this.fetchModels(e);r&&(this.fetchedModelData=r)}async fetchModels(e){return this.customModels=e.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=e.getTokenValue("editor_preview_features")=="0",await this.fetch(e)}async fetch(e){let r=await xV(this._ctx,"/models",e);return r.ok?this.parseModelsResponse(await r.json())?.data??[]:(Ri.error(this._ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),null)}getGenericCompletionModels(){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return t.mapCompletionModels(e)}getTokenizerForModel(e){let n=this.getGenericCompletionModels().find(o=>o.modelId===e);return n?n.tokenizer:"o200k_base"}static filterCompletionModels(e,r){return e.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(e,r){return e.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(e){return e.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview,tokenizer:r.capabilities.tokenizer}))}getCurrentModelRequestInfo(e=void 0){let r=this.getDefaultModelId(),n=P1e(this._ctx);if(n){let l=this.getGenericCompletionModels().map(u=>u.modelId);l.includes(n)||(l.length>0&&Ri.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let o=Hi(this._ctx,st.DebugOverrideEngine)||Hi(this._ctx,st.DebugOverrideEngineLegacy);if(o)return new Rp(o,"override");let a=e?this._ctx.get(Ot).customEngine(e):"",c=e?this._ctx.get(Ot).customEngineTargetEngine(e):void 0;return n?a&&c&&n===c?new Rp(a,"exp"):new Rp(n,"modelpicker"):a?new Rp(a,"exp"):this.customModels.length>0?new Rp(this.customModels[0],"custommodel"):new Rp(r,"default")}},Rp=class{constructor(e,r){this.modelId=e;this.modelChoiceSource=r}static{s(this,"ModelRequestInfo")}get headers(){return{}}};function rT(t,e=void 0){let r=t.get(G1),n=r.getCurrentModelRequestInfo(e),o=r.getTokenizerForModel(n.modelId);return{headers:n.headers,modelId:n.modelId,engineChoiceSource:n.modelChoiceSource,tokenizer:o}}s(rT,"getEngineRequestInfo");d();d();var Yo=class{static{s(this,"FileSystem")}};var OCe=We(MCe());function UCe(t){if(t===void 0||t===0)return"";let e=nT(t);if(e==="github/github")return e;let r=Mrt(t)?.toLowerCase();return r!==void 0?r:""}s(UCe,"getDogFood");function nT(t){if(t!==void 0&&t!==0&&t.hostname==="github.com")return t.owner+"/"+t.repo}s(nT,"tryGetGitHubNWO");function Mrt(t){if(t!==void 0&&t!==0&&(t.hostname.endsWith("azure.com")||t.hostname.endsWith("visualstudio.com")))return t.owner+"/"+t.repo}s(Mrt,"tryGetADONWO");function QW(t,e){let r=td(e);return Ort(t,r)}s(QW,"extractRepoInfoInBackground");var Ort=Vrt(Urt,1e4);async function Urt(t,e){let r=Yre(e);if(!r)return;let n=await Hrt(t,r);if(!n)return;let o=t.get(Yo),a=Do(n,".git","config"),c;try{c=await o.readFileString(a)}catch{return}let l=Grt(c)??"",u=qrt(l),f={uri:n};return u===void 0?{baseFolder:f,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:f,url:l,...u}}s(Urt,"extractRepoInfo");function qrt(t){let e;try{if(e=(0,OCe.default)(t),e.resource==""||e.owner==""||e.name==""||e.pathname=="")return}catch{return}return{hostname:e.resource,owner:e.owner,repo:e.name,pathname:e.pathname}}s(qrt,"parseRepoUrl");async function Hrt(t,e){let r=e+"_add_to_make_longer",n=t.get(Yo);for(;e!=="file:///"&&e.length<r.length;){let o=Do(e,".git","config"),a=!1;try{await n.stat(o),a=!0}catch{a=!1}if(a)return e;r=e,e=td(e)}}s(Hrt,"getRepoBaseUri");function Grt(t){let e=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,o=/^\s*\[/,a,c,l=!1;for(let u of t.split(`
`))if(l&&a!==void 0){if(a+=u,u.endsWith("\\"))a=a.substring(0,a.length-1);else if(l=!1,c==="origin")return a}else{let f=u.match(e)??u.match(r);if(f)c=f[1];else if(u.match(o))c=void 0;else{if(a&&c!=="origin")continue;{let h=u.match(n);if(h){if(a=h[1],a.endsWith("\\"))a=a.substring(0,a.length-1),l=!0;else if(c==="origin")return a}}}}return a}s(Grt,"getRepoUrlFromConfigText");var NW=class{static{s(this,"CompletedComputation")}constructor(e){this.result=e}};function Vrt(t,e){let r=new vr(e),n=new Set;return(o,...a)=>{let c=JSON.stringify(a),l=r.get(c);if(l)return l.result;if(n.has(c))return 0;let u=t(o,...a);return n.add(c),u.then(f=>{r.set(c,new NW(f)),n.delete(c)}),0}}s(Vrt,"computeInBackgroundAndMemoize");d();var iT=500,qCe=8192-iT,HCe=4,W9=10,GCe=1e3*5,Y9={prefix:35,suffix:15,stableContext:35,volatileContext:15},Wrt={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function oT(t){return t=t.toLowerCase(),Wrt[t]??t}s(oT,"normalizeLanguageId");var PW=class{constructor(e){this.ctx=e;this.cache=new vr(200)}static{s(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(e,r){let n=e.stringify()+`
`+JSON.stringify(r),o=this.cache.get(n);return o||(o=new FW(()=>this.ctx.get(Dg).fetchExperiments(this.ctx,r,e.toHeaders()),1e3*60*60),this.cache.set(n,o)),o.run()}getCachedExpConfig(e){return this.cache.get(e.stringify())?.value()}},FW=class{constructor(e,r=1/0){this.producer=e;this.expirationMs=r}static{s(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(e){try{this.result=await e}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function jrt(t){return"uri"in t}s(jrt,"isCompletionsFiltersInfo");var Ot=class t{constructor(e){this.ctx=e;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new PW(this.ctx)}static{s(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(e){Object.assign(this.staticFilters,e)}registerDynamicFilter(e,r){this.dynamicFilters[e]=r}registerDynamicFilterGroup(e){this.dynamicFilterGroups.push(e)}getDynamicFilterValues(){let e={};for(let r of this.dynamicFilterGroups)Object.assign(e,r());for(let[r,n]of Object.entries(this.dynamicFilters))e[r]=n();return e}registerUpcomingDynamicFilter(e,r){this.upcomingDynamicFilters[e]=r}async updateExPValuesAndAssignments(e,r,n=xr.createAndMarkAsIssued()){if(n instanceof sT)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let o=r&&jrt(r)?QW(this.ctx,r.uri):void 0,a=nT(o)??"",c=UCe(o)??"",l=r?.languageId??"",u=rT(this.ctx).modelId,f=Ste(e),h=e.getTokenValue("ft")??"",A=e.getTokenValue("ol")??"",p=e.getTokenValue("cml")??"",m=e.getTokenValue("tid")??"",g=e.endpoints,y={"X-Copilot-Repository":a,"X-Copilot-FileType":l,"X-Copilot-UserKind":f,"X-Copilot-Dogfood":c,"X-Copilot-Engine":u,"X-Copilot-CustomModel":h,"X-Copilot-Orgs":A,"X-Copilot-CustomModelNames":p,"X-Copilot-CopilotTrackingId":m},E=this.getGranularityDirectory(),I=this.makeFilterSettings(y),x=E.extendFilters(I),v=await this.getExpConfig(x.newFilterSettings,g);E.update(I,+(v.variables.copilotbycallbuckets??NaN),+(v.variables.copilottimeperiodsizeinh??NaN));let b=E.extendFilters(I),_=b.newFilterSettings,S=await this.getExpConfig(_,g),w=new Promise(L=>setTimeout(L,t.upcomingDynamicFilterCheckDelayMs));for(let L of b.otherFilterSettingsToPrefetch)w=w.then(async()=>{await new Promise(M=>setTimeout(M,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(L,g)});return this.prepareForUpcomingFilters(_,g),new sT(n.properties,n.measurements,n.issuedTime,{filters:_,exp:S})}async fetchTokenAndUpdateExPValuesAndAssignments(e,r){let n=await this.ctx.get(yn).getToken();return await this.updateExPValuesAndAssignments(n,e,r)}getGranularityDirectory(){if(!this.granularityDirectory){let e=this.ctx.get(ko).machineId;this.granularityDirectory=new l8(e,this.ctx.get(kg))}return this.granularityDirectory}makeFilterSettings(e){return new Ng({...this.staticFilters,...this.getDynamicFilterValues(),...e})}async getExpConfig(e,r){try{return this.assignments.fetchExpConfig(e,r)}catch(n){return Sl.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(n)}`)}}async prepareForUpcomingFilters(e,r){if(!(new Date().getMinutes()<60-t.upcomingTimeBucketMinutes))for(let[n,o]of Object.entries(this.upcomingDynamicFilters))await new Promise(a=>setTimeout(a,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(e.withChange(n,o()),r)}stringify(){let e=this.assignments.getCachedExpConfig(new Ng({}));return JSON.stringify(e?.variables??{})}async getFallbackExpAndFilters(){let e=this.makeFilterSettings({}),r=PS(this.ctx),n=await this.getExpConfig(e,r);return{filters:e,exp:n}}disableLogProb(e){return e.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(e){return e.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(e){return e.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(e){return e.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(e){return e.filtersAndExp.exp.variables.CopilotSuffixPercent??Y9.suffix}suffixMatchThreshold(e){return e.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??W9}cppHeadersEnableSwitch(e){return e.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}contextProviders(e){let r=e.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}contextProviderTimeBudget(e){return e.filtersAndExp.exp.variables.copilotcontextprovidertimebudget??150}includeNeighboringFiles(e){return e.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}excludeRelatedFiles(e){return e.filtersAndExp.exp.variables.copilotexcluderelatedfiles??!1}maxPromptCompletionTokens(e){return e.filtersAndExp.exp.variables.maxpromptcompletionTokens??qCe+iT}ideChatMaxRequestTokens(e){return e.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(e){return e.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(e){return e.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideEnableCopilotAgentAsDefault(e){return e.filtersAndExp.exp.variables.ideenablecopilotagentasdefault??!1}ideDataMigrationCompleted(e){return e.filtersAndExp.exp.variables.idedatamigrationcompleted??!1}workspaceContextCoordinator(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextcoordinator??!1}workspaceContextCacheTime(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextcachetime??GCe}stableContextPercent(e){return e.filtersAndExp.exp.variables.copilotstablecontextpercent??Y9.stableContext}volatileContextPercent(e){return e.filtersAndExp.exp.variables.copilotvolatilecontextpercent??Y9.volatileContext}cppContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotjavacontextproviderparams}multiLanguageContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotmultilanguagecontextproviderparams}tsContextProviderParams(e){return e.filtersAndExp.exp.variables.copilottscontextproviderparams}completionsDebounce(e){return e.filtersAndExp.exp.variables.copilotcompletionsdebounce}enableElectronFetcher(e){return e.filtersAndExp.exp.variables.copilotelectronfetcher??!1}enableFetchFetcher(e){return e.filtersAndExp.exp.variables.copilotfetchfetcher??!1}asyncCompletionsTimeout(e){return e.filtersAndExp.exp.variables.copilotasynccompletionstimeout??200}enablePromptContextProxyField(e){return e.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(e){return e.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(e){return e.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!0}longLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??9}shortLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}maxMultilineTokens(e){return e.filtersAndExp.exp.variables.copilotmaxmultilinetokens??200}multilineAfterAcceptLines(e){return e.filtersAndExp.exp.variables.copilotmultilineafteracceptlines??1}enableNESXTab(e){return e.filtersAndExp.exp.variables.copilotnesxtab??!1}getNESXTabModelID(e){return e.filtersAndExp.exp.variables.copilotnesxtabmodelid??"copilot-nes-xtab"}completionsDelay(e){return e.filtersAndExp.exp.variables.copilotcompletionsdelay??200}singleLineUnlessAccepted(e){return e.filtersAndExp.exp.variables.copilotsinglelineunlessaccepted??!1}useCompletionsComparisonPanel(e){return e.filtersAndExp.exp.variables.copilotusecompletionscomparisonpanel??!1}comparisonPanelModelIds(e){return e.filtersAndExp.exp.variables.copilotcomparisonpanelmodelids??""}comparisonPanelRandomizedMode(e){return e.filtersAndExp.exp.variables.copilotcomparisonpanelrandomizedmode??!0}};d();d();d();var j9=We(VCe());var MW={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c-sharp",java:"java",php:"php",c:"cpp",cpp:"cpp"};function aT(t){return t in MW&&t!=="csharp"&&t!=="java"&&t!=="php"&&t!=="c"&&t!=="cpp"}s(aT,"isSupportedLanguageId");function WCe(t){if(!(t in MW))throw new Error(`Unrecognized language: ${t}`);return MW[t]}s(WCe,"languageIdToWasmLanguage");var LW=new Map;async function $rt(t){let e;try{e=await v9(`tree-sitter-${t}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new OI(`Could not load tree-sitter-${t}.wasm`,r):r}return j9.default.Language.load(e)}s($rt,"loadWasmLanguage");function zrt(t){let e=WCe(t);if(!LW.has(e)){let r=$rt(e);LW.set(e,r)}return LW.get(e)}s(zrt,"getLanguage");var OW=class extends Error{static{s(this,"WrappedError")}constructor(e,r){super(e,{cause:r})}};async function $I(t,e){return(await UW(t,e))[0]}s($I,"parseTreeSitter");async function UW(t,e){await j9.default.init({locateFile:s(a=>sW(a),"locateFile")});let r;try{r=new j9.default}catch(a){throw a&&typeof a=="object"&&"message"in a&&typeof a.message=="string"&&a.message.includes("table index is out of bounds")?new OW(`Could not init Parse for language <${t}>`,a):a}let n=await zrt(t);r.setLanguage(n);let o=r.parse(e);return r.delete(),[o,n.version]}s(UW,"parseTreeSitterIncludingVersion");function Krt(t,e){let r=[];for(let n of t){if(!n[1]){let o=e.tree.getLanguage();n[1]=o.query(n[0])}r.push(...n[1].matches(e))}return r}s(Krt,"innerQuery");var Jrt=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function YCe(t){return Krt([Jrt],t).length==1}s(YCe,"queryPythonIsDocstring");var df=class{constructor(e){this.node=e;this.children=[];this.collapsed=!1}static{s(this,"StatementNode")}addChild(e){e.parent=this,e.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=e),this.children.push(e)}childrenFinished(){}containsStatement(e){return this.node.startIndex<=e.node.startIndex&&this.node.endIndex>=e.node.endIndex}statementAt(e){if(this.node.startIndex>e||this.node.endIndex<e)return;let r;return this.children.find(n=>(r=n.statementAt(e),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(e="",r=""){let n=[`${e}${this.description}`];return this.children.forEach(o=>{n.push(o.dump(`${r}+- `,o.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(e="",r="",n=!1){if(this.parent){let o=this.parent.dumpPath(e,r,!0),a=o.length-o.lastIndexOf(`
`)-1-r.length,c=" ".repeat(a),l=n?`
${r}${c}+- `:"";return o+this.description+l}else{let o=n?`
${r}+- `:"";return e+this.description+o}}},ms=class{constructor(e,r,n,o){this.languageId=e;this.text=r;this.startOffset=n;this.endOffset=o;this.statements=[]}static{s(this,"StatementTree")}static isSupported(e){return zI.languageIds.has(e)||KI.languageIds.has(e)||cT.languageIds.has(e)||JI.languageIds.has(e)||lT.languageIds.has(e)||uT.languageIds.has(e)||fT.languageIds.has(e)||dT.languageIds.has(e)||hT.languageIds.has(e)}static isTrimmedByDefault(e){return zI.languageIds.has(e)||KI.languageIds.has(e)||JI.languageIds.has(e)}static create(e,r,n,o){if(zI.languageIds.has(e))return new zI(e,r,n,o);if(KI.languageIds.has(e))return new KI(e,r,n,o);if(cT.languageIds.has(e))return new cT(e,r,n,o);if(JI.languageIds.has(e))return new JI(e,r,n,o);if(fT.languageIds.has(e))return new fT(e,r,n,o);if(lT.languageIds.has(e))return new lT(e,r,n,o);if(uT.languageIds.has(e))return new uT(e,r,n,o);if(dT.languageIds.has(e))return new dT(e,r,n,o);if(hT.languageIds.has(e))return new hT(e,r,n,o);throw new Error(`Unsupported languageId: ${e}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(e){let r;return this.statements.find(n=>(r=n.statementAt(e),r!==void 0)),r}async build(){let e=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,{startPosition:this.offsetToPosition(this.startOffset),endPosition:this.offsetToPosition(this.endOffset)}).forEach(o=>{let a=this.createNode(o.node);for(;e.length>0&&!e[0].containsStatement(a);)e.shift()?.childrenFinished();e.length>0?e[0].addChild(a):this.addStatement(a),e.unshift(a)}),e.forEach(o=>o.childrenFinished())}addStatement(e){e.parent=void 0,e.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=e),this.statements.push(e)}async parse(){return this.tree||(this.tree=await $I(this.languageId,this.text)),this.tree}getStatementQuery(e){return this.getQuery(e.getLanguage(),this.getStatementQueryText())}getQuery(e,r){return e.query(r)}offsetToPosition(e){let r=this.text.slice(0,e).split(`
`),n=r.length-1,o=r[r.length-1].length;return{row:n,column:o}}dump(e=""){let r=[];return this.statements.forEach((n,o)=>{let a=`[${o}]`,c=" ".repeat(a.length);r.push(n.dump(`${e} ${a} `,`${e} ${c} `))}),r.join(`
`)}},$9=class t extends df{static{s(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("alternative")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},zI=class extends ms{static{s(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx"])}createNode(e){return new $9(e)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (field_definition)
        ] @statement`}},KI=class extends ms{static{s(this,"TSStatementTree")}static{this.languageIds=new Set(["typescript","typescriptreact"])}createNode(e){return new $9(e)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},qW=class t extends df{static{s(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},cT=class extends ms{static{s(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(e){return new qW(e)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},HW=class t extends df{static{s(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},JI=class extends ms{static{s(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(e){return new HW(e)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},GW=class t extends df{static{s(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},lT=class extends ms{static{s(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(e){return new GW(e)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},VW=class t extends df{static{s(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},uT=class extends ms{static{s(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(e){return new VW(e)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},WW=class t extends df{static{s(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},fT=class extends ms{static{s(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(e){return new WW(e)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},YW=class t extends df{static{s(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},dT=class extends ms{static{s(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(e){return new YW(e)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}},jW=class t extends df{static{s(this,"CStatementNode")}static{this.compoundTypeNames=new Set(["declaration","function_definition","enum_specifier","field_declaration_list","type_definition","compound_statement","if_statement","switch_statement","while_statement","for_statement","do_statement","preproc_if","preproc_ifdef","namespace_definition","class_specifier","field_declaration_list","concept_definition","template_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){(this.isSingleLineDeclarationStatement()||this.isSingleLineConceptDefinition())&&this.collapse()}isSingleLineDeclarationStatement(){return!(this.node.type!=="declaration"||this.node.startPosition.row!==this.node.endPosition.row)}isSingleLineConceptDefinition(){return!(this.node.type!=="concept_definition"||this.node.startPosition.row!==this.node.endPosition.row)}},hT=class extends ms{static{s(this,"CStatementTree")}static{this.languageIds=new Set(["c","cpp"])}createNode(e){return new jW(e)}getStatementQueryText(){return`[
            (declaration)
            (function_definition)
            (type_definition)
            (field_declaration)
            (enum_specifier)
            (return_statement)
            (compound_statement)
            (if_statement)
            (expression_statement)
            (switch_statement)
            (break_statement)
            (case_statement)
            (while_statement)
            (for_statement)
            (do_statement)
            (goto_statement)
            (labeled_statement)
            (preproc_if)
            (preproc_def)
            (preproc_ifdef)
            (preproc_include)
            (preproc_call)
            (preproc_function_def)
            (continue_statement)

            ;C++ specific:
            (namespace_definition)
            (class_specifier)
            (field_declaration_list)
            (field_declaration)
            (concept_definition)
            (compound_requirement)
            (template_declaration)
            (using_declaration)
            (alias_declaration)
            (static_assert_declaration)
        ] @statement`}};var AT=class{constructor(e,r,n){this.languageId=e;this.prefix=r;this.completion=n}static{s(this,"BlockTrimmer")}static isSupported(e){return ms.isSupported(e)}static isTrimmedByDefault(e){return ms.isTrimmedByDefault(e)}async withParsedStatementTree(e){var n=[];try{let r=_te(n,ms.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await e(r)}catch(o){var a=o,c=!0}finally{Tte(n,a,c)}}trimmedCompletion(e){return e===void 0?this.completion:this.completion.substring(0,e)}getStatementAtCursor(e){return e.statementAt(Math.max(this.prefix.length-1,0))??e.statements[0]}getContainingBlockOffset(e){let r;if(e&&this.isCompoundStatement(e))r=e;else if(e){let n=e.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(e){if(!e||!e.nextSibling)return!1;let r=this.asCompletionOffset(e.node.endIndex),n=this.asCompletionOffset(e.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(e){return e===void 0?void 0:e-this.prefix.length}isCompoundStatement(e){return e.isCompoundStatementType||e.children.length>0}};d();var bLr=H.Object({proxy:H.Optional(H.String()),proxyStrictSSL:H.Optional(H.Boolean()),proxyAuthorization:H.Optional(H.String()),proxyKerberosServicePrincipal:H.Optional(H.String()),noProxy:H.Optional(H.Array(H.String()))});var XI={};Ei(XI,{activationEvents:()=>gnt,badges:()=>mnt,browser:()=>Cnt,bugs:()=>cnt,build:()=>rnt,buildType:()=>nnt,categories:()=>Ant,contributes:()=>$W,default:()=>_nt,dependencies:()=>vnt,description:()=>ent,devDependencies:()=>xnt,displayName:()=>Zrt,enabledApiProposals:()=>Ent,engines:()=>hnt,extensionPack:()=>dnt,homepage:()=>snt,icon:()=>unt,keywords:()=>pnt,license:()=>ant,main:()=>ynt,name:()=>Xrt,overrides:()=>bnt,preview:()=>ont,pricing:()=>fnt,publisher:()=>int,qna:()=>lnt,scripts:()=>Int,version:()=>tnt});var Xrt="copilot",Zrt="GitHub Copilot",ent="Your AI pair programmer",tnt="1.388.0",rnt="1816",nnt="prod",int="GitHub",ont=!1,snt="https://github.com/features/copilot?editor=vscode",ant="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",cnt={url:"https://github.com/microsoft/vscode/issues"},lnt="https://github.com/github-community/community/discussions/categories/copilot",unt="assets/Copilot-App-Icon.png",fnt="Trial",dnt=["GitHub.copilot-chat","GitHub.copilot"],hnt={vscode:"^1.103.0",node:">=22.0.0",npm:">=11.6.2"},Ant=["AI","Chat","Programming Languages","Machine Learning"],pnt=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],mnt=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],gnt=["onStartupFinished"],Cnt="./dist/web",ynt="./dist/extension",Ent=["inlineCompletionsAdditions","devDeviceId"],$W={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.generateComparison",title:"Open Comparison Panel",enablement:"github.copilot.activated && !isWeb && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.acceptCursorComparisonPanelSolution",title:"Accept Comparison Panel Suggestion at the Cursor",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.previousComparisonPanelSolution",title:"Navigate to the Previous Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.nextComparisonPanelSolution",title:"Navigate to the Next Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github-copilot-completions-debugger-view.refresh",title:"Refresh",icon:"$(refresh)"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.acceptCursorComparisonPanelSolution",key:"ctrl+shift+/",mac:"ctrl+shift+/",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.previousComparisonPanelSolution",key:"alt+shift+[",mac:"alt+shift+[",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.nextComparisonPanelSolution",key:"alt+shift+]",mac:"alt+shift+]",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completions Model"__ command or open the model picker (from the Copilot menu in the VS Code title bar, select __"Configure Code Completions"__ then __"Change Completions Model"__. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable auto triggering of Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers). You can still trigger suggestions manually using `Alt + \\`"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}],viewsContainers:{activitybar:[{id:"github-copilot-completions-debugger-panel",title:"Debugger",icon:"$(bug)",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator"}]},views:{"github-copilot-completions-debugger-panel":[{id:"github-copilot-completions-debugger-view",name:"Debugger",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator",icon:"$(bug)"}]},menus:{"view/title":[{command:"github-copilot-completions-debugger-view.refresh",when:"view == github-copilot-completions-debugger-view",group:"navigation"}]}},Int={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/deviceFlow.ts --save-as-test-token",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"test:prepare-msbench":"tsx script/setupMsbench.ts","test:run-msbench":"tsx lsp-client/test/msbench/agent/index.ts","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},xnt={"@azure/identity":"^4.11.0","@azure/keyvault-secrets":"^4.10.0","@datadog/datadog-ci":"^3.17.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^8.0.0","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/markdown-it":"^14.1.2","@types/mocha":"^10.0.10","@types/node":"~22.7.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.103.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/tree-sitter-wasm":"0.0.5-php.2","@vscode/vsce":"^3.6.0","@yao-pkg/pkg":"^6.8.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^17.0.1",electron:"^37.5.1",esbuild:"^0.25.8","esbuild-plugin-copy":"^2.1.1",eslint:"^9.32.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",glob:"^11.0.3",globals:"^16.3.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.2.0",proxy:"^2.1.1","simple-git":"^3.28.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.9.2","typescript-eslint":"^8.39.1","vscode-dts":"^0.3.3"},vnt={"@adobe/helix-fetch":"github:devm33/helix-fetch#2a08fa939591a0e14f34f611adcc3ed767579e9a","@anthropic-ai/sdk":"^0.56.0","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.9","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.17.0","@octokit/graphql":"^8.0.1","@octokit/rest":"^22.0.0","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/chat-lib":"^0.0.4","@vscode/codicons":"^0.0.39","@vscode/policy-watcher":"^1.3.2","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^8.0.2",dldr:"^0.0.10",events:"^3.3.0","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.3","markdown-it":"^14.1.0",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.2.0","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",undici:"^7.16.0",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.23.0","windows-ca-certs":"^0.2.2",ws:"^8.18.3",yargs:"^17.7.2"},bnt={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},_nt={name:Xrt,displayName:Zrt,description:ent,version:tnt,build:rnt,buildType:nnt,publisher:int,preview:ont,homepage:snt,license:ant,bugs:cnt,qna:lnt,icon:unt,pricing:fnt,extensionPack:dnt,engines:hnt,categories:Ant,keywords:pnt,badges:mnt,activationEvents:gnt,browser:Cnt,main:ynt,enabledApiProposals:Ent,contributes:$W,scripts:Int,devDependencies:xnt,dependencies:vnt,overrides:bnt};var st={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",ToolConfirmAutoApprove:"agent.toolConfirmAutoApprove",TrustToolAnnotations:"agent.trustToolAnnotations",MaxToolCallingLoop:"agent.maxToolCallingLoop",CompletionsDelay:"completionsDelay",CompletionsDebounce:"completionsDebounce",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",UseWorkspaceContextCoordinator:"internal.useWorkspaceContextCoordinator",ShowWorkspaceContextDebugger:"internal.showWorkspaceContextDebugger",IncludeNeighboringFiles:"internal.includeNeighboringFiles",ExcludeRelatedFiles:"internal.excludeRelatedFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",NESXTab:"internal.useXTab",UseSplitContextPrompt:"internal.useSplitContextPrompt",UseCompletionsComparisonPanel:"internal.useCompletionsComparisonPanel",ComparisonPanelModelIds:"internal.comparisonPanelModelIds",ComparisonPanelRandomizedMode:"internal.comparisonPanelRandomizedMode",UseFetchFetcher:"internal.useFetchFetcher"};var e2=class{static{s(this,"BlockModeConfig")}},z9=class extends e2{static{s(this,"ConfigBlockModeConfig")}forLanguage(e,r,n){let o=e.get(Ot).overrideBlockMode(n);if(o)return zW(o,r);let a=e.get(Ot).enableProgressiveReveal(n);return(Hi(e,st.AlwaysRequestMultiline)??a)||AT.isTrimmedByDefault(r)?zW("moremultiline",r):r=="ruby"?"parsing":aT(r)?"parsingandserver":"server"}};function Tnt(t){return["parsing","parsingandserver","moremultiline"].includes(t)}s(Tnt,"blockModeRequiresTreeSitter");function zW(t,e){return t==="moremultiline"&&ms.isSupported(e)?t:Tnt(t)&&!aT(e)?"server":t}s(zW,"toApplicableBlockMode");var ta=class{static{s(this,"ConfigProvider")}requireReady(){return Promise.resolve()}},K9=class extends ta{constructor(){super(...arguments);this.onDidChangeCopilotSettings=s(()=>({dispose:s(()=>{},"dispose")}),"onDidChangeCopilotSettings");this.onDidChangeHttpSettings=this.onDidChangeCopilotSettings}static{s(this,"DefaultsOnlyConfigProvider")}getConfig(r){return Snt(r)}getOptionalConfig(r){return Bnt(r)}dumpForTelemetry(){return{}}getHttpSettings(){return{proxy:""}}};function wnt(t){return t?.type==="object"&&"properties"in t}s(wnt,"isContributesObject");function Snt(t){if(ZI.has(t))return ZI.get(t);throw new Error(`Missing config default value: ${gv}.${t}`)}s(Snt,"getConfigDefaultForKey");function Bnt(t){return ZI.get(t)}s(Bnt,"getOptionalConfigDefaultForKey");var ZI=new Map([[st.DebugOverrideCppHeadersEnableSwitch,!1],[st.RelatedFilesVSCodeCSharp,!1],[st.RelatedFilesVSCodeTypeScript,!1],[st.RelatedFilesVSCode,!1],[st.IncludeNeighboringFiles,!1],[st.ExcludeRelatedFiles,!1],[st.ContextProviders,[]],[st.DebugUseEditorFetcher,null],[st.DebugUseElectronFetcher,null],[st.DebugOverrideLogLevels,{}],[st.DebugSnippyOverrideUrl,""],[st.FetchStrategy,"auto"],[st.ToolConfirmAutoApprove,!1],[st.TrustToolAnnotations,!1],[st.MaxToolCallingLoop,25],[st.UseSubsetMatching,null],[st.ContextProviderTimeBudget,void 0],[st.DebugOverrideCapiUrl,""],[st.DebugTestOverrideCapiUrl,""],[st.DebugOverrideProxyUrl,""],[st.DebugTestOverrideProxyUrl,""],[st.DebugOverrideEngine,""],[st.AlwaysRequestMultiline,void 0],[st.ModelAlwaysTerminatesSingleline,void 0],[st.TrimCompletionsAggressively,void 0],[st.CompletionsDebounce,void 0],[st.NESXTab,void 0],[st.UseWorkspaceContextCoordinator,void 0],[st.ShowWorkspaceContextDebugger,!1],[st.CompletionsDelay,void 0],[st.UseSplitContextPrompt,void 0],[st.UseCompletionsComparisonPanel,void 0],[st.ComparisonPanelModelIds,void 0],[st.ComparisonPanelRandomizedMode,void 0],[st.UseFetchFetcher,void 0],[st.ShowEditorCompletions,void 0],[st.EnableAutoCompletions,void 0],[st.DelayCompletions,void 0],[st.FilterCompletions,void 0]]);for(let t of Object.values(st)){let e=$W.configuration[0],r=[],n=`${gv}.${t}`.split(".");for(;n.length>0;){r.push(n.shift());let o=e.properties[r.join(".")];if(wnt(o))r.length=0,e=o;else if(n.length==0&&o?.default!==void 0){if(ZI.has(t))throw new Error(`Duplicate config default value ${gv}.${t}`);ZI.set(t,o.default)}}if(!ZI.has(t))throw new Error(`Missing config default value ${gv}.${t}`)}function Hi(t,e){return t.get(ta).getConfig(e)}s(Hi,"getConfig");function jCe(t){return t.get(ta).dumpForTelemetry()}s(jCe,"dumpForTelemetry");var Mo=class{constructor(){this.packageJson=XI}static{s(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function gF(t){return t.get(Mo).isProduction()}s(gF,"isProduction");function I0e(t){return t.get(Mo).getBuildType()==="dev"}s(I0e,"isDevBuild");function DM(t){return t.get(Mo).getBuildType()}s(DM,"getBuildType");function $Ce(t){return t.get(Mo).getBuild()}s($Ce,"getBuild");function KW(t){return t.get(Mo).getVersion()}s(KW,"getVersion");var ko=class{constructor(e,r,n,o="none",a="desktop"){this.sessionId=e;this.machineId=r;this.devDeviceId=n;this.remoteName=o;this.uiKind=a}static{s(this,"EditorSession")}};function hf({name:t,version:e}){return`${t}/${e}`}s(hf,"formatNameAndVersion");var No=class{static{s(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}getEditorPluginSpecificFilters(){return[]}},Yw="2025-05-01";function Dm(t){let e=t.get(No);return{"Editor-Version":hf(e.getEditorInfo()),"Editor-Plugin-Version":hf(e.getEditorPluginInfo()),"Copilot-Language-Server-Version":KW(t)}}s(Dm,"editorVersionHeaders");var zre="Iv1.b507a08c87ecfe98";var ly=class{static{s(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??zre}};d();var J9=We(xv()),X9=We(require("os"));var Rnt=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function knt(t){let e={type:t.name,value:t.message},r=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(t.toString()+`
`)){e.stacktrace=[];for(let n of r.slice(t.toString().length+1).split(/\n/).reverse()){let o=n.match(Rnt),a={filename:"",function:""};o&&(a.function=o[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??a.function,a.filename=(o[4]?.trim()??a.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),o[5]&&o[5]!==":0"&&(a.lineno=o[5].slice(1)),o[6]&&o[5]!==":0"&&(a.colno=o[6].slice(1)),a.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(a.filename)),e.stacktrace.push(a)}}return e}s(knt,"buildExceptionDetail");function Dnt(t,e){let r=t.get(No),n=r.getEditorInfo(),o=t.get(_a),a={"#editor":n.devName??n.name,"#editor_version":hf({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":hf(r.getEditorPluginInfo()),"#session_id":t.get(ko).sessionId,"#machine_id":t.get(ko).machineId,"#architecture":X9.arch(),"#os_platform":X9.platform(),...e};return o.trackingId&&(a.user=o.trackingId,a["#tracking_id"]=o.trackingId),a}s(Dnt,"buildContext");function zCe(t,e,r){let n=t.get(Mo),o=t.get(No).getEditorInfo(),a=typeof process<"u"?process.versions.node:"web",c={app:"copilot-client",rollup_id:"auto",platform:"node",release:n.getBuildType()!=="dev"?`copilot-client@${n.getVersion()}`:void 0,deployed_to:n.getBuildType(),catalog_service:o.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",transaction:r,context:Dnt(t,{"#node_version":a}),sensitive_context:{}},l=[];c.exception_detail=[];let u=0,f=e;for(;f instanceof Error&&u<10;){let A=knt(f);c.exception_detail.unshift(A),l.unshift([f,A]),u+=1,f=f.cause}let h=[];for(let[A,p]of l)if(p.stacktrace&&p.stacktrace.length>0){h.push(`${p.type}: ${A.code??""}`);let m=[...p.stacktrace].reverse();for(let y of m)if(y.filename?.startsWith("/github-copilot/"))return c;let g=!1;for(let y of m)if(y.in_app){g=!0,h.push(`${y.filename?.replace(/^\.\//,"")}:${y.lineno}:${y.colno}`);break}g||h.push(r),h.push(`${m[0].filename?.replace(/^\.\//,"")}`)}else return c;return c.exception_detail.length>0&&(c.rollup_id=(0,J9.SHA256)(J9.enc.Utf16.parse(h.join(`
`))).toString()),c}s(zCe,"buildPayload");d();var pT=class{static{s(this,"FailingTelemetryReporter")}sendTelemetryEvent(e,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(e,r,n,o){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var V1=class{constructor(e=5){this.perTenMinutes=e;this.cache=new vr}static{s(this,"ExceptionRateLimiter")}isThrottled(e){let r=Date.now(),n=this.cache.get(e)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(e,n),!1)}};d();var Gs=class{constructor(){this.promises=new Set}static{s(this,"PromiseQueue")}register(e){this.promises.add(e),e.finally(()=>this.promises.delete(e))}async flush(){await Promise.allSettled(this.promises)}};d();var XCe=require("os"),ZCe=We(require("path"));function mT(t){return t.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}s(mT,"redactPaths");var Qnt=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Pnt=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function XW(t){if(Qnt.has(t))return t;for(let e of Pnt)if(e.test(t))return t;return mT(t).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}s(XW,"redactMessage");function Z9(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(Z9,"escapeForRegExp");var Fnt=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+Z9((0,XCe.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function JW(t){return t.replace(Fnt,"~")}s(JW,"redactHomeDir");var eye="[\\\\/]?([^:)]*)(?=:\\d)",KCe=new RegExp(Z9(ZCe.sep),"g"),JCe=new RegExp(Z9(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+eye,"gi");function ZW(t,e,r=!1,n=[]){let o=new Error(e(t));o.name=t.name,typeof t.syscall=="string"&&(o.syscall=t.syscall),typeof t.code=="string"&&(o.code=t.code),typeof t.errno=="number"&&(o.errno=t.errno),o.stack=void 0;let a=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),c;for(let l of[t.toString(),`${t.name}: ${t.message}`])if(a?.startsWith(l+`
`)){c=a.slice(l.length+1).split(/\n/);break}if(c){o.stack=o.toString();for(let l of c)if(JCe.test(l))o.stack+=`
${mT(l.replace(JCe,(u,f)=>"./"+f.replace(KCe,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))o.stack+=`
${mT(l)}`;else{let u=!1;for(let{prefix:f,path:h}of n){let A=new RegExp(Z9(h.replace(/[\\/]$/,""))+eye,"gi");if(A.test(l)){o.stack+=`
${mT(l.replace(A,(p,m)=>f+m.replace(KCe,"/")))}`,u=!0;break}}if(u)continue;r?o.stack+=`
${JW(l)}`:o.stack+=`
    at [redacted]:0:0`}}else r&&a&&(o.stack=JW(a));return t.cause instanceof Error&&(o.cause=ZW(t.cause,e,r,n)),o}s(ZW,"cloneError");function tye(t){let e=t.message;return typeof t.path=="string"&&t.path.length>0&&(e=e.replaceAll(t.path,"<path>")),e}s(tye,"errorMessageWithoutPath");function rye(t,e){return ZW(t,s(function(n){return JW(tye(n))},"prepareMessage"),!0,e)}s(rye,"prepareErrorForRestrictedTelemetry");function nye(t,e,r=!1){return ZW(t,s(function(o){if(r)return XW(tye(o));let a="[redacted]";return typeof o.code=="string"&&(a=o.code+" "+a),typeof o.syscall=="string"?a=mT(o.syscall)+" "+a:"erroredSysCall"in o&&typeof o.erroredSysCall=="string"&&(a=o.erroredSysCall+" "+a),a},"prepareMessage"),!1,e)}s(nye,"redactError");d();var eY=class{static{s(this,"TypeCheck")}constructor(e,r,n,o){this.schema=e,this.references=r,this.checkFunc=n,this.code=o,this.hasTransform=ah(e,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(e){return ff(this.schema,this.references,e)}Check(e){return this.checkFunc(e)}Decode(e){if(!this.checkFunc(e))throw new VI(this.schema,e,this.Errors(e).First());return this.hasTransform?WI(this.schema,this.references,e):e}Encode(e){let r=this.hasTransform?jI(this.schema,this.references,e):e;if(!this.checkFunc(r))throw new YI(this.schema,e,this.Errors(e).First());return r}},lh;(function(t){function e(a){return a===36}s(e,"DollarSign"),t.DollarSign=e;function r(a){return a===95}s(r,"IsUnderscore"),t.IsUnderscore=r;function n(a){return a>=65&&a<=90||a>=97&&a<=122}s(n,"IsAlpha"),t.IsAlpha=n;function o(a){return a>=48&&a<=57}s(o,"IsNumeric"),t.IsNumeric=o})(lh||(lh={}));var e7;(function(t){function e(a){return a.length===0?!1:lh.IsNumeric(a.charCodeAt(0))}s(e,"IsFirstCharacterNumeric");function r(a){if(e(a))return!1;for(let c=0;c<a.length;c++){let l=a.charCodeAt(c);if(!(lh.IsAlpha(l)||lh.IsNumeric(l)||lh.DollarSign(l)||lh.IsUnderscore(l)))return!1}return!0}s(r,"IsAccessor");function n(a){return a.replace(/'/g,"\\'")}s(n,"EscapeHyphen");function o(a,c){return r(c)?`${a}.${c}`:`${a}['${n(c)}']`}s(o,"Encode"),t.Encode=o})(e7||(e7={}));var tY;(function(t){function e(r){let n=[];for(let o=0;o<r.length;o++){let a=r.charCodeAt(o);lh.IsNumeric(a)||lh.IsAlpha(a)?n.push(r.charAt(o)):n.push(`_${a}_`)}return n.join("").replace(/__/g,"_")}s(e,"Encode"),t.Encode=e})(tY||(tY={}));var rY;(function(t){function e(r){return r.replace(/'/g,"\\'")}s(e,"Escape"),t.Escape=e})(rY||(rY={}));var nY=class extends Bt{static{s(this,"TypeCompilerUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}},t7=class extends Bt{static{s(this,"TypeCompilerTypeGuardError")}constructor(e){super("Preflight validation check failed to guard for the given schema"),this.schema=e}},W1;(function(t){function e(c,l,u){return Un.ExactOptionalPropertyTypes?`('${l}' in ${c} ? ${u} : true)`:`(${e7.Encode(c,l)} !== undefined ? ${u} : true)`}s(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(c){return Un.AllowArrayObject?`(typeof ${c} === 'object' && ${c} !== null)`:`(typeof ${c} === 'object' && ${c} !== null && !Array.isArray(${c}))`}s(r,"IsObjectLike"),t.IsObjectLike=r;function n(c){return Un.AllowArrayObject?`(typeof ${c} === 'object' && ${c} !== null && !(${c} instanceof Date) && !(${c} instanceof Uint8Array))`:`(typeof ${c} === 'object' && ${c} !== null && !Array.isArray(${c}) && !(${c} instanceof Date) && !(${c} instanceof Uint8Array))`}s(n,"IsRecordLike"),t.IsRecordLike=n;function o(c){return Un.AllowNaN?`typeof ${c} === 'number'`:`Number.isFinite(${c})`}s(o,"IsNumberLike"),t.IsNumberLike=o;function a(c){return Un.AllowNullVoid?`(${c} === undefined || ${c} === null)`:`${c} === undefined`}s(a,"IsVoidLike"),t.IsVoidLike=a})(W1||(W1={}));var kp;(function(t){function e(J){return J[Ce]==="Any"||J[Ce]==="Unknown"}s(e,"IsAnyOrUnknown");function*r(J,xe,te){yield"true"}s(r,"FromAny");function*n(J,xe,te){yield"true"}s(n,"FromArgument");function*o(J,xe,te){yield`Array.isArray(${te})`;let[Le,we]=[qe("value","any"),qe("acc","number")];pt(J.maxItems)&&(yield`${te}.length <= ${J.maxItems}`),pt(J.minItems)&&(yield`${te}.length >= ${J.minItems}`);let oe=Z(J.items,xe,"value");if(yield`${te}.every((${Le}) => ${oe})`,ni(J.contains)||pt(J.minContains)||pt(J.maxContains)){let Re=ni(J.contains)?J.contains:ar(),rt=Z(Re,xe,"value"),Fe=pt(J.minContains)?[`(count >= ${J.minContains})`]:[],Ye=pt(J.maxContains)?[`(count <= ${J.maxContains})`]:[],yt=`const count = value.reduce((${we}, ${Le}) => ${rt} ? acc + 1 : acc, 0)`,Gt=["(count > 0)",...Fe,...Ye].join(" && ");yield`((${Le}) => { ${yt}; return ${Gt}})(${te})`}J.uniqueItems===!0&&(yield`((${Le}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${te})`)}s(o,"FromArray");function*a(J,xe,te){yield`(typeof value === 'object' && Symbol.asyncIterator in ${te})`}s(a,"FromAsyncIterator");function*c(J,xe,te){yield`(typeof ${te} === 'bigint')`,hs(J.exclusiveMaximum)&&(yield`${te} < BigInt(${J.exclusiveMaximum})`),hs(J.exclusiveMinimum)&&(yield`${te} > BigInt(${J.exclusiveMinimum})`),hs(J.maximum)&&(yield`${te} <= BigInt(${J.maximum})`),hs(J.minimum)&&(yield`${te} >= BigInt(${J.minimum})`),hs(J.multipleOf)&&(yield`(${te} % BigInt(${J.multipleOf})) === 0`)}s(c,"FromBigInt");function*l(J,xe,te){yield`(typeof ${te} === 'boolean')`}s(l,"FromBoolean");function*u(J,xe,te){yield*$(J.returns,xe,`${te}.prototype`)}s(u,"FromConstructor");function*f(J,xe,te){yield`(${te} instanceof Date) && Number.isFinite(${te}.getTime())`,pt(J.exclusiveMaximumTimestamp)&&(yield`${te}.getTime() < ${J.exclusiveMaximumTimestamp}`),pt(J.exclusiveMinimumTimestamp)&&(yield`${te}.getTime() > ${J.exclusiveMinimumTimestamp}`),pt(J.maximumTimestamp)&&(yield`${te}.getTime() <= ${J.maximumTimestamp}`),pt(J.minimumTimestamp)&&(yield`${te}.getTime() >= ${J.minimumTimestamp}`),pt(J.multipleOfTimestamp)&&(yield`(${te}.getTime() % ${J.multipleOfTimestamp}) === 0`)}s(f,"FromDate");function*h(J,xe,te){yield`(typeof ${te} === 'function')`}s(h,"FromFunction");function*A(J,xe,te){let Le=globalThis.Object.getOwnPropertyNames(J.$defs).reduce((we,oe)=>[...we,J.$defs[oe]],[]);yield*$(W0(J.$ref),[...xe,...Le],te)}s(A,"FromImport");function*p(J,xe,te){yield`Number.isInteger(${te})`,pt(J.exclusiveMaximum)&&(yield`${te} < ${J.exclusiveMaximum}`),pt(J.exclusiveMinimum)&&(yield`${te} > ${J.exclusiveMinimum}`),pt(J.maximum)&&(yield`${te} <= ${J.maximum}`),pt(J.minimum)&&(yield`${te} >= ${J.minimum}`),pt(J.multipleOf)&&(yield`(${te} % ${J.multipleOf}) === 0`)}s(p,"FromInteger");function*m(J,xe,te){let Le=J.allOf.map(we=>Z(we,xe,te)).join(" && ");if(J.unevaluatedProperties===!1){let we=Se(`${new RegExp(ih(J))};`),oe=`Object.getOwnPropertyNames(${te}).every(key => ${we}.test(key))`;yield`(${Le} && ${oe})`}else if(ni(J.unevaluatedProperties)){let we=Se(`${new RegExp(ih(J))};`),oe=`Object.getOwnPropertyNames(${te}).every(key => ${we}.test(key) || ${Z(J.unevaluatedProperties,xe,`${te}[key]`)})`;yield`(${Le} && ${oe})`}else yield`(${Le})`}s(m,"FromIntersect");function*g(J,xe,te){yield`(typeof value === 'object' && Symbol.iterator in ${te})`}s(g,"FromIterator");function*y(J,xe,te){typeof J.const=="number"||typeof J.const=="boolean"?yield`(${te} === ${J.const})`:yield`(${te} === '${rY.Escape(J.const)}')`}s(y,"FromLiteral");function*E(J,xe,te){yield"false"}s(E,"FromNever");function*I(J,xe,te){yield`(!${Z(J.not,xe,te)})`}s(I,"FromNot");function*x(J,xe,te){yield`(${te} === null)`}s(x,"FromNull");function*v(J,xe,te){yield W1.IsNumberLike(te),pt(J.exclusiveMaximum)&&(yield`${te} < ${J.exclusiveMaximum}`),pt(J.exclusiveMinimum)&&(yield`${te} > ${J.exclusiveMinimum}`),pt(J.maximum)&&(yield`${te} <= ${J.maximum}`),pt(J.minimum)&&(yield`${te} >= ${J.minimum}`),pt(J.multipleOf)&&(yield`(${te} % ${J.multipleOf}) === 0`)}s(v,"FromNumber");function*b(J,xe,te){yield W1.IsObjectLike(te),pt(J.minProperties)&&(yield`Object.getOwnPropertyNames(${te}).length >= ${J.minProperties}`),pt(J.maxProperties)&&(yield`Object.getOwnPropertyNames(${te}).length <= ${J.maxProperties}`);let Le=Object.getOwnPropertyNames(J.properties);for(let we of Le){let oe=e7.Encode(te,we),Re=J.properties[we];if(J.required&&J.required.includes(we))yield*$(Re,xe,oe),(oh(Re)||e(Re))&&(yield`('${we}' in ${te})`);else{let rt=Z(Re,xe,oe);yield W1.IsExactOptionalProperty(te,we,rt)}}if(J.additionalProperties===!1)if(J.required&&J.required.length===Le.length)yield`Object.getOwnPropertyNames(${te}).length === ${Le.length}`;else{let we=`[${Le.map(oe=>`'${oe}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${te}).every(key => ${we}.includes(key))`}if(typeof J.additionalProperties=="object"){let we=Z(J.additionalProperties,xe,`${te}[key]`),oe=`[${Le.map(Re=>`'${Re}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${te}).every(key => ${oe}.includes(key) || ${we}))`}}s(b,"FromObject");function*_(J,xe,te){yield`${te} instanceof Promise`}s(_,"FromPromise");function*S(J,xe,te){yield W1.IsRecordLike(te),pt(J.minProperties)&&(yield`Object.getOwnPropertyNames(${te}).length >= ${J.minProperties}`),pt(J.maxProperties)&&(yield`Object.getOwnPropertyNames(${te}).length <= ${J.maxProperties}`);let[Le,we]=Object.entries(J.patternProperties)[0],oe=Se(`${new RegExp(Le)}`),Re=Z(we,xe,"value"),rt=ni(J.additionalProperties)?Z(J.additionalProperties,xe,te):J.additionalProperties===!1?"false":"true",Fe=`(${oe}.test(key) ? ${Re} : ${rt})`;yield`(Object.entries(${te}).every(([key, value]) => ${Fe}))`}s(S,"FromRecord");function*w(J,xe,te){let Le=Yr(J,xe);if(j.functions.has(J.$ref))return yield`${le(J.$ref)}(${te})`;yield*$(Le,xe,te)}s(w,"FromRef");function*L(J,xe,te){let Le=Se(`${new RegExp(J.source,J.flags)};`);yield`(typeof ${te} === 'string')`,pt(J.maxLength)&&(yield`${te}.length <= ${J.maxLength}`),pt(J.minLength)&&(yield`${te}.length >= ${J.minLength}`),yield`${Le}.test(${te})`}s(L,"FromRegExp");function*M(J,xe,te){yield`(typeof ${te} === 'string')`,pt(J.maxLength)&&(yield`${te}.length <= ${J.maxLength}`),pt(J.minLength)&&(yield`${te}.length >= ${J.minLength}`),J.pattern!==void 0&&(yield`${Se(`${new RegExp(J.pattern)};`)}.test(${te})`),J.format!==void 0&&(yield`format('${J.format}', ${te})`)}s(M,"FromString");function*Y(J,xe,te){yield`(typeof ${te} === 'symbol')`}s(Y,"FromSymbol");function*D(J,xe,te){yield`(typeof ${te} === 'string')`,yield`${Se(`${new RegExp(J.pattern)};`)}.test(${te})`}s(D,"FromTemplateLiteral");function*O(J,xe,te){yield`${le(J.$ref)}(${te})`}s(O,"FromThis");function*W(J,xe,te){if(yield`Array.isArray(${te})`,J.items===void 0)return yield`${te}.length === 0`;yield`(${te}.length === ${J.maxItems})`;for(let Le=0;Le<J.items.length;Le++)yield`${Z(J.items[Le],xe,`${te}[${Le}]`)}`}s(W,"FromTuple");function*R(J,xe,te){yield`${te} === undefined`}s(R,"FromUndefined");function*Q(J,xe,te){yield`(${J.anyOf.map(we=>Z(we,xe,te)).join(" || ")})`}s(Q,"FromUnion");function*q(J,xe,te){yield`${te} instanceof Uint8Array`,pt(J.maxByteLength)&&(yield`(${te}.length <= ${J.maxByteLength})`),pt(J.minByteLength)&&(yield`(${te}.length >= ${J.minByteLength})`)}s(q,"FromUint8Array");function*U(J,xe,te){yield"true"}s(U,"FromUnknown");function*V(J,xe,te){yield W1.IsVoidLike(te)}s(V,"FromVoid");function*z(J,xe,te){let Le=j.instances.size;j.instances.set(Le,J),yield`kind('${J[Ce]}', ${Le}, ${te})`}s(z,"FromKind");function*$(J,xe,te,Le=!0){let we=Hr(J.$id)?[...xe,J]:xe,oe=J;if(Le&&Hr(J.$id)){let Re=le(J.$id);if(j.functions.has(Re))return yield`${Re}(${te})`;{j.functions.set(Re,"<deferred>");let rt=et(Re,J,xe,"value",!1);return j.functions.set(Re,rt),yield`${Re}(${te})`}}switch(oe[Ce]){case"Any":return yield*r(oe,we,te);case"Argument":return yield*n(oe,we,te);case"Array":return yield*o(oe,we,te);case"AsyncIterator":return yield*a(oe,we,te);case"BigInt":return yield*c(oe,we,te);case"Boolean":return yield*l(oe,we,te);case"Constructor":return yield*u(oe,we,te);case"Date":return yield*f(oe,we,te);case"Function":return yield*h(oe,we,te);case"Import":return yield*A(oe,we,te);case"Integer":return yield*p(oe,we,te);case"Intersect":return yield*m(oe,we,te);case"Iterator":return yield*g(oe,we,te);case"Literal":return yield*y(oe,we,te);case"Never":return yield*E(oe,we,te);case"Not":return yield*I(oe,we,te);case"Null":return yield*x(oe,we,te);case"Number":return yield*v(oe,we,te);case"Object":return yield*b(oe,we,te);case"Promise":return yield*_(oe,we,te);case"Record":return yield*S(oe,we,te);case"Ref":return yield*w(oe,we,te);case"RegExp":return yield*L(oe,we,te);case"String":return yield*M(oe,we,te);case"Symbol":return yield*Y(oe,we,te);case"TemplateLiteral":return yield*D(oe,we,te);case"This":return yield*O(oe,we,te);case"Tuple":return yield*W(oe,we,te);case"Undefined":return yield*R(oe,we,te);case"Union":return yield*Q(oe,we,te);case"Uint8Array":return yield*q(oe,we,te);case"Unknown":return yield*U(oe,we,te);case"Void":return yield*V(oe,we,te);default:if(!da.Has(oe[Ce]))throw new nY(J);return yield*z(oe,we,te)}}s($,"Visit");let j={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function Z(J,xe,te,Le=!0){return`(${[...$(J,xe,te,Le)].join(" && ")})`}s(Z,"CreateExpression");function le(J){return`check_${tY.Encode(J)}`}s(le,"CreateFunctionName");function Se(J){let xe=`local_${j.variables.size}`;return j.variables.set(xe,`const ${xe} = ${J}`),xe}s(Se,"CreateVariable");function et(J,xe,te,Le,we=!0){let[oe,Re]=[`
`,yt=>"".padStart(yt," ")],rt=qe("value","any"),Fe=Tt("boolean"),Ye=[...$(xe,te,Le,we)].map(yt=>`${Re(4)}${yt}`).join(` &&${oe}`);return`function ${J}(${rt})${Fe} {${oe}${Re(2)}return (${oe}${Ye}${oe}${Re(2)})
}`}s(et,"CreateFunction");function qe(J,xe){let te=j.language==="typescript"?`: ${xe}`:"";return`${J}${te}`}s(qe,"CreateParameter");function Tt(J){return j.language==="typescript"?`: ${J}`:""}s(Tt,"CreateReturns");function ur(J,xe,te){let Le=et("check",J,xe,"value"),we=qe("value","any"),oe=Tt("boolean"),Re=[...j.functions.values()],rt=[...j.variables.values()],Fe=Hr(J.$id)?`return function check(${we})${oe} {
  return ${le(J.$id)}(value)
}`:`return ${Le}`;return[...rt,...Re,Fe].join(`
`)}s(ur,"Build");function nr(...J){let xe={language:"javascript"},[te,Le,we]=J.length===2&&St(J[1])?[J[0],J[1],xe]:J.length===2&&!St(J[1])?[J[0],[],J[1]]:J.length===3?[J[0],J[1],J[2]]:J.length===1?[J[0],[],xe]:[null,[],xe];if(j.language=we.language,j.variables.clear(),j.functions.clear(),j.instances.clear(),!ni(te))throw new t7(te);for(let oe of Le)if(!ni(oe))throw new t7(oe);return ur(te,Le,we)}s(nr,"Code"),t.Code=nr;function Er(J,xe=[]){let te=nr(J,xe,{language:"javascript"}),Le=globalThis.Function("kind","format","hash",te),we=new Map(j.instances);function oe(Ye,yt,Gt){if(!da.Has(Ye)||!we.has(yt))return!1;let ir=da.Get(Ye),an=we.get(yt);return ir(an,Gt)}s(oe,"typeRegistryFunction");function Re(Ye,yt){return Hl.Has(Ye)?Hl.Get(Ye)(yt):!1}s(Re,"formatRegistryFunction");function rt(Ye){return wp(Ye)}s(rt,"hashFunction");let Fe=Le(oe,Re,rt);return new eY(J,xe,Fe,te)}s(Er,"Compile"),t.Compile=Er})(kp||(kp={}));var s7=We(xv());d();d();var gs=[];for(let t=0;t<256;++t)gs.push((t+256).toString(16).slice(1));function iye(t,e=0){return(gs[t[e+0]]+gs[t[e+1]]+gs[t[e+2]]+gs[t[e+3]]+"-"+gs[t[e+4]]+gs[t[e+5]]+"-"+gs[t[e+6]]+gs[t[e+7]]+"-"+gs[t[e+8]]+gs[t[e+9]]+"-"+gs[t[e+10]]+gs[t[e+11]]+gs[t[e+12]]+gs[t[e+13]]+gs[t[e+14]]+gs[t[e+15]]).toLowerCase()}s(iye,"unsafeStringify");d();var oye=require("crypto");var n7=new Uint8Array(256),r7=n7.length;function iY(){return r7>n7.length-16&&((0,oye.randomFillSync)(n7),r7=0),n7.slice(r7,r7+=16)}s(iY,"rng");d();d();var sye=require("crypto"),oY={randomUUID:sye.randomUUID};function Lnt(t,e,r){if(oY.randomUUID&&!e&&!t)return oY.randomUUID();t=t||{};let n=t.random??t.rng?.()??iY();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let o=0;o<16;++o)e[r+o]=n[o];return e}return iye(n)}s(Lnt,"v4");var Jl=Lnt;var a7=We(is());function t2(t){return t===1}s(t2,"isRestricted");var Mnt=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],gT=8192,Ont=21;var Bc=class{static{s(this,"TelemetryReporters")}getReporter(e,r=0){return t2(r)?this.getRestrictedReporter(e):this.reporter}getRestrictedReporter(e){if(c7(e))return this.reporterRestricted;if(vv(e))return new pT}getFTReporter(e){if(aye(e))return this.reporterFT;if(vv(e))return new pT}setReporter(e){this.reporter=e}setRestrictedReporter(e){this.reporterRestricted=e}setFTReporter(e){this.reporterFT=e}async deactivate(){let e=[this.reporter,this.reporterRestricted,this.reporterFT];this.reporter=this.reporterRestricted=this.reporterFT=void 0,await Promise.all(e.map(r=>r?.dispose()))}},Unt=H.Object({},{additionalProperties:H.String()}),qnt=H.Object({meanLogProb:H.Optional(H.Number()),meanAlternativeLogProb:H.Optional(H.Number())},{additionalProperties:H.Number()}),Hnt=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Gnt(t){return Hnt.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}s(Gnt,"isOomError");function Vnt(t){return aF(t)?"network":Gnt(t)||t.code==="EMFILE"||t.code==="ENFILE"||t.syscall==="uv_cwd"&&(t.code==="ENOENT"||t.code=="EIO")||t.code==="CopilotPromptLoadFailure"||`${t.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}s(Vnt,"getErrorType");var xr=class t{static{s(this,"TelemetryData")}static{this.validateTelemetryProperties=kp.Compile(Unt)}static{this.validateTelemetryMeasurements=kp.Compile(qnt)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(e,r,n){this.properties=e,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(e,r){return new t(e||{},r||{},Vs())}extendedBy(e,r){let n={...this.properties,...e},o={...this.measurements,...r},a=new t(n,o,this.issuedTime);return a.displayedTime=this.displayedTime,a}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Vs())}async extendWithExpTelemetry(e){let{filters:r,exp:n}=await e.get(Ot).getFallbackExpAndFilters();n.addToTelemetry(e,this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(e){this.properties.editor_version=hf(e.get(No).getEditorInfo()),this.properties.editor_plugin_version=hf(e.get(No).getEditorPluginInfo());let r=e.get(ko);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${KW(e)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=e.get(No);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=hf(n.getEditorInfo());let o=e.get(to);this.properties.fetcher=o.name;let a=e.get(ta).getHttpSettings();this.properties.proxy_enabled=a.proxy?"true":"false",this.properties.proxy_auth=a.proxyAuthorization?"true":"false",this.properties.proxy_kerberos_spn=a.proxyKerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=a.proxyStrictSSL!==!1?"true":"false"}extendWithConfigProperties(e){let r=jCe(e);r["copilot.build"]=$Ce(e),r["copilot.buildType"]=DM(e),this.properties={...this.properties,...r}}extendWithRequestId(e){let r={headerRequestId:e.headerRequestId,serverExperiments:e.serverExperiments,deploymentId:e.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(e,r){if(t2(e))return r;let n={};for(let o in r)t.keysToRemoveFromStandardTelemetryHack.includes(o)||(n[o]=r[o]);return n}sanitizeKeys(){this.properties=t.sanitizeKeys(this.properties),this.measurements=t.sanitizeKeys(this.measurements);for(let e in this.measurements)isNaN(this.measurements[e])&&delete this.measurements[e]}multiplexProperties(){this.properties=t.multiplexProperties(this.properties)}static sanitizeKeys(e){e=e||{};let r={};for(let n in e){let o=t.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[o]=e[n]}return r}static multiplexProperties(e){let r={...e};for(let n in e){let o=e[n],a=o?.length??0;if(a>gT){let c=0,l=0;for(;a>0&&l<Ont;){l+=1;let u=n;l>1&&(u=n+"_"+(l<10?"0":"")+l);let f=c+gT;a<gT&&(f=c+a),r[u]=o.slice(c,f),a-=gT,c+=gT}}}return r}updateMeasurements(e){let r=e-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=e-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=jnt(e))}validateData(e,r){let n;if(t.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...t.validateTelemetryProperties.Errors(this.properties)])}),!t.validateTelemetryMeasurements.Check(this.measurements)){let o=JSON.stringify([...t.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:o}:(n.problem="both",n.error+=`; ${o}`)}if(n===void 0)return!0;if(vv(e))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return Fm(e,"invalidTelemetryData",t.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),t2(r)&&Fm(e,"invalidTelemetryData_in_secure",t.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(e,r,n,o){this.extendWithConfigProperties(e),this.extendWithEditorAgnosticFields(e),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(e),this.updateMeasurements(o),this.validateData(e,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,Knt(e))}},sT=class t extends xr{static{s(this,"TelemetryWithExp")}constructor(e,r,n,o){super(e,r,n),this.filtersAndExp=o}extendedBy(e,r){let n={...this.properties,...e},o={...this.measurements,...r},a=new t(n,o,this.issuedTime,this.filtersAndExp);return a.displayedTime=this.displayedTime,a}extendWithExpTelemetry(e){return this.filtersAndExp.exp.addToTelemetry(e,this),this.filtersAndExp.filters.addToTelemetry(this),Promise.resolve()}static createEmptyConfigForTesting(){return new t({},{},0,{filters:new Ng({}),exp:Sl.createEmptyConfig()})}};function o7(t,e,r,n){t.get(Bc).getReporter(t,e)?.sendTelemetryEvent(r,xr.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}s(o7,"sendTelemetryEvent");function Wnt(t,e,r,n){t.get(Bc).getReporter(t,e)?.sendTelemetryErrorEvent(r,xr.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}s(Wnt,"sendTelemetryErrorEvent");function Ynt(t,e,r,n){t.get(Bc).getFTReporter(t)?.sendTelemetryEvent(r,xr.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}s(Ynt,"sendFTTelemetryEvent");function aY(t){return{promptCharLen:t.prefix.length+(t.context?.reduce((e,r)=>e+r.length,0)??0),promptSuffixCharLen:t.suffix.length}}s(aY,"telemetrizePromptLength");function Vs(){return performance.now()}s(Vs,"now");function jnt(t){return Math.floor(t/1e3)}s(jnt,"nowSeconds");function c7(t){return t.get(_a).optedIn}s(c7,"shouldSendRestricted");function aye(t){return t.get(_a).ftFlag!==""}s(aye,"shouldSendFinetuningTelemetry");function vt(t,e,r,n){return t.get(Gs).register($nt(t,e,Vs(),r?.extendedBy(),n))}s(vt,"telemetry");async function $nt(t,e,r,n,o=0){let a=n||xr.createAndMarkAsIssued({},{});await a.makeReadyForSending(t,o??!1,"IncludeExp",r),(!t2(o)||c7(t))&&o7(t,o,e,a),t2(o)&&Mnt.includes(e)&&aye(t)&&Ynt(t,o,e,a)}s($nt,"_telemetry");function v0e(t,e){return t.get(Gs).register(znt(t,e,Vs()))}s(v0e,"telemetryExpProblem");async function znt(t,e,r){let n="expProblem",o=xr.createAndMarkAsIssued(e,{});await o.makeReadyForSending(t,0,"SkipExp",r),o7(t,0,n,o)}s(znt,"_telemetryExpProblem");function Knt(t){let e=t.get(No),r={unique_id:Jl(),common_extname:e.getEditorPluginInfo().name,common_extversion:e.getEditorPluginInfo().version,common_vscodeversion:hf(e.getEditorInfo())};return{...t.get(_a).getProperties(),...r}}s(Knt,"createRequiredProperties");var sY=class extends Error{static{s(this,"CopilotNonError")}constructor(e){let r;try{r=JSON.stringify(e)}catch{r=String(e)}super(r),this.name="CopilotNonError",this.code=(0,s7.SHA256)(s7.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Uu(t,e,r,n,o){return t.get(Gs).register(cye(t,e,Vs(),r,{...n},o))}s(Uu,"telemetryException");async function cye(t,e,r,n,o,a){let c;if(e instanceof Error){if(c=e,c.name==="Canceled"&&c.message==="Canceled"||c.name==="CodeExpectedError"||Gh(c)||c instanceof a7.ConnectionError||c instanceof a7.ResponseError||c.name==="CopilotAuthError"||c.name==="DeviceFlowError")return}else{if(c=new sY(e),e&&typeof e=="object"&&e.name==="ExitStatus")return;if(c.stack?.startsWith(`${c}
`)){let y=c.stack.slice(`${c}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(y[0]??"")&&y.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(y[0]??"")&&y.shift(),c.stack=`${c}
${y.join(`
`)}`}}let l=t.get(No).getEditorInfo(),u;l.root&&(u=[{prefix:`${l.name}:`,path:l.root}]);let f=c7(t),h=nye(c,u,f),A=Vnt(c),p=A==="exception",m=xr.createAndMarkAsIssued({origin:n??"",type:c.name,code:`${c.code??""}`,reason:h.stack||h.toString(),message:h.message,...o});if(await m.makeReadyForSending(t,0,"IncludeExp",r),a?.exception_detail)for(let y of a.exception_detail)y.value&&(f?y.value=XW(y.value):y.value="[redacted]");if(a??=zCe(t,h,n),a.context={...a.context,"copilot_event.unique_id":m.properties.unique_id,"#restricted_telemetry":f?"true":"false"},a.rollup_id!=="auto"&&(m.properties.errno=a.rollup_id),a.created_at=new Date(m.issuedTime).toISOString(),f){let y=rye(c,u),E=xr.createAndMarkAsIssued({origin:n??"",type:c.name,code:`${c.code??""}`,reason:y.stack||y.toString(),message:y.message,...o});a.rollup_id!=="auto"&&(E.properties.errno=a.rollup_id),await E.makeReadyForSending(t,1,"IncludeExp",r),E.properties.unique_id=m.properties.unique_id,m.properties.restricted_unique_id=E.properties.unique_id,o7(t,1,`error.${A}`,E)}let g=a.rollup_id==="auto"?c.stack??"":a.rollup_id;p&&!t.get(V1).isThrottled(g)&&(m.properties.failbot_payload=JSON.stringify(a)),o7(t,0,`error.${A}`,m)}s(cye,"_telemetryException");function rd(t,e,r,n){let o=s(async(...a)=>{try{await e(...a)}catch(c){await cye(t,c,Vs(),r,n)}},"wrapped");return(...a)=>t.get(Gs).register(o(...a))}s(rd,"telemetryCatch");function Fm(t,e,r,n){return t.get(Gs).register(Jnt(t,e,Vs(),r?.extendedBy(),n))}s(Fm,"telemetryError");async function Jnt(t,e,r,n,o=0){if(t2(o)&&!c7(t))return;let a=n||xr.createAndMarkAsIssued({},{});await a.makeReadyForSending(t,o,"IncludeExp",r),Wnt(t,o,e,a)}s(Jnt,"_telemetryError");function lye(t,e,r,n,o){let a=xr.createAndMarkAsIssued({completionTextJson:JSON.stringify(e),choiceIndex:o.toString()});if(r.logprobs)for(let[c,l]of Object.entries(r.logprobs))a.properties["logprobs_"+c]=JSON.stringify(l)??"unset";return a.extendWithRequestId(n),vt(t,"engine.completion",a,1)}s(lye,"logEngineCompletion");function uye(t,e,r){let n={promptJson:JSON.stringify({prefix:e.prefix,context:e.context}),promptSuffixJson:JSON.stringify(e.suffix)};if(e.context){let a=r.properties["request.option.extra"]?JSON.parse(r.properties["request.option.extra"]):{};a.context=e.context,n["request.option.extra"]=JSON.stringify(a)}let o=r.extendedBy(n);return vt(t,"engine.prompt",o,1)}s(uye,"logEnginePrompt");var l7=class{static{s(this,"InstallationManager")}async startup(e){await this.isNewInstall(e)?(await this.markInstalled(e),this.handleInstall(e,await this.wasPreviouslyInstalled(e))):await this.isNewUpgrade(e)&&(await this.markUpgraded(e),this.handleUpgrade(e))}uninstall(e){return this.handleUninstall(e)}handleInstall(e,r){r?vt(e,"installed.reinstall"):vt(e,"installed.new")}handleUpgrade(e){vt(e,"installed.upgrade")}handleUninstall(e){vt(e,"uninstalled")}};var u7=class extends l7{static{s(this,"VsCodeUninstallationManager")}isNewInstall(){throw new Error("not callable from an uninstall script")}markInstalled(){throw new Error("not callable from an uninstall script")}wasPreviouslyInstalled(){throw new Error("not callable from an uninstall script")}isNewUpgrade(){throw new Error("not callable from an uninstall script")}markUpgraded(){throw new Error("not callable from an uninstall script")}};d();d();d();d();var Xnt={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1,showPanelMessage:!1,mcpElicitation:!1,mcpSampling:!1,mcpAllowlist:!1,stateDatabase:!1},CT=class{constructor(){this.capabilities={...Xnt};this.emitter=new FA;this.onDidSetCapabilities=this.emitter.event}static{s(this,"CopilotCapabilitiesProvider")}setCapabilities(e){let r;for(r in e){let n=e[r];n!==void 0&&(this.capabilities[r]=n)}this.emitter.fire(this.capabilities)}getCapabilities(){return this.capabilities}};d();d();d();d();function Znt(t,e,r=0,n=t.length){let o=r,a=n;for(;o<a;){let c=Math.floor((o+a)/2);e(t[c])?o=c+1:a=c}return o-1}s(Znt,"findLastIdxMonotonous");var fye=class t{constructor(e){this._array=e;this._findLastMonotonousLastIdx=0}static{s(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(e){if(t.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!e(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}let r=Znt(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};d();var cY=class{static{s(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?f7.isErrorNoTelemetry(e)?new f7(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(r=>{r(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},mOr=new cY;var f7=class t extends Error{static{s(this,"ErrorNoTelemetry")}constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof t)return e;let r=new t;return r.message=e.message,r.stack=e.stack,r}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}};var hye;(l=>{function t(u){return u<0}l.isLessThan=t,s(t,"isLessThan");function e(u){return u<=0}l.isLessThanOrEqual=e,s(e,"isLessThanOrEqual");function r(u){return u>0}l.isGreaterThan=r,s(r,"isGreaterThan");function n(u){return u===0}l.isNeitherLessOrGreaterThan=n,s(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(hye||={});function Aye(t,e){return(r,n)=>e(t(r),t(n))}s(Aye,"compareBy");var pye=s((t,e)=>t-e,"numberComparator");var dye=class t{constructor(e){this.iterate=e}static{s(this,"CallbackIterable")}static{this.empty=new t(e=>{})}forEach(e){this.iterate(r=>(e(r),!0))}toArray(){let e=[];return this.iterate(r=>(e.push(r),!0)),e}filter(e){return new t(r=>this.iterate(n=>e(n)?r(n):!0))}map(e){return new t(r=>this.iterate(n=>r(e(n))))}some(e){let r=!1;return this.iterate(n=>(r=e(n),!r)),r}findFirst(e){let r;return this.iterate(n=>e(n)?(r=n,!1):!0),r}findLast(e){let r;return this.iterate(n=>(e(n)&&(r=n),!0)),r}findLastMaxBy(e){let r,n=!0;return this.iterate(o=>((n||hye.isGreaterThan(e(o,r)))&&(n=!1,r=o),!0)),r}};d();function yye(t,e){let r=Object.create(null);for(let n of t){let o=e(n),a=r[o];a||(a=r[o]=[]),a.push(n)}return r}s(yye,"groupBy");var gye,Cye,mye=class{constructor(e,r){this.toKey=r;this._map=new Map;this[gye]="SetWithKey";for(let n of e)this.add(n)}static{s(this,"SetWithKey")}get size(){return this._map.size}add(e){let r=this.toKey(e);return this._map.set(r,e),this}delete(e){return this._map.delete(this.toKey(e))}has(e){return this._map.has(this.toKey(e))}*entries(){for(let e of this._map.values())yield[e,e]}keys(){return this.values()}*values(){for(let e of this._map.values())yield e}clear(){this._map.clear()}forEach(e,r){this._map.forEach(n=>e.call(r,n,n,this))}[(Cye=Symbol.iterator,gye=Symbol.toStringTag,Cye)](){return this.values()}};d();d();var lY;(v=>{function t(b){return b&&typeof b=="object"&&typeof b[Symbol.iterator]=="function"}v.is=t,s(t,"is");let e=Object.freeze([]);function r(){return e}v.empty=r,s(r,"empty");function*n(b){yield b}v.single=n,s(n,"single");function o(b){return t(b)?b:n(b)}v.wrap=o,s(o,"wrap");function a(b){return b||e}v.from=a,s(a,"from");function*c(b){for(let _=b.length-1;_>=0;_--)yield b[_]}v.reverse=c,s(c,"reverse");function l(b){return!b||b[Symbol.iterator]().next().done===!0}v.isEmpty=l,s(l,"isEmpty");function u(b){return b[Symbol.iterator]().next().value}v.first=u,s(u,"first");function f(b,_){let S=0;for(let w of b)if(_(w,S++))return!0;return!1}v.some=f,s(f,"some");function h(b,_){for(let S of b)if(_(S))return S}v.find=h,s(h,"find");function*A(b,_){for(let S of b)_(S)&&(yield S)}v.filter=A,s(A,"filter");function*p(b,_){let S=0;for(let w of b)yield _(w,S++)}v.map=p,s(p,"map");function*m(b,_){let S=0;for(let w of b)yield*_(w,S++)}v.flatMap=m,s(m,"flatMap");function*g(...b){for(let _ of b)yield*_}v.concat=g,s(g,"concat");function y(b,_,S){let w=S;for(let L of b)w=_(w,L);return w}v.reduce=y,s(y,"reduce");function*E(b,_,S=b.length){for(_<-b.length&&(_=0),_<0&&(_+=b.length),S<0?S+=b.length:S>b.length&&(S=b.length);_<S;_++)yield b[_]}v.slice=E,s(E,"slice");function I(b,_=Number.POSITIVE_INFINITY){let S=[];if(_===0)return[S,b];let w=b[Symbol.iterator]();for(let L=0;L<_;L++){let M=w.next();if(M.done)return[S,v.empty()];S.push(M.value)}return[S,{[Symbol.iterator](){return w}}]}v.consume=I,s(I,"consume");async function x(b){let _=[];for await(let S of b)_.push(S);return Promise.resolve(_)}v.asyncToArray=x,s(x,"asyncToArray")})(lY||={});d();var uY=class{constructor(e,r){this.uri=e;this.value=r}static{s(this,"ResourceMapEntry")}};function eit(t){return Array.isArray(t)}s(eit,"isEntries");var xye,d7=class t{constructor(e,r){this[xye]="ResourceMap";if(e instanceof t)this.map=new Map(e.map),this.toKey=r??t.defaultToKey;else if(eit(e)){this.map=new Map,this.toKey=r??t.defaultToKey;for(let[n,o]of e)this.set(n,o)}else this.map=new Map,this.toKey=e??t.defaultToKey}static{s(this,"ResourceMap")}static{this.defaultToKey=s(e=>e.toString(),"defaultToKey")}set(e,r){return this.map.set(this.toKey(e),new uY(e,r)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,r){typeof r<"u"&&(e=e.bind(r));for(let[n,o]of this.map)e(o.value,o.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(xye=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}},vye,Eye=class{constructor(e,r){this[vye]="ResourceSet";!e||typeof e=="function"?this._map=new d7(e):(this._map=new d7(r),e.forEach(this.add,this))}static{s(this,"ResourceSet")}get size(){return this._map.size}add(e){return this._map.set(e,e),this}clear(){this._map.clear()}delete(e){return this._map.delete(e)}forEach(e,r){this._map.forEach((n,o)=>e.call(r,o,o,this))}has(e){return this._map.has(e)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(vye=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var bye,Iye=class{constructor(){this[bye]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{s(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=0){let n=this._map.get(e);if(n)return r!==0&&this.touch(n,r),n.value}set(e,r,n=0){let o=this._map.get(e);if(o)o.value=r,n!==0&&this.touch(o,n);else{switch(o={key:e,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,o=this._head;for(;o;){if(r?e.bind(r)(o.value,o.key,this):e(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.key,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}values(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.value,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}entries(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:[n.key,n.value],done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}[(bye=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(e===this._head)return;let n=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===2){if(e===this._tail)return;let n=e.next,o=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};var h7=class{constructor(){this.map=new Map}static{s(this,"SetMap")}add(e,r){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(r)}delete(e,r){let n=this.map.get(e);n&&(n.delete(r),n.size===0&&this.map.delete(e))}forEach(e,r){let n=this.map.get(e);n&&n.forEach(r)}get(e){let r=this.map.get(e);return r||new Set}};var tit=!1,A7=null;var _ye=class t{constructor(){this.livingDisposables=new Map}static{s(this,"DisposableTracker")}static{this.idx=0}getDisposableData(e){let r=this.livingDisposables.get(e);return r||(r={parent:null,source:null,isSingleton:!1,value:e,idx:t.idx++},this.livingDisposables.set(e,r)),r}trackDisposable(e){let r=this.getDisposableData(e);r.source||(r.source=new Error().stack)}setParent(e,r){let n=this.getDisposableData(e);n.parent=r}markAsDisposed(e){this.livingDisposables.delete(e)}markAsSingleton(e){this.getDisposableData(e).isSingleton=!0}getRootParent(e,r){let n=r.get(e);if(n)return n;let o=e.parent?this.getRootParent(this.getDisposableData(e.parent),r):e;return r.set(e,o),o}getTrackedDisposables(){let e=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,e).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(e=10,r){let n;if(r)n=r;else{let u=new Map,f=[...this.livingDisposables.values()].filter(A=>A.source!==null&&!this.getRootParent(A,u).isSingleton);if(f.length===0)return;let h=new Set(f.map(A=>A.value));if(n=f.filter(A=>!(A.parent&&h.has(A.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function o(u){function f(A,p){for(;A.length>0&&p.some(m=>typeof m=="string"?m===A[0]:A[0].match(m));)A.shift()}s(f,"removePrefix");let h=u.source.split(`
`).map(A=>A.trim().replace("at ","")).filter(A=>A!=="");return f(h,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),h.reverse()}s(o,"getStackTracePath");let a=new h7;for(let u of n){let f=o(u);for(let h=0;h<=f.length;h++)a.add(f.slice(0,h).join(`
`),u)}n.sort(Aye(u=>u.idx,pye));let c="",l=0;for(let u of n.slice(0,e)){l++;let f=o(u),h=[];for(let A=0;A<f.length;A++){let p=f[A];p=`(shared with ${a.get(f.slice(0,A+1).join(`
`)).size}/${n.length} leaks) at ${p}`;let g=a.get(f.slice(0,A).join(`
`)),y=yye([...g].map(E=>o(E)[A]),E=>E);delete y[f[A]];for(let[E,I]of Object.entries(y))h.unshift(`    - stacktraces of ${I.length} other leaks continue with ${E}`);h.unshift(p)}c+=`


==================== Leaking disposable ${l}/${n.length}: ${u.value.constructor.name} ====================
${h.join(`
`)}
============================================================

`}return n.length>e&&(c+=`


... and ${n.length-e} more leaking disposables

`),{leaks:n,details:c}}};function rit(t){A7=t}s(rit,"setDisposableTracker");if(tit){let t="__is_disposable_tracked__";rit(new class{trackDisposable(e){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[t]||console.log(r)},3e3)}setParent(e,r){if(e&&e!==r2.None)try{e[t]=!0}catch{}}markAsDisposed(e){if(e&&e!==r2.None)try{e[t]=!0}catch{}}markAsSingleton(e){}})}function Tye(t){return A7?.trackDisposable(t),t}s(Tye,"trackDisposable");function wye(t){A7?.markAsDisposed(t)}s(wye,"markAsDisposed");function fY(t,e){A7?.setParent(t,e)}s(fY,"setParentOfDisposable");function nit(t){if(lY.is(t)){let e=[];for(let r of t)if(r)try{r.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}s(nit,"dispose");var dY=class t{constructor(){this._toDispose=new Set;this._isDisposed=!1;Tye(this)}static{s(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(wye(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{nit(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return fY(e,this),this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),fY(e,null))}},r2=class{constructor(){this._store=new dY;Tye(this),fY(this._store,this)}static{s(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){wye(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var yT=class extends r2{static{s(this,"ChatQuotaService")}constructor(e){super(),this._register(ba(e,r=>{this.processUserInfoQuotaSnapshot(r.userInfo?.raw)}))}get quotaExhausted(){return this._quotaInfo?this._quotaInfo.used>=this._quotaInfo.quota&&!this._quotaInfo.overageEnabled:!1}get overagesEnabled(){return this._quotaInfo?this._quotaInfo.overageEnabled:!1}clearQuota(){this._quotaInfo=void 0}processQuotaHeaders(e){let r=e.get("x-quota-snapshot-premium_models")||e.get("x-quota-snapshot-premium_interactions");if(r)try{let n=new URLSearchParams(r),o=parseInt(n.get("ent")||"0",10),a=parseFloat(n.get("ov")||"0.0"),c=n.get("ovPerm")==="true",l=parseFloat(n.get("rem")||"0.0"),u=n.get("rst"),f;u?f=new Date(u):(f=new Date,f.setMonth(f.getMonth()+1));let h=Math.max(0,o*(1-l/100));this._quotaInfo={quota:o,used:h,overageUsed:a,overageEnabled:c,resetDate:f}}catch(n){console.error("Failed to parse quota header",n)}}processUserInfoQuotaSnapshot(e){!e||!e.quota_snapshots||!e.quota_reset_date||(this._quotaInfo={overageEnabled:e.quota_snapshots.premium_interactions.overage_permitted,overageUsed:e.quota_snapshots.premium_interactions.overage_count,quota:e.quota_snapshots.premium_interactions.entitlement,resetDate:new Date(e.quota_reset_date),used:Math.max(0,e.quota_snapshots.premium_interactions.entitlement*(1-e.quota_snapshots.premium_interactions.percent_remaining/100))})}};d();d();d();var Sye=We(is()),rUr=H.Object({accessToken:H.Optional(H.String({minLength:1})),handle:H.Optional(H.String({minLength:1})),login:H.Optional(H.String({minLength:1})),githubAppId:H.Optional(H.String({minLength:1})),apiUrl:H.Optional(H.String({})),serverUrl:H.Optional(H.String({})),tokenEndpoint:H.Optional(H.String({}))}),iit;(r=>(r.method="github/didChangeAuth",r.type=new Sye.ProtocolNotificationType(r.method)))(iit||={});d();var Bye=We(is()),oit;(r=>(r.method="copilot/ipCodeCitation",r.type=new Bye.NotificationType(r.method)))(oit||={});d();var Rye=We(is()),sit;(r=>(r.method="context/update",r.type=new Rye.ProtocolRequestType(r.method)))(sit||={});d();d();d();var Li=We(is()),ait=H.String(),cit=H.Object({uri:ait}),Y1=H.Intersect([cit,H.Object({version:H.Optional(H.Integer())})]),pUr=H.Required(Y1),Dp=H.Object({line:H.Integer({minimum:0}),character:H.Integer({minimum:0})}),kye=H.Object({start:Dp,end:Dp}),hY=H.Union([H.Integer(),H.String()]),mUr=H.Object({isCancellationRequested:H.Boolean(),onCancellationRequested:H.Any()});d();var Dye=We(is()),lit;(r=>(r.method="textDocument/didFocus",r.type=new Dye.ProtocolNotificationType(r.method)))(lit||={});d();var uit=H.Object({didChangeFeatureFlags:H.Boolean(),fetch:H.Boolean(),ipCodeCitation:H.Boolean(),redirectedTelemetry:H.Boolean(),related:H.Boolean(),token:H.Boolean(),watchedFiles:H.Boolean(),showPanelMessage:H.Boolean(),mcpElicitation:H.Boolean(),mcpSampling:H.Boolean(),mcpAllowlist:H.Boolean(),stateDatabase:H.Boolean()}),fit=H.Object({name:H.String(),version:H.String(),readableName:H.Optional(H.String())}),Nye=H.Object({name:H.String(),version:H.Optional(H.String()),readableName:H.Optional(H.String())}),vUr=H.Object({editorInfo:H.Optional(Nye),editorPluginInfo:H.Optional(Nye),relatedPluginInfo:H.Optional(H.Array(fit)),copilotIntegrationId:H.Optional(H.String()),copilotCapabilities:H.Optional(H.Partial(uit)),githubAppId:H.Optional(H.String())});d();var ET=We(is());var Qye=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(Qye||{}),dit=H.Enum(Qye),hit=H.Object({triggerKind:dit,selectedCompletionInfo:H.Optional(H.Object({text:H.String(),range:kye,tooltipSignature:H.Optional(H.String())}))}),Pye=H.Object({textDocument:Y1,position:Dp,formattingOptions:H.Optional(H.Object({tabSize:H.Optional(H.Union([H.Integer({minimum:1}),H.String()])),insertSpaces:H.Optional(H.Union([H.Boolean(),H.String()]))})),context:hit,data:H.Optional(H.Unknown())}),Ait;(r=>(r.method="textDocument/inlineCompletion",r.type=new ET.ProtocolRequestType(r.method)))(Ait||={});var Fye=H.Object({command:H.Object({arguments:H.Tuple([H.String({minLength:1})])})}),BUr=H.Object({item:Fye}),pit;(r=>(r.method="textDocument/didShowCompletion",r.type=new ET.ProtocolNotificationType(r.method)))(pit||={});var RUr=H.Object({item:Fye,acceptedLength:H.Integer({minimum:1})}),mit;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new ET.ProtocolNotificationType(r.method)))(mit||={});d();var Lye=We(is()),git;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new Lye.ProtocolRequestType(r.method)))(git||={});d();var Mye=We(is()),MUr=H.Object({textDocument:Y1,position:Dp}),Cit=H.Object({command:H.Object({arguments:H.Tuple([H.String({minLength:1})])})}),OUr=H.Object({item:Cit}),yit;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new Mye.ProtocolNotificationType(r.method)))(yit||={});d();var p7=We(is());var YUr=H.Object({textDocument:Y1,position:Dp,partialResultToken:H.Optional(hY),workDoneToken:H.Optional(hY)}),Eit;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new p7.ProtocolRequestType(n.method),n.partialResult=new p7.ProgressType))(Eit||={});d();var Oye=We(is()),Iit;(r=>(r.method="copilot/related",r.type=new Oye.ProtocolRequestType(r.method)))(Iit||={});d();var Uye=We(is()),xit;(r=>(r.method="statusNotification",r.type=new Uye.ProtocolNotificationType(r.method)))(xit||={});var qye=We(require("events"));var m7="CompletionRequested",n2=class{constructor(e){this.ctx=e}static{s(this,"CompletionNotifier")}#e=new qye.default;notifyRequest(e,r,n,o,a){return this.#e.emit(m7,{completionId:r,completionState:e,telemetryData:n,cancellationToken:o,options:a})}onRequest(e){let r=rd(this.ctx,e,`event.${m7}`);return this.#e.on(m7,r),Li.Disposable.create(()=>this.#e.off(m7,r))}};d();var AY=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name=`UnregisteredContextErrorFor${r.name}`}static{s(this,"UnregisteredContextError")}},g7=class{constructor(){this.instances=new Map}static{s(this,"Context")}get(e){let r=this.tryGet(e);if(r)return r;throw new AY(e)}tryGet(e){let r=this.instances.get(e);if(r)return r}set(e,r){if(this.tryGet(e))throw new Error(`An instance of ${e.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(e,r),this.instances.set(e,r)}forceSet(e,r){this.assertIsInstance(e,r),this.instances.set(e,r)}assertIsInstance(e,r){if(!(r instanceof e)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${e.name} is not an instance of it (${n}).`)}}};d();d();d();d();var IT={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();var Hye=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],Gye={".php":[".blade"]},Vye=Object.keys(IT).flatMap(t=>IT[t].extensions);var pY=We(require("node:path"));var o2=class{constructor(e,r,n){this.languageId=e;this.isGuess=r;this.fileExtension=n}static{s(this,"Language")}},xT=class{static{s(this,"LanguageDetection")}},mY=new Map,i2=new Map;for(let[t,{extensions:e,filenames:r}]of Object.entries(IT)){for(let n of e)mY.set(n,[...mY.get(n)??[],t]);for(let n of r??[])i2.set(n,[...i2.get(n)??[],t])}var gY=class extends xT{static{s(this,"FilenameAndExensionLanguageDetection")}detectLanguage(e){let r=zh(e.uri),n=pY.extname(r).toLowerCase(),o=this.extensionWithoutTemplateLanguage(r,n),a=this.detectLanguageId(r,o),c=this.computeFullyQualifiedExtension(n,o);return a?new o2(a.languageId,a.isGuess,c):new o2(e.languageId,!0,c)}extensionWithoutTemplateLanguage(e,r){if(Hye.includes(r)){let n=e.substring(0,e.lastIndexOf(".")),o=pY.extname(n).toLowerCase();if(o.length>0&&Vye.includes(o)&&this.isExtensionValidForTemplateLanguage(r,o))return o}return r}isExtensionValidForTemplateLanguage(e,r){let n=Gye[e];return!n||n.includes(r)}detectLanguageId(e,r){if(i2.has(e))return{languageId:i2.get(e)[0],isGuess:!1};let n=mY.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;e.includes(".");)if(e=e.replace(/\.[^.]*$/,""),i2.has(e))return{languageId:i2.get(e)[0],isGuess:!1}}computeFullyQualifiedExtension(e,r){return e!==r?r+e:e}},CY=class extends xT{constructor(r){super();this.delegate=r}static{s(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),o=n.languageId;return o==="c"||o==="cpp"?new o2("cpp",n.isGuess,n.fileExtension):n}},yY=class extends xT{constructor(r){super();this.delegate=r}static{s(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new o2(r.languageId,!0,""):this.delegate.detectLanguage(r)}},vit=new CY(new yY(new gY));function C7({uri:t,languageId:e}){let r=vit.detectLanguage({uri:t,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?e:r.languageId}s(C7,"detectLanguage");d();var y7=class t{static{s(this,"FullTextDocument")}constructor(e,r,n,o){this._uri=e,this._languageId=r,this._version=n,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(let n of e)if(t.isIncremental(n)){let o=jye(n.range),a=this.offsetAt(o.start),c=this.offsetAt(o.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(c,this._content.length);let l=Math.max(o.start.line,0),u=Math.max(o.end.line,0),f=this._lineOffsets,h=Wye(n.text,!1,a);if(u-l===h.length)for(let p=0,m=h.length;p<m;p++)f[p+l+1]=h[p];else h.length<1e4?f.splice(l+1,u-l,...h):this._lineOffsets=f=f.slice(0,l+1).concat(h,f.slice(u+1));let A=n.text.length-(c-a);if(A!==0)for(let p=l+1+h.length,m=f.length;p<m;p++)f[p]=f[p]+A}else if(t.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Wye(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,o=r.length;if(o===0)return{line:0,character:e};for(;n<o;){let c=Math.floor((n+o)/2);r[c]>e?o=c:n=c+1}let a=n-1;return e=this.ensureBeforeEOL(e,r[a]),{line:a,character:e-r[a]}}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line];if(e.character<=0)return n;let o=e.line+1<r.length?r[e.line+1]:this._content.length,a=Math.min(n+e.character,o);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(e,r){for(;e>r&&Yye(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},Np;(function(t){function e(o,a,c,l){return new y7(o,a,c,l)}s(e,"create"),t.create=e;function r(o,a,c){if(o instanceof y7)return o.update(a,c),o;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(r,"update"),t.update=r;function n(o,a){let c=o.getText(),l=EY(a.map(bit),(h,A)=>{let p=h.range.start.line-A.range.start.line;return p===0?h.range.start.character-A.range.start.character:p}),u=0,f=[];for(let h of l){let A=o.offsetAt(h.range.start);if(A<u)throw new Error("Overlapping edit");A>u&&f.push(c.substring(u,A)),h.newText.length&&f.push(h.newText),u=o.offsetAt(h.range.end)}return f.push(c.substr(u)),f.join("")}s(n,"applyEdits"),t.applyEdits=n})(Np||(Np={}));function EY(t,e){if(t.length<=1)return t;let r=t.length/2|0,n=t.slice(0,r),o=t.slice(r);EY(n,e),EY(o,e);let a=0,c=0,l=0;for(;a<n.length&&c<o.length;)e(n[a],o[c])<=0?t[l++]=n[a++]:t[l++]=o[c++];for(;a<n.length;)t[l++]=n[a++];for(;c<o.length;)t[l++]=o[c++];return t}s(EY,"mergeSort");function Wye(t,e,r=0){let n=e?[r]:[];for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);Yye(a)&&(a===13&&o+1<t.length&&t.charCodeAt(o+1)===10&&o++,n.push(r+o+1))}return n}s(Wye,"computeLineOffsets");function Yye(t){return t===13||t===10}s(Yye,"isEOL");function jye(t){let e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}s(jye,"getWellformedRange");function bit(t){let e=jye(t.range);return e!==t.range?{newText:t.newText,range:e}:t}s(bit,"getWellformedEdit");d();var $ye;(function(t){function e(r){return typeof r=="string"}s(e,"is"),t.is=e})($ye||($ye={}));var IY;(function(t){function e(r){return typeof r=="string"}s(e,"is"),t.is=e})(IY||(IY={}));var zye;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}s(e,"is"),t.is=e})(zye||(zye={}));var E7;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}s(e,"is"),t.is=e})(E7||(E7={}));var Ws;(function(t){function e(n,o){return n===Number.MAX_VALUE&&(n=E7.MAX_VALUE),o===Number.MAX_VALUE&&(o=E7.MAX_VALUE),{line:n,character:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Ae.uinteger(o.line)&&Ae.uinteger(o.character)}s(r,"is"),t.is=r})(Ws||(Ws={}));var Hn;(function(t){function e(n,o,a,c){if(Ae.uinteger(n)&&Ae.uinteger(o)&&Ae.uinteger(a)&&Ae.uinteger(c))return{start:Ws.create(n,o),end:Ws.create(a,c)};if(Ws.is(n)&&Ws.is(o))return{start:n,end:o};throw new Error(`Range#create called with invalid arguments[${n}, ${o}, ${a}, ${c}]`)}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Ws.is(o.start)&&Ws.is(o.end)}s(r,"is"),t.is=r})(Hn||(Hn={}));var I7;(function(t){function e(n,o){return{uri:n,range:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Hn.is(o.range)&&(Ae.string(o.uri)||Ae.undefined(o.uri))}s(r,"is"),t.is=r})(I7||(I7={}));var Kye;(function(t){function e(n,o,a,c){return{targetUri:n,targetRange:o,targetSelectionRange:a,originSelectionRange:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Hn.is(o.targetRange)&&Ae.string(o.targetUri)&&Hn.is(o.targetSelectionRange)&&(Hn.is(o.originSelectionRange)||Ae.undefined(o.originSelectionRange))}s(r,"is"),t.is=r})(Kye||(Kye={}));var xY;(function(t){function e(n,o,a,c){return{red:n,green:o,blue:a,alpha:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Ae.numberRange(o.red,0,1)&&Ae.numberRange(o.green,0,1)&&Ae.numberRange(o.blue,0,1)&&Ae.numberRange(o.alpha,0,1)}s(r,"is"),t.is=r})(xY||(xY={}));var Jye;(function(t){function e(n,o){return{range:n,color:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Hn.is(o.range)&&xY.is(o.color)}s(r,"is"),t.is=r})(Jye||(Jye={}));var Xye;(function(t){function e(n,o,a){return{label:n,textEdit:o,additionalTextEdits:a}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Ae.string(o.label)&&(Ae.undefined(o.textEdit)||a2.is(o))&&(Ae.undefined(o.additionalTextEdits)||Ae.typedArray(o.additionalTextEdits,a2.is))}s(r,"is"),t.is=r})(Xye||(Xye={}));var Zye;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(Zye||(Zye={}));var eEe;(function(t){function e(n,o,a,c,l,u){let f={startLine:n,endLine:o};return Ae.defined(a)&&(f.startCharacter=a),Ae.defined(c)&&(f.endCharacter=c),Ae.defined(l)&&(f.kind=l),Ae.defined(u)&&(f.collapsedText=u),f}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Ae.uinteger(o.startLine)&&Ae.uinteger(o.startLine)&&(Ae.undefined(o.startCharacter)||Ae.uinteger(o.startCharacter))&&(Ae.undefined(o.endCharacter)||Ae.uinteger(o.endCharacter))&&(Ae.undefined(o.kind)||Ae.string(o.kind))}s(r,"is"),t.is=r})(eEe||(eEe={}));var vY;(function(t){function e(n,o){return{location:n,message:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&I7.is(o.location)&&Ae.string(o.message)}s(r,"is"),t.is=r})(vY||(vY={}));var tEe;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(tEe||(tEe={}));var rEe;(function(t){t.Unnecessary=1,t.Deprecated=2})(rEe||(rEe={}));var nEe;(function(t){function e(r){let n=r;return Ae.objectLiteral(n)&&Ae.string(n.href)}s(e,"is"),t.is=e})(nEe||(nEe={}));var x7;(function(t){function e(n,o,a,c,l,u){let f={range:n,message:o};return Ae.defined(a)&&(f.severity=a),Ae.defined(c)&&(f.code=c),Ae.defined(l)&&(f.source=l),Ae.defined(u)&&(f.relatedInformation=u),f}s(e,"create"),t.create=e;function r(n){var o;let a=n;return Ae.defined(a)&&Hn.is(a.range)&&Ae.string(a.message)&&(Ae.number(a.severity)||Ae.undefined(a.severity))&&(Ae.integer(a.code)||Ae.string(a.code)||Ae.undefined(a.code))&&(Ae.undefined(a.codeDescription)||Ae.string((o=a.codeDescription)===null||o===void 0?void 0:o.href))&&(Ae.string(a.source)||Ae.undefined(a.source))&&(Ae.undefined(a.relatedInformation)||Ae.typedArray(a.relatedInformation,vY.is))}s(r,"is"),t.is=r})(x7||(x7={}));var s2;(function(t){function e(n,o,...a){let c={title:n,command:o};return Ae.defined(a)&&a.length>0&&(c.arguments=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Ae.string(o.title)&&Ae.string(o.command)}s(r,"is"),t.is=r})(s2||(s2={}));var a2;(function(t){function e(a,c){return{range:a,newText:c}}s(e,"replace"),t.replace=e;function r(a,c){return{range:{start:a,end:a},newText:c}}s(r,"insert"),t.insert=r;function n(a){return{range:a,newText:""}}s(n,"del"),t.del=n;function o(a){let c=a;return Ae.objectLiteral(c)&&Ae.string(c.newText)&&Hn.is(c.range)}s(o,"is"),t.is=o})(a2||(a2={}));var bY;(function(t){function e(n,o,a){let c={label:n};return o!==void 0&&(c.needsConfirmation=o),a!==void 0&&(c.description=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Ae.string(o.label)&&(Ae.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(Ae.string(o.description)||o.description===void 0)}s(r,"is"),t.is=r})(bY||(bY={}));var c2;(function(t){function e(r){let n=r;return Ae.string(n)}s(e,"is"),t.is=e})(c2||(c2={}));var iEe;(function(t){function e(a,c,l){return{range:a,newText:c,annotationId:l}}s(e,"replace"),t.replace=e;function r(a,c,l){return{range:{start:a,end:a},newText:c,annotationId:l}}s(r,"insert"),t.insert=r;function n(a,c){return{range:a,newText:"",annotationId:c}}s(n,"del"),t.del=n;function o(a){let c=a;return a2.is(c)&&(bY.is(c.annotationId)||c2.is(c.annotationId))}s(o,"is"),t.is=o})(iEe||(iEe={}));var _Y;(function(t){function e(n,o){return{textDocument:n,edits:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&RY.is(o.textDocument)&&Array.isArray(o.edits)}s(r,"is"),t.is=r})(_Y||(_Y={}));var TY;(function(t){function e(n,o,a){let c={kind:"create",uri:n};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),a!==void 0&&(c.annotationId=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return o&&o.kind==="create"&&Ae.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||Ae.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||Ae.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||c2.is(o.annotationId))}s(r,"is"),t.is=r})(TY||(TY={}));var wY;(function(t){function e(n,o,a,c){let l={kind:"rename",oldUri:n,newUri:o};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(l.options=a),c!==void 0&&(l.annotationId=c),l}s(e,"create"),t.create=e;function r(n){let o=n;return o&&o.kind==="rename"&&Ae.string(o.oldUri)&&Ae.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||Ae.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||Ae.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||c2.is(o.annotationId))}s(r,"is"),t.is=r})(wY||(wY={}));var SY;(function(t){function e(n,o,a){let c={kind:"delete",uri:n};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(c.options=o),a!==void 0&&(c.annotationId=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return o&&o.kind==="delete"&&Ae.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||Ae.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||Ae.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||c2.is(o.annotationId))}s(r,"is"),t.is=r})(SY||(SY={}));var BY;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(o=>Ae.string(o.kind)?TY.is(o)||wY.is(o)||SY.is(o):_Y.is(o)))}s(e,"is"),t.is=e})(BY||(BY={}));var oEe;(function(t){function e(n){return{uri:n}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Ae.string(o.uri)}s(r,"is"),t.is=r})(oEe||(oEe={}));var sEe;(function(t){function e(n,o){return{uri:n,version:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Ae.string(o.uri)&&Ae.integer(o.version)}s(r,"is"),t.is=r})(sEe||(sEe={}));var RY;(function(t){function e(n,o){return{uri:n,version:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Ae.string(o.uri)&&(o.version===null||Ae.integer(o.version))}s(r,"is"),t.is=r})(RY||(RY={}));var aEe;(function(t){function e(n,o,a,c){return{uri:n,languageId:o,version:a,text:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Ae.string(o.uri)&&Ae.string(o.languageId)&&Ae.integer(o.version)&&Ae.string(o.text)}s(r,"is"),t.is=r})(aEe||(aEe={}));var kY;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){let n=r;return n===t.PlainText||n===t.Markdown}s(e,"is"),t.is=e})(kY||(kY={}));var vT;(function(t){function e(r){let n=r;return Ae.objectLiteral(r)&&kY.is(n.kind)&&Ae.string(n.value)}s(e,"is"),t.is=e})(vT||(vT={}));var cEe;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(cEe||(cEe={}));var lEe;(function(t){t.PlainText=1,t.Snippet=2})(lEe||(lEe={}));var uEe;(function(t){t.Deprecated=1})(uEe||(uEe={}));var fEe;(function(t){function e(n,o,a){return{newText:n,insert:o,replace:a}}s(e,"create"),t.create=e;function r(n){let o=n;return o&&Ae.string(o.newText)&&Hn.is(o.insert)&&Hn.is(o.replace)}s(r,"is"),t.is=r})(fEe||(fEe={}));var dEe;(function(t){t.asIs=1,t.adjustIndentation=2})(dEe||(dEe={}));var hEe;(function(t){function e(r){let n=r;return n&&(Ae.string(n.detail)||n.detail===void 0)&&(Ae.string(n.description)||n.description===void 0)}s(e,"is"),t.is=e})(hEe||(hEe={}));var AEe;(function(t){function e(r){return{label:r}}s(e,"create"),t.create=e})(AEe||(AEe={}));var pEe;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}s(e,"create"),t.create=e})(pEe||(pEe={}));var v7;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(e,"fromPlainText"),t.fromPlainText=e;function r(n){let o=n;return Ae.string(o)||Ae.objectLiteral(o)&&Ae.string(o.language)&&Ae.string(o.value)}s(r,"is"),t.is=r})(v7||(v7={}));var mEe;(function(t){function e(r){let n=r;return!!n&&Ae.objectLiteral(n)&&(vT.is(n.contents)||v7.is(n.contents)||Ae.typedArray(n.contents,v7.is))&&(r.range===void 0||Hn.is(r.range))}s(e,"is"),t.is=e})(mEe||(mEe={}));var gEe;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}s(e,"create"),t.create=e})(gEe||(gEe={}));var CEe;(function(t){function e(r,n,...o){let a={label:r};return Ae.defined(n)&&(a.documentation=n),Ae.defined(o)?a.parameters=o:a.parameters=[],a}s(e,"create"),t.create=e})(CEe||(CEe={}));var yEe;(function(t){t.Text=1,t.Read=2,t.Write=3})(yEe||(yEe={}));var EEe;(function(t){function e(r,n){let o={range:r};return Ae.number(n)&&(o.kind=n),o}s(e,"create"),t.create=e})(EEe||(EEe={}));var IEe;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(IEe||(IEe={}));var xEe;(function(t){t.Deprecated=1})(xEe||(xEe={}));var vEe;(function(t){function e(r,n,o,a,c){let l={name:r,kind:n,location:{uri:a,range:o}};return c&&(l.containerName=c),l}s(e,"create"),t.create=e})(vEe||(vEe={}));var bEe;(function(t){function e(r,n,o,a){return a!==void 0?{name:r,kind:n,location:{uri:o,range:a}}:{name:r,kind:n,location:{uri:o}}}s(e,"create"),t.create=e})(bEe||(bEe={}));var _Ee;(function(t){function e(n,o,a,c,l,u){let f={name:n,detail:o,kind:a,range:c,selectionRange:l};return u!==void 0&&(f.children=u),f}s(e,"create"),t.create=e;function r(n){let o=n;return o&&Ae.string(o.name)&&Ae.number(o.kind)&&Hn.is(o.range)&&Hn.is(o.selectionRange)&&(o.detail===void 0||Ae.string(o.detail))&&(o.deprecated===void 0||Ae.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}s(r,"is"),t.is=r})(_Ee||(_Ee={}));var TEe;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(TEe||(TEe={}));var b7;(function(t){t.Invoked=1,t.Automatic=2})(b7||(b7={}));var wEe;(function(t){function e(n,o,a){let c={diagnostics:n};return o!=null&&(c.only=o),a!=null&&(c.triggerKind=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Ae.typedArray(o.diagnostics,x7.is)&&(o.only===void 0||Ae.typedArray(o.only,Ae.string))&&(o.triggerKind===void 0||o.triggerKind===b7.Invoked||o.triggerKind===b7.Automatic)}s(r,"is"),t.is=r})(wEe||(wEe={}));var SEe;(function(t){function e(n,o,a){let c={title:n},l=!0;return typeof o=="string"?(l=!1,c.kind=o):s2.is(o)?c.command=o:c.edit=o,l&&a!==void 0&&(c.kind=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return o&&Ae.string(o.title)&&(o.diagnostics===void 0||Ae.typedArray(o.diagnostics,x7.is))&&(o.kind===void 0||Ae.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||s2.is(o.command))&&(o.isPreferred===void 0||Ae.boolean(o.isPreferred))&&(o.edit===void 0||BY.is(o.edit))}s(r,"is"),t.is=r})(SEe||(SEe={}));var BEe;(function(t){function e(n,o){let a={range:n};return Ae.defined(o)&&(a.data=o),a}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Hn.is(o.range)&&(Ae.undefined(o.command)||s2.is(o.command))}s(r,"is"),t.is=r})(BEe||(BEe={}));var REe;(function(t){function e(n,o){return{tabSize:n,insertSpaces:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Ae.uinteger(o.tabSize)&&Ae.boolean(o.insertSpaces)}s(r,"is"),t.is=r})(REe||(REe={}));var kEe;(function(t){function e(n,o,a){return{range:n,target:o,data:a}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Hn.is(o.range)&&(Ae.undefined(o.target)||Ae.string(o.target))}s(r,"is"),t.is=r})(kEe||(kEe={}));var DEe;(function(t){function e(n,o){return{range:n,parent:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Hn.is(o.range)&&(o.parent===void 0||t.is(o.parent))}s(r,"is"),t.is=r})(DEe||(DEe={}));var NEe;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(NEe||(NEe={}));var QEe;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(QEe||(QEe={}));var PEe;(function(t){function e(r){let n=r;return Ae.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}s(e,"is"),t.is=e})(PEe||(PEe={}));var FEe;(function(t){function e(n,o){return{range:n,text:o}}s(e,"create"),t.create=e;function r(n){let o=n;return o!=null&&Hn.is(o.range)&&Ae.string(o.text)}s(r,"is"),t.is=r})(FEe||(FEe={}));var LEe;(function(t){function e(n,o,a){return{range:n,variableName:o,caseSensitiveLookup:a}}s(e,"create"),t.create=e;function r(n){let o=n;return o!=null&&Hn.is(o.range)&&Ae.boolean(o.caseSensitiveLookup)&&(Ae.string(o.variableName)||o.variableName===void 0)}s(r,"is"),t.is=r})(LEe||(LEe={}));var MEe;(function(t){function e(n,o){return{range:n,expression:o}}s(e,"create"),t.create=e;function r(n){let o=n;return o!=null&&Hn.is(o.range)&&(Ae.string(o.expression)||o.expression===void 0)}s(r,"is"),t.is=r})(MEe||(MEe={}));var OEe;(function(t){function e(n,o){return{frameId:n,stoppedLocation:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.defined(o)&&Hn.is(n.stoppedLocation)}s(r,"is"),t.is=r})(OEe||(OEe={}));var DY;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}s(e,"is"),t.is=e})(DY||(DY={}));var NY;(function(t){function e(n){return{value:n}}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&(o.tooltip===void 0||Ae.string(o.tooltip)||vT.is(o.tooltip))&&(o.location===void 0||I7.is(o.location))&&(o.command===void 0||s2.is(o.command))}s(r,"is"),t.is=r})(NY||(NY={}));var UEe;(function(t){function e(n,o,a){let c={position:n,label:o};return a!==void 0&&(c.kind=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Ae.objectLiteral(o)&&Ws.is(o.position)&&(Ae.string(o.label)||Ae.typedArray(o.label,NY.is))&&(o.kind===void 0||DY.is(o.kind))&&o.textEdits===void 0||Ae.typedArray(o.textEdits,a2.is)&&(o.tooltip===void 0||Ae.string(o.tooltip)||vT.is(o.tooltip))&&(o.paddingLeft===void 0||Ae.boolean(o.paddingLeft))&&(o.paddingRight===void 0||Ae.boolean(o.paddingRight))}s(r,"is"),t.is=r})(UEe||(UEe={}));var qEe;(function(t){function e(r){return{kind:"snippet",value:r}}s(e,"createSnippet"),t.createSnippet=e})(qEe||(qEe={}));var HEe;(function(t){function e(r,n,o,a){return{insertText:r,filterText:n,range:o,command:a}}s(e,"create"),t.create=e})(HEe||(HEe={}));var GEe;(function(t){function e(r){return{items:r}}s(e,"create"),t.create=e})(GEe||(GEe={}));var VEe;(function(t){t.Invoked=0,t.Automatic=1})(VEe||(VEe={}));var WEe;(function(t){function e(r,n){return{range:r,text:n}}s(e,"create"),t.create=e})(WEe||(WEe={}));var YEe;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}s(e,"create"),t.create=e})(YEe||(YEe={}));var jEe;(function(t){function e(r){let n=r;return Ae.objectLiteral(n)&&IY.is(n.uri)&&Ae.string(n.name)}s(e,"is"),t.is=e})(jEe||(jEe={}));var $Ee;(function(t){function e(a,c,l,u){return new QY(a,c,l,u)}s(e,"create"),t.create=e;function r(a){let c=a;return!!(Ae.defined(c)&&Ae.string(c.uri)&&(Ae.undefined(c.languageId)||Ae.string(c.languageId))&&Ae.uinteger(c.lineCount)&&Ae.func(c.getText)&&Ae.func(c.positionAt)&&Ae.func(c.offsetAt))}s(r,"is"),t.is=r;function n(a,c){let l=a.getText(),u=o(c,(h,A)=>{let p=h.range.start.line-A.range.start.line;return p===0?h.range.start.character-A.range.start.character:p}),f=l.length;for(let h=u.length-1;h>=0;h--){let A=u[h],p=a.offsetAt(A.range.start),m=a.offsetAt(A.range.end);if(m<=f)l=l.substring(0,p)+A.newText+l.substring(m,l.length);else throw new Error("Overlapping edit");f=p}return l}s(n,"applyEdits"),t.applyEdits=n;function o(a,c){if(a.length<=1)return a;let l=a.length/2|0,u=a.slice(0,l),f=a.slice(l);o(u,c),o(f,c);let h=0,A=0,p=0;for(;h<u.length&&A<f.length;)c(u[h],f[A])<=0?a[p++]=u[h++]:a[p++]=f[A++];for(;h<u.length;)a[p++]=u[h++];for(;A<f.length;)a[p++]=f[A++];return a}s(o,"mergeSort")})($Ee||($Ee={}));var QY=class{static{s(this,"FullTextDocument")}constructor(e,r,n,o){this._uri=e,this._languageId=r,this._version=n,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let o=0;o<r.length;o++){n&&(e.push(o),n=!1);let a=r.charAt(o);n=a==="\r"||a===`
`,a==="\r"&&o+1<r.length&&r.charAt(o+1)===`
`&&o++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,o=r.length;if(o===0)return Ws.create(0,e);for(;n<o;){let c=Math.floor((n+o)/2);r[c]>e?o=c:n=c+1}let a=n-1;return Ws.create(a,e-r[a])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],o=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,o),n)}get lineCount(){return this.getLineOffsets().length}},Ae;(function(t){let e=Object.prototype.toString;function r(m){return typeof m<"u"}s(r,"defined"),t.defined=r;function n(m){return typeof m>"u"}s(n,"undefined"),t.undefined=n;function o(m){return m===!0||m===!1}s(o,"boolean"),t.boolean=o;function a(m){return e.call(m)==="[object String]"}s(a,"string"),t.string=a;function c(m){return e.call(m)==="[object Number]"}s(c,"number"),t.number=c;function l(m,g,y){return e.call(m)==="[object Number]"&&g<=m&&m<=y}s(l,"numberRange"),t.numberRange=l;function u(m){return e.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}s(u,"integer"),t.integer=u;function f(m){return e.call(m)==="[object Number]"&&0<=m&&m<=2147483647}s(f,"uinteger"),t.uinteger=f;function h(m){return e.call(m)==="[object Function]"}s(h,"func"),t.func=h;function A(m){return m!==null&&typeof m=="object"}s(A,"objectLiteral"),t.objectLiteral=A;function p(m,g){return Array.isArray(m)&&m.every(g)}s(p,"typedArray"),t.typedArray=p})(Ae||(Ae={}));var _7=class{static{s(this,"LocationFactory")}static{this.range=Hn.create.bind(Hn)}static{this.position=Ws.create.bind(Ws)}},T7=class t{constructor(e,r,n){this.uri=e;this._textDocument=r;this.detectedLanguageId=n}static{s(this,"CopilotTextDocument")}static withChanges(e,r,n){let o=Np.create(e.clientUri,e.clientLanguageId,n,e.getText());return Np.update(o,r,n),new t(e.uri,o,e.detectedLanguageId)}applyEdits(e){let r=Np.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return Np.update(r,e.map(n=>({text:n.newText,range:n.range})),this.version),new t(this.uri,r,this.detectedLanguageId)}static create(e,r,n,o,a=C7({uri:e,languageId:r})){return new t($h(e),Np.create(e,r,n,o),a)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(e){return this._textDocument.getText(e)}positionAt(e){return this._textDocument.positionAt(e)}offsetAt(e){return this._textDocument.offsetAt(e)}lineAt(e){let r=typeof e=="number"?e:e.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Hn.create(r,0,r+1,0),o=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),a=Hn.create(Ws.create(r,0),Ws.create(r,o.length)),c=o.trim().length===0;return{text:o,range:a,isEmptyOrWhitespace:c}}};d();d();d();d();var bT={isBlocked:!1,reason:"VALID_FILE"},w7={isBlocked:!1,reason:"NO_MATCHING_POLICY"},zEe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},j1={all:"all",repo:"repo"},Qp=new or("contentExclusion");d();d();var S7=class{static{s(this,"PolicyEvaluator")}};d();d();d();var KEe=new or("repository"),$1=class t{constructor(){this.data={}}static{s(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(e){let r=this.getAll(e);return r?r[r.length-1]:void 0}getAll(e){return this.data[this.normalizeKey(e)]}add(e,r){e in this.data||(this.data[e]=[]),this.data[e].push(r)}getSectionValues(e,r){let n=`${e}.`.toLowerCase(),o=`.${r}`.toLowerCase();return Object.keys(this.data).filter(a=>a.startsWith(n)&&a.endsWith(o)).map(a=>a.slice(n.length,-o.length))}concat(e){return this.getEntries().concat(e.getEntries()).reduce((r,[n,o])=>(o.forEach(a=>r.add(n,a)),r),new t)}normalizeKey(e){let r=e.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},Xl=class{static{s(this,"GitConfigLoader")}},B7=class extends Xl{constructor(r){super();this.loaders=r}static{s(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let o of this.loaders){let a=await o.getConfig(r,n);if(a)return a}}};d();var JEe=require("os");var R7=class{constructor(e){this.url=e;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{s(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return jh.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let e=this.url.indexOf(":");return this.url.substring(0,e+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let e;try{e=jh.parse(this.url)}catch(r){this._error=r;return}this._scheme=e.scheme,this.setAuthority(e.authority),this.setPath(e.path)}setAuthority(e){this._authority=e;let r=e.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let e=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(e&&((0,JEe.platform)()!=="win32"||(e.groups?.host?.length??0)>1)){let r=e.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(e){if(this.isADO())try{this._path=decodeURIComponent(e);return}catch{}this._path=e}};var k7=class{static{s(this,"GitRemoteResolver")}async resolveRemote(e,r){let n=await e.get(Xl).getConfig(e,r);if(!n)return;let o=this.getRemotes(n),a=o.filter(c=>c.url.isGitHub());if(a.length)return a.find(c=>c.name==="origin")?.url??a[0].url;if(o.length)return o.find(c=>c.name==="origin")?.url??o[0].url}getRemotes(e){let r=this.getInsteadOfRules(e);return e.getSectionValues("remote","url").map(n=>({name:n,url:new R7(this.applyInsteadOfRules(r,e.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(e,r){for(let n of e)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(e){return e.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:e.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var _it=100,PY=class{constructor(e,r){this.baseFolder=e;this.remote=r;this.setNWO()}static{s(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let e=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=e?.[0],this._name=e?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&e?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=e?.[1],this._owner=e?.[2],this._name=e?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=e?.[1],this._name=e?.[3]):(this._adoOrganization=e?.[0],this._owner=e?.[1],this._name=e?.[3])}}},uh=class t{constructor(e){this.ctx=e;this.remoteResolver=new k7;this.cache=new vr(_it)}static{s(this,"RepositoryManager")}async getRepo({uri:e}){let r,n=[];do{if(this.cache.has(e.toString())){let a=this.cache.get(e);return this.updateCache(n,a),a}n.push(e.toString());let o=await this.tryGetRepoForFolder(e);if(o)return this.updateCache(n,o),o;r=e,e=td(e)}while(e!==r);this.updateCache(n,void 0)}updateCache(e,r){e.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(e){return await this.isBaseRepoFolder(e)?new PY(typeof e=="string"?{uri:e}:e,await this.repoUrl(e)):void 0}async isBaseRepoFolder(e){return await t.getRepoConfigLocation(this.ctx,e)!==void 0}async repoUrl(e){return await this.remoteResolver.resolveRemote(this.ctx,e)}static async getRepoConfigLocation(e,r){try{let n=e.get(Yo),o=Do(r,".git");if((await n.stat(o)).type&1)return await this.getConfigLocationForGitfile(n,r,o);let c=Do(o,"config");return await n.stat(c),c}catch{return}}static async getConfigLocationForGitfile(e,r,n){let a=(await e.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!a)return;let c=Qm(r,a[1]),l=Do(c,"config");if(await this.tryStat(e,l)!==void 0)return l;let u=Do(c,"config.worktree");if(await this.tryStat(e,u)!==void 0)return u;let f=Do(c,"commondir");c=Qm(c,(await e.readFileString(f)).trimEnd());let h=Do(c,"config");return await e.stat(h),h}static async tryStat(e,r){try{return await e.stat(r)}catch{return}}};d();var FY=s((t,e)=>{if(Bp.Check(t,e))return e;let r=`Typebox schema validation failed:
${[...Bp.Errors(t,e)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var D7=new WeakMap;function N7(t,e){if(t==null||typeof t!="object")return String(t);let r,n="",o=0,a=Object.prototype.toString.call(t);if(a!=="[object RegExp]"&&a!=="[object Date]"&&D7.has(t))return D7.get(t);switch(D7.set(t,"~"+ ++e),a){case"[object Set]":r=Array.from(t);case"[object Array]":for(r||(r=t),n+="a";o<r.length;n+=N7(r[o++],e));break;case"[object Object]":for(n+="o",r=Object.keys(t).sort();o<r.length;n+=r[o]+N7(t[r[o++]],e));break;case"[object Map]":for(n+="o",r=Array.from(t.keys()).sort();o<r.length;n+=r[o]+N7(t.get(r[o++]),e));break;case"[object Date]":return"d"+ +t;case"[object RegExp]":return"r"+t.source+t.flags;default:throw new Error(`Unsupported value ${t}`)}return D7.set(t,n),n}s(N7,"t");function Q7(t){return N7(t,0)}s(Q7,"r");var LY=new WeakMap;function XEe(t,e,r=Q7(e)){let n,o,a=LY.get(t);a||(LY.set(t,a=[[],o=[],n=[]]),queueMicrotask(function(){let f,h=0;function A(p){for(;f=n[h++];f.r(p));}s(A,"o"),LY.delete(t),t(o).then(function(p){if(p.length!==n.length)return A(new Error("loader value length mismatch"));for(;f=p[h++],h<=p.length;f instanceof Error?n[h-1].r(f):n[h-1].s(f));},A)}));let c=a[0].indexOf(r);if(~c)return a[2][c].p;let l=a[0].push(r)-1,u=a[2][l]={};return a[1][l]=e,u.p=new Promise(function(f,h){u.s=f,u.r=h})}s(XEe,"n");var ZEe=new WeakMap;function Tit(t,e,r,n=Q7(r)){if(e||(e=ZEe.get(t)),e||ZEe.set(t,e=new Map),e.has(n))return Promise.resolve(e.get(n));let o=XEe(t,r,n);return e.set(n,o),o.catch(()=>e.delete(n)),o}s(Tit,"n");function eIe(t,e){return function(r,n){return Tit(t,e,r,n)}}s(eIe,"o");d();var IIe=We(hIe(),1);d();var TT=s(t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var Qit={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},wT=s(t=>t.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),Pit=s(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),AIe=s(t=>t.join(""),"rangesToString"),pIe=s((t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],o=[],a=r+1,c=!1,l=!1,u=!1,f=!1,h=r,A="";e:for(;a<t.length;){let y=t.charAt(a);if((y==="!"||y==="^")&&a===r+1){f=!0,a++;continue}if(y==="]"&&c&&!u){h=a+1;break}if(c=!0,y==="\\"&&!u){u=!0,a++;continue}if(y==="["&&!u){for(let[E,[I,x,v]]of Object.entries(Qit))if(t.startsWith(E,a)){if(A)return["$.",!1,t.length-r,!0];a+=E.length,v?o.push(I):n.push(I),l=l||x;continue e}}if(u=!1,A){y>A?n.push(wT(A)+"-"+wT(y)):y===A&&n.push(wT(y)),A="",a++;continue}if(t.startsWith("-]",a+1)){n.push(wT(y+"-")),a+=2;continue}if(t.startsWith("-",a+1)){A=y,a+=2;continue}n.push(wT(y)),a++}if(h<a)return["",!1,0,!1];if(!n.length&&!o.length)return["$.",!1,t.length-r,!0];if(o.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!f){let y=n[0].length===2?n[0].slice(-1):n[0];return[Pit(y),!1,h-r,!1]}let p="["+(f?"^":"")+AIe(n)+"]",m="["+(f?"":"^")+AIe(o)+"]";return[n.length&&o.length?"("+p+"|"+m+")":n.length?p:m,l,h-r,!0]},"parseClass");d();var Pp=s((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var Fit=new Set(["!","?","+","*","@"]),mIe=s(t=>Fit.has(t),"isExtglobType"),Lit="(?!(?:^|/)\\.\\.?(?:$|/))",P7="(?!\\.)",Mit=new Set(["[","."]),Oit=new Set(["..","."]),Uit=new Set("().*{}+?[]^$\\!"),qit=s(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),UY="[^/]",gIe=UY+"*?",CIe=UY+"+?",l2=class t{static{s(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#c;#l;#f=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#c=this.#e===this?n:this.#e.#c,this.#s=this.#e===this?[]:this.#e.#s,e==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#h(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#s.pop();){if(e.type!=="!")continue;let r=e,n=r.#r;for(;n;){for(let o=r.#o+1;!n.type&&o<n.#n.length;o++)for(let a of e.#n){if(typeof a=="string")throw new Error("string part in extglob AST??");a.copyIn(n.#n[o])}r=n,n=r.#r}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let e=this.#r;for(let r=0;r<this.#o;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#n.length:0;return this.#o===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#u(e,r,n,o){let a=!1,c=!1,l=-1,u=!1;if(r.type===null){let m=n,g="";for(;m<e.length;){let y=e.charAt(m++);if(a||y==="\\"){a=!a,g+=y;continue}if(c){m===l+1?(y==="^"||y==="!")&&(u=!0):y==="]"&&!(m===l+2&&u)&&(c=!1),g+=y;continue}else if(y==="["){c=!0,l=m,u=!1,g+=y;continue}if(!o.noext&&mIe(y)&&e.charAt(m)==="("){r.push(g),g="";let E=new t(y,r);m=t.#u(e,E,m,o),r.push(E);continue}g+=y}return r.push(g),m}let f=n+1,h=new t(null,r),A=[],p="";for(;f<e.length;){let m=e.charAt(f++);if(a||m==="\\"){a=!a,p+=m;continue}if(c){f===l+1?(m==="^"||m==="!")&&(u=!0):m==="]"&&!(f===l+2&&u)&&(c=!1),p+=m;continue}else if(m==="["){c=!0,l=f,u=!1,p+=m;continue}if(mIe(m)&&e.charAt(f)==="("){h.push(p),p="";let g=new t(m,h);h.push(g),f=t.#u(e,g,f,o);continue}if(m==="|"){h.push(p),p="",A.push(h),h=new t(null,r);continue}if(m===")")return p===""&&r.#n.length===0&&(r.#f=!0),h.push(p),p="",r.push(...A,h),f;p+=m}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],f}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#u(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,o,a]=this.toRegExpSource();if(!(o||this.#t||this.#c.nocase&&!this.#c.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let l=(this.#c.nocase?"i":"")+(a?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:e})}get options(){return this.#c}toRegExpSource(e){let r=e??!!this.#c.dot;if(this.#e===this&&this.#h(),!this.type){let u=this.isStart()&&this.isEnd(),f=this.#n.map(m=>{let[g,y,E,I]=typeof m=="string"?t.#A(m,this.#t,u):m.toRegExpSource(e);return this.#t=this.#t||E,this.#i=this.#i||I,g}).join(""),h="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&Oit.has(this.#n[0]))){let g=Mit,y=r&&g.has(f.charAt(0))||f.startsWith("\\.")&&g.has(f.charAt(2))||f.startsWith("\\.\\.")&&g.has(f.charAt(4)),E=!r&&!e&&g.has(f.charAt(0));h=y?Lit:E?P7:""}let A="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(A="(?:$|\\/)"),[h+f+A,Pp(f),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",o=this.type==="!"?"(?:(?!(?:":"(?:",a=this.#d(r);if(this.isStart()&&this.isEnd()&&!a&&this.type!=="!"){let u=this.toString();return this.#n=[u],this.type=null,this.#t=void 0,[u,Pp(this.toString()),!1,!1]}let c=!n||e||r||!P7?"":this.#d(!0);c===a&&(c=""),c&&(a=`(?:${a})(?:${c})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?P7:"")+CIe;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!e?P7:"")+gIe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&c?")":this.type==="*"&&c?")?":`)${this.type}`;l=o+a+u}return[l,Pp(a),this.#t=!!this.#t,this.#i]}#d(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,o,a,c]=r.toRegExpSource(e);return this.#i=this.#i||c,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#A(e,r,n=!1){let o=!1,a="",c=!1;for(let l=0;l<e.length;l++){let u=e.charAt(l);if(o){o=!1,a+=(Uit.has(u)?"\\":"")+u;continue}if(u==="\\"){l===e.length-1?a+="\\\\":o=!0;continue}if(u==="["){let[f,h,A,p]=pIe(e,l);if(A){a+=f,c=c||h,l+=A-1,r=r||p;continue}}if(u==="*"){n&&e==="*"?a+=CIe:a+=gIe,r=!0;continue}if(u==="?"){a+=UY,r=!0;continue}a+=qit(u)}return[a,Pp(e),!!r,c]}};d();var qY=s((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Cs=s((t,e,r={})=>(TT(e),!r.nocomment&&e.charAt(0)==="#"?!1:new u2(e,r).match(t)),"minimatch"),Hit=/^\*+([^+@!?\*\[\(]*)$/,Git=s(t=>e=>!e.startsWith(".")&&e.endsWith(t),"starDotExtTest"),Vit=s(t=>e=>e.endsWith(t),"starDotExtTestDot"),Wit=s(t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),"starDotExtTestNocase"),Yit=s(t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),"starDotExtTestNocaseDot"),jit=/^\*+\.\*+$/,$it=s(t=>!t.startsWith(".")&&t.includes("."),"starDotStarTest"),zit=s(t=>t!=="."&&t!==".."&&t.includes("."),"starDotStarTestDot"),Kit=/^\.\*+$/,Jit=s(t=>t!=="."&&t!==".."&&t.startsWith("."),"dotStarTest"),Xit=/^\*+$/,Zit=s(t=>t.length!==0&&!t.startsWith("."),"starTest"),eot=s(t=>t.length!==0&&t!=="."&&t!=="..","starTestDot"),tot=/^\?+([^+@!?\*\[\(]*)?$/,rot=s(([t,e=""])=>{let r=xIe([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocase"),not=s(([t,e=""])=>{let r=vIe([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocaseDot"),iot=s(([t,e=""])=>{let r=vIe([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTestDot"),oot=s(([t,e=""])=>{let r=xIe([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTest"),xIe=s(([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},"qmarksTestNoExt"),vIe=s(([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),bIe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",yIe={win32:{sep:"\\"},posix:{sep:"/"}},sot=bIe==="win32"?yIe.win32.sep:yIe.posix.sep;Cs.sep=sot;var J0=Symbol("globstar **");Cs.GLOBSTAR=J0;var aot="[^/]",cot=aot+"*?",lot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",uot="(?:(?!(?:\\/|^)\\.).)*?",fot=s((t,e={})=>r=>Cs(r,t,e),"filter");Cs.filter=fot;var K0=s((t,e={})=>Object.assign({},t,e),"ext"),dot=s(t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Cs;let e=Cs;return Object.assign(s((n,o,a={})=>e(n,o,K0(t,a)),"m"),{Minimatch:class extends e.Minimatch{static{s(this,"Minimatch")}constructor(o,a={}){super(o,K0(t,a))}static defaults(o){return e.defaults(K0(t,o)).Minimatch}},AST:class extends e.AST{static{s(this,"AST")}constructor(o,a,c={}){super(o,a,K0(t,c))}static fromGlob(o,a={}){return e.AST.fromGlob(o,K0(t,a))}},unescape:s((n,o={})=>e.unescape(n,K0(t,o)),"unescape"),escape:s((n,o={})=>e.escape(n,K0(t,o)),"escape"),filter:s((n,o={})=>e.filter(n,K0(t,o)),"filter"),defaults:s(n=>e.defaults(K0(t,n)),"defaults"),makeRe:s((n,o={})=>e.makeRe(n,K0(t,o)),"makeRe"),braceExpand:s((n,o={})=>e.braceExpand(n,K0(t,o)),"braceExpand"),match:s((n,o,a={})=>e.match(n,o,K0(t,a)),"match"),sep:e.sep,GLOBSTAR:J0})},"defaults");Cs.defaults=dot;var _Ie=s((t,e={})=>(TT(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,IIe.default)(t)),"braceExpand");Cs.braceExpand=_Ie;var hot=s((t,e={})=>new u2(t,e).makeRe(),"makeRe");Cs.makeRe=hot;var Aot=s((t,e,r={})=>{let n=new u2(e,r);return t=t.filter(o=>n.match(o)),n.options.nonull&&!t.length&&t.push(e),t},"match");Cs.match=Aot;var EIe=/[?*]|[+@!]\(.*?\)|\[|\]/,pot=s(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),u2=class{static{s(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){TT(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||bIe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...a)=>console.error(...a)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(a=>this.slashSplit(a));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let o=this.globParts.map((a,c,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let u=a[0]===""&&a[1]===""&&(a[2]==="?"||!EIe.test(a[2]))&&!EIe.test(a[3]),f=/^[a-z]:/i.test(a[0]);if(u)return[...a.slice(0,4),...a.slice(4).map(h=>this.parse(h))];if(f)return[a[0],...a.slice(1).map(h=>this.parse(h))]}return a.map(u=>this.parse(u))});if(this.debug(this.pattern,o),this.set=o.filter(a=>a.indexOf(!1)===-1),this.isWindows)for(let a=0;a<this.set.length;a++){let c=this.set[a];c[0]===""&&c[1]===""&&this.globParts[a][2]==="?"&&typeof c[3]=="string"&&/^[a-z]:$/i.test(c[3])&&(c[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++)e[n][o]==="**"&&(e[n][o]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let o=n;for(;r[o+1]==="**";)o++;o!==n&&r.splice(n,o-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,o)=>{let a=n[n.length-1];return o==="**"&&a==="**"?n:o===".."&&a&&a!==".."&&a!=="."&&a!=="**"?(n.pop(),n):(n.push(o),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let o=1;o<e.length-1;o++){let a=e[o];o===1&&a===""&&e[0]===""||(a==="."||a==="")&&(r=!0,e.splice(o,1),o--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let o=e[n-1];o&&o!=="."&&o!==".."&&o!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let o=-1;for(;(o=n.indexOf("**",o+1))!==-1;){let c=o;for(;n[c+1]==="**";)c++;c>o&&n.splice(o+1,c-o);let l=n[o+1],u=n[o+2],f=n[o+3];if(l!==".."||!u||u==="."||u===".."||!f||f==="."||f==="..")continue;r=!0,n.splice(o,1);let h=n.slice(0);h[o]="**",e.push(h),o--}if(!this.preserveMultipleSlashes){for(let c=1;c<n.length-1;c++){let l=n[c];c===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(c,1),c--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let a=0;for(;(a=n.indexOf("..",a+1))!==-1;){let c=n[a-1];if(c&&c!=="."&&c!==".."&&c!=="**"){r=!0;let u=a===1&&n[a+1]==="**"?["."]:[];n.splice(a-1,2,...u),n.length===0&&n.push(""),a-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let o=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(o){e[r]=[],e[n]=o;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let o=0,a=0,c=[],l="";for(;o<e.length&&a<r.length;)if(e[o]===r[a])c.push(l==="b"?r[a]:e[o]),o++,a++;else if(n&&e[o]==="**"&&r[a]===e[o+1])c.push(e[o]),o++;else if(n&&r[a]==="**"&&e[o]===r[a+1])c.push(r[a]),a++;else if(e[o]==="*"&&r[a]&&(this.options.dot||!r[a].startsWith("."))&&r[a]!=="**"){if(l==="b")return!1;l="a",c.push(e[o]),o++,a++}else if(r[a]==="*"&&e[o]&&(this.options.dot||!e[o].startsWith("."))&&e[o]!=="**"){if(l==="a")return!1;l="b",c.push(r[a]),o++,a++}else return!1;return e.length===r.length&&c}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let o=0;o<e.length&&e.charAt(o)==="!";o++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let o=this.options;if(this.isWindows){let y=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),E=!y&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),I=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),x=!I&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),v=E?3:y?0:void 0,b=x?3:I?0:void 0;if(typeof v=="number"&&typeof b=="number"){let[_,S]=[e[v],r[b]];_.toLowerCase()===S.toLowerCase()&&(r[b]=_,b>v?r=r.slice(b):v>b&&(e=e.slice(v)))}}let{optimizationLevel:a=1}=this.options;a>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var c=0,l=0,u=e.length,f=r.length;c<u&&l<f;c++,l++){this.debug("matchOne loop");var h=r[l],A=e[c];if(this.debug(r,h,A),h===!1)return!1;if(h===J0){this.debug("GLOBSTAR",[r,h,A]);var p=c,m=l+1;if(m===f){for(this.debug("** at the end");c<u;c++)if(e[c]==="."||e[c]===".."||!o.dot&&e[c].charAt(0)===".")return!1;return!0}for(;p<u;){var g=e[p];if(this.debug(`
globstar while`,e,p,r,m,g),this.matchOne(e.slice(p),r.slice(m),n))return this.debug("globstar found match!",p,u,g),!0;if(g==="."||g===".."||!o.dot&&g.charAt(0)==="."){this.debug("dot detected!",e,p,r,m);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,p,r,m),p===u))}let y;if(typeof h=="string"?(y=A===h,this.debug("string match",h,A,y)):(y=h.test(A),this.debug("pattern match",h,A,y)),!y)return!1}if(c===u&&l===f)return!0;if(c===u)return n;if(l===f)return c===u-1&&e[c]==="";throw new Error("wtf?")}braceExpand(){return _Ie(this.pattern,this.options)}parse(e){TT(e);let r=this.options;if(e==="**")return J0;if(e==="")return"";let n,o=null;(n=e.match(Xit))?o=r.dot?eot:Zit:(n=e.match(Hit))?o=(r.nocase?r.dot?Yit:Wit:r.dot?Vit:Git)(n[1]):(n=e.match(tot))?o=(r.nocase?r.dot?not:rot:r.dot?iot:oot)(n):(n=e.match(jit))?o=r.dot?zit:$it:(n=e.match(Kit))&&(o=Jit);let a=l2.fromGlob(e,this.options).toMMPattern();return o&&typeof a=="object"&&Reflect.defineProperty(a,"test",{value:o}),a}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?cot:r.dot?lot:uot,o=new Set(r.nocase?["i"]:[]),a=e.map(u=>{let f=u.map(h=>{if(h instanceof RegExp)for(let A of h.flags.split(""))o.add(A);return typeof h=="string"?pot(h):h===J0?J0:h._src});return f.forEach((h,A)=>{let p=f[A+1],m=f[A-1];h!==J0||m===J0||(m===void 0?p!==void 0&&p!==J0?f[A+1]="(?:\\/|"+n+"\\/)?"+p:f[A]=n:p===void 0?f[A-1]=m+"(?:\\/|"+n+")?":p!==J0&&(f[A-1]=m+"(?:\\/|\\/"+n+"\\/)"+p,f[A+1]=J0))}),f.filter(h=>h!==J0).join("/")}).join("|"),[c,l]=e.length>1?["(?:",")"]:["",""];a="^"+c+a+l+"$",this.negate&&(a="^(?!"+a+").+$");try{this.regexp=new RegExp(a,[...o].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let o=this.slashSplit(e);this.debug(this.pattern,"split",o);let a=this.set;this.debug(this.pattern,"set",a);let c=o[o.length-1];if(!c)for(let l=o.length-2;!c&&l>=0;l--)c=o[l];for(let l=0;l<a.length;l++){let u=a[l],f=o;if(n.matchBase&&u.length===1&&(f=[c]),this.matchOne(f,u,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Cs.defaults(e).Minimatch}};Cs.AST=l2;Cs.Minimatch=u2;Cs.escape=qY;Cs.unescape=Pp;var HY="contentExclusion",F7=class extends S7{static{s(this,"CopilotContentExclusion")}#e;#t=new vr(1e4);#i=new vr(200);constructor(e){super(),this.#e=e}async evaluate(e,r){try{e=Qm(e).toString();let n=await this.getGitRepo({uri:e}),o=await this.#n(n?.url??j1.all);if(!o)return w7;let a=n?.baseFolder?.uri??"file://",c=this.evaluateFilePathRules(e,a,o);if(c.isBlocked)return c;let l=this.evaluateTextBasedRules(e,o,r);if(l.isBlocked)return l}catch(n){return Qp.exception(this.#e,n,`${HY}.evaluate`),zEe}return bT}evaluateFilePathRules(e,r,n){let o=e;if(this.#t.has(o))return this.#t.get(o);let a=bT,c,l=hF(e.replace(r,""));e:for(let u of n)for(let f of u.paths)if(Cs(l,f,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){a=GY(u,"FILE_BLOCKED_PATH"),c=f;break e}return Qp.debug(this.#e,`Evaluated path-based exclusion rules for <${e}>`,{result:a,baseUri:r,fileName:l,matchingPattern:c}),this.#t.set(o,a),a}evaluateTextBasedRules(e,r,n){let o=r.filter(l=>l.ifAnyMatch),a=r.filter(l=>l.ifNoneMatch);if(!n||o.length===0&&a.length===0)return bT;let c=this.evaluateFileContent(o,a,n);return Qp.debug(this.#e,`Evaluated text-based exclusion rules for <${e}>`,{result:c}),c}evaluateFileContent(e,r,n){for(let o of e)if(o.ifAnyMatch&&o.ifAnyMatch.length>0&&o.ifAnyMatch.map(c=>TIe(c)).some(c=>c.test(n)))return GY(o,"FILE_BLOCKED_TEXT_BASED");for(let o of r)if(o.ifNoneMatch&&o.ifNoneMatch.length>0&&!o.ifNoneMatch.map(c=>TIe(c)).some(c=>c.test(n)))return GY(o,"FILE_BLOCKED_TEXT_BASED");return bT}async refresh(){try{let e=[...this.#i.keys()];this.reset(),await Promise.all(e.map(r=>this.#o(r)))}catch(e){Uu(this.#e,e,`${HY}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(e){if(this.#r?.length)return this.#r;let r=await this.#o(e.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(e){this.#r=e}#o=eIe(async e=>{let r=await this.#e.get(yn).getGitHubSession();if(!r)throw new cy("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",o=new URL(n,r.apiUrl),a=e.includes(j1.all);e.filter(f=>f!==j1.all).length>0&&o.searchParams.set("repos",e.filter(f=>f!==j1.all).join(",")),o.searchParams.set("scope",a?j1.all:j1.repo);let l=await Ev(this.#e,r,o.href),u=await l.json();if(!l.ok){if(l.status===404)return Array.from(e,()=>[]);throw this.#s("fetch.error",{message:u.message}),new Zf(l)}return this.#s("fetch.success"),FY(Eot,u).map(f=>f.rules)},this.#i);async getGitRepo(e){let n=await this.#e.get(uh).getRepo(td(e));if(!n||!n?.remote)return;let o=n.remote.getUrlForApi();if(o)return{baseFolder:n.baseFolder,url:o}}#s(e,r,n){vt(this.#e,`${HY}.${e}`,xr.createAndMarkAsIssued(r,n))}};function TIe(t){if(!t.startsWith("/")&&!t.endsWith("/"))return new RegExp(t);let e=t.slice(1,t.lastIndexOf("/")),r=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,r)}s(TIe,"stringToRegex");function GY(t,e){return{isBlocked:!0,message:`Your ${t.source.type.toLowerCase()} '${t.source.name}' has disabled Copilot for this file`,reason:e}}s(GY,"fileBlockedEvaluationResult");var mot=H.Object({name:H.String(),type:H.String()}),got=H.Object({paths:H.Array(H.String()),ifNoneMatch:H.Optional(H.Array(H.String())),ifAnyMatch:H.Optional(H.Array(H.String())),source:mot}),Cot=H.Array(got),yot=H.Object({rules:Cot,last_updated_at:H.String(),scope:H.String()}),Eot=H.Array(yot);var Af=class{constructor(e){this.ctx=e;this.#e=!1;this.#t=new F7(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=s(async e=>{if(!this.#e)return;if(!e.document){this.updateStatusIcon(!1);return}let r=await this.ctx.get(ln).getTextDocumentValidation(e.document),n=r.status==="invalid",o=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,o)},"onDidChangeActiveTextEditor");let r=rd(this.ctx,this.onDidChangeActiveTextEditor,"Content exclusions focus change");this.ctx.get(ln).onDidFocusTextDocument(r),ba(this.ctx,n=>{this.#e=n.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{s(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(e,r,n){if(!this.#e)return{isBlocked:!1};let o=[],a=s(async(u,f)=>{let h=performance.now(),A=await f.evaluate(e,r),p=performance.now();return o.push({key:u,result:A,elapsedMs:Math.round(p-h)}),A},"track"),l=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of o)this.#i(u.key,e,u.result,u.elapsedMs)}catch(u){Qp.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(l.isBlocked,l.message),l}updateStatusIcon(e,r){this.#e&&(e?this.ctx.get(vo).setInactive(r??"Copilot is disabled"):this.ctx.get(vo).clearInactive())}#i(e,r,n,o){let a=r+e;if(this.evaluateResultCache.get(a)===n.reason)return!1;if(this.evaluateResultCache.set(a,n.reason??"UNKNOWN"),n.reason===w7.reason)return Qp.debug(this.ctx,`[${e}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},u={contentExclusionEvalMs:o};return vt(this.ctx,e,xr.createAndMarkAsIssued(l,u)),vt(this.ctx,e,xr.createAndMarkAsIssued({...l,path:r},u),1),Qp.debug(this.ctx,`[${e}] ${r}`,n),!0}setTestingRules(e){this.#t.setTestingRules(e)}set __contentExclusions(e){this.#t=e}get __contentExclusions(){return this.#t}};async function L7(t,e,r){let n=await t.get(Af).evaluate(e.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}s(L7,"isDocumentValid");var ln=class{constructor(e,r=L7){this.ctx=e;this.validateTextDocument=r}static{s(this,"TextDocumentManager")}async textDocuments(){let e=this.getTextDocumentsUnsafe(),r=[];for(let n of e)(await this.validateTextDocument(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(e){let r=$h(e.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(e){return this.getTextDocumentWithValidation(e).then(r=>{if(r.status==="valid")return r.document})}async getTextDocumentValidation(e){try{let r=this.getTextDocumentUnsafe(e)?.getText()??await this.readTextDocumentFromDisk(e.uri);return r===void 0?this.notFoundResult(e):this.validateTextDocument(this.ctx,e,r)}catch{return this.notFoundResult(e)}}async getTextDocumentWithValidation(e){let r=this.getTextDocumentUnsafe(e);if(!r)return this.notFoundResult(e);let n=await this.validateTextDocument(this.ctx,e,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:e}){return{status:"notfound",message:`Document for URI could not be found: ${e}`}}async readTextDocumentFromDisk(e){try{if((await this.ctx.get(Yo).stat(e)).size>5*1024*1024)return}catch{return}return await this.ctx.get(Yo).readFileString(e)}getWorkspaceFolder(e){let r=$h(e.uri);return this.getWorkspaceFolders().find(n=>r.startsWith($h(n.uri)))}getRelativePath(e){if(e.uri.startsWith("untitled:"))return;let r=$h(e.uri);for(let n of this.getWorkspaceFolders()){let o=$h(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(o))return r.slice(o.length)}return zh(r)}};var f2=class{constructor(e){this.ctx=e}static{s(this,"FileReader")}getRelativePath(e){return this.ctx.get(ln).getRelativePath(e)??zh(e.uri)}getOrReadTextDocument(e){return this.readFile(e.uri)}getOrReadTextDocumentWithFakeClientProperties(e){return this.readFile(e.uri)}async readFile(e){let n=await this.ctx.get(ln).getTextDocumentWithValidation({uri:e});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(e)>1)return{status:"notfound",message:"File too large"};let a=await this.doReadFile(e),c=await L7(this.ctx,{uri:e},a);return c.status==="valid"?{status:"valid",document:T7.create(e,"UNKNOWN",-1,a)}:c}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(e){return await this.ctx.get(Yo).readFileString(e)}async getFileSizeMB(e){return(await this.ctx.get(Yo).stat(e)).size/1024/1024}};d();d();var z1=class{constructor(){this.resolve=s(()=>{},"resolve");this.reject=s(()=>{},"reject");this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}static{s(this,"Deferred")}};function d2(t,e=void 0){return new Promise(r=>setTimeout(()=>r(e),t))}s(d2,"delay");d();var WY=class{constructor(){this.observers=new Set}static{s(this,"Subject")}subscribe(e){return this.observers.add(e),()=>this.observers.delete(e)}next(e){for(let r of this.observers)r.next(e)}error(e){for(let r of this.observers)r.error?.(e)}complete(){for(let e of this.observers)e.complete?.()}},M7=class extends WY{static{s(this,"ReplaySubject")}subscribe(e){let r=super.subscribe(e);return this._value!==void 0&&e.next(this._value),r}next(e){this._value=e,super.next(e)}};var h2=class{constructor(e){this.ctx=e;this.#e=new or("AsyncCompletionManager");this.requests=new vr(100);this.mostRecentRequestId=""}static{s(this,"AsyncCompletionManager")}#e;clear(){this.requests.clear()}shouldWaitForAsyncCompletions(e,r){for(let[n,o]of this.requests)if(YY(e,r,o))return!0;return!1}updateCompletion(e,r){let n=this.requests.get(e);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(e,r,n,o,a){this.#e.debug(this.ctx,`[${e}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let c=new M7;return this.requests.set(e,{state:2,cancellationTokenSource:o,headerRequestId:e,prefix:r,prompt:n,subject:c}),a.then(l=>{if(this.requests.delete(e),l.type!=="success"){this.#e.debug(this.ctx,`[${e}] Request failed with`,l.reason),c.error(l.reason);return}let u={cancellationTokenSource:o,headerRequestId:e,prefix:r,prompt:n,subject:c,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(e,u),c.next(u),c.complete()}).catch(l=>{this.#e.error(this.ctx,`[${e}] Request errored with`,l),this.requests.delete(e),c.error(l)})}getFirstMatchingRequestWithTimeout(e,r,n,o,a){let c=this.ctx.get(Ot).asyncCompletionsTimeout(a);return c<0?(this.#e.debug(this.ctx,`[${e}] Waiting for completions without timeout`),this.getFirstMatchingRequest(e,r,n,o)):(this.#e.debug(this.ctx,`[${e}] Waiting for completions with timeout of ${c}ms`),Promise.race([this.getFirstMatchingRequest(e,r,n,o),new Promise(l=>setTimeout(()=>l(null),c))]).then(l=>{if(l===null){this.#e.debug(this.ctx,`[${e}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(e,r,n,o){o||(this.mostRecentRequestId=e);let a=!1,c=new z1,l=new Map,u=s(h=>()=>{let A=l.get(h);A!==void 0&&(A(),l.delete(h),!a&&l.size===0&&(a=!0,this.#e.debug(this.ctx,`[${e}] No matching completions found`),c.resolve(void 0)))},"finishRequest"),f=s(h=>{if(YY(r,n,h)){if(h.state===0){let A=r.substring(h.prefix.length),{completionText:p}=h.choice;if(!p.startsWith(A)||p.length<=A.length){u(h.headerRequestId)();return}p=p.substring(A.length),h.choice.telemetryData.measurements.foundOffset=A.length,this.#e.debug(this.ctx,`[${e}] Found completion at offset ${A.length}: ${JSON.stringify(p)}`),c.resolve([{...h.choice,completionText:p},h.allChoicesPromise]),a=!0}}else this.cancelRequest(e,h),u(h.headerRequestId)()},"next");for(let[h,A]of this.requests)YY(r,n,A)?l.set(h,A.subject.subscribe({next:f,error:u(h),complete:u(h)})):this.cancelRequest(e,A);return c.promise.finally(()=>{for(let h of l.values())h()})}cancelRequest(e,r){e===this.mostRecentRequestId&&r.state!==0&&(this.#e.debug(this.ctx,`[${e}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function YY(t,e,r){if(r.prompt.suffix!==e.suffix||!t.startsWith(r.prefix))return!1;let n=t.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}s(YY,"isCandidate");d();d();var BT=class{constructor(e){this.maxSize=e;this.root=new ST;this.leafNodes=new Set}static{s(this,"LRURadixTrie")}set(e,r){let{node:n,remainingKey:o}=this.findClosestNode(e);if(o.length>0){for(let[a,c]of n.children)if(a.startsWith(o)){let l=a.slice(0,o.length),u=new ST;n.removeChild(a),n.addChild(l,u),u.addChild(a.slice(l.length),c),n=u,o=o.slice(l.length);break}if(o.length>0){let a=new ST;n.addChild(o,a),n=a}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(e){return this.findClosestNode(e).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(e){let{node:r,remainingKey:n}=this.findClosestNode(e);n.length>0||this.deleteNode(r)}findClosestNode(e){let r=!0,n=this.root,o=[{node:n,remainingKey:e}];for(;e.length>0&&r;){r=!1;for(let[a,c]of n.children)if(e.startsWith(a)){e=e.slice(a.length),o.unshift({node:c,remainingKey:e}),n=c,r=!0;break}}return{node:n,remainingKey:e,stack:o}}deleteNode(e){if(e.value=void 0,this.leafNodes.delete(e),e.parent===void 0||e.childCount>1)return;let{node:r,edge:n}=e.parent;if(e.childCount===1){let[a,c]=Array.from(e.children)[0];e.removeChild(a),r.removeChild(n),r.addChild(n+a,c);return}if(r.removeChild(n),r.parent===void 0)return;let o=r.parent;if(r.value===void 0&&r.childCount===1){let[a,c]=Array.from(r.children)[0],l=o.edge+a;r.removeChild(a),o.node.removeChild(o.edge),o.node.addChild(l,c)}}evictLeastRecentlyUsed(){let e=this.findLeastRecentlyUsed();e&&this.deleteNode(e)}findLeastRecentlyUsed(){let e;for(let r of this.leafNodes)(e===void 0||r.touched<e.touched)&&(e=r);return e}},ST=class{constructor(){this._children=new Map;this._touched=performance.now()}static{s(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(e,r){this._children.set(e,r),r.parent={node:this,edge:e}}removeChild(e){let r=this._children.get(e);r&&(r.parent=void 0),this._children.delete(e)}get value(){return this.touch(),this._value}set value(e){this.touch(),this._value=e}get touched(){return this._touched}touch(){this._touched=performance.now()}};var A2=class{constructor(){this.cache=new BT(100)}static{s(this,"CompletionsCache")}findAll(e,r){return this.cache.findAll(e).flatMap(({remainingKey:n,value:o})=>o.content.filter(a=>a.suffix===r&&a.choice.completionText.startsWith(n)&&a.choice.completionText.length>n.length).map(a=>({...a.choice,completionText:a.choice.completionText.slice(n.length),telemetryData:a.choice.telemetryData.extendedBy({},{foundOffset:n.length})})))}append(e,r,n){let o=this.cache.findAll(e);if(o.length>0&&o[0].remainingKey===""){let a=o[0].value.content;this.cache.set(e,{content:[...a,{suffix:r,choice:n}]})}else this.cache.set(e,{content:[{suffix:r,choice:n}]})}clear(){this.cache=new BT(100)}};d();d();d();d();d();d();d();d();d();async function*O7(t,e){for await(let r of t)yield e(r)}s(O7,"asyncIterableMap");async function*wIe(t,e){for await(let r of t)await e(r)&&(yield r)}s(wIe,"asyncIterableFilter");d();function SIe(t,e,r){let n=r.extendedBy({messagesJson:JSON.stringify(e)});return vt(t,"engine.messages",n,1)}s(SIe,"logEngineMessages");d();d();function BIe(t){if(t instanceof Error)return t.stack?t.stack:t.message;if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return String(t)}}s(BIe,"toString");var Zc=new or("streamChoices"),$Y=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new XY;this.tool_calls=new KY;this.function_call=new JY;this.copilot_references=[];this.yielded=!1}static{s(this,"APIJsonDataStreaming")}append(e){e.text&&this.text.push(e.text),e.delta?.content&&e.delta.role!=="function"&&this.text.push(e.delta.content),e.logprobs&&(this.tokens.push(e.logprobs.tokens??[]),this.text_offset.push(e.logprobs.text_offset??[]),this.logprobs.push(e.logprobs.token_logprobs??[]),this.top_logprobs.push(e.logprobs.top_logprobs??[])),e.copilot_annotations&&this.copilot_annotations.update(e.copilot_annotations),e.delta?.copilot_annotations&&this.copilot_annotations.update(e.delta.copilot_annotations),e.delta?.tool_calls&&e.delta.tool_calls.length>0&&this.tool_calls.update(e.delta.tool_calls),e.delta?.function_call&&this.function_call.update(e.delta.function_call),e?.finish_reason&&(this.finish_reason=e.finish_reason)}};function Iot(t){let e=t.split(`
`),r=e.pop();return[e.filter(n=>n!=""),r]}s(Iot,"splitChunk");var zY=class{constructor(){this.arguments=[]}static{s(this,"StreamingToolCall")}update(e){e.id&&(this.id=e.id),e.function.name&&(this.name=e.function.name),this.arguments.push(e.function.arguments)}},KY=class{constructor(){this.toolCalls=[]}static{s(this,"StreamingToolCalls")}update(e){e.forEach(r=>{let n=this.toolCalls.length>0?this.toolCalls[this.toolCalls.length-1]:void 0;(!n||r.id&&n.id!==r.id)&&(n=new zY,this.toolCalls.push(n)),n.update(r)})}getToolCalls(){return this.toolCalls}},JY=class{constructor(){this.arguments=[]}static{s(this,"StreamingFunctionCall")}update(e){e.name&&(this.name=e.name),this.arguments.push(e.arguments)}},XY=class{constructor(){this.current={}}static{s(this,"StreamCopilotAnnotations")}update(e){Object.entries(e).forEach(([r,n])=>{n.forEach(o=>this.update_namespace(r,o))})}update_namespace(e,r){this.current[e]||(this.current[e]=[]);let n=this.current[e],o=n.findIndex(a=>a.id===r.id);o>=0?n[o]=r:n.push(r)}for(e){return this.current[e]??[]}},p2=class t{constructor(e,r,n,o,a,c,l){this.ctx=e;this.expectedNumChoices=r;this.response=n;this.body=o;this.telemetryData=a;this.dropCompletionReasons=c;this.cancellationToken=l;this.requestId=RT(this.response);this.stats=new ej;this.solutions={}}static{s(this,"SSEProcessor")}static create(e,r,n,o,a,c){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new t(e,r,n,l,o,a??[],c)}async*processSSE(e=()=>{}){try{yield*this.processSSEInner(e)}finally{this.cancel(),Zc.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Zc.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(e){let r="",n=null,o,a;e:for await(let c of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Zc.debug(this.ctx,"chunk",c.toString());let[l,u]=Iot(r+c.toString());r=u;for(let f of l){if(f.startsWith(":"))continue;let h=f.slice(5).trim();if(h=="[DONE]"){yield*this.finishSolutions(n,o,a,e);return}n=null;let A;try{A=JSON.parse(h)}catch{Zc.error(this.ctx,"Error parsing JSON stream data",f);continue}if(A.copilot_confirmation&&xot(A.copilot_confirmation)&&await e("",{text:"",requestId:this.requestId,copilotConfirmation:A.copilot_confirmation}),A.copilot_references&&await e("",{text:"",requestId:this.requestId,copilotReferences:A.copilot_references}),A.choices===void 0){!A.copilot_references&&!A.copilot_confirmation&&(A.error!==void 0?Zc.error(this.ctx,"Error in response:",A.error.message):Zc.error(this.ctx,"Unexpected response with no choices or error: "+h)),A.copilot_errors&&await e("",{text:"",requestId:this.requestId,copilotErrors:A.copilot_errors});continue}if(o===void 0&&A.model&&(o=A.model),a===void 0&&A.usage&&(a=A.usage),this.allSolutionsDone()){r="";break e}for(let p=0;p<A.choices?.length;p++){let m=A.choices[p];Zc.debug(this.ctx,"choice",m),this.stats.add(m.index),m.index in this.solutions||(this.solutions[m.index]=new $Y);let g=this.solutions[m.index];if(g==null)continue;g.append(m);let y=this.asSolutionDecision(),E=m.text?.indexOf(`
`)>-1||m.delta?.content?.indexOf(`
`)>-1;if(m.finish_reason||E){let x=g.text.join("");if(y=this.asSolutionDecision(await e(x,{text:x,index:m.index,requestId:this.requestId,annotations:g.copilot_annotations,copilotReferences:g.copilot_references,getAPIJsonData:s(()=>ZY(g),"getAPIJsonData"),finished:!!m.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(m.finish_reason&&g.function_call.name!==void 0){n=m.finish_reason;continue}if(m.finish_reason&&(y.yieldSolution=!0,y.continueStreaming=!1),!y.yieldSolution)continue;let I=m.finish_reason??"client-trimmed";if(vt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:I,engineName:o??"",engineChoiceSource:rT(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(m.finish_reason)?this.solutions[m.index]=null:g.yielded||(this.stats.markYielded(m.index),yield{solution:g,finishOffset:y.finishOffset,reason:m.finish_reason,requestId:this.requestId,index:m.index,model:o,usage:a},g.yielded=!0),this.maybeCancel("after yielding finished choice"))return;y.continueStreaming||(this.solutions[m.index]=null)}}}for(let[c,l]of Object.entries(this.solutions)){let u=Number(c);if(l!=null&&(vt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:o??""})),this.stats.markYielded(u),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:u,model:o,usage:a},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let c=JSON.parse(r);c.error!==void 0&&Zc.error(this.ctx,`Error in response: ${c.error.message}`,c.error)}catch{Zc.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(e){return e===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof e=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:e}:e}async*finishSolutions(e,r,n,o){for(let[a,c]of Object.entries(this.solutions)){let l=Number(a);if(c==null)continue;let u=c.text.join("");if(await o(u,{text:u,index:l,requestId:this.requestId,annotations:c.copilot_annotations,copilotReferences:c.copilot_references,getAPIJsonData:s(()=>ZY(c),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!c.yielded&&(this.stats.markYielded(l),vt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:e??"DONE",engineName:r??""})),yield{solution:c,finishOffset:void 0,reason:e??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(e){return this.cancellationToken?.isCancellationRequested?(Zc.debug(this.ctx,"Cancelled: "+e),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let e=Object.values(this.solutions);return e.length==this.expectedNumChoices&&e.every(r=>r==null)}};function U7(t,e,r){let n=e.solution.text.join(""),o=!1;e.finishOffset!==void 0&&(Zc.debug(t,`solution ${e.index}: early finish at offset ${e.finishOffset}`),n=n.substring(0,e.finishOffset),o=!0),Zc.info(t,`solution ${e.index} returned. finish reason: [${e.reason}]`),Zc.debug(t,`solution ${e.index} details: finishOffset: [${e.finishOffset}]`);let a=ZY(e.solution);return rj(t,n,a,e.index,e.requestId,o,r)}s(U7,"prepareSolutionForReturn");function ZY(t){let e=t.text.join(""),r=vot(t),n=bot(t),o=t.copilot_annotations.current,a={text:e,tokens:t.text,tool_calls:r,function_call:n,copilot_annotations:o,finish_reason:t.finish_reason??"stop"};if(t.logprobs.length===0)return a;let c=t.logprobs.reduce((h,A)=>h.concat(A),[]),l=t.top_logprobs.reduce((h,A)=>h.concat(A),[]),u=t.text_offset.reduce((h,A)=>h.concat(A),[]),f=t.tokens.reduce((h,A)=>h.concat(A),[]);return{...a,logprobs:{token_logprobs:c,top_logprobs:l,text_offset:u,tokens:f}}}s(ZY,"convertToAPIJsonData");function xot(t){return typeof t.title=="string"&&typeof t.message=="string"&&!!t.confirmation}s(xot,"isCopilotConfirmation");function RIe(t,e,r){if(!t)return{};try{return JSON.parse(t)}catch(n){throw new Error(`Failed to parse JSON for ${e} '${r}': ${BIe(n)}. Input: '${t}'`)}}s(RIe,"parseCallArguments");function vot(t){let e=[],r=t.tool_calls.getToolCalls();for(let n of r)if(n.name){let o=n.arguments.join("").trim(),a=RIe(o,"tool call",n.name);e.push({type:"function",function:{name:n.name,arguments:a},approxNumTokens:n.arguments.length+1,id:n.id})}return e}s(vot,"extractToolCalls");function bot(t){if(t.function_call.name){let e=t.function_call.arguments.join("").trim(),r=RIe(e,"function call",t.function_call.name);return{name:t.function_call.name,arguments:r}}}s(bot,"extractFunctionCall");var ej=class{constructor(){this.choices=new Map}static{s(this,"ChunkStats")}getChoiceStats(e){let r=this.choices.get(e);return r||(r=new tj,this.choices.set(e,r)),r}add(e){this.getChoiceStats(e).increment()}markYielded(e){this.getChoiceStats(e).markYielded()}toString(){return Array.from(this.choices.entries()).map(([e,r])=>`${e}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},tj=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{s(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();function _ot(t,e){return t!==null&&typeof t=="object"&&e in t}s(_ot,"hasKey");function pf(t,e){return _ot(t,e)?t[e]:void 0}s(pf,"getKey");var DIe=We(is());var wi=new or("fetchCompletions");function RT(t){return{headerRequestId:t.headers.get("x-request-id")||"",serverExperiments:t.headers.get("X-Copilot-Experiment")||"",deploymentId:t.headers.get("azureml-model-deployment")||""}}s(RT,"getRequestId");function nj(t){let e=t.headers.get("openai-processing-ms");return e?parseInt(e,10):0}s(nj,"getProcessingTime");function NIe(t){switch(t){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}s(NIe,"uiKindToIntent");var fh=class{static{s(this,"OpenAIFetcher")}};function Tot(t,e,r,n){return _v(t,e,"proxy","v1/engines",r,n)}s(Tot,"getProxyEngineUrl");function QIe(t,e,r,n){for(let[o,a]of Object.entries(t)){if(r.includes(o))continue;let c=a;if(o==="extra"&&n){let l={...c};for(let u of n)delete l[u];c=l}e.properties[`request.option.${o}`]=JSON.stringify(c)??"undefined"}}s(QIe,"sanitizeRequestOptionTelemetry");async function kIe(t,e,r,n,o,a,c,l,u,f,h){let A=t.get(vo),p=Tot(t,c,r,n),m=u.extendedBy({endpoint:n,engineName:r,uiKind:l},aY(e));QIe(a,m,["prompt","suffix"],["context"]),m.properties.headerRequestId=o,vt(t,"request.sent",m);let g=Vs(),y=NIe(l);return cF(t,p,c.token,y,o,a,f,h).then(E=>{let I=RT(E);m.extendWithRequestId(I);let x=Vs()-g;return m.measurements.totalTimeMs=x,wi.info(t,`Request ${o} at <${p}> finished with ${E.status} status after ${x}ms`),m.properties.status=String(E.status),wi.debug(t,"request.response properties",m.properties),wi.debug(t,"request.response measurements",m.measurements),wi.debug(t,"prompt:",e),vt(t,"request.response",m),E}).catch(E=>{if(Gh(E))throw vt(t,"request.cancel",m),E;A.setWarning(pf(E,"message")??"");let I=m.extendedBy({error:"Network exception"});vt(t,"request.shownWarning",I),m.properties.message=String(pf(E,"name")??""),m.properties.code=String(pf(E,"code")??""),m.properties.errno=String(pf(E,"errno")??""),m.properties.type=String(pf(E,"type")??"");let x=Vs()-g;throw m.measurements.totalTimeMs=x,wi.info(t,`Request ${o} at <${p}> rejected with ${String(E)} after ${x}ms`),wi.debug(t,"request.error properties",m.properties),wi.debug(t,"request.error measurements",m.measurements),vt(t,"request.error",m),E}).finally(()=>{uye(t,e,m)})}s(kIe,"fetchWithInstrumentation");async function wot(t,e,r,n,o,a,c,l,u,f){let h=u.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});QIe(a,h,["messages"]),h.properties.headerRequestId=o,vt(t,"request.sent",h);let A=Vs(),p=NIe(l),m=IV(t);yv()&&(m=await Eme(t,m));try{let g=await cF(t,n,c.token,p,o,a,f,m),y=RT(g);h.extendWithRequestId(y);let E=Vs()-A;return h.measurements.totalTimeMs=E,wi.info(t,`Request ${o} at <${n}> finished with ${g.status} status after ${E}ms`),wi.debug(t,"request.response properties",h.properties),wi.debug(t,"request.response measurements",h.measurements),wi.debug(t,"messages:",JSON.stringify(e)),vt(t,"request.response",h),g}catch(g){if(Gh(g))throw vt(t,"request.cancel",h),g;let y=h.extendedBy({error:"Network exception"});vt(t,"request.shownWarning",y),h.properties.message=String(pf(g,"name")??""),h.properties.code=String(pf(g,"code")??""),h.properties.errno=String(pf(g,"errno")??""),h.properties.type=String(pf(g,"type")??"");let E=Vs()-A;throw h.measurements.totalTimeMs=E,wi.info(t,`Request ${o} at <${n}> rejected with ${String(g)} after ${E}ms`),wi.debug(t,"request.error properties",h.properties),wi.debug(t,"request.error measurements",h.measurements),vt(t,"request.error",h),g}finally{SIe(t,e,h)}}s(wot,"fetchChatWithInstrumentation");function ij(t){return wIe(t,e=>e.completionText.trim().length>0)}s(ij,"postProcessChoices");var Sot="github.copilot.completions.quotaExceeded",kT=class extends fh{static{s(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(e,r,n,o,a){if(this.#e)return{type:"canceled",reason:this.#e};let c=e.get(vo),l="completions",u=await e.get(yn).getToken(),f=await this.fetchWithParameters(e,l,r,u,n,a);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(a?.isCancellationRequested){let m=f.body();try{m&&"destroy"in m&&typeof m.destroy=="function"?m.destroy():m instanceof ReadableStream&&m.cancel()}catch(g){wi.exception(e,g,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let m=this.createTelemetryData(l,e,r);return this.handleError(e,c,m,f,u)}let A=p2.create(e,r.count,f,n,[],a).processSSE(o),p=O7(A,m=>U7(e,m,n));return{type:"success",choices:ij(p),getProcessingTime:s(()=>nj(f),"getProcessingTime")}}async fetchAndStreamChat(e,r,n,o,a,c,l,u={},f){if(this.#e)return{type:"canceled",reason:this.#e};let h="https://copilot-proxy.githubusercontent.com/chat/completions",A={messages:r,model:l.id,stream:!0,...u},p=n.extendedBy({endpoint:h,model:l.name}),m=e.get(vo),g=await e.get(yn).getToken(),y=await wot(e,r,l.id,h,a,A,g,o,p,f);if(f?.isCancellationRequested){let v=y.body();try{v&&"destroy"in v&&typeof v.destroy=="function"?v.destroy():v instanceof ReadableStream&&v.cancel()}catch(b){wi.exception(e,b,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(y.status!==200){let v=xr.createAndMarkAsIssued({endpoint:h,engineName:l.name,uiKind:o,headerRequestId:a});return this.handleError(e,m,v,y,g)}let I=p2.create(e,1,y,p,[],DIe.CancellationToken.None).processSSE(),x=O7(I,v=>U7(e,v,n));return{type:"success",choices:ij(x),getProcessingTime:s(()=>nj(y),"getProcessingTime")}}async fetchAndStreamSpeculation(e,r,n,o,a){if(this.#e)return{type:"canceled",reason:this.#e};let c=e.get(vo),l="speculation",u=await e.get(yn).getToken(),f={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},speculation:r.speculation,ourRequestId:Jl(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers,stops:r.stops},h=await this.fetchSpeculationWithParameters(e,l,f,u,n,a);if(h==="not-sent")return{type:"canceled",reason:"before fetch request"};if(a?.isCancellationRequested){let g=h.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(y){wi.exception(e,y,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(h.status!==200){let g=this.createTelemetryData(l,e,f);return this.handleError(e,c,g,h,u)}let p=p2.create(e,1,h,n,[],a).processSSE(o),m=O7(p,g=>U7(e,g,n));return{type:"success",choices:ij(m),getProcessingTime:s(()=>nj(h),"getProcessingTime")}}createTelemetryData(e,r,n){return xr.createAndMarkAsIssued({endpoint:e,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(e,r,n,o,a,c){let l={prompt:n.prompt.prefix,speculation:n.speculation,temperature:0,stream:!0,stop:n.stops??[]};return await d2(0),c?.isCancellationRequested?"not-sent":await kIe(e,n.prompt,n.engineModelId,r,n.ourRequestId,l,o,n.uiKind,a,c,n.headers)}async fetchWithParameters(e,r,n,o,a,c){let l=e.get(Ot).disableLogProb(a),u={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:q7(e),temperature:oj(e,n.count),top_p:FIe(e),n:n.count,stop:PIe(e,n.languageId),stream:!0,extra:n.extra};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=nT(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),n.prompt.context&&n.prompt.context.length>0&&(u.extra.context=n.prompt.context),await d2(0),c?.isCancellationRequested?"not-sent":await kIe(e,n.prompt,n.engineModelId,r,n.ourRequestId,u,o,n.uiKind,a,c,n.headers)}async handleError(e,r,n,o,a){let c=await o.text();if(o.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:Sot,title:"Learn More"});let u=ba(e,f=>{this.#e=void 0,(f.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),u.dispose())});return{type:"failed",reason:this.#e}}if(o.status===466)return r.setError(c),wi.info(e,c),{type:"failed",reason:`client not supported: ${c}`};if(o.clientError&&!o.headers.get("x-github-request-id")){let l=`Last response was a ${o.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;wi.error(e,l),r.setWarning(l),n.properties.error=`Response status was ${o.status} with no x-github-request-id header`}else o.clientError?(wi.warn(e,`Response status was ${o.status}:`,c),r.setWarning(`Last response was a ${o.status} error: ${c}`),n.properties.error=`Response status was ${o.status}: ${c}`):(r.setWarning(`Last response was a ${o.status} error`),n.properties.error=`Response status was ${o.status}`);return n.properties.status=String(o.status),vt(e,"request.shownWarning",n),o.status===401||o.status===403?(e.get(yn).resetToken(o.status),{type:"failed",reason:`token expired or invalid: ${o.status}`}):o.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",wi.warn(e,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):o.status===499?(wi.info(e,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(wi.error(e,"Unhandled status from server:",o.status,c),{type:"failed",reason:`unhandled status from server: ${o.status} ${c}`})}};function rj(t,e,r,n,o,a,c){return lye(t,e,r,o,n),{completionText:e,meanLogProb:Bot(t,r),meanAlternativeLogProb:Rot(t,r),choiceIndex:n,requestId:o,blockFinished:a,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:c,copilotAnnotations:r.copilot_annotations,clientCompletionId:Jl(),finishReason:r.finish_reason}}s(rj,"convertToAPIChoice");function Bot(t,e){if(e?.logprobs?.token_logprobs)try{let r=0,n=0,o=50;for(let a=0;a<e.logprobs.token_logprobs.length-1&&o>0;a++,o--)r+=e.logprobs.token_logprobs[a],n+=1;return n>0?r/n:void 0}catch(r){Ri.exception(t,r,"Error calculating mean prob")}}s(Bot,"calculateMeanLogProb");function Rot(t,e){if(e?.logprobs?.top_logprobs)try{let r=0,n=0,o=50;for(let a=0;a<e.logprobs.token_logprobs.length-1&&o>0;a++,o--){let c={...e.logprobs.top_logprobs[a]};delete c[e.logprobs.tokens[a]],r+=Math.max(...Object.values(c)),n+=1}return n>0?r/n:void 0}catch(r){Ri.exception(t,r,"Error calculating mean prob")}}s(Rot,"calculateMeanAlternativeLogProb");function oj(t,e){return Nm(t)||e<=1?0:e<10?.2:e<20?.4:.8}s(oj,"getTemperatureForSamples");var kot={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function PIe(t,e){return kot[e??""]??[`


`,"\n```"]}s(PIe,"getStops");function FIe(t){return 1}s(FIe,"getTopP");function q7(t){return iT}s(q7,"getMaxSolutionTokens");d();d();var m2=class{constructor(){this.cache=new vr(100)}static{s(this,"SpeculativeRequestCache")}set(e,r){this.cache.set(e,r)}async request(e){let r=this.cache.get(e);r!==void 0&&(this.cache.delete(e),await r())}};var MYr=new or("getCompletions");d();d();d();d();d();d();d();d();var MIe=H.Object({importance:H.Optional(H.Integer({minimum:0,maximum:100})),id:H.Optional(H.String()),origin:H.Optional(H.Union([H.Literal("request"),H.Literal("update")]))}),OIe=H.Intersect([H.Object({name:H.String(),value:H.String()}),MIe]),UIe=H.Intersect([H.Object({uri:H.String(),value:H.String(),additionalUris:H.Optional(H.Array(H.String()))}),MIe]),Dot=[OIe,UIe],Not=H.Union(Dot),xjr=new Map([["Trait",kp.Compile(OIe)],["CodeSnippet",kp.Compile(UIe)]]),Qot=s(t=>t,"ensureTypesAreEqual");Qot(!0);var Pot=H.Object({contextItems:H.Array(Not)}),Fot=H.Object({selector:H.Array(H.Union([H.String(),H.Object({language:H.Optional(H.String()),scheme:H.Optional(H.String()),pattern:H.Optional(H.String())})]))}),sj=H.Object({id:H.String()}),Lot=H.Intersect([sj,Fot]),Mot=H.Intersect([sj,Pot]),vjr=H.Object({providers:H.Array(Lot)}),bjr=H.Object({providers:H.Array(sj)}),Oot=H.Object({providers:H.Array(Mot),updating:H.Optional(H.Array(H.String()))}),_jr=H.Intersect([Pye,H.Object({contextItems:H.Optional(Oot)})]);function H7(t,e){return t.map(r=>{let n=r.data.filter(o=>o.type===e);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}s(H7,"filterContextItemsByType");d();d();var X0=class{constructor(e=()=>new aj){this.createStatistics=e;this.statistics=new vr(25)}static{s(this,"ContextProviderStatistics")}getStatisticsForCompletion(e){let r=this.statistics.get(e);if(r)return r;let n=this.createStatistics();return this.statistics.set(e,n),n}getPreviousStatisticsForCompletion(e){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let o=r[n];if(o!==e)return this.statistics.peek(o)}}},aj=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{s(this,"PerCompletionContextProviderStatistics")}addExpectations(e,r){let n=this._expectations.get(e)??[];this._expectations.set(e,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(e,r){this._lastResolution.set(e,r)}get(e){return this._statistics.get(e)}computeMatch(e){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let o=this._lastResolution.get(r)??"none";if(o==="none"||o==="error"){this._statistics.set(r,{usage:"none",resolution:o});continue}let a=[];for(let[f,h]of n){let A={id:f.id,type:f.type};if(f.origin&&(A.origin=f.origin),h==="content_excluded"){a.push({...A,usage:"none_content_excluded"});continue}let p=e.find(m=>m.source===f);p===void 0?a.push({...A,usage:"error"}):a.push({...A,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let l=a.reduce((f,h)=>h.usage==="full"?f+1:h.usage==="partial"?f+.5:f,0)/n.length,u=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:o,usage:u,usageDetails:a})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function G7(t){return t.map(e=>{if(!(e.source===void 0||e.expectedTokens===void 0||e.actualTokens===void 0))return{source:e.source,expectedTokens:e.expectedTokens,actualTokens:e.actualTokens}}).filter(e=>e!==void 0)}s(G7,"componentStatisticsToPromptMatcher");var Uot=We(is());var V7=class{static{s(this,"ContextProviderRegistry")}},cj=class{static{s(this,"DefaultContextProviders")}};function W7(t,e,r){let n=t.get(X0).getStatisticsForCompletion(e);return r.map(a=>{let{providerId:c,resolution:l,resolutionTimeMs:u,matchScore:f,data:h}=a,A=n.get(c),p=A?.usage??"none";(f<=0||l==="none"||l==="error")&&(p="none");let m={providerId:c,resolution:l,resolutionTimeMs:u,usage:p,usageDetails:A?.usageDetails,matched:f>0,numResolvedItems:h.length},g=A?.usageDetails!==void 0?A?.usageDetails.filter(E=>E.usage==="full"||E.usage==="partial"||E.usage==="partial_content_excluded").length:void 0,y=A?.usageDetails!==void 0?A?.usageDetails.filter(E=>E.usage==="partial"||E.usage==="partial_content_excluded").length:void 0;return g!==void 0&&(m.numUsedItems=g),y!==void 0&&(m.numPartiallyUsedItems=y),m})}s(W7,"telemetrizeContextItems");function Y7(t){return t.matchScore>0&&t.resolution!=="error"}s(Y7,"matchContextItems");function qot(t,e){let r=Hot(t,e),n=Hi(t,st.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let o=t.get(cj).getIds();return Array.from(new Set([...o,...r,...n]))}s(qot,"getActiveContextProviders");function Hot(t,e){return Mre(t)?["*"]:t.get(Ot).contextProviders(e)}s(Hot,"getExpContextProviders");function g2(t,e){return qot(t,e).length>0}s(g2,"useContextProviderAPI");var K1=class{constructor(e){this.ctx=e;this.scheduledResolutions=new vr(25)}static{s(this,"ContextProviderBridge")}schedule(e,r,n,o,a,c){let l=this.ctx.get(V7),{textDocument:u,originalPosition:f,originalOffset:h,originalVersion:A,editsWithPosition:p}=e,m=l.resolveAllProviders(r,n,{uri:u.uri,languageId:u.detectedLanguageId,version:A,offset:h,position:f,proposedEdits:p.length>0?p:void 0},o,a,c?.data);this.scheduledResolutions.set(r,m)}async resolution(e){let r=this.scheduledResolutions.get(e);return r?await r:[]}};d();d();var j7=class{constructor(e,r,n){this.languageId=e;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{s(this,"BaseBlockParser")}async getNodeMatchAtPosition(e,r,n){let o=await $I(this.languageId,e);try{let c=o.rootNode.descendantForIndex(r);for(;c;){let l=this.nodeMatch[c.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(c.type))break;let u=this.nodeTypesWithBlockOrStmtChild.get(c.type);if((u==""?c.namedChildren[0]:c.childForFieldName(u))?.type==l)break}c=c.parent}return c?n(c):void 0}finally{o.delete()}}getNextBlockAtPosition(e,r,n){return this.getNodeMatchAtPosition(e,r,o=>{let a=o.children.reverse().find(c=>c.type==this.nodeMatch[o.type]);if(a){if(this.languageId=="python"&&a.parent){let c=a.parent.type==":"?a.parent.parent:a.parent,l=c?.nextSibling;for(;l&&l.type=="comment";){let u=l.startPosition.row==a.endPosition.row&&l.startPosition.column>=a.endPosition.column,f=l.startPosition.row>c.endPosition.row&&l.startPosition.column>c.startPosition.column;if(u||f)a=l,l=l.nextSibling;else break}}if(!(a.endIndex>=a.tree.rootNode.endIndex-1&&(a.hasError||a.parent.hasError)))return n(a)}})}async isBlockBodyFinished(e,r,n){let o=(e+r).trimEnd(),a=await this.getNextBlockAtPosition(o,n,c=>c.endIndex);if(a!==void 0&&a<o.length){let c=a-e.length;return c>0?c:void 0}}getNodeStart(e,r){let n=e.trimEnd();return this.getNodeMatchAtPosition(n,r,o=>o.startIndex)}},$7=class extends j7{constructor(r,n,o,a,c){super(r,a,c);this.blockEmptyMatch=n;this.lineMatch=o}static{s(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let o=await this.getNextBlockAtPosition(r,n,a=>{a.startIndex<n&&(n=a.startIndex);let c=r.substring(n,a.endIndex).trim();return c==""||c.replace(/\s/g,"")==this.blockEmptyMatch});return o===void 0||o}async isEmptyBlockStart(r,n){return n=HIe(r,n),this.isBlockStart(Got(r,n))&&this.isBlockBodyEmpty(r,n)}};function Got(t,e){let r=t.lastIndexOf(`
`,e-1),n=t.indexOf(`
`,e);return n<0&&(n=t.length),t.slice(r+1,n)}s(Got,"getLineAtOffset");function HIe(t,e){let r=e;for(;r>0&&/\s/.test(t.charAt(r-1));)r--;return r}s(HIe,"rewindToNearestNonWs");function qIe(t,e){let r=t.startIndex,n=t.startIndex-t.startPosition.column,o=e.substring(n,r);if(/^\s*$/.test(o))return o}s(qIe,"indent");function Vot(t,e,r){if(e.startPosition.row<=t.startPosition.row)return!1;let n=qIe(t,r),o=qIe(e,r);return n!==void 0&&o!==void 0&&n.startsWith(o)}s(Vot,"outdented");var mf=class extends j7{constructor(r,n,o,a,c,l,u){super(r,n,o);this.startKeywords=a;this.blockNodeType=c;this.emptyStatementType=l;this.curlyBraceLanguage=u}static{s(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let o=r.text.trim();return this.curlyBraceLanguage&&(o.startsWith("{")&&(o=o.slice(1)),o.endsWith("}")&&(o=o.slice(0,-1)),o=o.trim()),!!(o.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&YCe(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let c=n;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;n=HIe(r,n);let[o,a]=await UW(this.languageId,r);try{let c=o.rootNode.descendantForIndex(n-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let A=c;for(;A.parent;){if(A.type=="function_signature"||A.type=="method_signature"){let p=c.nextSibling;return p&&A.hasError&&Vot(A,p,r)?!0:!A.children.find(g=>g.type==";")&&A.endIndex<=n}A=A.parent}}let l=null,u=null,f=null,h=c;for(;h!=null;){if(h.type==this.blockNodeType){u=h;break}if(this.nodeMatch[h.type]){f=h;break}if(h.type=="ERROR"){l=h;break}h=h.parent}if(u!=null){if(!u.parent||!this.nodeMatch[u.parent.type])return!1;if(this.languageId=="python"){let A=u.previousSibling;if(A!=null&&A.hasError&&(A.text.startsWith('"""')||A.text.startsWith("'''")))return!0}return this.isBlockEmpty(u,n)}if(l!=null){if(l.previousSibling?.type=="module"||l.previousSibling?.type=="internal_module"||l.previousSibling?.type=="def")return!0;if(this.languageId==="python"&&a>=14&&l.hasError&&(l.text.startsWith('"')||l.text.startsWith("'"))){let g=l.parent?.type;if(g==="function_definition"||g==="class_definition"||g==="module")return!0}let A=[...l.children].reverse(),p=A.find(g=>this.startKeywords.includes(g.type)),m=A.find(g=>g.type==this.blockNodeType);if(p){switch(this.languageId){case"python":{p.type=="try"&&c.type=="identifier"&&c.text.length>4&&(m=A.find(E=>E.hasError)?.children.find(E=>E.type=="block"));let g,y=0;for(let E of l.children){if(E.type==":"&&y==0){g=E;break}E.type=="("&&(y+=1),E.type==")"&&(y-=1)}if(g&&p.endIndex<=g.startIndex&&g.nextSibling){if(p.type=="def"){let E=g.nextSibling;if(E.type=='"'||E.type=="'"||E.type=="ERROR"&&(E.text=='"""'||E.text=="'''"))return!0}return!1}break}case"javascript":{if(p.type==="class")if(a<=13){if(A.find(I=>I.type==="formal_parameters"))return!0}else{let E=l.children;for(let I=0;I<E.length;I++)if(E[I].type==="formal_parameters")return I+1===E.length||E[I+1]?.type==="{"&&I+2===E.length}let g=A.find(E=>E.type=="{");if(g&&g.startIndex>p.endIndex&&g.nextSibling!=null||A.find(E=>E.type=="do")&&p.type=="while"||p.type=="=>"&&p.nextSibling&&p.nextSibling.type!="{")return!1;break}case"typescript":{let g=A.find(E=>E.type=="{");if(g&&g.startIndex>p.endIndex&&g.nextSibling!=null||A.find(E=>E.type=="do")&&p.type=="while"||p.type=="=>"&&p.nextSibling&&p.nextSibling.type!="{")return!1;break}}return m&&m.startIndex>p.endIndex?this.isBlockEmpty(m,n):!0}}if(f!=null){let A=this.nodeMatch[f.type],p=f.children.slice().reverse().find(m=>m.type==A);if(p)return this.isBlockEmpty(p,n);if(this.nodeTypesWithBlockOrStmtChild.has(f.type)){let m=this.nodeTypesWithBlockOrStmtChild.get(f.type),g=m==""?f.children[0]:f.childForFieldName(m);if(g&&g.type!=this.blockNodeType&&g.type!=this.emptyStatementType)return!1}return!0}return!1}finally{o.delete()}}},y$r={python:new mf("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new mf("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_expression:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new mf("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_expression:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new mf("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_expression:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new $7("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new $7("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),"c-sharp":new mf("csharp",{},new Map([]),[],"block",null,!0),java:new mf("java",{},new Map([]),[],"block",null,!0),php:new mf("php",{},new Map([]),[],"block",null,!0),cpp:new mf("cpp",{},new Map([]),[],"block",null,!0)};var k$r=new or("parseBlock");var Wot=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(t=>t+"\\b")),D$r=new RegExp(`^(${Wot.join("|")})`);d();d();d();d();d();d();var Yot={tokenizerName:"o200k_base"};function jot(t){return{...Yot,...t}}s(jot,"cursorContextOptions");function DT(t,e={}){let r=jot(e),n=$0(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let o=t.source.slice(0,t.offset);return r.maxLineCount!==void 0&&(o=o.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(o=n.takeLastLinesTokens(o,r.maxTokenLength)),{context:o,lineCount:o.split(`
`).length,tokenLength:n.tokenLength(o),tokenizerName:r.tokenizerName}}s(DT,"getCursorContext");d();d();var $ot={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function GIe(t){let e=$ot[t.semantics],r=["snippets"].includes(t.semantics)?"these":"this";return{headline:t.relativePath?`Compare ${r} ${e} from ${t.relativePath}:`:`Compare ${r} ${e}:`,snippet:t.snippet}}s(GIe,"announceSnippet");var lj=class{constructor(e){this.keys=[];this.cache={};this.size=e}static{s(this,"FifoCache")}put(e,r){if(this.cache[e]=r,this.keys.length>this.size){this.keys.push(e);let n=this.keys.shift()??"";delete this.cache[n]}}get(e){return this.cache[e]}};var uj=class{static{s(this,"Tokenizer")}constructor(e){this.stopsForLanguage=Xot.get(e.languageId)??Jot}tokenize(e){return new Set(zot(e).filter(r=>!this.stopsForLanguage.has(r)))}},VIe=new lj(20),C2=class{static{s(this,"WindowedMatcher")}constructor(e){this.referenceDoc=e,this.tokenizer=new uj(e)}get referenceTokens(){return Promise.resolve(this.createReferenceTokens())}createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,r="descending"){return r=="ascending"?e.sort((n,o)=>n.score>o.score?1:-1):r=="descending"?e.sort((n,o)=>n.score>o.score?-1:1):e}async retrieveAllSnippets(e,r="descending"){let n=[];if(e.source.length===0||(await this.referenceTokens).size===0)return n;let o=e.source.split(`
`),a=this.id()+":"+e.source,c=VIe.get(a)??[],l=c.length==0,u=l?o.map(f=>this.tokenizer.tokenize(f),this.tokenizer):[];for(let[f,[h,A]]of this.getWindowsDelineations(o).entries()){if(l){let g=new Set;u.slice(h,A).forEach(y=>y.forEach(E=>g.add(E),g)),c.push(g)}let p=c[f],m=this.similarityScore(p,await this.referenceTokens);if(n.length&&h>0&&n[n.length-1].endLine>h){n[n.length-1].score<m&&(n[n.length-1].score=m,n[n.length-1].startLine=h,n[n.length-1].endLine=A);continue}n.push({score:m,startLine:h,endLine:A})}return l&&VIe.put(a,c),this.sortScoredSnippets(n,r)}findMatches(e,r){return this.findBestMatch(e,r)}async findBestMatch(e,r){if(e.source.length===0||(await this.referenceTokens).size===0)return[];let n=e.source.split(`
`),o=await this.retrieveAllSnippets(e,"descending");if(o.length===0)return[];let a=[];for(let c=0;c<o.length&&c<r;c++)if(o[c].score!==0){let l=n.slice(o[c].startLine,o[c].endLine).join(`
`);a.push({snippet:l,semantics:"snippet",provider:"similar-files",...o[c]})}return a}};function zot(t){return t.split(/[^a-zA-Z0-9]/).filter(e=>e.length>0)}s(zot,"splitIntoWords");var Kot=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),Jot=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...Kot]),Xot=new Map([]);d();d();d();d();function rst(t){return Object.keys(t).map(e=>{let r;return t[e].test?r=s(n=>t[e].test(n),"matches"):r=t[e],{matches:r,label:e}})}s(rst,"buildLabelRules");var nst={opener:/^[[({]/,closer:/^[\])}]/},xzr=rst(nst);function z7(t,e){let r=[],n=e.length;if(n==0)return[];if(n<t)return[[0,n]];for(let o=0;o<n-t+1;o++)r.push([o,o+t]);return r}s(z7,"getBasicWindowDelineations");var K7=class t extends C2{static{s(this,"FixedWindowSizeJaccardMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=s(e=>({to:s(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return z7(this.windowLength,e)}_getCursorContextInfo(e){return DT(e,{maxLineCount:this.windowLength})}similarityScore(e,r){return ist(e,r)}};function ist(t,e){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size/(t.size+e.size-r.size)}s(ist,"computeScore");d();var J7=class t extends C2{static{s(this,"BlockTokenSubsetMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=s(e=>({to:s(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return z7(this.windowLength,e)}_getCursorContextInfo(e){return DT(e,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=t.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let e=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=e?this.referenceDoc.source.slice(e,r):DT(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(e){switch(e){case"csharp":return!0;default:return!1}}similarityScore(e,r){return ost(e,r)}async getEnclosingMemberStart(e,r){let n;try{n=await $I(this.referenceDoc.languageId,e);let o=n.rootNode.namedDescendantForIndex(r);for(;o&&!(t.isMember(o)||t.isBlock(o));)o=o.parent??void 0;return o}finally{n?.delete()}}static isMember(e){switch(e?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(e){switch(e?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function ost(t,e){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size}s(ost,"computeScore");var sst=0,ast=60,cst=4,lst=1,ust=20,fst=1e4,WIe={snippetLength:ast,threshold:sst,maxTopSnippets:cst,maxCharPerFile:fst,maxNumberOfFiles:ust,maxSnippetsPerFile:lst,useSubsetMatching:!1};var fj={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function dst(t,e){return(e.useSubsetMatching?J7.FACTORY(e.snippetLength):K7.FACTORY(e.snippetLength)).to(t)}s(dst,"getMatcher");async function YIe(t,e,r){let n=dst(t,r);return r.maxTopSnippets===0?[]:(await e.filter(a=>a.source.length<r.maxCharPerFile&&a.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(a,c)=>(await a).concat((await n.findMatches(c,r.maxSnippetsPerFile)).map(l=>({relativePath:c.relativePath,...l}))),Promise.resolve([]))).filter(a=>a.score&&a.snippet&&a.score>r.threshold).sort((a,c)=>a.score-c.score).slice(-r.maxTopSnippets)}s(YIe,"getSimilarSnippets");function jIe(t,e){return{...fj,useSubsetMatching:dj(t,e)}}s(jIe,"getCppSimilarFilesOptions");function $Ie(t){return fj.maxTopSnippets}s($Ie,"getCppNumberOfSnippets");var hst=new Map([["cpp",jIe]]);function X7(t,e,r){let n=hst.get(r);return n?n(t,e):{...WIe,useSubsetMatching:dj(t,e)}}s(X7,"getSimilarFilesOptions");var Ast=new Map([["cpp",$Ie]]);function zIe(t,e){let r=Ast.get(e);return r?r(t):HCe}s(zIe,"getNumberOfSnippets");function dj(t,e){return(e.filtersAndExp.exp.variables.copilotsubsetmatching||Hi(t,st.UseSubsetMatching))??!1}s(dj,"useSubsetMatching");d();d();d();d();var pst="content_excluded";async function Z7(t,e,r,n){let o=H7(r,"CodeSnippet");if(o.length===0)return[];let a=new Set,c=o.flatMap(h=>h.data.map(A=>(a.add(A.uri),A.additionalUris?.forEach(p=>a.add(p)),{providerId:h.providerId,data:A}))),l=t.get(ln),u=new Map;await Promise.all(Array.from(a).map(async h=>{u.set(h,await l.getTextDocumentValidation({uri:h}))}));let f=t.get(X0).getStatisticsForCompletion(e);return c.filter(h=>{let p=[h.data.uri,...h.data.additionalUris??[]].every(m=>u.get(m)?.status==="valid");return p?f.addExpectations(h.providerId,[[h.data,"included"]]):f.addExpectations(h.providerId,[[h.data,pst]]),p}).map(h=>h.data)}s(Z7,"getCodeSnippetsFromContextItems");function KIe(t,e){let r=t.get(ln);return e.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}s(KIe,"addRelativePathToCodeSnippets");d();function Mi(t){if(t.children)return Array.isArray(t.children)?t.children.join(""):t.children}s(Mi,"Text");function Fp(t){return t.children}s(Fp,"Chunk");d();function dt(t,e,r){let n=[];Array.isArray(e.children)?n=e.children:e.children&&(n=[e.children]);let o={...e,children:n};return r&&(o.key=r),{type:t,props:o}}s(dt,"functionComponentFunction");function Zl(t){return{type:"f",children:t}}s(Zl,"fragmentFunction");Zl.isFragmentFunction=!0;var ek=s((t,e)=>{let[r,n]=e.useState(),[o,a]=e.useState();if(e.useData(ec,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==o?.uri&&a(f.document)}),!r||r.length===0||!o)return;let c=KIe(t.ctx,r),l=new Map;for(let f of c){let h=f.relativePath??f.snippet.uri,A=l.get(h);A===void 0&&(A=[],l.set(h,A)),A.push(f)}let u=[];for(let[f,h]of l.entries()){let A=h.filter(p=>p.snippet.value.length>0);A.length>0&&u.push({chunkElements:A.map(p=>p.snippet),importance:Math.max(...A.map(p=>p.snippet.importance??0)),uri:f})}if(u.length!==0)return u.sort((f,h)=>h.importance-f.importance),u.reverse(),u.map(f=>{let h=[];return h.push(dt(Mi,{children:`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`})),f.chunkElements.forEach((A,p)=>{h.push(dt(Mi,{source:A,children:A.value},A.id)),f.chunkElements.length>1&&p<f.chunkElements.length-1&&h.push(dt(Mi,{children:"---"}))}),dt(Fp,{children:h})})},"CodeSnippets");d();function hj(t){return t.children}s(hj,"CompletionsContext");function Aj(t){return t.children}s(Aj,"StableCompletionsContext");function pj(t){return t.children}s(pj,"AdditionalCompletionsContext");function tk(t){return t.name===hj.name||t.name===Aj.name||t.name===pj.name}s(tk,"isContextNode");d();d();d();function rk(t,e){if(t.length===0||e.length===0)return{score:t.length+e.length};let r=Array.from({length:t.length}).map(()=>Array.from({length:e.length}).map(()=>0));for(let n=0;n<t.length;n++)r[n][0]=n;for(let n=0;n<e.length;n++)r[0][n]=n;for(let n=0;n<e.length;n++)for(let o=0;o<t.length;o++)r[o][n]=Math.min((o==0?n:r[o-1][n])+1,(n==0?o:r[o][n-1])+1,(o==0||n==0?Math.max(o,n):r[o-1][n-1])+(t[o]==e[n]?0:1));return{score:r[t.length-1][e.length-1]}}s(rk,"findEditDistanceScore");var NT=50;function mj(t){let e=t*4,r=t*.1;return Math.floor(e+r)}s(mj,"approximateMaxCharacters");function QT(t,e){let[r,n]=e.useState(),[o,a]=e.useState(),[c,l]=e.useState(0),[u,f]=e.useState(),[h,A]=e.useState();e.useData(ec,m=>{let g=m.document;(m.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),m.position!==o&&a(m.position),m.suffixMatchThreshold!==u&&f(m.suffixMatchThreshold),m.maxPromptTokens!==c&&l(m.maxPromptTokens),m.tokenizer!==h&&A(m.tokenizer)});let p=mj(c);return dt(Zl,{children:[dt(J1,{document:r,position:o,maxCharacters:p}),dt(nk,{document:r,position:o,suffixMatchThreshold:u,maxCharacters:p,tokenizer:h})]})}s(QT,"CurrentFile");function J1(t){if(t.document===void 0||t.position===void 0)return dt(Mi,{});let e=t.document.getText({start:{line:0,character:0},end:t.position});return e.length>t.maxCharacters&&(e=e.slice(-t.maxCharacters)),dt(Mi,{children:e})}s(J1,"BeforeCursor");function nk(t,e){let[r,n]=e.useState("");if(t.document===void 0||t.position===void 0)return dt(Mi,{});let o=t.document.getText({start:t.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});o.length>t.maxCharacters&&(o=o.slice(0,t.maxCharacters));let a=o.replace(/^.*/,"").trimStart();if(a==="")return dt(Mi,{});if(r===a)return dt(Mi,{children:r});let c=a;if(r!==""){let l=$0(t.tokenizer),u=l.takeFirstTokens(a,NT);u.tokens.length>0&&100*rk(u.tokens,l.takeFirstTokens(r,NT).tokens)?.score<(t.suffixMatchThreshold??W9)*u.tokens.length&&(c=r)}return c!==r&&n(c),dt(Mi,{children:c})}s(nk,"AfterCursor");function JIe(t,e){let[r,n]=e.useState(),[o,a]=e.useState(),[c,l]=e.useState(0);e.useData(ec,f=>{let h=f.document;(f.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),f.position!==o&&a(f.position),f.maxPromptTokens!==c&&l(f.maxPromptTokens)});let u=mj(c);return dt(J1,{document:r,position:o,maxCharacters:u})}s(JIe,"DocumentPrefix");function XIe(t,e){let[r,n]=e.useState(),[o,a]=e.useState(),[c,l]=e.useState(0),[u,f]=e.useState(),[h,A]=e.useState();e.useData(ec,m=>{let g=m.document;(m.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),m.position!==o&&a(m.position),m.suffixMatchThreshold!==u&&f(m.suffixMatchThreshold),m.maxPromptTokens!==c&&l(m.maxPromptTokens),m.tokenizer!==h&&A(m.tokenizer)});let p=mj(c);return dt(nk,{document:r,position:o,suffixMatchThreshold:u,maxCharacters:p,tokenizer:h})}s(XIe,"DocumentSuffix");d();var ik=class{static{s(this,"WishlistElision")}elide(e,r,n,o,a){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[c,l]=this.preparePrefixBlocks(e,a),{elidedSuffix:u,adjustedPrefixTokenLimit:f}=this.elideSuffix(n,o,r,l,a),h=this.elidePrefix(c,f,l,a);return{blocks:[u,...h],cycles:1}}preparePrefixBlocks(e,r){let n=0,o=new Set;return[e.map((c,l)=>{let u=0,h=c.value.split(/([^\n]*\n+)/).filter(p=>p!=="").map(p=>{let m=r.tokenLength(p);return u+=m,n+=m,{line:p,componentPath:c.componentPath,tokens:m}}),A=c.componentPath;if(o.has(A))throw new Error(`Duplicate component path in prefix blocks: ${A}`);return o.add(A),{...c,tokens:u,markedForRemoval:!1,originalIndex:l,lines:h}}),n]}elideSuffix(e,r,n,o,a){let c=e.value;if(c.length===0||r<=0)return{elidedSuffix:{...e,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};o<n&&(r=r+(n-o),n=o);let l=a.takeFirstTokens(c,r);return{elidedSuffix:{...e,value:c,tokens:a.tokenLength(c),elidedValue:l.text,elidedTokens:l.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-l.tokens.length)}}elidePrefix(e,r,n,o){let a=this.removeLowWeightPrefixBlocks(e,r,n),c=a.filter(h=>!h.markedForRemoval).flatMap(h=>h.lines);if(c.length===0)return[];let[l,u]=this.trimPrefixLinesToFit(c,r,o),f=u;return a.map(h=>{if(h.markedForRemoval)return f+h.tokens<=r&&!h.chunks?(f+=h.tokens,{...h,elidedValue:h.value,elidedTokens:h.tokens}):{...h,elidedValue:"",elidedTokens:0};let A=l.filter(m=>m.componentPath===h.componentPath&&m.line!=="").map(m=>m.line).join(""),p=h.tokens;return A!==h.value&&(p=A!==""?o.tokenLength(A):0),{...h,elidedValue:A,elidedTokens:p}})}removeLowWeightPrefixBlocks(e,r,n){let o=n;e.sort((a,c)=>a.weight-c.weight);for(let a of e){if(o<=r)break;if(a.weight!==1&&!(a.chunks&&a.markedForRemoval))if(a.chunks&&a.chunks.size>0)for(let c of e)!c.markedForRemoval&&c.chunks&&[...a.chunks].every(l=>c.chunks?.has(l))&&(c.markedForRemoval=!0,o-=c.tokens);else a.markedForRemoval=!0,o-=a.tokens}return e.sort((a,c)=>a.originalIndex-c.originalIndex)}trimPrefixLinesToFit(e,r,n){let o=0,a=[];for(let c=e.length-1;c>=0;c--){let l=e[c],u=l.tokens;if(o+u<=r)a.unshift(l),o+=u;else break}if(a.length===0){let c=e[e.length-1];if(c&&c.line.length>0){let u=n.takeLastTokens(c.line,r);return a.push({line:u.text,componentPath:c.componentPath,tokens:u.tokens.length}),[a,u.tokens.length]}let l=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(l)}return[a,o]}};function ZIe(t){return t.map(e=>e.elidedValue).join("")}s(ZIe,"makePrompt");function e2e(t){return t.filter(e=>e.type==="prefix").map(e=>e.elidedValue).join("")}s(e2e,"makePrefixPrompt");function t2e(t){if(t.length===0)return[];let e=new Map;for(let o of t)if(o.type==="context"&&o.index!==void 0){e.has(o.index)||e.set(o.index,[]);let a=o.elidedValue.trim();a.length>0&&e.get(o.index).push(a)}let r=Math.max(...Array.from(e.keys()),-1),n=[];for(let o=0;o<=r;o++){let a=e.get(o);if(a&&a.length>0){let c=a.join(`
`).trim();n.push(c)}else n.push("")}return n}s(t2e,"makeContextPrompt");d();var y2=class{constructor(e,r=gj()){this.snapshot=e;this.transformers=r}static{s(this,"SnapshotWalker")}walkSnapshot(e){this.walkSnapshotNode(this.snapshot,void 0,e,{})}walkSnapshotNode(e,r,n,o){let a=this.transformers.reduce((l,u)=>u(e,r,l),{...o});if(n(e,r,a))for(let l of e.children??[])this.walkSnapshotNode(l,e,n,a)}};function gj(){return[(t,e,r)=>{r.weight===void 0&&(r.weight=1);let n=t.props?.weight??1,o=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:o*r.weight}},(t,e,r)=>{if(t.name===Fp.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(t.path),{...r,chunks:n}}return r},(t,e,r)=>t.props?.source!==void 0?{...r,source:t.props.source}:r]}s(gj,"defaultTransformers");d();var Cj={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},r2e={};for(let[t,e]of Object.entries(Cj))if(e.markdownLanguageIds)for(let r of e.markdownLanguageIds)r2e[r]=t;else r2e[t]=t;var mst={start:"//",end:""},gst=["php","plaintext"],yj={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function n2e(t){return Object.values(yj).includes(t.trim())}s(n2e,"isShebangLine");function Cst({source:t}){return t.startsWith("#!")||t.startsWith("<!DOCTYPE")}s(Cst,"hasLanguageMarker");function yst(t,e){let r=Cj[e]?Cj[e].lineComment:mst;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${t}${n}`}return""}s(yst,"comment");function dh(t,e){if(t==="")return"";let r=t.endsWith(`
`),o=(r?t.slice(0,-1):t).split(`
`).map(a=>yst(a,e)).join(`
`);return r?o+`
`:o}s(dh,"commentBlockAsSingles");function ok(t){let{languageId:e}=t;return gst.indexOf(e)===-1&&!Cst(t)?e in yj?yj[e]:`Language: ${e}`:""}s(ok,"getLanguageMarker");function sk(t){return t.relativePath?`Path: ${t.relativePath}`:""}s(sk,"getPathMarker");function PT(t){return t===""||t.endsWith(`
`)?t:t+`
`}s(PT,"newLineEnded");var Est=5,E2=class{constructor(){this.renderId=0;this.formatPrefix=ZIe}static{s(this,"CompletionsPromptRenderer")}render(e,r,n){let o=this.renderId++,a=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let c=r.delimiter??"",l=r.tokenizer??"o200k_base",{prefixBlocks:u,suffixBlock:f,componentStatistics:h}=this.processSnapshot(e,c,r.languageId),{prefixTokenLimit:A,suffixTokenLimit:p}=this.getPromptLimits(f,r),m=performance.now(),g=new ik,{blocks:[y,...E]}=g.elide(u,A,f,p,$0(l)),I=performance.now(),x=this.formatPrefix(E),v=this.formatContext?this.formatContext(E):void 0,b=y.elidedValue,_=E.reduce((S,w)=>S+w.elidedTokens,0);return h.push(...Ist([...E,y])),{prefix:x,prefixTokens:_,suffix:b,suffixTokens:y.elidedTokens,context:v,status:"ok",metadata:{renderId:o,rendererName:"c",tokenizer:l,elisionTimeMs:I-m,renderTimeMs:performance.now()-a,componentStatistics:h,updateDataTimeMs:h.reduce((S,w)=>S+(w.updateDataTimeMs??0),0)}}}catch(c){return{status:"error",error:c}}}getPromptLimits(e,r){let n=e?.value??"",o=r.promptTokenLimit,a=r.suffixPercent;if(n.length==0||a==0)return{prefixTokenLimit:o,suffixTokenLimit:0};o=n.length>0?o-Est:o;let c=Math.ceil(o*(a/100));return{prefixTokenLimit:o-c,suffixTokenLimit:c}}processSnapshot(e,r,n){let o=[],a=[],c=[],l=!1;if(new y2(e,Ej).walkSnapshot((h,A,p)=>{if(h===e||(h.name===QT.name&&(l=!0),h.statistics.updateDataTimeMs&&h.statistics.updateDataTimeMs>0&&c.push({componentPath:h.path,updateDataTimeMs:h.statistics.updateDataTimeMs}),h.value===void 0||h.value===""))return!0;let m=p.chunks;if(p.type==="suffix")a.push({value:FT(h.value),type:"suffix",weight:p.weight,componentPath:h.path,nodeStatistics:h.statistics,chunks:m,source:p.source});else{let g=h.value.endsWith(r)?h.value:h.value+r,y=g;p.type==="prefix"?y=h.value:n2e(h.value)?y=g:y=dh(g,n),o.push({type:p.type==="prefix"?"prefix":"context",value:FT(y),weight:p.weight,componentPath:h.path,nodeStatistics:h.statistics,chunks:m,source:p.source})}return!0}),!l)throw new Error(`Node of type ${QT.name} not found`);if(a.length>1)throw new Error("Only one suffix is allowed");let f=a.length===1?a[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:f,componentStatistics:c}}},Ej=[...gj(),(t,e,r)=>tk(t)?{...r,type:"context"}:r,(t,e,r)=>t.name===J1.name?{...r,type:"prefix"}:r,(t,e,r)=>t.name===nk.name?{...r,type:"suffix"}:r];function Ist(t){return t.map(e=>{let r={componentPath:e.componentPath};return e.tokens!==0&&(r.expectedTokens=e.tokens,r.actualTokens=e.elidedTokens),e.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=e.nodeStatistics.updateDataTimeMs),e.source&&(r.source=e.source),r})}s(Ist,"computeComponentStatistics");function FT(t){return t.replace(/\r\n?/g,`
`)}s(FT,"normalizeLineEndings");d();var ak=s((t,e)=>{let[r,n]=e.useState();if(e.useData(ec,o=>{o.document.uri!==r?.uri&&n(o.document)}),r){let o=t.ctx.get(ln),a=o.getRelativePath(r),c={uri:r.uri,source:r.getText(),relativePath:a,languageId:r.detectedLanguageId},l=o.findNotebook(r);return c.relativePath&&!l?dt(xst,{docInfo:c}):dt(vst,{docInfo:c})}},"DocumentMarker"),xst=s(t=>dt(Mi,{children:sk(t.docInfo)}),"PathMarker"),vst=s(t=>dt(Mi,{children:ok(t.docInfo)}),"LanguageMarker");d();d();d();var jft=We($ve()),$ft=We(Kve()),Jve=We(HT()),zft=We(zk());var BD=class extends Jve.Disposable{static{s(this,"RecentEditsProvider")}};function Kft(t,e=!1,r=void 0,n){if(e&&(r===void 0||n===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let o=t.startLine-1,a=t.endLine-1;return!!(e&&(Math.abs(o-r)<=n||Math.abs(a-r)<=n))}s(Kft,"editIsTooCloseToCursor");var RD=s((t,e)=>{let[r,n]=e.useState();return e.useData(ec,async o=>{if(!o.document)return;let a=t.ctx.get(BD);if(a.isEnabled())a.start();else return;let c=a.config,l=a.getRecentEdits(),u=new Set,f=t.ctx.get(ln),h=[];for(let p=l.length-1;p>=0&&!(h.length>=c.maxEdits);p--){let m=l[p];if(!await f.getTextDocument({uri:m.file}))continue;let g=!u.has(m.file);if(u.size+(g?1:0)>c.maxFiles)break;let E=m.file===o.document?.uri,I=E?o.position.line:void 0;if(Kft(m,E,I,c.activeDocDistanceLimitFromCursor))continue;let v=a.getEditSummary(m);if(v){u.add(m.file);let b=f.getRelativePath({uri:m.file});h.unshift(PT(`File: ${b}`)+PT(v))}}if(h.length===0){n(void 0);return}let A=PT("These are recently edited files. Do not suggest code that has been deleted.")+h.join("")+PT("End of recent edits");n(A)}),r?dt(Fp,{children:dt(Mi,{children:r})}):void 0},"RecentEdits");d();d();d();d();var Xve=new vr;function Zve(t){return[...t].sort((e,r)=>{let n=Xve.get(e.uri)??0;return(Xve.get(r.uri)??0)-n})}s(Zve,"sortByAccessTimes");var kD=class{constructor(e){this.docManager=e}static{s(this,"OpenTabFiles")}truncateDocs(e,r,n,o){let a=new Map,c=0;for(let l of e)if(!(c+l.getText().length>mC.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&Oz(n,l.detectedLanguageId)&&(a.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),c+=l.getText().length),a.size>=o))break;return a}async getNeighborFiles(e,r,n){let o=new Map,a=new Map;return o=this.truncateDocs(Zve(await this.docManager.textDocuments()),e,r,n),a.set("opentabs",Array.from(o.keys()).map(c=>c.toString())),{docs:o,neighborSource:a}}};d();d();function ebe(t,e,r){return async function(...n){return await Promise.race([t.apply(this,n),new Promise(o=>{setTimeout(o,e,r)})])}}s(ebe,"shortCircuit");d();function Jft(...t){return JSON.stringify(t,(e,r)=>typeof r=="object"?r:String(r))}s(Jft,"defaultHash");function Uz(t,e={}){let{hash:r=Jft,cache:n=new Map}=e;return function(...o){let a=r.apply(this,o);if(n.has(a))return n.get(a);let c=t.apply(this,o);return c instanceof Promise&&(c=c.catch(l=>{throw n.delete(a),l})),n.set(a,c),c}}s(Uz,"memoize");var DD={entries:new Map,traits:[]},qz=class extends vr{constructor(r,n=120*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{s(this,"PromiseExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let o=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),o}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.delete(r)}},r0=new or("relatedFiles"),Xft=1e3,ND=class extends Error{static{s(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},Hz=class t{constructor(e){this.context=e}static{s(this,"RelatedFilesProvider")}async getRelatedFiles(e,r,n){let o=await this.getRelatedFilesResponse(e,r,n);if(o===void 0)return;let a={entries:new Map,traits:o.traits??[]};for(let c of o.entries){let l=a.entries.get(c.type);l||(l=new Map,a.entries.set(c.type,l));for(let u of c.uris)try{r0.debug(this.context,`Processing ${u}`);let f=await this.getFileContent(u);if(!f||f.length==0){r0.debug(this.context,`Skip ${u} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(u,f)){r0.debug(this.context,`Skip ${u} due content exclusion.`);continue}f=t.dropBOM(f),l.set(u,f)}catch(f){r0.warn(this.context,f)}}return a}async getFileContent(e){try{return this.context.get(Yo).readFileString(e)}catch(r){r0.debug(this.context,r)}}async isContentExcluded(e,r){try{return(await this.context.get(Af).evaluate(e,r)).isBlocked}catch(n){r0.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(e){return e.charCodeAt(0)===65279?e.slice(1):e}},Zft=3,tbe=new qz(Xft);async function rbe(t,e,r,n,o){let a=performance.now(),c;try{c=await o.getRelatedFiles(e,r,n)}catch(u){r0.exception(t,u,".getRelatedFiles"),c=void 0}c===void 0&&(tbe.bumpRetryCount(e.uri)>=Zft?c=DD:c=void 0);let l=performance.now()-a;if(r0.debug(t,c!==void 0?`Fetched ${[...c.entries.values()].map(u=>u.size).reduce((u,f)=>u+f,0)} related files for '${e.uri}' in ${l}ms.`:`Failing fetching files for '${e.uri}' in ${l}ms.`),c===void 0)throw new ND;return c}s(rbe,"getRelatedFiles");var Gz=Uz(rbe,{cache:tbe,hash:s((t,e,r,n,o)=>`${e.uri}`,"hash")});Gz=ebe(Gz,200,DD);async function nbe(t,e,r,n,o,a=!1){let c=t.get(Hz),l=DD;try{let u={uri:e.uri,clientLanguageId:e.clientLanguageId,data:o};l=a?await rbe(t,u,r,n,c):await Gz(t,u,r,n,c)}catch(u){l=DD,u instanceof ND&&vt(t,"getRelatedFilesList",r)}return r0.debug(t,l!=null?`Fetched following traits ${l.traits.map(u=>`{${u.name} : ${u.value}}`).join("")} for '${e.uri}'`:`Failing fecthing traits for '${e.uri}'.`),l}s(nbe,"getRelatedFilesAndTraits");function Oz(t,e){return oT(t)===oT(e)}s(Oz,"considerNeighborFile");var mC=class t{static{s(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){t.instance=void 0}static async getNeighborFilesAndTraits(e,r,n,o,a,c,l){let u=e.get(ln);t.instance===void 0&&(t.instance=new kD(u));let f={...await t.instance.getNeighborFiles(r,n,t.MAX_NEIGHBOR_FILES),traits:[]};if(edt(e,o))return f;let h=await u.getTextDocument({uri:r});if(!h)return r0.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),f;let A=u.getWorkspaceFolder(h);if(!A)return r0.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),f;let p=await nbe(e,h,o,a,c,l);return p.entries.size===0?(r0.debug(e,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),f.traits.push(...p.traits),f):(p.entries.forEach((m,g)=>{let y=[];m.forEach((E,I)=>{let x=t.getRelativePath(I,A.uri);if(!x||f.docs.has(I))return;let v={relativePath:x,uri:I,source:E};y.unshift(v),f.docs.set(I,v)}),y.length>0&&f.neighborSource.set(g,y.map(E=>E.uri.toString()))}),f.traits.push(...p.traits),f)}static basename(e){return decodeURIComponent(e.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(e,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return e.toString().startsWith(n)?e.toString().slice(n.length):t.basename(e)}};function edt(t,e){return t.get(Ot).excludeRelatedFiles(e)||Hi(t,st.ExcludeRelatedFiles)}s(edt,"isExcludeRelatedFilesActive");function ibe(t,e){return t.get(Ot).includeNeighboringFiles(e)||Hi(t,st.IncludeNeighboringFiles)}s(ibe,"isIncludeNeighborFilesActive");var QD=s((t,e)=>{let[r,n]=e.useState(),[o,a]=e.useState([]);e.useData(ec,async u=>{u.document.uri!==r?.uri&&a([]),n(u.document);let f=mC.defaultEmptyResult();u.turnOffSimilarFiles||(f=await mC.getNeighborFilesAndTraits(t.ctx,u.document.uri,u.document.detectedLanguageId,u.telemetryData,u.cancellationToken,u.data));let h=await c(u.telemetryData,u.document,u,f);a(h)});async function c(u,f,h,A){let p=W2(t.ctx,u,f.detectedLanguageId);return(await l(p,u,f,h,A)).filter(g=>g.snippet.length>0).sort((g,y)=>g.score-y.score).map(g=>({...GIe(g),score:g.score}))}s(c,"produceSimilarFiles");async function l(u,f,h,A,p){let m=u.similarFilesOptions||X7(t.ctx,f,h.detectedLanguageId),y=t.ctx.get(ln).getRelativePath(h),E={uri:h.uri,source:h.getText(),offset:h.offsetAt(A.position),relativePath:y,languageId:h.detectedLanguageId};return await YIe(E,Array.from(p.docs.values()),m)}return s(l,"findSimilarSnippets"),dt(Zl,{children:[...o.map((u,f)=>dt(tdt,{snippet:u}))]})},"SimilarFiles"),tdt=s((t,e)=>dt(Fp,{children:[dt(Mi,{children:t.snippet.headline}),dt(Mi,{children:t.snippet.snippet})]}),"SimilarFile");d();d();var PD=s((t,e)=>{let[r,n]=e.useState(),[o,a]=e.useState();if(e.useData(ec,c=>{c.traits!==r&&n(c.traits);let l=oT(c.document.detectedLanguageId);l!==o&&a(l)}),!(!r||r.length===0||!o))return dt(Zl,{children:[dt(Mi,{children:`Consider this related information:
`}),...r.map(c=>dt(Mi,{source:c,children:`${c.name}: ${c.value}`},c.id))]})},"Traits");function obe(t){return dt(Zl,{children:[dt(Aj,{children:[dt(ak,{ctx:t,weight:.7}),dt(PD,{weight:.6}),dt(ek,{ctx:t,weight:.9}),dt(QD,{ctx:t,weight:.8})]}),dt(XIe,{weight:1}),dt(pj,{children:dt(RD,{ctx:t,weight:.99})}),dt(JIe,{weight:1})]})}s(obe,"splitContextCompletionsPrompt");d();var sbe=0;function rdt(){sbe=0}s(rdt,"resetContextIndex");function ndt(){return sbe++}s(ndt,"getNextContextIndex");var FD=class extends E2{constructor(){super(...arguments);this.formatPrefix=e2e;this.formatContext=t2e}static{s(this,"SplitContextPromptRenderer")}processSnapshot(r,n){let o=[],a=[],c=[],l=!1;if(rdt(),new y2(r,idt).walkSnapshot((h,A,p)=>{if(h===r||(h.statistics.updateDataTimeMs&&h.statistics.updateDataTimeMs>0&&c.push({componentPath:h.path,updateDataTimeMs:h.statistics.updateDataTimeMs}),h.name===J1.name&&(l=!0),h.value===void 0||h.value===""))return!0;let m=p.chunks,g=p.type;if(g==="suffix")a.push({value:FT(h.value),type:"suffix",weight:p.weight,componentPath:h.path,nodeStatistics:h.statistics,chunks:m,source:p.source});else{let y=g==="prefix",E=y||h.value.endsWith(n)?h.value:h.value+n;o.push({type:y?"prefix":"context",value:FT(E),weight:p.weight,componentPath:h.path,nodeStatistics:h.statistics,chunks:m,source:p.source,index:y?void 0:p.index})}return!0}),!l)throw new Error(`Node of type ${J1.name} not found`);if(a.length>1)throw new Error("Only one suffix is allowed");let f=a.length===1?a[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:f,componentStatistics:c}}},idt=[...Ej,(t,e,r)=>tk(t)?{...r,index:ndt()}:r];d();function LD(t,e,r){let n=H7(r,"Trait");for(let a of n)odt(t,e,a.data,a.providerId);return n.flatMap(a=>a.data).sort((a,c)=>(a.importance??0)-(c.importance??0))}s(LD,"getTraitsFromContextItems");function odt(t,e,r,n){let o=t.get(X0).getStatisticsForCompletion(e);r.forEach(a=>{o.addExpectations(n,[[a,"included"]])})}s(odt,"setupExpectationsForTraits");var sdt=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function MD(t,e,r,n,o,a){if(r.length>0){let c={};c.detectedLanguageId=n,c.languageId=o;for(let u of r){let f=sdt.get(u.name);f&&(c[f]=u.value)}let l=a.extendedBy(c,{});return vt(e,t,l)}}s(MD,"ReportTraitsTelemetry");d();d();d();var OD=class{constructor(e){this.states=e;this.currentIndex=0;this.stateChanged=!1}static{s(this,"UseState")}useState(e){let r=this.currentIndex;if(this.states[r]===void 0){let o=typeof e=="function"?e():e;this.states[r]=o}let n=s(o=>{let a=typeof o=="function"?o(this.states[r]):o;this.states[r]=a,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},UD=class{constructor(e){this.measureUpdateTime=e;this.consumers=[]}static{s(this,"UseData")}useData(e,r){this.consumers.push(n=>{if(e(n))return r(n)})}async updateData(e){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(e);this.measureUpdateTime(performance.now()-r)}}};var qD=class{constructor(e){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(e,"$",0)}static{s(this,"VirtualPromptReconciler")}reconcile(e){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return e?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,e),this.vTree)}reconcileNode(e,r,n,o){if(!e.children&&!e.lifecycle)return e;let a=e;if(e.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(e);a=this.virtualizeElement(e.component,r,n);let u=this.collectChildPaths(a);this.cleanupState(l,u)}else if(e.children){let l=[];for(let u=0;u<e.children.length;u++){let f=e.children[u];if(f){let h=this.reconcileNode(f,e.path,u,o);h!==void 0&&l.push(h)}}a.children=l}return a}virtualizeElement(e,r,n){if(!(typeof e>"u")){if(typeof e=="string"||typeof e=="number")return{name:typeof e,path:`${r}[${n}]`,props:{value:e},component:e};if(adt(e.type)){let o=e.type(e.props.children),a=r!=="$"?`[${n}]`:"",c=`${r}${a}.${o.type}`,l=o.children.map((u,f)=>this.virtualizeElement(u,c,f));return this.ensureUniqueKeys(l),{name:o.type,path:c,children:l.flat().filter(u=>u!==void 0),component:e}}return this.virtualizeFunctionComponent(r,n,e,e.type)}}virtualizeFunctionComponent(e,r,n,o){let a=n.props.key?`["${n.props.key}"]`:`[${r}]`,c=`${e}${a}.${o.name}`,l=new Wz(this.getOrCreateLifecycleData(c)),u=o(n.props,l),A=(Array.isArray(u)?u:[u]).map((p,m)=>this.virtualizeElement(p,c,m)).flat().filter(p=>p!==void 0);return this.ensureUniqueKeys(A),{name:o.name,path:c,props:n.props,children:A,component:n,lifecycle:l}}ensureUniqueKeys(e){let r=new Map;for(let o of e){if(!o)continue;let a=o.props?.key;a&&r.set(a,(r.get(a)||0)+1)}let n=Array.from(r.entries()).filter(([o,a])=>a>1).map(([o])=>o);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(e){let r=[];if(e?.children)for(let n of e.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(e,r){for(let n of e)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(e){return this.lifecycleData.has(e)||this.lifecycleData.set(e,new Vz([])),this.lifecycleData.get(e)}createPipe(){return{pump:s(async e=>{await this.pumpData(e)},"pump")}}async pumpData(e){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(e,this.vTree)}async recursivelyPumpData(e,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(e);for(let n of r.children||[])await this.recursivelyPumpData(e,n)}},Vz=class{static{s(this,"PromptElementLifecycleData")}constructor(e){this.state=e,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let e=this._updateTimeMs;return this._updateTimeMs=0,e}},Wz=class{constructor(e){this.lifecycleData=e;this.stateHook=new OD(e.state),this.dataHook=new UD(r=>{e._updateTimeMs=r})}static{s(this,"PromptElementLifecycle")}useState(e){return this.stateHook.useState(e)}useData(e,r){this.dataHook.useData(e,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function adt(t){return typeof t=="function"&&"isFragmentFunction"in t}s(adt,"isFragmentFunction");var A4=class{static{s(this,"VirtualPrompt")}constructor(e){this.reconciler=new qD(e)}snapshotNode(e,r){if(!e)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let o of e.children??[]){let a=this.snapshotNode(o,r);if(a==="cancelled")return"cancelled";a!==void 0&&n.push(a)}return{value:e.props?.value?.toString(),name:e.name,path:e.path,props:e.props,children:n,statistics:{updateDataTimeMs:e.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(e){try{let r=this.reconciler.reconcile(e);if(e?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,e);return n==="cancelled"||e?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};function ec(t){if(!t||typeof t!="object")return!1;let e=t;return!(!e.document||!e.position||e.position.line===void 0||e.position.character===void 0||!e.telemetryData)}s(ec,"isCompletionRequestData");var Yz={default:{promptFunction:abe,renderer:E2},splitContext:{promptFunction:obe,renderer:FD}};function abe(t){return dt(Zl,{children:[dt(hj,{children:[dt(ak,{ctx:t,weight:.7}),dt(PD,{weight:.6}),dt(ek,{ctx:t,weight:.9}),dt(QD,{ctx:t,weight:.8}),dt(RD,{ctx:t,weight:.99})]}),dt(QT,{weight:1})]})}s(abe,"defaultCompletionsPrompt");var HD=class{constructor(e,r,n){this.ctx=e;this.promptOrdering=n??"default",this.virtualPrompt=r??new A4(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe(),this.renderer=this.getRenderer()}static{s(this,"ComponentsCompletionsPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}async createPromptUnsafe({completionId:e,completionState:r,telemetryData:n,promptOpts:o},a){let{maxPromptLength:c,suffixPercent:l,suffixMatchThreshold:u}=W2(this.ctx,n,r.textDocument.detectedLanguageId),f=await this.failFastPrompt(r.textDocument,r.position,l,a);if(f)return f;let h=o?.separateContext?"splitContext":"default";this.setPromptOrdering(h);let A=performance.now(),{traits:p,codeSnippets:m,turnOffSimilarFiles:g,resolvedContextItems:y}=await this.resolveContext(e,r,n,a,o);if(await this.updateComponentData(r.textDocument,r.position,p,m,n,g,c,a,o,u,o?.tokenizer),a?.isCancellationRequested)return Eh;let E=this.virtualPrompt.snapshot(a),I=E.status;if(I==="cancelled")return Eh;if(I==="error")return this.errorPrompt(E.error);let x=this.renderer.render(E.snapshot,{delimiter:`
`,tokenizer:o?.tokenizer,promptTokenLimit:c,suffixPercent:l,languageId:r.textDocument.detectedLanguageId},a);if(x.status==="cancelled")return Eh;if(x.status==="error")return this.errorPrompt(x.error);let[v,b]=p4(x.prefix),_={...x,prefix:v},S;if(g2(this.ctx,n)){let L=G7(x.metadata.componentStatistics);this.ctx.get(X0).getStatisticsForCompletion(e).computeMatch(L),S=W7(this.ctx,e,y),Ri.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(S)}'`)}let w=performance.now();return this.resetIfEmpty(x),this.successPrompt(_,w,A,b,S)}async updateComponentData(e,r,n,o,a,c,l,u,f={},h,A){let p=this.createRequestData(e,r,a,u,f,l,n,o,c,h,A);await this.pipe.pump(p)}async resolveContext(e,r,n,o,a={}){let c=[],l,u,f=!1;if(g2(this.ctx,n)){c=await this.ctx.get(K1).resolution(e);let{textDocument:h}=r,A=c.filter(Y7);ldt(this.ctx,h.detectedLanguageId,A,n)||(f=!0),l=LD(this.ctx,e,A),MD("contextProvider.traits",this.ctx,l,h.detectedLanguageId,h.detectedLanguageId,n),u=await Z7(this.ctx,e,A,h.detectedLanguageId)}return{traits:l,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:c}}async failFastPrompt(e,r,n,o){if(o?.isCancellationRequested)return Eh;if((await this.ctx.get(Af).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return WD;if((n>0?e.getText().length:e.offsetAt(r))<GD)return VD}createRequestData(e,r,n,o,a,c,l,u,f,h,A){return{document:e,position:r,telemetryData:n,cancellationToken:o,data:a.data,traits:l,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:h,maxPromptTokens:c,tokenizer:A}}resetIfEmpty(e){e.prefix.length===0&&e.suffix.length===0&&this.reset()}successPrompt(e,r,n,o,a){return{type:"prompt",prompt:{prefix:e.prefix,prefixTokens:e.prefixTokens,suffix:e.suffix,suffixTokens:e.suffixTokens,context:e.context,isFimEnabled:e.suffix.length>0},computeTimeMs:r-n,trailingWs:o,neighborSource:new Map,metadata:e.metadata,contextProvidersTelemetry:a}}errorPrompt(e){return Uu(this.ctx,e,"PromptComponents.CompletionsPromptFactory"),this.reset(),Y2}reset(){this.renderer=this.getRenderer(),this.virtualPrompt=new A4(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}setPromptOrdering(e){this.promptOrdering!==e&&(this.promptOrdering=e,this.reset())}completionsPrompt(){return(Yz[this.promptOrdering]?.promptFunction??abe)(this.ctx)}getRenderer(){let e=Yz[this.promptOrdering]??Yz.default;return new e.renderer}};function ldt(t,e,r,n){let o=["cpp","c"];return ibe(t,n)||o.includes(e)||!r.some(c=>c.data.some(l=>l.type==="CodeSnippet"))}s(ldt,"similarFilesEnabled");d();d();d();d();d();var jz="[...]",udt=0;function js(){return udt++}s(js,"getAvailableNodeId");d();var j2=class{static{s(this,"PriorityQueue")}constructor(e){if(this.heap=e?[...e]:[],this.heap.length>0)for(let r=Math.floor(this.heap.length/2)-1;r>=0;r--)this.siftDown(r)}get size(){return this.heap.length}insert(e,r){let n={item:e,priority:r};this.heap.push(n);let o=this.heap.length-1;this.siftUp(o)}peek(){return this.heap.length===0?null:this.heap[0]}pop(){if(this.heap.length===0)return null;let e=this.heap[0],r=this.heap.pop();return this.heap.length>0&&(this.heap[0]=r,this.siftDown(0)),e}clear(){let e=this.heap;return this.heap=[],e}siftUp(e){let r=this.heap[e];for(;e>0;){let n=Math.floor((e-1)/2);if(this.heap[n].priority>=r.priority)break;this.heap[e]=this.heap[n],e=n}this.heap[e]=r}siftDown(e){for(;e<this.size-1;){let r=e,n=2*e+1,o=n+1;if(n<this.size&&this.heap[n].priority>this.heap[r].priority&&(r=n),o<this.size&&this.heap[o].priority>this.heap[r].priority&&(r=o),r===e)break;let a=this.heap[e];this.heap[e]=this.heap[r],this.heap[r]=a,e=r}}};function fdt(t){let e={id:t.id??js(),text:t.text??new Array((t.children?.length??0)+1).fill(""),children:t.children??[],cost:t.cost??1,weight:t.weight??0,rectifiedWeight:t.rectifiedWeight,canMerge:t.canMerge??!1,elisionMarker:t.elisionMarker??jz,requireRenderedChild:t.requireRenderedChild??!1};if(e.text.length!==e.children.length+1)throw new Error(`RenderNode text length (${e.text.length}) must be children length + 1 (${e.children.length+1})`);return e}s(fdt,"createRenderNode");function ddt(t){return t.requireRenderedChild||(t.rectifiedWeight??t.weight)>t.weight}s(ddt,"isRenderedChildRequired");function cbe(t){return(t.rectifiedWeight??t.weight)/Math.max(t.cost,1)}s(cbe,"rectifiedValue");function Kz(t,e){let r=lbe(t,e);for(let{item:n,priority:o}of r.clear())for(let a of n.nodes)a.rectifiedWeight=o*Math.max(a.cost,1)}s(Kz,"rectifyWeights");function lbe(t,e){let r=t.children.map(a=>lbe(a,e));if(t.weight=Math.max(0,e?e(t):t.weight),t.weight===0&&r.reduce((a,c)=>a+c.size,0)===0)return new j2([]);let n=new j2(r.flatMap(a=>a.clear())),o={nodes:[t],totalCost:t.cost,totalWeight:t.weight};for(;(n.peek()?.priority??0)>o.totalWeight/Math.max(o.totalCost,1);){let{item:a}=n.pop();o.nodes.push(...a.nodes),o.totalCost+=a.totalCost,o.totalWeight+=a.totalWeight}return n.insert(o,o.totalWeight/Math.max(o.totalCost,1)),n}s(lbe,"recursivelyRectifyWeights");function ube(t,e={}){let{budget:r,mask:n,costFunction:o}=e,a=n??[],c=new Set(Array.isArray(a)?a:[a]);if((r??t.cost)<t.cost||c.has(t.id))return{text:t.elisionMarker,cost:o?o(t.elisionMarker):t.elisionMarker.length,renderedNodes:new Map};if(r===void 0){let A=s(E=>c.has(E.id),"elider"),p=[],m=new Map;if(zz(t,p,A,m),p.length===0)return $z(t,o);let g=p.join(""),y=o?o(g):[...m.values()].reduce((E,I)=>E+I.cost,0);return{text:g,cost:y,renderedNodes:m}}let l=new Map,u=[],f=new j2([{item:t,priority:cbe(t)}]),h=r;for(;h>0&&f.size>0;){let{item:A}=f.pop();if(!c.has(A.id)&&A.cost<=h){h-=A.cost,l.set(A.id,A),u.push(A);for(let p of A.children)f.insert(p,cbe(p))}}for(;l.size>0;){let A=[],p=s(E=>!l.has(E.id),"elider"),m=new Map;if(zz(t,A,p,m),A.length===0)return $z(t,o);let g=A.join("");if(o===void 0){let E=[...m.values()].reduce((I,x)=>I+x.cost,0);return{text:g,cost:E,renderedNodes:m}}let y=o(g);if(y<=r)return{text:g,cost:y,renderedNodes:m};for(l=m;u.length>0&&y>r;){let E=u.pop();l.has(E.id)&&(y-=E.cost,l.delete(E.id))}if(u.length===0)break}return $z(t,o)}s(ube,"render");function $z(t,e){return{text:t.elisionMarker,cost:e?e(t.elisionMarker):t.elisionMarker.length,renderedNodes:new Map}}s($z,"renderEmpty");function zz(t,e,r,n,o=!1){let a=e.length;if(r(t))return a>=2&&(o||e[a-2]===t.elisionMarker&&e[a-1].trim().length===0)?(e.pop(),!1):(e.push(t.elisionMarker),!1);let c=ddt(t),l=!0;for(let[u,f]of t.children.entries())e.push(t.text[u]??""),l=zz(f,e,r,n,f.canMerge&&!l),c&&=!l;if(c){for(;e.length>a;)e.pop();return!1}return e.push(t.text[t.text.length-1]??""),n.set(t.id,t),!0}s(zz,"recursivelyRender");function Jz(t,e,r=jz){let n=t.children.map(c=>Jz(c,e,r));r=t.elisionMarker??r;let o=e(t);return fdt({...t,children:n,cost:o,weight:0,elisionMarker:t.elisionMarker??r})}s(Jz,"snapshot");var jp={id:js(),text:[""],children:[],cost:0,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!1};d();function $2(t,e,r){let n=t.get(e);return n===void 0&&(n=r(e),t.set(e,n)),n}s($2,"setDefault");var Abe=2e4,fbe=0,dbe=new vr;function pbe(t,e,r,n){fbe++;let o=r.promptOpts?.tokenizer??"o200k_base",a=performance.now(),{root:c,mask:l,statistics:u}=t.snapshot(r,n),f=performance.now(),h=new Set(l),A=dbe?.get(c.id),p;if(A&&A.budget>=e&&A.render.cost<=e&&A.tokenizer===o&&h.size===A.mask.size&&[...h].every(x=>A.mask.has(x)))p=A.render;else{let x=$0(o);p=ube(c,{budget:e,mask:l,costFunction:s(b=>x.tokenLength(b),"costFunction")}),dbe.set(c.id,{budget:e,mask:h,tokenizer:o,render:p})}let{text:m,cost:g,renderedNodes:y}=p,E=performance.now();for(let[x,v]of u?.entries()??[])v.actualTokens=y.get(x)?.cost??0;let I={renderId:fbe,rendererName:"renderNode",tokenizer:o,elisionTimeMs:E-f,renderTimeMs:f-a,updateDataTimeMs:0,componentStatistics:[{componentPath:t.name,actualTokens:g}]};return{root:c,renderedNodes:y,text:m,cost:g,metadata:I}}s(pbe,"renderWithMetadata");function mbe(t,e){return r=>{let n=r.text.join("")+`
`;return $2(e,n,()=>t.tokenLength(n)+1)}}s(mbe,"cachedLineCostFunction");function gbe(t,e,r){let o=t.split(`
`).map(h=>({id:js(),text:[h],children:[],canMerge:!0})),a=[""];o.length>=1&&a.push(...Array(o.length-1).fill(`
`),"");let c={id:js(),text:a,children:o,canMerge:!0},u=Jz(c,s(h=>h.id===c.id?0:e(h),"nodeCostFunction")),f=r?o.length:1;for(let h of u.children)h.weight=f*Math.max(1,h.cost),f+=r?-1:1;return u}s(gbe,"getLinewiseNode");var YD=class{constructor(){this.name="basicPrefix";this.costCache=new vr(Abe)}static{s(this,"BasicPrefixComponent")}snapshot(e){let{completionState:r,promptOpts:n}=e,o=r.textDocument.getText({start:{line:0,character:0},end:r.position}),a=$0(n?.tokenizer),c=mbe(a,this.costCache);return{root:gbe(o,c,!1)}}},hbe={root:jp,text:"",cost:0},jD=class{constructor(e){this.ctx=e;this.name="cachedSuffix";this.cache=new vr(5);this.costCache=new vr(Abe)}static{s(this,"CachedSuffixComponent")}snapshot(e){return{root:this.getCachedSuffix(e).root}}estimatedCost(e,r){return this.getCachedSuffix(e).cost}getCachedSuffix(e){let{completionState:r,telemetryData:n,promptOpts:o}=e,c=r.textDocument.getText({start:r.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}}).replace(/^.*/,"").trimStart();if(c==="")return hbe;let l=this.cache.get(r.textDocument.uri)||hbe;if(l.text===c)return l;let u=this.ctx.get(Ot).suffixMatchThreshold(n);if(l.text!==""){let m=new UI,g=m.takeFirstTokens(c,NT);if(g.tokens.length>0&&100*rk(g.tokens,m.takeFirstTokens(l.text,NT).tokens)?.score<u*g.tokens.length)return l}let f=$0(o?.tokenizer),h=mbe(f,this.costCache),A=gbe(c,h,!0),p=A.children.reduce((m,g)=>m+g.cost+1,0);return{root:A,cost:p,text:c}}},$D=class{constructor(){this.name="traitProvider"}static{s(this,"TraitComponent")}snapshot(e,r){let{promptOpts:n}=e,o=$0(n?.tokenizer);if(!r||r.traits.length===0)return{root:jp};let a=new Map,c=0,l=[],u=new Map;for(let p of r.traits){let m=js(),g=`${p.name}: ${p.value}`,y={id:m,text:[g],children:[],cost:o.tokenLength(g),weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0};l.push(y),u.set(m,{componentPath:p.id,source:p,expectedTokens:y.cost}),a.set(m,p.importance??0),c+=p.importance??0}c=Math.max(c,1);let h=[`Related context:
`,...new Array(l.length).fill(`
`)],A={id:js(),text:h,children:l,cost:0,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0};return Kz(A,p=>(a.get(p.id)??0)/c),{root:A,statistics:u}}},zD=class{constructor(e){this.ctx=e;this.name="contextProvider"}static{s(this,"CodeSnippetComponent")}snapshot(e,r){let{promptOpts:n}=e,o=$0(n?.tokenizer);if(!r||r.codeSnippets.length===0)return{root:jp};let a=new Map;for(let m of r.codeSnippets){let g=m.uri;$2(a,g,()=>[]).push(m)}let c=new Map,l=[],u=new Map,f=0,h=this.ctx.get(ln);for(let[m,g]of a.entries()){let y=h.getRelativePath({uri:m})??m,I=[`Compare ${g.length>1?"these snippets":"this snippet"} from ${y}:
`,...new Array(g.length).fill(`
`)],x=[];for(let v of g){let b=js();u.set(b,v.importance??0);let _={id:b,text:[v.value],children:[],cost:o.tokenLength(v.value),weight:v.importance??0,elisionMarker:"",canMerge:!0,requireRenderedChild:!1};x.push(_),f+=v.importance??0,c.set(b,{componentPath:v.id,source:v,expectedTokens:_.cost})}l.push({id:js(),text:I,children:x,cost:o.tokenLength(I.join("")),weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0})}f=Math.max(f,1);let A=new Array(l.length+1).fill(""),p={id:js(),text:A,children:l,cost:0,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0};return Kz(p,m=>(u.get(m.id)??0)/f),{root:p,statistics:c}}},KD=class{constructor(e,r){this.name=e;this.components=r}static{s(this,"ConcatenatedContextComponent")}snapshot(e,r){let n=this.components.map(f=>f.snapshot(e,r)),o=n.map(f=>f.root).filter(f=>f.id!==jp.id);if(o.length===0)return{root:jp};let a=["",...Array(o.length-1).fill(`
`),""],c={id:js(),text:a,children:o,cost:0,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!1},l=[],u=new Map;for(let f of n){for(let[h,A]of f.statistics?.entries()??[])u.set(h,A);f.mask&&l.push(...f.mask)}return{root:c,mask:l,statistics:u}}};var hdt=.8,JD=class{constructor(e,r){this.ctx=e;this.components=r;this.renderId=0}static{s(this,"CascadingPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}getComponentAllocation(e){let r=this.ctx.get(Ot).suffixPercent(e),n=this.ctx.get(Ot).stableContextPercent(e),o=this.ctx.get(Ot).volatileContextPercent(e);if(r<0||r>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${r}`);if(n<0||n>100)throw new Error(`stableContextPercent must be between 0 and 100, but was ${n}`);if(o<0||o>100)throw new Error(`volatileContextPercent must be between 0 and 100, but was ${o}`);let a=100-r-n-o;if(a<=1||a>100)throw new Error(`prefixPercent must be between 1 and 100, but was ${a}`);return{prefix:a/100,suffix:r/100,stableContext:n/100,volatileContext:o/100}}async createPromptUnsafe(e,r){this.renderId++;let{completionId:n,completionState:o,telemetryData:a,promptOpts:c}=e,l=await this.failFastPrompt(o.textDocument,r);if(l)return l;let u=performance.now(),f;g2(this.ctx,a)&&(f=await this.resolveContext(n,o,a,r));let h=performance.now()-u,A={},p={renderId:this.renderId,rendererName:"w",tokenizer:c?.tokenizer??"o200k_base",elisionTimeMs:0,renderTimeMs:0,updateDataTimeMs:h,componentStatistics:[]},m=o.textDocument.detectedLanguageId,{maxPromptLength:g}=W2(this.ctx,a,m),y=this.getComponentAllocation(a),E=y.suffix*g,I=this.components.suffix.estimatedCost?.(e,f),x=["stableContext","volatileContext","prefix","suffix"];E>hdt*(I??0)&&(x=["stableContext","volatileContext","suffix","prefix"]);let v=0;for(let Y of x){let D=v+g*y[Y],O=pbe(this.components[Y],D,e,f);v=D-O.cost,A[Y]=O,Adt(p,O.metadata)}let[b,_]=p4(A.prefix.text),S=performance.now(),w=g2(this.ctx,a)?this.telemetrizeContext(n,p.componentStatistics,f?.resolvedContextItems??[]):[],L=[A.stableContext.text.trim(),A.volatileContext.text.trim()];return{type:"prompt",prompt:{prefix:c?.separateContext?b:dh(L.join(`
`),m)+`

`+b,prefixTokens:A.prefix.cost+A.stableContext.cost+A.volatileContext.cost,suffix:A.suffix.text,suffixTokens:A.suffix.cost,context:c?.separateContext?L:void 0,isFimEnabled:A.suffix.text.length>0},computeTimeMs:S-u,trailingWs:_,neighborSource:new Map,metadata:p,contextProvidersTelemetry:w}}async resolveContext(e,r,n,o){let a=await this.ctx.get(K1).resolution(e),{textDocument:c}=r,l=a.filter(Y7),u=LD(this.ctx,e,l);MD("contextProvider.traits",this.ctx,u,c.detectedLanguageId,c.detectedLanguageId,n);let f=await Z7(this.ctx,e,l,c.detectedLanguageId);return{traits:u,codeSnippets:f,resolvedContextItems:a}}telemetrizeContext(e,r,n){let o=G7(r);this.ctx.get(X0).getStatisticsForCompletion(e).computeMatch(o);let a=W7(this.ctx,e,n);return Ri.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(a)}'`),a}async failFastPrompt(e,r){if(r?.isCancellationRequested)return Eh;if((await this.ctx.get(Af).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return WD;if(e.getText().length<GD)return VD}errorPrompt(e){return Uu(this.ctx,e,"WorkspaceContextPromptFactory"),Y2}};function Adt(t,e){t.elisionTimeMs+=e.elisionTimeMs,t.renderTimeMs+=e.renderTimeMs,t.updateDataTimeMs+=e.updateDataTimeMs,t.componentStatistics.push(...e.componentStatistics)}s(Adt,"aggregateMetadata");d();d();d();var pdt=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function mdt(t){return pdt.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}s(mdt,"isOomError");function Cbe(t,e,r,n=Ri){if(!Gh(e)){if(e instanceof Error){let o=e;mdt(o)?t.get(vo).setWarning("Out of memory"):o.code==="EMFILE"||o.code==="ENFILE"?t.get(vo).setWarning("Too many open files"):o.code==="CopilotPromptLoadFailure"?t.get(vo).setWarning("Corrupted Copilot installation"):`${o.code}`.startsWith("CopilotPromptWorkerExit")?t.get(vo).setWarning("Worker unexpectedly exited"):o.syscall==="uv_cwd"&&o.code==="ENOENT"&&t.get(vo).setWarning("Current working directory does not exist")}n.exception(t,e,r)}}s(Cbe,"handleException");var ybe=We(require("events"));var gdt={UpdateInterval:1e3,InvalidCacheTime:1e3*60*10,StaleWeightHalflife:1e3*10,MinNodeSize:100,Laziness:.5,MaxActiveFiles:8,MaxActiveNodes:2e3},Cdt=5,$p=class t{constructor(e){this.ctx=e;this.didDispose=!1;this.deferredStart=new z1;this.config=gdt;this.emitter=new ybe.default;this.client=void 0;this.nextRequest={};this.lastEvent=void 0;this.emitter.setMaxListeners(27)}static{s(this,"WorkspaceContextFeature")}static{this.UpdateEventName="WorkspaceContextUpdate"}static{this.DisposeEventName="WorkspaceContextDispose"}get didStart(){return this.client!==void 0}async maybeStart(e,r){if(this.didStart||this.didDispose)return;let n=Hi(this.ctx,st.UseWorkspaceContextCoordinator);if(n===void 0&&r){let o=await this.ctx.get(Ot).updateExPValuesAndAssignments(r);n=this.isEnabled(o)}n&&this.start(e)}isActive(){return this.didStart&&!this.didDispose&&this.client!==void 0&&this.client.isActive()}get activation(){return this.deferredStart.promise}isEnabled(e){return Hi(this.ctx,st.UseWorkspaceContextCoordinator)??this.ctx.get(Ot).workspaceContextCoordinator(e)}start(e){!this.didStart&&!this.didDispose&&(this.client=e,this.fileChangeDisposable=this.ctx.get(ln).onDidChangeTextDocument(r=>{this.nextRequest.changedFiles===void 0&&(this.nextRequest.changedFiles=[]),this.nextRequest.changedFiles.push(r.document.uri)}),this.deferredStart.resolve(),this.loop())}dispose(){this.isActive()&&(this.didDispose=!0,this.emitter.emit(t.DisposeEventName),this.fileChangeDisposable?.dispose(),this.client?.exit())}pushWorkspaceContext(e,r){this.nextRequest.sources={...this.nextRequest.sources,[e]:r}}recordWorkspaceContextActivity(e,r,n){this.nextRequest.recentActivity===void 0&&(this.nextRequest.recentActivity=[]),this.nextRequest.recentActivity.push({sourceId:e,locations:r,timestamp:n})}getLastEvent(){return this.lastEvent}onUpdate(e){return this.emitter.on(t.UpdateEventName,e),Li.Disposable.create(()=>this.emitter.off(t.UpdateEventName,e))}onDisposal(e){return this.emitter.on(t.DisposeEventName,e),Li.Disposable.create(()=>this.emitter.off(t.DisposeEventName,e))}setContextLanguages(e){this.nextRequest.languages=e}async loop(){let e=0;for(;this.isActive();){try{let r=this.nextRequest;this.nextRequest={},this.lastEvent=await this.client.updateContext(r),this.emitter.emit(t.UpdateEventName,this.lastEvent),e=0}catch(r){if(Cbe(this.ctx,r,"WorkspaceContextFeature.loop"),e++,e>=Cdt){this.dispose();break}}await d2(this.config.UpdateInterval)}}};function Ebe(t,e){let r=rd(t,e,"event.WorkspaceContextUpdate");return t.get($p).onUpdate(r)}s(Ebe,"onWorkspaceContextUpdate");d();var XD=class{constructor(e){this.ctx=e;this.name="workspaceContext";this.documents=new Map;this.root=jp;this.disposables=[];this.rootWithPathCache=new vr;this.disposables.push(Ebe(e,r=>{(this.nextUpdateTime===void 0||performance.now()>=this.nextUpdateTime)&&setTimeout(()=>{this.update(r)},0)}))}static{s(this,"WorkspaceContextPromptComponent")}snapshot(e){let{completionState:r,telemetryData:n}=e;this.nextUpdateTime=this.lastUpdateTime!==void 0?this.lastUpdateTime+this.ctx.get(Ot).workspaceContextCacheTime(n):performance.now();let o=$2(this.rootWithPathCache,r.textDocument.uri,()=>{let c=this.getPathMarker(r);return{id:js(),text:[`${c}
`,""],children:[this.root],cost:1,weight:1,elisionMarker:"",canMerge:!0,requireRenderedChild:!1}}),a=this.getMask(r.textDocument.uri);return{root:o,mask:a}}getRoot(){return this.root}getMask(e){let r=this.documents.get(e);return r===void 0?[]:[r.id]}getPathMarker(e){let r=e.textDocument,n=this.ctx.get(ln),o=n.getRelativePath(e.textDocument),a={uri:r.uri,source:"",relativePath:o,languageId:r.detectedLanguageId},c=n.findNotebook(r);return a.relativePath&&!c?dh(sk(a),a.languageId):dh(ok(a),a.languageId)}update(e){this.rootWithPathCache.clear(),this.documents.clear();for(let[r,n]of Object.entries(e.documents)){let o=this.createAnnotatedDocumentRoot(r,n);n.requireRenderedChild=n.children.length>0,this.documents.set(r,o)}this.root=this.createRootNode(),this.lastUpdateTime=performance.now()}createRootNode(){let e=new Array(this.documents.size+1).fill(""),r=[...this.documents.values()];return{id:js(),text:e,children:r,cost:1,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0}}createAnnotatedDocumentRoot(e,r){let n=C7({uri:e,languageId:"UNKNOWN"}),o=this.getDocumentAnnotation(e,n);return{id:js(),text:[o,`

`],children:[r],cost:1,weight:0,elisionMarker:"",canMerge:!0,requireRenderedChild:!0}}getDocumentAnnotation(e,r){let o=this.ctx.get(ln).getRelativePath({uri:e});return dh(`Related portions of ${o??e}:
`,r)}dispose(){for(let e of this.disposables)e.dispose();this.disposables=[]}};d();d();d();var ZD=class extends JD{static{s(this,"WorkspaceContextPromptFactory")}constructor(e){let r={stableContext:new XD(e),prefix:new YD,suffix:new jD(e),volatileContext:new KD("volatileContext",[new $D,new zD(e)])};super(e,r)}};var Ibe=We(is());var z2=class{static{s(this,"CompletionsPromptFactory")}};function xbe(t,e,r){return new Xz(new Zz(new eK(t,new HD(t,e,r),new ZD(t),Edt)))}s(xbe,"createCompletionsPromptFactory");var Xz=class extends z2{constructor(r){super();this.delegate=r}static{s(this,"SequentialCompletionsPromptFactory")}async prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return Eh;try{return await this.delegate.prompt(r,n)}catch{return Y2}}},ydt=1200,Zz=class{constructor(e){this.delegate=e}static{s(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(e,r){let n=new Ibe.CancellationTokenSource,o=n.token;return r?.onCancellationRequested(()=>{n.cancel()}),await Promise.race([this.delegate.prompt(e,o),new Promise(a=>{setTimeout(()=>{n.cancel(),a(vbe)},ydt)})])}},eK=class{constructor(e,r,n,o){this.ctx=e;this.defaultDelegate=r;this.experimentalDelegate=n;this.fn=o}static{s(this,"ExperimentalCompletionsPromptFactory")}async prompt(e,r){return this.fn(this.ctx,e.telemetryData)?this.experimentalDelegate.prompt(e,r):this.defaultDelegate.prompt(e,r)}};function Edt(t,e){let r=t.get($p);return r.isEnabled(e)&&r.isActive()}s(Edt,"workspaceContextEnabledAndActive");var GD=10,VD={type:"contextTooShort"},WD={type:"copilotContentExclusion"},Y2={type:"promptError"},Eh={type:"promptCancelled"},vbe={type:"promptTimeout"};function p4(t){let e=t.split(`
`),r=e[e.length-1],n=r.length-r.trimEnd().length,o=t.slice(0,t.length-n),a=t.slice(o.length);return[r.length==n?o:t,a]}s(p4,"trimLastLine");function W2(t,e,r){let o=t.get(Ot).maxPromptCompletionTokens(e)-q7(t),a=zIe(e,r),c=X7(t,e,r),l=t.get(Ot).suffixPercent(e),u=t.get(Ot).suffixMatchThreshold(e);if(l<0||l>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${l}`);if(u<0||u>100)throw new Error(`suffixMatchThreshold must be between 0 and 100, but was ${u}`);return{maxPromptLength:o,similarFilesOptions:c,numberOfSnippets:a,suffixPercent:l,suffixMatchThreshold:u}}s(W2,"getPromptOptions");d();d();var bbe=2.98410452738298,_be=-.838732736843507,Tbe=1.50314646255716,wbe=-.237798634012662,Sbe={python:.314368072478742},Bbe={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Idt={link:s(t=>Math.exp(t)/(1+Math.exp(t)),"link"),unlink:s(t=>Math.log(t/(1-t)),"unlink")};function xdt(t,e){let r=Math.min(...Array.from(e.keys()).filter(c=>c>=t)),n=Math.max(...Array.from(e.keys()).filter(c=>c<t)),o=e.get(r),a=e.get(n);return a+(o-a)*(t-n)/(r-n)}s(xdt,"linearInterpolation");var K2=class{static{s(this,"Regressor")}constructor(e,r,n){this.name=e,this.coefficient=r,this.transformation=n||(o=>o)}contribution(e){return this.coefficient*this.transformation(e)}},tK=class{constructor(e,r,n){this.link=Idt;if(this.intercept=e,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let o in n)this.logitsToQuantiles.set(n[o],Number(o))}static{s(this,"LogisticRegression")}predict(e,r){let n=this.intercept;for(let o of this.coefficients){let a=r[o.name];if(a===void 0)return NaN;n+=o.contribution(a)}return this.link.link(n)}quantile(e,r){let n=this.predict(e,r);return xdt(n,this.logitsToQuantiles)}},yan=new tK(bbe,[new K2("compCharLen",_be,t=>Math.log(1+t)),new K2("meanLogProb",Tbe),new K2("meanAlternativeLogProb",wbe)].concat(Object.entries(Sbe).map(t=>new K2(t[0],t[1]))),Bbe);d();d();var bdt=We(xv());var Vcn=new or("ghostText");var m4=class t{constructor(e=!1){this.requestMultilineOverride=e}static{s(this,"ForceMultiLine")}static{this.default=new t}};var J2=class{constructor(){this.choices=[]}static{s(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(e,r,n,o){o!==2&&(this.prefix=e,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(e,r){let n=this.getRemainingPrefix(e,r);if(n!==void 0&&Rbe(this.choices[0].completionText,n))return _dt(this.choices,n)}hasAcceptedCurrentCompletion(e,r){let n=this.getRemainingPrefix(e,r);if(n===void 0)return!1;let o=n===this.choices?.[0].completionText,a=this.choices?.[0].finishReason;return o&&a==="stop"}getRemainingPrefix(e,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&e.startsWith(this.prefix))return e.substring(this.prefix.length)}};function _dt(t,e){return t.filter(r=>Rbe(r.completionText,e)).map(r=>({...r,completionText:r.completionText.substring(e.length)}))}s(_dt,"adjustChoicesStart");function Rbe(t,e){return t.startsWith(e)&&t.length>e.length}s(Rbe,"startsWithAndExceeds");d();d();d();d();d();d();d();d();d();d();d();var kbe="code-referencing";var kf=new or(kbe);var Tdt=3e3,rK=2,Dbe=256,Nbe=Math.log(Dbe)/Math.log(rK)/rK,ru={connection:"disabled",maxAttempts:Nbe,retryAttempts:0,initialWait:!1},eN,tN=[];function wdt(){if(eN)return eN;function t(I){return tN.push(I),()=>{let x=tN.indexOf(I);x!==-1&&tN.splice(x,1)}}s(t,"subscribe");function e(){for(let I of tN)I()}s(e,"afterUpdateConnection");function r(I){ru.connection!==I&&(ru.connection=I,e())}s(r,"updateConnection");function n(){return ru.connection==="connected"}s(n,"isConnected");function o(){return ru.connection==="disconnected"}s(o,"isDisconnected");function a(){return ru.connection==="retry"}s(a,"isRetrying");function c(){return ru.connection==="disabled"}s(c,"isDisabled");function l(){r("connected"),A(!1)}s(l,"setConnected");function u(){r("disconnected")}s(u,"setDisconnected");function f(){r("retry")}s(f,"setRetrying");function h(){r("disabled")}s(h,"setDisabled");function A(I){ru.initialWait!==I&&(ru.initialWait=I)}s(A,"setInitialWait");function p(I,x=Tdt){a()||(f(),A(!0),g(I,x))}s(p,"enableRetry");function m(){return ru.initialWait}s(m,"isInitialWait");async function g(I,x){kf.info(I,`Attempting to reconnect in ${x}ms.`),await y(x),A(!1);let v=I.get(to);function b(_,S){if(_>Dbe){kf.info(S,"Max retry time reached, disabling."),h();return}let w=s(async()=>{ru.retryAttempts=Math.min(ru.retryAttempts+1,Nbe);try{kf.info(S,`Pinging service after ${_} second(s)`);let L=await v.fetch(new URL("_ping",PS(S)["origin-tracker"]).href,{method:"GET",headers:{"content-type":"application/json"}});if(L.status!==200||!L.ok)b(_**2,S);else{kf.info(S,"Successfully reconnected."),l();return}}catch{b(_**2,S)}},"tryAgain");setTimeout(()=>void w(),_*1e3)}s(b,"succeedOrRetry"),kf.info(I,"Attempting to reconnect."),b(rK,I)}s(g,"attemptToPing");let y=s(I=>new Promise(x=>setTimeout(x,I)),"timeout");function E(I){return{dispose:t(I)}}return s(E,"listen"),eN={setConnected:l,setDisconnected:u,setRetrying:f,setDisabled:h,enableRetry:p,listen:E,isConnected:n,isDisconnected:o,isRetrying:a,isDisabled:c,isInitialWait:m},eN}s(wdt,"registerConnectionState");var Sdt=wdt();d();var rN={BadArguments:"BadArgumentsError",Unauthorized:"NotAuthorized",NotFound:"NotFoundError",RateLimit:"RateLimitError",InternalError:"InternalError",ConnectionError:"ConnectionError",Unknown:"UnknownError"},Bdt={[rN.Unauthorized]:"Invalid GitHub token. Please sign out from your GitHub account using VSCode UI and try again",[rN.InternalError]:"Internal error: matches to public code will not be detected. It is advised to disable Copilot completions until the service is reconnected.",[rN.RateLimit]:"You've reached your quota and limit, code matching will be unavailable until the limit resets"};d();var Rdt=/^[1-6][0-9][0-9]$/,kdt=/([A-Z][a-z]+)/,Ddt="code_referencing",g4=class{constructor(e){this.baseKey=e}static{s(this,"CodeQuoteTelemetry")}buildKey(...e){return[Ddt,this.baseKey,...e].join(".")}},nK=class extends g4{static{s(this,"CopilotOutputLogTelemetry")}constructor(){super("github_copilot_log")}handleOpen({context:e}){let r=this.buildKey("open","count"),n=xr.createAndMarkAsIssued();vt(e,r,n)}handleFocus({context:e}){let r=xr.createAndMarkAsIssued(),n=this.buildKey("focus","count");vt(e,n,r)}handleWrite({context:e}){let r=xr.createAndMarkAsIssued(),n=this.buildKey("write","count");vt(e,n,r)}},S0n=new nK,iK=class extends g4{static{s(this,"MatchNotificationTelemetry")}constructor(){super("match_notification")}handleDoAction({context:e,actor:r}){let n=xr.createAndMarkAsIssued({actor:r}),o=this.buildKey("acknowledge","count");vt(e,o,n)}handleDismiss({context:e,actor:r}){let n=xr.createAndMarkAsIssued({actor:r}),o=this.buildKey("ignore","count");vt(e,o,n)}},B0n=new iK,oK=class extends g4{static{s(this,"SnippyTelemetry")}constructor(){super("snippy")}handleUnexpectedError({context:e,origin:r,reason:n}){let o=xr.createAndMarkAsIssued({origin:r,reason:n});Fm(e,this.buildKey("unexpectedError"),o)}handleCompletionMissing({context:e,origin:r,reason:n}){let o=xr.createAndMarkAsIssued({origin:r,reason:n});Fm(e,this.buildKey("completionMissing"),o)}handleSnippyNetworkError({context:e,origin:r,reason:n,message:o}){if(!r.match(Rdt)){kf.debug(e,"Invalid status code, not sending telemetry",{origin:r});return}let a=n.split(kdt).filter(l=>!!l).join("_").toLowerCase(),c=xr.createAndMarkAsIssued({message:o});Fm(e,this.buildKey(a,r),c)}},Qbe=new oK;d();var sK=H.Object({kind:H.Literal("failure"),reason:H.String(),code:H.Number(),msg:H.String(),meta:H.Optional(H.Any())}),Qdt=H.Object({matched_source:H.String(),occurrences:H.String(),capped:H.Boolean(),cursor:H.String(),github_url:H.String()}),Pdt=H.Object({source:H.String()}),Fdt=H.Object({snippets:H.Array(Qdt)}),Ldt=H.Union([Fdt,sK]),Mdt=H.Object({cursor:H.String()}),Odt=H.Object({commit_id:H.String(),license:H.String(),nwo:H.String(),path:H.String(),url:H.String()}),Udt=H.Object({has_next_page:H.Boolean(),cursor:H.String()}),qdt=H.Object({count:H.Record(H.String(),H.String())}),Hdt=H.Object({file_matches:H.Array(Odt),page_info:Udt,license_stats:qdt}),Gdt=H.Union([Hdt,sK]);d();var Z0n=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu");d();d();var Xln=new or("postInsertion");var pun=new or("ghostText"),C4=class{constructor(){this.#i=[];this.linesAccepted=0}static{s(this,"LastGhostText")}#e;#t;#i;get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[],this.resetPartialAcceptanceState()}setState({uri:e},r){this.#t=e,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0,this.totalLength=void 0,this.linesLeft=void 0,this.linesAccepted=0}};function Pbe(t){let e=new g7;return e.set(ta,t),e.set(kg,new kg),e.set(Mo,new Mo),e.set(A2,new A2),e.set(yn,new yn(e)),e.set(Ot,new Ot(e)),e.set(V1,new V1),e.set(_a,new _a(e)),e.set(Bc,new Bc),e.set(TA,new TA),e.set(fh,new kT),e.set(e2,new z9),e.set(Dg,new s8),e.set(Gs,new Gs),e.set(n2,new n2(e)),e.set(f2,new f2(e)),e.set($p,new $p(e)),e.set(z2,xbe(e)),e.set(C4,new C4),e.set(J2,new J2),e.set(m4,m4.default),e.set(uh,new uh(e)),e.set(G1,new G1(e)),e.set(ly,new ly),e.set(h2,new h2(e)),e.set(CT,new CT),e.set(yT,new yT(e)),e.set(m2,new m2),e}s(Pbe,"createCommonContext");d();d();var nN=class extends Error{static{s(this,"FetchSpeculationCanceledException")}constructor(e){super(e),this.name="FetchSpeculationCanceledException"}};d();var iN=class extends Error{static{s(this,"FetchSpeculationFailedException")}constructor(e){super(e),this.name="FetchSpeculationFailedException"}};var ufn=H.Object({prompt:H.String(),speculation:H.String(),languageId:H.String(),stops:H.Array(H.String())}),y4=class{static{s(this,"SpeculationFetcher")}constructor(e){this.ctx=e}async fetchSpeculation(e,r){let o={prompt:e.prompt,speculation:e.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",stops:e.stops},a=await this.ctx.get(yn).getToken(),c=await this.ctx.get(Ot).updateExPValuesAndAssignments(a),l=await this.ctx.get(fh).fetchAndStreamSpeculation(this.ctx,o,c,(u,f)=>{},r);switch(l.type){case"success":return l;case"canceled":throw new nN(l.reason);case"failed":throw new iN(l.reason)}}};d();d();function Fbe(t){return Ore(t)}s(Fbe,"verboseLogging");var oN=class extends Rm{constructor(r){super();this.console=r}static{s(this,"ConsoleLog")}logIt(r,n,o,...a){n==1?this.console.error(`[${o}]`,...a):(n==2||Fbe(r))&&this.console.warn(`[${o}]`,...a)}};d();var sN=class extends km{static{s(this,"TelemetryLogSenderImpl")}sendException(e,r,n){Uu(e,r,n)}};d();var k6e=We(require("crypto")),D6e=We(require("fs")),LP=We(B6e()),N6e=require("tls"),Q6e=We(R6e());var cv=new or("certificates"),Ac=class{static{s(this,"RootCertificateReader")}};function P6e(t,e=process.platform){return new kee(t,[new Dee,new Nee,HTt(t,e)])}s(P6e,"getRootCertificateReader");function HTt(t,e){switch(e){case"linux":return new Qee(t);case"darwin":return new Pee(t);case"win32":return new Fee(t);default:return new Lee}}s(HTt,"createPlatformReader");var Ree=class extends Ac{constructor(r,n){super();this.ctx=r;this.delegate=n}static{s(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return cv.warn(this.ctx,"Failed to read root certificates:",r),[]}}},kee=class extends Ac{constructor(r,n){super();this.ctx=r;this.delegates=n.map(o=>new Ree(r,o))}static{s(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),o=r.filter(a=>{try{let c=new k6e.X509Certificate(a),l=Date.parse(c.validTo);return isNaN(l)||l>n}catch(c){return cv.warn(this.ctx,"Failed to parse certificate",a,c),!1}});return r.length!==o.length&&cv.info(this.ctx,`Removed ${r.length-o.length} expired certificates`),o}},Dee=class extends Ac{static{s(this,"NodeTlsRootCertificateReader")}getAllRootCAs(){return N6e.rootCertificates}},Nee=class extends Ac{static{s(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let e=process.env.NODE_EXTRA_CA_CERTS;return e?await F6e(e):[]}},Qee=class extends Ac{constructor(r){super();this.ctx=r}static{s(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let o=await F6e(n);cv.debug(this.ctx,`Read ${o.length} certificates from ${n}`),r=r.concat(o)}return r}},Pee=class extends Ac{constructor(r){super();this.ctx=r}static{s(this,"MacRootCertificateReader")}getAllRootCAs(){let r=LP.get({excludeBundled:!1,format:LP.Format.pem});return cv.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},Fee=class extends Ac{constructor(r){super();this.ctx=r}static{s(this,"WindowsRootCertificateReader")}getAllRootCAs(){let r=Q6e.all();return cv.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},Lee=class extends Ac{static{s(this,"UnsupportedPlatformRootCertificateReader")}getAllRootCAs(){return Promise.reject(new Error("No certificate reader available for unsupported platform"))}};async function F6e(t){let e;try{e=await D6e.promises.readFile(t,{encoding:"utf8"})}catch{return[]}let r=e.match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(a=>a.length>0),o=new Set(n);return Array.from(o)}s(F6e,"readCertsFromFile");d();var X6e=We(require("http"));var m4t=407,_s=new or("proxySocketFactory"),wm=class{static{s(this,"ProxySocketFactory")}},KC=class extends Error{static{s(this,"ProxySocketError")}constructor(e,r,n){super(e),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function Z6e(t){return new qee(t,new Hee(t))}s(Z6e,"getProxySocketFactory");var qee=class extends wm{constructor(r,n,o=new Gee,a=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=o;this.platform=a;this.successfullyAuthorized=new vr(20)}static{s(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(_s.debug(this.ctx,"Proxy authorization already successful once, skipping 407 round trip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(o){if(o instanceof KC&&o.code===`ProxyStatusCode${m4t}`){_s.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let a=await this.authorizeAndCreateSocket(r,n);if(a)return _s.debug(this.ctx,"Proxy authorization successful, caching result"),vt(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),a}throw o}}async reauthorize(r,n){let o=await this.authorize(n);o&&(_s.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+o)}async authorizeAndCreateSocket(r,n){let o=await this.authorize(n);if(_s.debug(this.ctx,"Proxy authorization successful, received token"),o)return _s.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+o,await this.delegate.createSocket(r,n)}async authorize(r){_s.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),o=this.computeSpn(r);_s.debug(this.ctx,"Initializing kerberos client using spn",o);let a=await n.initializeClient(o);_s.debug(this.ctx,"Perform client side kerberos step");let c=await a.step("");return _s.debug(this.ctx,"Received kerberos server response"),c}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return _s.debug(this.ctx,"Using configured kerberos spn",n),n;let o=this.platform==="win32"?`HTTP/${r.hostname}`:`HTTP@${r.hostname}`;return _s.debug(this.ctx,"Using default kerberos spn",o),o}getProxyCacheKey(r){return`${r.hostname}:${r.port}`}},Hee=class extends wm{constructor(r){super();this.ctx=r;this.userAgent=`GithubCopilot/${this.ctx.get(Mo).getVersion()}`}static{s(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let o=this.createConnectRequestOptions(r,n);return new Promise((a,c)=>{_s.debug(this.ctx,"Attempting to establish connection to proxy");let l=X6e.request(o);l.useChunkedEncodingByDefault=!1,l.once("connect",(u,f,h)=>{_s.debug(this.ctx,"Socket Connect returned status code",u.statusCode),l.removeAllListeners(),f.removeAllListeners(),u.statusCode!==200?(f.destroy(),c(new KC(`tunneling socket could not be established, statusCode=${u.statusCode}`,void 0,`ProxyStatusCode${u.statusCode}`))):h.length>0?(f.destroy(),c(new KC(`got non-empty response body from proxy, length=${h.length}`,void 0,"ProxyNonEmptyResponseBody"))):(_s.debug(this.ctx,"Successfully established tunneling connection to proxy"),a(f))}),l.once("error",u=>{_s.debug(this.ctx,"Proxy socket connection error",u.message),l.removeAllListeners(),c(new KC(`tunneling socket could not be established, cause=${u.message}`,u))}),l.on("timeout",()=>{_s.debug(this.ctx,"Proxy socket connection timeout"),c(new KC(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${o.hostname}:${o.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let o=`${r.hostname}:${r.port}`,a={hostname:n.hostname,port:n.port,method:"CONNECT",path:o,agent:!1,headers:{host:o,"Proxy-Connection":"keep-alive","User-Agent":this.userAgent},timeout:r.timeout};return r.localAddress&&(a.localAddress=r.localAddress),this.configureProxyAuthorization(a,r,n.authorization),a}configureProxyAuthorization(r,n,o){r.headers["Proxy-Authorization"]=[],o&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(o).toString("base64")),typeof n.headers?.["Proxy-Authorization"]=="string"&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},Gee=class{static{s(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>We(J6e()))}};d();var n9e=require("node:os");var g4t=new or("repository"),JC="\\\\",i9e="(?:[#;].*)",fv=`(?:[^"${JC}]|${JC}.)`,C4t="[0-9A-Za-z-]",e9e=`[A-Za-z]${C4t}*`,o9e=`\\s*${i9e}?$`,s9e=`(?:[^"${JC};#]|${JC}.)`,y4t=`(?:"${fv}*"|"${fv}*(?<strCont>${JC})$)`,E4t=`(?:${s9e}|${y4t})+`,I4t=`(?:(?<cont>${JC})$)`,a9e=`(?<value>${E4t})${I4t}?${o9e}`,t9e=new RegExp(`^${a9e}`),x4t=new RegExp(`^(?<value>${fv}*(?:(?<strCont>${JC})$|(?<quote>")))`),v4t=new RegExp(`^\\s*(?:(?<key>${e9e})\\s*=\\s*${a9e}|(?<soloKey>${e9e})${o9e})`),b4t=new RegExp(`(?<value>${s9e}+)|"(?<string>${fv}*)"`,"g"),r9e="[-.0-9A-Za-z]+",_4t=`\\s+"(?<ext>${fv}*)"`,T4t=`\\s+"(?<extOnly>${fv}*)"`,w4t=new RegExp(`^\\s*\\[(?:(?<simple>${r9e})${_4t}|${T4t}|(?<simpleOnly>${r9e}))\\]`),S4t=new RegExp(`^\\s*${i9e}$`),Vee=class{constructor(e){this.content=e;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{s(this,"GitConfigParser")}parse(e){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=e,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(e){this.linesWithErrors.push(e)}parseSectionStart(){let e=this.line.match(w4t);e&&(e.groups?.simple?this.section=e.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(e.groups.ext):e.groups?.extOnly?this.section="."+this.unescapeBaseValue(e.groups.extOnly):this.section=e.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(e[0].length))}unescapeBaseValue(e){return e.replace(/\\(.)/g,"$1")}parseConfigPair(){let e=this.line.match(v4t);if(e){if(e.groups?.key){let r=this.handleContinued(e);this.configValueHandler?.(this.nameWithSection(e.groups.key.toLowerCase()),r)}else e.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(e.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(e){let r=e,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(x4t),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(t9e),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(t9e),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(e){return e.groups.strCont?e.groups.value.slice(0,-1):e.groups.value}normalizeValue(e){let r=!1,n=[...e.matchAll(b4t)].map(o=>o.groups?.value?(r=!0,this.unescapeValue(o.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(o.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(e){let r={n:`
`,t:"	",b:"\b"};return e.replace(/\\(.)/g,(n,o)=>r[o]||o)}nameWithSection(e){return this.section?this.section+"."+e:e}parseComment(){S4t.test(this.line)&&(this.line="")}},OP=class extends Xl{static{s(this,"GitParsingConfigLoader")}async getConfig(e,r){let n=await uh.getRepoConfigLocation(e,r);if(!n)return;let o=await this.getParsedConfig(e,n);if(o)return this.mergeConfig(await this.baseConfig(e,n),o)}mergeConfig(...e){return e.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new $1)}async getParsedConfig(e,r,n=!0){let o=await this.tryLoadConfig(e,r,n);if(!o)return;let a=new Vee(o),c=new $1;return a.parse((l,u)=>c.add(l,u)),c}async tryLoadConfig(e,r,n){try{return await e.get(Yo).readFileString(r)}catch(o){(n||!(o instanceof Error)||o.code!=="ENOENT")&&g4t.warn(e,`Failed to load git config from ${JSON.stringify(r)}:`,o);return}}async baseConfig(e,r){let n=await this.commondirConfigUri(e,r),o=Do(this.xdgConfigUri(),"git","config"),a=Do(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(e,o,!1),await this.getParsedConfig(e,a,!1),n?await this.getParsedConfig(e,n,!1):void 0)}async commondirConfigUri(e,r){if(zh(r).toLowerCase()!=="config.worktree")return;let n=td(r),o=Do(n,"commondir");try{let a=(await e.get(Yo).readFileString(o)).trimEnd();return Do(Qm(n,a),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?NS(process.env.XDG_CONFIG_HOME):Do(this.homeUri(),".config")}homeUri(){return NS((0,n9e.homedir)())}};d();var c9e=require("child_process");var UP=class extends Xl{static{s(this,"GitCLIConfigLoader")}runCommand(e,r,n){return new Promise((o,a)=>{(0,c9e.execFile)(r,n,{cwd:e},(c,l)=>{c?a(c):o(l)})})}async tryRunCommand(e,r,n,o){try{return await this.runCommand(r,n,o)}catch(a){KEe.info(e,`Failed to run command '${n}' in ${r}:`,a);return}}async getConfig(e,r){let n=QS(r);if(n===void 0)return;let o=await this.tryRunCommand(e,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return o?this.extractConfig(o):void 0}extractConfig(e){let r=new $1;for(let n of e.split("\0").filter(o=>o)){let o=n.split(`
`,1)[0],a=n.slice(o.length+1);r.add(o,a)}return r}extraArgs(){return[]}};function l9e(t){let e=Pbe(t);return B4t(e),e.set(Ac,P6e(e)),e.set(wm,Z6e(e)),e.set(Xl,new B7([new UP,new OP])),e.set(y4,new y4(e)),e}s(l9e,"createProductionContext");function B4t(t){t.set(Yh,Yh.fromEnvironment(!1)),t.set(km,new sN),t.set(Rm,new oN(console))}s(B4t,"setupRudimentaryLogging");var zCn=new or("context");d();var qP=class extends Kh{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(r,this.getDefaultUrls())}static{s(this,"DefaultNetworkConfiguration")}getAuthAuthority(){return this.baseUrlObject.hostname}getConfiguredUrls(){return{serverUrl:this.baseUrlObject.href,apiUrl:this.apiUrl}}setConfiguredUrls(r,n){let o=this.getConfiguredUrls();this.recalculateUrlDefaults(r,n);let a=this.getConfiguredUrls();(o.apiUrl!==a.apiUrl||o.serverUrl!==a.serverUrl)&&r.get(yn).resetToken(),r.get(_l).updateSessionConfig(a)}recalculateUrlDefaults(r,n){let{serverUrl:o,apiUrl:a}=Pm({serverUrl:pF(r,n.serverUrl),apiUrl:pF(r,n.apiUrl)});this.baseUrlObject=new URL(o),this.apiUrl=a}getDefaultUrls(){return this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN?{apiUrl:this.env.GITHUB_API_URL,serverUrl:this.env.GITHUB_SERVER_URL}:{}}};d();var u9e=We(require("crypto")),f9e=require("os");var R4t=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function k4t(t){let e=t.replace(/-/g,":").toLowerCase();return!R4t.has(e)}s(k4t,"validateMacAddress");function D4t(){let t=(0,f9e.networkInterfaces)();for(let e in t){let r=t[e];if(r){for(let{mac:n}of r)if(k4t(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}s(D4t,"getMac");var Wee;function N4t(){try{let t=D4t();return u9e.createHash("sha256").update(t,"utf8").digest("hex")}catch{return}}s(N4t,"getMacMachineId");function Yee(){return Wee||(Wee=N4t()||Jl()),Wee}s(Yee,"getMachineId");d();d();var d9e=We(require("tls"));var HP=class{static{s(this,"RootCertificateConfigurator")}#e;constructor(e){this._certificateReader=e.get(Ac)}async getCertificates(){let e=await this._certificateReader.getAllRootCAs();if(e.length!==0)return e}async createSecureContext(){let e=await this._certificateReader.getAllRootCAs(),n=d9e.createSecureContext({_vscodeAdditionalCaCerts:e}),o=n.context;for(let a of e)o.addCACert(a);return{secureContext:n,certs:e}}async applyToRequestOptions(e){this.#e??=this.createSecureContext();let r=await this.#e;e.secureContext=r.secureContext,e.ca=r.certs,e.cert=r.certs}};d();var mv=We(m7e(),1),bEn={ALPN_HTTP2:mv.default.ALPN_HTTP2,ALPN_HTTP2C:mv.default.ALPN_HTTP2C,ALPN_HTTP1_1:mv.default.ALPN_HTTP1_1,ALPN_HTTP1_0:mv.default.ALPN_HTTP1_0},{fetch:_En,context:g7e,reset:TEn,noCache:wEn,h1:SEn,keepAlive:BEn,h1NoCache:REn,keepAliveNoCache:kEn,cacheStats:DEn,clearCache:NEn,offPush:QEn,onPush:PEn,createUrl:FEn,timeoutSignal:LEn,Body:MEn,Headers:OEn,Request:UEn,Response:qEn,AbortController:HEn,AbortError:GEn,AbortSignal:VEn,FetchBaseError:WEn,FetchError:YEn,ALPN_HTTP2:jEn,ALPN_HTTP2C:$En,ALPN_HTTP1_1:zEn,ALPN_HTTP1_0:KEn}=mv.default;var oF=class extends to{constructor(r,n){super();this.name="HelixFetcher";this.certificateConfigurator=new HP(r),this.proxySocketFactory=r.get(wm),this.proxySocketTimeoutForTesting=n?.proxySocketTimeoutForTesting,r.get(ta).onDidChangeHttpSettings(o=>{this.fetchApi=this.createFetchApi(r,o),this.updateNoProxy(o.noProxy)}),this.fetchApi=this.createFetchApi(r,r.get(ta).getHttpSettings()),this.updateNoProxy(r.get(ta).getHttpSettings().noProxy),this.fetchApiByPass=this.createFetchApi(r,{proxy:""})}static{s(this,"HelixFetcher")}maybeCreateSocketFactory(r,n){if(!r?.proxy)return;let o=new URL(r.proxy);return async a=>(a.rejectUnauthorized=r.proxyStrictSSL,a.timeout=n,await this.certificateConfigurator.applyToRequestOptions(a),await this.proxySocketFactory.createSocket(a,{hostname:o.hostname,port:o.port,authorization:r.proxyAuthorization,kerberosServicePrincipal:r.proxyKerberosServicePrincipal}))}createFetchApi(r,n){let o=r.get(Mo),a=this.proxySocketTimeoutForTesting;return g7e({userAgent:`GithubCopilot/${o.getVersion()}`,socketFactory:this.maybeCreateSocketFactory(n,a),rejectUnauthorized:n.proxyStrictSSL})}parseNoProxy(r){return r?.map(n=>n.trim()).filter(n=>n.length>0)||[]}updateNoProxy(r){if(this.noProxy=this.parseNoProxy(r),this.proxyExceptionFilters=void 0,!this.noProxy.length)return;if(this.noProxy.includes("*")){this.proxyExceptionFilters=[{regex:/.*/i}];return}let n=s(a=>{if(!a)return;a.startsWith(".")&&(a=`*${a}`);let c=a.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*");try{return new RegExp(`^${c}$`,"i")}catch{return}},"toRegex"),o=[];for(let a of this.noProxy){let c=a,l;if(c.startsWith("[")){let f=c.indexOf("]");if(f!==-1){let h=c.slice(1,f),A=c.slice(f+1);A.startsWith(":")&&(l=A.slice(1)),c=h}}else{let f=c.split(":");f.length===2&&(c=f[0],l=f[1])}let u=n(c);u&&o.push({regex:u,port:l})}o.length&&(this.proxyExceptionFilters=o)}shouldBypassProxy(r){if(!this.proxyExceptionFilters||!this.proxyExceptionFilters.length)return!1;let n;try{n=new URL(r)}catch{return!1}let o=n.hostname;if(!o)return!1;let a=n.port||(n.protocol==="https:"?"443":"80"),c=o.toLowerCase();return this.proxyExceptionFilters.some(l=>l.regex.test(c)&&(!l.port||l.port===a))}async fetch(r,n){let o=n.signal,a=!1;if(n.timeout){let h=new AbortController;setTimeout(()=>{h.abort(),a=!0},n.timeout),n.signal?.addEventListener("abort",()=>h.abort()),n.signal?.aborted&&h.abort(),o=h.signal}let c={...n,body:n.body?n.body:n.json,signal:o},l=this.shouldBypassProxy(r);if(!l){await this.certificateConfigurator.applyToRequestOptions(c);let h=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(h)}let f=await(l?this.fetchApiByPass:this.fetchApi).fetch(r,c).catch(h=>{throw a?new Cv(`Request to <${r}> timed out after ${n.timeout}ms`,h):h});return new Ww(f.status,f.statusText,f.headers,()=>f.text(),()=>f.body)}disconnectAll(){return this.fetchApi.reset()}};d();d();var sF=class extends Gs{static{s(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var C7e=require("child_process");var r3t=Jl()+Date.now();async function y7e(){let t=l9e(new K9);return t.set(Kh,new qP(t)),t.set(LA,new o8),t.set(to,new oF(t)),t.set(No,new Ite(await n3t())),t.set(ko,new ko(r3t,Yee(),Yee())),t.forceSet(Gs,new sF),t.set(_l,new _l(t,XI.name)),t.get(_l).initialize(!0),t}s(y7e,"createUninstallContext");async function n3t(){let t="unknown";try{return await new Promise((e,r)=>{let n=(0,C7e.spawn)("code -v",{shell:!0,stdio:"pipe"});n.stdout?.on("data",o=>{t==="unknown"&&(t=o.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>e(t)),n.on("error",o=>r(o))})}catch{return t}}s(n3t,"lookupVscodeVersion");var Ite=class extends No{constructor(r){super();this.vscodeVersion=r}static{s(this,"UninstallEditorInfo")}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:XI.version}}getRelatedPluginInfo(){return[]}};async function i3t(){let t=await y7e(),e=new u7;process.argv.includes("--dry-run")||await e.uninstall(t)}s(i3t,"doUninstall");i3t().then(()=>process.exit(0)).catch(t=>{console.error(t),process.exit(1)});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@vscode/chat-lib/dist/src/_internal/util/vs/base/common/errors.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/assert.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/arraysFind.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/arrays.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/collections.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/map.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/functional.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/types.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/iterator.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/lifecycle.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/debugName.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/equals.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/linkedList.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/stopwatch.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/event.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/commonFacade/deps.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/base.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/logging/logging.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/transaction.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/debugLocation.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/baseObservable.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/observableValue.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/lazyObservableValue.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/observableValueOpts.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/reactions/autorunImpl.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/reactions/autorun.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/derivedImpl.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/derived.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/utils/promise.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/cancellation.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/commonFacade/cancellation.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/utils/utilsCancellation.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/observableFromEvent.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/observableSignal.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/utils/utils.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/changeTracker.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/constObservable.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/observables/observableSignalFromEvent.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/utils/valueWithChangeEvent.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/utils/runOnChange.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/experimental/utils.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/set.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/map.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/logging/consoleObservableLogger.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/logging/debugger/rpc.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/logging/debugger/debuggerRpc.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/logging/debugger/utils.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/logging/debugger/devToolsLogger.js:
@vscode/chat-lib/dist/src/_internal/util/vs/nls.messages.js:
@vscode/chat-lib/dist/src/_internal/util/vs/nls.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/platform.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/process.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observableInternal/index.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/cache.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/lazy.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/strings.js:
@vscode/chat-lib/dist/src/_internal/util/vs/editor/common/core/ranges/offsetRange.js:
@vscode/chat-lib/dist/src/_internal/util/vs/editor/common/core/position.js:
@vscode/chat-lib/dist/src/_internal/util/vs/editor/common/core/range.js:
@vscode/chat-lib/dist/src/_internal/util/vs/editor/common/core/text/positionToOffsetImpl.js:
@vscode/chat-lib/dist/src/_internal/util/vs/editor/common/core/ranges/lineRange.js:
@vscode/chat-lib/dist/src/_internal/util/vs/editor/common/core/text/textLength.js:
@vscode/chat-lib/dist/src/_internal/util/vs/editor/common/core/text/abstractText.js:
@vscode/chat-lib/dist/src/_internal/util/vs/editor/common/core/edits/edit.js:
@vscode/chat-lib/dist/src/_internal/util/vs/editor/common/core/edits/stringEdit.js:
@vscode/chat-lib/dist/src/_internal/util/vs/base/common/observable.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

@nevware21/ts-utils/dist/es5/mod/ts-utils.js:
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@nevware21/ts-async/dist/es5/mod/ts-async.js:
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@azure/msal-node/dist/cache/serializer/Serializer.mjs:
@azure/msal-node/dist/cache/serializer/Deserializer.mjs:
@azure/msal-node/dist/internals.mjs:
@azure/msal-node/dist/utils/Constants.mjs:
@azure/msal-node/dist/utils/NetworkUtils.mjs:
@azure/msal-node/dist/network/HttpClient.mjs:
@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs:
@azure/msal-node/dist/error/ManagedIdentityError.mjs:
@azure/msal-node/dist/config/ManagedIdentityId.mjs:
@azure/msal-node/dist/error/NodeAuthError.mjs:
@azure/msal-node/dist/config/Configuration.mjs:
@azure/msal-node/dist/crypto/GuidGenerator.mjs:
@azure/msal-node/dist/utils/EncodingUtils.mjs:
@azure/msal-node/dist/crypto/HashUtils.mjs:
@azure/msal-node/dist/crypto/PkceGenerator.mjs:
@azure/msal-node/dist/crypto/CryptoProvider.mjs:
@azure/msal-node/dist/cache/NodeStorage.mjs:
@azure/msal-node/dist/cache/TokenCache.mjs:
@azure/msal-node/dist/client/ClientAssertion.mjs:
@azure/msal-node/dist/packageMetadata.mjs:
@azure/msal-node/dist/client/UsernamePasswordClient.mjs:
@azure/msal-node/dist/protocol/Authorize.mjs:
@azure/msal-node/dist/client/ClientApplication.mjs:
@azure/msal-node/dist/network/LoopbackClient.mjs:
@azure/msal-node/dist/client/DeviceCodeClient.mjs:
@azure/msal-node/dist/client/PublicClientApplication.mjs:
@azure/msal-node/dist/client/ClientCredentialClient.mjs:
@azure/msal-node/dist/client/OnBehalfOfClient.mjs:
@azure/msal-node/dist/client/ConfidentialClientApplication.mjs:
@azure/msal-node/dist/utils/TimeUtils.mjs:
@azure/msal-node/dist/network/HttpClientWithRetries.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs:
@azure/msal-node/dist/retry/LinearRetryStrategy.mjs:
@azure/msal-node/dist/retry/DefaultManagedIdentityRetryPolicy.mjs:
@azure/msal-node/dist/config/ManagedIdentityRequestParameters.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AppService.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AzureArc.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/CloudShell.mjs:
@azure/msal-node/dist/retry/ExponentialRetryStrategy.mjs:
@azure/msal-node/dist/retry/ImdsRetryPolicy.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/Imds.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/ServiceFabric.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/MachineLearning.mjs:
@azure/msal-node/dist/client/ManagedIdentityClient.mjs:
@azure/msal-node/dist/client/ManagedIdentityApplication.mjs:
@azure/msal-node/dist/cache/distributed/DistributedCachePlugin.mjs:
@azure/msal-node/dist/index.mjs:
  (*! @azure/msal-node v3.6.3 2025-07-08 *)

@azure/msal-common/dist/utils/Constants.mjs:
@azure/msal-common/dist/error/AuthErrorCodes.mjs:
@azure/msal-common/dist/error/AuthError.mjs:
@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs:
@azure/msal-common/dist/error/ClientAuthError.mjs:
@azure/msal-common/dist/crypto/ICrypto.mjs:
@azure/msal-common/dist/logger/Logger.mjs:
@azure/msal-common/dist/packageMetadata.mjs:
@azure/msal-common/dist/authority/AuthorityOptions.mjs:
@azure/msal-common/dist/account/AuthToken.mjs:
@azure/msal-common/dist/utils/TimeUtils.mjs:
@azure/msal-common/dist/cache/utils/CacheHelpers.mjs:
@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs:
@azure/msal-common/dist/error/ClientConfigurationError.mjs:
@azure/msal-common/dist/utils/StringUtils.mjs:
@azure/msal-common/dist/request/ScopeSet.mjs:
@azure/msal-common/dist/account/ClientInfo.mjs:
@azure/msal-common/dist/account/AccountInfo.mjs:
@azure/msal-common/dist/authority/AuthorityType.mjs:
@azure/msal-common/dist/account/TokenClaims.mjs:
@azure/msal-common/dist/authority/ProtocolMode.mjs:
@azure/msal-common/dist/cache/entities/AccountEntity.mjs:
@azure/msal-common/dist/utils/UrlUtils.mjs:
@azure/msal-common/dist/url/UrlString.mjs:
@azure/msal-common/dist/authority/AuthorityMetadata.mjs:
@azure/msal-common/dist/error/CacheErrorCodes.mjs:
@azure/msal-common/dist/error/CacheError.mjs:
@azure/msal-common/dist/cache/CacheManager.mjs:
@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs:
@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs:
@azure/msal-common/dist/config/ClientConfiguration.mjs:
@azure/msal-common/dist/account/CcsCredential.mjs:
@azure/msal-common/dist/constants/AADServerParamKeys.mjs:
@azure/msal-common/dist/request/RequestParameterBuilder.mjs:
@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs:
@azure/msal-common/dist/utils/FunctionWrappers.mjs:
@azure/msal-common/dist/authority/RegionDiscovery.mjs:
@azure/msal-common/dist/authority/Authority.mjs:
@azure/msal-common/dist/authority/AuthorityFactory.mjs:
@azure/msal-common/dist/error/ServerError.mjs:
@azure/msal-common/dist/network/RequestThumbprint.mjs:
@azure/msal-common/dist/network/ThrottlingUtils.mjs:
@azure/msal-common/dist/error/NetworkError.mjs:
@azure/msal-common/dist/client/BaseClient.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs:
@azure/msal-common/dist/utils/ProtocolUtils.mjs:
@azure/msal-common/dist/crypto/PopTokenGenerator.mjs:
@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs:
@azure/msal-common/dist/response/ResponseHandler.mjs:
@azure/msal-common/dist/utils/ClientAssertionUtils.mjs:
@azure/msal-common/dist/client/AuthorizationCodeClient.mjs:
@azure/msal-common/dist/client/RefreshTokenClient.mjs:
@azure/msal-common/dist/client/SilentFlowClient.mjs:
@azure/msal-common/dist/protocol/Authorize.mjs:
@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs:
@azure/msal-common/dist/index-node.mjs:
@azure/msal-common/dist/index.mjs:
  (*! @azure/msal-common v15.8.1 2025-07-08 *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
