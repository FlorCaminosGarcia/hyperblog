exports.id=53,exports.ids=[53],exports.modules={27:(e,t,i)=>{i.r(t),i.d(t,{GitHubModelsProvider:()=>GitHubModelsProvider});var n=i(6096),a=i(6184),o=i(8412),r=i(9579);let GitHubModelsProvider=class GitHubModelsProvider extends r.t{id=a.ej.id;name=a.ej.name;descriptor=a.ej;config={keyUrl:"https://github.com/settings/tokens",keyValidator:/(?:ghp-)?[a-zA-Z0-9]{32,}/};async getModels(){let e=await (0,n.hd)("https://github.com/marketplace?category=All&task=chat-completion&type=models",{headers:{Accept:"application/json","Content-Type":"application/json"}});return(await e.json()).results.map(e=>({id:e.name,name:e.friendly_name,maxTokens:{input:e.max_input_tokens,output:e.max_output_tokens},provider:a.ej,temperature:null}))}getUrl(e){return"https://models.inference.ai.azure.com/chat/completions"}async handleFetchFailure(e,t,i,n,a){if(404!==e.status&&429!==e.status){let t;try{t=await e.json()}catch{}if(t?.error?.code==="tokens_limit_reached"){if(n<2){let e=/Max size: (\d+) tokens/.exec(t?.error?.message);if(e?.[1]!=null)return{retry:!0,maxInputTokens:parseInt(e[1],10)}}throw new o.V9(o.zK.RequestTooLarge,Error(`(${this.name}) ${e.status}: ${t?.error?.message||e.statusText}`))}}return super.handleFetchFailure(e,t,i,n,a)}}},858:(e,t,i)=>{i.r(t),i.d(t,{AnthropicProvider:()=>AnthropicProvider});var n=i(6184),a=i(8412),o=i(9579);let r=[{id:"claude-haiku-4-5",name:"Claude 4.5 Haiku",maxTokens:{input:204800,output:32e3},provider:n.FH,default:!0},{id:"claude-haiku-4-5-20251001",name:"Claude 4.5 Haiku",maxTokens:{input:204800,output:32e3},provider:n.FH,hidden:!0},{id:"claude-sonnet-4-5",name:"Claude 4.5 Sonnet",maxTokens:{input:204800,output:64e3},provider:n.FH},{id:"claude-sonnet-4-5-20250929",name:"Claude 4.5 Sonnet",maxTokens:{input:204800,output:64e3},provider:n.FH,hidden:!0},{id:"claude-opus-4-1",name:"Claude 4.1 Opus",maxTokens:{input:204800,output:32e3},provider:n.FH},{id:"claude-opus-4-1-20250805",name:"Claude 4.1 Opus",maxTokens:{input:204800,output:32e3},provider:n.FH,hidden:!0},{id:"claude-opus-4-0",name:"Claude 4 Opus",maxTokens:{input:204800,output:32e3},provider:n.FH,hidden:!0},{id:"claude-opus-4-20250514",name:"Claude 4 Opus",maxTokens:{input:204800,output:32e3},provider:n.FH,hidden:!0},{id:"claude-sonnet-4-0",name:"Claude 4 Sonnet",maxTokens:{input:204800,output:64e3},provider:n.FH},{id:"claude-sonnet-4-20250514",name:"Claude 4 Sonnet",maxTokens:{input:204800,output:64e3},provider:n.FH,hidden:!0},{id:"claude-3-7-sonnet-latest",name:"Claude 3.7 Sonnet",maxTokens:{input:204800,output:64e3},provider:n.FH,hidden:!0},{id:"claude-3-7-sonnet-20250219",name:"Claude 3.7 Sonnet",maxTokens:{input:204800,output:64e3},provider:n.FH,hidden:!0},{id:"claude-3-5-sonnet-latest",name:"Claude 3.5 Sonnet",maxTokens:{input:204800,output:8192},provider:n.FH,hidden:!0},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",maxTokens:{input:204800,output:8192},provider:n.FH,hidden:!0},{id:"claude-3-5-sonnet-20240620",name:"Claude 3.5 Sonnet",maxTokens:{input:204800,output:8192},provider:n.FH,hidden:!0},{id:"claude-3-5-haiku-latest",name:"Claude 3.5 Haiku",maxTokens:{input:204800,output:8192},provider:n.FH,hidden:!0},{id:"claude-3-5-haiku-20241022",name:"Claude 3.5 Haiku",maxTokens:{input:204800,output:8192},provider:n.FH,hidden:!0},{id:"claude-3-opus-latest",name:"Claude 3 Opus",maxTokens:{input:204800,output:4096},provider:n.FH,hidden:!0},{id:"claude-3-opus-20240229",name:"Claude 3 Opus",maxTokens:{input:204800,output:4096},provider:n.FH,hidden:!0},{id:"claude-3-sonnet-latest",name:"Claude 3 Sonnet",maxTokens:{input:204800,output:4096},provider:n.FH,hidden:!0},{id:"claude-3-sonnet-20240229",name:"Claude 3 Sonnet",maxTokens:{input:204800,output:4096},provider:n.FH,hidden:!0},{id:"claude-3-haiku-latest",name:"Claude 3 Haiku",maxTokens:{input:204800,output:4096},provider:n.FH,hidden:!0},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku",maxTokens:{input:204800,output:4096},provider:n.FH,hidden:!0},{id:"claude-2.1",name:"Claude 2.1",maxTokens:{input:204800,output:4096},provider:n.FH,hidden:!0}];let AnthropicProvider=class AnthropicProvider extends o.t{id=n.FH.id;name=n.FH.name;descriptor=n.FH;config={keyUrl:"https://console.anthropic.com/account/keys",keyValidator:/(?:sk-)?[a-zA-Z0-9-_]{32,}/};getModels(){return Promise.resolve(r)}getUrl(e){return"https://api.anthropic.com/v1/messages"}getHeaders(e,t,i,n){return{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${t}`,"x-api-key":t,"anthropic-version":"2023-06-01"}}fetchCore(e,t,i,n,a){if("max_completion_tokens"in n){let{max_completion_tokens:e,...t}=n;n=e?{max_tokens:e,...t}:t}return super.fetchCore(e,t,i,n,a)}async handleFetchFailure(e,t,i,n,o){if(404!==e.status&&429!==e.status){let t;try{t=await e.json()}catch{}if(t?.error?.type==="invalid_request_error"){if(t?.error?.message?.includes("prompt is too long")){if(n<2)return{retry:!0,maxInputTokens:o-200*(n||1)};throw new a.V9(a.zK.RequestTooLarge,Error(`(${this.name}) ${e.status}: ${t?.error?.message||e.statusText}`))}if(t?.error?.message?.includes("balance is too low"))throw new a.V9(a.zK.RateLimitOrFundsExceeded,Error(`(${this.name}) ${e.status}: ${t?.error?.message||e.statusText}`))}}return super.handleFetchFailure(e,t,i,n,o)}}},1745:(e,t,i)=>{i.r(t),i.d(t,{AzureProvider:()=>AzureProvider});var n=i(1398),a=i(6184),o=i(6402),r=i(9635),s=i(9579),d=i(4939);let u=(0,r.R)(a.CQ);let AzureProvider=class AzureProvider extends s.t{id=a.CQ.id;name=a.CQ.name;descriptor=a.CQ;config={keyUrl:void 0,keyValidator:/(?:sk-)?[a-zA-Z0-9]{32,}/};getModels(){return Promise.resolve(u)}getUrl(e){return(0,d.E9)(this.id,o.H.get("ai.azure.url"))}async getOrPromptBaseUrl(e,t){let i=(0,d.LF)(this.id);if(!i.enabled)return;if(i.url)return i.url;let a=this.getUrl();if(e||null!=a&&t)return a;let r=n.window.createInputBox();r.ignoreFocusOut=!0,a&&(r.value=a);let s=[];try{a=await new Promise(e=>{s.push(r.onDidHide(()=>e(void 0)),r.onDidChangeValue(e=>{if(e)try{new URL(e)}catch{r.validationMessage="Please enter a valid URL";return}r.validationMessage=void 0}),r.onDidAccept(()=>{let t=r.value.trim();if(!t){r.validationMessage="Please enter a valid URL";return}try{new URL(t)}catch{r.validationMessage="Please enter a valid URL";return}if(!(0,d.Px)(t)){r.validationMessage="Please enter a valid Azure OpenAI URL";return}e(t)})),r.title="Connect to Azure OpenAI Provider",r.placeholder="Please enter your provider's URL to use this feature",r.prompt="Enter your Azure OpenAI Provider URL",r.show()})}finally{r.dispose(),s.forEach(e=>void e.dispose())}return a&&o.H.updateEffective("ai.azure.url",a),a}async configured(e){let t=await super.configured(!0);return!!await this.getOrPromptBaseUrl(e,t)&&(e?t:super.configured(e))}getHeaders(e,t,i,n){return{Accept:"application/json","Content-Type":"application/json","api-key":t}}}},2045:(e,t,i)=>{i.r(t),i.d(t,{GeminiProvider:()=>GeminiProvider});var n=i(6184),a=i(9579);let o=[{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",maxTokens:{input:1048576,output:65536},provider:n.mJ},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",maxTokens:{input:1048576,output:65536},provider:n.mJ,default:!0},{id:"gemini-2.5-flash-lite",name:"Gemini 2.5 Flash-Lite",maxTokens:{input:1048576,output:65536},provider:n.mJ},{id:"gemini-2.5-flash-preview-05-20",name:"Gemini 2.5 Flash (Preview)",maxTokens:{input:1048576,output:65536},provider:n.mJ,hidden:!0},{id:"gemini-2.5-flash-preview-04-17",name:"Gemini 2.5 Flash (Preview)",maxTokens:{input:1048576,output:65536},provider:n.mJ,hidden:!0},{id:"gemini-2.5-pro-preview-06-05",name:"Gemini 2.5 Pro (Preview)",maxTokens:{input:1048576,output:65536},provider:n.mJ,hidden:!0},{id:"gemini-2.5-pro-preview-03-25",name:"Gemini 2.5 Pro (Preview)",maxTokens:{input:1048576,output:65536},provider:n.mJ,hidden:!0},{id:"gemini-2.5-pro-exp-03-25",name:"Gemini 2.5 Pro (Experimental)",maxTokens:{input:1048576,output:65536},provider:n.mJ,hidden:!0},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",maxTokens:{input:1048576,output:8192},provider:n.mJ},{id:"gemini-2.0-flash-001",name:"Gemini 2.0 Flash",maxTokens:{input:1048576,output:8192},provider:n.mJ,hidden:!0},{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash-Lite",maxTokens:{input:1048576,output:8192},provider:n.mJ},{id:"gemini-2.0-flash-lite-001",name:"Gemini 2.0 Flash-Lite",maxTokens:{input:1048576,output:8192},provider:n.mJ,hidden:!0},{id:"gemini-2.0-flash-lite-preview-02-05",name:"Gemini 2.0 Flash-Lite (Preview)",maxTokens:{input:1048576,output:8192},provider:n.mJ,hidden:!0},{id:"gemini-2.0-pro-exp-02-05",name:"Gemini 2.0 Pro (Experimental)",maxTokens:{input:2097152,output:8192},provider:n.mJ,hidden:!0},{id:"gemini-2.0-flash-thinking-exp-01-21",name:"Gemini 2.0 Flash Thinking (Experimental)",maxTokens:{input:1048576,output:8192},provider:n.mJ,hidden:!0},{id:"gemini-2.0-flash-exp",name:"Gemini 2.0 Flash (Experimental)",maxTokens:{input:1048576,output:8192},provider:n.mJ,hidden:!0},{id:"gemini-exp-1206",name:"Gemini Experimental 1206",maxTokens:{input:2097152,output:8192},provider:n.mJ,hidden:!0},{id:"gemini-exp-1121",name:"Gemini Experimental 1121",maxTokens:{input:2097152,output:8192},provider:n.mJ,hidden:!0},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",maxTokens:{input:2097152,output:8192},provider:n.mJ},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",maxTokens:{input:1048576,output:8192},provider:n.mJ},{id:"gemini-1.5-flash-8b",name:"Gemini 1.5 Flash 8B",maxTokens:{input:1048576,output:8192},provider:n.mJ}];let GeminiProvider=class GeminiProvider extends a.t{id=n.mJ.id;name=n.mJ.name;descriptor=n.mJ;config={keyUrl:"https://aistudio.google.com/app/apikey"};getModels(){return Promise.resolve(o)}getUrl(e){return"https://generativelanguage.googleapis.com/v1beta/chat/completions"}fetchCore(e,t,i,n,a){if("max_completion_tokens"in n){let{max_completion_tokens:e,...t}=n;n=e?{max_tokens:e,...t}:t}return super.fetchCore(e,t,i,n,a)}}},3536:(e,t,i)=>{i.r(t),i.d(t,{HuggingFaceProvider:()=>HuggingFaceProvider});var n=i(6096),a=i(6184),o=i(9579);let HuggingFaceProvider=class HuggingFaceProvider extends o.t{id=a.xS.id;name=a.xS.name;descriptor=a.xS;config={keyUrl:"https://huggingface.co/settings/tokens",keyValidator:/(?:hf_)?[a-zA-Z0-9]{32,}/};async getModels(){let e=new URLSearchParams({filter:"text-generation,conversational",inference:"warm",sort:"trendingScore",limit:"30"}),t=await (0,n.hd)(`https://huggingface.co/api/models?${e.toString()}`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"});return(await t.json()).map(e=>({id:e.id,name:e.id.split("/").pop(),maxTokens:{input:4096,output:4096},provider:a.xS,temperature:null}))}getUrl(e){return`https://api-inference.huggingface.co/models/${e.id}/v1/chat/completions`}}},3776:(e,t,i)=>{i.r(t),i.d(t,{DeepSeekProvider:()=>DeepSeekProvider});var n=i(6184),a=i(9579);let o=[{id:"deepseek-chat",name:"DeepSeek-V3",maxTokens:{input:65536,output:8192},provider:n.Fv,default:!0,temperature:0},{id:"deepseek-reasoner",name:"DeepSeek-R1",maxTokens:{input:65536,output:8192},provider:n.Fv,temperature:0}];let DeepSeekProvider=class DeepSeekProvider extends a.t{id=n.Fv.id;name=n.Fv.name;descriptor=n.Fv;config={keyUrl:"https://platform.deepseek.com/api_keys",keyValidator:/(?:sk-)?[a-zA-Z0-9]{32,}/};getModels(){return Promise.resolve(o)}getUrl(e){return"https://api.deepseek.com/v1/chat/completions"}}},5056:(e,t,i)=>{i.r(t),i.d(t,{OpenAIProvider:()=>OpenAIProvider});var n=i(6184),a=i(6402),o=i(9635),r=i(9579),s=i(4939);let d=(0,o.R)(n.lh);let OpenAIProvider=class OpenAIProvider extends r.t{id=n.lh.id;name=n.lh.name;descriptor=n.lh;config={keyUrl:"https://platform.openai.com/account/api-keys",keyValidator:/(?:sk-)?[a-zA-Z0-9]{32,}/};getModels(){return Promise.resolve(d)}getUrl(e){return(0,s.E9)(this.id,a.H.get("ai.openai.url"))||"https://api.openai.com/v1/chat/completions"}getHeaders(e,t,i,n){return(0,s.Px)(n)?{Accept:"application/json","Content-Type":"application/json","api-key":t}:super.getHeaders(e,t,i,n)}}},6244:(e,t,i)=>{i.r(t),i.d(t,{OllamaProvider:()=>OllamaProvider});var n=i(1398),a=i(6202),o=i(6184),r=i(6402),s=i(9579),d=i(4939);let u="http://localhost:11434";let OllamaProvider=class OllamaProvider extends s.t{id=o.dd.id;name=o.dd.name;descriptor=o.dd;config={keyUrl:"https://ollama.com/download"};async configured(e){let t=await this.getOrPromptBaseUrl(e);return void 0!==t&&this.validateUrl(t,e)}async getApiKey(e){if(await (0,d.G5)(this.container,e))return Promise.resolve("<not applicable>")}async getModels(){try{let e=this.getBaseUrl(),t=await fetch(`${e}/api/tags`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"});if(!t.ok)throw Error(`Getting models failed: ${t.status} (${t.statusText})`);let i=await t.json();if(i.models?.length)return i.models.map(e=>({id:e.name,name:e.name,maxTokens:{input:8192,output:8192},provider:o.dd,default:"llama3"===e.name}))}catch{}return[]}async getOrPromptBaseUrl(e){let t=(0,d.LF)(this.id);if(!t.enabled)return;if(t.url)return t.url;let i=r.H.get("ai.ollama.url")??void 0;if(i&&(e||await this.validateUrl(i,!0)))return i;if(e)return u;let a=n.window.createInputBox();a.ignoreFocusOut=!0;let o=[];try{i=await new Promise(e=>{o.push(a.onDidHide(()=>e(void 0)),a.onDidChangeValue(e=>{if(e)try{new URL(e)}catch{a.validationMessage="Please enter a valid URL";return}a.validationMessage=void 0}),a.onDidAccept(async()=>{let t=a.value.trim();if(!t){a.validationMessage="Please enter a valid URL";return}try{new URL(t)}catch{a.validationMessage="Please enter a valid URL";return}if(!await this.validateUrl(t,!0)){a.validationMessage="Could not connect to Ollama server. Make sure Ollama is installed and running locally.";return}e(t)})),a.title="Connect to Ollama",a.placeholder="Please enter your Ollama server URL to use this feature",a.prompt=`Enter your Ollama server URL (default: ${u})`,a.value=u,a.show()})}finally{a.dispose(),o.forEach(e=>void e.dispose())}return i?(r.H.updateEffective("ai.ollama.url",i),i):u}async validateUrl(e,t){try{return(await fetch(`${e}/api/tags`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"})).ok}catch{return t||await n.window.showErrorMessage("Could not connect to Ollama server. Make sure Ollama is installed and running locally."),!1}}getBaseUrl(){return(0,d.E9)(this.id,r.H.get("ai.ollama.url")||u)}getUrl(e){let t=this.getBaseUrl();return t?`${t}/api/chat`:void 0}getHeaders(e,t,i,n){return{Accept:"application/json","Content-Type":"application/json"}}async fetch(e,t,i,n,o,r){let s=0,d=t.maxTokens.input;for(;;){let u=(await n(d,s)).map(e=>({role:e.role,content:e.content})),p=Math.min(Math.max(o?.temperature??.7,0),1),l={model:t.id,messages:u,stream:!1,options:{temperature:p,...o?.outputTokens?{num_predict:o.outputTokens}:{}}},m=await this.fetchCore(e,t,i,l,r);if(!m.ok){let i=await this.handleFetchFailure(m,e,t,s,d);if(i.retry){d=i.maxInputTokens,s++;continue}}try{let e=await m.json();if(!e.message?.content)throw Error(`Empty response from Ollama model: ${t.id}`);return{id:(0,a.uR)(),content:e.message.content,model:t,usage:{promptTokens:e.prompt_eval_count??0,completionTokens:e.eval_count??0,totalTokens:(e.prompt_eval_count??0)+(e.eval_count??0)}}}catch(e){throw Error(`Failed to parse Ollama response: ${e instanceof Error?e.message:String(e)}`)}}}}},7996:(e,t,i)=>{i.r(t),i.d(t,{VSCodeAIProvider:()=>VSCodeAIProvider});var n=i(1398),a=i(6202),o=i(6184),r=i(8412),s=i(3481),d=i(9135),u=i(9204),p=i(4939),l=e=>{throw TypeError(e)};let m=o.jI;let VSCodeAIProvider=class VSCodeAIProvider{constructor(e,t){this.container=e,this.connection=t,this._disposable=n.Disposable.from(this._onDidChange,n.lm.onDidChangeChatModels(()=>this._onDidChange.fire()))}id=m.id;_name;get name(){return this._name??m.name}_onDidChange=new n.EventEmitter;get onDidChange(){return this._onDidChange.event}_disposable;dispose(){this._disposable.dispose()}async configured(e){return 0!==(await this.getModels()).length}getApiKey(e){return Promise.resolve("<not applicable>")}async getModels(){return(await n.lm.selectChatModels()).map(c)}async getChatModel(e){let t=await n.lm.selectChatModels(e.selector);return t?.[0]}async sendRequest(e,t,i,o,u){var m,c,h,v,g,k=[];try{let i=((e,t,i)=>{if(null!=t){var n,a;let i,o;"object"!=typeof t&&"function"!=typeof t&&l("Object expected"),void 0===n&&(n=t[i="dispose",(o=Symbol[i])?o:Symbol.for("Symbol."+i)]),"function"!=typeof n&&l("Object not disposable"),a&&(n=function(){try{a.call(this)}catch(e){return Promise.reject(e)}}),e.push([void 0,n,t])}return t})(k,(0,d.bP)(`${(0,s.zu)(this)}.sendRequest`,!1)),m=await this.getChatModel(t);if(null==m)return;let c=0,h=t.maxTokens.input;for(;;)try{let e=(await o(h,c)).map(e=>"assistant"===e.role?n.LanguageModelChatMessage.Assistant(e.content):n.LanguageModelChatMessage.User(e.content)),i=await m.sendRequest(e,{justification:"GitLens leverages Copilot for AI-powered features to improve your workflow and development experience.",modelOptions:{outputTokens:t.maxTokens.output?Math.min(u.modelOptions?.outputTokens??1/0,t.maxTokens.output):u.modelOptions?.outputTokens,temperature:(0,p.dj)(t,t.temperature)}},u.cancellation);if(u.cancellation.isCancellationRequested)throw new r.AL;let s="";for await(let e of i.text){if(u.cancellation.isCancellationRequested)throw new r.AL;s+=e}return{content:s.trim(),model:t,id:(0,a.uR)()}}catch(a){if(a instanceof r.AL)throw s.Vy.error(a,i,`Cancelled request to ${(0,p.u5)(e)}: (${t.provider.name})`),a;let n=a instanceof Error?a.message:String(a);if(a instanceof Error&&"code"in a&&"NoPermissions"===a.code)throw s.Vy.error(a,i,`User denied access to ${t.provider.name}`),new r.V9(r.zK.DeniedByUser,a);if(a instanceof Error&&"cause"in a&&a.cause instanceof Error&&(n+=`
${a.cause.message}`),n.includes("exceeds token limit")){if(++c<=3){let e=[0,.1,.25,.5][c]??.5;h-=Math.min(5e3*c,h*e);continue}throw s.Vy.error(a,i,`Unable to ${(0,p.u5)(e)}: (${t.provider.name})`),new r.V9(r.zK.RequestTooLarge,a)}if(s.Vy.error(a,i,`Unable to ${(0,p.u5)(e)}: (${t.provider.name})`),n.includes("Model is not supported for this request"))throw new r.V9(r.zK.ModelNotSupported,a);throw Error(`Unable to ${(0,p.u5)(e)}: (${t.provider.name}${a.code?`:${a.code}`:""}) ${n}`)}}catch(e){var T=e,x=!0}finally{m=T,c=x,h="function"==typeof SuppressedError?SuppressedError:function(e,t,i,n){return(n=Error(i)).name="SuppressedError",n.error=e,n.suppressed=t,n},v=e=>m=c?new h(e,m,"An error was suppressed during disposal"):(c=!0,e),(g=e=>{for(;e=k.pop();)try{var t=e[1]&&e[1].call(e[2]);if(e[0])return Promise.resolve(t).then(g,e=>(v(e),g()))}catch(e){v(e)}if(c)throw m})()}}};function c(e){return{id:`${e.vendor}:${e.family}`,name:"copilot"===e.vendor?e.name:`${(0,u.ZH)(e.vendor)} ${e.name}`,vendor:e.vendor,selector:{vendor:e.vendor,family:e.family},maxTokens:{input:e.maxInputTokens,output:void 0},provider:{id:m.id,name:(0,u.ZH)(e.vendor)}}}},8342:(e,t,i)=>{i.r(t),i.d(t,{MistralProvider:()=>MistralProvider});var n=i(6184),a=i(8412),o=i(9579);let r=[{id:"mistral-medium-latest",name:"Mistral Medium",maxTokens:{input:131072,output:4096},provider:n.lX},{id:"mistral-medium-2505",name:"Mistral Medium",maxTokens:{input:131072,output:4096},provider:n.lX,hidden:!0},{id:"codestral-latest",name:"Codestral",maxTokens:{input:262144,output:4096},provider:n.lX,default:!0},{id:"codestral-2501",name:"Codestral",maxTokens:{input:262144,output:4096},provider:n.lX,hidden:!0},{id:"mistral-large-latest",name:"Mistral Large",maxTokens:{input:131072,output:4096},provider:n.lX},{id:"mistral-large-2411",name:"Mistral Large",maxTokens:{input:131072,output:4096},provider:n.lX,hidden:!0},{id:"devstral-small-latest",name:"Devstral Small",maxTokens:{input:131072,output:4096},provider:n.lX},{id:"devstral-small-2505",name:"Devstral Small",maxTokens:{input:131072,output:4096},provider:n.lX,hidden:!0},{id:"mistral-small-latest",name:"Mistral Small",maxTokens:{input:131072,output:4096},provider:n.lX},{id:"mistral-small-2503",name:"Mistral Small",maxTokens:{input:131072,output:4096},provider:n.lX,hidden:!0}];let MistralProvider=class MistralProvider extends o.t{id=n.lX.id;name=n.lX.name;descriptor=n.lX;config={keyUrl:"https://console.mistral.ai/api-keys",keyValidator:/^[a-zA-Z0-9]{32}$/};getModels(){return Promise.resolve(r)}getUrl(e){return"https://api.mistral.ai/v1/chat/completions"}fetchCore(e,t,i,n,a){if("max_completion_tokens"in n){let{max_completion_tokens:e,...t}=n;n=e?{max_tokens:e,...t}:t}return super.fetchCore(e,t,i,n,a)}async handleFetchFailure(e,t,i,n,o){if(404!==e.status&&429!==e.status){let t;try{t=await e.json()}catch{}let i=`${t?.type}: ${t?.message?.detail?.map(e=>`${e.msg} (${e.type} @ ${e.loc.join(",")})`).join(", ")}`;if(t?.type==="invalid_request_error"&&i?.includes("prompt is too long")){if(n<2)return{retry:!0,maxInputTokens:o-200*(n||1)};throw new a.V9(a.zK.RequestTooLarge,Error(`(${this.name}) ${e.status}: ${i||e.statusText}`))}throw Error(`(${this.name}) ${e.status}: ${i||e.statusText}`)}return super.handleFetchFailure(e,t,i,n,o)}}},8358:(e,t,i)=>{i.r(t),i.d(t,{OpenAICompatibleProvider:()=>OpenAICompatibleProvider});var n=i(1398),a=i(6184),o=i(6402),r=i(9635),s=i(9579),d=i(4939);let u=(0,r.R)(a.PX);let OpenAICompatibleProvider=class OpenAICompatibleProvider extends s.t{id=a.PX.id;name=a.PX.name;descriptor=a.PX;config={keyUrl:void 0,keyValidator:/(?:sk-)?[a-zA-Z0-9]{32,}/};getModels(){return Promise.resolve(u)}getUrl(e){return(0,d.E9)(this.id,o.H.get("ai.openaicompatible.url"))}async getOrPromptBaseUrl(e,t){let i=(0,d.LF)(this.id);if(!i.enabled)return;if(i.url)return i.url;let a=this.getUrl();if(e||null!=a&&t)return a;let r=n.window.createInputBox();r.ignoreFocusOut=!0,a&&(r.value=a);let s=[];try{a=await new Promise(e=>{s.push(r.onDidHide(()=>e(void 0)),r.onDidChangeValue(e=>{if(e)try{new URL(e)}catch{r.validationMessage="Please enter a valid URL";return}r.validationMessage=void 0}),r.onDidAccept(()=>{let t=r.value.trim();if(!t){r.validationMessage="Please enter a valid URL";return}try{new URL(t)}catch{r.validationMessage="Please enter a valid URL";return}if((0,d.Px)(t)){r.validationMessage="Please use the Azure OpenAI provider instead for Azure URLS";return}e(t)})),r.title="Connect to OpenAI-Compatible Provider",r.placeholder="Please enter your provider's URL to use this feature",r.prompt="Enter your OpenAI-Compatible Provider URL",r.show()})}finally{r.dispose(),s.forEach(e=>void e.dispose())}return a&&o.H.updateEffective("ai.openaicompatible.url",a),a}async configured(e){let t=await super.configured(!0),i=await this.getOrPromptBaseUrl(e,t);return!(!i||(0,d.Px)(i))&&(e?t:super.configured(e))}}},8487:(e,t,i)=>{i.r(t),i.d(t,{OpenRouterProvider:()=>OpenRouterProvider});var n=i(6096),a=i(6184),o=i(8412),r=i(9579);let OpenRouterProvider=class OpenRouterProvider extends r.t{id=a.a.id;name=a.a.name;descriptor=a.a;config={keyUrl:"https://openrouter.ai/keys",keyValidator:/(?:sk-)?\w{24,128}/};async getModels(){let e;try{e=await this.getApiKey(!0)}catch(e){if((0,o.MB)(e))return[];throw e}if(!e)return[];let t="https://openrouter.ai/api/v1/models",i=await (0,n.hd)(t,{headers:this.getHeadersCore(e)});if(!i.ok)throw Error(`Getting models (${t}) failed: ${i.status} (${i.statusText})`);return(await i.json()).data.map(e=>({id:e.id,name:e.name,maxTokens:{input:e.context_length,output:e.top_provider?.max_completion_tokens??Math.floor(e.context_length/2)},provider:a.a,temperature:null}))}getUrl(e){return"https://openrouter.ai/api/v1/chat/completions"}getHeaders(e,t,i,n){return this.getHeadersCore(t)}getHeadersCore(e){return{Accept:"application/json","Content-Type":"application/json","HTTP-Referer":"https://gitkraken.com/","X-Title":"GitKraken",Authorization:`Bearer ${e}`}}}},8676:(e,t,i)=>{i.r(t),i.d(t,{XAIProvider:()=>XAIProvider});var n=i(6184),a=i(9579);let o=[{id:"grok-beta",name:"Grok Beta",maxTokens:{input:131072,output:4096},provider:n.zJ,default:!0}];let XAIProvider=class XAIProvider extends a.t{id=n.zJ.id;name=n.zJ.name;descriptor=n.zJ;config={keyUrl:"https://console.x.ai/",keyValidator:/(?:xai-)?[a-zA-Z0-9]{32,}/};getModels(){return Promise.resolve(o)}getUrl(e){return"https://api.x.ai/v1/chat/completions"}}},9635:(e,t,i)=>{i.d(t,{R:()=>n});let n=e=>[{id:"gpt-5.1",name:"GPT-5.1",maxTokens:{input:4e5,output:128e3},provider:e},{id:"gpt-5.1-2025-11-13",name:"GPT-5.1 (2025-11-13)",maxTokens:{input:4e5,output:128e3},provider:e,hidden:!0},{id:"gpt-5",name:"GPT-5",maxTokens:{input:4e5,output:128e3},provider:e},{id:"gpt-5-2025-08-07",name:"GPT-5 (2025-08-07)",maxTokens:{input:4e5,output:128e3},provider:e,hidden:!0},{id:"gpt-5-mini",name:"GPT-5 mini",maxTokens:{input:4e5,output:128e3},provider:e,default:!0},{id:"gpt-5-mini-2025-08-07",name:"GPT-5 mini (2025-08-07)",maxTokens:{input:4e5,output:128e3},provider:e,hidden:!0},{id:"gpt-5-nano",name:"GPT-5 nano",maxTokens:{input:4e5,output:128e3},provider:e},{id:"gpt-5-nano-2025-08-07",name:"GPT-5 nano (2025-08-07)",maxTokens:{input:4e5,output:128e3},provider:e,hidden:!0},{id:"gpt-5-pro",name:"GPT-5 Pro",maxTokens:{input:4e5,output:272e3},provider:e,hidden:!0},{id:"gpt-5-pro-2025-10-06",name:"GPT-5 Pro (2025-10-06)",maxTokens:{input:4e5,output:272e3},provider:e,hidden:!0},{id:"gpt-4.1",name:"GPT-4.1",maxTokens:{input:1047576,output:32768},provider:e},{id:"gpt-4.1-2025-04-14",name:"GPT-4.1 (2025-04-14)",maxTokens:{input:1047576,output:32768},provider:e,hidden:!0},{id:"gpt-4.1-mini",name:"GPT-4.1 mini",maxTokens:{input:1047576,output:32768},provider:e,hidden:!0},{id:"gpt-4.1-mini-2025-04-14",name:"GPT-4.1 mini (2025-04-14)",maxTokens:{input:1047576,output:32768},provider:e,hidden:!0},{id:"gpt-4.1-nano",name:"GPT-4.1 nano",maxTokens:{input:1047576,output:32768},provider:e,hidden:!0},{id:"gpt-4.1-nano-2025-04-14",name:"GPT-4.1 nano (2025-04-14)",maxTokens:{input:1047576,output:32768},provider:e,hidden:!0},{id:"o4-mini",name:"o4 mini",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null},{id:"o4-mini-2025-04-16",name:"o4 mini (2025-04-16)",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null,hidden:!0},{id:"o3-deep-research",name:"o3 Deep Research",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null,hidden:!0},{id:"o3-deep-research-2025-06-26",name:"o3 Deep Research (2025-06-26)",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null,hidden:!0},{id:"o3",name:"o3",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null},{id:"o3-2025-04-16",name:"o3 (2025-04-16)",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null,hidden:!0},{id:"o3-pro",name:"o3 Pro",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null},{id:"o3-mini",name:"o3 mini",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null},{id:"o3-mini-2025-01-31",name:"o3 mini (2025-01-31)",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null,hidden:!0},{id:"o1",name:"o1",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null,hidden:!0},{id:"o1-2024-12-17",name:"o1 (2024-12-17)",maxTokens:{input:2e5,output:1e5},provider:e,temperature:null,hidden:!0},{id:"o1-preview",name:"o1 preview",maxTokens:{input:128e3,output:32768},provider:e,temperature:null,hidden:!0},{id:"o1-preview-2024-09-12",name:"o1 preview (2024-09-12)",maxTokens:{input:128e3,output:32768},provider:e,temperature:null,hidden:!0},{id:"o1-mini",name:"o1 mini",maxTokens:{input:128e3,output:65536},provider:e,temperature:null,hidden:!0},{id:"o1-mini-2024-09-12",name:"o1 mini (2024-09-12)",maxTokens:{input:128e3,output:65536},provider:e,temperature:null,hidden:!0},{id:"gpt-4o",name:"GPT-4o",maxTokens:{input:128e3,output:16384},provider:e},{id:"gpt-4o-2024-11-20",name:"GPT-4o (2024-11-20)",maxTokens:{input:128e3,output:16384},provider:e,hidden:!0},{id:"gpt-4o-2024-08-06",name:"GPT-4o (2024-08-06)",maxTokens:{input:128e3,output:16384},provider:e,hidden:!0},{id:"gpt-4o-2024-05-13",name:"GPT-4o (2024-05-13)",maxTokens:{input:128e3,output:4096},provider:e,hidden:!0},{id:"chatgpt-4o-latest",name:"GPT-4o",maxTokens:{input:128e3,output:16384},provider:e,hidden:!0},{id:"gpt-4o-mini",name:"GPT-4o mini",maxTokens:{input:128e3,output:16384},provider:e,hidden:!0},{id:"gpt-4o-mini-2024-07-18",name:"GPT-4o mini (2024-07-18)",maxTokens:{input:128e3,output:16384},provider:e,hidden:!0},{id:"gpt-4-turbo",name:"GPT-4 Turbo",maxTokens:{input:128e3,output:4096},provider:e,hidden:!0},{id:"gpt-4-turbo-2024-04-09",name:"GPT-4 Turbo preview (2024-04-09)",maxTokens:{input:128e3,output:4096},provider:e,hidden:!0},{id:"gpt-4-turbo-preview",name:"GPT-4 Turbo preview",maxTokens:{input:128e3,output:4096},provider:e,hidden:!0},{id:"gpt-4-0125-preview",name:"GPT-4 0125 preview",maxTokens:{input:128e3,output:4096},provider:e,hidden:!0},{id:"gpt-4-1106-preview",name:"GPT-4 1106 preview",maxTokens:{input:128e3,output:4096},provider:e,hidden:!0},{id:"gpt-4",name:"GPT-4",maxTokens:{input:8192,output:4096},provider:e,hidden:!0},{id:"gpt-4-0613",name:"GPT-4 0613",maxTokens:{input:8192,output:4096},provider:e,hidden:!0},{id:"gpt-4-32k",name:"GPT-4 32k",maxTokens:{input:32768,output:4096},provider:e,hidden:!0},{id:"gpt-4-32k-0613",name:"GPT-4 32k 0613",maxTokens:{input:32768,output:4096},provider:e,hidden:!0},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",maxTokens:{input:16385,output:4096},provider:e,hidden:!0},{id:"gpt-3.5-turbo-0125",name:"GPT-3.5 Turbo 0125",maxTokens:{input:16385,output:4096},provider:e,hidden:!0},{id:"gpt-3.5-turbo-1106",name:"GPT-3.5 Turbo 1106",maxTokens:{input:16385,output:4096},provider:e,hidden:!0},{id:"gpt-3.5-turbo-16k",name:"GPT-3.5 Turbo 16k",maxTokens:{input:16385,output:4096},provider:e,hidden:!0}]}};